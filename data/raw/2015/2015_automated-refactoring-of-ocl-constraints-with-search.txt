Automated Refactoring of OCL Constraints with Search 
Extended Abstract 
 
Hong Lu  
Simula Research Laboratory  
P.O. Box 134, 1325 Lysaker  
Norway  
honglu@simula.no  Shuai Wang  
Simula Research Laboratory  
P.O. Box 134, 1325 Lysaker  
Norway  
shuai@simula.no  Tao Yue  
Simula Research Laboratory, 
University of Oslo  
P.O. Box 134, 1325 Lysaker  
Norway  
tao@simula.no 
 
 
Shaukat Ali 
Simula Research Laboratory  
P.O. Box 134, 1325 Lysaker  
Norway  
shaukat@simula.no  Jan F. Nygård 
Cancer Registry of Norway, Norway 
Ullernchausseen 64, 0379 Oslo 
Norway 
Jan.Nygard@kreftregisteret.no 
 
 
 
 
ABSTRACT1 
Object Constraint Language (OCL) constraints are typically used 
for providing precise semantics to models developed with the Unified Modeling Language (UML). When OCL constraints evolve in a regular basis, it is essential that they are easy to understand and maintain. For inst ance, in cancer registries, to 
ensure the quality of cancer data, more than one thousand medical rules are defined and evolve regularly. Such rules can be specified with OCL. It is, therefore, important to ensure the understandability and maintainability of medical rules specified with OCL. 
To tackle such a challenge, we propose an automated search-
based OCL constraint refactoring approach (SBORA) by defining 
and applying three OCL quality metrics ( Complexity , Coupling,  
and Cohesion ) and four semantics-preserving refactoring 
operators (i.e., Context Change , Swap , Split and Merge ) which are 
encoded as potential solutions for search algorithms. A solution 
is therefore an optimal sequence of refactoring operators, which are sequentially applied to the original set of OCL constraints to automatically obtain a semantically equivalent set of OCL 
                                                                    
1The full version of the paper is published in IEEE Transaction on Software 
Engineering (TSE), on 17 November 2017 and can be accessed via the link: 
http://ieeexplore.ieee.org/document/8114267/ . 
 
Permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or 
distributed for profit or commercial advantage and that copies bear this notice and 
the full citation on the first page. Copyrights for third-party components of this work must be honored. For all other uses, contact the Owner/Author.   
ICSE '18, May 27-June 3, 2018, Gothenburg, Sweden  
© 2018 Copyright is held by the owner/author(s).  ACM ISBN 978-1-4503-5638-1/18/05.  https://doi.org/10.1145/3180155.3182546  constraints with better understand ability and maintainability in 
terms of Complexity , Coupling,  and Cohesion . 
We evaluate SBORA along w ith six commonly used multi-
objective search algorithms (e.g., Indicator-Based Evolutionary Algorithm (IBEA)) by employing four case studies from different domains: healthcare (i.e., cancer re gistry system from Cancer 
Registry of Norway (CRN)), Oil&Gas (i.e., subsea production systems), warehouse (i.e., handling systems), and an open source case study named SEPA. Results show: 1) IBEA achieves the best performance among all the search algorithms and 2) the refactoring approach along with IBEA can manage to reduce on average 29.25% Complexity  and 39% Coupling  and improve 
47.75% Cohesion , as compared to the original OCL constraint set 
from CRN. To further test the performance of SBORA, we also 
applied it to refactor an OCL constraint set specified on the UML 2.3 metamodel and we obtained encouraging results. Furthermore, we conducted a controlled experiment with 96 subjects and results show that the understandability and maintainability of the original constraint set can be improved significantly from the perspectives of the 96 participants of the controlled experiment. 
 
12432018 ACM/IEEE 40th International Conference on Software Engineering
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 11:58:36 UTC from IEEE Xplore.  Restrictions apply. 