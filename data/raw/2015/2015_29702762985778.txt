Program Generation for Performance
Markus Püschel
Department of Computer Science
ETH Zurich, Switzerland
pueschel@inf.ethz.ch
ABSTRACT
It has become extraordinarily difficult to write software that
performs  close  to  optimally  on  complex  modern
microarchitectures. Particularly plagued are domains that require
complex  mathematical  computations  such  as  multimedia
processing,  communication,  control,  graphics,  and  machine
learning. In these domains, performance-critical components are
usually written in C (with possible extensions) and often even in
assembly,  carefully  "tuned"  to  the  platform's  architecture  and
microarchitecture. The result is usually long, rather unreadable
code that needs to be re-written or re-tuned with every platform
upgrade. On the other hand, the performance penalty for relying
on  straightforward,  non-tuned,  "more  elegant"  implementations
can be often a factor of 10, 100, or even more.
The overall problem is one of productivity, maintainability,
and  quality  (namely  performance),  i.e.,  software  engineering.
However,  even  though  a  large  set  of  sophisticated  software
engineering theory and tools exist,  it appears that to date this
community has not focused much on mathematical computations
nor performance in the detailed,  close-to-optimal sense above.
The reason for the latter may be that performance, unlike various
aspects of correctness, is not syntactic in nature (and in reality is
often even unpredictable and, well, messy).
The  aim  of  this  talk  is  to  draw  attention  to  the
performance/productivity problem for mathematical applications
and to make the case for a more interdisciplinary attack. As a set
of thoughts in this direction we offer some of the lessons we have
learned  in  the  last  decade  in  our  own  research  on  Spiral
(www.spiral.net), a program generation framework for numerical
kernels. Key techniques used in Spiral include staged declarative
domain-specific languages to express algorithm knowledge and
algorithm transformations, the use of platform-cognizant rewriting
systems for parallelism and locality optimizations, and the use ofsearch  and  machine  learning  techniques  to  navigate  possible
spaces  of  choices.  Experimental  results  show  that  the
codegenerated  by  Spiral  competes  with,  and  sometimes
outperforms, the best available human-written code. Spiral has
been used to generate part of Intel's commercial libraries IPP and
MKL.
CCS Concepts
•  Mathematics  of  computing ➝Mathematical  software
performance;  •  Software  and  its  engineering ➝Source  code
generation;  •  Software and its engineering ➝Domain specific
languages;
Keywords
Program  generation;  automatic  programming;  parallelization;
vectorization;  rewriting  systems;  Fourier  transform;  matrix
algebra
BIOGRAPHY
Markus  Püschel  is  a  Professor  and  currently  Department
Head of Computer Science at ETH Zurich, Switzerland. Before,
he was a Professor of Electrical and Computer Engineering at
Carnegie Mellon University, where he still has an adjunct status.
He  received  his  Diploma  (M.Sc.)  in  Mathematics  and  his
Doctorate  (Ph.D.)  in  Computer  Science,  in  1995  and  1998,
respectively, both  from the  University  of Karlsruhe,  Germany.
Together with his collaborators, he co-founded SpiralGen in 2009.
One of his main research interests is the automatic generation of
highest performance code for mathematical functionality using an
approach  and  ideas  developed  in  Spiral  (www.spiral.net).  For
more information please visit http://people.inf.ethz.ch/markusp/.
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full citation
on the ﬁrst page. Copyrights for third-party components of this work must be honored.
For all other uses, contact the Owner/Author.
Copyright is held by the owner/author(s).
ASE’16 , September 3–7, 2016, Singapore, Singapore
ACM. 978-1-4503-3845-5/16/09...$15.00
http://dx.doi.org/10.1145/2970276.2985778
1
