Augmenting and Structuring User Queries to Support Efficient
Free-Form Code Search
Raphael Sirres1, Tegawendé F. Bissyandé2, Dongsun Kim2
David Lo3Jacques Klein2, Kisub Kim2, Yves Le Traon2
1National Library of Luxembourg - Luxembourg
2SnT, University of Luxembourg - Luxembourg
3Singapore Management University - Singapore
ABSTRACT
Motivation: Codesearchisanimportantactivityinsoftwarede-
velopment since developers are regularly searching [ 6] for code
examplesdealingwithdiverseprogrammingconcepts,APIs,and
specificplatformpeculiarities.Tohelpdeveloperssearchforsource
code, several Internet-scale code search engines, such as Open-
Hub [5] and Codota [ 1] have been proposed. Unfortunately, these
Internet-scale code search engines have limited performance since
they treat source code as natural language documents. To improve
theperformanceofsearchengines,theconstructionofthesearch
space index as well as the mapping process of querying must ad-
dress the challenge that “no single word can be chosen to describe
a programming concept in the best way” [ 2]. This is known in the
literature as the vocabulary mismatch problem [3].
Approach: We propose a novel approach to augmenting user
queries in a free-form code search scenario. This approach aims at
improving the quality of code examples returned by Internet-scale
code search engines by building a C Ode voC ABUlary (CoCaBu) [ 7].
The originality of CoCaBu is that it addresses the vocabulary mis-
match problem, byexpanding/enriching/re-targeting a user’s free-
form query, building on similar questions in Q&A sites so that a
code search engine can find highly relevant code in source code
repositories. Figure 1 provides an overview of our approach.
Search 
Query
Search 
ProxyRelevant 
Posts
Code Query 
GeneratorSnippet 
Index
Augmented 
QueryCode 
Index
Code Search 
Engine
(a) (b) (c)Search 
Results
Figure 1: Overview of CoCaBu .
Thesearchprocessbeginswithafree-formqueryfromauser,
i.e., a sentence written in a natural language:
(a)For a given query, CoCaBu first searches for relevant posts
in Q&A forums. The role of the Search Proxy is then to for-
warddeveloper free-formqueriestoweb searchenginesthat
can collect and rank entries in Q&A with the most relevant
documents for the query.
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored.
For all other uses, contact the owner/author(s).
ICSE ’18, May 27-June 3, 2018, Gothenburg, Sweden
© 2018 Copyright held by the owner/author(s).
ACM ISBN 978-1-4503-5638-1/18/05.
https://doi.org/10.1145/3180155.3182513(b)CoCaBu then generates an augmented query based on the
information in the relevant posts. It mainly leverages codesnippets in the previously identified posts. The Code Query
Generator then creates another query which includes not only
the initial user query terms but also program elements. To ac-
celeratethisstepinthesearchprocess,CoCaBubuildsupfront
a snippet index for Q&A posts.
(c)Oncetheaugmentedqueryisconstructed,CoCaBusearches
source files for code locations that match the query terms. For
this step, we crawl a large number of repositories and build
upfront a code index of program elements in the source code.
Contributions:
•CoCaBu approach to the vocabulary mismatch problem:
Weproposeatechniqueforfindingrelevantcodewithfree-
formquerytermsthatdescribeprogrammingtasks,withno
a-priori knowledge on the API keywords to search for.
•GitSearch free-form search engine for GitHub: We in-
stantiate the CoCaBu approach based on indices of Java files
built from GitHuband Q&A posts from Stack Overflow to
find the most relevant code examples for developer queries.
•Empirical user evaluation : Comparison with popular code
searchenginesfurthershowsthatGitSearchismoreeffec-
tiveinreturningacceptablecodesearchresults.Inaddition,
Comparison against web search engines indicates that Git-
Searchisacompetitivealternative.Finally,viaalivestudy,
we show that users on Q&A sites may find GitSearch’s real
code examples acceptable as answers to developer questions.
Concluding remarks: Asafollow-upwork,wehavealsolever-
aged Stack Overflow datatobuildapractical,novel,andefficient
code-to-code search engine [4].
REFERENCES
[1] Codota. 2016. http://www.codota.com. (Mar. 2016). last accessed 12.03.2016.
[2]G.W.Furnas,T.K.Landauer,L.M.Gomez,andS.T.Dumais.1987.TheVocabularyProbleminHuman-systemCommunication. Communications of the ACM (CACM)
30, 11 (Nov. 1987), 964–971.
[3]SoniaHaiduc,GabrieleBavota,AndrianMarcus,RoccoOliveto,AndreaDeLucia,
and Tim Menzies. 2013. Automatic Query Reformulations for Text Retrieval
inSoftwareEngineering.In Proceedings of the 35th International Conference on
Software Engineering (ICSE) . 842–851.
[4]Kisub Kim, Dongsun Kim, Tegawende F. Bissyande, Eunjong Choi, Li Li, Jacques
Klein, and Yves Le Traon. 2018. FaCoY – A Code-to-Code Search Engine. In
Proceedings of the 40th International Conference on Software Engineering (ICSE) .
[5] OpenHub. 2016. http://code.openhub.net. (Mar. 2016). last accessed 12.03.2016.[6]
Caitlin Sadowski, Kathryn T. Stolee, and Sebastian Elbaum. 2015. How Develop-
ers Search for Code: A Case Study. In Proceedings of the 10th Joint Meeting on
Foundations of Software Engineering (FSE) . 191–201.
[7]Raphael Sirres, Tegawende F. Bissyande, Dongsun Kim, David Lo, Jacques Klein,
KisubKim,andYvesLeTraon.2018. Augmentingandstructuringuserqueries
to supportefficient free-formcode search. Empirical Software Engineering (Jan.
2018).
9452018 ACM/IEEE 40th International Conference on Software Engineering
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 11:38:44 UTC from IEEE Xplore.  Restrictions apply. 