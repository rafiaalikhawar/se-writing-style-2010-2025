The Scent of a Smell: An Extensive Comparison between Textual
and Structural Smells
Fabio Palomba1, Annibale Panichella2, Andy Zaidman2, Rocco Oliveto3, Andrea De Lucia4
1University of Zurich, Switzerland –2Delft University of Technology, The Netherlands
3University of Molise, Italy –4University of Salerno, Italy
palomba@ifi.uzh.ch,a.panichella@tudelft.nl,a.e.zaidman@tudelft.nl
rocco.oliveto@unimol.it,adelucia@unisa.it
ABSTRACT
Code smells, i.e., symptoms of poor design and implementation
choices applied by programmers during the development of a soft-
ware project [ 2], represent an important factor contributing to
technical debt [ 3]. The research community spent a lot of effort
studyingtheextenttowhichcodesmellstendtoremaininasoft-
wareprojectforlongperiodsoftime[ 9],aswellastheirnegative
impact on non-functional properties of source code [ 4,7]. As a
consequence, several tools and techniques have been proposed to
help developersin detecting code smells and tosuggest refactoring
opportunities (e.g., [5, 6, 8]).
So far, almost all detectors identify code smells using structural
propertiesofsourcecode.However,recentstudieshaveindicated
that code smells detected by existing tools are generally ignored
(andthusnotrefactored)bythedevelopers[ 1].Apossiblereason
is that developers do not perceive the code smells identified by
thetoolasactualdesignproblemsor,iftheydo,theyarenotable
to practically work on such code smells. In other words, there is
misalignmentbetweenwhatisconsideredsmellybythetooland
what is actually refactorable by developers.
In a previous paper [ 6], we introduced a tool named TACO that
uses textual analysis to detect code smells. The results indicated
that textual and structural techniques are complementary: whilesome code smell instances in a software system can be correctly
identified by both TACO and the alternative structural approaches,
other instances can be only detected by one of the two [6].
In this paper, we investigate whether code smells detected us-
ingtextualinformationareasdifficulttoidentifyandrefactorasstructural smells or if they follow a different pattern during soft-
ware evolution. We firstly performed a repository mining study
considering 301 releases and 183,514 commits from 20 open source
projects (i) to verify whether textually and structurally detectedcode smells are treated differently, and (ii) to analyze their like-lihood of being resolved with regards to different types of code
changes, e.g.,refactoring operations.Sinceour quantitativestudy
cannot explain relation and causation between code smell typesand maintenance activities, we perform a qualitative study with
19 industrial developers and 5 software quality experts in order to
understand(i)howcodesmellsidentifiedusingdifferentsources
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored.
For all other uses, contact the owner/author(s).
ICSE ’18, May 27-June 3, 2018, Gothenburg, Sweden
© 2018 Copyright held by the owner/author(s).
ACM ISBN 978-1-4503-5638-1/18/05.
https://doi.org/10.1145/3180155.3182530of information are perceived, and (ii) whether textually or struc-
turallydetectedcodesmellsareeasiertorefactor.Inbothstudies,
wefocusedonfivecodesmelltypes, i.e.,Blob, Feature Envy, Long
Method, Misplaced Class, and Promiscuous Package.
Theresultsofourstudiesindicatethattextuallydetectedcode
smellsareperceivedasharmfulasthestructuralones,eventhough
theydonotexceedanytypicalsoftwaremetrics’value(e.g.,lines
of code in a method). Moreover, design problems in source code
affected by textual-based code smells are easier to identify and
refactor.Asaconsequence,developers’activitiestendtodecrease
theintensityoftextualcodesmells,positivelyimpactingtheirlikeli-
hood of being resolved. Vice versa, structural code smells typically
increaseinintensityovertime,indicatingthatmaintenanceoper-
ationsarenotaimedatremovingorlimitingthem.Indeed,while
developers perceive source codeaffected by structural-based code
smellsasharmful,theyfacemoreproblemsincorrectlyidentifying
theactualdesignproblemsaffectingthesecodecomponentsand/or
the right refactoring operation to apply to remove them.
ACM Reference Format:
Fabio Palomba1, Annibale Panichella2, Andy Zaidman2, Rocco Oliveto3,
Andrea De Lucia4. 2018. The Scent of a Smell: An Extensive Comparison
betweenTextualandStructuralSmells.In ICSE ’18: ICSE ’18: 40th Interna-
tional Conference on Software Engineering , May 27-June 3, 2018, Gothenburg,
Sweden.ACM, New York, NY, USA, 1 page. https://doi.org/10.1145/3180155.
3182530
REFERENCES
[1]G. Bavota, A. De Lucia, M. Di Penta, R. Oliveto, and F. Palomba. An experimental
investigation on the innate relationship between quality and refactoring. Journal
of Systems and Software, 107(9):1–14, Sept. 2015.
[2]M. Fowler. Refactoring: improving the design of existing code. Addison-Wesley,
1999.
[3]P. Kruchten, R. L. Nord, and I. Ozkaya. Technical debt: From metaphor to theory
and practice. IEEE Software, 29(6):18–21, 2012.
[4]F. Palomba, G. Bavota, M. Di Penta, F. Fasano, R. Oliveto, and A. De Lucia. On
the diffuseness and the impact on maintainability of code smells: a large scale
empirical investigation. Empirical Software Engineering, pages 1–34, 2017.
[5]F.Palomba,G.Bavota,M.DiPenta,R.Oliveto,D.Poshyvanyk,andA.DeLucia.
Mining version histories for detecting code smells. IEEE Transactions on Software
Engineering, 41(5):462–489, May 2015.
[6]F. Palomba, A. Panichella, A. De Lucia, R. Oliveto, and A. Zaidman. A textual-
based technique for smell detection. In International Conference on Program
Comprehension, pages 1–10, May 2016.
[7]D.I.K.Sjøberg,A.F.Yamashita,B.C.D.Anda,A.Mockus,andT.Dybå.Quantifying
the effect of code smells on maintenance effort. IEEE Transactions on Software
Engineering, 39(8):1144–1156, 2013.
[8]N. Tsantalis and A. Chatzigeorgiou. Identification of move method refactoring
opportunities. IEEE Transactions on Software Engineering, 35(3):347–367, 2009.
[9]M. Tufano, F. Palomba, G. Bavota, R. Oliveto, M. Di Penta, A. De Lucia, and
D.Poshyvanyk. Whenandwhyyourcodestartstosmellbad(andwhetherthe
smells go away). IEEE Transactions on Software Engineering, 43(11):1063–1088,
2017.
7402018 ACM/IEEE 40th International Conference on Software Engineering
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 11:37:39 UTC from IEEE Xplore.  Restrictions apply. 