Overfitting in Semantics-based Automated Program Repair
Xuan-Bach D. Le
Singapore Management University
dxb.le.2013@phdis.smu.edu.sgFerdian Thung
Singapore Management University
ferdiant.2013@phdis.smu.edu.sg
David Lo
Singapore Management University
davidlo@smu.edu.sgClaire Le Goues
Carnegie Mellon University
clegoues@cs.cmu.edu
ABSTRACT
ExistingAPRtechniquescanbegenerallydividedintotwofamilies:
semantics-vs.heuristics-based.Semantics-basedAPRusessymbolic
execution and test suites to extract semantic constraints, and uses
programsynthesistosynthesizerepairsthatsatisfytheextracted
constraints. Heuristic-based APR generates large populations of
repaircandidatesviasourcemanipulation,andsearchesforthebest
amongthem.Bothfamilieslargelyrelyonaprimaryassumption
thataprogramiscorrectlypatchedifthegeneratedpatchleadsthe
programtopassallprovidedtestcases.Patchcorrectnessisthus
anespeciallypressingconcern.Arepairtechniquemaygenerate
overfittingpatches,whichleadaprogramtopassallexistingtest
cases,but failsto generalizebeyond them.In thiswork,we revisit
the overfitting problem with a focus on semantics-based APR tech-
niques, complementing previous studies of the overfitting problem
in heuristics-based APR. We perform our study using IntroClass
and Codeflaws benchmarks, two datasets well-suited for assessing
repair quality, to systematically characterize and understand the
nature ofoverfitting in semantics-basedAPR. Wefind that similar
to heuristics-based APR, overfitting also occurs in semantics-based
APR in various different ways.
KEYWORDS
AutomatedProgramRepair,ProgramSynthesis,SymbolicExecu-
tion, Patch Overfitting
ACM Reference Format:
Xuan-Bach D. Le, Ferdian Thung, David Lo, and Claire Le Goues. 2018.
Overfitting in Semantics-based Automated Program Repair. In ICSE ’18:
ICSE ’18: 40th International Conference on Software Engineering , May 27-
June 3, 2018, Gothenburg, Sweden. ACM, New York, NY, USA, 1 page. https:
//doi.org/10.1145/3180155.3182536
1 INTRODUCTION
In this article, we comprehensively study overfitting in semantics-
based APR. We perform our study on recent state-of-the-art se-manticsbasedAPRtools[
1,2,4].Weevaluatethetechniqueson
a subsetof theIntroClass [ 3] andCodeflaws benchmarks[ 5], two
datasets well-suited for assessing repair quality in APR research.
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored.
For all other uses, contact the owner/author(s).
ICSE ’18, May 27-June 3, 2018, Gothenburg, Sweden
© 2018 Copyright held by the owner/author(s).
ACM ISBN 978-1-4503-5638-1/18/05.
https://doi.org/10.1145/3180155.3182536Both consist of many small defective programs, each of which is
associatedwithtwoindependenttestsuites.Onetestsuitecanbe
used to guide the repair, and the other is used to assess the degree
towhichtheproducedrepairgeneralizes.Thisallowsforcontrolled
experimentation relating various test suite and program properties
to repairability and generated patch question.
Overall,weshowthatoverfittingdoesindeedoccurwithseman-
tics based techniques. We characterize the relationship between
various factors of interest, such as test suite coverage and prove-
nance,andresultingpatchquality.Weobservecertainrelationships
that appear consistent with results observed for heuristic tech-
niques,aswellasresultsthatstandcountertothoseachievedon
them.Theseresultscomplementtheexistingliteratureonoverfit-
ting in heuristic APR, completing the picture on overfitting in APR
ingeneral.Thisisespeciallyimportanttohelpfutureresearchers
of semantics-based APRto overcome thelimitations oftest suite
guidance.Weargueespecially(withevidence)thatsemantics-based
programrepairshouldseekstrongeroralternativeprogramsyn-
thesis techniques to help mitigate overfitting.
Our contributions are as follows:
(1)The first study to show that semantics-based APR can produce
patches that overfit.
(2)Wefindthat,insomecases,resultsareinterestinglyinconsistent
with that of heuristic approaches.
(3)We substantiate that using multiple synthesis engines could be
onepossibleapproachtohelpsemantics-basedAPRgenerate
correct patches for a larger number of bugs.
(4)We present implications and observations for how to improve
semantics APR. For example, one possible improvement is to
generatemanypatchesandrankthembasedonpotentiallikely-
hood of correctness.
REFERENCES
[1]Xuan-BachD.Le,Duc-HiepChu,DavidLo,ClaireLeGoues,andWillemVisser.
2017. JFIX: semantics-based repair of Java programs via symbolic PathFinder. In
ISSTA. 376–379.
[2]Xuan-Bach D. Le, David Lo, and Claire Le Goues. 2016. Empirical Study on
Synthesis Engines for Semantics-Based Program Repair. In ICSME. 423–427.
[3]ClaireLeGoues,NealHoltschulte,EdwardK.Smith,YuriyBrun,PremkumarT.
Devanbu, Stephanie Forrest, and Westley Weimer. 2015. The ManyBugs and
IntroClassBenchmarksforAutomatedRepairofCPrograms. IEEE Trans. Software
Eng.(2015), 1236–1256.
[4]Sergey Mechtaev, Jooyong Yi, and Abhik Roychoudhury. 2016. Angelix: scalable
multiline program patch synthesis via symbolic analysis. In ICSE. 691–701.
[5]Shin Hwei Tan, Jooyong Yi, Yulis, Sergey Mechtaev, and Abhik Roychoudhury.
2017.Codeflaws:aprogrammingcompetitionbenchmarkforevaluatingautomated
program repair tools. In ICSE. 180–182.
1632018 ACM/IEEE 40th International Conference on Software Engineering
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 10:50:08 UTC from IEEE Xplore.  Restrictions apply. 