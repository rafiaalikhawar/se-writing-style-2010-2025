Do Automated Program Repair Techniques
Repair Hard and Important Bugs?
Manish Motwani Sandhya Sankaranarayanan René Just Yuriy Brun
University of Massachusetts, Amherst
{mmotwani, ssankar, rjust, brun}@cs.umass.edu
The full version of this article [ 8] can be found at http://dx.doi.org/
10.1007/s10664-017-9550-0.
ACM Reference Format:
ManishMotwani SandhyaSankaranarayanan RenéJust Yuriy
Brun. 2018. Do Automated Program Repair Techniques Repair Hard and
Important Bugs?. In ICSE ’18: 40th International Conference on Software
Engineering , May 27–June 3, 2018, Gothenburg, Sweden. ACM, New York,
NY, USA, 1 page. https://doi.org/10.1145/3180155.3182533
Automated program repair techniques use a buggy program and a
partial specification (typically a test suite) to produce a program
variantthatsatisfiesthespecification. Whilepriorworkhasstud-
iedpatch quality[ 10,11]and maintainability[ 2],it hasnotexam-
ined whether automated repair techniques are capable of repairing
defects that developers consider important or that are hard for
developers to repair manually. This paper tackles those questions.
Our study considers nine automated repair techniques for C
andJava: AE[ 12],GenProg[ 13],aJavareimplementationofGen-
Prog[7],Kali[10],aJavareimplementationofKali[ 7],Nopol[ 1],
Prophet [6], SPR [5], and TrpAutoRepair [9].
Weanalyzepopularbugtrackingsystemsandsourcecoderepos-
itoriestoidentifyparametersrelevanttodefectimportance,inde-
pendence,andcomplexity,andtesteffectiveness. Wecomputethese
parametersfortwobenchmarksofdefectsoftenusedforautomated
program repair, ManyBugs [ 4] (185 C defects) and Defects4J [ 3]
(357Javadefects). Wefurtheranalyzedeveloper-writtenpatches
for these defects to identify characteristics of those patches that
may influence automated repair.
Our study answers the following questions: Is a repair tech-
nique’s ability to produce a patch for a defect correlated with that
defect’s(RQ1)importance,(RQ2)complexity,(RQ3)effectivenessof
thetestsuite,or(RQ4)dependenceonotherdefects? (RQ5)What
characteristics of thedeveloper-written patch are significantly as-
sociated with a repair technique’s ability to produce a patch? And,
(RQ6) what defect characteristics are significantly associated with
a repair technique’s ability to produce a high-quality patch?
We find that (RQ1) Java repair techniques are moderately more
likelytopatchhigher-prioritydefects;forC,thereisnocorrelation.
There is little to no consistent correlation between producing a
patchandthetimetakenbydeveloper(s)tofixthedefect,aswell
asthenumberofsoftwareversionsaffectedbythatdefect. (RQ2)C
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthefirstpage. Copyrightsforthird-partycomponentsofthisworkmustbehonored.
For all other uses, contact the owner/author(s).
ICSE ’18, May 27–June 3, 2018, Gothenburg, Sweden
© 2018 Copyright held by the owner/author(s).
ACM ISBN 978-1-4503-5638-1/18/05.
https://doi.org/10.1145/3180155.3182533repairtechniquesarelesslikelytopatchdefectsthatrequiredde-
velopers to write more lines of code and edit more files. (RQ3) Java
repair techniques are less likely to patch defects with more trigger-
ingormorerelevanttests. Testsuitestatementcoveragehaslittle
to no consistent correlation with producing a patch. (RQ4) Java
repair techniques’ ability to patch a defect does not correlate with
thatdefect’sdependence onotherdefects. (RQ5)Repairtechniques
struggle to produce patches for defects that required developers to
insertloopsornewfunctioncalls,orchangemethodsignatures. Fi-
nally, (RQ6) Only two of the considered repair techniques, Prophet
and SPR, produce a sufficient number of high-quality patches to
evaluate. These techniques were less likely to patch more complex
defects, and they were even less likely to patch them correctly.
The main contributions of this paper are:
•Thepublicly-releasedannotationof409defectsinManyBugsand
Defects4J,tobeusedforevaluatingautomatedrepairapplicability.
•A methodology for evaluating the applicability of repair tech-
niques, with the goal of encouraging researchto focus on impor-
tant and hard defects.
•The evaluation of nine automated program repair techniques’
applicability to 409 ManyBugs and Defects4J defects.
ACKNOWLEDGMENTS
Thiswork issupported bythe NationalScience Foundationunder
grants CCF-1453474 and CCF-1564162.
REFERENCES
[1]F. DeMarco, J. Xuan, D. L. Berre, and M. Monperrus. Automatic repair of buggy
if conditions and missing preconditions with SMT. In CSTVA, pages 30–39, 2014.
[2]Z.P.Fry,B.Landau,andW.Weimer. Ahumanstudyofpatchmaintainability. In
ISSTA, pages 177–187, 2012.
[3]R.Just,D.Jalali,andM.D.Ernst. Defects4J:Adatabaseofexistingfaultstoenable
controlled testing studies for Java programs. In ISSTA, pages 437–440, 2014.
[4]C. Le Goues, N. Holtschulte, E. K. Smith, Y. Brun, P. Devanbu, S. Forrest, and
W. Weimer. The manybugs and introclass benchmarks for automated repair of C
programs. IEEE TSE, 41(12):1236–1256, December 2015.
[5]F. Long and M. Rinard. Staged program repair with condition synthesis. In
ESEC/FSE, pages 166–178, 2015.
[6]F. Long and M. Rinard. Automatic patch generation by learning correct code. In
POPL, pages 298–312, 2016.
[7]M. Martinez, T. Durieux, R. Sommerard, J. Xuan, and M. Monperrus. Automatic
repair of real bugs in Java: A large-scale experiment on the Defects4J dataset.
EMSE, 22(4):1936–1964, April 2017.
[8]M. Motwani, S. Sankaranarayanan, R. Just, and Y. Brun. Do automated program
repair techniques repair hard and important bugs? EMSE, 2018.
[9]Y. Qi, X. Mao, and Y. Lei. Efficient automated program repair through fault-
recorded testing prioritization. In ICSM, pages 180–189, Sept. 2013.
[10]Z.Qi,F.Long,S.Achour,andM.Rinard. Ananalysisofpatchplausibilityand
correctness forgenerate-and-validatepatch generation systems. In ISSTA, 2015.
[11]E.K.Smith,E.Barr,C.LeGoues,andY.Brun. Isthecureworsethanthedisease?
Overfitting in automated program repair. In ESEC/FSE, pages 532–543, 2015.
[12]W.Weimer,Z.P.Fry,andS.Forrest. Leveragingprogramequivalenceforadaptive
program repair: Models and first results. In ASE, 2013.
[13]W.Weimer,T.Nguyen,C.LeGoues,andS.Forrest. Automaticallyfindingpatches
using genetic programming. In ICSE, pages 364–374, 2009.
252018 ACM/IEEE 40th International Conference on Software Engineering
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 10:49:35 UTC from IEEE Xplore.  Restrictions apply. 