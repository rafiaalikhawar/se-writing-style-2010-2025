Automatic Mining of Constraints for
Monitoring Systems of Systems
Thomas Krismayer
CDL MEVSS, ISSE, Johannes Kepler University Linz
Austria
thomas.krismayer@jku.at
ABSTRACT
The behavior of complex software-intensive systems of systems of-
ten only fully emerges during operation, when all systems interact
witheachotherandwiththeirenvironment.Runtimemonitoring
approaches are thus used to detect deviations from the expected
behavior,whichiscommonlydefinedbyengineers,e.g.,usingtem-
porallogicordomain-specificlanguages.However,thedeepdomain
knowledge required to specify constraints is often not available
during the development of systems of systems with multiple teams
independentlyworking onheterogeneouscomponents. Inthispa-
per,wethusdescribeourongoingPhDresearchtoautomatically
mineconstraintsforruntimemonitoringfromrecordedevents.Our
approach mines constraints on event occurrence, timing, data, and
combinations of these properties. The approach further presents
the mined constraints to users offering multiple ranking strategies
andcanalsobeusedtosupportusersinsystemevolutionscenarios.
CCS CONCEPTS
•Software and its engineering →Softwareverificationandvali-
dation;Software post-development issues ;
KEYWORDS
Monitoring, constraint mining, systems of systems
ACM Reference Format:
Thomas Krismayer. 2018. Automatic Mining of Constraints for Monitoring
Systems of Systems. In Proceedings of the 2018 33rd ACM/IEEE International
Conference on Automated Software Engineering (ASE ’18), September 3–7,
2018, Montpellier, France. ACM, New York, NY, USA, 4pages.https://doi.
org/10.1145/3238147.3241532
1 INTRODUCTION
Complexsoftware-intensivesystems–suchasautomationsoftware
systems and cyber-physical systems – are often systems of sys-
tems(SoS)[ 12]comprisingheterogeneousarchitecturalelements.
ThebehaviorofanSoSusuallyonlyfullyemergesduringoperation,
whentheinvolvedsystemsinteractwitheachotherandwiththe
environment. Runtime monitoring [ 13] is thus needed to detect
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
on the first page. Copyrights for components of this work owned by others than ACMmustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,orrepublish,topostonserversortoredistributetolists,requirespriorspecificpermissionand/ora
fee. Request permissions from permissions@acm.org.
ASE ’18, September 3–7, 2018, Montpellier, France
© 2018 Association for Computing Machinery.
ACM ISBN 978-1-4503-5937-5/18/09...$15.00
https://doi.org/10.1145/3238147.3241532requirementsdeviations–bycheckingconstraintsonthesystem
behavior, e.g., based on events produced by the monitored SoS.
Typical checks comprise temporal constraints for analyzing the
occurrence, timing and order of events and value constraints to
determine the correctness of monitored data. Existing monitor-ing approaches [
13] usually require manual specification of the
expected behavior by engineers.
However,forindustrialSoS, manuallywritingconstraintsiserror-
prone and tedious due to the systems’ size, complexity, and hetero-
geneity. Further, the continuous and independent evolution of sys-
tems requires to frequently define new and update existing con-
straints.Thesechallengescanbemitigatedbyautomaticallymining
constraints for runtime monitoring. Even if not all important con-
straintscanbeminedautomatically,thefoundconstraintcandidates
can offer an excellent starting point for engineers to define con-
straints.Automaticminingisalsoagoodbasistosupportevolution,
as the mining process can be repeated frequently to find new or
change existing constraints.
ThegoalofthePhDresearchdescribedinthispaperistodevelop
an approach to automatically mine different types of constraint
candidates from event logs [ 7], i.e., recorded streams of monitored
events and event data elements. These event logs are either pro-
ducedbyamonitoringtool(suchasourownReMinds[ 20])orcan
be generated from log files and other system outputs.
The thesis will provide the following contributions : (i) an ap-
proach to automatically mine different types of constraints from
eventlogsrecordedfrommultiplesystemsinanSoS;(ii)ranking
andfilteringofconstraintcandidatesusingdifferentcriteriatoease
their selection by users; (iii) end-user support by presenting the
constraint candidates in an existing DSL [ 14] and supporting their
selection and editing; (iv) support for evolution, e.g., providing
informationonchangesbetweentheconstraintsfortwoversions
of the software.
We use event logs from real-world SoS, such as a plant automa-
tionSoSandacyber-physicalSoScontrollingdronestoevaluateourapproach.Wedemonstratethatourapproachcansuccessfullymine
constraintsforthesesystemsandthatasignificantnumberofthe
minedconstraintsareassessedasusefulbythedevelopersofthe
SoS. We further analyze the usefulness of the constraint candidate
ranking and filtering and assess whether our approach scales to
large real-world event logs.
2 RUNNING EXAMPLE
WeuseaDroneControlSystem(DCS)controllingagroupofun-
mannedaerialvehicles[ 2]asrunningexample.Duringoperation
the system has to ensure that all controlled drones adhere to previ-
ously defined requirements, such as:
924
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:51:02 UTC from IEEE Xplore.  Restrictions apply. ASE ’18, September 3–7, 2018, Montpellier, France Thomas Krismayer
•R1. Drones have to complete the routes they are assigned in
a given amount of time.
•R2.Whileadroneisflyingonaroute,itsaltitudehastobe
within a certain range to prevent it from crashing.
•R3. When a new drone connects to the DCS, it has to be on
the ground – waiting for commands.
Whenanewdroneconnectstothesystem,a handshake event
is sent containing the coordinates. After the handshake a drone
sends stateevents–approximatelyoncepersecond–toreport
its position, speed, attitude, battery status, flight mode, etc. The
DCSthenallowstoassignroutestotheconnecteddrones,which
areprocessedoneaftertheother.Duringtheseflightseachdrone
sends events to the ground station reflecting the progress on theassigned route. The
startRoute andendRoute events represent
the start and end of the execution of a route, a waypoint event
is sent when the drone reaches one of the defined points of the
currentroute.Thedronescontrolled bytheDCSrepresentanSoS
ofindependentsystemsthatcanperformdifferenttasksandhaveto
follow multiple requirements, e.g., depending on the type of drone
or its task. Hence, defining constraints for the DCS can become
very challenging.
3 BACKGROUND AND RELATED WORK
Our approach mines different types of constraints to cover typical
requirements systems have to fulfill at runtime. All constraints are
defined in our existing DSL [ 14] and contain one specific trigger
eventtoinitializetheirevaluation.Aconstraintischeckedwhen-
ever an event of this type is encountered in the stream of events
produced by the monitored system.
Temporalconstraints defineasequenceofeventsthathastooccur
in a given or arbitrary order and (optionally) within a specified
amountoftime.Suchconstraintstypicallydescribeaspecifictaskof
the monitored system that consists of several individual steps. The
firstrequirementformulatedabovecanbeexpressedastemporal
constraint: “ if event startRoute occurs event endRoute occurs
within5 minutes”.
Value constraints specify the valid content of one event data
element – either as one explicit value (e.g., “ state.armable =
true”)orwiththresholds(e.g.,“ waypoint.location.z >= 5m ”).
The second requirement given above can be formulated as value
constraint: “ if event waypoint occursdata(‘location/z’) >= 5m
and data(‘location/z’) <= 30m”.
Hybridconstraints combinethecapabilitiesoftemporalandvalue
constraints to define further restrictions on event sequences. They
include multiple events that have to occur in a given order and/or
time,likeinatemporalconstraint,andadditionallycheckeventdata
elementsofatleastoneoftheseevents,likeinavalueconstraint.
Using this syntax also the third requirement can be expressed as
constraint:“ if eventhandshake occurs event stateoccurs where
state.data(‘status’) = ‘STANDBY’ within2 seconds”.
Research on mining such constraints exists in different commu-
nities such as specification mining, process mining, event-based
systems, and complex event processing.
Specificationmining canbedividedintostaticanddynamicspec-
ification mining. While static specification mining uses the sourcecode of a program to detect invariants, dynamic specification min-
ing uses the output of the program (e.g., log statements) to derive
program specifications. One example application for static specifi-
cationminingisminingthecorrectusageofanAPIfromprograms
using it [15]. Dynamic specification mining can be used to extract
thebehaviorofsoftwareintheformofFSMs[ 4]ortominevalue
constraints that hold at certain points in the program [3].
Process mining [18] is used to automatically generate a model of
an existing process, e.g., in the form of a Petri net, by analyzing
systems,e.g.,relyingon(event)logs.Theprocessesthataremod-
eled are not necessarily software executions, but can come from
very different domains, such as workflow in hospitals or banks.
Alsotheevent-basedsystems communityhasbeenworkingon
analyzingevents/eventsequencestomineinformation.Forexample,
probabilistic models – such as Markov chains – can predict whichevents will occur and when a sequence of events is expected to be
completed [1].
Inthefieldof complexeventprocessing differentapproacheshave
beenintroducedtolearntemporalconstraintsfromeventlogs,e.g.,
by collecting all constraints that are fulfilled for different event se-
quences and extracting those that are fulfilled in all sequences [ 11].
There are only few approaches that can extract both tempo-
ral and value constraints. For instance, the approach by Lo and
Maoz[9]supportsextractingtemporalconstraintsintheformof
scenarios as well as value constraints that are fulfilled during these
scenarios. Lorenzoli et al. [ 10] present an approach to extract ex-
tended finite state machines that define temporal behavior and
additionally contain value constraints for the edges.
Whencomparingtheseworkswithourapproach,manyofthem
rely on similar techniques and ideas. However, we regard the com-
binationoftemporal,value,andhybridconstraintsandtheapplica-
tion for SoS monitoring as specific to our approach.
4 APPROACH
Our approach comprises the five steps displayed in Figure 1:
(0)Creating a uniform event representation. Our approach works
with different input formats of event logs produced by different
systems. In this preparatorystep it creates a uniform representa-tion of events by parsing the input event logs. This can be done
automatically, e.g., by using the technique proposed in [6].
(1)Detecting event sequences. We then split the parsed event log
into multiple event sequences representing reoccurring patterns in
thecompleteeventlog.Ourgoalistodetectindividualsystemruns
or repeating tasks of the system, e.g., a flight maneuver completed
by an individual drone. We identify these patterns by extracting
eventpairs,whereoneeventistypicallyfollowedbytheother(pos-
siblywithothereventsinbetween),andcombiningsuchpairsto
longer patterns. Then we extract all event sequences that fit in one
of these patterns. This step can already yield temporal constraints,
e.g., “ if eventstartRoute occurs event endRoute occurs within
5 minutes”.
(2)Creating feature vectors. For each sequence we create a fea-
ture vector, which comprises all values of the event data elements
contained in this sequence. Additionally, we also create feature
vectors for all individual events in the complete event log. This
step can mine value constraints and hybrid constraints, that check
925
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:51:02 UTC from IEEE Xplore.  Restrictions apply. Automatic Mining of Constraints for Monitoring Systems of Systems ASE ’18, September 3–7, 2018, Montpellier, France
Figure 1: Constraint mining approach.
constant event data element values, e.g., “ if event state occurs
data(‘armable’) = true”.
(3)Analyzing feature vectors. The resulting vectors are then fur-
ther analyzed to detect constraints that hold for the event data ele-
mentvaluesofsequencesorindividualevents.Constraintsfound
inthisstepincludevalueconstraintsandhybridconstraintswith
upper and lower bounds for event data elements, e.g., “ if event
state occursdata(‘speed’)>=0 anddata(‘speed’)<=10”.
(4)Ranking and filtering constraints. Finally, our approach filters
andrankstheminedconstraintstoeasetheselectionofrelevant
constraintsbytheuser.Redundantandhighlysimilarconstraints
are automatically detected and removed. Additionally, the user can
define selection criteria to identify and remove constraints from
the list of candidates, e.g., all constraints matching a specific type.
5 RESEARCH METHOD AND EVALUATION
Ourresearchmethodfollowsexistingguidelinesforexperiments
andempiricalevaluationinsoftwareengineering[ 16,21].Thefirst
stepstowardsconstructingourconstraintminingapproachwereto
manuallyanalyzeeventlogsproducedbyanSoSandtostudywork
from related fields (cf. Section 3). Based on this, we formulated the
following four research questions to guide our work:
RQ1–Howsuccessfulcanourapproachautomaticallymineuseful
constraints by analyzing event logs? To address RQ 1, we apply our
approach to event logs from different systems, mine constraints,and then collect feedback from domain experts asking them to
assesseachconstraint.Weconsideraconstraintuseful,ifdomainexperts think that it can be used to monitor the respective system.
Thenumberofusefulconstraintscomparedtothenumberofnot
useful constraints found by our approach – combined with factors
such as constraint criticality reported by domain experts or known
usefulconstraintsthatwerenotfound–givesanindicationhow
successful our mining approach is.
RQ2–Howcanendusersbesupportedinselectingconstraints?
Our constraint mining approach produces a potentially very large
number of constraint candidates. Ranking and filtering – i.e., toonly present certain constraint candidates and in a particular or-der – can thus support the selection of useful constraints fromthese candidates by the end user. We compare different ranking
algorithms – e.g., sorting constraint candidates based on accuracy
on the input trace, constraint type, and a combination of the for-
mer two – regarding their usefulness when sorting the final list of
constraintcandidates.Specifically,wecomparetheprecision,recall,
andF1scoreatthefirsttenandfirsttwentyentriesoftheranked
lists. Another approach we follow is to ease the selection of useful
constraintsbyendusersviaatoolwearecurrentlydevelopingthat
presents the mined constraints in a graphical user interface and
allows theuser to change theranking and filteringstrategies, and
adapttheminedconstraints.Wewillassesstheusefulnessofthis
tool following existing guidelines [5].
RQ3–Doestheproposedapproachscaletolargeeventlogsrecorded
fromreal-worldsystemsofsystems? Ourconstraintminingapproach
is designed for potentially very large software systems with many
differentsubsystems.AsaresultalsotheeventlogsoftheseSoScan
growtoalargesizeandstillhavetobeprocessedinareasonable
amount of time. We thus test the scalability of our approach bymeasuring the execution time for event logs of different size –starting with 500 events and increasing the size of the subset by
500 additional events in every step (up to the complete event log).
R Q4–H o wu s eful is the proposed approach to support the evo-
lution of systems of systems? In our earlier work we developed a
tool to support evolution in SoS [ 17] that compares and reports
differences in the event streams recorded from two versions of a
softwaresystem.Withourconstraintminingtoolweinsteadcan
compare the constraints mined for two versions of the SoS, which
allows to present differences in a more compact form. We planto conduct a user study, where we present end users with event
streamsfromtwodifferentversionsofanSoSandthedifferencesin
the constraints mined for them and ask them about the usefulness
of this information to help them in (future) system evolutions.
We already evaluated our approach for two real-world systems,
whichareavailabletousaspartofongoingresearchcollaborations.
The first system is the Quality Control System (QCS) developed
by Primetals Technologies that collects and analyses data from
various processes within a steel plant. The second system is the
DCS–acyber-physicalsystemthatcontrols,monitors,andassigns
routes to independent drones [ 2] (cf. Section 2). Domain experts
instrumented these systems to produce event logs, which we then
used as input for our constraint mining approach. For the first
dataset,domainexpertsrecordeda24-houreventlogfromtheQCSrunninginaChinesesteelplant.Theseconddatasetcontainsevents
from five simulated drones testing different scenarios and flight
maneuvers. The resulting datasets are of realistic size and allow us
to evaluate both the usefulness and scalability of our approach.
926
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:51:02 UTC from IEEE Xplore.  Restrictions apply. ASE ’18, September 3–7, 2018, Montpellier, France Thomas Krismayer
Table 1: List of publications.
RQ Content Paper Type Status
1 Mining approach New ideas published [7]
1–3Refined mining approach,
Full research under review Ranking & filtering,
Experiments wrt scalability
2 Tool support for end users Tooldemo planned 2018
4 Support for evolution Full research planned 2019
1–4Mining approach,Journal planned 2019/20Detailed evaluation
4 SoS evolution support* Full research published [17]
1, 2 Visualization support* Tooldemo published [8]
1–4Drone monitoring* (base
for new DCS datasets)Full researchaccepted forpublication [19]
* related with PhD research, but not a core publication
For the QCS 41%and for the DCS 54% of the minedconstraints
were regarded as useful (cf. RQ1) by the domain experts. Also their
qualitative feedback was very positive stating that “important rela-
tions between events are detected” and that the mined constraints
could be used as basis to define further checks.
For the ranking (cf. RQ2) our evaluation showed that using our
combined ranking algorithm already provides reasonably good
resultsforthefirst20entriesofthelistforboththeQCSandthe
DCSdataset(F 1scoresof0.529and0.596,respectively).However,
wehopetoimprovetheseresultswithmoreadvancedtechniques–
such as calculating different evaluation values for the different
constraint types.
The evaluation of the performance (cf. RQ3) of our approach
showed that the mining scales almost linearly with increasing
amount of input data for both datasets. Furthermore, even the
longestaverageruntimeencountered(i.e.,forthecompleteQCS
set)isonlyapproximately3.4sonasystemwithanIntel®Core™i7-
6700 processor and 16 GB RAM.
6 STATUS AND WORK PLAN
So far we have implemented the constraint mining approach de-
scribedinSection 4.Wearecurrentlydevelopingthetooltosupport
thepresentationandselectionofconstraints(plannedtobecom-
pleted this summer), work on improving some parts of the overall
approach (such as the ranking), and develop support for evolu-
tion(comparingconstraintsminedfortwoversionsofsystem;cf.
RQ4; planned to be completed by the end of the year). So far we
conductedanevaluationoftheminingapproachusingtwodatasetsfromtwoSoSprovidingpreliminaryresultsforRQ1,RQ2,andRQ3.
One important part of our future work is continuing the evalua-
tion with additional datasets. This includes new, different datasets
forthetwosystemsthatwealreadyusedforourexperiments–e.g.,newrecordingsusingdifferentversionsofthesoftwareorperform-
ing different scenarios – and, particularly, additional datasets fromcompletely different systems. We also want to evaluate the mining
tool’s usefulness and the developed support for evolution. Table 1
shows what we already published and our planned publications.
The PhD thesis is planned to be submitted by the end of 2019.ACKNOWLEDGMENTS
The financial support by the Austrian Federal Ministry for Digital
and Economic Affairs, the National Foundation for Research, Tech-
nology and Development, and Primetals Technologies is gratefully
acknowledged.
REFERENCES
[1]Elias Alevizos, Alexander Artikis, and George Paliouras. 2017. Event Forecasting
withPatternMarkovChains.In Proc.ofthe11thACMInt’lConf.onDistributed
and Event-based Systems. ACM, 146–157.
[2]Jane Cleland-Huang, Michael Vierhauser, and Sean Bayley. 2018. Dronology: An
Incubator for Cyber-Physical System Research. arXiv preprint arXiv:1804.02423
(2018).
[3]Michael Ernst, Jeff Perkins, Philip Guo, Stephen McCamant, Carlos Pacheco,
Matthew Tschantz, and Chen Xiao. 2007. The Daikon system for dynamic detec-
tion of likely invariants. Science of Computer Programming 69, 1 (2007), 35–45.
[4]Mark Gabel and Zhendong Su. 2008. Javert: Fully Automatic Mining of General
Temporal Properties from Dynamic Traces. In Proc. of the 16th ACM SIGSOFT
Int’l Symp. on Foundations of Software Engineering. ACM, 339–349.
[5]AndreasHolzinger.2005. Usabilityengineeringmethodsforsoftwaredevelopers.
Commun. ACM 48, 1 (2005), 71–74.
[6]ZhenMingJiang,AhmedHassan,GilbertHamann,andParminderFlora.2008.An
automatedapproachforabstractingexecutionlogstoexecutionevents. Journalof
Software Maintenance and Evolution: Research and Practice 20, 4 (2008), 249–267.
[7]ThomasKrismayer,RickRabiser,andPaulGrünbacher.2017. MiningConstraintsforEvent-basedMonitoringinSystemsofSystems.In Proc.ofthe32ndIEEE/ACM
Int’l Conf. on Automated Software Engineering. IEEE, 826–831.
[8]Lisa Kritzinger, Thomas Krismayer, Michael Vierhauser, RickRabiser,and Paul
Grünbacher.2017.VisualizationSupportforRequirementsMonitoringinSystems
of Systems. In Proc. of the 32nd IEEE/ACM Int’l Conf. on Automated Software
Engineering. IEEE, 889–894.
[9]David Lo and Shahar Maoz. 2012. Scenario-based and value-based specification
mining: better together. Automated Software Engineering 19, 4 (2012), 423–458.
[10]Davide Lorenzoli, Leonardo Mariani, and Mauro Pezzè. 2008. Automatic Genera-
tion of Software Behavioral Models. In Proc. of the 30th Int’l Conf. on Software
Engineering. ACM, 501–510.
[11]Alessandro Margara, Gianpaolo Cugola, and Giordano Tamburrelli. 2014. Learn-
ing from the Past: Automated Rule Generation for Complex Event Processing. InProc. of the 8th ACM Int’l Conf. on Distributed Event-Based Systems. ACM, 47–58.
[12]ClausBallegaardNielsen,PeterGormLarsen,JohnFitzgerald,JimWoodcock,and
JanPeleska.2015. SystemsofSystemsEngineering:BasicConcepts,Model-Based
Techniques,andResearchDirections. ACMComput.Surv. 48,2(2015),18:1–18:41.
[13]RickRabiser,SamGuinea,MichaelVierhauser,LucianoBaresi,andPaulGrün-
bacher.2017. AComparisonFrameworkforRuntimeMonitoringApproaches.
Journal of Systems and Software 125, March (2017), 309–321.
[14]Rick Rabiser, Jürgen Thanhofer-Pilisch, Michael Vierhauser, Paul Grünbacher,
andAlexanderEgyed.2018. DevelopingandEvolvingaDSL-BasedApproach
for Runtime Monitoring of Systems of Systems. Automated Software Engineering
(2018), 1–41.
[15]Sharon Shoham, Eran Yahav, Stephen J. Fink, and Marco Pistoia. 2008. Static
Specification Mining Using Automata-Based Abstractions. IEEE Trans. Soft. Eng.
34, 5 (2008), 651–666.
[16]Forrest Shull, Janice Singer, and Dag Sjøberg. 2008. Guide to Advanced Empirical
Software Engineering. Springer.
[17]Jürgen Thanhofer-Pilisch, Rick Rabiser, Thomas Krismayer, Michael Vierhauser,
Paul Grünbacher, Stefan Wallner, Klaus Seyerlehner, and Helmut Zeisel. 2017.
An Event-based Capture-and-Compare Approach to Support the Evolution of
Systems of Systems. In Proc. of the 11th ACM Int’l Conf. on Distributed and Event-
Based Systems. ACM, 261–270.
[18]Wil Van Der Aalst, Arya Adriansyah, Ana Karla Alves De Medeiros, Franco
Arcieri, Thomas Baier, Tobias Blickle, Jagadeesh Chandra Bose, Peter van den
Brand, Ronald Brandtjen, Joos Buijs, and others. 2012. Process mining manifesto.
InBusiness Process Management Workshops. Springer, 169–194.
[19]Michael Vierhauser, Jane Cleland-Huang, Sean Bayley, Thomas Krismayer, Rick
Rabiser, and Paul Grünbacher. 2018. Monitoring CPS at Runtime – A Case
Study in the UAV Domain. In Proc. of the 44th Euromicro Conference on Software
Engineering and Advanced Applications. IEEE.
[20]Michael Vierhauser, Rick Rabiser, Paul Grünbacher, Klaus Seyerlehner, Stefan
Wallner, and Helmut Zeisel. 2016. ReMinds: A Flexible Runtime Monitoring
Framework for Systems of Systems. Journal of Systems and Software 112 (2016),
123–136.
[21]Claes Wohlin, Per Runeson, Martin Höst, Magnus C Ohlsson, Björn Regnell, and
Anders Wesslén. 2012. Experimentation insoftware engineering. Springer Science
& Business Media.
927
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:51:02 UTC from IEEE Xplore.  Restrictions apply. 