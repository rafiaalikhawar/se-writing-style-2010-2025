Generating Simpler AST Edit Scripts
by Considering Copy-and-Paste
Yoshiki Higo, Akio Ohtani, and Shinji Kusumoto
Graduate School of Information Science and Technology, Osaka University,
1-5, Yamadaoka, Suita, Osaka, 565-0871, Japan
Abstract ‚ÄîIn software development, there are many situations
in which developers need to understand given source code
changes in detail. Until now, a variety of techniques have
been proposed to support understanding source code changes.
Tree-based differencing techniques are expected to have better
understandability than text-based ones, which are widely used
nowadays (e.g., diff in Unix). In this paper, we propose toconsider copy-and-paste as a kind of editing action forming tree-
based edit script, which is an editing sequence that transforms
a tree to another one. Software developers often perform copy-and-paste when they are writing source code. Introducing copy-
and-paste action into edit script contributes to not only making
simpler (more easily understandable) edit scripts but also makingedit scripts closer to developers‚Äô actual editing sequences. We
conducted experiments on an open dataset. As a result, we
conÔ¨Årmed that our technique made edit scripts shorter for 18%
of the code changes with a little more computational time. For
the other 82% code changes, our technique generated the sameedit scripts as an existing technique. We also conÔ¨Årmed that our
technique provided more helpful visualizations.
I. I NTRODUCTION
In various situations in software development such as source
code review and merge conÔ¨Çict resolution, developers have to
understand given source code changes in detail. To support un-derstanding source code changes, previous work has proposed
various techniques that visualize given changes.
The most widely-used differencing techniques are text-
based ones [1], [2], [3]. For example, in Unix
diff, added lines
and deleted lines are visualized with special preÔ¨Åxes. An issueof the text-based differencing techniques is that the structureof source code is not considered. Because of this, visualizedchanges are not necessarily easy to understand in detail.
Techniques overcoming the issue of the text-based differenc-
ing techniques are AST
1-based ones [4], [5], [6], [7]. In AST-
based differencing techniques, given changes are visualizedaccording to the structure of source code. In the techniques, anedit script is generated from two ASTs which have been built
from pre-change and post-change source code. An edit script
is a sequence of editing actions to convert the pre-change ASTto the post-change AST [4]. Longer edit scripts are generated
from bigger changes. Falleri et al. showed that length of editscripts could be an indicator of the need to understand givenchanges [8]. Changes with shorter edit scripts are easier tounderstand.
Generating an edit script takes a long time if target source
code is large or code move is considered. Falleri et al.
1Abstract Syntax Treesucceeded to shorten generation time by adopting some heuris-
tics [8]. They also showed that their edit scripts were morehelpful to understand the changes.
Currently, we are trying to generate more easily-
understandable edit scripts. In this paper, we propose a new
technique for edit script generation. Our technique is based onFalleri‚Äôs one, which visualizes code changes with four kindsof actions: inserting, deleting, updating, and moving. We aregiving an eye to copy-and-paste, which is a commonly per-
formed operation when developers are writing source code [9],
[10]. In existing differencing techniques, a change made bydeveloper‚Äôs copy-and-paste is visualized as a sequence of newcode insertions. As a result, long edit scripts are generatedfor changes on which developer performed copy-and-pasteoperations.
In this research, we propose to consider copy-and-paste as
a kind of editing actions in edit scripts. Introducing copy-and-paste to edit scripts contributes to not only making themshorter but also making them closer to developers‚Äô actualediting sequences. In other words, our technique generatesedit scripts for more easily understanding code changes. Our
technique is a lower-level representation of changes, but theauthors consider that it can be used to generate higher-level
abstracted changes. Higher-level changes are useful in variouscontexts of software development such as version controlmerging [11], [12]. We conduct an experiment on 14 opensource software with an implemented tool of our technique.
The followings are main Ô¨Åndings of the experiment.
‚Ä¢Our technique generated shorter edit scripts for 18%
changes than Falleri‚Äôs technique [8]. For the remaining
82% changes, our technique generated the same editscripts as Falleri‚Äôs one.
‚Ä¢Our technique took longer time to generate edit scriptsthan Falleri‚Äôs technique. However, for 96% changes, gen-eration time was less than one-and-a-half times than
Falleri‚Äôs technique. For 96% changes, our technique gen-erated edit scripts in two seconds.
‚Ä¢The visualization of our technique was more helpful than
Falleri‚Äôs technique for 12 research participants on all theten change understanding tasks.
The reminder of this paper is organized as follows: Sec-
tion II shows an actual example for which our techniquegenerates a better edit script and then lists RQs to revealin this research; Section III introduces some terminologies
978-1-5386-2684-9/17/$31.00 c/circlecopyrt2017 IEEEASE 2017, Urbana-Champaign, IL, USA
T echnical Research532
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 
	
		

				 "


 
	
!"
 	!
#



 
	
!"
 	!
#

#	


	
		

				 "


 
	
!"
 	!
#



 
	!"
 	!
#



 
	
!"
 	!
#

#	

(a) GumTree‚Äôs visualization

	
		

				 "


 
	
!"
 	!
#



 
	
!"
 	!
#

#	


	
		

				 "


 
	
!"
 	!
#



 
	!"
 	!
#



 
	
!"
 	!
#

#	

(b) Ours visualization
Fig. 1. An actual change where our technique generated a shorter edit script than Falleri‚Äôs technique
for this research; Section IV explains edit script and our
research motivation; in Section V, we propose a new ASTedit script generation technique by considering copy-and-paste;Section VI shows our experimental results and then answersthe RQs; Section VII dicsusses the results; Section VIIIdescribes some threats in the experiment; lastly, we concludethis paper in Section IX.
II. A C
HANGE EXAMPLE AND RESEARCH QUESTIONS
Figure 1 shows an actual change for which our technique
generates a different edit script from Falleri‚Äôs one [8]. Inthis change, a method named setReception has been newly
added. setReception has a similar structure to another method
named setRecurrence while the used variables and the invoked
methods in the two methods are different.
Figure 1(a) shows a visualized change with Falleri‚Äôs tech-
nique. We can easily understand that green-colored setRecep-
tion has been added by the change. Figure 1(b) shows a
visualized change with our technique. The purple area in the
pre-change code means a copied code fragment and the samecolor in the post-change code means its pasted code fragment.
The yellow tokens in the purple areas are different tokens
between the copied and pasted code fragments.
By using Falleri‚Äôs technique, we can easily understand that
setReception has been added. However, there is no information
about the followings in the visualization.
‚Ä¢setReception is similar to setRecurrence .
‚Ä¢The developer might have copied and pasted setRecur-
rence , and then he/she might have updated some tokens
inside the pasted code.
By using our technique, we can easily obtain the above
information. The knowledge that setReception is similar to
setRecurrence should be useful for program understanding. For
example, if a developer is trying to understand setReception
and he/she knows that setReception is similar to setRecurrence
with which he/she is familiar, he/she should be able to easily
understand setReception.Falleri‚Äôs edit script for this change includes 20 editing
actions while our edit script includes only Ô¨Åve. Our techniqueshortens the edit script for this change by 75%.
In this research, we try to answer the following research
questions.
RQ1: how often and how much does our technique gener-ate shorter edit scripts than Falleri‚Äôs one?
RQ2: can our technique generate edit scripts at short times?
RQ3: are edit scripts of our technique more helpful tounderstand source code differences than Falleri‚Äôsone?
III. P
RELIMINARIES
A. Abstract Syntax Tree
Abstract Syntax Tree (in short, AST) is a tree-structured
representation of source code. Figure 2 shows toy source codeand an AST generated from it. This AST has 19 nodes, each
of which corresponds to a program element in the source code.
Each node has a label for type and some nodes have valuestoo. For example, in Figure 2(b), ‚ÄúNumberLiteral: 0‚Äù meansthat ‚ÄúNumberLiteral ‚Äù is its node type and ‚Äú0‚Äù is its value. If a
node has child nodes, the child nodes represent more detailedinformation of the node. For example, the Ifstatement node
whose ID is nhas two child nodes, an InÔ¨ÅxExpresson node
and a ReturnStatement node. They represent the conditional
expression and the inner statement of the if-statement.
B. Copy-and-Paste
When developers are writing source code, they often copy
and paste code [10]. There is a study that 64% copy-and-paste
is performed within a single source Ô¨Åle [9]. Copied and pastedcode become code clones. Kim et al. proposed clone geneal-
ogy, which approximates how programmers create, propagate,
and evolve code clones by copying, pasting, and modifyingcode [13]. Li et al. pointed out that copy-and-pasted codecan include bugs because developers occasionally forget to
change identiÔ¨Åer names after copy-and-pasted operations [14].
533
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 

		
(a) Source code
 $
#
) 
!$ 
 
,
"#
	!,
 &
	#
!$
 
, 
  )  
	!,
 &
!
!$ 

 
,
#!
(( !"",
00
!$') ,
#
 
,

###

&!#!,
/
) 
 
 

,





 ) 
  



!



,




 

  


 

 
,

#&!
###
#!#!,
-+.
#&!

&
#
!
 #!

	
 
   
 
  
(b) AST
Fig. 2. An AST example
They developed a tool, CP-Miner , to Ô¨Ånd such copy-and-
pasted related bugs and found several dozen of new bugs
in open source operating systems. Jablonski et al. developedan Eclipse plug-in to track code generated by copy-and-pasteoperations [15]. The plug-in monitors developer‚Äôs behavior onEclipse to catch copy-and-paste operations.
C. Code Clone
A code clone (in short, clone) is a code fragment that
is similar or identical to another code fragment in source
code. Clones occur in source code for various reasons [16],[17]. Clones are classiÔ¨Åed as follows based on the degree of
similarity to their correspondences.
‚Ä¢TYPE-1 clone is completely identical code except white
spaces, tabs, new-line characters, and comments.
‚Ä¢TYPE-2 clone is similar code that includes token-level
differences. For example, similar code having different
variable names or literals are classiÔ¨Åed into TYPE-2.
‚Ä¢TYPE-3 clone is similar code that includes larger dif-
ferences than token-level. For example, if a programstatement is inserted or deleted after a copy-and-pasteoperation, the pasted code becomes a TYPE-3 clone ofits original code.
Various clone detection techniques have been proposed until
now [17], [18]. Each detection technique has a different clonedeÔ¨Ånition. Thus, different detection techniques Ô¨Ånd differentclones from the same source code.
In this research, clones are similar subtrees in ASTs. Our
TYPE-1 clones mean identical subtrees, which have the same
structures and the same values in their nodes. Our TYPE-2clones mean they have the same structures but include different
values. Our TYPE-3 clones mean their structures are similar
but not identical, including some extra nodes compared withtheir correspondences. Currently, our technique utilizes only
TYPE-1 and TYPE-2 clones for copy-and-paste operations.
IV . AST E
DIT SCRIPT
An AST edit script is a sequence of editing actions to
transform a given AST to another AST. In existing research,the following edit actions are considered [4], [5], [8].
‚Ä¢insert (t,tp,i,l,v)means inserting a new node to the AST.
tis the inserted node. Its label is l. Its value is v. Its
parent node is tp.imeans that tis the i-th child of tp.
‚Ä¢delete (t)means deleting an existing node from the AST.
tis the deletion target.
‚Ä¢update (t,v)means updating value of an existing node in
the AST. tis the updating target node. vis a new value.
‚Ä¢move (t,tp,i)means moving a subtree to another place in
the AST. tis the root node of the moving target subtree.
tpis the new parent node after twas moved. imeans that
tis the i-th child of tp.
The length of an edit script is the number of editing actions
included in it. Previous research reported that longer editscripts require more effort to understand [8]. Consequently,shorter edit scripts are better from the viewpoint of under-
standing code changes.
An edit script shows how to transform an AST to another
one. However, edit scripts do not necessarily reproduce the
process of code changes that developers made. If we want toreproduce such an actual change process, we need to recorddevelopers‚Äô changes themselves [15], [19].
A. Previous Research on Edit Script Generation
There are many research studies that proposed techniques of
edit script generations. Myers proposed an efÔ¨Åcient algorithm
to compare two strings ( Aand B) and then generate a shortest
edit script that transforms Ainto B[3]. The algorithm requires
O(ND )time. Nis the sum of the lengths of Aand B.Dis
the size of the shortest edit script for Aand B. Miller et al.
proposed another algorithm for string comparison [2]. Their
algorithm is faster than Unix
diffin the case where two very
similar strings are compared. However, if two completely dif-
ferent strings are compared, the performance of the algorithmis much worse than
diff. Both Myers‚Äôs and Miller‚Äôs algorithms
do not consider moving code.
Asaduzzaman et al. proposed a technqiue named LHDiff
for better tracking of source code lines [1]. Firstly, LHDiff
utilizes Unix diffto identify unchanged code lines in given
two source Ô¨Åles. Then, for the remaining code lines, thetechnique computes their context and content similarity. If itidentiÔ¨Åes similar code lines, they are regarded as moved code.In Asaduzzaman‚Äôs experiment, the time of
LHDiff execution
was 20‚àº30 times longer than Unix diff.
Recently, tree edit script generations have been researched
well. Pawlik et al. proposed RTED algorithm to compute a
shortest tree edit script [7]. In the worst case, their algorithmrequires O(n
3)time where nis the number of tree nodes. How-
ever, RTED does not consider moving code. Their experiment
showed that RTED algorithm worked more efÔ¨Åciently for any
534
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 

  
	
 




















	
 






Fig. 3. An overview of GumTree
shapes of trees than other algorithms that generate a shortest
edit script and do not consider moving code.
Chawathe et al. proposed an algorithm to generate an edit
script from given two trees [4]. The remarkable feature ofthe algorithm is that the algorithm considers moving code.Generating a shortest edit script in consideration with movingcode is an NP-hard problem. To Ô¨Ånish edit script generationquickly, the algorithm often generates longer edit scripts. Inthe case where two similar trees are given to the algorithm, italways generates a shortest edit script. The algorithm requiresO(ne +e
2)time where nis the number of tree leaves and eis
the weighted edit distance (typically, e/lessmuchn).
Fluri et al. proposed an algorithm to compute tree differ-
encing for source code change extraction [5]. This algorithmis a specialized version of Chawathe‚Äôs algorithm [4] becauseChawathe‚Äôs algorithm is not for AST but for the general treestructure. Fluri et al. introduced four kinds of modiÔ¨Åcations onChawathe‚Äôs algorithm to extract more signiÔ¨Åcant source codechanges. Because of the modiÔ¨Åcations, Fluri‚Äôs algorithm getsO(log n
2)slower than Chawathe‚Äôs algorithm. However, in the
experiment, Fluri‚Äôs algorithm approximated the minimum editscripts 45% better than the Chawathe‚Äôs algorithm.
Hashimoto et al. proposed a technique to generate edit
scripts including code move [6]. Their technique utilizesZhang‚Äôs algorithm [20], which occasionally generates unÔ¨Åtting
AST edit scripts because it is for general tree structures,
not specialized for AST structures. Thus, Hashimoto et al.introduced some preprocessing and postprocessing to generatemore appropriate AST edit scripts. In Hashimoto‚Äôs technqiue,move operations are derived from pairs of deleted subtrees andadded subtrees satisfying some conditions. Even in the worstcase, the time complexity of Hashimoto‚Äôs technique cannotbe higher than O(n
2)where nis the number of nodes in the
compared trees.
There are some algorithms that generate edit scripts for
XML documents [21], [22]. Their algorithms give shortening
the computational time the utmost importance. Thus, editscripts generated with them are not suited to be understoodby the human.
	
	

"" 			
""!	

(a) Source Code After Change
"#	
! 
#""	

 
$$	
! 
%$")) 
&%"	
 
'%# 
('"
" 
$# 


 
(b) Generated Edit Script
Fig. 4. An example of GumTree‚Äôs edit script
B. GumTree
Falleri et al. proposed a technique, GumTree, which can
generate edit scripts from larget ASTs in consideration with
moving code at short times [8]. Figure 3 shows an overview of
GumT ree .I fGumT ree takes the source code of Figure 2(a) and
4(a) as its inputs, it outputs the edit script shown in Figure 4(b).
GumT ree executes the following steps for given two source
Ô¨Åles, and then it outputs an edit script.
‚Ä¢STEP1 (Syntax analysis) performs syntax analysis for
given source Ô¨Åles to generate an AST for each of them.
‚Ä¢STEP2 (Mapping generation) generates mappings of
subtrees between the two ASTs by executing STEP2-1
and STEP2-2.
‚Äì STEP2-1 (Top-down mapping) searches identical
subtrees between the two ASTs. The search starts atthe root nodes of the ASTs.
‚Äì STEP2-2 (Bottom-up mapping) searches similar
subtrees from other than the identical subtrees foundin STEP2-1. This search begins with each leaf nodeof the ASTs.
‚Ä¢STEP3 (Edit script generation) generates an edit script
based on the mappings generated in STEP2-1 and STEP2-
535
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 2. Chawathe‚Äôs algorithm [4] is used to generate edit
scripts.
C. Research Motivation
Developers occasionally copy existing code fragments and
paste them in other places of the source code when they are
writing code [10]. However, GumT ree does not consider copy-
and-paste operations. In edit scripts of GumT ree and other
differencing techniques, a copy-and-paste is represented witha sequence of insert actions.
Figure 5 shows a code change example where a new method
is added to the source code shown in Figure 2(a). The added
method newF oo is quite similar to the existing method foo.
Figure 5(b) shows an AST of the post-change source code. Forthis change,
GumT ree outputs an edit script shown in Figure
5(c). This edit script means that 15 new nodes were added to
the AST by the change.
However, the subtree of the added method has the same
structure as the subtree of the existing method. In this case,
by considering copy-and-paste, a simpler edit script can begenerated. Figure 5(d) shows an edit script generated by ourtechnique. In this edit script, Ô¨Årstly the subtree of the existingmethod is copied and pasted, then two nodes in the pastedsubtree are updated.
V. P
ROPOSED TECHNIQUE
Herein, we explain our technique. An implemented tool of
our technique for Java is publicly available2
A. Outline
As described in Subsection IV-C, by representing an added
subtree with a copy-and-paste action rather than a sequenceof insert actions, simpler edit scripts can be generated. In ourtechnique, a new editing action representing copy-and-pasteis introduced in addition to the conventional editing actions
(insert, delete, update, and move). In the case of Figure 5,
the length of the edit script reduces by one-Ô¨Åfth. Our edit
script is not only shorter but also easier-to-understand becausea combination of copy-and-paste and update actions implies
that similar code has been added by a given change.
Our technique is designed by extending
GumT ree [8]. Fig-
ure 6 shows an overview of our technique. Our technique takestwo source Ô¨Åles, and it outputs an edit script. Our techniqueincludes three steps as well as
GumT ree . Our technique
considers Ô¨Åve editing actions, insert, delete, update, move,
and c&p. The former four actions are the same as GumT ree ‚Äôs
ones which are described in Section IV. The following is thedeÔ¨Ånition of the new action.
‚Ä¢c&p(t,tp,i)means copying an existing subtree and past-
ing it to another place in the AST. tis the root of the
subtree of the copying target. tpis the parent node of the
pasted place. imeans that tis pasted as the i-th child of
tp.
2http://sdl.ist.osaka-u.ac.jp/~higo/ase2017/


		

	

(a) Post-change code
"
"
'
 "

)
!"
	 )
#
	"
 "

)

'
	 )
#
 
 "


)
" 
&& !!)
--
 "$')
"

)

"""

# " )
,
'



)





'




  
 
)









 

 



)

"# 
"""
" " )
*(+
"# 

# "
 "
 "
 " 
	"
 "

)
%
'
	 )
#
 
 "


)
" 
&& !!)
--
 "$')
"

)

"""

# " )
,
 '




   
 
)









 

 



)

"# 
"""
" " )
*%(+
"# 

#
 "
 "
 " 

	
 



	 

   
 
  
(b) Post-change AST
! "+*((2(" "(-,
! "+*(*(/( (#,! "+*(*(0('(" ,! "+*(*(/(	(" ,
! "+*(*(1(	(%,
! "+*(*(2(  "(-,
! "+*(*(/(
 "$'(",
! "+*(*(0(	(,! "+*(*(3((-,! "+*(*(/("""(-,! "+*(*(/(&& !!(44,
! "+*(*(/(	(-,
! "+ *(*(0(	# " (.,! "+*(*(0("# """(-,! "+!*(*(/(" " (%),
(c) Edit script by GumT ree
	

	

 
(d) Edit script by our technique
Fig. 5. A change example where a new method was added
536
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 
	


	
 












	














	

 

	


	


	
	
Fig. 6. An overview of our technique
B. Procedure
Our technique is an extended version of GumT ree .I n
Figure 6, the steps that have been added or changed in our
technique are emphasized. The followings are short descrip-tions for each of the steps.
‚Ä¢STEP2-1 (Top-down mapping) searches identical sub-
trees between the two ASTs. This step also Ô¨Ånds candi-
dates for copy-and-pasted subtrees.
‚Ä¢STEP2-3 (C&P cognition) checks whether each of the
copy-and-pasted candidates has been mapped in STEP2-2
or not. If not, the candidate is regarded as generated bycopy-and-paste.
‚Ä¢STEP3 (Edit script generation) generates an edit script
with the two ASTs generated in STEP1 and the mapping
information (including the copy-and-paste information).
The remainder of this section explains each of the above
steps in detail.
C. STEP2-1 (Top-Down Mapping)
In STEP2-1, our technique Ô¨Ånds candidates of subtrees
added by copy-and-paste operations in addition to the process-
ings of original GumT ree . STEP2-1 of our technique consists
of the following processings. The processings (1) and (2) arethe same as original
GumT ree . The processing (3) has been
newly added in our technique.
1) Finding similar subtrees between the two ASTs. In this
explanation, we assume that nsubtrees in the pre-change
AST are similar to msubtrees of the post-change AST.
Those subtrees can be represented by a bipartite graph
where a set of nnodes and another set of mnodes exist.
An edge exists between each pair of two nodes whose
similarity is higher than a given threshold.
2) Making mappings between the nnodes and the mnodes
with the following procedure. Firstly, Ô¨Ånding a pair of
nodes that has the highest similarity between the nnodes
and the mnodes. The found pair is recorded and the two
nodes forming the pair are removed from the bipartitegraph. Secondly, Ô¨Ånding a pair of nodes that has thehighest similarity between the n‚àí1 nodes and the m‚àí1
nodes. This processing is repeated until all edges in thebipartite graph disappear.3) When the processing (2) has Ô¨Ånished, the remaining
nodes in the bipartite graph mean that their subtrees havenot been mapped to any other subtrees. In other words,their subtrees are similar to other subtrees, but the other
subtrees have more similar subtrees. In our technique,non-mapped subtrees in the post-change AST are treated
as candidates for copy-and-paste from the most-similarsubtrees in the pre-change AST.
D. STEP2-3 (C&P Cognition)
In this step, our technique determines which candidates
are copy-and-paste operations. Our technique traverses the
post-change AST to Ô¨Ånd nodes satisfying both the followingconditions:
‚Ä¢found as candidates for copy-and-paste operation inSTEP2-1, and
‚Ä¢not mapped to any nodes in the pre-change AST when
STEP2-2 has Ô¨Ånished.
If our technique Ô¨Ånds a node that satisÔ¨Åes both the condi-
tions, it regards a pair of the candidate and its most-similar
subtrees as a copy-and-paste mapping.
In this step, we use a heuristic. In our technique, subtrees‚Äô
similarities are calculated based on their structure and node
labels. Node values are ignored. Thus, many false positivesare found. For example, all variable declaration statements areregarded as identical subtrees even if their variable types and
variable names are different. To reduce such false positives, if
all node values in a subtree are different from ones of another
subtree, the two subtrees are not regarded as a copy-and-pasteoperation.
E. STEP3 Edit Script Generation
Chawathe‚Äôs algorithm is used in STEP3 to identify insert,
delete, update, and move as well as original
GumT ree . Our
technique extends Chawathe‚Äôs algorithm to identify c&p too.
In STEP3, the two ASTs are traversed once and an edit script
is generated.
1) Identifying insert, update, move , and c&p actions by
traversing the post-change AST.
2) Identifying delete actions by traversing the pre-change
AST.
537
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. "
"
'
 "

)
!"
	 )
#
	"
 "

)

'
	 )
#
 
 "


)
" 
&& !!)
--
 "$')
"

)

"""

# " )
,
'



)





'




  
 
)
 
 






 

 



)

"# 
"""
" " )
*(+
"# 

# 
"
 
 " 
	"
 "

)
%
'
	 )
#
 
 "


)
" 
&& !!)
--
 "$')
"

)

"""

# " )
,
 '




  
 
)
 
 






 

 



)

"# 
"""
" " )
*%(+
"# 

# 
 "
 
 " 


 

 
$
$$$$ $
$ $ $ $
$ $
$ $  $
"
"
'
 "

)
!"
	 )
#
	"
 "

)

'
	 )
#
 
 "


)
" 
&& !!)
--
 "$')
"

)

"""

# " )
,
'



)





'




  
 
)
 
 






 

 



)

"# 
"""
" " )
*(+
"# 

# 
"
 
 " 


 

 
!  "! 

!  "! " #
 !! 

	 

! # !!   !
Fig. 7. An example of mappings (mappings between Figure 2(b) and Figure 5(b))
In the processing (1), if our technique Ô¨Ånds a node in the
copy-and-paste mappings, a c&p action is added to the edit
script.
F . An Example of Edit Script Generation
Figure 7 shows an example of mappings between pre-
change and post-change ASTs. In this Ô¨Ågure, the pre-change
AST is the same as Figure 2(b), and the post-change AST is
the same as Figure 5(b).
In STEP2-1 (Top-down mapping), subtree ein the pre-
change AST gets mapped with subtree ein the post-change
AST. Besides, subtree ein the pre-change AST is very similar
toe/primein the post-change AST, so that they become a candidate
for copy-and-paste operation.
In STEP2-2 (Bottom-up mapping), Ô¨Årstly container map-
pings are generated. A container mapping means, if most
nodes under a subtree have been mapped, the root node of thesubtree also gets mapped. In the process of container mappinggeneration, node bin the pre-change AST gets mapped with
node bin the post-change AST. Then, recovery mappings
are generated. Recovery mappings mean mapping nodes bytraversing from the nodes of the container mappings to their
leaves. In this example, nodes cand dget mapped in the
process of recovery mapping generation.
In STEP2-3 (C&P cognition), each copy-and-paste candi-
date found in STEP2-1 is checked whether it has been mappedin STEP2-2 or not. If not, the candidate is regarded as copy-and-paste operation. In this example, subtree ein the pre-
change AST and e
/primeof the post-change AST found as a copy-
and-paste candidate in STEP2-1, and e/primeis not mapped inSTEP2-2. Consequently, they are regarded as a copy-and-pasteoperation in STEP2-3.
In STEP3, an edit script is generated with the mapping and
copy-and-paste information as follows.
‚Ä¢For each pair of moved subtrees, a move action is added
to the edit script. In this example, there are no movedsubtrees.
‚Ä¢For each pair of nodes that includes different values, an
update action is added to the edit script. Node pairs under
a pair of copy-and-paste are not targets of this processing.
Thus, no update action is added to the edit script in the
example.
‚Ä¢If the pre-change AST includes nodes that are not mapped
to any nodes in the post-change AST, delete actions for
them are added to the edit script. In this example, there
is no node for delete actions.
‚Ä¢If the post-change AST includes nodes that are neither
mapped nor copy-and-paste, insert actions for them are
added to the edit script. In this example, there is no nodefor insert actions.
‚Ä¢For each subtree of copy-and-paste in the post-change
AST, a c&p action is added to the edit script. If there are
nodes under the subtree that have different values fromtheir counterparts, update actions for them are added to
the edit script. In this example, action
c&p(e,b,4) is
added and then two more actions update(h‚Äô, newFoo)
andupdate(s‚Äô,"newFoo!") are also added.
As a result, the edit script shown in Figure 5(d) is generated
by our technique.
538
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. VI. E V ALUATION
As described in Section IV-A, there are many techniques
to generate edit scripts. Falleri‚Äôs experiment showed that
GumT ree ‚Äôs edit scripts were easier to understand for the human
than other techniques [8]. Hence, we compare our technique
with GumT ree and then answer the RQs listed in Section II.
A. Preparation
We use the following values as the thresholds of GumT ree
and our technique. Those values are the same as ones that
were used in Falleri‚Äôs experiment [8].
‚Ä¢The minimum subtree height for top-down mappings is
2.
‚Ä¢The minimum similarity for bottom-up mappings is 0.5.
‚Ä¢Only subtrees having 100 or fewer nodes are targets ofbottom-up mappings.
Our experimental targets are 14 software systems that are
included in CVS-Vintage dataset [23]. This dataset includes
42,250 source Ô¨Åles and 352,182 revisions in total. This dataset
was used in Falleri‚Äôs experiment [8] too.
B. Procedure for RQ1 and RQ2
We run
GumT ree and our technique for the same changes
and then compared generated edit scripts3. In the remainder
of this section, we call a pair of two consecutive revisionsof a source Ô¨Åle a change . Thus, the number of changed
source Ô¨Åles is the same as the number of changes in thisexperiment. Changes for the two tools were extracted from the
14 projects. For each project, 1,000 changes were extracted. If
a project included less than 1,000 changes, all the changes
were extracted. The target changes were extracted in the
following way, which is the same as Fellari‚Äôs experiment.
1) We identiÔ¨Åed revisions in which at least a source Ô¨Åle is
committed, and then we obtained a list of the committed
source Ô¨Åles for each of the identiÔ¨Åed revisions.
2) We retrieved the pre-change revision for each of the Ô¨Åles
in the lists.
3GumT ree and our technique were executed on a personal workstation
equipped with a 2.40GHz 6-core CPU and 32GB DDR4 memory.
TABLE I
EDIT SCRIPT LENGTH OF OUR TECHNIQUE AND GUMTREE FOR THE
CHANGES FOR WHICH OUR TECHNIQUE GENERATED DIFFERENT EDIT
SCRIPTS FROM GUMTREE
ProjectMaximum value Median Minimum value
GT Ours GT Ours GT Ours
argouml 3,049 2,708 69 49 42
carol 1,586 1,581 116 107 73
columba 892 872 47 39 51
dnsjava 1,632 1,544 75 71 42
jboss 2,876 2,457 76 62 52
jedit 2,858 2,853 79 67 42
jhotdraw 1,691 1,686 72 64 42
junit 751 728 75 64 72
log4j 3,029 2,827 75 60 42
jdtcore 13,269 12,628 84 65 42
workbench 3,651 3,351 72 55 42
scarab 3,016 2,928 83 70 52
struts 1,486 1,313 59 43 51
tomcat 2,152 2,064 54 43 42



 








 
   






 
















 
 



 



 

 










 









 
 
















 
 

 
 































 






 






















 


  







































  





 



 




 
 






















 

























 















argouml
carol
columba
dnsjava
jboss
jedit
jhotdraw
junit
log4j
jdtcore
workbench
scarab
struts
tomcat0.00.20.40.60.81.0
Fig. 8. Edit script length ratio of our technique to GumT ree



























































































































































































































































































































































































































































































 















































































































































































































































 































































 



 














































































 





 



















































 






















































































































































































































































































































































































































































































































































































































































































































































































































 


































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































 



























































































































 



































































argouml
carol
columba
dnsjava
jboss
jedit
jhotdraw
junit
log4j
jdtcore
workbench
scarab
struts
tomcat05101520
Fig. 9. Execution time ratio of our technique to GumT ree
3) We stored each pair of the pre-change and post-change
texts of the Ô¨Åles as a change.
4) We removed changes where only comments and/or
formatting are modiÔ¨Åed because empty edit scripts are
generated from such changes.
5) We selected 1,000 changes randomly from the remaining
ones.
We obtained 13,699 changes in total. All the obtained
changes were given to GumT ree and our technique to generate
edit scripts. The execution time of the tools was measured.
C. Results for RQ1 and RQ2
For 18% changes, our technique generated shorter edit
scripts than GumT ree . For the remaining 82% changes, our
technique generated the same edit scripts as GumT ree . There
was no change for which our technique generated a longer edit
script than GumT ree .
Table I shows the length of the edit scripts for the 18%
changes. Figure 8 shows the length ratio of our technique to
GumT ree for the 18% changes. For most of the projects, the
median values are between 0.8 and 0.9. More concretely, for
58.5% of the changes in the graph, our technique shortenededit scripts by 10% or more.
539
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. Figure 9 shows the execution time ratio of our technique to
GumT ree . The execution time of our technique tends to longer
than GumT ree . For all the changes, we conÔ¨Årmed that there
was a signiÔ¨Åcant difference in execution time between our
technique and GumT ree by using Wilcoxon signed-rank test
withŒ±=0.05. However, the difference of execution time is not
so large. For 96% changes, our technique took one-and-a-half
times or less than GumT ree . For 75% and 96% changes, our
technique took less than 1 second and 2 seconds, respectively.
Our answer to RQ1 is that our technique generated shorter
edit scripts for 18% changes and for 58.5% of those changes
our technique shortened 10% or more.
Our answer to RQ2 is that our technique can generate edit
scripts at short times. Our technique took less than 2 seconds
for 96% of all target changes.
D. Procedure for RQ3
Twelve research participants took part in the experiment for
RQ3. The participants include one professor, nine graduate
students, and two undergraduate students. The professor andall the graduate students had experiences in the research ofsoftware engineering. They had at least 1-year experiencesof Java programming in their research. The undergraduatestudents had Ô¨Ånished a half-year Java exercise in their course.
All the participants are not the authors of this paper.
In this experiment, the authors prepared ten changes (here-
after, we call them tasks), all of which were selected from the
13,699 changes. All the ten tasks satisfy both the following
conditions.
‚Ä¢GumT ree and our technique generate different edit scripts
for the tasks.
‚Ä¢The tasks do not include huge code changes such as
changing all over the source Ô¨Åles.
This experiment included two phases. In the Ô¨Årst phase, the
research participants were divided into two groups. The partic-
ipants in the Ô¨Årst group used our technique to understand thechanges for the odd-numbered tasks and they used
GumT ree
for the even-numbered tasks. The participants in the secondgroup used
GumT ree and our technique in an opposite way.
Each of the participants wrote down what he/she understoodon the tasks after they had Ô¨Ånished understanding the tasks.
To keep participants‚Äô concentration, we set one hour as the
time limit for understanding the tasks. Thus, there were someparticipants who were not able to Ô¨Ånish some tasks.
In the second phase, for each of the tasks, each participant
compared visualization of our technique with
GumT ree and
then chose from the following Ô¨Åve options.
1) The visualization of GumT ree is deÔ¨Ånitely more helpful
to understand the tasks.
2) The visualization of GumT ree seems a little more helpful
to understand the tasks.
3) No differences in the visualization of GumT ree and our
technique from the viewpoint of understanding the tasks.
4) The visualization of our technique seems a little more
helpful to understand the tasks.

         	
 

Fig. 10. Understanding time for the tasks

         	
 

Fig. 11. Description length for the tasks
5) The visualization of our technique is deÔ¨Ånitely more
helpful to understand the tasks.
E. Evaluation Measure for RQ3
In this experiment, we used the following evaluation indi-
cators to compare our technique with GumT ree :
‚Ä¢the time required to understand the tasks,
‚Ä¢the degree of understanding the tasks, and
‚Ä¢participants‚Äô qualitative comparison.
The participants timed themselves for the time required
to understand the tasks. Before this experiment, we told the
participants not to count the time required to write down whatthey understood on the tasks in the time required to understandthe tasks.
We considered that, if a participant understood a task well,
he/she would write down what she/he understood in detail.
Thus, we used the length of participants‚Äô descriptions as the
degree of understanding the tasks.
We used the questionnaire described in the last paragraph
of Subsection VI-D for the qualitative comparison.
F . Results for RQ3
Figure 10 shows the average understanding time of the
research participants for each of the tasks. To reduce inÔ¨Çuences
of the outliers, we eliminated the minimum and maximum
values in calculating average time. The total time of our
technique was 2,187 seconds and
GumT ree is 2,220 seconds,
respectively. To investigate whether there was a signiÔ¨Åcantdifference in understanding time between our technique and
GumT ree , we Ô¨Årstly checked the presence of normality in
the time data with Shapiro-Wilk test. After we conÔ¨Årmedthe presence of normality, we applied Paired-T test to the
540
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. TABLE II
ANSWERS OF THE RESEARCH PARTICIPANTS FOR QUALITATIVE COMPARISONS
Research participants
ABCDEFGH I J KL Ave. Med.
Tasks01 134225455522 3.33 3.5
02 145445355524 3.92 4.0
03 125255555451 3.75 5.0
04 144245553554 3.92 4.0
05 145155455523 3.75 4.5
06 121235354544 3.25 3.5
07 1435‚Äì5555445 4.18 5.0
08 1432‚Äì4354423 3.18 3.0
09 1233‚Äì53‚Äì44‚Äì‚Äì 3.13 3.0
10 1533‚Äì53‚Äì55‚Äì‚Äì 3.75 4.0
Ave. 1.00 3.40 3.60 2.60 3.83 4.90 3.80 5.00 4.50 4.60 3.25 3.25
Med. 1.0 4.0 3.5 2.0 4.0 5.0 3.5 5.0 5.0 5.0 3.0 3.5
data. As a result, there was no signiÔ¨Åcant difference in the
understanding time between our technique and GumT ree .
Figure 11 shows the average length of participants‚Äô descrip-
tions for each of the tasks. We eliminated the minimum and
maximum values in calculating average length, too. The totallength of our technique was 706.3 bytes, and
GumT ree was
604.4 bytes, respectively. To investigate the presence of asigniÔ¨Åcant difference in the description length of our techniqueand
GumT ree , we Ô¨Årstly checked the presence of the normality
in the description length data with Shapiro-Wilk test. After weconÔ¨Årmed that there was no normality in the data, we applied
Wilcoxon signed-rank test to the data. As a result, there was
no signiÔ¨Åcant difference in the description length between ourtechnique and
GumT ree .
Table II shows the participants‚Äô answers for the question-
naire. For all the tasks, the average and median values weremore than 3
4. In other words, the research participants felt that
our technique was more helpful than GumT ree for all the tasks.
On the other hand, there were two participants whose averageand median values were less than 3. Research participants Aand D considered that
GumT ree was better than our technique
for the tasks. Consequently, we conclude that our techniqueprovides better visualization than
GumT ree . However, there
were some developers who preferred GumT ree ‚Äôs visualization
than our technique.
Our answer to RQ3 is that the research participants tended
to prefer change visualization based on our technique thanFalleri‚Äôs one for all their tasks.
VII. D
ISCUSSION
In the current implementation, identical subtrees (same
structure and same values) and structurally-identical subtrees
(same structure but different values) are regarded as copy-and-
paste. The former is a TYPE-1 clone and the latter is a TYPE-2 clone, respectively. In the experiment, for 82% changes,our technique generated the same edit scripts as
GumT ree .
Those edit scripts did not include c&p actions at all. If we
use an AST-based TYPE-3 clone detection techniques such as
CloneDR [16] or Deckard [24], our technique can be extended
4In the questionnaire, 1. ‚àº5. are ordinal scale, not ratio scale. Thus, the
average values in this experiment should be used only as a guide.to regard TYPE-3 clones as copy-and-paste. If we do such an
extension, more edit scripts will include c&p actions.
We used value ‚Äú2‚Äù as the minimum height of subtrees for
copy-and-paste. If we use a greater value, less edit scripts
include c&p actions.
VIII. T HREATS TOVALIDITY
In the experiment, the target programming language was
only Java. Our technique‚Äôs and GumT ree ‚Äôs algorithms are not
specialized for Java. However, currently, we do not know
whether our technique works well for other programming
languages.
In the experiment, we used the same experimental tar-
gets and the same threshold values as Falleri‚Äôs experiment.However, if we use different projects or different threshold
values, we may obtain different experimental results. More
experiments are required with more projects and more differentthreshold values to evaluate our technique more solidly.
IX. C
ONCLUSION
In this paper, we proposed to introduce copy-and-paste
operation to AST edit script to promote change understand-ability. In the process of designing our technique, we weregreatly affected by an existing technique
GumT ree and our
technique is its extended version. We conducted an experimentto compare our technique with
GumT ree . As a result, our
technique generated shorter edit scripts than GumT ree for
18% changes. For the remaining 82% changes, our technique
generated the same edit scripts as GumT ree . We also conÔ¨Årmed
that the execution time of our technique tends to be longerthan
GumT ree . However, for 96% changes, the execution time
of our technique was less than 2 seconds. We conducted an-other experiment with 12 research participants and conÔ¨Årmedthat our technique provided more helpful visualization than
GumT ree for all the ten change understanding tasks.
In the future, we are going to apply our technique for more
projects. Extending our technique to regard TYPE-3 clones ascopy-and-paste is another future work.
A
CKNOWLEDGMENT
This work was supported by MEXT/JSPS KAKENHI
25220003.
541
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. REFERENCES
[1] M. Asaduzzaman, C. K. Roy, K. A. Schneider, and M. D. Penta, ‚ÄúLHD-
iff: A Language-Independent Hybrid Approach for Tracking Source
Code Lines,‚Äù in Proc. of the 2013 IEEE International Conference on
Software Maintenance, 2013, pp. 230‚Äì239.
[2] W. Miller and E. W. Myers, ‚ÄúA Ô¨Åle comparison program,‚Äù Software:
Practice and Experience, vol. 15, no. 11, pp. 1025‚Äì1040, 1985.
[3] E. W. Myers, ‚ÄúAn o(nd) difference algorithm and its variations,‚Äù Algo-
rithmica, vol. 1, pp. 251‚Äì266, 1986.
[4] S. S. Chawathe, A. Rajaraman, H. Garcia-Molina, and J. Widom,
‚ÄúChange Detection in Hierarchically Structured Information,‚Äù in Proc.
of the 1996 ACM SIGMOD International Conference on Management
of Data, 1996, pp. 493‚Äì504.
[5] B. Fluri, M. Wuersch, M. PInzger, and H. Gall, ‚ÄúChange distilling:
Tree differencing for Ô¨Åne-grained source code change extraction,‚Äù IEEE
Transactions on Software Engineering, vol. 33, no. 11, pp. 725‚Äì743,
Nov. 2007.
[6] M. Hashimoto and A. Mori, ‚ÄúDiff/TS: A Tool for Fine-Grained Struc-
tural Change Analysis,‚Äù in Proc. of the 2008 15th Working Conference
on Reverse Engineering, 2008, pp. 279‚Äì288.
[7] M. Pawlik and N. Augsten, ‚ÄúRted: A robust algorithm for the tree edit
distance,‚Äù Proc. VLDB Endow. , vol. 5, no. 4, pp. 334‚Äì345, Dec. 2011.
[8] J. Falleri, F. Morandat, X. Blanc, M. Martinez, and M. Monperrus, ‚ÄúFine-
grained and accurate source code differencing,‚Äù in Proc. of the 29th
ACM/IEEE International Conference on Automated Software Engineer-
ing, 2014, pp. 313‚Äì324.
[9] T. M. Ahmed, W. Shang, and A. E. Hassan, ‚ÄúAn empirical study of
the copy and paste behavior during development,‚Äù in Proc. of the 12th
Working Conference on Mining Software Repositories , 2015, pp. 99‚Äì110.
[10] M. Kim, L. Bergman, T. Lau, and D. Notkin, ‚ÄúAn Ethnographic Study of
Copy and Paste Programming Practices in OOPL,‚Äù in Proc. of the 2004
International Symposium on Empirical Software Engineering, 2004, pp.
83‚Äì92.
[11] D. Dig, K. Manzoor, R. E. Johnson, and T. N. Nguyen, ‚ÄúEffective
Software Merging in the Presence of Object-Oriented Refactorings,‚Äù
IEEE Transactions on Software Engineering, vol. 34, no. 3, pp. 321‚Äì
335, 2008.
[12] D. Dig, R. Johnson, D. Marinov, B. Bailey, and D. Batory, ‚ÄúCOPE:
Vision for a Change-oriented Programming Environment,‚Äù in Proceed-
ings of the 38th International Conference on Software Engineering
Companion, 2016, pp. 773‚Äì776.[13] M. Kim, V . Sazawal, D. Notkin, and G. Murphy, ‚ÄúAn Empirical Study
of Code Clone Genealogies,‚Äù in Proceedings of the 10th European
Software Engineering Conference Held Jointly with 13th ACM SIGSOFT
International Symposium on F oundations of Software Engineering, 2005,
pp. 187‚Äì196.
[14] Z. Li, S. Lu, S. Myagmar, and Y . Zhou, ‚ÄúCP-Miner: Finding Copy-Paste
and Related Bugs in Large-Scale Software Code,‚Äù IEEE Transactions on
Software Engineering , vol. 32, no. 3, pp. 176‚Äì192, 2006.
[15] P. Jablonski and D. Hou, ‚ÄúCReN: A Tool for Tracking Copy-and-paste
Code Clones and Renaming IdentiÔ¨Åers Consistently in the IDE,‚Äù in
Proceedings of the 2007 OOPSLA Workshop on Eclipse Technology
eXchange , 2007, pp. 16‚Äì20.
[16] I. Baxter, A. Yahin, M. A. L. Moura, and L. Bier, ‚ÄúClone detection
using abstract syntax trees,‚Äù Proc. of the 14th International Conference
on Software Maintenance, pp. 368‚Äì377, Mar. 1998.
[17] D. Rattan, R. Bhatia, and M. Singh, ‚ÄúSoftware Clone Detection: A
Systematic Review,‚Äù Information and Software Technology , vol. 55,
no. 7, pp. 1165‚Äì1199, 2013.
[18] S. Bellon, R. Koschke, G. Antniol, J. Krinke, and E. Merlo, ‚ÄúComparison
and evaluation of clone detection tools,‚Äù IEEE Transactions Software
Engineering, vol. 31, no. 10, pp. 804‚Äì818, Oct. 2007.
[19] T. Omori and K. Maruyama, ‚ÄúAn Editing-operation Replayer with
Highlights Supporting Investigation of Program ModiÔ¨Åcations,‚Äù in Proc.
of the 12th International Workshop on Principles of Software Evolutionand the 7th Annual ERCIM Workshop on Software Evolution, 2011, pp.
101‚Äì105.
[20] 
K. Zhang and D. Shasha, ‚ÄúSimple Fast Algorithms for the EditingDistance Between Trees and Related Problems,‚Äù SIAM Journal of
Computing, vol. 18, no. 6, pp. 1245‚Äì1262, 1989.
[21] R. Al-Ekram, A. Adma, and O. Baysal, ‚Äúdiffx: An algorithm to detect
changes in multi-version xml documents,‚Äù in Proc. of the 2005 Con-
ference of the Centre for Advanced Studies on Collaborative Research ,
2005, pp. 1‚Äì11.
[22] G. Cobena, S. Abiteboul, and A. Marian, ‚ÄúDetecting changes in xml
documents,‚Äù in Inproceedings of the 18th International Conference on
Data Engineering, 2002, pp. 41‚Äì52.
[23] M. Monperrus and M. Martinez, ‚ÄúCvs-vintage: A dataset of 14 cvs
repositories of java software,‚Äù INRIA, Tech. Rep. hal-00769121, 2012.
[24] L. Jiang, G. Misherghi, Z. Su, and S. Glondu, ‚ÄúDECKARD: Scalable
and Accurate Tree-Based Detection of Code Clones,‚Äù in Proceedings of
the 29th International Conference on Software Engineering, 2007, pp.96‚Äì105.
542
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 15:08:29 UTC from IEEE Xplore.  Restrictions apply. 