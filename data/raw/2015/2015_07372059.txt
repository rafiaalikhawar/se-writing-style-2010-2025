Automatic Detection of Potential Layout FaultsFollowing Changes to Responsive Web PagesThomas A. Walsh∗, Phil McMinn∗and Gregory M. Kapfhammer†∗Department of Computer Science, University of Shefﬁeld, UK†Department of Computer Science, Allegheny College, USA∗{p.mcminn, twalsh1}@sheffield.ac.uk†gkapfham@allegheny.eduAbstract—Due to the exponential increase in the number ofmobile devices being used to access the World Wide Web, it iscrucial that web sites are functional and user-friendly across awide range of web-enabled devices. This necessity has resultedin the introduction of responsive web design (RWD), which usescomplex cascading style sheets (CSS) to ﬂuidly modify a web site’sappearance depending on the viewport width of the device in use.Although existing tools may support the testing of responsive websites, they are time consuming and error-prone to use because theyrequire manual screenshot inspection at speciﬁed viewport widths.Addressing these concerns, this paper presents a method thatcan automatically detect potential layout faults in responsivelydesigned web sites. To experimentally evaluate this approach, weimplemented it as a tool, calledREDECHECK, and applied itto 5 real-world web sites that vary in both their approach toresponsive design and their complexity. The experiments revealthatREDECHECKﬁnds 91% of the inserted layout faults.I. INTRODUCTIONWhen the number of different types of mobile deviceaccessing the Internet were few in number, web developerscould create and maintain different versions of a web siteintended for optimal viewing on a particular mobile device ora larger laptop or desktop screen. Yet, the recent explosion inthe number of mobile devices – OpenSignal reports18,796unique devices running Android in the year 2014 [1] – rendersthis approach to testing infeasible because there are too manydevices and associated viewport widths to consider. Since morethan1in4Google searches now originate from a mobiledevice [2] and67%of respondents in a recent Google Researchsurvey said they were more likely to make a purchase froma web site if it was “mobile friendly” [3], developers and testersmust account for the vast variety of mobile viewport widths.Responsive web design (RWD) is a recent approach fortackling the proliferation of viewport widths that allowsdevelopers to make a single site that is intended to be usedand viewed easily across a range of devices, from those withsmall screen sizes (i.e., mobile devices) to those with largerresolutions usually found on laptop and desktop computers [4].The key idea behind RWD is that, instead of designing andmaintaining separate versions of the web site for particulardevices or a set of ﬁxed resolutions [5], the developer creates ascheme to lay out a web page’s elements differently dependingon the user’s particular viewport width. This scheme is referredto as the page’s “responsive design”. Using “ﬂuid grids” and“ﬂexible images”, RWD principles insist that a web site shouldcapably accommodate all possible viewport resolutions [4].Using media queries, a feature of modern cascading stylesheets (CSS) and the hypertext markup language (HTML), aresponsively designed web site will detect the current viewportwidth and adjust element sizes and alignment for it, thus makingthe best use of the space available and ensuring that a user caneasily interact with the page and read its content [4]. This is notthe case when a page designed for a desktop is “shrunk” downto ﬁt a smaller screen – something that mobile devices tend todo in the absence of a responsively designed site. While somemay argue that RWD only impacts the aesthetics or layoutof a web site, it is important to note that it is precisely thepresence of these characteristics that increases a site’s perceivedusability [6] and the loyalty that users feel about it [7].Even though RWD leads to mobile-friendly sites, recentexperiments with web developers suggest that programmingHTML and CSS is error-prone and difﬁcult [8]. Additionally,68,289questions on the StackOverﬂow web site have beentagged with labels related to responsive web design [9],suggesting that real-world web developers and testers oftenstruggle with the practice of responsive web design. Whileexisting tools (e.g., WRAITH[10] and RESPONSIVEPX [11])support some aspects of testing responsively designed websites, they are time consuming for testers to use because theyrequire manual page inspection at speciﬁc viewport widths.Reacting to the importance of creating responsively designedsites and the challenge of implementing pages that are freeof errors in layout, this paper presents a method that modelsthe nuances of a responsive web site and automatically detectschanges in it that result from CSS modiﬁcations. Implementedas a tool called “REDECHECK” (REsponsive DEsign CHECKer,pronounced “Ready Check”), the presented approach reportspotential layout faults in responsively designed web sites.Using 5 web sites that adhere to RWD principles, werefunctional as of May 2015, and contained between937and8,711lines of CSS code, we experimentally evaluated theeffectiveness of REDECHECK. The experiments demonstratethat our method can automatically ﬁnd 91% of the insertedfaults, while not erroneously reporting faults that do not exist.In summary, the key contributions of this paper are:1)Implemented as a tool called REDECHECK, a method forautomatically detecting layout faults in responsive sites;2)Using real-world web sites, an initial empirical studydemonstrating the beneﬁts of the presented method.II. BACKGROUNDA. Responsive Web DesignIllustrating some of the complexities inherent in the taskof testing a responsive web site, Figure 1a shows a wireframeexample of a responsive page at three viewport resolutionssimilar to those used by a smartphone, tablet, and a desktopcomputer. The page involves ﬁve menu items, implementedwith ﬁveliHTML elements, denotedli[1]toli[5]; andsix content panels, implemented with sixdivHTML elements,denoteddiv[1]todiv[6]. At the smallest viewport widthof 400 pixels, the menu items are hidden and only displayedwhen the user clicks a button in the top-right corner of thepage, while the main content panels are stacked in a singlecolumn, requiring the user to scroll down the page to access
2015 30th IEEE/ACM International Conference on Automated Software Engineering
978-1-5090-0025-8/15 $31.00 © 2015 IEEE
DOI 10.1109/ASE.2015.31709
div[1]div[2]div[3]li[1]li[2]li[3]li[4]li[5]div[1]div[2]div[3]div[4]li[1]li[2]li[3]li[4]li[5]div[1]div[2]div[3]div[4]div[5]div[6](a-i) 400 pixels wide(a-ii) 800 pixels wide(a-iii) 1200 pixels wide(a) Original version of a web page
@media(min-width:768px) {/*original rule*/li {width: 140px;}/*modified rule*/li {width: 150px;}}li[1]li[2]li[3]li[4]li[5]div[1]div[2]div[3]div[4]li[1]li[2]li[3]li[4]li[5]div[1]div[2]div[3]div[4]div[5]div[6](b-i) CSS code(b-ii) Modiﬁed version at 800 pixels wide(b-iii) Modiﬁed version at 1200 pixels wide(b) Modiﬁed version of a web page showing the result of a layout faultFigure 1. A simple responsive web page shown at three different resolutions. (a) The original version of the web page, withlielements making up a list ofmenu items anddivelements making up content panels. (b) The result of a change to the CSS code (b-i) that increases the width of the menu items, and isintended to only inﬂuence the 1200 pixel viewport width (b-iii). However, the modiﬁcation unintentionally causes a layout issue at the 800 pixel viewport width(b-ii) such that the menu items are now too wide to ﬁt on one line and the last element incorrectly wraps to the next line.all of the content. As the viewport widens to 800 pixels, thedropdown button disappears and the menu items are laid outin a single row in the header at the top of the web page, withthe content panels rearranged in the main body of the pageinto a two abreast layout. As the viewport widens further to1200 pixels the content panels again switch, this time to a threecolumn layout, thus making optimal use of the space available.Responsive web sites are developed using a combinationof HTML and CSS that ultimately creates the document objectmodel (DOM) representing a web site’s structure. Using CSSrules, HTML elements can be set to dynamically proportionthemselves according to the available space, thus being arrangedin containers whose dimensions are ﬁxed by the size of thecurrent viewport. For instance, the following CSS rule ensuresthat two HTMLdivelements will horizontally take up halfof a web page and, in addition, appear side by side:div { width: 50%;}Here, thedivelement is instructed to take up 50% of thewidth of its container, thereby adjusting to an exact width inpixels that depends on the dimensions of the device or webbrowser window in which the page is being viewed.Additionally, special CSS rules, known asCSS3 mediaqueries[4], can be used to switch on a speciﬁc set of CSSrules depending on the viewing device’s constraints. In thefollowing code example, an HTMLbuttonelement shouldonly appear at viewport widths below 500 pixels. The buttonactivates a menu that displays a series of navigation links. Atlarger page widths, such as those on a desktop, there is enoughspace to always show all these links in a navigation bar, andas such a special button for activating them is not needed.@media(max-width: 499px) {button { display: block; }}@media(min-width: 500px) {button { display: none; }}In this code segment, the 500 pixel viewport width is aninstance of abreakpoint. In the context of responsive webdesign, a breakpoint is some threshold at which different CSSrules are switched on or off so that a page can be optimallylaid out according to the speciﬁcs of the particular device beingused to view it – in this example, the width of the screen.B. Layout FaultsCreating a responsive design is a challenging process, sincethe style sheet must be carefully constructed such that, fordifferent viewing constraints, the right set of CSS rules areswitched on and work correctly for the right HTML elements,while other HTML elements correctly adjust in size. Whilemany developers choose to work with a framework, such asBootstrap [12]o rF o u n d a t i o n[13], that provides CSS rules foran initial set of reusable and common layouts, these layoutsonly represent starting points and thus require customization toensure a unique, yet cohesive, look and feel for the web site.Figure 1b demonstrates how small changes to the CSS canresult in undesirable effects not intended by the developer andoften manifested at different viewport widths. We refer to suchmistakes aslayout faults. Suppose the developer is workingwith the web page design at a viewport width of 1200 pixels.Seeing the extra width available to the menu item elements, shewidens them from 140 pixels to 150 pixels. The CSS change isshown by part b-i of the ﬁgure, with the change in appearanceof the page at 1200 pixels wide shown by part b-iii. Since hercurrent viewport is set to 1200 pixels wide, she assumes thatthe tweak had the intended effect and, in addition, introducedno inadvertent layout faults to the web page.Yet, unless she explicitly checks the page (e.g., by manuallyadjusting the browser’s width), she will be unaware of theimpact the change has had at other viewport sizes. At a width of
710800 pixels, shown in part b-ii, the menu items are now too wideto ﬁt on one line, with the last element wrapping onto a second.As this issue continues to go unnoticed and more changesare made to the site, the developer may struggle to recall theinitial CSS modiﬁcation that caused the problem, thus requiringmore effort to diagnose and ﬁx it. This example underscoresthe challenge of tweaking a responsive design: each time achange is made,allresolutions need to be manually recheckedfor unintentional side-effects. This is a time-consuming anderror-prone process – in viewing a large number of resolutionsand layouts, developers and testers can easily miss faults thatultimately make their way into the live web site.The previous example shows how a developer is expectedto engineer a web page layout that is aesthetically pleasing andeasy to use across a range of different screen sizes, managing:1. Visibilityof HTML elements, since not all elements needto be shown at all viewport widths (e.g., the button shown inthe top right of the 400 pixel view given in Figure 1a-i).2. Varying widthof HTML elements, since elements changewidth when the viewport width changes (e.g., the body panelsdiv[1]–div[6]are 100% of their container’s width whenthe viewport is 400 pixels wide, but then take up a smallerpercentage of the width when viewed at larger viewports).3. Changing relative alignmentof HTML elements acrossdifferent viewport sizes (e.g., the content panelsdiv[1]–div[6]are stacked at the 400 pixel width view, but thenﬂuidly realign alongside one another at larger screen widths,where they can comfortably ﬁt in such a conﬁguration).Maintaining all of these aspects at once can be a challengingtask. Yet, while the height of an HTML element may also ﬂuidlychange, this is usually a result of the browser automaticallyre-arranging the contained content in response to a change inviewport width. As such, the developer tends not to explicitlycontrol this aspect of the layout through CSS. Unlike its width,the overall height of a web page is not generally ﬁxed, under thereasonable expectation that the user will scroll to access contentthat does not ﬁt into the height of the viewport. This assumptionhas led to the emergence of single-page, vertical-scrolling websites recently becoming a mainstream trend [14].As far as the authors are aware, there has been no previouswork addressing the problem of automatically detecting layoutfaults following changes to responsive web pages. While varioustools have been developed to allow developers to view theirweb site at the resolutions common to different devices, theviewport sizes tend to be ﬁxed. As such, layout faultsbetweenthe different resolutions presented may be missed. Regardlessof whether or not a tester can pick a bespoke viewport, thesetools require much manual effort and are thus error-prone.III. OURAPPROACH:THERESPONSIVELAYOUTGRAPHOur approach models the layout of a responsive web pageacross a series of viewport widths, explicitly taking account ofthe key aspects of responsive layout detailed in SectionII-B,namely the changingvisibility,width, andrelative alignmentofweb page elements. We refer to our model as theResponsiveLayout Graph(RLG), as it builds upon concepts associatedwith thealignment graphthat was proposed and developedby Choudhary et al. [15]. A change to a responsive web pagecauses a change to its RLG, which may either be a legitimatetweak to the page’s design, or the indication of a layout faultneeding to be brought to the attention of the developer.A. Deﬁnitions and ExampleGiven a set of web page elementsERLGfor a web pageW,we deﬁne three types of constraint (one for each trait of RWDlayout) which together form a Responsive Layout Graph:Deﬁnition 1 (Visibility Constraint):A visibility constraintvc, for some web page elemente∈ERLG, is a pair(x1,x2)that represents a range of viewport widths, inclusive ofx1andx2, for whicheis present in the DOM of a web page.Deﬁnition 2 (Width Constraint):Aw i d t hc o n s t r a i n twc,for some page elemente∈ERLG, is a 4-tuple(x1,x2,m,c),that describes how the widthweof the elemente(measured inpixels) varies in relation to the widthwpof its direct container(i.e., its parent), using the valuesmandcderived from theline that ﬁts the element’s widths betweenx1andx2pixelsaccording to the linear equationwe=(m100×wp)+c.The ﬁnal deﬁnition draws on concepts from the alignmentgraph deﬁned by Choudhary et al. [15], in particular the notionof relationship types between web page elements, drawn fromthe setT={pc,s}.Aparent-childrelationship, denoted by theelementpc, exists between a web page element and the elementthat directly contains it (i.e., its parent). Meanwhile, asiblingrelationship, denoted by the elements,e x i s t sb e t w e e na n yp a i rof elements that share the same parent. These relationships aredescribed with a set of alignment attributes, a subset ofQ={L,R,A,B,...}, which characterize the relative alignmentof the elements in the layout of the page.L,R,A, andB,for instance, represent an element being “left of”, “right of”,“above”, and “below” its sibling, respectively (we refer thereader to reference [15] for the full deﬁnition ofQand adiscussion of all the different alignment attribute types).Deﬁnition 3 (Alignment Constraint):For a pair of webpage elementse1∈ERLGande2∈ERLG, an alignmentconstraintacis a 4-tuple(x1,x2,t,P), wheret∈Tdenotesa parent-child or sibling relationship type andP∈2Qis a setof relative alignment attributes, both of which hold fore1ande2between the viewport widths ofx1andx2pixels.Note that, in all of these deﬁnitions,x1represents the lowerbound of the constraint, so the conditionx1≤x2holds.For a web pageWit is possible to derive the respectivesets of visibility, width, and alignment constraintsVC,WC,andAC, which, along with the set of elementsERLG, forman RLG. An example RLG over the range of viewport widthsfor the web page of Figure 1a is shown in Figure 2. Each webpage elemente∈ERLGcorresponds to a node in the graph,with the node name displayed in bold face and visibility andwidth constraints shown above and below, respectively. Directededges in the graph form relationships between HTML elements,labeled with alignment constraints. The variableswminandwmaxdenote the minimum and maximum viewport widths thatan RLG considers in the generation process. Many web pageelements can be seen over all viewport widths, and so have thevisibility constraint(wmin,wmax). One exception is the buttonelement, which is only visible betweenwminand 767 pixels.This RLG also shows examples of varying width constraints:for instance, the elementsdiv[1]–div[6]have the widthconstraints(wmin, 767, 100, 0)and(768,wmax, 0, 300). Thatis, they ﬁll 100% of the parent’s width when the viewport is767 pixels or less wide, appearing at a ﬁxed width of 300 pixelswhen the viewport is 768 pixels or wider. These elements alsoexhibit changing alignments over these two ranges, appearingabove one another when the viewport width is below 768 pixelswide and otherwise tiled across their containingmainelement.
711(wmin,wmax)body100%of viewport(wmin,wmax)main(wmin,wmax,100, 0)(768,wmax)ul(768,wmax,100, 0)(wmin,767)button(wmin, 767, 0, 40)(wmin,wmax)div[1](wmin,767, 100, 0)(768,wmax, 0, 300)(wmin,wmax)div[2](wmin,767, 100, 0)(768,wmax, 0, 300)(wmin,wmax)div[3](wmin,767, 100, 0)(768,wmax, 0, 300)(768,wmax)li[1](768,wmax,0, 140)(768,wmax)li[2](768,wmax,0, 140)(768,wmax)li[3](768,wmax,0, 140)(wmin,wmax,s,{B})(wmin,767,s,{A})(768,wmax,s,{L})(wmin,767,s,{A})(768, 991,s,{A,R})(992,wmax,s,{L})(768,wmax,s,{L})(768,wmax,s,{L})Figure 2. A fragment of the RLG for the web page of Figure 1a over a rangeof viewport widths betweenwminandwmax. (For space reasons, we haveomitted certain nodes, and all alignment constraints on parent-child edges.)Formally, an RLG is deﬁned by a 5-tupleRLG=(ERLG,RRLG,FVC,FWC,FAC), whereERLGis the com-plete set of web page elements that are displayed for atleast one viewport width betweenwminandwmaxandRRLG⊆ERLG×ERLGis the set of edges for pairs ofnodes for which at least one alignment constraint exists.Next,FVC:ERLG→2VCis a function mapping an elementto a set of visibility constraints where∀e∈ERLG,|FVC(e)|≥1(i.e., each element is visible for at least one viewport width).In addition,FWC:ERLG→2WCis a function map-ping an element to a set of width constraints, such that∀e∈ERLGand∀wca=(xa1,xa2,ma,ca)∈FWC(e)and∀wcb=(xb1,xb2,mb,cb)∈FWC(e), wheneverwca/negationslash=wcb,the conditionxa1≥xb2∨xa2≤xb1must hold. That is, foreach page element, any viewport width should fall within thebounds of at most one of that element’s set of width constraints.Finally,FAC:RRLG→2ACis a function that mapsan edge to a set of alignment constraints, such that∀r∈RRLGand∀aca=(xa1,xa2,ta,Pa)∈FAC(r)and∀acb=(xb1,xb2,tb,Pb)∈FAC(r), ifaca/negationslash=acb, thenxa1≥xb2∨xa2≤xb1. That is, for a particular viewport width, there is atmost one alignment constraint for a pair of web page elements.B. Constructing the Responsive Layout Graph (RLG)To generate the RLG, the approach ﬁrst inspects the layoutof the web site in question at a series of viewport widths,gaining an overall understanding of the responsive layout andrecording its DOM at each viewport width. This represents thestarting point for the RLG construction algorithm.Using the DOMs gathered in the method’s initial phase, thesecond phase of our approach extracts the three categories ofconstraints, as deﬁned in SectionIII-A. First, the elementsvisible at each viewport width are analysed to determinethe visibility constraints, paying special attention to elementsTable I. RESPONSIVEWEBPAGESUSED IN OUREMPIRICALSTUDY“LOC” refers to lines of code after a standard formatting process. A CSS block (“Blocks”)is a series of individual declarations (“Decls”) applied to a class of HTML elements.Web site nameHTMLCSS(homepage URL studied) LOC DOM Nodes LOC Blocks DeclsAftrnoon(http://aftrnoon.com)205 112 2658 458 1000Brieﬁng(http://brieﬁ.ng)396 196 5814 1147 2173Bootstrap(http://getbootstrap.com) 293 149 8711 1756 3199Reserve(http://reserve.com)230 125 6792 1375 2539Responsive Process(http://responsiveprocess.com) 267 142 937 165 376appearing or disappearing at a particular viewport width. Next,the extraction of alignment constraints begins by creating anelement hierarchy at each viewport width where an element’sparent is the smallest element to completely contain it, asoriginally deﬁned by Choudhary et al. [15]. Then, the relativealignment of related elements is generated through the use ofDOM coordinates, and subsequently analysed to determine howthe elements rearrange themselves to ﬁt within the viewport.Finally, the method examines the width of each element and itsparent element across all viewport widths, thereby producing aset of width constraints for that particular element.To detect layout faults, our approach performs the previoustwo steps for both the modiﬁed and original versions of theweb page under test. Next, it performs a simple pairwisecomparison on the two generated RLG models, considering allthree categories of constraints and reporting any differences.IV. EMPIRICALEVA L UAT I O NTo assess the effectiveness of our approach we applied it to5 responsively designed web sites that evidenced the followingcharacteristics: (i) they were live and functional as of May 2015,(ii) their developers either used popular RWD frameworks suchas Bootstrap [12] and Foundation [13] or hand-coded their ownsolutions, and (iii) they varied in their size and complexity, asshown by Table I. The primary aim of this experiment wasto see how effective the generated RLGs are when used todetect different types of changes made to web pages. To answerthis question, we developed and applied mutation operatorsthat insert faults into a web site’s CSS ﬁles and then checkedwhether our method could detect these changes.A. MethodologyWe implemented the approach described in Section III asa prototype tool, called “REDECHECK” (REsponsive DEsignCHECKer, pronounced “Ready Check”). It is written in theJava programming language, and where appropriate to avoidduplicating effort, re-uses methods from the alignment graphcode of theX-PERTtool [16]. To conduct the experiment, weran REDECHECKon an iMac running OS X Yosemite with8GB of RAM and used Selenium (2.43.1) [17] to drive a recentversion of Google Chrome (42.0.2311.152).For each subject web page, we ﬁrst downloaded all ﬁlesrequired to render the page, before automatically generating aset of modiﬁed versions of the page (i.e., the mutants). We thenran REDECHECKon both the original version of the web pageand each mutant and then classiﬁed each comparison result.Through manipulation of the CSS rules found in the page’sstyle sheet, these small changes affect the page’s layout. Forthis experiment, we created two mutation operators to inject
712Table II. MUTATIONANALYSISRESULTS FORREDECHECKWeb PageTP TN FP FN RecallAftrnoon14 5 0 1 93.3%Brieﬁng 19 1 0 0 100%Bootstrap 13 1 0 6 68.4%Reserve 18 1 0 1 94.7%Responsive Process 16 4 0 0 100%the changes. The ﬁrst, which we refer to as thebreakpointmutation operator, targeted the values used inmin-widthandmax-widthdeclarations in the media queries. This operatoradjusts the value by an amount selected at uniform randombetween±10of the original, as in the following example:@media (min-width: 640px)→@media (min-width: 647px)The second operator, referred to as therule mutation opera-tor, targets thewidth,margin, andpaddingdeclarations ofthe style sheet, again adjusting values by±10of the originalat uniform random, as shown in the following example:li{width: 75%}→li{width: 73%}To inject mutants, REDECHECKanalyzes the HTML of theweb page to ﬁnd all the CSS selectors and media queries linkedto each element appearing on the web page. (This is so that thetool does not mutate parts of the style sheet that are irrelevantfor the web page concerned.) REDECHECKﬁrst parses the webpage’s CSS ﬁles, and then extracts a list of potential mutationlocations for each operator. To create a mutant, REDECHECKpicks an operator with an even probability, then selects a CSSlocation at uniform random, and then applies the operator itself.We used REDECHECKto create 20 mutant versions of eachweb page. We then used our tool to generate an RLG of theoriginal page and the mutant version, using a sampling step sizeof 60 pixels in a viewport width range of 400–1300 pixels. Wechose the step size of 60 pixels since, during REDECHECK’sdevelopment and initial experimentation, we observed that itprovided a good compromise between the quality of the modelgenerated and the effort required to construct it (i.e., the numberof viewport widths that needed to be sampled).Next, REDECHECKcompares the two DOMs of the pagesand their respective RLGs and categorizes the result as either atrue positive,true negative,false positive, orfalse negative.W ecategorize the result as “positive” if the RLGs are different, elseit is “negative”. Whether the positive/negative is true or falsedepends on whether the DOMs are actually identical or not.(Even though we purposely restrict mutation locations to CSSrules and queries actually linked to elements appearing on thepage, equivalent mutants are still possible if, for example, themutated rule is later overwritten by a subsequent declaration inthe style sheet.) If the DOMs are different, a “positive” resultis atrue positive, otherwise it is afalse positive. Conversely,a“ n e g a t i v e ”r e s u l ti safalse negativewhen the DOMs aredifferent, otherwise, it is atrue negative.B. Threats to ValidityWhile it is possible that the implementation of RE-DECHECKmay be incorrect, we managed this validity concernthrough extensive manual inspection – aided by automatedmethods provided by the Chrome Developer Tools – ofresponsive layout graphs generated for a wide variety ofweb sites. Thorough testing of the third-party tools usedin REDECHECK, like an HTML and CSS parser and X-PERT [16], also mitigated the risk of defects compromising theempirical results. Moreover, all of the tedious, yet important,analyses – such as the DOM comparisons needed to classify theresults into categories such as true positive and false negative –were performed using automated and well-tested procedures.In addition, the empirical results could be compromised ifour mutation operators do not introduce layout faults that areoften evident in responsively designed web pages. While it istrue that we did not insert all of the types of faults that couldconceivably be made by web developers (e.g., we do not mutatethefloatproperty in the CSS ﬁles), our mutation operatorsare both meaningful and varied. By mutating themin-width,max-width,width,padding, andmarginproperties, weintroduced 20 mutants into each of the 5 web sites, thus creatinga total of 100 mutants that represent a wide variety of faultsthat real-world web developers might create.C. ResultsTable II presents the results of comparing the RLG modelsgenerated for the original web pages against the one derivedfrom the mutated versions of those pages. While a numberof equivalent mutants (i.e., true negatives) were generated forsome of the subjects, in general, most mutants impacted theDOM of each page. The results show that the RLG supports thedetection of a large proportion of the injected changes, with nofalse positives and only a small number of false negatives (i.e., 8out of the 100 actual mutants). A careful manual analysis of thefalse negative results reveals that the DOM changes resultingfrom these CSS mutations were too subtle to cause a change inthe generated feature sets in the alignment constraints – typicallya very small shift in position of the element – resulting in nochange to the ﬁnal RLG. In conclusion, the results reveal thatthe RLG model effectively enables the detection of changes tothe subject web pages, with no misleading false positives.D. DiscussionDuring the implementation and experimental evaluation ofREDECHECK, we observed some qualitative beneﬁts associatedwith this new method for detecting potential layout faults inresponsively designed web sites. First, it is important to stressthat the automated modeling of a responsive web site obviatesthe need for a tester to pick viewport widths for inspection, onlystudy the defaults commonly advocated by current testing tools,or accept the random selection of hopefully useful viewports.This feature of REDECHECKis especially beneﬁcial since wenoticed that responsive faults are often found at hard-to-predictviewport widths between the breakpoints standardly employedin RWD. We anticipate that testers will also proﬁt from usingREDECHECKas it creates a report both highlighting the setof viewport widths that have potential layout faults and givingvaluable context in the form of the RLG and the DOMs. Thisis in contrast to other RWD testing tools that either do notpinpoint differences or only coarsely note a difference in asingle viewport width. While it is true that REDECHECKmayhighlight layout differences that a web developer intended, weargue that the contextualized and informative nature of ourtool’s report partially mitigates this important concern.It is worth noting again that REDECHECKcould not detectcertain subtle faults involving very small changes in the positionof a web element. Yet, in our experience, humans viewing thesemutated sites were also not able to notice these layout faults,thus suggesting that our tool’s deﬁciency is indeed minimal.
713Finally, a tester wishing to ﬁnd layout failures across an entireresponsive site would need to run REDECHECKon a page-by-page basis – a process that is, although potentially cumbersome,fully amenable to automation. With that said, we also found thatREDECHECKcan effectively test a responsive site implementedaccording to any viable strategy for introducing responsiveness(i.e., using bespoke CSS declarations or leveraging an existingframework such as Bootstrap [12] or Foundation [13]).V. RELATEDWORKSince, to the best of our knowledge, this paper is the ﬁrstto tackle the challenges associated with testing responsivelydesigned web sites, this section brieﬂy reviews the relatedwork in the broader area of web testing. Choudhary et al. havedeveloped several methods for cross-browser testing (XBT),the most recent of which is calledX-PERT [15]. Developedby Dallmeier et al., WEBMATEis similar toX-PERT inthat it also focuses on cross-browser testing [18]. Since theprimary focus of both was single-resolution XBT they are,unlike REDECHECK, not tailored to responsive design.Perhaps the most similar work to ours is that of Mahajan etal. [19], which aimed to automatically ﬁnd differences betweena graphic of how a web page should look and its ﬁnal design.However, since this technique only operates at a single, ﬁxedviewport width – and thus it would require a substantial numberof graphics to fully test the ﬂuidity of a responsive web page –it is not well suited to the challenges in this paper’s problemdomain. The WRAITHtool [10] similarly suffers from thesame difﬁculties as Mahajan et al.’s method in that it toodifferences web page graphics on a per-resolution basis ratherthan considering the responsive layout of sites.Currently, there are also several developer tools that addresssome of the concerns associated with testing responsive websites. Multi-screenshot tools, such as Kersley’s [20], allow atester to view a site at several common viewport widths whileviewport resizers like RESPONSIVEPX [11], support the ﬁne-tuning of the viewport size for testing a speciﬁc device. Whilethese may be useful, they are not a substitute for an automatedmethod like the one provided by REDECHECK.VI. CONCLUSION ANDFUTUREWORKEven though there are clear beneﬁts to making responsiveweb sites [21], most Fortune 500 companies do not have amobile-friendly site [22] – an alarming trend due, at least inpart we believe, to the inherent difﬁculties of both developingand satisfactorily testing responsive web sites. Since recentexperiments show that programming HTML and CSS is error-prone and difﬁcult [8], we think that developers and testerswill welcome tools that automatically test responsive sites.As such, this paper presents an automated method for detect-ing potential faults in the layout of responsively designed pages,thereby tackling the challenges of implementing and testingweb sites that adhere to RWD principles, To experimentallyevaluate this new approach, we implemented it as a tool calledREDECHECKand applied it to 5 responsive web sites thatwere live as of May 2015. In support of assessing whether ornot REDECHECKcould detect small changes in a web page’slayout, we designed breakpoint and rule mutation operators tomanipulate the declarations found in a site’s CSS style sheets.The core focus of our future work is to ﬁlter the resultsgenerated by REDECHECKso that only unintentional changes,such as the one presented in SectionII-B, are reported. Inaddition, to further evaluate the effectiveness of our approachwe will conduct experiments with both a greater varietyof responsively designed sites and more mutation operators.Finally, we plan to extend REDECHECKwith new featuresto support more of the complexities of real-world pages. Forinstance, we will add the capability to handle JavaScript codethat responds to user interaction and enhance our model of asite’s responsive behavior so that it incorporates characteristicsof web elements (e.g., the font and color of headers). Whilethe second of these two features will expand the scope ofREDECHECKbeyond of the important domain of responsivelayout faults, we judge that the combination of the suggestedfuture work with the sophisticated method presented in thispaper will yield a useful tool that effectively aids developersand testers as they create high-quality responsive web sites.REFERENCES[1]A. Van’t Hof, H. Jamjoom, J. Nieh, and D. Williams, “Flux: Multi-surfacecomputing in Android,” inProc. of the 10th EuroSys, 2015.[2] Statista, “Statistics portal,” accessed: 2015-27-02. [Online]. Available:http://goo.gl/19fZcq[3]R. Hof, “Google research: No mobile site = lost customers,”Forbes,2012. [Online]. Available: http://goo.gl/khJ09v[4] E. Marcotte,Responsive Web Design. A Book Apart, 2014.[5] A. Gustafson,Adaptive Web Design. Easy Readers LLC, 2011.[6]J. Hartmann, A. Sutcliffe, and A. De Angeli, “Investigating attractivenessin Web user interfaces,” inProc. of the 25th SIGCHI, 2007.[7]D. Cyr, M. Head, and A. Ivanov, “Design aesthetics leading to m-loyaltyin mobile commerce,”Inf. Manag., vol. 43, no. 8, 2006.[8]T. H. Park, B. Dorn, and A. Forte, “An analysis of HTML and CSS syntaxerrors in a Web development course,”Trans. Comput. Educ., vol. 15,no. 1, 2015.[9] StackExchange Data Explorer, “Prevalence of Bootstrap, Foundation,and Responsive as tags,” accessed: 2015-06-05. [Online]. Available:http://goo.gl/sEknaT[10] BBCNews, “Wraith,” accessed: 2015-02-02. [Online]. Available:https://github.com/BBC-News/wraith[11]R. Sharp, “ResponsivePX: Find that tricky breakpoint,” accessed:2015-02-02. [Online]. Available: http://responsivepx.com/[12]M. Otto and J. Thornton, “Bootstrap: Mobile-ﬁrst and responsivefront-end framework,” accessed: 2015-04-05. [Online]. Available:http://getbootstrap.com/[13] ZURBCorporation, “Foundation: Responsive front-end framework,”accessed: 2015-04-05. [Online]. Available: http://foundation.zurb.com/[14]C. Bloq, “5 of this year’s vertical scrolling trends,” accessed: 2015-31-07. [Online]. Available: http://www.creativebloq.com/web-design/vertical-scrolling-trends-2015-121413698[15]S. Roy Choudhary, M. R. Prasad, and A. Orso, “X-PERT: Accurateidentiﬁcation of cross-browser issues in Web applications,” inProc. ofthe 35th ICSE, 2013.[16]——, “X-PERT: A web application testing tool for cross-browserinconsistency detection,” inProc. of ISSTA, 2014.[17]“Selenium: Web browser automation,” accessed: 2015-02-02. [Online].Available: http://www.seleniumhq.org/[18]V . Dallmeier, B. Pohl, M. Burger, M. Mirold, and A. Zeller, “WebMate:Web application test generation in the real world,” inProc. of ICSTW,2014.[19]S. Mahajan and W. G. J. Halfond, “Finding HTML presentation failuresusing image comparison techniques,” inProc. of the 29th ASE, 2014.[20]M. Kersley, “Responsive design testing,” accessed: 2015-02-02. [Online].Available: http://mattkersley.com/responsive/[21]C. Dougherty, “Google adds ‘mobile friendliness’ to its search criteria,”The New York Times, 2015.[22]T. McCorkindale and M. Morgoch, “An analysis of the mobile readinessand dialogic principles on Fortune 500 mobile websites,”Pub. Rel. Rev.,vol. 39, no. 3, 2013.
714
View publication stats