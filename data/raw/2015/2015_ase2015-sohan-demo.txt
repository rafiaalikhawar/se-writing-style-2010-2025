SpyREST in Action: An Automated RESTful API
Documentation Tool
S M Sohan, Craig Anslow, and Frank Maurer
Department of Computer Science
University of Calgary
Calgary, Alberta T2N 1N4
Email: {smsohan, craig.anslow, frank.maurer }@ucalgary.ca
Abstract —RESTful APIs are often manually documented. As a
result, the process of maintaining the documentation of RESTful
APIs is both expensive and error-prone. In this demonstration
paper , we present SpyREST as an automated software as a service
tool that can be used to document RESTful APIs. SpyREST
leverages an HTTP Proxy server to intercept real API calls to au-
tomatically collect and generate RESTful API documentation by
processing HTTP trafﬁc involved in API calls. SpyREST provides
an automated yet customizable example based documentation
solution for RESTful APIs. RESTful API developers can use
SpyREST to automatically generate and maintain updated API
documentation.
Keywords —RESTful API, W eb API, Documentation, Automa-
tion, Example based documentation
I. I NTRODUCTION
Fielding introduced RESTful APIs as a versatile mecha-
nism for connecting internet based applications [1]. For exam-
ple, a hotel web site may use the Google Maps API to provide
driving directions to the hotel. RESTful API developers need
to provide and maintain API documentations when releasing
the APIs so that the APIs can be used. Maintaining API
documentation manually is less efﬁcient and often less reliable
than automated documentation [2].
Automated solutions exist for documentation of local APIs
within the context of classes, and methods. For example,
JavaDoc can automatically generate the documentation for
Java APIs. For RESTful APIs, instead of classes and objects,
the context of APIs are deﬁned by API endpoints, resources,
actions, and example API calls in terms of the HTTP headers,
request and response payload formats [3]. The existing tools
for documenting local APIs do not natively support the differ-
ent context for RESTful APIs and cannot be readily used to
document RESTful APIs.
In this paper we present SpyREST which provides the
necessary tool support to address the unique needs for RESTful
API documentation. To this regard, in the next section we have
discussed the design goals followed by a HTTP proxy server
based prototype implementation to demonstrate an automated
RESTful API documentation tool. We then present two use
cases to show how API developers can use SpyREST to auto-
matically generate and maintain RESTful API documentation.
In the discussion, we compare SpyREST against other tools.
We provide an analysis of how the requirements for SpyREST
are derived in the related work section.II. S PYREST
A. Design
SpyREST is a web-based software as a service tool1[4].
The design goals of SpyREST is to provide an automated,
technology agnostic, and example driven solution for doc-
umenting RESTful APIs so that SpyREST can be used a
reusable tool to document multiple RESTful APIs . To auto-
generate documentation for RESTful APIs, SpyREST relies on
HTTP trafﬁc information captured while example API calls
are made using a HTTP proxy. The high level process can
be described as a three step process: API developers make
example API calls using a HTTP proxy server, the HTTP
proxy server captures the HTTP headers, request and response
data, the collected data is synthesized and presented on a web
application.
The proxy server used in SpyREST is a specialized server
for RESTful API documentation. A typical HTTP proxy server
can intercept and record the HTTP trafﬁc for example API
calls but further processing is required to generate a usable
RESTful API documentation out of the raw HTTP data. For
example, API reference documentations need to be version
aware so that the documentation can clearly refer to the
relevant API versions. To provide human readable descriptions
to the example API calls, relevant information needs to be
captured in addition to the raw HTTP trafﬁc. Post processing
is required to generate the structure of request and response
payloads by parsing and consolidating raw HTTP data from
multiple example API calls since the optional ﬁelds may not
be obvious when looked at individual example calls.
To generate usable documentation, SpyREST automatically
parses the captured HTTP request and response data and
presents summary tables showing the structure for HTTP
query parameters, headers, request and response data. For
each ﬁeld, SpyREST displays the name of the ﬁeld, example
values and automatically inferred data type information such
as integer, date time, boolean, and string. To reduce verbosity
from large API responses, SpyREST automatically strips large
responses to only show representative samples from repeated
values in arrays. SpyREST does not capture and strip off any
authorization headers used in the example API calls to prevent
conﬁdential information from being part of the documentation.
By using an HTTP proxy server, SpyREST enables the
documentation of different RESTful APIs independent of the
1http://SpyREST.com
2015 30th IEEE/ACM International Conference on Automated Software Engineering
978-1-5090-0025-8/15 $31.00 © 2015 IEEE
DOI 10.1109/ASE.2015.92813
Fig. 1: SpyREST Design
implementation technology behind the APIs. SpyREST can be
used both as a software as a service tool or as a self-hosted
tool when isolation is desired. SpyREST is released as an
open-source product and for self-hosted solutions it can be
customized to ﬁt unique requirements.
The web interface of SpyREST provides a hierarchical
navigation for RESTful API documentation as follows: each
API host has one or more API versions, each API version has
one or more resources, each API resource has one or more API
actions, each API action may have a structure of HTTP query
parameters, headers, request and response payloads as well
as many API examples, each API example may have HTTP
query parameters, headers, request and response payloads. The
web interface also provides a wiki-like editor to allow API
developers to override auto generated API documentation. On
each page, the web interface includes collaboration features
so that API developers can discuss questions and collect
feedback about speciﬁc API documentation pages. For each
API example, SpyREST generates a cURL command that can
be run to execute the API examples without writing any code.
B. Implementation
SpyREST is composed of three main components as shown
in Fig. 1. The “Spy” component is the customized HTTP proxy
server. This component is written using NodeJS. The Spy
has internal logic to decode HTTP request URL and headers
and auto-detect API versions for the commonly used version
identiﬁer patterns. Table I shows examples of auto detected
versions from accept HTTP header and URLs.
TABLE I: Examples of auto detected versions
Type Example V alue Detected version
“accept” header application/vnd.ex.ca.v3+json v3
“accept” header application/vnd.ex.ca.v3.1+json v3.1
URL /v2/x v2
URL /v2.1/x v2.1
URL /v2.1-pre/users v2.1-pre
The Spy also parses the URL to auto detect the
API resources, API actions and query parameters for
the example API calls. For example, given an example
API call made to GET https://api.github.com/repositories?since=100 , the Spy automatically de-
tects the API resource as repositories , the API action
asGET /repositories , and a query parameter since
with an example value of 100 .
Even though the auto detected API version, resource
and actions cover the commonly observed patterns, API
developers can override the auto-detections of any of
these ﬁelds by using custom Spy speciﬁc HTTP headers
when making the example API calls. The HTTP head-
ersx-spy-rest-version ,x-spy-rest-resource ,
andx-spy-rest-action can be used to override auto-
detection of these respective ﬁelds. Additionally, API devel-
opers can use x-spy-rest-desc header to attach human
readable descriptions for each API example so that the web
interface can tag the examples against meaningful descriptions.
The “Web App” component is implemented using Ruby on
Rails. To allow RESTful API developers to edit auto generated
documentation, the Web App uses the Markdown Syntax. To
facilitate collaboration across all the API documentation pages,
the Web App uses Disqus, a popular third-party collaboration
service, for commenting.
The Spy writes the captured and synthesized API example
data into a MongoDB “Database”. The Web App reads and
saves custom edits on the same database.
All three SpyREST components are released as Docker
containers. Docker is a lightweight virtualization solution that
can either be hosted in-house or using many of the popular
cloud hosting providers. The public instance of SpyREST has
been tested with the three components in three separate docker
containers running on a single Linux server with 512MB
memory, 1 core processor, and 20GB disk space.
III. U SECASES
In this section, we describe two different use cases from the
perspective of initially generating a RESTful API documenta-
tion for the ﬁrst time and maintaining the documentation as
the API evolves over time.
A. Initial API Documentation
When releasing a RESTful API, API designers need to
publish the API documentation so that other developers can
use the APIs. For demonstration, consider generating docu-
mentation for the “GET /notiﬁcations (List your notiﬁcations)”
API that is exposed by GitHub2. Using this API a developer
can paginate through the list of all public repositories within
GitHub. This API action takes an optional parameter “since”
that can be used to specify a time ﬁlter.
To manually generate documentation for the GET
/notifications API, a developer needs to follow
these steps: S1) make example authenticated API calls to
GET/notifications , S2) record the HTTP headers with
request and response data, S3) remove duplicate information,
S4) remove authentication information, S5) format and stylize
the reduced information, S6) add custom content, S7) organize
multiple formatted documents together on a web site with
2https://developer.github.com/v3/activity/notiﬁcations/
#list-your-notiﬁcations
814(a) API documentation summary section
 (b) API documentation examples section
Fig. 2: SpyREST Screen shots showing auto generated API documentation
navigation, and S8) publish the documentation website. Steps
S1-S7 need to be repeated for each of the API endpoints. Since
these steps are manually performed, there is also a room for
human errors in the aforementioned steps. SpyREST aims to
minimize the potential for human errors by automating steps
S2-S5 and S7-S8.
To use SpyREST for auto-generating documentation of
an API, a developer only needs to make the example API
calls via the Spy proxy server with custom HTTP headers
for human readable descriptions for the API example. Custom
edits to the auto generated documentation may be made by
using the Markdown editor. Fig 2 shows a partial screen
shot of SpyREST generated documentation for this API given
four example API calls. SpyREST fully automates the steps
S2-S5, and S7-S8 as follows: S2) the Spy proxy server
records the HTTP trafﬁc, S3) the Spy automatically strips
off repeated items from the arrays in the response body,
S4) the Spy does not save any Authorization header,
S5) the Web App renders the documentation for all APIs
following a consistent look and feel, S7) the Web App providesbreadcrumbs for hierarchical navigation of the API objects,
and S8) the recorded data is automatically published by the
Web App in real-time. The API developers only need to focus
on ﬁnding good example API calls for S1 and describing the
complex rules about APIs that are not otherwise derivable
from looking at the request and response data alone for S7.
In addition to automating the RESTful API documentation
process, SpyREST also displays a cURL command for each
recorded API example so that developers can try the API
examples without having to write any code. Using in page
collaboration developers can discuss API related questions and
ﬁnd past conversation all in one place. In this speciﬁc example,
we see the ofﬁcial documentation of GET/notifications
provided by GitHub was outdated and missing sev-
eral ﬁelds (e.g. subscription url,repository.releases url,
repository.labels url,repository.notifications url and
28 more) that are automatically documented by SpyREST. API
developers can also customize the auto generated summary
information using a wiki-like editor on SpyREST. This allows
API developers to explain behaviors that cannot be derived
from analyzing the individual example API calls. For example,
815Listing 1: Example API call using SpyREST
1class Github
2
3 include HT TParty
4
5 base uri ' https :// api . github .c o m '
6 headers ( ' Accept ' = > ' application /vnd. github .v3+
json ' ,
7 ' User −Agent ' = > ' curl /7 .37.1 ' ,
8 ' content −type ' = > ' application / json ' ,
9 ' Authorization ' = >” t o k e n GITHUB API TOKEN ' ”
10 )
11
1 2 host , port = ' spyrest .c o m ' , 9081
1 3 http proxy host , port
14
15end
16
1 7 describe ' No tifications ' do
18
1 9 it ' List all notifications for the current user ,
where they are participating , since a time ' do
20
2 1 response = Github. get '/ notifications?all= true&
participating= true&since= 2 0 1 4 −01−0 1T 0 0:00:00
Z'
2 2 assert equal 200, response . code
23 end
24
25end
users can edit the table of Query Parameters to explain any
parameter that is not used in the example API calls or explain
validation rules (such as required, interdependent ﬁelds) about
the query parameters.
B. Maintaining API Documentation for evolving APIs
Maintenance of RESTful API documentation is another use
case of interest since the documentation for RESTful APIs
need to evolve with the APIs to reﬂect the updated informa-
tion. The 8 steps mentioned previously need to be repeated
every time any of the API objects changes when a manual
process is followed. Since APIs continue to evolve throughout
their lifetime, manually maintaining their documentation incurs
further costs or documentation can quickly become outdated.
SpyREST automatically updates the recorded information
for each example API call, so rerunning the API examples
automatically updates the auto-generated documentation. To
uniquely identify each example API call, the Spy computes
a digital signature of each example API call based on its
API version, resource, URL and custom description. To replay
the example API calls, API developers can use automated
scripts so that once an API example is scripted, it can be run
repeatedly. Moreover, the automated scripts can be written as
functional tests where the generation of API documentation
becomes a side-beneﬁt of running the tests. Running the
automated scripts to exercise the API examples frequently
can prevent out of date API documentation as shown on the
previous use case.
Listing 1 shows an example script written using the Ruby
based test framework Minitest. In this example script, on line
1 the class Github is setup so that the Spy proxy server is
used to make example API calls. HTTParty used on line 3is a third-party library for making RESTful API calls. Then
the required headers are setup for using GitHub API on line
6. Finally, we setup the proxy connection to SpyREST server.
Then, on lines 17-25, we deﬁne an example API call as an
automated test script to generate documentation for the GET
/notifications API action with three query parameters
all, participating , andsince . The results of the API
call can be used to test against expected results. Using this
script SpyREST will generate the documentation for this API
and auto-update the documentation by rerunning the script
anytime the API changes while still providing test coverage.
If custom edits are made to the summary section of the
SpyREST generated documentation, then a re-run of the same
API example will only update the example section of the
documentation with new data leaving the summary section
unchanged. Thus, the custom edited content sustains over
multiple runs of the API examples.
IV . D ISCUSSION
With SpyREST we have aimed to provide a solution to
RESTful API documentation. A manual approach is both
expensive and susceptible to human errors. SpyREST offers
several beneﬁts over existing API documentation tools. We
performed a preliminary evaluation of SpyREST by generating
documentation of 25 RESTful API actions from 3 different
APIs providers (Github.com, KISSMetrics.com, LiquidPlan-
ner.com) using 272 lines of test code3. Comparing SpyREST
generated documents against the ofﬁcial documentation (man-
ually generated) we found that the ofﬁcial documentation for 5
of the 25 API actions had outdated response information that
did not match with the actual API responses as captured by
SpyREST. This is an expected advantage of automation, since
updated documentation can be produced by replaying existing
scripts instead of requiring any manual efforts.
Using automated tests to generate documentation serves
a dual purpose for maintaining a test suite since the docu-
mentation of the RESTful API becomes an artifact from the
execution of tests. This is a unique advantage of SpyREST over
other API documentation tools that translate manually edited
API descriptions into API documents instead of executing
actual API calls.
Most general purpose API documentation tools such as
JavaDoc extract documentation based on formatted comments
from the source code. Since comments are not executable
code, manual effort is required to keep the comments updated
as the underlying API changes. RESTful API documentation
typically includes additional information about HTTP headers,
request and response payloads as well as example API calls
that are not natively supported by general purpose API doc-
umentation tools. Also, API documentation tools for library
APIs are often programming language speciﬁc. SpyREST
overcomes these limitations of code comments based API
documentation tools by leveraging a HTTP proxy server where
executable API examples are converted into API documenta-
tion that can be used to document RESTful APIs independent
of independent of what programming languages are used to
implement the RESTful APIs..
3https://github.com/smsohan/spyrest examples
816SpyREST offers unique features compared to other REST-
ful API documentation services. Swagger4and Blueprint5are
two software as a service tools for RESTful API documenta-
tion. The key difference between SpyREST and these tools is
in the underlying approach used. These tools require the API
developers to follow custom vendor speciﬁc API speciﬁcation
formats to describe the API objects. Once the APIs are
described, the tools can auto-generate the documentations for
the APIs. There is no automated tool support to generate
the required API description in the vendor speciﬁc formats.
Thus manual effort is required to produce the required API
speciﬁcations and maintain it over time. SpyREST does not
require any intermediate API speciﬁcation as data is sourced
for the documentation based on live API calls. Swagger and
Blueprint do not support a self-hosted service to document
RESTful APIs whereas SpyREST allows a self-hosted service
to document RESTful APIs that cannot be externally shared
for conﬁdentiality issues.
The technology choice behind for our implementation of
SpyREST components is based on our past experience of
using these tools but the concepts behind SpyREST is not
dependent on the aforementioned technology choice. As a
proof of concept, SpyREST only analyzes JSON based API
request and response payloads.
SpyREST is a proof of concept implementation for a
novel RESTful API documentation technique. We identify the
following limitations. SpyREST has yet to be evaluated. We
plan to evaluate SpyREST with a large number of RESTful
APIs as well as conduct a user evaluation involving API
developers to understand the strengths and weaknesses of our
tool. The current implementation of SpyREST only works on
JSON based RESTful APIs. SpyREST needs to be enhanced
to support other data types such as XML, and CSV . SpyREST,
like other HTTP proxy servers, performs an intentional “man
in the middle attack” to intercept HTTP trafﬁc for example
API calls over SSL/TLS. We consider the security impact of
this approach to be low since the data is commonly meant
to be included in documentation for public use. Otherwise,
API developers can use the self-hosted mode and provide
SpyREST with the required SSL keys. Web APIs often include
a set of commonly used error responses across a variety of
API endpoints. Additional work is required on SpyREST to
automatically provide a summary of error responses based on
example API calls. SpyREST also needs to be extended to sup-
port auto-linking between different API endpoints so that API
developers can navigate between related API documentations.
V. R ELA TED WORK
Several papers have studied API documentation to under-
stand and recommend requirements for effective API doc-
umentation tools. Robillard recommended the following re-
quirements for API documentation: include good examples,
be complete, support many complex usage scenarios, be con-
veniently organized, and include relevant design elements [5],
[6]. Kuhn et al. discussed the importance of examples in API
documentation as a key recommendation based on a survey of
software developers using APIs [7]. They identiﬁed trustwor-
thiness, conﬁdentiality, and limiting information overload as
4https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md
5https://github.com/apiaryio/api-blueprintother key recommendations for API documentation. Hoffman
et al. recommended providing executable test cases with API
documentation [8]. Nasehi et al. recommended the use of
wiki-like editing features for online API documentation to
foster collaboration [9]. Parnin et al. and Chen et al. also
recommended incorporating collaborative features with API
documentations [10], [11]. Stepalina identiﬁed several beneﬁts
of using software as a service model for API documentations
as follows: cost effective yet powerful, platform agnostic and
high accessibility, improved document quality, content re-
use, automated tools, and organization of robust and scalable
documentation process [12].
Several papers have discussed the topic of RESTful API
documentation. Espinha et al. found most RESTful API doc-
umentations to be less reliable because they are manually
generated [2]. Danielsen et al. proposed a vocabulary called
Web Interface Language (WIfL) for documenting RESTful
APIs so that different APIs can be described using a standard
terminology [3]. RESTdesc, RDDL and hRESTS have been
proposed as custom speciﬁcations to describe RESTful APIs
[13]–[15]. For RESTful API documentation, Myers et al.
recommended providing a consistent look-and-feel and an
overall map comprising of both text and diagrams, providing
a browsing experience with breadcrumb trail following a
hierarchy, an effective search interface, providing example
code and a way to exercise the examples without writing code
[16].
Our work on SpyREST is a result of following the rec-
ommendations as found on the aforementioned related work
as well as critically analyzing existing API documentation
tools such as JavaDoc, Swagger, and Blueprint, to identify the
unmet requirements. Based on our analysis, we incorporated
the following recommendations as requirements for SpyREST:
automated RESTful API documentation, executable examples,
consistent navigation and look and feel, software as a service
model, wiki-like editing, automatic stripping of conﬁdential
data, reducing information overload, and in place collabora-
tion.
VI. C ONCLUSION
In this paper we have presented SpyREST as a prototype
tool to demonstrate an automated solution to RESTful API
documentation. Our main contribution is a novel tool that
leverages a HTTP proxy server to intercept and automatically
extract API documentation from example API calls. SpyREST
provides an integrated tool for RESTful API documentation
by providing features for automated generation, customization,
maintenance, collaboration and executable examples under a
single cloud based software as a service platform. By au-
tomating the repeated parts of the RESTful API documentation
process, SpyREST provides a more effective alternative to the
manual process. API developers can use SpyREST to save
time and costs for generating and maintaining RESTful API
documentation. In the future we plan to conduct a quantitative
evaluation by using SpyREST to auto generate documentation
for a large set of RESTful APIs. We will also conduct a
qualitative user study involving API developers to collect
feedback about the strengths and weaknesses of SpyREST.
817REFERENCES
[1] R. T. Fielding, “Architectural styles and the design of network-based
software architectures,” Ph.D. dissertation, University of California,
Irvine, 2000.
[2] T. Espinha, A. Zaidman, and H.-G. Gross, “Web API growing pains:
Stories from client developers and their code,” in Proc. of IEEE Confer-
ence on Software Maintenance, Reengineering and Reverse Engineering
(CSMR-WCRE) . IEEE, 2014, pp. 84–93.
[3] P . Danielsen and A. Jeffrey, “V alidation and interactivity of web API
documentation,” in Proc. of International Conference on Web Services
(ICWS) . IEEE, 2013, pp. 523–530.
[4] S. Sohan, C. Anslow, and M. Frank, “SpyREST: Automated RESTful
API documentation using HTTP proxy server,” in Proc. of IEEE/ACM
International Conference on Automated Software Engineering , 2015.
[5] M. Robillard, “What makes APIs hard to learn? the answers of
developers,” Software, IEEE , vol. PP , no. 99, pp. 1–1, 2011.
[6] M. Robillard and R. DeLine, “A ﬁeld study of API learning obstacles,”
Empirical Software Engineering , vol. 16, no. 6, pp. 703–732, 2011.
[7] A. Kuhn and R. DeLine, “On designing better tools for learning
APIs,” in Search-Driven Development - Users, Infrastructure, Tools and
Evaluation (SUITE), 2012 ICSE Workshop on , 2012, pp. 27–30.
[8] D. Hoffman and P . Strooper, “API documentation with executable
examples,” Journal of Systems and Software , vol. 66, no. 2, pp. 143
– 156, 2003.
[9] S. M. Nasehi, J. Sillito, F. Maurer, and C. Burns, “What makes a good
code example?: A study of programming Q&A in StackOverﬂow,”
inIEEE Proc. of International Conference on Software Maintenance
(ICSM) , 2012, pp. 25–34.[10] C. Parnin and C. Treude, “Measuring API documentation on the
web,” in Proc. of the International Workshop on Web 2.0 for Software
Engineering , ser. Web2SE ’11. ACM, 2011, pp. 25–30.
[11] C. Chen and K. Zhang, “Who asked what: Integrating crowdsourced
faqs into api documentation,” in Proc. of the International Conference
on Software Engineering Companion , ser. ICSE Companion 2014.
ACM, 2014, pp. 456–459.
[12] E. Stepalina, “SaaS support in software documentation systems,” in
Proc. of Central and Eastern European Software Engineering Confer-
ence (CEE-SECR) , 2010, pp. 192–197.
[13] R. V erborgh, T. Steiner, D. V an Deursen, S. Coppens, J. G. V all ´es, and
R. V an de Walle, “Functional descriptions as the bridge between hyper-
media APIs and the semantic web,” in Proc. of the Third International
Workshop on RESTful Design , ser. WS-REST ’12. ACM, 2012, pp.
33–40.
[14] J. Mangler, P . Beran, and E. Schikuta, “On the origin of services using
riddl for description, evolution and composition of restful services,” in
Proc. of IEEE/ACM International Conference on Cluster , Cloud and
Grid Computing (CCGrid) , 2010, pp. 505–508.
[15] J. Kopecky, K. Gomadam, and T. Vitvar, “hrests: An HTML micro-
format for describing restful web services,” in Proc. of International
Conference on Web Intelligence and Intelligent Agent Technology (WI-
IAT) , vol. 1, 2008, pp. 619–625.
[16] B. A. Myers, S. Y . Jeong, Y . Xie, J. Beaton, J. Stylos, R. Ehret,
J. Karstens, A. Efeoglu, and D. K. Busse, “Studying the documentation
of an API for enterprise service-oriented architecture,” J. Organ. End
User Comput. , vol. 22, no. 1, pp. 23–51, 2010.
818