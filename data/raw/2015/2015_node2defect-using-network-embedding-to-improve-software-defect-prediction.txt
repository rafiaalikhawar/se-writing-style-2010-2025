node2defect: Using Network Embedding to Improve Software
Defect Prediction
Yu Qu
Ministry of Education Key Lab For
Intelligent Networks and Network
Security, Xiâ€™an Jiaotong University,
China
quyuxjtu@xjtu.edu.cnTing Liu
School of Electronic and Information
Engineering, Xiâ€™an Jiaotong
University, China
tingliu@xjtu.edu.cnJianlei Chi
Xiâ€™an Jiaotong University, China
chijianlei@stu.xjtu.edu.cn
Yangxu Jin
Xiâ€™an Jiaotong University, China
jyx530@stu.xjtu.edu.cnDi Cui
Xiâ€™an Jiaotong University, China
cuidi@stu.xjtu.edu.cnAncheng He
Xiâ€™an Jiaotong University, China
hg19941996@stu.xjtu.edu.cn
Qinghua Zheng
Xiâ€™an Jiaotong University, China
qhzheng@xjtu.edu.cn
ABSTRACT
Networkmeasureshavebeenprovedtobeusefulinpredictingsoft-
ware defects. Leveraging the dependency relationships between
softwaremodules,networkmeasurescancapturevariousstructural
features of software systems. However, existing studies have relied
on user-defined network measures (e.g., degree statistics or cen-
trality metrics), which are inflexible and require high computation
cost,todescribethestructuralfeatures.Inthispaper,wepropose
a new method called node2defect which uses a newly proposed
network embedding technique, node2vec, to automatically learn to
encodedependencynetworkstructureintolow-dimensionalvector
spacestoimprovesoftwaredefectprediction.Specifically,wefirstly
construct a programâ€™s Class Dependency Network. Then node2vec
isusedtoautomaticallylearnstructuralfeaturesofthenetwork.Af-
ter that, we combine the learned features with traditional software
engineeringfeatures,foraccuratedefectprediction.Weevaluate
our method on 15 open source programs. The experimental results
show that in average, node2defect improves the state-of-the-art
approach by 9.15% in terms of F-measure.
CCS CONCEPTS
â€¢Software and its engineering â†’Risk management ;Maintain-
ing software ;
KEYWORDS
Softwaredefect,defectprediction,softwaremetrics,networkem-
bedding
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
on the first page. Copyrights for components of this work owned by others than ACMmustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,orrepublish,topostonserversortoredistributetolists,requirespriorspecificpermissionand/ora
fee. Request permissions from permissions@acm.org.
ASE â€™18, September 3â€“7, 2018, Montpellier, France
Â© 2018 Association for Computing Machinery.
ACM ISBN 978-1-4503-5937-5/18/09...$15.00
https://doi.org/10.1145/3238147.3240469ACM Reference Format:
Yu Qu, Ting Liu, Jianlei Chi, Yangxu Jin, Di Cui, Ancheng He, and Qinghua
Zheng. 2018. node2defect: Using Network Embedding to Improve Software
DefectPrediction.In Proceedings of the 2018 33rd ACM/IEEE International
Conference on Automated Software Engineering (ASE â€™18), September 3â€“7,
2018, Montpellier, France. ACM, New York, NY, USA, 6pages.https://doi.
org/10.1145/3238147.3240469
1 INTRODUCTION
Softwaredefectpredictionistheprocessofbuildingmachinelearn-
ing classifiers to predict code regions that potentially have defects
[9,19,26]. Defect prediction techniques can provide useful guid-
ancesforcodereviewersorsoftwaretesterstoallocatetheirlimited
resourcesmoreeffectively,thusisveryusefulinsoftwareengineer-
ing practices [9, 19,26].
Networkmeasureshave beenprovedtobeusefulin predicting
softwaredefects(e.g.,[ 6,14,16,19,21,24,26]).Exploitingthedepen-
dency relationships between software modules, network measures
cancapturevariousstructuralfeaturesofsoftwaresystems.Thus,
they are very useful in software defect prediction. For instance, in
their seminal study, Zimmermann and Nagappan [ 26]p r o po s edt o
use network measures on the dependency graph of a software sys-
tem in defect prediction. Recently, Ma et al. [ 16] further evaluated
the predictive effectiveness of network measures in effort-awarebug prediction. Chenet al. [
6] usednetworkmeasures to predict
high severity software bugs, and they found that most network
measuresweresignificantlyrelatedtohighseveritybug-proneness.
However, these network measures (e.g., degree statistics or cen-
tralitymetrics)aretraditionallyuser-defined,whichhasbeenbe-
lieved to be inflexible and require human designing efforts [ 12].
These measures are also believed to suffer from the high computa-
tionandspacecost[ 5].Thus, network embedding (graphembedding)
techniques[ 10,12],whichautomaticallylearntoencodenetwork
structureintolow-dimensionalvectorspace,havedrawnincreasing
attentions in the machine learning community and shown their
advantages over user-defined measures in many machine learning
tasks [10, 12].
844
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. ASE â€™18, September 3â€“7, 2018, Montpellier, France Yu Qu, Ting Liu, Jianlei Chi, Yangxu Jin, Di Cui, Ancheng He, and Qinghua Zheng
Consideringthisnewresearchtrend,inthispaper,wepropose
a new method called node2defect which uses a new network em-
bedding technique, node2vec [11], to automatically learn structural
featuresofsoftwareClassDependencyNetworktoimprovesoft-
ware defect prediction.
Innode2defect, the Class Dependency Network (CDN) of the
programunderanalysisisfirstlyconstructed.Then node2vec isused
toautomaticallylearnstructuralfeaturesofCDN.Foreachnode
(i.e., each class) in CDN, node2vec automatically learns a vector
to encode its structural feature. Then node2defect concatenates
the classâ€™s feature vector with its traditional software engineering
features,suchascohesionandcouplingmetrics[ 7],toformthenew
featureofthisclass.Thenthenewfeatureisusedinsoftwaredefect
prediction.Experimentalresultsshowthattheproposed node2defect
approach can improve software defect prediction nontrivially. The
F-measure is improved by 9.15% in average.
In summary we makethe following contributions in this paper:
(1)anewnetworkembeddingtechnique, node2vec,isusedtoau-
tomatically learn structural features of software Class Dependency
Networks; (2) we propose a new method named as node2defect,
whichexploitsnetworkembeddingtechniqueandcombineswith
traditional software engineering metrics, to improve defect predic-
tion;(3)experimentson15Javaopensourceprogramsshowthat
the proposed method can nontrivially improve defect prediction
modelsâ€™ performances.
2 BACKGROUND
2.1 Class Dependency Network
In this section, the basic concept of Class Dependency Network is
introduced based on an illustrative example.
For an OO program P, its Class Dependency Network CDN Pis
a directed network [ 23]:CDN P=(V,E), where each node vâˆˆV
represents a class in P, and the edge set Erepresents the class
dependency relationships. Let cidenotes the class that virefers to.
Thenviâ†’vjâˆˆEifandonlyif cihasatleastoneclassdependency
relation with cj.
Figure1(a)givesanillustrativeexampleJavacodesnippet.For
thiscodesnippet,Figure 1(b)showsitsClassDependencyNetwork
(CDN)[23].Althoughotherwork[ 2,8,15]usuallyonlygavethe
processes to construct the class networks, the intrinsic nature of
these networks is the same as CDNâ€™s. In CDN, nodes are classes
andedgesrepresentclassdependencyrelations.AsshowninFigure
1, these dependency relations include aggregation (A â†’B, Aâ†’C,
andBâ†’D),inheritance(D â†’C),interfaceimplementation(D â†’I),
parameter types (Câ†’B) and return types.
2.2 The node2vec Technique
In this section, we firstly give a brief introduction on network
embedding, followed by a brief discussion on node2vec.
For a network N=(V,E), a network embedding is a mapping
f:viâ†’yiâˆˆRd,âˆ€viâˆˆVsuch that d/lessmuch|V|and the function f
preserves some proximity measure defined on network N[10].
The conceptual framework of node2vec [11] is shown in Figure
2. Briefly, node2vec algorithm is based on and motivated by a Natu-
ralLanguageProcessing(NLP)modelâ€“Skip-gram[ 18],andthenA
B
DC
Iinterface  I {
public int add( int i);
}
public class A {
public static void main(String[] args) {
B b = new B();
System. out.println( b.counter);
b.m1();
C c = new C();
c.m2(b);
}
}
class B {
public int counter=1;
private D d = new D();
public void m1() {
counter=d.add(counter);
System. out.println( counter);
}
}
class C {
public void m2(B b) {
b.counter=b.counter+1;
System. out.println( b.counter );
}
}
class D extends C implements  I {
public int add( int i) {
return i+1;
}
}
 (a) (b)
Figure 1: A Class Dependency Network example.
proposes a flexible random walk approach to generate (sample)
network neighborhoods for nodes.
Specifically,Skip-gram modelisone ofthetwo basicmodelsof
the NLP technique â€“ word2vec [18] (the other one is Continuous
Bag of Words model, CBOW). Skip-gram aims to maximize the
co-occurrenceprobabilityamongthewordsthatappearwithina
slidingwindow.Suchprocessisrealizedbysolvinganoptimization
problemusingStochasticGradientDescent(SGD)andbackpropa-
gation on single hidden-layer feedforward neural network.
As shown in Figure 2,node2vec firstly samples a set of paths
(walks)fromtheinputnetworkusingtheirnewfixedlengthrandom
walk approach. Each path sampled from the network corresponds
toasentencefromthecorpusinNLP,whereanodecorrespondsto
a word. Then Skip-gram is applied on the paths to maximize the
probability of observing a nodeâ€™s neighborhood conditioned on its
embedding.Astheauthorsstated[ 11],giventhelinearnatureof
textinNLP,thenotionofneighborhoodcanbenaturallydefined
usingaslidingwindowoverconsecutivewords.However,networks
(such as CDNs in this paper) are not linear, thus a richer notion of
neighborhoodisneeded.Inaword,thekeycontributionof node2vec
isindefiningaflexiblenotionofanodeâ€™snetworkneighborhood
by providing a trade-off between Breadth-first Sampling (BFS) and
Depth-first Sampling (DFS) graph searching strategies. Figure 2
also shows BFS and DFS examples given a source node C7.
Ane w2ndorderrandomwalkisdefinedin node2vec withtwo
parameters pandqwhich control the transition probability during
the walk, as shown in Figure 2. The parameters pandqare named
asreturn parameter andin-out parameter ,respectively.Interested
readers are referred to the original paper [11] for more details.
Itisworthnotingthatthetimecomplexityof node2vecisO(|V|d)
[10]. Existing network measures usually have more expensive time
complexities.Forinstance,themetric Betweenness Centrality has
beenintensivelyused in existingresearches[ 6,16,19,21,24,26].
ThetimecomplexityofBetweennessCentralityis O(|V||E|)onun-
weighted network[ 3]. Considering d/lessmuch|V|,|V|is usuallysmaller
than|E|(see the statistics in Table 1) and there are usually more
than10metricsarecomputedinexistingresearches,sotheexisting
methods usually require much higher computation and space cost.
845
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. node2defect: Using Network Embedding to Improve Software Defect Prediction ASE â€™18, September 3â€“7, 2018, Montpellier, France
C11C13
C9C8C12C3C2C1
C10C7
C6C5
C4Walk  1: C7,C4,C8,...  
Walk  2: C5,C7,C3,...  
Walk  3: C9,C8,C10,...  0
0
0
0
0
1
0
0
0âˆ‘
âˆ‘
âˆ‘âˆ‘
âˆ‘
âˆ‘
âˆ‘
......
DFSInpu t 
LayerHidden
LayerOutpu t
Layer
...
BFSSkip-gram model
a=1/pa=1/q
a=1/qa=1
Figure 2: The conceptual framework of node2vec.
3 THE PROPOSED APPROACH:
NODE2DEFECT
Inthissection,weintroduce node2defect â€™sframeworkbasedona
real and simple example. Figure 3shows the process of node2defect
when a package of Ant, org.apache.tools.ant.input , is consid-
ered in the analyzing process of node2defect. For this package, Fig-
ure3depicts its CDN when only considering the class dependency
relationships within this package (in practice, the dependency rela-
tionships within the whole system are considered). Based on the
constructed CDN, node2vec is used to automatically learn a vector
for each node (i.e., each class) in the CDN. For the simplicity of
illustration, as shown in Figure 3, the vectorâ€™s dimension ( d)i s
setas8.Inexperimentsinthispaper,weuse32asthedimension
of the learned vector. Since the learned vector only quantify the
structuralfeaturesofaclass,butthedefectivenessofaclassaretheconsequencesofmanycomplicatedandinter-playedqualityfactors,
e.g., the software architecture and the programmerâ€™s perception
on the programming language. To more accurately predict defects,
node2defect alsocomputestraditionalsoftwareengineeringmetrics,
e.g., Lack of Cohesion in Methods (LCOM), Coupling Between Ob-
jectclasses(CBO),andDepthofInheritanceTree(DIT)[ 7].Then
node2defect concatenatesthelearnedvectorwithtraditionalmet-
ricsandusestheconcatenatedvectorasthefeaturesthatarefed
into the subsequent machine learning classifiers. In the evaluation
partofthispaper,traditionalsoftwareengineeringmetricsalone
areusedasthe traditional approach andbaseline metrics.Table
2in the appendix part of this paper shows the traditional software
engineering metrics used in this study.
4 EXPERIMENTS
4.1 Subject Software Systems
To evaluate the practical application of node2defect, a data set con-
taining15largeopen-sourceandwidely-usedJavasoftwaresystems
is collected, as shown in Table 1.
Antisacommand-linetoolforautomatingsoftwarebuildpro-
cesses; Camel is an integration framework; DrJava is a Java de-
velopment environment; GenoViz is a tool for data visualization
and sharing in genomics; jEdit is a text editor; Ivy is a transitive
dependency manager; Jmri is a building tool for modelling rail-road computer control; Jmol is a browser-based HTML5 viewerand stand-alone viewer for chemical structures in 3D; Jppf is an
open-source grid computing solution; Lucene is a searching and
information retrieval library; Poi a library to process MicrosoftOffice files; Synapse is a high-performance Enterprise Service Bus
(ESB);Tomcatisawebserverandservletcontainer;Velocityisa
template engine to reference objects defined in Java code; Xalan is
a library for processing XML documents.
All the defect data of these subject systems is collected from
publicly available software defect data repository. Among these
subjectsystems,thedefectdataofAnt,Camel,jEdit,Ivy,Lucene,
Poi, Synapse, Tomcat, Velocity, and Xalan is obtained from thetera-PROMISE data repository
1[17]. The defect data of DrJava,
Genoviz, Jmri, Jmol, and Jppf is obtained from a newly released
dataset2whichhasbeencontributedbyShippeyetal.intheirESEM
2016 paper [ 22]. To ensure the reproducibility of this study, we use
themetricsextractedandcontainedinthesetowdatasetsasthe
traditionalsoftwareengineeringmetrics.Table 2intheappendix
part of this paper shows the metrics in tera-PROMISE data set.
Table1givesthestatisticsofthesesystemsandtheirCDNs.The
data in each column in Table 1is interpreted as follows:
Column Version shows the version of the corresponding sys-
temthatiscontainedintheaforementionedtwodefectdatasets.
ColumnsSLOC,#Class,showthe Source LinesOfCodeandthe
number of classes of the subject systems, respectively. Column
NCDNandECDNshow the number of nodes and edges of each
CDN, respectively. In the construction processes of CDNs, only
whenaclasshascertaindependencyrelationswithotherclasses,
its corresponding node is added into CDN. Thus, NCDNis slightly
smaller than the total number of classes in Column # Class.
Column|CRD/intersectiontext.1CCDN|showsthenumberofclassesthatappear
bothinCDNandthedefectdatasets,inthelattertheyhave Records
to signify they are Defective or not. pDef ectis the percentage
of defective classes in CRD/intersectiontext.1CCDN. The last column shows the
websites of these systems.
4.2 Experiment Design
In the evaluation,we investigated the effectivenessof node2defect
in the following two defect prediction experiments:
(1) Cross-validation
Cross-validationisamostwidely-usedmethodtoevaluatede-
fect predictionmodels. Weused three-fold cross-validation in this
experiment. Specifically, in each single run of this experiment, the
originalbugdatasetisrandomlysplitintothreeparts,twothirds
oftheinstancesareusedtotrainthebugpredictionmodel,andthe
1http://openscience.us/repo/
2https://github.com/tjshippey/ESEM2016
846
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. ASE â€™18, September 3â€“7, 2018, Montpellier, France Yu Qu, Ting Liu, Jianlei Chi, Yangxu Jin, Di Cui, Ancheng He, and Qinghua Zheng
	

	



	

	





	

	

	
 !
"
	
#

 $
	
 $

	

 $
	
 !
"
	
%
&
 $
	
 !
"

		
	
	
	
	

		
		
	
	

 $


	

			
		

	
		
	
 $


	

			
	

	
	

	

	
 !
"

	
				
		
		

	
	

	
#

 $


		

		
	


	
		
	
%
&
 $

	

		
			


	
	
		



			

	


Figure 3: node2defect â€™s framework. A Java library and command-line tool â€“ Antâ€™s CDN is depicted as an illustrating example.
Table 1: Subject software systems
System Version SLOC # Class NCDN ECDN|CRD/intersectiontext.1CCDN|pDef ect Website
Ant 1.7.0 93,520 1,068 1,060 3,770 739 22.5% https://ant.apache.org/
Camel 1.6.0 98,962 2,193 2,140 6,209 907 20.7% https://camel.apache.org/
DrJava 20080106 67,958 814 792 2,385 515 20.4% http://drjava.org/
Genoviz 6.0 91,307 704 693 3,279 633 32.4% https://sourceforge.net/projects/genoviz/
jEdit 4.1 69,272 622 614 1,806 308 25.6% http://jedit.org/
Ivy 2.0 36,636 421 418 1,851 349 11.5% http://ant.apache.org/ivy/
Jmri 2.4 206,551 2,241 2,206 6,941 2,020 23.3% http://jmri.sourceforge.net/
Jmol 6.0 29,855 291 282 648 158 43.7% http://jmol.sourceforge.net/
Jppf 5.0 68,765 1,621 1,412 4,550 1,025 15.4% http://jppf.org/
Lucene 2.4.0 35,984 460 457 1,879 340 60.1% http://lucene.apache.org/
Poi 3.0 53,097 511 505 2,473 435 64.1% http://poi.apache.org/
Synapse 1.2 46,060 573 546 1,811 250 34% http://synapse.apache.org/
Tomcat 6.0.38 166,396 1,481 1,450 6,371 812 9.5% http://tomcat.apache.org/
Velocity 1.6.1 26,636 254 253 1,236 228 34.2% http://velocity.apache.org/
Xalan 2.6.0 155,067 1,039 1,014 6,007 884 45.5% http://xalan.apache.org/
restoftheinstancesareusedtoevaluatethemodel.Foreachsub-
ject system, we repeated the experiment for 30 times to reduce the
biascausedbytherandomsplitofinstances.Themachinelearning
algorithm Random Forest [4] is used in this experiment.
(2)AdaptiveSelectionofClassifiersinbugprediction(ASCI)[ 20]
ASCIisanadaptivedefectpredictionmethod,whichhasbeen
recently proposed by Nucci et al [ 20]. ASCI can dynamically se-
lect among a set of machine learning classifiers the one which is
more suitable to predict a classâ€™s defectiveness. The original im-
plementationofASCI hasintegratedfivedifferent machinelearn-
ingclassifiers[ 1],namelyLogistic Regression(LOG),NaiveBayes
(NB),RadialBasisFunctionNetwork(RBF),Multi-LayerPerceptron
(MLP),andDecisionTrees(DTree).Thus,ASCIcanprovidemore
thorough evaluation on node2defect. We adopted ASCIâ€™s original
implementation, in which 10-fold cross-validation is used.
Toevaluatethedefectpredictionmodelâ€™sperformance,weuse
widely adopted metrics in literature [ 25]: (1) the F-measure, which
istheharmonicmeanofprecisionandrecall,and(2)theAreaUndertheCurve(AUC),whichquantifiestheoverallabilityofaprediction
model to discriminate between defective and clean classes. 100%
AUC represents an ideal prediction result.
4.3 Experimental Results and Discussion
Figure4and5showtheexperimentalresultsofthecross-validation
and ASCI experiments, respectively. In each figure, the average
(mean)valuesofF-measureandAUCareshown.BasedonFigure4, it can be observed that in the cross-validation experiment, the
defect prediction modelâ€™s performance is improved for all the sub-
jectsystems,when node2defect isused.ThevalueofF-measureis
improved by 9.2% in average, and the value of AUC is improved by
3.86% in average.
Similarly, based on Figure 5, it can observed that in the ASCI
experiment,thedefectpredictionmodelâ€™sperformanceisimproved
foralmostallthesubjectsystems,when node2defect isused.The
value of F-measure only declines slightly for Ivy and Velocity, and
thevalueofAUCalsoonlydeclinesslightlyforJmriandTomcat,
when node2defect is used. The value of F-measure is improved
by 9.1% in average, and the value of AUC is improved by 5.6% inaverage. We also used the Wilcoxon signed-rank test s to evaluate
the differences between results of approaches. The p-values of the
Wilcoxonsigned-ranktestsconfirmthatthedifferencesbetween
results of approaches are significant at the 0.05 level.
Inaword,intheexperiments,theproposedapproachâ€“ node2defect
improves the performances of defect prediction models in mostof the cases. And the improvements are nontrivial (greater than
9%intermsofF-measure),whichmeanthatnetworkembedding
techniquesareindeedhelpfulinsoftwaredefectprediction,asthey
can learn the structural features of software modules automati-
cally, which can reflect the ways how the modules depends on and
interact with each other.
Herewegiveapossibleexplanationfortheseexperimentalre-
sults.Asdiscussedin[ 11],predictiontasksonnodesinnetworks
847
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. node2defect: Using Network Embedding to Improve Software Defect Prediction ASE â€™18, September 3â€“7, 2018, Montpellier, France
F-measure comparison between traditional approach and node2defect  in cross validation
Ant Camel DrJava Genoviz Ivy jEdit Jmol Jmri Jppf Lucene Poi Synapse Tomcat Velocity Xalan
Subject Systems00.10.20.30.40.50.60.70.8F-measure ValuesTraditional
node2defect
AUC comparison between traditional approach and node2defect  in cross validation
Ant Camel DrJava Genoviz Ivy jEdit Jmol Jmri Jppf Lucene Poi Synapse Tomcat Velocity Xalan
Subject Systems00.20.40.60.81AUC ValuesTraditional
node2defect
Figure 4: F-measure and AUC comparisons between traditional approach and node2defect in cross validation.
F-measure comparison between traditional approach and node2defect  with ASCI
Ant Camel DrJava Genoviz Ivy jEdit Jmol Jmri Jppf Lucene Poi Synapse Tomcat Velocity Xalan
Subject Systems00.20.40.60.81F-measure ValuesTraditional+ASCI
node2defect +ASCI
AUC comparison between traditional approach and node2defect  with ASCI
Ant Camel DrJava Genoviz Ivy jEdit Jmol Jmri Jppf Lucene Poi Synapse Tomcat Velocity Xalan
Subject Systems00.20.40.60.81AUC ValuesTraditional+ASCI
node2defect +ASCI
Figure 5: F-measure and AUC comparisons between traditional approach and node2defect with ASCI.
often shuttle between two kinds of similarities: homophily and
structural equivalence.Homophilymeans thatnodesbelongingto
similar communities should be embedded closely. Structural equiv-
alencemeansthatnodesthathavesimilarstructuralrolesshouldbe
embeddedclosely.Amongthetwosamplingstrategies,BFSleads
to structural equivalence and DFS leads to homophily [11].
Ontheotherhand,asdiscussedbyNguyenetal.[ 19],thenet-
workmetric nWeakComp in,which isthenumber ofunconnected
componentsintheincomingegonetwork,isagooddefectpredictor.
It means that for a certain class, if all the dependent classes arecompletelyindependentfromeachother,thentheriskoffailurefor
thisclassishigherthanwhentheyareinterdependent.Asshown
inFigure 2,nodeC7andC8havehigh nWeakComp in scores(which
is 4, repectively). From network embedding perspective, C7 and C8
plays similar roles in their communities (they are hubs of their cor-
responding communities), thus their structural equivalence can be
captured by BFS and finally be reflected in the embedding vectors.
Tosumup,networkembeddingtechniquescancapturesimilar
structural properties of classes, thus classes with similar structural
defectrisksareclosetoeachotherinthelowdimensionalvector
848
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. ASE â€™18, September 3â€“7, 2018, Montpellier, France Yu Qu, Ting Liu, Jianlei Chi, Yangxu Jin, Di Cui, Ancheng He, and Qinghua Zheng
Table 2: Traditional software engineering metrics
Metrics Name Symbol
Average Method Complexity AMC
Average McCabe Avg_CC
Afferent couplings Ca
Cohesion among Methods of class CAM
Coupling Between Methods CBM
Coupling Between Object classes CBO
Efferent couplings Ce
Data Access Metric DAM
Depth of Inheritance Tree DIT
Depth of Inheritance Coupling IC
Lack of Cohesion in Methods LCOM
Lack of Cohesion in Methods 3 LCOM3
Lines of Code LOC
Maximum McCabe Max_CC
Measure of Function Abstraction MFA
Measure of Aggregation MOA
Number of Children NOC
Number of Public Methods NPM
Response for a Class RFC
Weighted Methods per Class WMC
space. Such properties might be one of the reasons that network
embedding can improve defect prediction.
5 CONCLUSION
Inthispaper,wehaveproposedanewmethodcalled node2defect
which uses a newly proposed network embedding technique based
onrandomwalk, node2vec,toautomaticallylearnstructuralfeatures
ofsoftwareClassDependencyNetworkstoimprovesoftwarede-
fect prediction. Network embedding technique can encode classesâ€™
dependency relationshipsinto low-dimensional vectorspace, thus
provideanewperspectivefordefectprediction. node2defect also
combines the learned structural vector with traditional software
engineering metrics to predict defects more accurately. Experimen-
talresultsbasedon15 opensourceJavaprograms have shownthat
node2defect can improve the state-of-the-art approach, in which
the traditional software engineering metrics are used alone, by
9.15% in terms of F-measure. In the future, we plan to use more
networkembeddingtechniquesinsoftwaredefectprediction.We
also plan to study the approach that are suitable for cross-version
and cross-project defect prediction.
A APPENDIX: TRADITIONAL METRICS
Table2showsthemetricsofsubjectsystemsintera-PROMISEdata
set[13],whichareusedastraditionalsoftwareengineeringmetrics
inthisstudy.Theotherfivesubjectsystemsâ€™traditionalmetricsare
extracted using the JHawk tool3[22].
ACKNOWLEDGMENTS
ThisworkispartiallysupportedbytheNationalNaturalScience
FoundationofChina(61602369,61472318,61632015,61721002),Min-
istryofEducationInnovationResearchTeam(IRT_17R86),National
KeyResearchandDevelopmentProgramofChina(2016YFB0800202),ShaanxiProvincepostdoctoralresearchprojectfunding(2016BSHEDZZ108),ProjectofChinaKnowledgeCentreforEngineeringScience
and Technology.
3http://www.virtualmachinery.com/Jhawkmetricslist.htmREFERENCES
[1]Ethem Alpaydin. 2004. Introduction to Machine Learning. MIT Press,. 28 pages.
[2]Gareth Baxter, Marcus Frean, James Noble, Mark Rickerby, Hayden Smith, Matt
Visser,HaydenMelton,andEwanTempero.2006. Understandingtheshapeof
Java software. Acm Sigplan Notices 41, 10 (2006), 397â€“412.
[3]UlrikBrandes.2001. Afasteralgorithmforbetweennesscentrality. Journal of
mathematical sociology 25, 2 (2001), 163â€“177.
[4] Leo Breiman. 2001. Random Forests. Machine Learning 45, 1 (2001), 5â€“32.
[5]HongyunCai,VincentWZheng,andKevinChang.2018.Acomprehensivesurvey
ofgraphembedding:problems,techniquesandapplications. IEEE Transactions
on Knowledge and Data Engineering (2018).
[6]Lin Chen, Wanwangying Ma, Yuming Zhou, Lei Xu, Ziyuan Wang, Zhifei Chen,
and Baowen Xu. 2016. Empirical analysis of network measures for predicting
high severity software faults. Science China Information Sciences 59, 12 (2016),
122901.
[7]Shyam R Chidamber and Chris F Kemerer. 1994. A metrics suite for object
oriented design. IEEE Transactions on software engineering 20, 6 (1994), 476â€“493.
[8]Giulio Concas, Michele Marchesi, Cristina Monni, Matteo OrrÃ¹, and Roberto
Tonelli. 2017. Software Quality and Community Structure in Java Software Net-
works. International Journal of Software Engineering and Knowledge Engineering
27, 07 (2017), 1063â€“1096.
[9]Sergio Di Martino, Filomena Ferrucci, Carmine Gravino, and Federica Sarro.
2011. Ageneticalgorithmtoconfiguresupportvectormachinesforpredicting
fault-prone components. In International Conference on Product Focused Software
Process Improvement. Springer, 247â€“261.
[10]PalashGoyalandEmilioFerrara.2018.Graphembeddingtechniques,applications,
and performance: A survey. Knowledge-Based Systems 151 (2018), 78â€“94.
[11]Aditya Grover and Jure Leskovec. 2016. node2vec: Scalable Feature Learning
for Networks. In Acm Sigkdd International Conference on Knowledge Discovery &
Data Mining. 855â€“864.
[12]WilliamLHamilton,RexYing,andJureLeskovec.2017. RepresentationLearning
on Graphs: Methods and Applications. arXiv preprint arXiv:1709.05584 (2017).
[13]Marian Jureczko and Lech Madeyski. 2010. Towards identifying software project
clusterswithregardtodefectprediction.In Proceedings of the 6th International
Conference on Predictive Models in Software Engineering. ACM, 9.
[14]Yihao Li. 2017. Applying Social Network Analysis to Software Fault-Proneness
Prediction. Ph.D. Dissertation. University of Texas at Dallas.
[15]Panagiotis Louridas, Diomidis Spinellis, and Vasileios Vlachos. 2008. Power lawsinsoftware. ACM Transactions on Software Engineering and Methodology (TOSEM)
18, 1 (2008), 2.
[16]Wanwangying Ma, Lin Chen, Yibiao Yang, Yuming Zhou, and Baowen Xu. 2016.
Empirical analysis of network measures for effort-aware fault-proneness predic-
tion. Information and Software Technology 69 (2016), 50â€“70.
[17]Tim Menzies, Rahul Krishna, and David Pryor. 2015. The Promise Repositoryof Empirical Software Engineering Data. http://openscience.us/repo. North
Carolina State University, Department of Computer Science.
[18]Tomas Mikolov, Kai Chen, Greg Corrado, and Jeffrey Dean. 2013. Efficient
estimationofwordrepresentationsinvectorspace. arXiv preprint arXiv:1301.3781
(2013).
[19]Thanh HD Nguyen, Bram Adams, and Ahmed E Hassan. 2010. Studying the
impact of dependency network measures on software quality. In Software Main-
tenance (ICSM), 2010 IEEE International Conference on. IEEE, 1â€“10.
[20]Dario Di Nucci, Fabio Palomba, Rocco Oliveto, and Andrea De Lucia. 2017. Dy-
namic Selection of Classifiers in Bug Prediction: An Adaptive Method. IEEE
Transactions on Emerging Topics in Computational Intelligence 1,3(2017),202â€“
212.
[21]RahulPremrajandKimHerzig.2011. NetworkVersusCodeMetricstoPredict
Defects: A Replication Study. In International Symposium on Empirical Software
Engineering and Measurement. 215â€“224.
[22]Thomas Shippey, Tracy Hall, Steve Counsell, and David Bowes. 2016. So You
NeedMoreMethodLevelDatasetsforYourSoftwareDefectPrediction?:VoilÃ !.In
Proceedings of the 10th ACM/IEEE International Symposium on Empirical Software
Engineering and Measurement. ACM, 12.
[23]Lovro Å ubelj and Marko Bajec. 2011. Community structure of complex software
systems: Analysis and applications. Physica A: Statistical Mechanics and its
Applications 390, 16 (2011), 2968â€“2975.
[24]AyÅŸeTosun,BurakTurhan,andAyÅŸeBener.2009.Validationofnetworkmeasures
as indicators of defective modules in software systems. In Proceedings of the 5th
international conference on predictor models in software engineering. ACM, 5.
[25]IanHWitten,EibeFrank,MarkAHall,andChristopherJPal.2016. Data Mining:
Practical machine learning tools and techniques. Morgan Kaufmann.
[26]ThomasZimmermannandNachiappanNagappan.2008. Predictingdefectsusing
networkanalysisondependency graphs.In Software Engineering, 2008. ICSEâ€™08.
ACM/IEEE 30th International Conference on. IEEE, 531â€“540.
849
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 13:47:06 UTC from IEEE Xplore.  Restrictions apply. 