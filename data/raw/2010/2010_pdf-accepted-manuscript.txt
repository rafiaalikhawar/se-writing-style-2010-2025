 
 
      Swinburne Research Bank 
      http://researchbank.swinburne.edu.au  
 
 
  
 
 
 
Kalmalrudin, M., Hosking, J., & Grundy, J. (2011). Improving requirements quality using 
essential use case interaction patterns. 
 
Originally published in R. N. Taylor, H. Gall, & N. Medvidovic (eds.). Proceedings of the 33rd 
International Conference on Software Engineering (I CSE 2011), Hawaii, United States, 
21–28 May 2011 (pp. 531–540). New York: ACM. 
 
Available from: http://doi.acm.org/10.1145/1985793.1985866  
 
 
 
 
 
Copyright © ACM, 2011. 
The definitive version was published in Proceedings of ICSE  (2011). 
This is the author’s version of the work. It is post ed here by permission of ACM for your 
personal use. Not for redistribution. If your libra ry has a subscription to these conference 
proceedings, you may also be able to access the pub lished version via the library catalogue. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Accessed from Swinburne Research Bank: http://hdl.handle.net/1959.3/153324  
 Improving Requirements Quality using Essential Use Case Interaction Patterns Massila Kamalrudin Department of Electrical and Computer Engineering,  University of Auckland, Private bag 92019 Auckland 1142 New Zealand mkam032@aucklanduni.ac.nz John Hosking Department of Computer Science, University of Auckland, Private bag 92019 Auckland 1142 New Zealand john@cs.auckland.ac.nz John Grundy Swinburne University of Technology Centre for Complex Software, Systems & Services, PO Box 218, Hawthorn Victoria 3122, Australia jgrundy@swin.edu.au   ABSTRACT Requirements specifications need to be checked against the 3C’s - Consistency, Completeness and Correctness – in order to achieve high quality. This is especially difficult when working with both natural language r e q u i r e m e n t s  a n d  a s s o c i a t e d  s e m i-formal modelling representations.  We describe a technique and support tool that allows us to perform semi-automated checking of natural language and semi-formal requirements models, supporting both consistency management between representations but also correctness and completeness analysis. We use a concept of essential use case interaction patterns to perform the correctness and completeness analysis on the semi-formal representation. We highlight potential inconsistencies, incompleteness and incorrectness using visual differencing in our support tool. We have evaluated our approach via an end user study which focused on the tool’s usefulness, ease of use, ease of learning and u s e r satisfaction a n d  p r o v i d e d  d a t a  f o r  c o g n itive dimensions of notations analysis of the tool. Categories and Subject Descriptors D.3.3 [Software Engineering]: Requirement/Specifications – methodologies, tools General Terms Algorithms, Documentation, Design, Human Factors, Languages, Verification. Keywords Requirements engineering, essential use cases, requirements patterns, consistency management, tool support 1. INTRODUCTION Requirements s p e c i f i c a t i o ns are c a p t u r e d  b y  r e q u i r e m e n ts engineers from clients at the earliest stages o f  s o f t w a r e  development. Requirements are most commonly in a form of natural language written by either the clients or the requirements engineers, often stored in documents, presentations and interview transcripts. This form of human-centric representation is expected to be accessible by both parties[1].  However, a w r i t t e n  n a t u r a l  l a n g u a g e  r e q u i r e m e n t  is commonly error prone and vague [2] leading to “inherent imprecision, such as ambiguities, incompleteness and inaccuracy” [3]. It is common to be faced with inconsistencies as the requirement elicitation process involves two or more parties in delivering and understanding correct r e q u i r e m e n ts[1]. Zowghi et al assert that expression by different stakeholders may lead to inconsistencies and contradictions b e c a u s e  t he p a r t i e s k e e p  c h a n g i n g  t h e i r  m i n d  throughout the development process [4]. Inconsistent requirements occur when two or more stakeholders have differing, conflicting requirements and/or the captured requirements from stakeholders are internally inconsistent w h e n  t w o  o r  m o r e  elements overlap and are not aligned [5], [6]. Typically the relationship is articulated as a c o n s i s t e n c y  r u l e  a g a i n s t  w h i c h  a description can be checked. Inconsistency in requirements a l s o  occurs when there are incorrect actions [2], requirements clashes and bad dependencies [7], sometimes resulting f r o m  a l a c k o f  skills or capabilities o f  d i f f e r e n t  u s e r s  dealing with s h a r e d  o r  related objects. These complications also often introduce incomplete requirements t h a t  a r e  m i s s i n g  k e y  d e f i n i t i o n s  a n d  constaints for the software system. Incorrect requirements m a y  occur where the requirements captured do not accurately reflect the actual requirements and needs of stakeholders. These quality problems of inconsistent, incomplete and incorrect requirements lead to development delay, various quality errors a n d  r a i s e  t h e  cost of the system development process, often risking overall project success [6].  To address these quality problems occurring when working with natural language requirements a variety of heuristic algorithms, formal approaches and natural language processing methods have been developed and applied by industry practitioners and researchers. These deal with complex mathematical and linguistic analysis of natural language or models in order to maintain the consistency of requirements e i t h e r  i n  t h e  f o r m  o f  r e q u i r e m e n ts documents or models [8],[9],[10],[11],[12]. Translation of natural language models into formal or semi-formal models using these approaches allows for more rigorous inconsistency checks and completeness checks. Reflecting modified formal requirements back to stakeholders in natural language allows stakeholders to check for correctness and completeness problems, sometimes highlighting their own disagreements over the system requirements. However, while the heavyweight techniques described above are useful, we were m o t i v a t e d  t o  d e v e l o p  a  m o r e  l i g h t w e i g h t  approach t o  s u p p o r t  t r a n s l a t i o n  b e t w e e n  n a t u r a l  l a n g u a g e  a n d  semi-formal requirements models [13]. The previous focus of our Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. To copy otherwise, to republish, to post on servers or to r e d i s t r i b u t e  t o  l i s t s ,  requires prior specific permission and/or a fee. ICSE’11, May 21–28, 2011, Honolulu, Hawaii, USA. Copyright© 2011 ACM 978-1-4503-0445-0/11/05... $10.00.  work was to support translation between, and then the low-level management of, consistency between three forms of requirements: textual natural language, abstract interactions, and Essential Use Case m o d e ls [14]. In the research described in this paper we extend this work to better support higher level inconsistency, incompleteness and incorrectness detection and thus improve requirements quality. The essence of the approach is to support translation of natural language requirements into semi-formal abstract interaction and Essential Use Case models. We then use a concept of essential interaction patterns to detect quality problems in the extracted semi-formal requirements models (i.e. potential inconsistency, incompleteness and incorrectness), which are then highlighted to the requirements engineer and stakeholders. We highlight these potential errors by annotating the visual semi-formal model and textual natural language depictions in our support tool. We have evaluated our tool with an end user study focussing on usability and analysis using Cognitive Dimensions framework [15] heuristic characteristics. 2. BACKGROUND We chose to use the Essential Use Cases (EUC) semi-formal model for software requirements to translate natural language requirements into; to analyze for inconsistencies, incompleteness and incorrectness; and to keep consistent with the human-centric natural language representation. EUCs are made up of a set of organized “abstract interactions” and EUCs extracted from natural language specifications can be compared against templates of “interaction patterns” to detect requirements quality problems.  
 Figure 1. Capturing requirements using an Essential Use Case (adapted from [14]) 2.1 Essential Use Cases The Essential Use Case ( E UC) a p p r o a c h was d e v e l o ped b y  Constantine and Lockwood [14]. EUCs are d e s i g n e d  t o  r e s o l v e  problems which occur in conventional Use Case modeling and have important benefits over t h a t  a p p r o a c h [16]. An EUC is defined as a “structured narrative, expressed in a language of the application domain and of users, comprising a simplified, generalized, abstract, technology free and independent description of one task or interaction that is complete, meaningful, and well-defined from the point of view of users in some role or roles in relation to a system and that embodies the purpose or intentions underlying the interaction”[14]. An EUC is thus a form of dialogue between user and system which supports b e t t e r  communication between developers and stakeholders. Its technology-free nature enhances requirements gathering as it only allows specific detail relevant to the design to be captured [16].  Figure 1 shows an example of how an Essential Use Case is used to model a c or e  software system requirement based on a textual natural language requirement i n  t h e  f o r m  o f  a  u s e r  s c e n a r i o. Important key phrases (essential interactions) are extracted and identified with a meaningful abstract term (essential requirement or abstract interaction). The abstract interaction is then classified into a user intention or system responsibility i n  a  s e q u e n c e  o f  abstract steps making up an EUC model of a system requirement. An E U C  i s  s h o r t e r  a n d  s i m p l e r  c o m p a r e d  t o  a conventional use case as it comprises an abstraction of only essential steps and the user’s i n t r i n s i c  i n t e r e s t .  I t  comprises just user intentions and system responsibilities permitting users to capture the core part of the requirement without the need to describe the user interface in detail [16]. An EUC aims to identify “what the system must do” without being concerned on “how it should be done”. Biddle et al. suggest there is a f r u i t f u l  r e s e a r c h  a r e a  o n  c o nsistency issues between the responsibility concepts in a r e q u i r e m e n t  a n d  i t s  related design [16].  Table 1 Example of Essential interactions, Abstract interaction and their associated domains Essential Interaction Abstract Interaction Scenario Domain choose cash withdrawal choose Online banking choose a type choose e-commerce/online banking choose payment choose e-commerce/online banking/online booking indicate the seminar choose online booking indicate the vehicle type choose Online reservation choose the film choose Online reservation select an event choose Online booking/online reservation 2.2 Essential Interactions Library As the requirements capture example of Figure 1 s h o w s ,  requirements engineers need to derive appropriate essential interactions f r o m  t h e  r e q u i r e m e n t s  at a correct l e v e l  o f  abstraction. Biddle et al [ 1 7] and o u r  own study [1] f o u n d t h a t  almost all users have problems d e f i n i n g  t h e  r i g h t  l e v e l  o f  abstraction and find the abstraction process to be time consuming. This makes checking requirements for consistency and completeness difficult. This motivated us to provide an Essential Interaction Library to overcome these problems. This library consists of important key phrases ( e s s e n t i a l  i n t e r a c t i o ns) and mappings to appropriate essential requirements ( a b s t r a c t  i n t e r a c t i o ns) which support a variety of different application domains [1]. Essential interactions are not categorized b a s ed o n  o n e  p a r t i c u l a r  s c e n a r i o  b u t  c a n  be associated with multiple scenarios such as online booking, e-commerce, online business, online banking, online voting system, online reservation, mobile application and others.  Thus, multiple essential interactions from various domains can be associated with one well-defined abstract interaction. Table 1 shows an example for the abstract interaction “choose” with multiple essential interactions and various scenario domains associated with this one interaction. Low-level requirements problems can be identified using this approach e.g. phrases of natural language text with no corresponding EUC abstract interactions identifiable or EUC interaction added by the requirements engineer with no natural language phrase(s) [1].  2.3 EUC Interaction Patterns Library A key reason we chose to use the EUC model is that it also lends itself to a deeper analysis enabling identification of potential problems with the extracted requirements. A set of “best practice” EUC interaction patterns can be identified for a range of typical user/system interactions in a wide variety of domains [17]. Once an EUC model has been extracted it can be compared against a  pattern in our EUC Interaction Pattern Library. An extracted EUC model would be expected to conform to one of the patterns, or templates, in this library i.e. exemplify one common interaction style. If it deviates from this pattern this typically indicates incompleteness (missing interactions), incorrectness (wrongly sequenced interactions or wrong interactions), and possibly inconsistency (redundancy, conflicting or nonsensical interactions). Table 2 shows an example of an EUC interaction pattern for reserving items and its sequence of abstract interactions. Table 2 Example of an EUC Interaction Pattern Scenarios/ Use Case stories User intention Abstract Interaction System responsibility Abstract Interaction choose   offer choice  view detail  request identification identify self  Reserve item  confirm booking 3. OUR APPROACH We have applied the EUC interaction pattern library concept together with an inter-representational traceability approach to check for requirements quality problems (inconsistency, incompleteness or incorrectness) t h a t  e x i s t  i n  a n y  o f  t h e  requirement representation components: textual natural language, Abstract Interactions and Essential Use Cases. Figure 2 shows an outline of our requirements quality management process.  
 Figure 2. Outline of our requirements quality management process. Natural language requirements are first translated into a set of abstract interactions (1). This is done by using our Essential Interactions l i b r a r y  o f  c o n c r e t e   a b s t r a c t  i n t e r a c t i o n  m a p p i n g s ,  which abstract common expressions and phrases into EUC abstract interactions [13]. These abstract interaction sequences are then translated into an EUC model to capture the requirements (2). This is done by applying EUC structuring rules to the interactions and a visual EUC requirements model is generated. A set of inter-model checks between different requirements representation components and intra-model checks of each of the specific models is then conducted (3). The sequence of EUC interactions is compared to common sequences, or EUC interaction patterns, in our EUC interaction patterns library. The extracted EUC model’s abstract interactions are thus compared to an expected EUC pattern’s set of abstract interactions and their sequencing. These comparisons highlight potential intra- a n d  i n t e r-model problems such as: • Sequencing of requirement elements: The sequence of Abstract Interactions a n d  E U C  c o m p o n e n ts m u s t  b e  i n  t h e  same order a s  t h e  s e q u e n c e  o f  e s s e n t i a l  i n t e r a c t i o ns i n  t h e  textual requirement. This detects inconsistencies between models where one has been edited and others not and the ordering of t h e  i n t e r a c t i o ns between user and the system needs to be made consistent (eg see Figure 4).  • Naming of requirement elements: T h e  n a m e  o f  a n  E U C  component must be the same as the abstract interaction or vice versa and these need to map to a specific essential interaction in the textual natural language requirement. The abstract interaction also needs to match one of the abstract interactions in the EUC pattern library. This detects inconsistencies between models and also incompleteness: for example, a large textual requirement phrase with no matching abstract interaction or abstract interaction with no matching natural language phrase (eg see Figure 5). • EUC interaction pattern matching: t h e  a b s t r a c t  i n t e r a c t i o n  elements and sequence of elements in EUC models needs to match a suitable template in the EUC pattern library. Updating an abstract interaction or EUC element to conform to matching components requires updating the equivalent in the textual natural language representation based on the matching pattern in the EUC pattern library. This detects incomplete and incorrect requirements elements: EUC models not conforming to a recognized pattern usually indicate missing, duplicated or redundant elements, or incorrectly expressed interaction components and sequences in the requirements extracted (eg see Figure 6).  • Consistency within models: T h e  E U C  a n d  a b s t r a c t  interaction sequence semi-formal notations have meta-models with constraints expressed over them, allowing low-level validation of correctness and internal notation consistency. These check for low-level intra-notation consistency, completeness and correctness e.g. EUC has start/end interactions; naming conventions of elements are met; all elements are part of a valid sequence of EUC model-compliant interactions, etc (eg see Figure 3 (2,3)).  • Consistency between changing c o m p o n e n t s :  A ll three requirements representations, t e x t u a l  n a t u r a l  l a n g u a g e  scenario, abstract interaction and EUC, must be consistently updated if elements in any one of the models are modified by the requirements engineer.  Modification processes include adding, deleting, re-sequencing and changing properties of elements (eg see Figure 3 (4)). When issues with requirements models are detected we focus on providing warning, feedback notification and visualization of the quality issues e x i s ting i n  a n y  c o m p o n e n t ( 4 ). Components that mismatch, do not exist in one model, have differing sequencing between components, or that o v e r l a p w i t h  n o n-corresponding names or other information are c l a s s e d  a s a n “inconsistency”.  Detected redundancy of a c o m p o n e n t o r  m i s-match between component and expected element in an otherwise matching pattern i s  c l a s s e d  a s  “incorrectness”. Missing components or sequences in a model compared to an otherwise matching pattern are classed as “incomplete”. The set of requirements are assumed to be “complete” [18] once al l  t he r equi r ements model elements satisfy a match or matches in the EUC interaction pattern library. Requirements engineers can choose to either (i) resolve a detected quality issue by modifying the components based on the results of the consistency engine recommendation: (ii) t o l e r a t e  t h e  inconsistency until later, with our tool tracking it, or (iii) strictly ignore the inconsistency ( 5 ). We avoid forcing r e q u i r e m e n t s  consistency i m m e d i a t e l y  a s c o n s i s t e n c y  r u l es cannot always automatically maintain t h e  c o n s i s t e n c y  o f  t h e  set of r e q u i r e me n t  components. For example, changing the sequence of components of the abstract interaction or EUC, cannot automatically enforce a change in the s t r u c t u r e  o f  t h e  t e x t u a l  n a t u r a l  l a n g u a g e a s  this requires manual intervention. In t h i s  s i t u a t i o n ,  a  w a r n i n g  a n d  notational element highlighting make u s e rs aware t h a t  t h e  inconsistency is still present. Explicitly ignoring the inconsistency (suppressing warnings) is also allowed as we respect requirements engineers to make the final decision on the quality of their requirements. End user stakeholders can view updated and/or annotated textual requirements at any time to comment on correctness and completeness of the requirements model. While the EUC model is arguably end user-friendly, keeping it consistent with the natural language representation affords the latter human-centric view’s continued use through the requirements engineering process. 4. TOOL SUPPORT AND USAGE 4.1 Tool Support We have developed a  p rototype tool called MaramaAI (Automated Inconsistency checker) t o  help requirements engineers in managing inter-notation requirements translation, consistency management and quality improvement process based on our approach outlined in the previous section. Our tool helps to lessen human intervention and minimizes t i m e  t a k e n  to m a n a ge requirements formalisation from textual natural language to the semi-formal representation in an E U C m o d e l. I t  a l s o  s u p p o r t s  incremental refinement of the requirements to address detected quality issues but also evolution of the requirements over time. The natural language requirements are kept consistent with the EUC model allowing both to co-exist during requirements engineering. Besides capturing the abstract interactions from the textual natural language requirements, a requirements e n g i n e e r  can also view the simplified interactions between the user and the system in the EUC automatically. This form of interaction summary a l l o ws r e q u i r e me n ts e n g i n e e r s  t o  u n d e r s t a n d  b e t t e r  t he flow of the interactions, structure of the requirements a n d  v i e w  key i n c o n s i s t e n c y, incompleteness or incorrectness e r r o rs identified by the tool. Warning and feedback messages are a l s o  provided to notify the requirements e n g i n e e r s  of quality issues detected throughout requirements refinement and correction.  Deeper analysis for completeness and correctness checks are provided by the tool. The tool compares extracted EUC models to our set of template EUC interaction patterns that represent valid, common ways of capturing EUC models for a wide variety of domains. Matching of a substantial part of an extracted EUC model to an EUC pattern indicates potential incompleteness and/or incorrectness at the points of deviation from the pattern. These potential problems are highlighted to the engineer using visual annotations on the EUC model elements. Currently approximately 30 generic EUC interaction pattern templates are available in the tool and an extracted EUC model is expected to match one of these or else differences are highlighted. New patterns can be added as required. Extracted EUC models that differ slightly, but in ways the engineer considers reasonable, can be marked as “complete”. 4.2 Consistency Checking We use the e x a m p l e  s c e n a r i o  o f  r e s e r v i n g  a  v e h i c l e  to illustrate the requirements extraction, checking and evolution process using our MaramaAI tool. The textual natural language requirements are processed and a sequence of abstract interactions extracted and visualised. We use a large database of abstract interaction patterns to identify phrases in the natural language which map onto an EUC abstract interaction concept [1]. To do this, we parse the natural language text for keyword phrases, locate a matching essential interaction phrase in the database and then use its associated abstract interaction. From the sequence of abstract interactions an EUC model is generated using the EUC model visual language.  Figure 3 shows an example of some natural language requirements (1), extracted abstract interaction phrases (2), and a generated EUC model representing the requirements (3).Once these requirements have been extracted and represented in these three forms, MaramaAI provides low-level checking of the abstract interaction sequence and EUC model internal consistency using their defined meta-model constraints. It also supports inter-model consistency management by propagating changes made to one representation to the other two representations. Finally, it provides deeper analysis by comparing the EUC model to a library of EUC model templates and highlights deviations. We initially illustrate inter-representation consistency management and then EUC model analysis. Figure 3 (4) shows addition of a new abstract interaction “calculate cost”.  A warning notifies where an inconsistency is detected between representations (5). Users can either (i) resolve the inconsistency by updating the textual natural language requirement; (ii) undo the change that introduced the inconsistency; or (iii) tolerate the inconsistency. A problem marker warning is provided to inform users about such unresolved inconsistency errors (6). Figure 4. shows an example of MaramaAI tolerating inconsistency when EUC element sequence order is changed. The EUC element “choose” has been moved to the end of the EUC model and this change impacts the other two requirements forms. The textual requirement and abstract interaction sequence are now inconsistent with the EUC representation. The tool colors the associated abstract interaction “choose” red and annotates the associated essential interaction “indicates” with “***”. An inconsistency problem marker appears notifying the user about the inconsistency. Options to resolve the inconsistency by moving the associated abstract interaction component are provided to the user. In this case, the user will have to tolerate the inconsistency until later as changing the structure of the highlighted phrases (essential interactions) will cascade changes to the whole structure of the textual natural language requirement. Another problem marker warning is provided to continue to inform the user of the existence of an inconsistency that has not yet been resolved.  Figure 3. Extracting an EUC model then adding a new abstract interaction. 
 Figure 4. Changing the ordering of EUC elements. The tool forces the user to resolve some inconsistencies if the error causes major inconsistency of the requirements components from the beginning or throughout the process. For example, in Figure 5 ,  t h e  a b s t r a c t  i n t e r a c t i o n  “ c h o o s e ”  i s  c h a n g e d  t o  “ a s k  help”. This change causes an inconsistency with the EUC component and textual requirement as indicated in Figure 5 (1). This is because the abstract interaction is related to a particular essential interaction in the interaction library and this may affect the extracted essential interaction. The EUC component is also affected as it is dependent on its associated extracted abstract interaction. The user is provided with a list of words or phrases (2) as alternatives for “ask help” which are recognized as correct and complete, as they match essential interaction phrases contained in the EUC interaction pattern library. MaramaAI users can create a new natural language requirement phrase based on the suggestions they think are relevant to the context provided they map to a phrase in the EUC interaction pattern library. This library can also be extended with new abstract interaction phrases as required. This is currently done by the tool developer but we will let requirements engineers do this in future via visual interfaces. 4.3 Inconsistency, Incompleteness and Incorrectness checking Further detailed analysis of the consistency, correctness and completeness of requirements models is provided by using EUC pattern library instances to validate the extracted EUC model. To do this, the checker attempts to match the extracted EUC model with one of the generic EUC interaction patterns, or templates, in our EUC interaction pattern library. Currently, there are approximately 30 generic EUC interaction pattern templates covering various domains developed by us and collected from the research of Constantine and Lockwood [14] and Biddle et al [17] . The generic template is assumed to be the correct and complete interaction (an oracle) for a specific scenario. This provides the requirements engineer with a further, higher level, check of their requirements model by comparing their EUC, representing a semi-formal model of the original natural language requirements, with a template which matches a “best practice” EUC representation for the abstract interaction scenario. As discussed above, this technique allows us to detect:  • intra-model inconsistencies (e.g. one or more unexpected abstract interaction or interactions out of expected sequence appearing in the extracted EUC model);  • incompleteness (missing interactions occur in the extracted EUC model compared to the generic template matched in the EUC pattern library); and to some degree • incorrectness: requirements captured in the extracted EUC model do not match a best-practice template in the pattern library, indicating possibly incorrect textual requirements. For example, Figure 6 (1) shows the requirement d e s c r i b i n g  reservation of a rental vehicle from a company. To check for consistency of this requirement, the user can choose a provided EUC  interaction pattern template ”reserve item” (outlined in Figure 2)  to compare to the extracted EUC model. Alternatively they can have MaramaAI compare the extracted EUC model to all available patterns and find a “best fit”, highlighting any differences from the best fit template as possible problems. MaramaAI checks whether the extracted EUC requirements model is consistent with the identified EUC interaction pattern library template or not. If differences are found a warning message is provided and the tool uses a visual differencing approach [19] to highlight potential inconsistency, incompleteness and/or incorrectness errors that may exist in the requirements model, as shown in Figure 6 (2). 
 Figure 5. Change of Abstract interaction element’s name
 Figure 6. Visual differencing for detecting inconsistency, incompleteness and incorrectness using an EUC interaction pattern library template. Here, EUC interaction pattern elements are shown as a set of grey elements adjacent to the extracted EUC model (3). Visual link “” annotations connect corresponding elements in the extracted EUC and pattern. The tool is able to show errors such as wrong sequence ordering, redundancy, missing elements and existence of extra elements in the EUC model. Incorrect sequences are obvious via crossed links (e.g. the out of order “choose” abstract interaction). Unmatched items in the pattern template (e.g. “identify self”) or in the extracted EUC (e.g. “calculate cost”) are highlighted (4) (in this case juxtaposed to indicate the pattern element could sensibly replace the extracted element). Based on the visualized errors, requirements engineers can choose to: change their EUC model to conform to the template view; incorporate some of the recommended changes into their model; or keep their existing EUC requirements model. Our philosophy is to lessen the human effort and intervention in checking for potential errors but leave the final decision to accept or reject recommendations to the user. Our belief is that combining tool automation support to identify potential requirements errors with human acceptance and cross validation better helps unearth and fix inconsistency, incompleteness and incorrectness errors [20].  5. ARCHITECTURE AND IMPLEMENTATION We developed the MaramaAI toolset using our Marama meta-tools [21] a n d  a  n u m b e r  o f  s p e c i a l i s e d  c o m p o n e n t s  f o r  requirements extraction, analysis, comparison to pattern library and visual differencing. An outline of the tool’s architecture is represented in Figure 7. We developed the meta-model, editing tools and basic EUC model constraint management with Marama, generating a specification for the tool (1). When using MaramaAI, a requirements engineer opens the MaramaAI tool specification and the Marama meta-tool instantiates the tool including model and diagrams (2). Textual requirements are extracted from plain text documents (which themselves can be extracted from Word and PDF formats). This is done by using interaction phrase to abstract interaction mappings in our Abstract Interactions library (3). A list of extracted abstract interactions is generated which is then translated into an EUC model. These models are used to generate an abstract interactions list and associated EUC diagram (4).  
 Figure 7. MaramaAI tool architecture. We have mapped our EUC interaction pattern library approach, illustrated in Figure 2, to the consistency management framework proposed by [22]. The requirements engineer can make modifications to any of the representations supported by MaramaAI (5), including changing textual representation or adding, updating, resequencing or removing elements in EUC or abstract interaction representations. Inconsistencies between these representations are detected and shown to the user via highlighting text and/or diagram elements. The EUC model is compared against templates in the EUC patterns library to check its completeness and correctness (6). Differences to a chosen pattern template in the library are highlighted between the EUC model and template via visual differencing (7). This annotates the EUC model to indicate these differences. For all inconsistencies and differences from an EUC model from a pattern library template, the requirements engineer can choose either to resolve the inconsistency by modifying components, t o l e r a t e  the inconsistency (deferring for later attention) or indicate they wish to i g n ore the inconsistency. A n i n c o n s i s t e n c y  i s  resolved by updating a representation model appropriately and MaramaAI provides support to the user by presenting and applying potential changes to resolve the inconsistency. In each case any modification results in the models again being checked with the meta-model consistency rules and the EUC pattern template. We implemented the visual diagramming interfaces of MaramaAI using the Marama metatool [21]. This supports rapid design and development of domain specific visual languages, and we used these facilities to develop the notations and editors for the abstract interaction listing, the EUC models and the EUC interaction patterns (the latter used in the visual differ). The meta-model and DSVL editors were supplemented with event handlers to provide low-level model constraints, consistency management support and interfaces to other elements of the architecture. These were implemented in Java and include generation of dialogues and problem markers to assist the user tracking and resolving inconsistencies. An event handler was implemented in Java to implement extraction of textual requirements into abstract interactions, and another to generate an EUC model from the abstract interaction. Two further event handlers are written in Java, one t o  p e r f o r m  a  c o m p a r i s o n  o f  t h e  E U C  m o d e l  t o  t h e  pattern template library, and one to perform the visual differencing using Marama APIs to annotate the EUC diagram. 6. EVALUATION In our prior work, we demonstrated that end users find manual extraction of EUCs difficult, time consuming and error prone [1] We also demonstrated that the algorithms we have used for abstract interaction and EUC extraction from natural language, produce much more accurate EUCs than manual e x t r a c t i o n  provides and far more rapidly. We wanted to demonstrate the effectiveness of our inconsistency, incompleteness and incorrectness detection approach along with the usability of our tool in supporting an engineer improve requirements quality with this approach. To this end we conducted a n  e n d  u s e r  s t u d y  t o  evaluate user perceptions of the tool and its application. Participants in the study were 1 1  s o f t w a r e e n g i n e e r i n g  p o s t-graduate students, several of whom had previously worked in industry as developers and/or requirements engineers. All had some familiarity with EUC modeling, but were not experts in the approach. Each participant was given a brief tutorial on how to use the tool and some examples of how the tool manages consistency between the three requirement forms. They then undertook exercises to extract abstract interactions f r o m  t e x t u a l  requirements and map t h e  abstract interactions t o  E s s e n t i a l  U s e  Cases. Further exercises on m o d i f i c a t i o ns to any of the requirements forms followed: adding and deleting elements, changing n a m es a n d  s e q u e n c e  o r d e r i n g a n d  o b s e r v a t i o n  o f  t h e  resulting consistency management. Finally participants used the pattern library and visual differencing for further requirements checking and quality improvement. Having familiarized themselves with the tool’s capabilities, users completed a three part survey comprising: (1) a standard evaluation of user perceptions of usefulness, ease of use, ease of learning and satisfaction using a set of three questions addressing each of these characteristics; (2) a set of questions to determine user perceived strengths of selected dimensions of the cognitive dimensions of notations (CD) [23], a common approach for evaluating visual language environments  – t h e  q u e s t i o n s  b e i n g  adapted from [15]; and (3) open ended questions related to improvements participants desired. For (1) and (2) a five part Likert scale was used for each question.   Figure 8 shows the results for the standard usability survey. For each characteristic, the results of each corresponding three question block were averaged to produce the results shown. The results are very positive, with strong agreement over the usefulness of the tool (over 80% strongly agree or agree on its usefulness), the ease of use (over 90%), ease of learning (over 90%) and satisfaction (over 80%). The small number of cases of disagreement over usefulness and satisfaction related to a preference by those participants for a UML use case based approach rather than the Essential Use Case approach. Some also felt that requirements engineers would be too constrained by the available templates available in the EUC interaction pattern library (shown in answers to the open ended questions). However, overall these results are very encouraging, particularly given prior studies, our own and others, that suggest EUC modeling, while appealing to end users, has a large barrier to entry due to difficulty of use [17].  
 Figure 8. User study result-Usefulness, ease of use, ease of learning and satisfaction The CD study allowed us to explore in more detail the reason for these user perceptions. Table 2 shows each of the dimensions we were interested in evaluating and the question addressing it. Table 3 shows the evaluation results for each of these questions. These demonstrate interesting tradeoffs between the dimensions that we feel have contributed to the strong usability acceptance. The visibility and viscosity results demonstrate that users are comfortable with the tool and find it easy to make changes to the diagrams representing the various notational forms. The strong closeness of mapping rating and the relatively neutral hard mental effort a n d  error proneness r a t i n g s  p o i n t  t o  t h e  E U C  n o t a t i o n s  being seen as relatively intuitive and understandable by our users. This is in strong contrast to the difficulty found by users in understanding and applying EUCs found in the prior studies. The consistency management and automated extraction support appears to be responsible for this, as demonstrated by the high ratings for visibility of dependencies, consistency of notations and progressive evaluation.  Table 2 Cognitive dimensions and questions evaluating them Dimension Question visibility It is easy to see various parts of the tool viscosity It is easy to make changes diffuseness The notation is succinct and not long-winded hard mental effort Some things do require hard mental effort error-proneness It is easy to make errors or mistakes closeness of mapping The notation is closely related to the result consistency It is easy to tell what each part is for when reading the notation hidden dependencies The dependencies are visible progressive evaluation It is easy to stop and check my work so far premature commitment I can work in any order I like when working with the notation Table 3: Evaluation result for Cognitive Dimensions questions Cognitive dimension Strongly Disagree Disagree Neither Agree Strongly Agree Visibility 0.0 0.0 0.0 90.9 9.1 Viscosity 0.0 9.1 9.1 72.7 18.2 Diffuseness 0.0 0.0 9.1 63.6 27.3 Hard-mental effort 9.1 27.3 45.5 18.2 0.0 Error-Proneness 0.0 54.5 45.5 0 0.0 Closeness of Mapping 0.0 9.1 9.1 72.7 9.1 Consistency 0.0 0.0 18.2 72.7 9.1 Hidden Dependencies 0.0 0.0 18.2 54.5 27.3 Progressive Evaluation 0.0 0.0 18.2 54.5 27.3 Premature Commitment 0.0 0.0 18.2 45.4 36.4 When it was introduced, the EUC semi-formal requirements modeling approach promised significant advantages in terms of quality enhancement and reusability [24]. In practice, however, the approach suffered from an inability for users to get the “right” level of abstraction when turning textual requirements into EUCs, plus difficulty in keeping EUC models consistent with textual requirements as requirements evolved. This led to poor performance of the methodology in practice and low uptake [1]. Combining the results of our user s t u d y  w i t h  o u r  p r i o r  e f f i c a c y  results, it is apparent that, through appropriate tool support, the promised potential of the EUC approach is achievable.  7. RELATED WORK The management of consistency and improvement in quality of requirements is an active area of research. Goknil et al. [25] proposed an approach together with a tool for defining requirement relations using traceability. They cater for issues of consistency, change management and inference of requirements.  First order logic is used to support the consistency checking of relations and inferring new relations. However their approach only supports textual requirements and lacks consistency management between textual and other requirement artifacts such as use case and activity diagrams. There is also no automation provided for modeling the requirement. The visualized result of either inferred relations or inconsistencies needs to be interpreted manually by the requirement engineer w h i c h  c a n  l e a d  t o  e r r o r s  [25]. Our work fills some of the gaps here as we cover consistency checking between multiple requirement artifacts and provide automation support for capturing textual requirement, generating Essential Use Cases and checking inconsistency besides providing visual support for detecting and resolving inconsistency, incompleteness and incorrectness problems.  Kroha et al. [26] investigated use of semantic web technology to check consistency of requirement specifications. They transform the static part of UML models that illustrate requirements into a problem ontology and attempt to discover inconsistencies by using ontological reasoning to uncover contradictions [26]. This work does not, however, check for behavioral consistency as they cannot represent dynamic aspects of UML specifications in the ontology. By contrast, our work focuses on behavioral requirements, complementing their approach.  Graaf and Deursen [27] check for consistency between two types of behavioral specification: scenarios and state machines. They apply model transformations to generate state machines from scenarios. They then compare the generated state machines with manually developed state machines [27]. Some aspects of this work are similar as ours as we also compare the generated EUC model with our manually specified interaction library templates. However we differ in the representation model used and the purpose for matching the models. We also automate the checking and visualize the comparison results using visual differencing. We also support continued consistency management support with a natural language representation of requirements. Nentwich et al. propose a repair framework for inconsistent distributed documents [28]. They generate interactive repairs from an input of first order logic formula that constrains the documents.  Their repair system provides a correct repair action for each inconsistency together with available choices to handle the problem. However, they faced problems when the repair actions interacted with the grammar in a document, and also actions generated by other constraints [28]. Their approach also fails to identify a single inconsistency that may lead to other inconsistencies [28]. Our work overcomes this via our EUC interaction pattern library which better tackles the management of natural language requirements across a broad set of domains. In addition, our tool provides support for recognizing both single and multiple inconsistencies in requirement components. It also highlights and informs users via feedback and warning notification about affected components. Mehra et al.  apply visual differencing and diagram versioning and merging to support asynchronous collaborative diagramming [19]. Visual differencing allows users to interactively view and resolve differences between multiple diagram versions [19]. We have adopted this visual differencing approach to highlight differences between the generated EUC model and template. However, our focus is broader, supporting checks for inconsistency, incompleteness and incorrectness errors that exist in the generated model compared to the template, instead of just syntactic inconsistencies between diagram versions. 8. CONCLUSIONS We have described a novel approach supporting requirements quality improvement via a combination of semi-formal model extraction from natural language specifications and analysis using an EUC interaction pattern library. Low-level inconsistency problems can be identified such as natural language phrases without matching semi-formal model elements and meta-model constraint violations of the extracted model. Higher-level problems, including inconsistency, incompleteness and incorrectness can be identified by comparing the semi-formal model to the Essential interaction pattern and to the “best practice” examples of EUC interaction pattern templates. A visual differencing technique highlights differences between the pattern template and EUC model. Modifications to EUC, abstract interaction and natural language requirements representations are also supported with consistency management support between the different representations. We evaluated our prototype tool from effectiveness and usability perspectives and the CD framework using an end user study. The results of this study are promising with most participants finding our tool to be useful for improving quality and managing consistency of requirements. In future work we are developing an Essential User Interface (EUI) representation and a form based UI designer in order to visualize requirements as likely interface models as they captured. The generated UI could be used to show that requirements expressed by clients are consistent with the requirement engineer’s view using this alternative visualization mechanism. Further possibilities include generation of alternative concrete interface forms from the abstract EUC model exploiting specific technology choices allowing an end to end rapid user interaction prototyping mechanism.  9. ACKNOWLEDGEMENT The research is funded by the PReSS Account of University of Auckland, the FRST Software Process and Product Improvement Project, Ministry Of Higher Education Malaysia and Universiti Teknikal Malaysia Melaka (UTeM).  10. REFERENCES   [1] Kamalrudin, M., Grundy, J. and Hosking, J., Tool Support for Essential Use Cases to Better Capture Software Requirements. In Proceedings o f the 25th IEEE/ACM International Conference on Automated Software Engineering, Antwerp, Belgium, Sept 16-20 2010, ACM.   [2] Fabbrini, F., Fusani, M., Gnesi, S. and Lami, G., The linguistic approach to the natural language requirements quality: benefit of the use of an automatic tool. In Proceedings of the 2 6 t h  A n n u a l  N A S A  G o d d a r d S o f t w a r e  Engineering Workshop, 2001, 97-105.   [3] Kamalrudin, M. Automated Software Tool Support for Checking the Inconsistency of Requirements. In Proceedings o f  t h e  2 0 0 9  I E E E / A CM International Conference on Automated Software Engineering, Auckland, New Zealand, N o v  1 6-20 2009, IEEE CS Press, pp. 693-697.    [4] Zowghi, D., and Gervasi, V. On the interplay between consistency, completeness, and correctness in requirements evolution. Information and Software Technology 45 ( 1 4 ) ,  November 2003, 993-1009.    [5] Spanoudakis and G, Zisman. A. Inconsistency Management in Software Engineering in “Handbook of Software Engineering and Knowledge Engineering.”, vol 1,  World Publishing, 2001, pp. 329-380.   [6] Nuseibeh, B., Easterbrook S. and Russo, A. Leveraging Inconsistency in Software Development. Computer 33 ( 4) ,  2000, 24-29.   [7] Satyajit, A., Hrushikesha, M. and George, C., Domain consistency in requirements specification. In Proceedings of the Fifth International Conference on, Q u a l i t y  S o f t w a r e, Melbourne, Australia, September 2005, IEEE CS Press, pp. 231-238.    [8] Kozlenkov, A. and Zisman, A., Are their Design Specifications Consistent with our Requirements?. In Proceedings of 10th A n n i v e r s a r y  I E E E  J o i n t  I n t e r n a t i o n a l  Conference on Requirements Engineering, Essen, Germany, September 2002,  IEEE CS Press, pp. 145-156.    [9] Boyd, S., Zowghi, D. and Farroukh, A., Measuring the expressiveness of a constrained natural language: an empirical study. In Proceedings o f  t h e 1 3  I E E E  International Conference Requirements Engineering, Paris, France, 2005, IEEE CS Press, pp. 339-349. [10] Do, K., Method and Implementation for Consistency Verification of DEVS Model against User Requirement. In Proceeding of the 10th International Conference on Advanced Communication Technology, G a n g w o n-Do, Korea, 2008, pp. 400-404. [11] Egyed, A., Scalable Consistency Checking Between Diagrams-The ViewIntegra Approach. In  Proceedings of the 16th IEEE international conference on Automated software engineering, San Diego, California, November 2001, IEEE CS Press, pp. 387.  [12] Denger, C., Berry, D.M. and Kamsties, E., Higher Quality Requirements Specifications through Natural Language Patterns. In Proceedings of the IEEE International Conference on Software-Science, Technology & Engineering, Herzlia, Israel, 2005, IEEE CS Press, pp. 80.  [13] Kamalrudin, M, Grundy, J and Hosking J. Managing consistency between textual requirements, abstract interactions and Essential Use Cases. In Proceeding of the 34th Annual IEEE International Computer Software& Applications, Seoul, Korea, July 2010, IEEE CS Press, pp. 327-336.  [14] Constantine, L.L. and Lockwood, A.D.L. Software For Use: A Practical Guide to the Models and Methods of Usage- Centered Design. A C M  P r e s s / A d d i s o n  W e s l e y  L o n g m a n ,  Inc, 1999.  [15] Kutar, M, Britton C., and  Wilson. J, Cognitive Dimensions An Experience Report. In Proceeding of the Twelfth Annual Meeting of the Psychology of Programming Interest Group, Memoria, Cozenza Italy, 2000, pp. 81-98.  [16] Biddle, R., Noble, J. and Tempero, E. 2002. Essential use cases and responsibility in object-oriented development. In Proceeding of the twenty-fifth Australasian conference on Computer science, Melbourne, Victoria, Australia, 2002, ACM, pp. 7-16.  [17] Biddle, R, Noble J. and Tempero, E., Patterns for Essential Use Case Bodies, CRPIT '02 Proceedings of the 2002 conference on Pattern languages of programs, vol 13, Australian Computer Society, pp 85-98.  [18] Huzar, Z., Kuzniarz, L., Reggio, G. and Sourrouille, J.L. Consistency Problems in UML-Based Software Development. In UML Modeling Languages and Applications, 2005, 1-12. [19] Mehra, A., Grundy, J  and Hosking, J. A generic approach to Supporting Diagram Differencing and Merging for Collaborative Design. In Proceedings of the 20th IEEE/ACM international Conference on Automated software engineering, Long Beach, CA, USA, 2005, ACM, pp. 204 – 213. [20] Ghose, A., Koliadis and G., Chueng, A. Process Discovery from Model and Text Artefacts Services, In Proceeding of the 2007 IEEE Congress on S e r v i c e s, Salt Lake City, UT ,July 2007, IEEE CS Press, pp. 167-174. [21] Grundy, J.C., Hosking, J.G, Huh J. and, Li, N., Marama: an Eclipse meta-toolset for generating multi-view environments. In Proceedings of the 2008 IEEE/ACM International Conference on Software Engineering, Liepzig, Germany, May 2008, ACM, pp. 819-822.  [22] Nuseibeh, B., Easterbrook S., and Russo, A. Making inconsistency respectable in software development. Journal of Systems and Software, 58 (2), Sept 2001, pp. 171-180. [23] Blackwell, A. and Green, T. A cognitive dimensions questionnaire optimised for users. In Proceeding o f  t h e Twelfth Annual Meeting of the Psychology of Programming Interest Group, Corigliano Calabro, Cosenza, Italy, 2000, pp. 137-152.  [24] Biddle, R., Noble, J., and Tempero E. 2002. Supporting Reusable Use Cases. Lecture Notes in Computer Science, Volume 2319, Springer-Verlag, 2002, pp. 135-138.  [25] Goknil, A., Kurtev, I., van den Berg, K. and Veldhuis, J.W. Semantics of trace relations in requirements models for consistency checking and inferencing, Software and Systems Modeling, 2009, pp. 1-24.  [26] Kroha, P., Janetzko, R. and Labra, J.E., Ontologies in Checking for Inconsistency of Requirements Specification. In Proceeding o f the Third International Conference on Advances in Semantic Processing, Sliema, Malta, October 2009, IEEE CS Press, pp. 32-37.  [27] Graaf, B. and Deursen, A.V. Model-Driven Consistency Checking of Behavioural Specifications. In  Proceeding of the Fourth International Workshop on Model-Based Methodologies for Pervasive and Embedded Software, Braga, Portugal, 2007, IEEE CS Press, pp. 115-126.   [28] Nentwich, C., Emmerich, W. and Finkelstein, A. Consistency management with repair actions. In Proceedings of the 25th International Conference on Software Engineering, Portland, Oregon, 2003, IEEE CS Press, 455-464.   