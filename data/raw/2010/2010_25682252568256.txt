Perturbation Analysis of Stochastic Systems with
Empirical Distribution Parameters
Guoxin Su
School of Computing
National University of Singapore
sugx@comp.nus.edu.sgDavid S. Rosenblum
School of Computing
National University of Singapore
david@comp.nus.edu.sg
ABSTRACT
Probabilistic model checking is a quantitative verication
technology for computer systems and has been the focus of
intense research for over a decade. While in many circum-
stances of probabilistic model checking it is reasonable to an-
ticipate a possible discrepancy between a stochastic model
and a real-world system it represents, the state-of-the-art
provides little account for the eects of this discrepancy on
verication results. To address this problem, we present a
perturbation approach in which quantities such as transi-
tion probabilities in the stochastic model are allowed to be
perturbed from their measured values. We present a rig-
orous mathematical characterization for variations that can
occur to verication results in the presence of model pertur-
bations. The formal treatment is based on the analysis of
a parametric variant of discrete-time Markov chains, called
parametric Markov chains (PMCs), which are equipped with
a metric to measure their perturbed vector variables. We
employ an asymptotic method from perturbation theory to
compute two forms of perturbation bounds , namely condition
numbers and quadratic bounds, for automata-based veri-
cation of PMCs. We also evaluate our approach with case
studies on variant models for three widely studied systems,
the Zeroconf protocol, the Leader Election Protocol and the
NAND Multiplexer.
Categories and Subject Descriptors
D.2.4 [ Software Engineering ]: Sotware/Program Verica-
tion| Formal methods, Model checking ; F.1.2 [ Computa-
tion by Abstract Devices ]: Models of Computation|
Probabilistic computation ; F.3.1 [ Logics and Meanings of
Programs ]: Specifying and Verifying and Reasoning about
Programs| Specication techniques ; G.3 [ Probability and
Statistics ]:Markov processes, Stochastic processes
General Terms
Algorithms, Measurement, Theory, Verication
Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proï¬t or commercial advantage and that copies
bear this notice and the full citation on the ï¬rst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciï¬c
permission and/or a fee.
ICSE â€™14, May 31 - June 7, 2014, Hyderabad, India
Copyright 2014 ACM 978-1-4503-2756-5/14/05 ...$15.00.Keywords
Asymptotic bounds, perturbation analysis, PRISM model
checker, probabilistic model checking
1. INTRODUCTION
Probabilistic model checking is a system verication tech-
nique that has matured over the past two decades and is
increasingly exploited in software engineering research, such
as reliability analysis [23] and adaptation uncertainty [13].
One of the most widely known and used probabilistic model
checking tools is PRISM [18], and a common scenario of
probabilistic model checking is the scenario of verifying a
system model against a temporal-logical formula and return-
ing either a yes/no answer or a probabilistic answer (namely
a number between 0 and 1 indicating the satisfaction proba-
bility). The majority of case studies reported for probabilis-
tic model checking, including those performed with PRISM,
involve stochastic models with well understood theoretical
stochastic behaviors, such as the use of a fair coin toss to
introduce randomization into an algorithm, or the uniform
distribution of randomly chosen IP addresses in the Zeroconf
protocol. However, real-world systems are often governed by
empirical or unknown distributions, such as the failure rate
of some system component. Whether the temporal-logical
formula and the returned result reect the true quantitative
property of the system behind the stochastic model is depen-
dent on whether the model is a faithful abstraction of the
system. Instead of using non-determinism to resolve choices
between transitions, in a stochastic model, measurements or
experiments are employed to determine the transition prob-
abilities (for discrete-time systems) or transition rates (for
continuous-time systems). On the one hand, those statisti-
cal quantities are aected by the measurement or experiment
environment. For example, the rate of losing a message in a
communication protocol implemented in a physical network
is aected by network load, electrical or wireless noise, etc.
On the other hand, the stochastic nature of the system may
vary over time. For example, the reliability of a hardware
component decreases as the age of the component grows. In
the worst case, a tiny but non-trivial change to some quanti-
ties in the model might lead to a misleading or even invalid
verication result.
The above considerations motivate an important problem
for quantitative verication of real-world systems: If a sto-
chastic model or some of its quantities are perturbed, what
are the consequences on the results of verifying the model
against some required or queried temporal properties? To
test the consequences, one straightforward method is to per-Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proï¬t or commercial advantage and that copies bear this notice and the full citation
on the ï¬rst page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior speciï¬c permission and/or a
fee. Request permissions from Permissions@acm.org.
Copyright is held by the author/owner(s). Publication rights licensed to ACM.
ICSEâ€™14 , May 31 â€“ June 7, 2014, Hyderabad, India
ACM 978-1-4503-2756-5/14/05
http://dx.doi.org/10.1145/2568225.2568256
311
form multiple point-wise model checking in the manner of
PRISM experiments: We modify the values of the quanti-
ties in the model, run the model checker for each choice of
the values and compare the resulting set of outcomes. How-
ever, while such a sampling strategy provides an ecient
way of revealing a rough trend in the verication results,
it only partially reveals the consequence of model perturba-
tions on verication. Therefore, the practice of probabilistic
model checking can benet from a method that provides a
sound and rigorous characterization of the relationship be-
tween model perturbations and verication. In particular,
with this method, the model builder is able to better verify
whether his system model satises its requirements in the
presence of perturbations caused by the system itself or the
environment.
In this paper, we present an asymptotic method to com-
pute the perturbation bounds , including condition numbers
and quadratic bounds, for probabilistic model checking of
perturbed stochastic models. Perturbation bounds have at
least the following three aspects of signicance: First, per-
turbation bounds themselves are intuitive measures of sen-
sitivity for verifying perturbed stochastic model. Second,
perturbation bounds conveniently predict themaximal vari-
ations that might occur to the verication results with re-
spect to the perturbation distances of specic quantities in
the stochastic models. Last, and based on the second as-
pect, perturbation bounds support the so-called backward
analysis: What is the \safe zone" for the quantities to per-
turb if we want to conne the variation of a result within a
specic value?
To further explain the motivation of our approach, let us
consider an IPv4 Zeroconf protocol model with noisy com-
munication channels. The Zeroconf protocol enables a new
host to join a computer network automatically and with
\zero conguration" (such as without pre-assignment of an
IP address). Figure 1 depicts a lightweight abstract model
of Zeroconf that uses a maximum of four message probes
for the new host to discover an unused IP address. State 1
is the initial state in which the new host randomly selects
an IP address. From state 2 to state 5, the new host sends
a probe to existing hosts and waits. If it receives a reply
within a specied time, then the process goes back to state
1; if not, the process proceeds to the next state. State 6 is
the \error" state in which the new host uses an occupied IP,
while state 7 is the \ok" state in which the new host uses
an unoccupied IP. The constant number mis the number
of existing hosts and n= 60;534 is the size of the IP ad-
dress space as specied in Zeroconf. The variable xrefers
to the probability that a probe or its reply is lost, and the
exact value of xrelies on an ad hoc statistical estimation of
the loss rate of messages tested in experiments. But we can
calculate the mean value  xofxas an idealized message loss
rate and assume that a potential perturbation xmay oc-
cur. It is therefore reasonable to express the probability y
that an address collision occurs in the form of  yy, where
yis an idealized value of yandyprovides the maximal
possible perturbation of y. While ycan be computed by us-
ing the values of m;n and xin standard probabilistic model
checking, sheding light on the relationship between yand
xis the goal of this paper.
Our perturbation analysis approach is based on the for-
mal analysis of a parametric variant of discrete-time Markov
chains, called parametric Markov chains (PMCs), which are//1
m=n//
1 m=n
test
2x //1 x
yy test
3x //
1 xcctest
4x //
1 x__test
5
1 x^^
x

7
ok1886
error100
Figure 1: Zeroconf Protocol with Noisy Channels
equipped with the norm of total variance to measure the
perturbations of their abstract transition probabilities. In
our previous work [30], we developed an asymptotic method
to compute condition numbers for probabilities of reacha-
bility properties for PMCs. Key contributions of this new
paper include the following: First, we extend our asymptotic
method for automata-based probabilistic model checking.
This allows our approach to account for a much larger group
of temporal properties, namely !-regular properties. Sec-
ond, we improve the asymptotic method to compute quad-
ratic bounds, which together with condition numbers are
able to provide suitable bound predictions in practice. Third,
we present an evaluation method to demonstrate the utility
and applicability of our approach using case studies on vari-
ants of well known system models.
The remainder of the paper is organized as follows. Sec-
tion 2 recalls theoretical basis of automata-based probabilis-
tic model checking and relevant mathematical denitions.
Section 3 presents the model of PMCs and relevant model
checking concepts. Section 4 provides an asymptotic method
for computing condition numbers and quadratic perturba-
tion bounds. Section 5 describes an evaluation method and
case studies. Section 6 discusses some related work. Section
7 concludes the paper.
2. PRELIMINARIES
In this section, we recall key concepts in automata-based
probabilistic model checking, including discrete-time Markov
chains (MCs), deterministic Rabin automata (DRAs), and
their products [3]. MCs are widely adopted to model prob-
abilistic systems in model checking tools, including PRISM,
and DRAs can encode the expressive language of !-regular
properties, including the syntax of LTL. We also recall rele-
vant mathematical denitions, in particular, vector variables
and the norm of total variance.
2.1 Markov Chains and Automata
Definition 1 (Markov chain). A discrete-time Mar-
kov chain (MC) is a tuple M= (S;P;;AP;L )whereSis
a nite, non-empty set of states, P:SS![0;1]is a
transition probability function such thatP
s02SP(s;s0) = 1
for eachs2S,:S![0;1]is an initial distribution such
thatP
s2S(s) = 1 ,AP a set of atomic propositions, and
L:S!2APa labeling function.
In the literature [3], Pis often presented as a matrix and
as a vector. The size of M, namelyjMj, is the num-
ber of states in Splus the number of pairs ( s;s0) such
thatP(s;s0)>0. A path inMis an innite sequence
=s1s2s3:::of states in Ssuch that P(si;si+1)>0 for
eachi. Apath fragment ofis an initial and nite fragment312of.S0Sisstrongly connected if for each pair ( s;s0)
of states in S0there is a path fragment s1:::snsuch that
s1=sandsn=s0.S0is a strongly connected component
(SCC) if no proper superset of S0is strongly connected. S0
is abottom strongly connected component (BSCC) if for each
s62S0there is no path fragment s1s2:::snsuch thats12S0
andsn=s. Letrch(M) be the largest subset of Ssuch that
for eachs2rch(M) there is a path fragment s1s2:::snsuch
that(s1)>0 andsn=s. A statesor a setS0of states is
reachable inMifs2rch(M) orS0rch(M), respectively.
The digraph ofMis induced in the standard way| sis a
vertex of the digraph if and only if s2S, and (s;t) is an
edge of the digraph if and only if P(s;t)>0.
Definition 2 (Deterministic Rabin Automaton).
A deterministic Rabin automaton (DRA) is a tuple A=
(Q;;;q 0;Acc)whereQis a nite set of states, an al-
phabet,:Q!Qa transition function, q02Qan
initial state, and Acc2Q2Qis an accepting condition.
Arunfor=A0A1A2:::2!is an innite sequence
q0q1q2:::of states such that (qi;Ai) =qi+1for eachi0.
A run is accepting if there exists ( J;K)2Accsuch that
(9n0:8in: qi62J)^(9m0:8jm: qj2K):
The accepted language ofAisL(A) =f2!: the run for
is acceptingg. We recall the following fact for DRAs.
Proposition 3.The class of languages accepted by DRAs
agrees with the class of !-regular properties.
We say an MCMand a DRAAarecompatible if  =
2AP, where  is the alphabet of AandAPis the set of
atomic propositions for M. Automata-based probabilistic
model checking is based on the denition of the product of
an MCMand a DRAAthat are compatible.
Definition 4 (Model Product). The product of
M= (S;P;;AP;L )andA= (Q;2AP;;q 0;Acc)is given
byM
A = (SQ;P;;AP;L)where
P((s;q);(s0;q0)) =
P(s;s0)ifq0=(q;L(s))
0 otherwise,
(s;q) =
(s)ifq=(q0;L(s))
0 otherwise,
AP=fJ;K : (J;K)2Accg, andH2L(s;q)iq2H
for eachH2AP.
We note that whenever we write M
A , it is assumed that
MandAare compatible. A BSCC BSQofM
A is
accepting ifJ\B=?andK\B6=?for each (J;K)2Acc.
LetB!be the union of all accepting and reachable BSCCs of
M
A . LetB?rch(M
A ) such that B?\B!=?and for
each (s;q)2B?there is a path fragment ( s1;q1):::(sn;qn)
inM
A such thats=s1,q=q1and (sn;qn)2B!. We call
B!thetarget set andB?theconstraint set ofM
A , which
can be generated by a standard graph analysis algorithm.
Due to space limitations, we do not formulate the de-
nitions of reachability probability and probabilistic satisfac-
tion, which can be found in the standard text of probabilistic
model checking, such as Baier and Katoen [3]. One funda-
mental fact in probabilistic model checking is stated by the
following proposition.
Proposition 5.The probability of satisfying the !-regular
propertyL(A)byMis equal to the probability of reaching
B!viaB?inM
A .2.2 Vector Variable and Total Variance
For a vector v, we use v[i] to denote the number in the
ith entry of v. Letjvj, the dimension of v, bek. We ab-
breviatePk
i=1v[i], the sum of numbers in all entries of v,
by sum( v). The norm of total variance forvis dened as
kvk=Pk
i=1jv[i]j.vis a zero vector ifv[i] = 0 for each
1ik. A zero vector is denoted by 0. Avector variable
is a tuple xof pairwise-distinct variables. Like vectors, we
usex[i] to denote the variable in the ith entry of x. Letjxj,
the dimension of x, bem. The norm of total variance forx,
denoted bykxk, is the expressionPm
i=1jx[i]j, and sum( x) is
the expressionPm
i=1x[i].
3. PARAMETRIC MODEL
In this section, we begin by briey explaining the motiva-
tion of PMCs. Then, we formally dene the model of PMCs,
and the product of PMCs and DRAs.
When using probabilistic model checking to verify a sys-
tem, the model builder normally species systems under
consideration in the high-level specication language with
a model checking tool, such as PRISM. For a discrete sys-
tem model, the semantic model that underpins the high-
level system model is an MC with a transition probability
function often represented as a matrix. Each row of the ma-
trix is a probability distribution that denes the transition
probabilities from one state to other states or itself. As ar-
gued in Section 1, in order to faithfully model a real-world
system, we should provide the model builder a way to in-
dicate which quantities in the high-level system model are
subject to perturbations. Such language enhancements are
beyond the scope of this paper, and we assume that the en-
hancements are captured at the semantic level by a vector
of variables associated to specic probability distributions.
This semantic treatment motivates the model of PMCs.
Each PMC contains a parameterization of the transition
probability function from some MC. Given P:SS![0;1]
andx, aparametric transition probability function Phxiis
obtained from Pby replacing values at some entries of P,
saya2[0;1], with the expression a+xfor somex2xsuch
that the following three propositions are true:
For eachs;t2S, ifP(s;t) = 0 then Phxi(s;t) = 0,
and if P(s;t) = 1 then Phxi(s;t) = 1;
For eachs;s0;t;t02S, ifPhxi(s;t) =a+xand
Phxi(s0;t0) =a0+x0, then
{s=s0andt6=t0impliesx6=x0,
{a6=a0impliesx6=x0;
For eachs2S, eitherP
t2SPhxi(s;t) = 1 + sum( x)
orP
t2SPhxi(s;t) = 1.
According to the rst proposition above, entries with nu-
merical values 0 and 1 are not associated with variables.
This is because a transition with probability 0 or 1 is not
a probabilistic transition and, therefore, not subject to per-
turbations. The second proposition states that one variable
can be associated to only one position in one probability dis-
tribution and to positions with the same number in dierent
probability distributions. The third proposition follows from
the requirement that variables in xmust be either fully used
or not used at all in each row of Phxi. The last two proposi-
tions together guarantee that the insertion of variables from313xintoPdoes not distort each row of Phxias a \legal" prob-
ability distribution. The vector variable xinPhxi|as we
indicated before|is to be measured by the norm of total
variance later in the text. Similar to P, we often present
Phxias a (symbolic) matrix.
By the denition of parametric transition probability func-
tions, we ensure that each PMC has only one perturbed
vector variable, and the treatment of PMCs with multiple
perturbed vector variables is left for future work. The model
denition for PMCs is represented below.
Definition 6 (Parametric Markov Chain ). A pa-
rametric Markov Chain (PMC) based on an MC M= (S;P;
;AP;L )is given by a tuple P= (S;Phxi;;AP;L )where
Phxiis a parametric transition probability function based
onPandx.
In Denition 6, for convenience, we call xthe perturbed
vector variable or, simply, the vector variable of P, andM
theidealized MC ofP. We intend to interpret Pas an in-
nite class [P] of MCs, but to formalize [ P], we need to
identify several terminologies that themselves are occasion-
ally mentioned in the sequel. Let vbe a vector of values
such thatjvj=jxj=k. Let P0be obtained from Phxiby
replacing vforx, namely, placing v[i] into each position of
x[i] for each 1ik. IfP0is a transition probability
function and P0(s;t) = 0 if and only if P(s;t) = 0 for each
s;t2S(in other words, P0andPshare the same underly-
ing digraph), then P0is an instance ofPhxi. In this way,
we obtain an MC M0with the transition probability func-
tionP0and other components as in P. We call suchM0an
instance ofP. By denition, the idealized MC MofPis
also an instance. We identify [ P] as the class of all instances
ofP. It can be veried that all MCs in [ P] have the same
size; thus, letjPj=jM0jwhereM02[P]. Perturbations of
a PMC do not change the underlying digraph of the PMC,
as stated in the following proposition.
Proposition 7.MCs in [P]share the same digraph.
Proposition 7 is used later to\safely"generalize the graph-
based concepts dened for MCs to PMCs. For illustration
purposes, we present a PMC Pegwith four states. The
names of the states are numbers 1 ;2;3 and 4. The initial dis-
tribution forPegis the uniform distribution (0 :25;0:25;0:25;
0:25). The parametric transition probability function for Peg
is represented by the following symbolic matrix:
0
BB@x1+ 1=4x2+ 1=4 0x3+ 1=2
1=3 1=3 0 1 =3
0 1=2 1=2 0
0 0 0 11
CCA
The vector variable for Pegisxeg= (xi)3
i=1. We note that
for simplicity the vector variable xegoccurs in the rst row
of the above matrix only, but according to the denition of
parametric transition probability functions, a vector variable
can occur in multiple rows. The set of atomic propositions
forPegisfone;two;three;four gand the labeling function
forPegis given as
17!foneg;27!ftwog;37!fthreeg;47!ffourg
To verify a PMC against an !-regular property repre-
sented by a DRA, we dene the product of a PMC and
a DRA, which is a parametric version of Denition 4.//1
one_twovv
four
three

2663vv//1:four//
four
2:four//
four
3
:four

fourll5664vv
Figure 2: Examples of DRAs A1(left) andA2(right)
Definition 8 (Parametric Model Product). The
product ofP= (S;Phxi;;AP;L )andA= (Q;2AP;;q 0;
Acc)is given byP
A = (SQ;Phxi;;AP;L)where
Phxi((s;q);(s0;q0)) =
Phxi(s;s0)ifq0=(q;L(s))
0 otherwise,
and,APandLare as dened in Denition 4.
We sayPandAarecompatible ifMandAare compatible
for anyM2 [P]. When writingP
A , it is assumed that P
andAare compatible. It can be proved that P
A is also
a PMC. Thus, by Proposition 7, all PMCs in [ P
A ] share
the same underlying graph. Based on this fact, we identify
thetarget (resp., constraint ) set of [P
A ] and the target
(resp., constraint) set of any MC in [ P
A ], and the set of
reachable states inP
A as the set of reachable states in
any MC in [P
A ].
Two DRA examples are depicted in Figure 2. The accept-
ing condition forA1isf?;f3ggand that forA2isf?;f5gg.
Hence, the meaning of A1is \reaching state 4 in Peg(not
A1itself!) via all states in Pegexcept state 3" and A2can
be informally read as \reaching state 4 in Pegwithin two
transitions". Clearly, both A1andA2are compatible with
Peg. A straightforward model construction for Peg
A 1
reveals thatPeg
A 1has 10 reachable states out of 12
possible states, and its target set and constraint sets are
f(4;3)gandf(1;1);(2;1)g, respectively. By a similar con-
struction,Peg
A2has 14 reachable states out of 20 possible
states, and its target set and constraint set are f(4;5)gand
f(1;2);(2;2);(3;2);(1;3);(2;3)g, respectively.
4. PERTURBATION ANALYSIS
In this section, we rst dene a mathematical charac-
terization for verifying a PMC against an !-regular property
represented by a DRA. Then, we formulate two kinds of per-
turbation bounds, namely condition numbers and quadratic
bounds, and develop a computational method for them.
4.1 Perturbation Characterization
The feasibility of the mathematical characterization to be
dened relies on the fact stated in Proposition 5. Before
dening the characterization, we rst provide several im-
portant auxiliary denitions. Given P
A with state space
SQ, parametric transition probability function Phxi, tar-
get setB!and constraint set B?, we construct three new
functions:?:B?![0;1] such that ?(s) =(s) for each
s2B?,Ahxia mapping such that
Ahxi((s;q);(s0;q0)) =Phxi((s;q);(s0;q0))
for each (s;q);(s0;q0)2B?(i.e., Ahxiis a restriction of
PhxionB?B?), and bhxia mapping such that
bhxi(s;q) =X
(s0;q0)2B!Phxi((s;q);(s0;q0))314for each (s;q)2B?. The generation procedure for ?,Ahxi
andbhxiis straightforward. We also present ?as a vector
(called a partial initial distribution), Ahxias a (symbolic)
matrix (called the constraint matrix forP
A ) and bhxi
as a column-vector (called the target vector forP
A ). We
stress that both Ahxiandbhximay not contain all variables
fromx. Let Aandbbe obtained by assigning zeros to the
positions of variables from xinAhxiandbhxi, respectively.
As examples, the constraint matrix and target vector for
Peg
A 1are respectively

x1+ 1=4x2+ 1=4
1=3 1=3
and
x3+ 1=2
1=3
with partial initial distribution (0 :25;0:25), and the con-
straint matrix and target vector for Peg
A2are respectively
0
BBB@0 0 0x1+1=4x2+1=4
0 0 0 1 =3 1=3
0 0 0 0 1 =2
0 0 0x1+1=4x2+1=4
0 0 0 1 =3 1=31
CCCAand0
BBB@x3+1=2
1=3
0
x3+1=2
1=31
CCCA
with partial initial distribution (0 :25;0:25;0:25;0;0).
Definition 9.The perturbation characterization func-
tion forPwith vector variable xwith respect toAis a scalar
functiononxsuch that
(x) =?1X
i=0(Ahxiibhxi Aib)
where the meanings of ?,Ahxiandbhxiare stated above.
The intuition and signicance of forPis demonstrated
by the following proposition.
Proposition 10.LetM2 [P]be the idealized model of
PandM02[P]be obtained by replacing vwith the vector
variable ofP, and letp;p0be probabilities of satisfying L(A)
byM;M0, respectively. Then, (v) =p0 p, whereis the
perturbation characterization function for P.
In other words, let xbe the vector variable of P; the dif-
ference between the probabilities of satisfying the !-regular
propertyL(A) by the idealized MC of Pand by some in-
stance ofPobtained by replacing the vector vwithxis
equal to(v).
4.2 Perturbation Bounds
Let >0 and() =f(v)jkvk;sum(v) = 0g.()
is an interval and, for the ease of discussions, we call it the
perturbation interval ofby. The quantity sup () (resp.,
inf()) denotes the least upper bound (resp., greatest lower
bound) of the possible verication variations characterized
byif the perturbation distance of the vector variable of 
is not larger than .
Definition 11. [30] The condition number foris the
limit
= lim
!0supnx
jx2();> 0o
Definition 12.A pair of low and upper second-order
bounds forare functions f ;f+, respectively, such that
jf () inf()j+jf+() sup()j=o(2)Intuitively, (resp., ) is the linear approximation
of sup() (resp., inf ()) astends to 0, and f+(resp.,
f ) tends to sup () (resp., inf ()) faster than any other
quadratic function as tends to 0. The existence of is
guaranteed by Lemma 13 and Theorem 14. We omit the
argument for the existence of f+andf for space limita-
tions. In the sequel, we present a method to estimate the
second-order bounds based on maximally increasing and de-
creasing directions, and we call such estimations as quadratic
bounds . Both of condition numbers and quadratic bounds
can perform well when the distances of model perturbations
are suciently small. In principle, it is possible to pursue
polynomial bounds of any order to get arbitrarily accurate
bounds. However, we believe that condition numbers and
quadratic bounds are sucient for practical purposes (c.f.,
Section 4.3 for a slightly detailed discussion).
As an example, perturbation characterization function eg2
forPeg
A 2up to the second order is
eg2(x1;x2;x3) = 207x1=100 + 69x2=25 + 69x3=20
+ 69(2x1+x2)(3x1+ 4x2+ 5x3)=125 +:::
Before presenting the computational method, we illustrate
that the condition number for eg2iseg2= 69=50, and esti-
mations of second-order bounds, namely quadratic bounds,
foreg2are69=50 692=125.
We now consider a computational method for the two
kinds of bounds. Let A= (I A) 1(where Iis the identity
matrix), Chxi=Ahxi Aanddhxi=bhxi b. We dene
that
n(x) =?(AChxi:::AChxi|{z}
ncopies of `AChxi')Ab
+?(AChxi:::AChxi|{z}
n 1 copies of `AChxi')Adhxi
It can be proved that the sum of all i's fromi1 is equal
to, as stated by the following lemma.
Lemma 13.(x) =P1
i=1i(x).
Proof. Observing that ( I A) 1=P1
i=0Ai, the proof
is by decomposing the sum-of-product form of (c.f., De-
nition 9) into innitely many fragments with respect to the
exponents of vector variable x. Note that the constant frag-
ment ofis eliminated by the seriesP1
i=0Aib.
The series on the righthand side of the equation in Lemma
13 is called an (innite) expansion ofin the literature [21].
The expansion allows one to compute an approximated per-
turbation value for the quantitative result if the vector vari-
able is instantiated by a concrete vector. It is worthwhile to
explain why we continue to pursue perturbation bounds if
we already have an expansion of . In general, xmay con-
tain more than two variables. In other words, jxjmay be
larger than 2. Therefore, the exact least upper bound and
greatest lower bound for the perturbation interval by a cer-
tain perturbation distance is not immediately known from
the expansion. On the other hand, an explicit statement of
theworst eect that a certain perturbation distance might
cause for a verication result is informative and useful for
both sensitivity analysis and backward analysis, as argued
in Section 1.
In spite of the innite summation form of the expansion in
Lemma 13, for condition numbers we only need to compute315the rst term of (namely, the linear fragment of ) and
for quadratic bounds we only need to compute the rst two
terms of(namely, the quadratic fragment of ). In the
following, we rst deal with condition numbers. We simplify
the form of 1(x) ashxfor some vector hof numbers
such thatjhj=jxj. We note that all elements in hare
not negative. The following theorem demonstrates that the
computation for the condition number can be reduced to
the computation for h.
Theorem 14. [30]= (max( h) min(h))=2.
Proof. (sketched) By Lemma 13, 1(x) =hxis the
rst-order fragment of . By extracting a maximal and a
minimal value in h, we let0= (max( h) min(h))=2. The
rest of proof is to show that 0is equal to , namely,is
the limit specied on the righthand side of the equation in
Denition 11. The proof is according to the mathematical
denition of limits. The proof also shows the existence of
the limit.
We next turn to quadratic bounds g andg+, which are
respectively estimations of the second-order bounds f and
f+. In general, our strategy is to reduce the multi-variate
function1+2into the pair of single-variate quadratic
boundsg andg+by xing the perturbation directions to
be a maximally decreasing direction and a maximally in-
creasing direction of1+2, respectively. More precisely, if
we can nd a vector vde(resp., vin) that is a maximally de-
creasing (resp., increasing) direction of 1+2, theng () =
1(vde) +2(vde) (resp.,g+() =1(vin) +2(vin)). If
hhas a unique maximal element and a unique minimal ele-
ment or a zero element, then both the maximally decreasing
and increasing directions for 1+2are determined by 1.
If not, we need to consider the quadratic function 2. In
this step, a maximally decreasing direction and a maximally
increasing direction for 1+2is computed by an optimiza-
tion method. Due to space limitations, we only present in
detail an algorithm, namely Algorithm 1, for maximally de-
creasing directions, while a dual algorithm of Algorithm 1
computes maximally increasing directions.
Algorithm 1 consists of three components: First, it in-
vokes the operation LC() to generate a set of linear con-
straints that 1imposes. Second, for each linear constraint,
it invokes the operation LM() based on the method of La-
grange Multipliers (LM), which is a well known method for
computing maxima and minima of mathematical functions.
Last, it selects a vector from the vectors computed in the
previous steps to yield the least value, which is an expected
maximally decreasing direction for 2.
Algorithm 1 is based on a repeated application of the LM
method. The standard LM method computes the \critical
points" of a multi-variate function. If variables of the func-
tion are bounded, then by taking the variables to the bound-
ary points, we can reduce the number of variables. Our elab-
orated LM method repeats the computation for the original
function and functions with reduced variables. In each step,
because the 0returned from the LM() is also a linear con-
straint, it can be proved that for if v;v02sat(0), the set of
vectors that satisfy 0, then2(v) =2(v0). We observe that
the boundary points are also \critical points" and thus the
set of \critical points" are denitely not empty. Then, the
algorithm nds a \critical point" that yields the least value
of2and returns it as a maximally decreasing direction.Algorithm 1: Computation of Maximally Decrea-
sing Directions
input :1,2
vde 0such thatjvdej=jxj; /* the variable vde
is initiated as a zero vector, the length of
which is the same as that of x. */
 LC(1); /* The operation LC()is invoked,
which accepts 1and returns a set of linear
constraints. */
foreach2do
0 LM(2;); /* TheLM()operation is
invoke, which accepts 2and a linear
constraint and returns another linear
constraint. */
ifsat(0)6=?;/*sat(0)is the set of vectors
that satisfy 0. */
then
letv2sat(0);
if2(v)<2(vde)thenvde v
return v de
The worst-case time-complexity for computing perturba-
tion bounds is comparable to automata-based model check-
ing of non-parametric MCs. For quadratic bounds, the com-
plexity is also exponential in the length of the vector variable
of the PMC.
Theorem 15.The time-complexity for computing condi-
tion numbers is O(poly(jPj;jAj))and for quadratic bounds
isO(poly(jPj;jAj);2jxj).
Proof. The argument for the complexity for computing
condition numbers and quadratic bounds is similar to that
for automata-based model checking of MCs. First, the gen-
eration of the target set and the constraint set uses a stan-
dard graph-based analysis for the product of a PMC and
a DRA. The computation for 1and2involves solving a
set of linear equations that is linear in the size of P
A ,
and a constant number of matrix multiplications. Therefore,
the overall time-complexity for condition numbers is O(poly
(jPj;jAj)). Moreover, the computational steps in Algorithm
1 (namely the size of ) is bounded by the exponential in
the number of variables in x. Therefore, the overall time-
complexity for quadratic bounds is O(poly(jPj;jAj);2k) such
thatk=jxj.
Regarding the above complexity analysis, there are two
points that are worthy of note. First, in practice, the di-
mension of xis usually small. Thus, the exponential growth
of the complexity depending on the dimension of xwill un-
likely impose a practical obstacle. Second, in addition to
their dierent upper bounds of time-complexity stated in the
above theorem, the computation for quadratic bounds sub-
sumes that for condition numbers and hence requires more
computational steps.
4.3 Discussion
We end this section with a discussion of the practical sig-
nicance of condition numbers and quadratic bounds. The
asymptotic nature of the two kinds of perturbation bounds
implies that they are only able to provide approximated316bounds rather than exact least upper bounds and greatest
lower bounds. Actually, quadratic bounds themselves are es-
timations of the second-order bounds as dened in Denition
12. When the perturbation distance of the vector variable
of the PMC increases, the deviation of a verication result
from its predicted bounds might also increase. On the other
hand, estimations of higher-order bounds may provide more
accurate bound predictions. Nonetheless, we believe that
condition numbers and quadratic bounds are adequate and
useful in practice based on the reasons provided below.
First, condition numbers are an intuitive and informative
characterization of the sensitivity of quantitative verica-
tion in the presence of model perturbations. One merit of
representing the sensitivity as numbers is the trend analysis
with respect to some interesting quantities (other than the
vector variable) in the model. Second, an implicit assump-
tion for perturbation analysis is that the vector variables
are subject only to tiny perturbations. Under this assump-
tion, condition numbers and quadratic bounds predict su-
ciently accurate bounds and full our needs in practice. We
justify this claim empirically with case studies in the next
section. Last, the computation for estimations of higher-
order bounds is more costly. At the end of Section 4.2, we
have stated that the computation for quadratic bounds sub-
sumes the computation for condition numbers. Although we
have not provided an algorithm for estimating higher-order
bounds, the previous statement can be generalized: An al-
gorithm for estimating higher-order bounds subsumes that
for estimating lower order bounds and hence requires more
computational steps.
5. CASE STUDIES
In this section, we evaluate the utility and applicability of
condition numbers and quadratic bounds. By their asymp-
totic nature, the two kinds of perturbations specify the max-
imal variations on verication if perturbation distances of
vector variables in the models tend to 0. Although this
mathematical condition is unrealistic in practice, we conduct
case studies to demonstrate that those bounds can provide
accurate predictions for small but non-trivial perturbation
distances. As a condition number reects the sensitivity of
a verication result to the perturbed variables, we also eval-
uate the relevance of a condition number to some specic
characteristic quantity of a system model other than its per-
turbed variables.
For experimentation purposes, we developed a prototype
implementation of perturbation bound calculation in Matlab
[20] to interact with PRISM. The algorithmic ideas behind
the implementation are from Algorithm 1 and other methods
presented in Section 4. The reason for choosing Matlab is
because it provides many convenient numerical operations
such as matrix multiplication. In addition, the tool PRISM
has an exporting service that translates a model specied in
its high-level modeling language into a vector of (reachable)
states plus a transition matrix in the Matlab language.
In principle, any formula P=?['] in the property language
of PRISM, where the PCTL path formula 'does not con-
tain the probabilistic operator P, can be represented as an
equivalent DRA. This is because such 'is an!-regular prop-
erty. There exist standard algorithms that automate the
translation. If 'is a propositional-logical formula, we are
able to obtain the set of states of the PRISM model Min
which'is satised (namely, the set of target states) usingOriginal system
model and
!-regular property
in PRISMtranslate//
compile
Shadow system
model and
reachability
property in PRISM
compile
ww
PRISM internal
representation
of MCexport//
verify
States, transition
matrix, constraint
matrix and
target vector
compute

Verication
resultPerturbation
bound
Figure 3: Flowchart of Experiment Procedure
the exporting service of PRISM. Otherwise, we construct
a shadow model M0for the PRISM model Mand spec-
ify a propositional-logical formula '0such thatP=?['0] in
M0equalsP=?['] inM. Currently, the construction of a
shadow model is manual, while an automated translation is
a subject of later development. But we can use the PRISM
model checker to verify whether M0and'0are correctly re-
lated toMand'. Once exported, the model, the target set
and the constraint set are handled by the Matlab prototype
implementation, and a condition number and two quadratic
bounds are computed. The overall experimentation proce-
dure is depicted as a owchart in Figure 3.
The evaluation of perturbation bounds is accomplished
in two steps. In the rst step, if the vector variable con-
tains only two elements, namely, it is binary, then go to
the second step. Otherwise, we slightly adjust the quanti-
ties that are considered to be perturbed in the model to be
exported|be it the original model or the shadow model|
to stimulate perturbations in dierent directions, and to
obtain the maximal increasing and decreasing directions.
In the second step, we compare the outcomes returned by
PRISM with those predicted by the perturbation bounds
with respect to dierent small but non-trivial perturbation
distances for the perturbed parameters. Our experiments
include three case studies based on the noisy Zeroconf pro-
tocol from the Introduction, a nonuniform synchronous Lea-
der Election Protocol and a NAND Multiplexing model.
The PRISM specications for these systems are variants of
the corresponding PRISM models in the benchmark suite
available from the PRISM Web site [1]. Both the PRISM
specications and the Matlab prototype implementation we
have developed are available from the rst author's Web site:
http://www.comp.nus.edu.sg/~sugx/icse14/ .
5.1 Noisy Zeroconf Protocol
The Zeroconf protocol with the assumption of noisy chan-
nels has been used in Section 1 as a motivating example,
the model of which is depicted in Figure 1. The verication
problem for the protocol is to compute the probability that
an address collision happens, in other words, the probability
of reaching state 6. The problem is a reachability problem
and, therefore, we can directly export the model specied
in the PRISM language. Because the network noise is af-
fected unpredictably by the environment, the message loss317Table 1: Address Collision Perturbations and Bound
Predications Pivoted at 0.100, 0.096 and 0.104 Loss
Rates for 35,000 Hosts
Loss rate Actual (E 6) %Predicted (E 6)
C.N. Q.B.
0.095  36:73  19:8%  39:97 35:73
0.096  29:89  16:9%  31:97 29:26
0.097  22:79  12:3%  23:98 22:46
0.098  15:47  8:33%  15:99 15:31
0.099  7:859  4:23%  7:993  7:824
0.100 185:67 { { {
0.101 +8:131 +4:38% +7:993 +8:162
0.102 +16:54 +8:91% +15:99 +16:66
0.103 +25:22 +13:6% +23:98 +25:50
0.104 +34:20 +18:4% +31:97 +34:68
0.105 +43:48 +23:4% +39:97 +44:20
0.095  6:845  4:39%  6:966  6:813
0.096 155:79 { { {
0.097 +7:089 +4:54% +6:966 +7:120
0.103  8:979  4:08%  9:127  8:941
0.104 219:87 { { {
0.105 +9:277 +4:22% +9:127 +9:313
 0 5 10 15 20 25 30 35 40 45 
5000  10000  15000  20000  25000  30000  35000  
Number of  hosts  Add. Confl.  
C.N. (Ã—10-4) 
(Ã—10-3) 
Figure 4: Host numbers, address collision probabil-
ities and condition numbers
rate is perturbed. We assume that the idealized message
loss rate is 0 :1 but the actual rate might be perturbed within
5%. Table 1 presents a comparison of the actual perturbed
probabilities of address collision computed by PRISM and
the results predicted by the perturbation bounds when the
number of hosts in the network is 35,000. It should be noted
that the eects of small perturbations on the results are non-
trivial. The predicted numbers are based on the following
three groups of condition numbers (C.N. for brevity) and
quadratic bounds (Q.B. for brevity):
Loss Rate C.N. Q.B.
0.096 3 :4832E 33:4832E 3+ 3:8336E 22
0.100 3 :9965E 33:9965E 3+ 4:2308E 22
0.104 4 :5634E 34:5634E 3+ 4:6539E 22
From Table 1, we can make an important observation: As
the the message loss rate increases or decreases from 0 :1,
the deviation between the predicted numbers and the ac-
tual number increases. To further test these observations,
we perform the same perturbation analysis pivoted at 0 :096
and 0:104 message loss rates and compare three sets of exper-
imental data. The results demonstrate that the perturbation
bounds provide better predictions when the perturbation
distance of message loss rate is small. We also depict the re-
lationship between the address collision probability and theTable 2: Nonuniform LEP Models, Verication Re-
sults and Condition Numbers
RoundModelProbability C.N.states transitions
1 43,776 52,004 0.59037 0.16564
2 65,664 77,987 0.83221 0.13570
3 87,552 103,907 0.93127 0.08338
4 109,440 129,953 0.97184 0.04554
5 131,328 155,936 0.98847 0.02332
6 153,216 191,919 0.99528 0.01146
7 175,104 207,902 0.99806 0.00745
condition number to the number of hosts, a graph which is
depicted in Figure 4.
5.2 Nonuniform Leader Election Protocol
We imagine a real-world game of leader elections: The
game is carried out according to the synchronous Leader
Election Protocol (LEP), but the assumption that all par-
ticipants have a uniform probability distribution for selec-
tion of ID tokens is dropped. Nonuniform ID selection dis-
tributions are realistic because the participants are allowed
to strategize to maximize their chance to be the leader. For
simplicity, we assume that the selection distribution for each
participant is the same in each round of a game. Since the
distributions are unknown in the rst place, we conduct the
game multiple times to estimate the selection distributions
for participants based on their choices each time. The prob-
lem that interests us is \what is the average probability p
that a leader is selected in rrounds?" Since the ID selection
distributions are statistical estimations, it is important to
know the perturbation bounds for p. We also want to eval-
uate the relationship between the bounds and the number r
of rounds.
We specify a concrete leader election game in PRISM with
six participants and four ID tokens. We randomly choose
six nonuniform ID selection distributions and assume one
of the six is perturbed. The perturbation distance for the
perturbed selection distribution is measured by the norm of
total variance. The model specication contains a variable
round , bounded by a constant number, to count the num-
ber of rounds in the game, and a boolean variable elected to
indicate whether a leader is elected. The property formula
P=?['r], where'ris (roundr)U(elected = 1), ex-
presses the probability of electing a leader within rrounds.
Since'ris not a proposition-logical formula, we need to
construct a shadow model and proceed as described above.
Table 2 summarizes information about the original model
and shadow model (which have the same numbers of states
and transitions) when ris varied from 1 to 7. Also shown in
the table is the dependence of the leader election probability
and the condition number on the value of r. Table 3 presents
the perturbation analysis data, which compare the values of
the actual maximal perturbations and those predicted by
the condition number and the quadratic bounds up to 0 :16
perturbation distance in both the positive and the negative
directions for r= 2. Table 3 shows again that perturbation
bounds provide accurate predictions of the eect caused by
small perturbations.
5.3 NAND Multiplexing
Multiplexing is a technique of building more reliable com-
ponents from less reliable ones. Figure 5 depicts an imper-318Table 3: Election Probabilities and Bound Predictions for r= 2(C.N.: 0:13570 and Q.B.:0:13570 0:027442)
PerturbationActual Predicted (C.N.) Predicted (Q.B.)
Upper Lower Upper Lower Upper Lower
0.00 0:83221 0:83221 +:00000  :00000 +:00000  :00000
0.01 +:00135  :00136 +:00136  :00136 +:00135  :00136
0.02 +:00270  :00272 +:00271  :00271 +:00270  :00272
0.03 +:00405  :00410 +:00407  :00407 +:00405  :00410
0.04 +:00538  :00547 +:00543  :00543 +:00538  :00547
0.05 +:00672  :00685 +:00679  :00679 +:00672  :00685
0.06 +:00804  :00824 +:00814  :00814 +:00804  :00824
0.07 +:00936  :00963 +:00949  :00949 +:00936  :00963
0.08 +:01068  :01103 +:01086  :01086 +:01068  :01103
0.10 +:01330  :01384 +:01357  :01357 +:01330  :01384
0.12 +:01589  :01668 +:01628  :01628 +:01589  :01668
0.14 +:01846  :01954 +:01900  :01900 +:01846  :01954
0.16 +:02101  :02241 +:02035  :02035 +:02101  :02241
fect NAND gate and a NAND multiplexer. The NAND mul-
tiplexer is devised by replicating the NAND gate Ktimes.
Since the multiplexer is a component of a system that may
contain other unreliable components, the inputs for the mul-
tiplexer are two bundles of Klogical values 1 (representing a
simulated result) or 0 (representing a non-simulated result)
as determined by a probability distribution. The function-
ality of the U unit is to randomly choose two input values
as the inputs for the NAND gates. It is assumed that the
NAND gates have the same error rate and that they fail in-
dependently. Whether the overall output of the multiplexer
is stimulated or not depends on the number of stimulated
outputs of the NAND gates. More specically, we specify
a small value  >0. Then, the overall output of the mul-
tiplexer is considered to be stimulated if at least K(1 )
of the outputs of the NAND gates are stimulated and non-
stimulated if no more than K of them are stimulated. In
the case that neither of the two conditions is satised, the
overall output is undecided.
The NAND multiplexer specied in PRISM has two prob-
ability parameters, pinptfor the original stimulated input
andpnand for the error rate. We analyze the consequence
of perturbations to pinptandpnand on the probability of
an overall stimulated or non-stimulated value for the multi-
plexer. In our experiment, we take K= 40 and  = 0 :25.
Tables 4 and 5 provide experimental data corresponding to
the perturbations of pinptandpnand, respectively. Again,
similar to the previous two case studies, we observe both
non-trivial variations on the intended verication and accu-
rate predictions if the input distribution or the error rate
are perturbed slightly.
5.4 Discussion
Overall, our case studies reect that small perturbations
of some transition probabilities in the stochastic system mod-
els can cause some non-trivial eects on the intended veri-
cation, and that condition numbers and quadratic bounds
can provide suciently accurate predictions for the maxi-
mal variations of verication results. As demonstrated by
   
 U 
 K 
K K 
Figure 5: NAND MultiplexingTable 4: Input Perturbations and Bound Predica-
tions Pivoted at pstin= 0:9withpnand = 0:01(C.N.:
3:365843 and Q.B.:3:365843 20:2315262)
Input Actual %Predicted
C.N. Q.B.
0.884  :12710  14:9%  :10771  :12842
0.888  :09208  10:8%  :08078  :09243
0.892  :05903  6:91%  :05385  :05903
0.896  :02825  3:31%  :02693  :02822
0.900 0:85413 { { {
0.904 +:02555 +2:99% +:02693 +:02563
0.908 +:04828 +5:65% +:05385 +:04867
0.912 +:06816 +7:98% +:08078 +:06913
0.916 +:08522 +9:97% +:10771 +:08699
Table 5: Error Rate Perturbations and Bound Pred-
ications Pivoted at pnand = 0:01withpstin= 0:9(C.N.:
1:212581 and Q.B.:1:212581 2:8667912)
Error rate Actual %Predicted
C.N. Q.B.
0.006 +:00929 +1:09% +:00970 +:00952
0.007 +:00670 +0:82% +:00728 +:00717
0.008 +:00469 +0:55% +:00485 +:00480
0.009 +:00236 +0:28% +:00243 +:00241
0.010 0:85414 { { {
0.011  :00238  0:28%  :00243  :00244
0.012  :00478  0:56%  :00485  :00490
0.013  :00720  0:84%  :00728  :00738
0.014  :00964  1:13%  :00970  :00988
the experimental data, our method can improve the exibil-
ity of the standard probabilistic model checking technique
so that the model builder can better verify whether the sys-
tem model satises its requirements in the presence of small
perturbations of some quantities.
6. RELATED WORK
Perturbation theory for applied mathematics investigates
solutions for mathematically formulated problems that in-
volve parameters subject to perturbations [21]. Direct so-
lutions for those problems, such as solving equations with
perturbed parameters, are impossible or impractical to nd.
Perturbation analysis provides asymptotic methods to ap-
proximate the true solutions. The present paper demon-
strates the merit of adopting a perturbation point of view in
the verication of empirical stochastic systems and presents319an asymptotic method for computing perturbation bounds
for automata-based probabilistic model checking.
There exists a line of research works on perturbation anal-
ysis of MCs, the common goal of which is to nd a suitable
condition number for the distance of steady states and the
distance of transition matrices between two MCs [27, 9, 29].
In those works, the inequality holds universally for all MCs
according to the mathematical properties of the chosen con-
dition numbers and distance metrics, instead of by asymp-
totic numerical computation.
Quantitative verication of Markov models with various
formulations of uncertainty is a recently active research eld
of formal methods. An abstract MC with undetermined
transition probabilities can be interpreted as a set of con-
crete MCs and is called an Uncertain Markov Chain (UMC).
PCTL model checking of UMCs amounts to the search of a
concrete MC belonging to a UMC such that a PCTL for-
mula is satised. Sen et al. [28] proved that the compu-
tational complexity of this problem is NP-hard. Alterna-
tively, an undetermined MC can be interpreted as a Markov
Decision Process (MDP) with a possibly innite set of ac-
tions and is called an Interval Markov Chain (IMC) [28].
PCTL model checking of IMCs accommodates the optimiza-
tion strategy involved in PCTL model checking of IMCs.
Puggelli et al. [24] presented a method based on convex pro-
gramming for PCTL model checking of MDPs and showed
that the computational time bound is pseudo-polynomial.
By contrast, Benedikt et al. [5] considered the LTL model
checking problem for IMCs, which they dened as the search
for an MC belonging to an IMC such that probability of
satisfying an LTL formula is optimal. One key dierence
between our PMC model in this paper and the UMC and
IMC model is that, we assume the perturbation distances of
vector variables measured by a specic metric are tiny but
not specifying their boundaries in the rst place.
Our approach is also related to symbolic and paramet-
ric probabilistic model checking, proposed by Daws [11]. In
his approach, concrete or abstract transition probabilities
in his version of parametric MCs are viewed as letters in
an alphabet of a nite automaton. As such, the probabil-
ity measure of a set of paths satisfying a formula is com-
puted symbolically as a regular expression on that alpha-
bet, which is further evaluated to its exact rational value
if the transition probabilities are rational symbolic expres-
sions of variables. Hahn et al. [15] improved the approach
of Daws for reachability checking (namely, PCTL formulas
without nested occurrences of the probabilistic operator) by
carefully intertwining the computation procedure and eval-
uation procedure of Daws. By denition, their parametric
variants of MCs are more general than ours because they
allow abstract transition probabilities to be expressed by
rational symbolic expressions. Besides the dierent moti-
vations between our approach and theirs, methodologically
they push the symbolic computation to an extreme, while
we calculate numbers in symbolic expressions numerically
and adopt an asymptotic method from perturbation theory.
Another related approach is approximation model checking
based on interval and ane arithmetic proposed by Ghorbal
et al. [14], which pursues rigorous bounds for verication re-
sults of DTMCs belonging to a UMC. Although not stated
explicitly, their method actually does not rely on the bound-
ary of the UMC and thus is similar to the aforementioned
parametric model checking approach.Our work is complementary to the research work on prob-
abilistic model parameter estimation and model repair in-
volving probabilistic model checking [12, 4, 8]: In general
terms, they followed a \reversed" direction of model check-
ing, and estimated a parameter in the model or modify the
model in a specic way with respect to a given temporal
property. There also have been attempts to investigate per-
turbation errors for realtime systems, in which perturbations
are applied to the time parameters [2, 6].
7. CONCLUSIONS
We have argued for the practical merits of a rigorous
method to reveal the consequences of perturbed quantities
in a stochastic model on its verication. Our main tech-
nical contribution in this paper is a method for computing
condition numbers and quadratic perturbation bounds for
automata-based probabilistic model checking. We also pre-
sented an evaluation to demonstrate the utility and accuracy
of those bounds.
Future research directions for our work fall into two work
categories. The rst work category includes the tool sup-
port and applications of our approach. The prototype im-
plementation we developed is for experimentation purposes,
but a more sophisticated, self-contained toolkit is an impor-
tant part of our further work. We also plan to apply our
approach to areas of software engineering such as software
reliability analysis [25, 23], in which perturbations of system
parameters might aect analysis results. The second work
category includes various topics of theoretical and method-
ological enhancements for our approach. Two immediate
topics stretched from this paper are the mathematical rela-
tionship between the computed quadratic bounds and the
denition of second-order perturbation bounds, and the ac-
commodation for PMCs with multiple perturbed vector vari-
ables. Also, it is desirable to leverage our perturbation anal-
ysis for PCTL formulas, including those with nested prob-
abilistic operators, which are incompatible with !-regular
properties. Furthermore, it is important to extend our per-
turbation analysis to account for model characteristics such
as rewards, non-determinism and transition rates. The last
interesting topic listed here is the incorporation of more ad-
vanced metrics widely adopted for problems in some specic
domains, such as the Kullback-Leibler divergence from in-
formation theory [10], into our approach.
8. ACKNOWLEDGMENTS
This work was partly supported by grant R-252-000-458-
133 from the Singapore Ministry of Education. We would
like to thank Professor Yuan Feng, Cheng Guo and the
anonymous referees for comments on the early version of
the paper.
9. REFERENCES
[1] http://www.prismmodelchecker.org.
[2] R. Alur, S. La Torre, and P. Madhusudan. Perturbed
timed automata. In Proceedings of the 8th
international conference on Hybrid Systems:
computation and control , HSCC'05, pages 70{85.
Springer-Verlag, 2005.
[3] C. Baier and J.-P. Katoen. Principles of Model
Checking . The MIT Press, 2008.320[4] E. Bartocci, R. Grosu, P. Katsaros, C. R.
Ramakrishnan, and S. A. Smolka. Model repair for
probabilistic systems. In Proceedings of the 17th
International Conference on Tools and Algorithms for
the Construction and Analysis of Systems , TACAS'11,
pages 326{340, Berlin, Heidelberg, 2011.
Springer-Verlag.
[5] M. Benedikt, R. Lenhardt, and J. Worrell. LTL model
checking of Interval Markov Chains. In Proceedings of
the 19th International Conference on Tools and
Algorithms for the Construction and Analysis of
Systems , TACAS'13, pages 32{46, Berlin, Heidelberg,
2013. Springer-Verlag.
[6] P. Bouyer, N. Markey, and P.-A. Reynier. Robust
model-checking of linear-time properties in timed
automata. In Proceedings of the 7th Latin American
conference on Theoretical Informatics , LATIN'06,
pages 238{249. Springer-Verlag, 2006.
[7] K. Chatterjee, K. Sen, and T. A. Henzinger.
Model-checking omega-regular properties of Interval
Markov Chains. In FoSSaCS , pages 302{317, 2008.
[8] T. Chen, E. Hahn, T. Han, M. Kwiatkowska, H. Qu,
and L. Zhang. Model repair for markov decision
processes. In Theoretical Aspects of Software
Engineering (TASE), 2013 International Symposium
on, pages 85{92, July 2013.
[9] G. E. Cho and C. D. Meyer. Comparison of
perturbation bounds for the stationary distribution of
a Markov chain. Linear Algebra Appl , 335:137{150,
2000.
[10] T. M. Cover and J. A. Thomas. Elements of
Information Theory . Wiley-Interscience, New York,
NY, USA, 1991.
[11] C. Daws. Symbolic and parametric model checking of
discrete-time Markov chains. In Proceedings of the
First International Conference on Theoretical Aspects
of Computing , ICTAC'04, pages 280{294, Berlin,
Heidelberg, 2005. Springer-Verlag.
[12] R. Donaldson and D. Gilbert. A model checking
approach to the parameter estimation of biochemical
pathways. In Proceedings of the 6th International
Conference on Computational Methods in Systems
Biology , CMSB'08, pages 269{287, Berlin, Heidelberg,
2008. Springer-Verlag.
[13] C. Ghezzi, L. S. Pinto, P. Spoletini, and
G. Tamburrelli. Managing non-functional uncertainty
via model-driven adaptivity. In Proceedings of the
2013 International Conference on Software
Engineering , ICSE '13, pages 33{42. IEEE Press, 2013.
[14] K. Ghorbal, P. S. Duggirala, V. Kahlon, F. Ivancic,
and A. Gupta. Ecient probabilistic model checking
of systems with ranged probabilities. In Reachability
Problems - 6th International Workshop , pages
107{120, 2012.
[15] E. Hahn, H. Hermanns, and L. Zhang. Probabilistic
reachability for parametric Markov models.
International Journal on Software Tools for
Technology Transfer , 13(1):3{19, 2011.
[16] E. M. Hahn, T. Han, and L. Zhang. Synthesis for
PCTL in parametric Markov decision processes. In
NASA Formal Methods , pages 146{161, 2011.[17] B. Heidergott. Perturbation analysis of Markov chains.
InWODES 2008. 9th International Workshop on
Discrete Event Systems , pages 99{104, 2008.
[18] M. Kwiatkowska, G. Norman, and D. Parker. PRISM
4.0: Verication of probabilistic real-time systems. In
Proc. 23rd International Conference on Computer
Aided Verication (CAV'11) , pages 585{591. Springer,
2011.
[19] M. Kwiatkowska, G. Norman, and D. Parker. The
PRISM benchmark suite. In Proc. 9th International
Conference on Quantitative Evaluation of SysTems
(QEST'12) , pages 203{204. IEEE CS Press, 2012.
[20] MATLAB. version 8.0 (R2012b) . The MathWorks
Inc., Natick, Massachusetts, 2012.
[21] J. A. Murdock. Perturbation: Theory and Method .
JOHN WILEY & SONS, INC., 1991.
[22] G. Norman, D. Parker, M. Kwiatkowska, and
S. Shukla. Evaluating the reliability of NAND
multiplexing with PRISM. IEEE Transactions on
Computer-Aided Design of Integrated Circuits and
Systems , 24(10):1629{1637, 2005.
[23] E. Pavese, V. Braberman, and S. Uchitel. Automated
reliability estimation over partial systematic
explorations. In Proceedings of the 2013 International
Conference on Software Engineering , ICSE'13, pages
602{611, Piscataway, NJ, USA, 2013. IEEE Press.
[24] A. Puggelli, W. Li, A. Sangiovanni-Vincentelli, and
S. Seshia. Polynomial-time verication of PCTL
properties of MDPs with convex uncertainties. In
Computer Aided Verication , pages 527{542. Springer,
2013.
[25] G. Rodrigues, D. Rosenblum, and S. Uchitel. Using
scenarios to predict the reliability of concurrent
component-based software systems. In Proceedings of
the 8th International Conference on Fundamental
Approaches to Software Engineering , FASE'05, pages
111{126, Berlin, Heidelberg, 2005. Springer-Verlag.
[26] G. N. Rodrigues, D. S. Rosenblum, and S. Uchitel.
Reliability prediction in model-driven development. In
Proceedings of the 8th international conference on
Model Driven Engineering Languages and Systems ,
MoDELS'05, pages 339{354, Berlin, Heidelberg, 2005.
Springer-Verlag.
[27] P. J. Schweitzer. Perturbation theory and nite
Markov chains. Journal of Applied Probability ,
5(2):401{413, 1968.
[28] K. Sen, M. Viswanathan, and G. Agha.
Model-checking Markov chains in the presence of
uncertainties. In Tools and Algorithms for the
Construction and Analysis of Systems , pages 394{410.
Springer, 2006.
[29] E. Solan and N. Vieille. Perturbed Markov chains. J.
Applied Prob , 40(1):107{122, 2003.
[30] G. Su and D. S. Rosenblum. Asymptotic bounds for
quantitative verication of perturbed probabilistic
systems. In L. Groves and J. Sun, editors, Proceeding
of the 15th International Conference on Formal
Engineering Methods . Springer, 2013.321