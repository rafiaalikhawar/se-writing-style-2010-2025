A Sentence-Matching Method for Automatic License
Identiﬁcation of Source Code Files
Daniel M. German
University of Victoria, Canada
dmg@uvic.caYuki Manabe
Osaka University, Japan
y-manabe@ist.osaka-
u.ac.jpKatsuro Inoue
Osaka University, Japan
inoue@ist.osaka-u.ac.jp
ABSTRACT
The reuse of free and open source software (FOSS) compo-
nents is becoming more prevalent. One of the major chal-
lenges in ﬁnding the right component is ﬁnding one that
has a license that is adequate for its intended use. The li-
cense of a FOSS component is determined by the licenses
of its source code ﬁles. In this paper, we describe the chal-
lenges of identifying the license under which source code
is made available, and propose a sentence-based matching
algorithm to automatically do it. We demonstrate the feasi-
bility of our approach by implementing a tool named Ninka.
We performed an evaluation that shows that Ninkaoutper-
formsothermethodsoflicenseidentiﬁcationin precisiona nd
speed. We also performed an empirical study on 0.8 million
source code ﬁles of Debian that highlight interesting facts
about the manner in which licenses are used by FOSS.
Categories and Subject Descriptors
K.5.1[Legal Aspects of Computing ]: Hardware/Software
Protection— Licensing
General Terms
Legal Aspects
Keywords
Softwarelicenses,automatedlicenseidentiﬁcation,open source
licenses.
1. INTRODUCTION
Free and Open Source Software (FOSS) has become an
important source of reusable code [19]. To be able to reuse
a FOSS component an application (proprietary or FOSS)
should satisfy all the requirements and conditions that the
license of the component imposes [17]. Sometimes a com-
ponent is available under various licenses, giving the inte-
grator the ability to choose the license that best ﬁts her
purpose (the license of the component is compatible with
Permission to make digital or hard copies of all or part of this w ork for
personal or classroom use is granted without fee provided th at copies are
not made or distributed for proﬁt or commercial advantage and th at copies
bear this notice and the full citation on the ﬁrst page. To cop y otherwise, to
republish, to post on servers or to redistribute to lists, re quires prior speciﬁc
permission and/or a fee.
ASE’10, September 20–24, 2010, Antwerp, Belgium.
Copyright 2010 ACM 978-1-4503-0116-9/10/09 ...$10.00.the intended use). For example, the MySQL database can
be used under the conditions of the General Public License
(GPL) version 2, or the integrator can buy a commercial
license for her speciﬁc needs [10]. Most frequently, however ,
a component can only be used under one license. For ex-
ample, in August of this year, Nokia tried to convince the
developers of PyQT to change its license from GPL version
2 to the Lesser GPL version v2.1, but did not succeed. As a
result, Nokia has started a project to create a replacement,
called PySide[16]. Nokia explains its rational: “PySide has
been published as a response to the lack of suitably licensed
Qt bindings for Python. PySide is licensed under the LGPL
version 2.1 license, allowing both Free/Open source software
and proprietary software development.”
In an empirical study, Li et al. reported that 37% of com-
panies that used OSS components modify their source code
[15]. They also emphasize that any organization wanting to
reuse FOSS components (either with or without modiﬁca-
tion) should consider the legal implications of such change s.
The legal issues of reusing FOSS components aﬀect not
only companies, but other FOSS components and applica-
tions. As reported in [10], FOSS applications are also con-
cerned about licensing issues, primarily if the license of t he
FOSS component is compatible with the license of the ap-
plication that uses it. If they are not, then the component
cannot be used.
One of the major challenges of intellectual property clear-
ance is to identify the license under which a FOSS compo-
nent, and each of its ﬁles, is made available. This is due
to several factors: 1) there is a vast number of open source
licenses, some approved by the Open Source Initiative (cur-
rently 65), and many more that are not—Table 1 shows
somefrequentFOSSlicensesandtheirabbreviations,asused
in this paper; 2) a FOSS product might be made available
under several licenses, 3) diﬀerent versions of a FOSS com-
ponentmightbeavailableunderdiﬀerentlicenses; and4)th e
overall license of a product might be diﬀerent than the li-
cense of each of its ﬁles.
When ﬁles under various licenses are combined to create
a FOSS component, there is a risk that one of these licenses
might be incompatible with the overall license of the com-
ponent, hence any integrator using that component might
be liable for infringement [17, 18].
Another problem is that several well-known licenses ex-
ist in various versions. For example, the GPL exists in
versions 1, 2 and 3, and each of these versions is incom-
patible with the others (ﬁles under one version cannot be
combined with ﬁles under another version, as described in
437
Abbrev. Name
Apache Apache Public License
BSD4 Original BSD, also known as BSD with 4
clauses
BSD3 BSD4 minus advertisement clause
BSD2 BSD3 minus endorsement clause
boost The Boost Software license
CPL Common Public License
CDDL Common Development and Distribution
License
EPL Eclipse Public License
GPL General Public License
IBM IBM Public License
LesserGPL Lesser General Public License (successor of
the Library GPL, also known as LGPL)
LibraryGPL Library General Public License (also
known as LGPL)
MIT/X11 Original license of X11 released by the MIT
MITold License similar to the MIT/X11, but with
diﬀerent wording
MPL Mozilla Public License
SameAsPerl File is licensed in the same terms as Perl
SeeFile File points to another where the its license
is
SunSimpleLic Simple license used by software developed
by Sun Microsystems
ZLIBref The zlib/libpng license
Table 1: Names of common open source licenses and
their abbreviations used in this article. Many of
these licenses have several versions. In that case
we use the suﬃx v <number >to identify it. If it
is followed by +, that means the user can choose
this version or any newer: “or later” . For example,
GPLv2+ means “GPL version 2 or later” .
[8]); similarly code under the BSD4code cannot be included
in software released under the BSD3orBSD2. Frequently
FOSS software portals, such as SourceForge, only list the
name of the license and omit the version in the metadata of
the applications they host. Furthermore, they make no at-
tempt to verify that this license listed is indeed the licens e of
the component. For example, the FOSS portal Freshmeat
(freshmeat.net ) lists Eclipse as licensed under the CPL,
when in fact, it uses the EPLv1 (the CPL is a predecessor
of the EPL).
The contributions of this paper are: 1) We describe and
categorize the challenges of license identiﬁcation. 2) We p ro-
posea methodfor licenseidentiﬁcationbasedon the analysis
of each of the sentences in the license statement of a source
codeﬁle(theportionoftheﬁlethatcontainsthetermsunder
which the ﬁle is licensed). 3) We perform an empirical eval-
uation of our method and three other license identiﬁcation
tools showing that our method outperforms the others in
precision and speed. Finally, we present an empirical study
of approximately 0.8 million source code ﬁles that demon-
strates the feasibility of our method and highlights some
characteristics of the legal landscape of FOSS.
1.1 Related work
Several papers have used metadata from FOSS forges and
application portals (such as Freshmeat and SourceForge) to
identify the license of FOSS applications. In [2] Capaluppi
et al. used this data to report that, in a sample of 400applications, 77% used the GPL, 6% the LGPL and 5% the
BSD (no versions were indicated). Other papers have used
this data to analyze the impact of a license in the success
and impact of FOSS applications [20, 4]. The authors of
these papers did not analyzed its source code.
Currentlytwomethodsexistforlicenseidentiﬁcation. The
ﬁrst is the use of regular expressions to identify the license
of a ﬁle. Two tools use this method: ohcount, developed by
Ohloh (ohloh.net ), a portal of statistics for FOSS projects
recently acquired by SourceForge; and OSLC, the Open
SourceLicenseChecker( http://oslc.sourceforge.net/ ). The
second method for license identiﬁcation is used by FOS-
Sology [12]. It uses an algorithm called the Binary Sym-
bolic Alignment Matrix (bSAM), traditionally used in pro-
tein alignment. All these tools are open source.
In [21] Tuunanen et al. compared OSLC, FOSSology and
their own implementation, called ASLA (based on the reg-
ular expression method). Their evaluation consisted in an
empirical study that used 12 FOSS applications. They mea-
sured the recall of each of the tools, but did not verify their
precision. They also reported that the major disadvantage
of FOSSology is that it is slow (it took approximately 1
minute per ﬁle) compared to OSLC and ASLA (that were
able to process almost 4000 ﬁles per minute in the same
computer). To date, this has been the only formal evalua-
tion of license identiﬁcation tools. License identiﬁcatio n is
only a facet of ALSA. It is also a GUI environment for the
analysis of the interactions between the licenses of diﬀeren t
FOSS components in a heterogeneous system. Similar work
has been proposed by Alspaugh et al. [1].
Research we have performed in the last two years has re-
quired the identiﬁcation of licenses of a large collection of
ﬁles (see [11, 6, 7]). We have identiﬁed the following issues
with the current license identiﬁcation systems:
•They are not precise enough. In many cases these sys-
tems can identify the family of a license, but not its
version. In [7] and [9] we have demonstrated that li-
cense evolution is a growing issue, acerbated by lack of
tools that properly identify the version of a license. As
licenses evolve, the new versions are not always com-
patible with older versions.
•They do not report unknown licenses. It is important
to know that a ﬁle has a license, even if the tool is not
capable of identifying it. A legal auditor can skip ﬁles
that do not to include any license, and concentrate on
those with an unknown one.
•They report false positives. ohcount andOSLCuse
simple regular expressions that might be matched even
if the intention of the licensor is the opposite. For ex-
ample, we have encountered cases in which these sys-
tems report a ﬁle as using the General Public License
because it was found in text such as: “This ﬁle is not
licensed under the GPL”. We presume a legal auditor
will prefer to scan a ﬁle manually than to incorrectly
assume it has a given license.
•FOSSology is slow. In our experience, FOSSology is
more accurate than the other two (we perform a com-
parison further below that corroborates this fact), but
runs one or two orders of magnitude slower. It requires
also a complex setup, including a running database.
438Barahona et al. measured diﬀerent characteristics of the
Debian distributions, but did not include licensing in thei r
study [13].
2. LICENSING OF SOURCE CODE
The license of a source code ﬁle is typically found in a
comment at the very beginning of the ﬁle. We refer to this
region of the ﬁle as its license statement . A license state-
ment typically contains four sections (not necessarily in th is
order) [5]: 1) a list of copyright owners, 2) a list of authors
(if diﬀerent from the copyright owners), 3) the license or li-
censes that cover the ﬁle (see below for details), and 4) war-
ranty and liability statements. The licenses in the licensi ng
statement can be of two types:
by-inclusion: thetextofthelicenseisembeddedintheﬁle,
examples are the BSD and the MIT families of licenses;
by-reference: the license statement indicates where the
text of the license can be found. This can be a ﬁle (in
the case of the family of GPL licenses) or a URL (as the
Apachev2, the MPLv1.1, and the CPL).
In order to understand the characteristics of license state -
ments as they appear in FOSS, we have created a corpus
of source code with approximately 30,000 ﬁles. This in-
cluded applications such as Linux, Eclipse JDT, OpenBSD,
FreeBSD,andMozilla. Wehaveanalyzedthelicensingstate-
ments of these ﬁles in a combination of manual and au-
tomatic methods, trying to determine the various ways in
which diﬀerent licenses are present in ﬁles. We also studied
the Open Source Initiative (OSI) approved licenses, and the
corpus of licenses of FOSSology. This exploratory study re-
sulted in the identiﬁcation of challenges of license identi ﬁca-
tion, which are summarized in Table 2. They fall into three
categories: 1) Finding the license statement : how many
licenses are there in the ﬁle, where (within the ﬁle) they
are located; 2) Language related : the grammar, spelling,
and wording use in a license statement; and 3) License cus-
tomization : the terms of the licenses are sometimes altered
by their users. Each of these challenges is described below:
F1. License statements are usually mixed with other
text.Frequently the ﬁrst comments of a ﬁle contain text
that is not part of the licensing statement, such as a de-
scription of the ﬁle, or a ChangeLog. One exception is the
ﬁles in various Mozilla projects, in which well-deﬁned deli m-
iters mark the beginning and end of the licensing statement,
simplifying their identiﬁcation.
F2. Files might reference another ﬁle where the li-
cense is located. Frequently a ﬁle will contain a licens-
ing statement such as “For licensing information, see the
ﬁle [...]”,“See [...] for licensing information” ,“See [...] for
license details” , etc.. Sometimes the ﬁle is in the same di-
rectory, sometimesina “main”,“root”or“top”directory. The
nameoftheﬁlevaries: “COPYING” ,“LICENSE” ,“README” ,
“copyright.txt” ,“AUTHORS” ,“COPYRIGHT andLICENSE” ,
another source code ﬁle, etc. (For the sake of space, we use
[...] to abbreviate sections of text in the examples.)
F3. Files might contain multiple licenses. It is not
uncommon for ﬁles to contain more than one license. Such
licenses can apply in a conjunction (the terms of all license s
apply) or a disjunction (the terms of only one license, at
the choice of the licensor, applies; see disjunctive licens ingpattern in [10]). Determining the number of licenses presen t
in a ﬁle, and how they interactwith each other, is not trivial.
L1. Licensing statements might contain spelling er-
rors.This is not surprising. A very common mistake we
found is words split by whitespace.
L2. A given license is referred in diﬀerent ways.
When a ﬁle is licensed by-reference, usually the creator of
the license documents the recommended way to create the
reference (such as the GPL family of licenses, the MPL v1.1
and the EPL v1.0). Unfortunately this is not always the
case. For example, we discovered ﬁles that refer to the GPL
as“This [...] is licensed under the GPL” ,“You may use
[...] under the GNU public license if you so wish” ,“[...] is
provided under the provisions of the GPL” , where [...] is
replaced by “software” ,“library” ,“program” or the name of
the product. We also found the variant: “[...] provides this
source code under the GPL License” where [...] is replaced
with the name of the copyright owner, or its author.
L3. Licensors change the spelling/grammar of a li-
cense. Sometimes users change the grammar or spelling.
For example, they replace “license” with“licence” ,“it would
be useful” with“it will be useful” ,“developed by” with“writ-
ten at”,“dealings in” with“dealings with” ,“Redistribution”
with“Redistributions” . The changes are also in punctua-
tion: they add or remove a comma or a semicolon. Gram-
mar changes are particularly signiﬁcant because they might
have the eﬀect of changing the meaning of the license (in-
tended or unintended). It should be left to legal experts to
determine if these changes to a license should be considered
a diﬀerent license or not.
C1. Several licenses must be customized when used.
Licenses such as the BSD must be customized to include the
name of the copyright owner of the software. For instance,
the warranty statement of the BSD sentence should read
“THIS SOFTWARE IS PROVIDED BY <name>AS IS
AND ANY EXPRESS [...]” with the name of the copyright
owner in place of <name>.
C2. Licensors modify, add or remove conditions to
well known licenses. Frequently a well-known license is
modiﬁed to create a new license. Two of the best known ex-
amples are the BSD3 license, and the Apache v.1.1. The
BSD3 is derived from the original BSD4, by removing a
clause (famously known as the advertisement clause). The
Apache License v1.1 is composed of the BSD3 license plus
four more sentences. The OpenSSL license is a derivative
of the Apache License v1.1. Other licenses derived from
the BSD licenses are the Zlib/libPng license and the Sleep-
ycat License. In other instances, the modiﬁcations are more
subtle. For example, we found many cases in which the
MIT/X11licensewaschangedfrom “Permission to use, copy,
modify, distribute, and sell this software [...]” to“Permis-
sion to use, copy, modify and distribute this software [...] ”
(dropping sell). Similarly, the BSD condition “Redistribu-
tions of source code must retain [...]” is changed to “Redis-
tributions of source code or documentation must retain [... ]”
(addingor documentation ). Somelicensesby-reference, such
as the GPL and the MPL allow the licensor to modify the
license using an addendum (this avoids the need to create
variants of the license). These addenda are usually known
as exceptions (they create exceptions to the conditions of
the license–see Exception Pattern in [10]). These exceptions
usually follow the reference to the license. For example,
439Type. Challenge
Finding the license statement F1.License statements are usually mixed with other text
F2.Files might reference another ﬁle where the license is locat ed
F3.Files might contain multiple licenses
Language related L1.Licensing statements contain spelling errors
L2.A given license is referred in diﬀerent ways
L3.Licensors change the spelling/grammar of the license state ment
License customization C1.Several licenses must be customized when used
C2.Licensors modify, add or remove conditions to well known lice nses
C3.Licensors modify licenses for various intents
Table 2: Major challenges of license identiﬁcation.
parsers generated with Bison contain ﬁles that are licensed
under the GPLv2+ with a special addendum that allows
their use under any license: “As a special exception, when
this ﬁle is copied by Bison into a Bison output ﬁle, you may
use that output ﬁle without restriction.”
C3. Licensors modify licenses for various intents.
By-inclusionlicensesarepronetobeingmodiﬁedbyitsusers ,
willingly or unwillingly. For example, we have found vari-
ants of the BSD endorsement clause such as: “<copyright
owner names >may not be used to endorse [...]” ,“Neither
the names of the authors may not be used to endorse [...]” ,
and“The name of the author may not be used to endorse
[...]”. Similarly, we found in some cases “without prior writ-
ten permission” and in others “without speciﬁc prior written
permission” . In the MIT/X11 we discovered the words de-
veloper,authorandcopyright owner used interchangeably;
we also found “software and associated documentation ﬁles”
replaced with “source ﬁle” ; and in other ﬁles “The above
copyright notice [...] shall” replaced with “The above copy-
right notice [...] (including the next paragraph) shall [... ]”.
2.1 An algorithm for license identiﬁcation
Based on our analysis of the corpus of source code ﬁles
and the challenges described before, we developed a license
identiﬁcation algorithm. Its goals are to properly identif y
each of the licenses in a ﬁle (license name and version) and
to sacriﬁce recall (being able to determine the license of a
ﬁle) for the sake of precision (making as few mistakes as
possible), and to run eﬃciently.
It works by extracting the license statement from the ﬁle,
it then breaks it apart into textual sentences, and proceeds
toﬁndamatchforeachofthemindividually; thelistofthese
matched sentences is analyzed to determine if it contains
one or more licenses. This method requires a knowledge-
base with three sets of information: 1) ﬁltering keywords K,
2) sets of equivalence phrases E, 3) known sentence-token
expressions T, 4) license rules R. These sets were created
during the study of our corpus and are described below.
Set of ﬁltering keywords K:One of the challenges of li-
cense identiﬁcation is discriminating between those sen-
tences that are part of the license statement and those
that are not relevant (see challenges F1, and F3 above).
Any sentencethatdoesnotmatchat least one keywordis
not expected to contribute to the license of the ﬁle. Key-
words can be composed of one or more words. Examples
of ﬁltering keywords are license,conditions ,disclaimer ,
written permission . Wehaveidentiﬁed82suchkeywords.
Set of sets of equivalence phrases E:To deal with lan-guagerelatedchallenges(L2andL3)wehavecreatedsets
of equivalent phrases. Any phrase that is in a set is con-
sidered semantically equivalent to any other in the same
set. Examples of these equivalence phases sets are: (at
your option) any later version ,any later version orany
greater version ;distributable ,licensed,released ormade
available . These sets should be created carefully: replac-
ing one phrase with another in the same equivalence set
should not change the meaning of the sentence. For ex-
ample, some might argue that “you may” is not always
equivalent to“you can”. This set also includes equivalent
punctuation (such as diﬀerent types of matching quotes
“ ”, ‘ ’, ’ ’, ””). We have created 12 such sets.
Set of known sentence-token expressions T:Weusethe
termsentence-token to refer to a sentence of a known
license. A license (both by-inclusion or by-reference) is
a sequence of sentence-tokens. Sentence-tokens are gen-
eralized using one or more regular expressions (see chal-
lengesC1,C2,andC3). Werefertothepair /angbracketleftsentence-token,
regular expression /angbracketrightas a sentence-token expression. The
objective of this set is to translate each sentence found in
the licensing statement into a sentence of a known license
(a sentence-token). We have identiﬁed 427 sentence-
token expressions. For example, two of the sentence-
tokenexpressionsmatchingvariantsofthesentence-token
“SeeFile” (the license is inside a given ﬁle name) are:
SeeFile,^For the licensing terms see the file ([^,;]+)$
SeeFile,^See ([^,;]+) for license$
Set of license rules R:Each license corresponds to a se-
quence of one or more sentence-tokens (which we call
alicense rule ) plus a set of non-critical sentence to-
kens (which we call its associate sentence-tokens ).
Most by-inclusion licenses require matching two or more
consecutive sentence-tokens. In contrast, by-reference
licenses usually require only one sentence-token to be
matched (indicating the intention to use such license).
We have identiﬁed 126 licenses rules to match 112 li-
censes. For example, the BSD2 license rule is the se-
quenceof5sentence-tokens, /angbracketleftBSDpre ,BSDcondSource ,
BSDcondBinary ,BSDasIs ,BSDWarr /angbracketright; inotherwords,
these 5 sentence-tokens should appear contiguously and
inthesameorderfortheﬁletobeconsideredlicensedun-
der the BSD2. Each rule also contains a list of sentence-
tokens that usually appear with the license, but are not
required for the ﬁle to have such license (its associate
sentence-tokens); for example, a ﬁle licensed under a
GPL license will also contain the typical GPL warranty
4402. T ext Segmentation
Sentence Filtering
Sentence T oken Matching
License Rule Matching1. License Stmt. Extractionsource ﬁle
comments
normalized sentences
sentences relevant to license
sentence tokens
Licensesentences
6.
equiv . phrases3. Text normalization
4.
5.equiv. phrases
ﬁltering
keywords
known sentence-
token expressions
rulesLegend
Process
Data
Knowledge
Base
Figure 1: Diagram depicting the main steps of the
algorithm of license identiﬁcation.
andliabilitysentences(asrecommendedbytheFreeSoft-
ware Foundation).
Our algorithm for license identiﬁcation is divided into six
steps, detailed below; they are illustrated in Figure 1.
1. License statement extraction: The comments at the
header of the ﬁle are extracted. If no comment extractor
for the programming language exists, we simply extract
the ﬁrst 1,000 lines of text (the longest license statement
we have found is 700 lines long).
2. Text segmentation: Using a text segmentation algo-
rithm, the comments are converted into a sequence of
statements S. Our implementation is based upon [3]
with further modiﬁcation to remove source code com-
ments and special characters used as preﬁxes in each line
(such as #and|).
3. Equivalent phrase substitution: Eachsentenceisscanned
for occurrences of phrases in E, and if found, replaced
with a normalized version of the phrase.
4. Sentence ﬁltering: Sis split into two sequences, S+
andS−. A statement is part of S+if it contains at least
one legal keyword k∈ K, otherwise it is part of S−. The
relative order of the sentences in Sis preserved in S+
andS−. IfS+is empty, the ﬁle does not have a license,
and we label the source ﬁle NONE.S+contains the
sequence of all sentences that are expected to contribute
to the licensing of the ﬁle.
5. Sentence-token matching: ∀si∈S+, we ﬁnd its cor-
responding sentence-token ti∈ Tsuch that the regularexpression corresponding to timatches si. If no such ti
exists, we use the sentence-token UNKNOWN instead.
Some regular expressions contain variable sections (for
instance, the BSD license requires the name of the copy-
right owner to be included as part of some of its sen-
tences). Hence each sentence in S+is equivalent to a
pair consisting of the sentence-token plus its list of kop-
tional parameters /angbracketleftti,< p1,...,pk>/angbracketrightfor a value of k≥0.
The result of this step is a sequence of sentence-tokens
(with parameters), each equivalent to their correspond-
ing sentence in S+. We call this sequence M.
6. License rule matching: ∀r∈ R, we try to match r
toM. Ifris contained in M, we output the license l
that corresponds to r. The sentence-tokens of Mthat
matchrand any sentence-token that matches an associ-
ated sentence-tokens of rare marked as matched. This
step stops when all sentence-tokens in Mare matched or
all rules in Rare exhausted (see challenge F3).
Result: The license of the ﬁle is the list of licenses matched
in the previous step. If no license is matched, the ﬁle is
considered to have an UNKNOWN license. From M
a sequence of sentence-tokens that were not matched is
built. We will refer to it as the list of unmatched
sentences .
It is possible that the algorithm identiﬁes a valid license,
and its list of unmatched sentences still contain known and
unknown sentence-tokens (in other words, part of the license
statement of the ﬁle has been identiﬁed, but another part
has not). This poses a risk that the ﬁle might contain one
or more licenses that have not being identiﬁed (see F3), and
therefore it is recommended that these lists be inspected
manually. The list of unmatched sentences of all ﬁles can be
aggregated and inspected all at once (instead of having to
inspect each ﬁle individually).
2.2 Example
We illustrate our method with this license statement:
/* Copyright (C) 2006 Apple Computer, Inc. All rights reserv ed.
* Copyright (C) 2006 Michael Emmel mike.emmel@gmail.com
* Copyright (C) 2007, 2008 Alp Toker <alp@atoker.com>
*
* Redistribution and use in source and binary forms, with or
* without modification, are permitted provided that the fol lowing
* conditions are met:
* 1. Redistributions of source code must retain the above cop yright
* notice, this list of conditions and the following disclaim er.
* 2. Redistributions in binary form must reproduce the above
* copyright notice, this list of conditions and the followin g
* disclaimer in the documentation and/or other materials
* provided with the distribution.
*
* THIS SOFTWARE IS PROVIDED BY APPLE COMPUTER, INC. ‘‘AS IS’’ AND
* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMI TED
* TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
* PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE
* COMPUTER, INC. OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENT IAL
* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
* SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS ; OR
* BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
* LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF
* THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
* SUCH DAMAGE. */
This license statement is segmented into 7 sentences. Sen-
tence 6 is modiﬁed to replace“ with <QUOTES >(its pre-
441ferred equivalent phrase). The number in front of each line
identiﬁes its order in the original licensing statement:
1 Copyright (C) 2006 Apple Computer, Inc. All rights reserve d.
2 Copyright (C) 2006 Michael Emmel mike.emmel@gmail.com Co pyri[...]
3 Redistribution and use in source and binary forms, with or w [...]
4 Redistributions of source code must retain the above copyr ig[...]
5 Redistributions in binary form must reproduce the above co py[...]
6 THIS SOFTWARE IS PROVIDED BY APPLE COMPUTER, INC. <QUOTES> AS[...]
7 IN NO EVENT SHALL APPLE COMPUTER, INC. OR CONTRIBUTORS BE LI [...]
The second sentence is ﬁltered out (it contains no ﬁltering
keywords). The remaining sequence of sentences is trans-
lated to the following sequence of sentence-tokens and their
parameters:
1 <AllRights, <Copyright (C) 2006 Apple Computer, Inc.>>
3 <BSDpre, <:>>
4 <BSDcondSource, <above>>
5 <BSDcondBinary, <>>
6 <BSDasIs, <APPLE COMPUTER, INC.>>
7 <BSDWarr, <APPLE COMPUTER, INC. OR CONTRIBUTORS>>
Each line is composed of the name of a sentence-token,
followed by a list of instantiated parameters. For example,
line 1 has sentence-token AllRights with a parameter of the
leading string “Copyright ...” . Line 2 BSDpre is sometimes
followed by a colon. Line 3 BSDcondSource includes the pa-
rameter“above”because we have found two variants of this
license, one using “above copyright notice” and another us-
ing only“copyright notice” (this variant is context dependent
and cannot be an equivalence phrase). The purpose of these
parameters is to simplify the identiﬁcation of variants of t he
license, and to inform the user of how they are matched, as
sometimes there might be errors in them (e.g. the copyright
owner being diﬀerent in the BSDasIs andBSDWarr sen-
tences, orincorrect)orarulemighthavearegularexpressio n
that is too greedy and match more than the intended text.
In this example, the name of the copyright owner ( Apple
Computer, Inc. ) is consistent in the three matched rules.
ThislistmatchestheBSD2rule: /angbracketleftBSDpre ,BSDcondSource ,
BSDcondBinary ,BSDasIs ,BSDWarr /angbracketrightandAllRights is
marked as an associate sentence-token of the BSD2. For
this license statement, no unmatched or unknown sentences
exist. Hence, this ﬁle contains the BSD2 license only.
2.3 Ninka
Using this algorithm, we have developed a license iden-
tiﬁcation tool called Ninka. Ninka is open source licensed
under the General Public License version 31. It consists
of approximately 1,500 lines of Perl, 82 ﬁltering keywords,
12 equivalence phrases, 427 sentence-token expressions, and
126 license rules. It is capable of identifying 112 licenses.
3. EV ALUATION
We conducted a comparison experiment to evaluate Ninka
against other existing tools: FOSSology version 1.0.0[12],
ohcount version 3.0.0rc and OSLC 3.0. FOSSology iden-
tiﬁes licenses using the Binary Symbolic Alignment Matrix
(bSAM) pattern matching algorithm, matching the text ﬁles
against license templates contained in a database. FOSSol-
ogy is able to detect a wide variety of speciﬁc licenses (ver-
sion 1.1 is capable of recognizing 360 diﬀerent ones). Its
main disadvantage is its speed (it takes from few seconds
to few minutes to identify the license of a ﬁle). Ohcount2
1Ninka is available at turingmachine.org/ninka .
2http://ohcount.sourceforge.net/is developed by Ohloh, an open source directory. Ohcount
uses simple regular expressions to match licenses. OSLC3
ﬁnds exact or partial matches against the licenses stored in
its database using an algorithm based on a technique for
isolating textual diﬀerences [14].
3.1 Setting
In order to guarantee fairness, the evaluation was per-
formed by one of the authors independently from the main-
tainer of Ninka. We did not want our tool to be customized
(consciously or unconsciously) to the ﬁles in this study and
consequently improve Ninka’s accuracy.
We selected 250 source code ﬁles. First, we randomly
selected 250 applications from Debian 5.0.2. We then ran-
domly selected one ﬁle from each. These 250 ﬁles form the
setN. Our goal was get as many diﬀerent types of licenses
and licensing statements as possible. If we consider that
our sample comes from 0.8 million source code ﬁles in De-
bian 5.0.2, our study will provide us with a 95% conﬁdence
level of an error of ±6.2% that we can correctly identify the
licenses in the source code ﬁles of Debian 5.0.2.
The evaluation was conducted using the following proce-
dure: First, for each source ﬁle in N, its license (or licenses)
were manually identiﬁed. Second, each tool was used to
identify the licenses in each ﬁle. We used the following com-
mands: for FOSSology, fosslic, for ohloh ohcount -l , and
for OSLC java -jar oslc.jar -d .
Each of these tools has a diﬀerent idiosyncrasy in the way
it reports its results. For example, the names used for each
of the licenses might be diﬀerent (this is particularly true
for by-inclusion licenses) hence we inspected the documen-
tation of each tool trying to determine if the license name
it uses corresponds to the same license we found4. OSLC
displays the percentage of match of a license; we disregard
this number and considered each of the licenses it outputs
as being identiﬁed.
Because ﬁles without a license are fairly common (28.4%
in our sample did not have a license) we assume that, if the
tool does not output any license, the tool did not ﬁnd one,
and will be considered correct if there is no license in the
corresponding ﬁle. Neither ohcount nor OSLC report when
they ﬁnd an unknown license. For FOSSology we consider
the output “Phrase” as an unknown license. Ninkaexplicitly
states if there is a license that it cannot recognize. The dat a
used in this experiment and the results of each tool can
be found at http://turingmachine.org/ninkaData/ . We
divided the results of each tool into 3 sets:
CCorrect license name and version. The tool cor-
rectlyidentiﬁeseachofthelicensesintheﬁle, including
their version (where applicable, i.e. the oﬃcial name
of the license contains a version number, such as the
GPL, or the CPL; we consider the BSD4, BSD3, BSD2
diﬀerent versions of the same family). If the ﬁle con-
tains no license, the tool outputs nothing or that there
is NO license in the ﬁle. If the ﬁle contains more than
one license, each of them should be correctly identiﬁed.
3http://forge.ow2.org/projects/oslcv3/
4There is currently an on-going eﬀort—by several organi-
zations and companies–to standardize licensing data that
can be easily exchanged. This includes standardizing li-
censes names. One of the authors of this paper was in-
vited to be part of the committee. For more information see
www.spdx.org .
442IIncorrect. The tool identiﬁes a license but it is in-
correct. We also consider it an incorrect identiﬁcation
when the tool outputs multiple licenses and at least
one is incorrect.
UUnknown. Thetoolexplicitlystatesthatithasfound
a license and it does not recognize it.
These sets are mutually disjoint, and N=C∪I∪U.
Finally, we calculate the recall and precision of the result s
of each tool as follows:
Recall=|C|
|C|+|U|Precision =|C|
|C|+|I|
F-measure =2∗|C|
2∗|C|+|I|+|U|
Intuitively Recallmeasures how good is the tool at dis-
covering that there is a license in the ﬁle. Because neither
ohcountnor OSLC supportreporting unknown licenses their
recall is 100%. In contrast, Ninkaand FOSSology are capa-
ble of reporting when a license is found, but is not identiﬁed .
We believe this is an important feature. This information is
valuable to the person doing the license analysis: it is bet-
ter to know that a ﬁle might contain an unidentiﬁed license,
rather than to think that it contains no license, or worse,
an incorrect one (i.e., if a ﬁle contains license Ait is better
to say“I don’t know” than to err “the ﬁle has no license” or
“the ﬁle has license B”).
Precision measureshowgoodisthetoolatidentifyingthe
correct license and version. Comparing each tool simply in
terms of their precision or recall is insuﬃcient. Therefore we
use the F-measure to provide a more balanced comparison
of the trade-oﬀ between precision and recall.
3.2 Results
Table 3 shows the recall, precision and F-measure of the
results of each of the tools in our study, and the time it took
each to analyze the set of ﬁles.
Table 3: Results of the evaluation of the tool. Best
result in each category is depicted in bold.
NinkaFOSSo. ohcount OSLC
|C|200 137 83 57
|I| 7 112 167 193
|U|43 1 0 0
Recall 82.3% 99.2% 100.0%100.0%
Precision 96.6% 55.0% 33.2% 29.5%
F-measure 0.889 0.708 0.498 0.371
Execution Time 22s 923 s 27s 372s
We can make several observations about the results. Ninka
sacriﬁces recall for the sake of precision. It prefers to rep ort
the license as unknown rather than making a mistake. In
fact, of the 6 ﬁles incorrectly identiﬁed by Ninka, in three it
correctly identiﬁed one of the licenses present in the ﬁle, b ut
not all of them; and in three it reported the ﬁle as having
no license when it did contain one. Ninkashows the highest
F-measure in these tools. This is reassuring: its low recall
(Ninka’s recall is the lowest of the four) is oﬀset by its high
precision.
FOSSology and OSLC are signiﬁcantly slower than the
rest (30 and 10 times longer than ohcount or Ninka, respec-
tively), and Ninkais slightly faster than ohcount. We believe
this is because Ninkaonly analyzes the ﬁrst lines of each ﬁle.In conclusion, our study shows that we have achieved the
main goals set for Ninka: it has the highest precision of all
the tools in the study, and it does it eﬃciently (it was the
fastest tool in the study).
4. EMPIRICAL STUDY
To demonstrate the usefulness of Ninkawe performed a
study of the licenses found in the ﬁles of a large open source
distribution (Debian 5.0.2). More speciﬁcally, we have per -
formed an empirical study to answer the following research
questions:
RQ1: What are the licenses used in FOSS? No em-
pirical study has been performed to identify the licenses
of source code ﬁles in a large collection of FOSS applica-
tions. Our goal is to identify what licenses are used and
how frequently.
RQ2: When present, what types of errors do license
statements have? Intuitively we would expect license
statements to contain errors. Our goal is to attempt to
identify them and explore how the occur.
To address RQ1, we identiﬁed the licenses of the source
ﬁles of Debian 5.0.2 using Ninkaand evaluated a) how fre-
quently each license is used; b) if there is a relationship be-
tween license and programming languages, and c) if smaller
ﬁles are more likely not to have a license.
For RQ2 we looked for inconsistencies in licenses. We
concentrated on applications where most of the ﬁles used
the same license, and only a handful had a diﬀerent one. We
then manually analyzed the diﬀerences, checked available
documentation for clariﬁcation, and contacted the authors
of the software to verify our ﬁndings.
4.1 Setting
We downloaded the source code of Debian 5.0.2 from De-
bian’s oﬃcial repository5We analyzed all ﬁles written in
Java (.java), C (.c), C++ (.cpp, .cxx, and .cc), Lisp (.el and
.jl), Perl (.pm and .pl), and Python (.py); according to [13]
these are ﬁve of the six most frequently found programming
languages used in Debian—the other is shell programming.
In Debian 5.0.2 we analyzed 794,622 ﬁles from 11,101 appli-
cations (also known as source packages in Debian’s nomen-
clature). Ninkacould not identify a license in 15.9% of ﬁles.
These numbers are consistent with our empirical evaluation
ofNinkain Section 3.2. Ninkawas able to identify the license
of all ﬁles in 31.6% of all applications.
4.2 RQ1: What are the licenses used in FOSS?
Due to space constraints we only present some results.
We invite the reader to download the list of ﬁles and their
licenses from http://turingmachine.org/ninkaData/ .
4.2.1 What licenses are used by software in Debian
Table 4 shows the most commonly found licenses in De-
bian 5.0.2 ﬁles. The ﬁles with no license statement are the
most frequent (NONE). The GPL and LGPL licenses, in
all their versions, appear prominently in the list: they are
widely used by many ﬁles, in many diﬀerent applications.
On the other hand, some licenses are used in few appli-
cations but these applications contain many ﬁles, e.g. the
disjunctive license “CDDLv1 or GPLv2” it is only used in
5ftp://ftp.debian.org/debian/dists/Debian5.0.2/
443two applications (one of them netbeans with 28,523 ﬁles).
In comparison, Table 5 shows the number of applications in
which a given license is present in at least one of its ﬁle. The
GPLv2+ is the most common in both tables.
License FilesPerc. Aps.
NONE 210147 31.5% 8241
GPLv2+ 147535 22.1% 5486
LesserGPLv2.1+ 42692 6.4% 767
CDDLv1orGPLv2 37623 5.6% 2
SeeFile 31685 4.7%1252
Apachev2 25023 3.7% 151
LibraryGPLv2+ 23705 3.6%1150
GPLv2 18930 2.8% 582
GPLv2 or LGPLv2.1 or
MPLv1.118183 2.7% 30
GPLv3+ 16767 2.5% 224
BSD3 12394 1.9% 646
MITX11 10237 1.5% 601
LesserGPLv2+ 7783 1.2% 470
BoostV1 7348 1.1% 13
GPLv2+,LinkException 6029 0.9% 11
BSD2 3877 0.6% 255
LesserGPLv2.1 3496 0.5% 108
LibraryGPLv2 3283 0.5% 100
SameAsPerl 3275 0.5% 791
GPLnoVersion 3047 0.5% 334
MITX11 variant 2521 0.4% 57
Table 4: Most common licenses per number of ﬁles
where they occur in Debian 5.0.2. The last column is
the number of applications in which they are found.
With regard to the distribution of licenses per applica-
tion, the number of licenses used in each application tends
to be very small. The median number of diﬀerent licenses
detected per project is 1. 5186 (47.2%) had only one de-
tected license, and 1956 applications (17.6%) had two. The
maximum number of licenses in one application is large; e.g.,
40 diﬀerent licenses in linux, 31 invnc4, and 26 in texlive.
These numbers could be skewed because Ninkadid not
detect the licenses of all the ﬁles. To avoid this potential
problem we studied applications in which Ninkaresolved all
their ﬁles: 3506 (31.8% of the total) (i.e. for each ﬁle in
it,Ninkaeither identiﬁed its license or that it contained no
license). 2183 of these applications used only one license.
Table 6 shows the distribution of licenses in these applica-
tions. Another 557 applications used two licenses only.
4.2.2 Do different programming languages use dif-
ferent licenses?
Table 7 shows the distribution of licenses grouped by pro-
gramming language (based upon the extension of the ﬁle).
This table shows the results for Java, C, C++, and Perl.
With respect to Java, as it can be observed, two appli-
cations ( netbeans andglassﬁsh) contribute all the ﬁles that
appear with the “CDDLv1 or GPLv2” (Java’s most used li-
cense). It is also signiﬁcant that other licenses appear bef ore
the GPLv2+.
C programs, on the other hand, are more likely to use
the Free Software Foundation licenses. C++ programs were
found to frequently use the triple license GPLv2, LGPLv2.1
or MPLv1.1, promoted by the Mozilla Foundation; the largeLicense Aps.Prop
NONE 824174.2%
GPLv2+ 548649.4%
SeeFile 125211.3%
LibraryGPLv2+ 115010.4%
SameAsPerl 7917.1%
LesserGPLv2.1+ 7676.9%
MITX11 6015.4%
BSD3 6465.8%
GPLv2 5825.2%
LesserGPLv2+ 4704.2%
GPLnoVersion 3343.0%
BSD2 2552.3%
publicDomain 2442.2%
Table 5: Most common licenses per number of appli-
cations in which they appear at least once in Debian
5.0.2.
‘License Aps.Perc.
GPLv2+ 126557.9%
SameAsPerl 36916.9%
MITX11 863.9%
BSD3 833.8%
SeeFile 632.9%
Apachev2 552.5%
LesserGPLv2.1+ 442.0%
GPLv2 381.7%
BSD2 241.1%
LibraryGPLv2+ 160.7%
Table 6: Most common licenses used by applications
that used only one license, and every ﬁle was re-
solved (it either had no license or it was known)
in Debian 5.0.2. There were 3506 such applications
(31.8% of all applications).
number of ﬁles that compose Boost pushes the number of
ﬁles under its license into this list.
Perl is peculiar because it uses an indirect license: “Same
License as Perl” . This is the default license statement in-
cluded in the skeletons of Perl modules automatically cre-
ated by Perl, and this is likely the reason behind its fre-
quency6. The table also shows Perl ﬁles are more likely not
to have a license (67%, more than twice of any of the other
three languages).
4.2.3 Does size matter?
Duringthedevelopmentof NinkaweanalyzedvariousFOSS
applications to test the eﬃcacy of our tool. One of these
applications had a signiﬁcant proportion of ﬁles without a
license. We contacted its main developer, informing him of
this. He replied that he did not think it was necessary to
place a license on very small ﬁles (usually test ﬁles).
Are smaller ﬁles more likely not to have a license? The
mediansizeofﬁlesinDebian5.0.2is4633[2041,11863]bytes ;
the median size of ﬁles without a license is 2137 [708,6857]
6Thistypeoflicensemakesiteasytorelicensethesemodules
if and when Perl changes it license[10]. Perl is expected
to change its license to the Artistic v2 when version 6 is
released; it is currently using the disjunctive license bet ween
the Artistic v1 and the GPLv1+.
444License Files Perc.Aps.
Java(.java)
CDDLv1 or GPLv2 37562 25.43% 2
NONE 25371 17.17% 344
LesserGPLv2.1+ 22834 15.46% 61
Apachev2 21535 14.58% 100
GPLv2+ 10679 7.23% 72
GPLv2+,LinkException 5888 3.99% 8
c(.c)
NONE 85261 32.25% 3726
GPLv2+ 66654 25.21% 2718
LesserGPLv2.1+ 14981 5.67% 513
SeeFile 14926 5.65% 357
LibraryGPLv2+ 12440 4.70% 795
GPLv3+ 10191 3.85% 133
C++(.cpp, .cxx, .cc, and c++)
GPLv2+ 47528 31.63% 999
NONE 36661 24.40% 1171
GPLv2 or LGPLv2.1 or
MPLv1.112169 8.10% 15
SeeFile 9704 6.46% 95
LibraryGPLv2+ 8854 5.89% 189
boostV1 6554 4.36% 11
Perl(.pm and .pl)
NONE 18227 66.73% 2200
GPLv2+ 307911.27% 383
SameAsPerl 2651 9.71% 584
LibraryGPLv2+ 6812.49% 233
SeeFile 5562.04% 180
GPLv2 or LGPLv2.1 or
MPLv1.12931.07% 9
Table 7: Most frequent licenses used by each pro-
gramming language in Debian 5.0.2
bytes, while the ones with a license is 5488 [2868,13217].
Considering that the median size of the license statement of
a ﬁle is 1005 bytes, the median size of ﬁles with a license
was still more than 2 kilobytes longer.A Mann-Whitney test
conﬁrms that these diﬀerences are signiﬁcant ( p <0.0001).
However, we did not ﬁnd a correlation between the size of
the ﬁle and the existence of a license in it ( ρ= 0.1347).
4.3 RQ2: When present, what types of errors
do license statements have?
During the development and testing of Ninkawe observed
several potential problems in the licensing of various appl i-
cations that we analyzed. These are summarized below:
Application #1. Files without a license We contacted
the author of this application informing him that one of
its ﬁles did not contain a license (the rest contained the
GPLv3+). He acknowledged that this ﬁle should not have
been distributed with the software and removed it.
Application #2. Cutting & pasting the wrong li-
cense statement In this application we discovered a li-
cense inconsistency. The application, according to its web
site, was licensed under the GPLv2. 169 of its ﬁles were li-
censed under the GPLv2+, 3 under the GPLv3+, one in the
public domain, and 26 didn’t have a license. The GPLv3+
ﬁles created a licensing conﬂict: a ﬁle licensed under the
GPLv3+ cannot be linked into a system under the GPLv2.
We emailed its mailing list asking for a clariﬁcation. Theproject leader quickly replied: “Those ﬁles did not have a
copyright header and no license at all, I’ve copied a license
header into them, but did not see that it was the wrong one,
sorry.”He also clariﬁed that ﬁles without a license state-
ment are licensed under the GPLv2+.
Application #3. Inconsistent license clauses This ap-
plication is licensed under an MIT-style license. 3 ﬁles out
of 37 contained diﬀerent liability and warranty clauses tha n
the rest. When we contacted the author of the application,
he acknowledged that this was a problem and would be ﬁxed
in the next release.
Application #4. Incorrect name of the license Ac-
cording to the Web site of this application, it is licensed un -
der the Lesser GPL v2.1. Its README.txt ﬁle asserts it is
licensed under the Library GPLv2+. Ninkaidentiﬁed 8 ﬁles
under the Lesser GPLv2+, but this license does not exist.
The successor of the Library GPL version 2 is the Lesser
GPL version 2.1 (there was never a version 2.0 of this li-
cense). The rest of the ﬁles correctly referred to the Librar y
GPLv2+. When we contacted the author of the applica-
tion, he acknowledged the problem, claiming the licenses of
all ﬁles will be changed to Lesser GPLv 2.1.
Application #5. License statements can only be
edited by their copyright owners This application in-
cluded a ﬁle under the Lesser GPLv2+ (as mentioned above,
this version of the license does not exist). When we con-
tacted the project leader he informed us that this was a
known problem, and there was a bug report already ﬁlled
about it. Unfortunately this ﬁle had come from a diﬀerent
application, and because they were not the copyright owner
they could not change its license; instead they were trying
to ﬁnd its copyright owner to perform such change
In summary, these issues highlight the need for license
maintenance features in software development environments
that support:
•Editing of the license statements.
•Verifying the validity of the license statements.
•Summarizing licenses in source code ﬁles.
•Tracking of copyright owners.
5. THREATS TO V ALIDITY
With respect to our evaluation of Ninkaand the other
tools, weaddressed construction validity byrandomlychoos-
ing ﬁles from many diﬀerent applications. We addressed
conclusion validity by performing a statistical test that in-
dicates the level of conﬁdence of the results.
Our studyof licensingin FOSS is exploratoryand its main
threat to construction validity is how reliable our license de-
tection is. Our empirical evaluation of Ninkahas been de-
sign to quantify it. In this evaluation Ninkahad a 96.6%
precision for ﬁles in which it identiﬁed a license, hence we
are conﬁdent of the quality of our analysis of the complete
Debian distributions. There is, however, the risk that the
unknown licences might change some of the results. This
potential impact would be small because only 15.9% of ﬁles
in Debian 5.0.2 contained a license that was not identiﬁed.
We inspected many of these ﬁles and, in most cases, they
contained variants of other known licenses that were not rec-
ognizable by Ninka. Furthermore, we restricted some of our
analysis to applications for which Ninkaidentiﬁed a license
(or lack of one) in each of their ﬁles. With respect to exter-
nal validity , we believe that our results are representative to
FOSS in general because a) we analyzed a very large number
445of ﬁles and applications, and b) Debian serves as a proxy of
active (or at least used) FOSS applications.
We have also contacted developers (where applicable) to
make sure that our interpretations were not erroneous.
With respect to reliability validity , our study can be repli-
cated: ﬁrst, we have used a well deﬁned collection of source
code ﬁles that is available to anybody (Debian distribu-
tions); second, we are making Ninkaavailable under an open
source license; and third, the data and results or our experi-
mentsareavailableforotherstostudyat http://turingmachine.
org/ninkaData/ .
6. CONCLUSIONS AND FUTURE WORK
In this paper we have presented a method of license iden-
tiﬁcation for source code ﬁles. This method is based on
matching each of the sentences of the license statement of
the ﬁle to the sentences of known licenses. Based on this
method we implemented Ninka. We empirically evaluated
Ninkaand other similar tools and found that Ninkais better
and faster at identifying the license name and version than
these tools, at the cost of lower recall.
We performed an empirical study of a large collection of
FOSS applications. We discovered, for example, that the
GPLv2+ is the most commonly used license in terms of
number of ﬁles and number of applications that use it.
We also discovered that licensing statements are prone
to errors. The integration of license veriﬁcation tools int o
development environments will alleviate this problem.
With respect to future work, the identiﬁcation of licenses
of ﬁles is only one step in licensing analysis of components.
It is also necessary to analyze the interactions between dif-
ferent ﬁles of a system to determine the resulting license of
a component, and, at a higher level, how the interaction of
diﬀerent components aﬀect the overall license of a system
that uses them.
Acknowledgements
We would like the thank the reviewers of an early draft of
this paper. This work has been supported by the Invita-
tion Fellowship Program of the Japan Society for Promotion
and Science, the Grant-in-Aid for Scientiﬁc Research (A)
(No.21240002), the Stage Project, the Development of Next
Generation IT Infrastructure of Mext Japan, and the Na-
tional Science and Engineering Research Council of Canada.
7. REFERENCES
[1] T. A. Alspaugh, H. U. Asuncion, and W. Scacchi.
Analyzing software licenses in open architecture
software systems. In FLOSS ’09: Proc. Workshop on
Emerging Trends in Free/Libre/Open Source Software
Research and Development , pages 54–57, 2009.
[2] A. Capiluppi, P. Lago, and M. Morisio. Characteristics
of open source projects. Software Maintenance and
Reengineering, European Conference on , 0:317, 2003.
[3] P. Claugh. A Perl program for sentence splitting using
rules.http://ir.shef.ac.uk/cloughie/software.html ,
April 2001.
[4] J. Colazo and Y. Fang. Impact of license choice on
open source software development activity. J. Am.
Soc. Inf. Sci. Technol. , 60(5):997–1011, 2009.
[5] M. Di Penta and D. M. German. Who are source code
contributors and how do they change? In ”Proc. 16thWorking Conference on Reverse Engineering
WCRE’09” , pages 11–20, Oct 2009.
[6] M. Di Penta, D. M. German, and G. Antoniol.
Identifying Licensing of Jar Archives using a
Code-Search Approach. In International Working
Conference on Mining Software Repositories (MSR
2010), pages 151–160, May 2010.
[7] M. Di Penta, D. M. German, Y.-G. Gu´ eh´ eneuc, and
G. Antoniol. An exploratory study of the evolution of
software licensing. In Proc. of the 32rd Int. Conf. on
Software Engineering (ICSE’10) , pages 145–154, 2010.
[8] Free Software Foundation. Frequently Asked
Questions about the GNU Licenses.
http://www.fsf.org/licensing/licenses/gpl-faq.html .
Accessed Feb. 2009.
[9] D. M. German, M. Di Penta, and J. Davis.
Understanding and auditing the licensing of open
source software distributions. In 18th Int. Conf. on
Program Comprehension (ICPC’2010) , May 2010.
[10] D. M. German and A. E. Hassan. License integration
patterns: Addressing license mismatches in
component-based development. In Proc. 31st Int.
Conf. on Soft. Eng., ICSE , pages 188–198, 2009.
[11] D. M. German, M. D. Penta, Y. Gueheneuc, and
G. Antoniol. Code siblings: Technical and legal
implications of copying code between applications. In
Proceedings of the International Working Conference
in Mining Software Repositories , pages 81–90, 2009.
[12] R. Gobeille. The FOSSology project. In MSR ’08:
Proceedings of the 2008 International Conference on
Mining Software Repositories , pages 47–50, 2008.
[13] J. M. Gonzalez-Barahona, G. Robles, M. Michlmayr,
J. J. Amor, and D. M. German. Macro-level software
evolution: a case study of a large software
compilation. Journal of Empirical Software
Engineering , 14(3):262–285, 2009 2009.
[14] P. Heckel. A technique for isolating diﬀerences
between ﬁles. Commun. ACM , 21(4):264–268, 1978.
[15] J. Li, R. Conradi, C. Bunse, M. Torchiano,
O. Slyngstad, and M. Morisio. Development with
oﬀ-the-shelf components: 10 facts. Software, IEEE ,
26(2):80–87, 2009.
[16] Nokia Corp. About PySide.
http://www.pyside.org/about/ , 2009. Acc. Sept. 2009.
[17] L. Rosen. Open Source Licensing: Software Freedom
and Intellectual Property Law . Prentice Hall, 2004.
[18] C. Ruﬃn and C. Ebert. Using open source software in
product development: a primer. IEEE Software ,
21(1):82–86, 2004.
[19] W. Scacchi. Free/open source software development.
InESEC-FSE ’07: Proc. of the the 6th joint meeting
of the European Software Engineering Conference and
the ACM SIGSOFT Symposium on The Foundations
of Software Engineering , pages 459–468, 2007.
[20] C. Subramaniam, R. Sen, and M. L. Nelson.
Determinants of open source software project success:
A longitudinal study. Decision Support Systems ,
46(2):576–585, 2009.
[21] T. Tuunanen, J. Koskinen, and T. K ¨arkk¨ainen.
Automated software license analysis. Automated
Software Engg. , 16(3-4):455–490, 2009.
446