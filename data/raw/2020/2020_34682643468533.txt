Synthesis ofWeb Layouts fromExamples
D
ylan Lukes∗
dlukes@eng.ucsd.edu
UCSanDiego
La Jolla,CA,USAJohn Sarracino∗2
jsarracino@cornell.edu
CornellUniversity
Ithaca,NY,USACoraColeman
ccoleman@eng.ucsd.edu
UCSanDiego
La Jolla,CA,USA
Hila Peleg2
hilap@cs.technion.ac.il
Technion
Haifa, IsraelSorinLerner
lerner@eng.ucsd.edu
UCSanDiego
La Jolla,CA,USANadia Polikarpova
npolikarpova@eng.ucsd.edu
UCSanDiego
La Jolla,CA,USA
ABSTRACT
Wepresentanewtechnique forsynthesizingdynamic,constraint-
based visual layouts from examples. Our technique tackles twoma-
jor challenges of layout synthesis. First, realistic layouts, especially
on the web, often contain hundreds of elements, so the synthesizer
needs to scaleto layouts of this complexity. Second, in common
usagescenarios,examples contain noise, sothe synthesizerneeds
tobetoleranttoimpreciseinputs.Toaddressthesechallengeswe
propose a two-phase approach to synthesis, where a local inference
phase rapidly generates a set of likely candidate constraints that
satisfythegivenexamples,andthena globalinference phaseselects
asubsetofthecandidatesthatgeneralizestounseeninputs.This
separation of concerns helps our technique tackle the two chal-
lenges: the local phase employs Bayesian inference to handle noisy
inputs,whiletheglobalphaseleveragesthe hierarchical natureof
complexlayoutstodecomposetheglobalinferenceprobleminto
inference of independent sub-layouts.
We implemented this technique in a tool called Mockdown and
evaluated it on nine real-world web layouts, as well as a series
of widespread layout components and an existing dataset of 644
Androidapplications.Ourexperimentsshowthat Mockdown is
able to synthesize a highly accurate layout for the majority of
benchmarks from just three examples (two for Android layouts),
andthatitscalestolayoutswithover600elements,about30xmore
thanhas been reported inprior work onlayoutsynthesis.
CCS CONCEPTS
·Softwareanditsengineering →Sourcecodegeneration ;Au-
tomaticprogramming; Programming by example.
KEYWORDS
Program Synthesis,Constraint-basedlayouts,Weblayouts
∗Bothauthorscontributed equally to thisresearch.
2Work donewhile at UCSan Diego.
ESEC/FSE ’21, August 23ś28, 2021, Athens, Greece
© 2021 Copyright held by the owner/author(s).
ACM ISBN 978-1-4503-8562-6/21/08.
https://doi.org/10.1145/3468264.3468533ACMReference Format:
Dylan Lukes, John Sarracino, Cora Coleman, Hila Peleg, Sorin Lerner,
and Nadia Polikarpova. 2021. Synthesis of Web Layouts from Examples. In
Proceedingsofthe29thACMJointEuropeanSoftwareEngineeringConference
andSymposiumontheFoundationsofSoftwareEngineering(ESEC/FSE’21),
August 23ś28, 2021, Athens, Greece. ACM, New York, NY, USA, 13pages.
https://doi.org/10.1145/3468264.3468533
1 INTRODUCTION
Visuallayout istheproblem ofarranginggraphicaluser interface
(GUI) elements on screen. Creating layouts is an integral part of
developingdesktop,mobile,andweb-basedapplications.Inallthese
domains,thelayoutsmustbe dynamic;thatis,theabsolutepositions
oftheGUIelements,alsocalled views,mustadjusttothedimensions
of theroot view, in order to keep the application functional and
aestheticallypleasing for awide range of dimensions[40].
Constraint-Base
d Layout. For webpages, dynamic layouts are
usually defined using Cascading Style Sheets (CSS) [ 39]. However,
theexpressivityofCSSislimited,forexampleinallowingsibling
elementstobedefinedrelativetoeachother.Inmobileapplications,
thisnichehasbeenfilledby declarativeconstraintsystems suchas
Apple’sAutoLayout [50]andAndroid’s ConstraintLayout [27],
powerful tools for implementing dynamic layouts. The key idea of
declarative constraint systems is to express local relations between
views, such as ładjacent-tož or łcenter-alignedž, as constraints, and
letthelayoutenginesolvetheseconstraintsatruntimetofigure
out where to place each GUI element given particular root view
dimensions.Forexample, Fig.1ashowsascreenshotofaslightly
simplifiedversionoftheIEEEXplorewebsite[ 1],whichincludes
a łFeatured Authorsž panel displaying profiles of three authors.
The desired horizontal layout for this panel can be expressed with
constraintsstatingthatthemiddleprofileiscenteredinthepage
and the margins on either side of each profile are fixed. At run
time, as the user resizes the page, the layout responds according
to the constraints (see Fig. 1b): the width of the profiles changes,
preservingcentering andmargins.
While constraint-based layouts have been greatly successful in
the mobile domain, they are not as prevalent for web design. A
potential reason is that a webpage has many more moving parts
than a mobile application, and the relations between elementsare
far more complex, making constraintsharder to author.
LayoutSynthesis. Apromisingapproachtoeasingthecreationof
flexibleconstraint-basedlayoutsisto synthesize themautomatically
from examples. For instance, a layout synthesizer might take as
651This work is licensed under a Creative Commons Attribution International 4.0 License.
ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
(a)Layout example1: 1200x870
(b) Layout example2: 1600x870
Figure1:SnapshotsoftheIEEEXplorewebsitelayoutatdif-
ferentpage dimensions.
input the two static łsnapshotsž in Fig. 1, and infer a system of
constraintsthat(1) matchestheexamples: placesallviewjustlike
intheinputsnapshotsgiventheircorrespondingdimensions,and
(2)generalizes beyond the examples: produces some łreasonablež
placementfor otherdimensions. Layoutsynthesis enables various
newwaysofauthoringdynamiclayouts:forexample,adesigner
maycreateseveralmock-upsinadirect-manipulationeditorand
then automatically convert them into a general constraint-based
layout; alternatively, a user can emulate the look of an existing
website,by scrapinglayoutsnapshotsdirectlyfromthebrowser’s
rendering ofthe HTML.
Challenges. In the mobile domain, the state of the art in layout
synthesis is InferUI[11,36], a tool for generating AutoLayout
constraintsforAndroidapplications.Atahighlevel, InferUIworks
byencodingtheproblemasanSMTqueryfollowingthegeneral
approachofsymbolicprogramsynthesis[ 33,54].Extendinglayout
synthesis beyond mobile apps, most notably to the web domain,
poses two major challenges : (1)Scalability: web layouts typically
have at least an order of magnitude more views than Android
layouts do; the pure SMT-based approach scales poorly with the
number of views in the layout. (2) Noise:in a realistic setting, both
scrapedanduser-designedexamplesmightcontainnoise:thatis,theinput snapshots satisfy the desired constraints only approximately ;
the pure SMT-basedapproach cannothandle such noisyinputs.
Our Solution. In this work we develop Mockdown , a new lay-
out synthesizer that accepts layout examples (e.g., from a direct
manipulation editor or a scraping tool) and finds the constraints
needed. These can then be passed on to a web constraint-based
layoutengine(i.e.,thewebequivalentofAutoLayoutequivalent)
or be solved in JavaScript code to set the sizes and positions of
views upon resize. Mockdown tackles the two challenges outlined
aboveandisabletosynthesizecomplexlayoutsfromrealisticnoisy
inputs. In contrast to the the monolithic SMT encoding of prior
work, the synthesis process in Mockdown is split into two phases:
local inference , which considers each constraint in the search space
inisolation,and globalinference ,whichconsiderssystemsofcon-
straintsasawhole.Thegoaloflocalinferenceistosuggestasetof
candidateconstraints ,whichmatchtheprovidedexamples,butdo
not necessarily generalize to unseen dimensions; the goal of global
inference is to pick a subset of the candidates that generalizes. For
example, given just the one example in Fig. 1a,Mockdown ’s local
inference phase would suggest that all author profiles have a fixed
widthof340pixels andthattheirouterandinnermarginsarefixed
(at 60 and 30 pixels, respectively). While these constraints are true
forthisexample,theycannotallcontinuetoholdifweresizethe
page.Mockdown ’s global inference uses a MaxSMT [ 12] solver to
pickamaximalsubsetoftheseconstraintsthatis satisfiable fora
wide range of page dimensions; in this case, the global inference
must get rid of either the fixed width constraints or one of the
margin constraints.
Handling Noise via Bayesian Local Inference. Mockdown ’s
two-phasearchitecturehelpsitaddressthetwomajorchallenges
outlinedabove.Todealwithnoise,thelocalphaseemploys Bayesian
inference togenerateconstraintcandidatesthat,ontheonehand,
arelikelytogeneratethedata,andontheotherhand,aresimpleac-
cording to a domain-specific prior. Crucially, the SMT-based global
phasenever getsexposedto noisydata.
ScalingviaHierarchicalGlobalInference. WithMockdown ’s
two-phase approach, the local phase rapidly falsifies unlikely con-
straints, thereby pruning the search space for the computationally
intensiveglobalphase.Ourexperimentsshow,however,thatthis
pruning is not sufficient to make the global phase scale to complex
web layouts. To further improve performance, we leverage the ob-
servation that real-world layouts are hierarchical : the views are
arranged in a tree, and the layout of the upper layers of the hierar-
chyisindependentfromthelowerlayers.Forexample,fortheIEEE
website, we first infer the layout of the three author profiles and
then independently infer the layout of their contents (image, name,
łFollow...ž button). This hierarchical global inference significantly
improvesscalabilityforreal-worldlayouts,wherethenumberof
łsiblingžviewsistypicallysmall.
Contributions. In summary,thispapermakesthefollowing con-
tributions:
•Atwo-phase layout synthesis algorithm , where a local phase
rapidly generates the set of likely candidate constraints that
satisfytheexamples, anda global phaseselectsa generaliz-
ablesubsetoftheseconstraints( Sec. 2).
•Noise-tolerantlocal inference viaBayesian learning( Sec. 3).
652Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
•Hierarchicalglobalinference ,whichleveragesthestructure
ofreal-world layoutsto achieve scalability ( Sec. 4).
•An implementation of the two-phase synthesis algorithm
in a tool called Mockdown , which has been evaluated on
real-world Android and web layouts ( Sec. 5).Mockdown
candiscovertheconstraintsofrealisticlayoutswithasmuch
as an order ofmagnitude more elements as previous tools.
2 MOTIVATING EXAMPLE
ConsiderthetaskofdesigningadynamiclayoutfortheIEEEXplore
website introduced in Fig. 1. In this section we explain how Mock-
downcaninferaconstraint-basedlayoutforthiswebsiteusingtwo
examples(withthefocusonlayingouttheauthorprofileswithin
the łFeatured Authorsž pane). The inference process is depicted in
Fig. 2,to whichwe refer throughout the section.
2.1 The Mockdown Interface
Mockdown takes as input a set of examples,i.e.static snapshots
of the layout at fixed page dimensions. Concretely, every input
exampleisaJSONfilethatencodesthehierarchyofviewsandtheir
absolute positions within the page. For example, Fig. 2A shows an
excerpt from the Mockdown inputs for the two snapshots from
Fig. 1, focused on the łFeatured Authorsž pane. Across different
examples, the set of views and their hierarchy is assumed to be the
same (here, the author profile views turingandhopperare children
of theauthorspane), while their positions, specified via the rect
attribute,differ.
Giventhesetwoexamples, Mockdown infersasetofconstraints
shownin Fig.2F.Theseconstraintsrepresentlinearrelationships
betweenanchorsoftheviews,whereananchoriseitheranedge,like
hopper.left ,oradimensionderivedfromtheedges,like hopper.width
orhopper.center _x.Constraintsofthisformserveasinputtoa con-
straint layout engine , which, given a new desired page size (for
example1300×870),willgenerateaconcreteplacementof all the
viewsthatsatisfiestheconstraints,asshownin Fig.2GandFig.2H.
Inputs to Mockdown might comefrom a variety of front-ends.
Perhapsmostobviously,adesignermightuseadirect-manipulation
tool to manually place the views and specify their hierarchy. Al-
ternatively, if a userwould like toreplicate the look of an existing
website,theycan scrapethisinformationfromthiswebsite’sHTML
renderedinthebrowser;infact,forevaluationpurposeswehave
implementedsuchascrapingfront-endfor Mockdown .Withei-
therfront-end,wecanenvisionaninteractivedesignprocesswhere
theuserstartswithasingleexampleandtheniterativelyaddsmore
examplesifuponvisualinspectionatanewpagedimensionthey
are dissatisfiedwiththe generateddynamic layout.
Likewise,theoutputsof Mockdown mightbeconsumedbya
variety of layout engines, including the popular engines AutoLay-
out[50] andConstraintLayout [27] for the mobile domain, and
Grid Style Sheets [ 58] for the web domain. Because the support for
constraint-basedlayoutinwebbrowsersisnot(yet)widespread,for
evaluation purposes we have implemented a simple layout engine
that can be embedded into the webpage as JavaScript, and is based
onthe Kiwi [ 49]constraintsolver1.
1https://github.com/MangoTeam/mockdown-clientIntheremainderofthispaperwefocusonthesynthesisback-
endÐi.e.going from the JSON examples to constraintsÐwhich is
commonforallfront-endsandconstrainedlayoutengines.Inthe
rest of this section, we detail the two phases of the constraint
inference process: localandglobalinference.
2.2 LocalInference
The goal of local inference is to generate a set of candidate con-
straintsmatching the provided examples. An excerpt from the out-
putoflocalinferenceisshownin Fig.2D.Thistaskcanbesolved
efficientlyfollowingtheinvariantinferenceapproachpioneeredby
Daikon[22].This approachfirstinstantiatesconstrainttemplates
usingvariablesinscopetoproduce constraintsketches ,andthenfills
intheparametersofeachsketch(orfalsifiesitaltogether)basedon
thevariablevaluesobservedintheexamples. Mockdown ’slocal
inference is inspired by this approach, but it uses novel domain-
specifictechniquesbothfortemplateinstantiationandforparam-
eter inference, which enable Mockdown to prune the space of
candidate constraintsandhandle noise.
Visibility-Guided Template Instantiation. Althoughouralgo-
rithm is able to infer a variety of constraintsÐincluding offsets,
alignments, size-ratios, and constant sizesÐall of these constraints
are in factinstances ofsingletemplate y=a·x+b, where x,yare
anchors and a,bare rational constants. Mockdown instantiates
this template with concrete anchors from the input examples to
generate a set ofconstraint sketches, i.e. constraints where one or
bothofaandbareleftasparameters,asshownin Fig.2C.Similarly
totype-basedtemplateinstantiationinDaikon, Mockdown only
generates well-formed sketches, following domain-specific rules
thatreflectconstraintforms usedinreal-worldlayouts.Forexam-
ple, we generate an łoffsetž sketch hopper.left=turing.right+b,
butwedo not generatesketches hopper.left=a·turing.right or
hopper.left=turing.width+b,becauseedgeratiosandedge-width
relations are consideredill-formed.
Evenaftereliminatingill-formedsketches,thenumberofsketches
generatedforrealisticinputscanbeverylarge.Tofurtherprunethe
spaceofsketchesweobservethatreal-worldlayoutsplaceviews
withrespecttotheirimmediateparentsandneighbors.Forexam-
ple, inFig. 2we do not want to relate turing.right tobovik.left
becausethesetwoviewsarenotimmediateneighbors.Toformalize
this intuition, Mockdown builds avisibility graph at each level of
theviewhierarchy,andusesittogenerateconstraintsonlybetween
visibleedgesofparent-childorsibling-siblingviewpairs(twoedges
are considered visible if it is possible to draw a straight uninter-
rupted line between them). The visibility graph for our example is
shownin Fig.2B.Visibility-basedpruningreducesthenumberof
sketches generatedfor the IEEE example from 8820 to 576.
BayesianParameterInference. Foreachgeneratedsketch, Mock-
downnextlearnsitsparameters a,b,suchthattheresultingcon-
straint is satisfied for each input example. The major challenge
for parameterinferenceis noiseintheinputdata. Forexample,as
shown in Fig. 2A, the anchor turing.left has values 59.5px and
60.15px in the two examples. The intended margin for this view
isactually60px;however,mostusecasesforlayoutsynthesisin-
evitably introduce some amount of noise in the examples, either
duetouserinputorduetonumericalerrorduringrenderingand
653ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
Figure 2:Anoverview oftheconstraintinferenceprocess in Mockdown .
scraping(recallthatallnumbersinJavaScriptarerepresentedas
floats).Atraditional,Daikon-likeapproachwouldinstantiatethe
sketchturing.left=authors.left+bwithb=59.5giventhefirst
example,andthenwould falsifythissketchgivenbothexamples,
erroneouslyrejecting this desirable offsetconstraint.
Instead,Mockdown ’sBayesianparameterinference algorithm
turnseachsketchintoasetofcandidateconstraintsthatmatchthe
dataapproximately . To this end, Mockdown performs constrained
linearregression,andthensuggestscandidateparameters,drawn
fromadomain-specificpriordistribution,thatfallwithinaconfi-
denceintervalaboutthelinearfit.Inourexample,eventhoughthe
valueb=59.5fitsthedataperfectlyintheone-examplecase,our
prioronoffsetsconstrainsthemtobeintegers,andhenceparam-
eter inference produces two candidate values, b=59 andb=60
(seeFig. 2D).Mockdown also produces a confidence score for eachcandidatebasedonaBayesianlikelihoodmodel;inthiscaseboth
candidates have the score of 0 .5, since our offset prior has no pref-
erenceamongdifferentintegersandbothoffsetsfitthedataequally
well.Afteraddingthesecondexample,however,thevalue b=60
receives ahigher score,because nowitfitsthe data muchbetter.
2.3 GlobalInference
Layout synthesis must produce constraints that generalize to un-
seenpagesizes(withinacertainrange).Inourexample,theuser
expectstheconstraintsproducedby Mockdown tohaveasolutionÐ
i.e. to generate a placement for all views on the pageÐwhen the
page width ranges between 1280px and 1680px. Candidate con-
straints produced by local inference ( Fig. 2D) do not necessarily
satisfythiscriterionfor tworeasons.First,a subsetofconstraints
might be (approximately) satisfied by all provided examples, but
654Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
beunsatisfiable on unseen sizes. This happens most often when
constraints are inferred from one example: in Fig. 2D, given one
example,weinferboththefixedwidthconstraintsforprofiles,such
ashopper.width=340 and the fixed margin constraints between
them; these constraints together are unsatisfiable for any width
except 1200px. Second, due to noise, Mockdown sometimes infers
incompatibleconstraintcandidatesfromthesamesketch:forexam-
ple, the two offset constraints for turing.left with different values
ofbtogetherare unsatisfiable.
The goal of global inference to select an optimal subset of the
candidateconstraintsthatissatisfiableonarangeofsizesofinterest.
We consider a subset optimal if it maximizes the total confidence
scoreoftheconstraintset.Intuitively,wepreferlargerconstraint
sets to minimize the ambiguity in view placement, and among
incompatibleconstraintswepreferthosewithhigherconfidence
score,sincetheyaremorelikelytohavegeneratedthedata.Tofind
theoptimalsubset, Mockdown usesaMaxSMTsolver[ 12],toselect
the maximally satisfiable set of constraints on a random sample
of input dimensions from a user-specified range. Fig. 2E shows
that querying theMaxSMT solver with the candidates constraints
inferredfromoneexampleonfiveunseensizes(including1300x870)
leadstoeliminatingconstraintsIIandV,whichfixtheoutermargin.
This produces a layout that generalizes to a range of sizes, albeit
not in the way the user intended. With two examples, as shown in
Fig.2F,thefixedwidthconstraintIhasbeenrejectedbythelocal
phase, hence the only unsatisfiable subset of candidates is the two
fixed-margin constraints II and V; global inference picks constraint
Vsince ithas ahigher confidence score.
Hierarchical Decomposition. For layouts with many views, the
MaxSMTqueries canbecomputationallyintractable:globalinfer-
ence as described so far takes over 2 min for the simplified IEEE
layout and times out after 10 min on most real-world websites
inour experiments.To addressthischallenge, weonceagain take
advantageoflayout-specificintuition:incompatibleconstraintstyp-
ically appear within the same level of the view hierarchy. Based on
thisintuition, Mockdown ’shierarchicalglobalinference performs
constraintselection independentlyfor eachlevelof thehierarchy.
Forexample,in Fig.2Ealltheconflictingconstraintsarebetween
authorsanditsimmediatechildren( turing,hopper,andbovik),hence
there is no need to also consider the constraints between turing
anditschildren(photo,name,etc)inthesameMaxSMTquery.In
this example hierarchical inference reduces the solving time from
130secs to 90 secs.
3 LOCAL INFERENCE
The local inference phase of Mockdown takes as input a view
hierarchy and a set of input examples, and produces a set of candi-
date constraints . Aswe explained informally in Sec. 2.2, this phase
consistsofthreesteps:(1)detectingvisibilitybetweenviews;(2)gen-
erating a set of constraint sketches based on the view hierarchy and
visibility information; and (3) filling the sketches with concrete
numericparametersbasedoninputexamples.Sincethefirsttwo
steps are relatively straightforward, in this section we focus on the
thirdstep,noise-tolerant parameterinference.
Parameterinferencestartsfromasetofsketches S={s1,...,sN}
andasetofexamples E={e1,...,eM}.Hereeachsketch sisoftheformy=A·x+B,wherex,y∈XareanchorsandA,B∈P∪{0}are
unknown parameters to be instantiated (or 0 if the parameter does
not make sense for this pair of anchors); each example e∈X→Q
mapsanchorstoarationalvalues.Theoutputofparameterinfer-
enceisasetofcandidateconstraints C={c1,...,ck},whereeach c
isoftheform y=a·x+b(a,b∈Q),suchthat cboth(1)instantiates
asketch y=A·x+BfromS,and(2)approximatelymatchesthe
examplesE,i.e.∀e∈E.e[y]≈a·e[x]+b.Weformalizethemeaning
ofthis approximate matchbelowusing aBayesian model.
Example. Asarunningexamplefortherestofthissection,consider
a parameter inference problemwith a singlesketch child.width=
A·parent.width2and two examples E={e1,e2}, mapping the
values of (parent.width, child.width) to(100, 33) and(200, 67) ,
respectively.Assumethatthe trueintendedvalueof Ais1/3;you
canseethattheexamplesare noisyonaccountofbeingroundedto
the nearestwholepixel.
NaiveParameterInference. Thesimplestapproachtoparameter
inference is Daikon-style invariant detection [ 22]. That is, for each
sketch, initialize a candidate constraint from the first example,
andtheniteratethroughtheremainingexamples,discardingthe
candidate if a new example does not match. This simple approach,
however,failsinthepresenceofnoise:in ourrunningexample,it
would instantiate a=0.33 usinge1, and then rejectthis constraint
upon inspecting e2, because 0.33·200=66/nequal67 (this problem
arises even with precise rational arithmetic, and is exacerbated by
themorecommonfloating-pointarithmetic).Totacklethisissue
we develop anoise-tolerant parameterinference algorithm.
Bayesian Model. In thepresence of noise, wecannot require the
constraintsCto match the dataEexactly. Instead we need to find
parameter values that best explain the data. The simplest way to
formalizethisintuitionisasa linearregression problem, i.e.mini-
mizing the mean square error between the line y=a·x+band the
examplesinE.Althoughlinearregressioncanbeperformedeffi-
ciently using standard techniques, it rarely yields desirable results
inourdomain,becauseitreturnsarbitraryreal(inpractice,floating
point) numbers for aandb, whereas we want to bias the inference
towardssimplerationalparameters.Considerourrunningexample:
withaslightperturbationofinputvalues,linearregressionmight
returna=0.32323, which is very unlikely to be what the designer
intended, because the constant is too łcomplexž. Even if we round
this number to the closest rational with a denominator D≤100,
wewouldstillgetałcomplexžresult a=32/99insteadofamuch
simpler, and therefore preferable, result a=1/3, which fits the
dataonlyslightlyworse.Wecanformalizethistrade-offbetween
simplicity andfitusing aBayesian model.
In this formulation, our goal is to maximize the posterior proba-
bilityP(c|E)ofaconstraintgivendata,whichbytheBayes’law
isproportionaltothepriorprobability P(c)oftheconstraintand
its fitto data P(E|c):
P(c|E)∝P(c)·P(E|c) (1)
This problem is known as Bayesian linear regression . Here fit to
dataiseasytocomputeusingthemeansquareerrorbetweenthe
constraintandthedata: P(E|c)∝exp(−mse(c,E));thechallenge
2NotethatB=0isfixedinthissketch,because Mockdown ’ssketchgenerationphase
only considers ratio constraintsbetween widths.
655ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
istodefinetheprior P(c)suchthatitgivespreferencetosimpler
parameters, e.g.prefers 1/3over 32/99 inour running example.
SimplicityPrior. We formalizeourintuitivenotionof complexity
forarationalnumber qasitsStern-Brocotdepth ,orsb_depth(q).The
sb_depthofqisitsdepthinthe Stern-Brocottree [13,55],whichcan
beseenasagrammarforrepresentingallrationalnumbersasse-
quences of left/right steps: e.g.1/2=L, 1/3=LL, 2/3=LR, and so
on.Hence, sb_depthmeasuresthesizeofałprogramrepresentationž
of a rational and approximates its complexity, similarly to tradi-
tionalsize-basedcomplexitymetricsinprogramsynthesis.Inpartic-
ular, in our example sb_depth(1/3)=2 whilesb_depth(32/99)=16,
andhence the latter isconsideredmuchmore complex.
Conveniently sb_depth(q)is easy to compute: it is equal to the
sum of the continued fraction representation of q[26]. We can
therebyavoidcomputingortraversingtheStern-Brocottree, and
insteadmerelyprecomputethesetofallrationalswithdenominator
lessthansome D(ourimplementationuses D=100).Thissequence
isknownas a Fareysequence oforderD.
We define the overall prior P(y=a·x+b)=Pm(a)·Pa(b),
where the prior Pmfor multiplicative parameters is defined as
a minimum description length prior [ 48], using sb_depthas the
description length. The prior Pafor additive parameters is simpler:
itis uniformoverallintegervaluesandzeroonnon-integervalues.
Noise-TolerantParameterInference. Given our complex prior,
theBayesianlinearregressionproblem( 1)cannotbesolvedanalyti-
cally.Weproposeanalgorithmtosolvethisproblemefficientlybut
approximately,based ontwo domain-specific insights. First, there
is a unique model c∗(with parameters(a∗,b∗)) that maximizes the
datafitP(E|c∗),whichcanbefoundefficientlyusingtraditional
linear regression; since the posterior is proportional to the data
fit, we can search for its maximum in the vicinity of c∗. Second,
given our prior P(c), there are only finitely many parameters (a,b)
withanon-zeroprobabilityinanyboundedbox(because amust
bearationalwithmaximumdenominator D=100andbmustbe
aninteger).Basedontheseobservations, ouralgorithminfersthe
(approximately) optimal model cby first computing c∗based only
on the data fit, and then enumerating and scoring all pairs (a,b)
withnon-zeroprior that are sufficiently close to (a∗,b∗).
Ouralgorithmisdepictedin Fig.3.Line2performsleast-squares
linear regression, which is constrained by the sketch ( e.g.B=0
inourrunningexample),butignorestheprior.Regressionyields
threeoutputs:themodel c∗(i.e.apairofparameters (a∗,b∗)),the
meansquareerror msebetweenEandc∗,andaconfidenceinterval
conf_int. Themseis used to determine whether or not to reject the
sketch(onlines3-4):ifitislarge,indicatingthatourexamplesdonot
appear to fit a line, we reject thesketch. In our example, mse=0.3
and the sketch is accepted; however, with the addition of a third
datapointthatdoesnotcontinuetheline, e.g.parent.width = 300
andchild.width = 67 ,msewouldrise to 105 and the sketchwould
therefore be rejected.
Lines 6ś9 iterate over the relevant region of candidate param-
eters, score them according to the posterior, and store them in
scored_params.Wecomputetheregiontoiterateoverastheintersec-
tionofconf_intandparam_space,whichrepresentsparameterswith
non-zeroprior;aswearguedabove,thisintersectionisalwaysfinite.
In our running example, we obtain a conf_intof[0.3215,0.3385],1:procedure InferParameters (s,E)
2:c∗,mse,conf_int←constrained _linreg(s,E)
3:ifmse>cutoffthen
4: return[]
5:scored_params←[]
6:forc∈(conf_int∩param_space(s))do
7: score←P(c)·P(E|c)
8: Add(c,score)toscored_params.
9:returnscored_params
Figure 3:Noise-Tolerant ParameterInferencealgorithm.
whichyieldsasetofcandidatevaluesfortheparameter a,including:
32/99,33/100,andthe desired1 /3.
4 GLOBALINFERENCE
Thegoalof Mockdown ’sglobalphaseistopickasubset ofcan-
didate constraints that generalizes to unseen dimensions. More
formally, this phase takes as input a set of candidate constraints
Cand a score map score∈C→(0,1](both produced by the lo-
cal inference), as well as a set dims={(w1,h1),...,(wK,hK)}of
generalization dimensions , where each dimension (wj,hj)∈Q2is a
pairofwidthandheightoftherootview.Itcomputesa maximal
satisfiable subset ofC,i.e.asetC′⊆Csuch that:
(1)C′issatisfiable onalldimensions dims,i.e.∀(wj,hj)∈dims
there exists a substitution σj∈X→Qfor all anchors in
C′,suchthat σj[root.width]=wj,σj[root.height]=hjand
∀c∈C′.σj(c)holds.
(2)anysatisfiablesubset C′′hasatmostthesamescoreas C′:/summationtext.1{score[c]|c∈C′′}≤/summationtext.1{score[c]|c∈C′}.
4.1 Selecting Constraintswith MaxSMT
To select the maximal satisfiable subset of C,Mockdown relies on
aMaxSMT solver[12].Forourpurposes,aMaxSMT queryconsists
of quantifier-free formula ϕ, a set of boolean control variables bi,
and a map weightfrombito numeric weights. A MaxSAT solver
returns UNSATifϕis unsatisfiable, and otherwise returns a model
Mofϕwhich maximizes/summationtext.1{weight(bi)|M[bi]=true},i.e.the
totalweightofcontrolvariables setto true3.
We encode the problem of finding C′as a MaxSMT query. To
this end, we introduce the following variables:
(1)for each constraint ci∈ C, we introduce a boolean con-
trol variable biwithweight[bi]=score[ci];birepresents
whethercishould be includedin C′;
(2)foreachpairofanchor x∈Xanddimension(wj,hj)∈dims,
weintroducearationalvariable xjtorepresenttheplacement
ofanchor xunderthis dimension.
Next we construct the formula ϕas a conjunction of the following
sub-formulas:
(1)foreachdimension j:root.width j=wj∧root.height j=hj;
(2)foreachconstraint ianddimension j:bi⇒cj
i,wherecj
iis
the constraint ciwitheachanchor xreplacedby xj;
3Alternatively,aMaxSMTsolvercanalsobeusedtooptimizeagivenobjectivefunction
subject to alogical formula; weuse thisfunctionality in the next section.
656Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
1:procedure SynthHier (C,dims,score)
2:worklist←[(root,dims)]
3:C′←{}
4:whileworklist/nequal[]do
5: (focus,dims f)←worklist.pop
6:Cf←restrict(focus,C)
7:C′
f←select(Cf,focus,dimsf,score)
8:C′←C′∪C′
f
9: forchild∈children(focus) do
10: dimsc←calc_dims(focus,dimsf,child,C′)
11: worklist.push((child,dimsc))
12:returnC′
Figure 4: Mockdown Globalgeneralizationalgorithm
(3)finally, we add domain-specific facts about anchors, such as
xj>=0 andx.widthj=x.rightj−x.leftj.
Given this query, the solver attempts to find a placement for all
anchorsundereachdimensionin dimsthatsatisfiesconstraintsin
C; if it cannot satisfy all the constraints, it is free to set some bi
tofalse,renderingallformulasoftheform bi⇒cj
ivacuous,and
effectively disabling the constraint ci. When the solver returns a
modelM, we compute the result C′as the set of all constraints
whose corresponding control variables are set to true: C′={ci|
M[bi]=true}. This set is satisfiable because by construction of
ϕweknowthat ∀ci∈C′,M(cj
i)holds,andhencewecanextract
the substitution σjfrom the modelMby taking σj[x]=M[xj]
for every anchor x. This set is also maximal because the solver
guarantees to maximize the total weight of control variables set to
true,whichisequal to the totalscore ofchosenconstraints.
4.2 Hierarchical Decomposition
WhiletheMaxSMTencodingof Sec.4.1issimpleandworkswell
forsmalllayouts,itisintractableonrealisticweblayouts,sincethe
queryϕbecomestoolargetosolveefficiently.Toimproveperfor-
mance,weleverageacommonlayoutdesignprincipleinwhichthe
layout of aview is determined onlyby the layout of its immediate
parent and siblings. Based on this principle, we can decompose the
global MaxSMT query into smaller queries for individual levels of
the view hierarchy. More specifically, instead of solving the global
queryϕ, which specifies the layout of all anchors X, our algorithm
iteratively solves sub-queries ϕxfor each anchor x∈X, where
ϕxonly specifies the layout of the direct children of x, and so is
generallymuchsmaller(andthussignificantlyeasiertosolve)than
the global ϕ.We present this algorithm in Fig. 4.
Thealgorithmmaintainsaworklistofsub-problems,whereeach
subproblem is represented as a pair (focus,dimsf)of afocus view
anditsgeneralizationdimensions.Theworklistisinitializedwith
the root view rootand input dimensions dims. In each iteration,
the algorithmpicks a sub-problem (focus,dimsf)fromtheworklist,
and computes the set C′
f, which is the maximal subset of layout
constraintsforthe directchildren offocussatisfiableacross dimsf.To
thisend, restrict(focus,C)picksoutthesetCf⊆Cofcandidate
constraintsthatmentiontheanchorsofthedirectchildrenof focus,
andselect(Cf,focus,dimsf,score)invokestheMaxSMTconstraint
selectionprocedurefrom Sec.4.1,restrictedtothecandidates Cfand using focusas the root view. The algorithm then adds the
selected constraints C′
fto the output. Finally, lines 9ś11 add a new
sub-problem to the worklist for eachdirectchildof focus.
In this last step, the challenge is to pick the right generalization
dimensions dimscforthesub-problemrootedat child.Iftherangeof
dimensions is too narrow, the algorithm might return a set C′that
isnotactuallysatisfiable;iftherangeistoobroad,thealgorithm
mightreturnasetthatisnotmaximal.Toaddressthischallenge,
we again use a MaxSMT solver to calculate the lower and upper
boundonthedimensionsof child,giventhecurrentlychosenlayout
constraintsC′. For example, to calculate the upper bound, the
algorithmcreatesaMaxSMTquerywiththemaximizationobjective
(child.width,child.height),subject toC′andtheupperbound on
the dimensions of the parent focus. The dimensions dimscare then
chosenatequalintervals between the lowerandthe upperbound.
We encode this query inthe function calc_dimsinline10.
5 EVALUATION
Mockdown is implemented in Python [ 41,45,51,61] and Type-
Script.WeuseZ3version4.8.7[ 12,17]asaMaxSMTsolveranda
wrapper4aroundtheKiwi[ 49]forkofCassowary(inJavaScript)as
the constraint layout engine. Our implementation5and our bench-
marksandanalysisscripts6are open andpubliclyavailable.
ResearchQuestions. Inourevaluation,weseekanswersforthe
following researchquestions.
(RQ1)DoesMockdown enablelayoutsynthesisforabroadvariety
ofwebapplications?
(RQ2)Is noise-tolerant inference necessary for layout inference?
(RQ3)Does hierarchical decomposition help Mockdown to scale
withlayoutsize?
(RQ4)How general is Mockdown ,i.e.is it applicable to domains
beyondthe web?
5.1 BenchmarksandMetrics
Benchmarks. Weevaluate Mockdown onacombinationofbench-
marks from previous tools in the literature and our own curated
benchmark suite. One challenge in evaluating a tool like Mock-
downis assessing its behavior on websites of realistic scale and
structure.Wecollectourrealisticbenchmarksfromexistingweb-
pagesusingawebscraperimplementedinJavaScript7,whichre-
turnsaJSONintheformatshownin Fig.2.Welikewisetranslate
benchmarks from previous tools into this JSON format. For RQ1,
RQ2,andRQ3,weevaluate Mockdown on(1)asetofreal,fullweb-
pages (macrobenchmarks), and(2) microbenchmarks, smallbench-
marks that test specific aspects of layout synthesis. For RQ4, we
additionally use a suite of Android layouts from the literature [ 36].
Macrobenchmarks. Wecollectedasetof ninereal-worldwebsites,
listedinTab.1,usingourscraper.Foreachwebpage,weidentifieda
rangeofpagesizesinwhichthelayoutbehaveslinearly,andscraped
examples within this range. The dimensions for both train and test
exampleswereselectedrandomlywithintherange.Ourbenchmark
websitescoveravarietyofapplications: authorisapersonalpage
4https://github.com/MangoTeam/mockdown-client
5https://github.com/MangoTeam/mockdown
6https://github.com/MangoTeam/replication-package
7https://github.com/MangoTeam/auto-mock
657ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
ofone oftheauthors[ 5],the three fwt-benchmarksare samples
fromtheFreeWebTemplatescollection[ 6],ddgistheDuckDuckGo
searchengine[ 62],hnistheHackerNewsnewssite[ 3],aceisthe
Acecodeeditor[ 2],conference isasoftware-engineeringconference
website [4],ieeexplore is thefullIEEE Explore website [ 1], which
we present in simplified form in Sec. 2. The number of views in
these websites range from 48 ( fwt-running ) to over 600 ( hn), which
isoveranorderof magnitudelarger thanlayoutshandledbyprior
work[11].Eachwebsitewasscrapedat20differentsizeswith10
designatedas training examplesand10 as test examples.
Microbenchmarks. We assembled two groups of microbench-
marks:synthetic (repetitive,programmaticallygeneratedlayouts)
andextracted (sub-layoutsofthemacrobenchmarks).Theextracted
microbenchmarks were systematically constructed by 1) taking
each macrobenchmark (a real website) and 2) extracting all its sub-
stantialsublayouts.Forexample,fortheIEEEXplorewebsite,the
microbenchmarks extracted are the navigation top bar, search bar,
collection of authors, featured news, featured articles, upcoming
conferences,and website footer.In order totestRQ3 (hierarchical
scaling)weselectedasubsetofextractedmicrobenchmarks(named
hierarchical )inwhichthetop-levelelementisaone-dimensional
grid,andthe subelements rangeincomplexityfrom1to 23views,
with a nesting depth of 1 to 7 levels. An array of elements is a com-
monlayoutdesignpattern,whichwaspresentinseveralformsin
manyofourbenchmarks.Forexample,fortheIEEEXplorewebsite,
boththecollectionofauthorsandtheupcomingconferencesare
arrays.Mockdown scalesbyhierarchicaldecompositionandarray
elements are siblings in the layout hierarchy, so the hierarchical
benchmarks demonstrate the impact of hierarchical decomposition
onthe overallperformance ofthe algorithm.
Thenumbersandsizesofbenchmarksineachgrouparelisted
inTab. 2; each microbenchmark has roughly analogous complexity
to the evaluation ofprior work [ 11].
Numeric noise. Numeric noise can come from several different
sources,suchasapproximatingarationalratiousingfinite-precision
numbers (such as floating-point), quirks in the device-specific ren-
deringengine,andnumericalerrorsinfloatingpointarithmetic.As
demonstratedinourevaluation( Sec.5.3)real-worldlayoutshave
numeric noiseandcause noise-intolerantsynthesis to fail.
Metrics. Weevaluatethequalityofinferredlayoutsbyusingthe
synthesized constraints to predict the placement of views at the
pagesizesdesignatedfortesting,anddirectlycomparingthesepixel
dimensions to the original ground-truth view (which is scraped
from either a browser or an Android device, depending on the
dataset). We use twodifferentmetrics to quantify layoutquality:
(1)RMSD:the root-mean-squared deviation of view corners
from the original placement to our computed placement, averaged
overviewsinthetestset.RMSDcapturesthepixeldifferencebe-
tweenapredictedrenderingandactualrenderingwithmoreweight
towardsoutliers;forexample,arenderingwithRMSDunder1is
visuallyindistinguishablefromtheoriginal,whilearenderingwith
RMSDover 5wouldlook differentto an averageviewer.
(2)Accuracy: percentageofviewsplacedwithinapixelofthe
originalview.Thoughusedinpriorwork[ 11,36],itcanbemislead-
ing as a layout with low accuracy but low RMSD can be visually
more similarto the original than one with highaccuracy but highRMSD.IncontrastRMSD doescapturelook-and-feelequivalence,
soaccuracyismainly useful for comparison when RMSDislow.
5.2 RQ1:ApplicabilitytoRealisticApplications
For each macro- and microbenchmark, we run Mockdown on the
training examples to synthesize constraints. We then pass these
constraints to the Kiwi layout engine along with the page sizes
fromthetestexamples,whichgivesusacomputedplacementfor
each of the test examples. We compare these computed placements
to the original scraped placements at the test example sizes. For
the microbenchmarks we set a synthesis timeout of 2 minutes and
for the macrobenchmarks we set a timeout of 30 minutes . Since
synthesistimesmightvaryfromruntorun,weraneachexperiment
threetimes andaveragedrunning times.
For each benchmark, we measure the size of the benchmark
(numberofviews)aswell asthefollowing metrics:(1) AvgRMSD :
becauseRMSDissensitivetopagedimension,weaverageitover
testing dimensions, (2) Accuracy as defined in the previous subsec-
tion,(3)Synthtime :thetime Mockdown takestosynthesizethe
layout,(4)The numberofconstraints inMockdown ’soutput,and
(5)Resizetime :thetimeforKiwitocalculateanewplacementat
page resize time,averagedover the test set.This metricneedsto
be lowbecauselayoutsaremeant tobe interactive andthelayout
wouldbe recomputedwhen the userresizedtheir window.
We performed this experiment twice, once with 3 training ex-
amples and once with 10 training examples, in order to measure
theeffectofthenumberoftrainingexampleson Mockdown .Both
experiments were evaluatedon10 testingexamples.
Results. The results for the macrobenchmarks are given in Tab. 1
andfor microbenchmarksin Tab.2.Overall, Mockdown success-
fully finds a layout for all microbenchmarks and for most mac-
robenchmarks,onlytimingouton conference ,the3-example author,
and the 3-example ace. Moreover, independently of the number of
training examples, the synthesized layouts closely match the origi-
nal applications, with all RMSDs below 1. In addition, the accuracy
is also relatively high: above 70% for all benchmarks except hn.
Notice however that for hn,Mockdown still closely replicates the
visuallookoftheoriginallayout(seethelowRMSD)andindeed
the two layouts are almost identical to a visual inspection. It is not
clear why the accuracy would be low for hnin particular but it
couldbeduetoroundingerrorfromsolving6000constraints.We
omitresizetime intheinterestofspace:allresizetimesarebelow
0.0004seconds(andallbut hnarebelow0.0001seconds),indicating
that synthesized layouts can be used in an interactive setting with
dynamicresizing.Tosumup,weanswerRQ1 intheaffirmative ś
Mockdown synthesizes layouts that closely match the application
for manyrealistic webapplications.
5.3 RQ2: Noise Tolerance
To evaluate the utility of noise-tolerant local inference and the
impactofourinductivebiasesoferrorandsimplicity,weperforman
ablationstudycomparingthreedifferentlocalinferencealgorithms:
baseline :thisisarigidDaikon-styletemplateinstantiationalgo-
rithmwhichinstantiatesinvariantsdirectly fromtheinput
data,as describedin Sec. 3.
658Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
Table 1:Performanceof Mockdown on macrobenchmarks.
BenchmarkNumber NumberofTimeouts RMS(avg) AccuracyNumberof Synthesis
ofviews Examples constraints time(s)
fwt-running 483 0% 0.26 100% 477 81
10 0% 0.19 100% 503 40
author 563 100% - - - -
10 0% 0.58 77% 626 608
ddg 573 0% 0.30 100% 540 41
10 0% 0.25 100% 543 41
fwt-space 633 0% 0.23 99% 731 103
10 0% 0.21 97% 748 49
ace 1113 100% - - - -
10 0% 0.35 90% 1047 110
fwt-main 1743 0% 0.34 93% 1719 301
10 0% 0.38 86% 1713 134
conference 2563 100% - - - -
10 100% - - - -
ieeexplore 2853 0% 0.37 96% 2793 506
10 0% 0.38 94% 2811 241
hn 6143 0% 0.68 47% 6417 1689
10 0% 0.64 50% 6430 781
Table2:Averageperformanceof Mockdown oneachgroup
ofmicrobenchmarks.
GroupNumber of Number of Number ofTimeoutsRMSAccuracyNumber of Synthesis
benchmarks views (avg) examples (avg) constraints time (s)
Synthetic 5 53 0% 0.00 100% 34 9
10 0% 0.00 100% 34 9
Extracted 55 363 9% 0.34 96% 127 12
10 8% 0.33 96% 137 12
nt-none:this implements the noise-tolerant template instantia-
tion but does not output confidence scores that guide global
inference.
nt-all:thisimplementsthefullnoise-tolerantinferencealgorithm
withconfidence scores basedonsimplicity anderror.
We ran each algorithm on the full microbenchmarks set and
collected(1)Synthesistime,(2)Accuracy,and(3)RMSDerror,as
definedabove.Ourexperimentalsetupissimilarto Sec.5.2:weuse
3and10trainingexamplesandsetasynthesistimeoutof3minutes.
Weraneachbenchmarkthreetimes,andourplotspresentalltrials
ratherthanaggregating eachindividualbenchmark.
Results. Fig. 5presents RMSD and accuracy, and Fig. 6presents
synthesis times for theseexperiments.
Thebaselinealgorithmisbrittleinthepresenceofnumericnoise
and so cannot be used for synthesis of realistic web layouts. As
seeninFig.5a, 24of the192 trials(64microbenchmarks at 3 trials
each)for3trainingexampleshaveveryhighRMSDerror(above
10). When given 10 training examples ( Fig. 5b)baselinedoes even
worse,with30of192trialswithahaveveryhighRMSDerror.This
is because with more training samples a necessary constraint is
morelikelytoberuledoutduetonoise,leadingtosomeanchors
beingcompletelyunconstrainedandthusrenderedveryfarfrom
theirintendedposition.Bothnoise-tolerantvariants, nt-noneand
nt-all,alleviatethebrittlenessandachievelowerror.While nt-none
is visually similar to the original layout, it does not consider the
qualityofcandidateconstraints,andthislackofbiasintheselection
of the layout invariants results in a lower accuracy than that of
(a)3trainingexamples
(b) 10 trainingexamples
Figure5:AblationstudyofErrorandAccuracyfordifferent
noise-toleranceapproaches.
(a)3trainingexamples
 (b) 10 trainingexamples
Figure 6: Ablation study of Synthesis time for different
noise-toleranceapproaches.
baseline, as seen in Fig. 5aandFig. 5b. The full noise-tolerant
inferencealgorithmusesinductivebiastopickinvariants,which
improves the quality of the selected invariants, as demonstrated by
the improvement inboth accuracyandRMSDerrorin nt-all.
Withregardstosynthesistime( Fig.6),noise-tolerancehasan
overhead,and nt-noneandnt-allareslowerthanthenativebase-
linealgorithm.Thisisbecausethebaselinealgorithminfersstrictly
fewer candidate invariants. The difference between nt-noneand
nt-allisnegligible,whichindicatesthebiasesdonotimpedeper-
formance.Withmoretrainingexamples,thedifferencebetweenthe
baseline performance and the noise-tolerant performance narrows,
as additional examples focus the inductive bias of noise-tolerant
inference,resultinginfewer candidate invariants.
Tosumup,weanswerRQ2 intheaffirmative: noise-tolerant
inference is necessary for layout inference as it allows Mockdown
to always find precise constraints and achieve a low error. This
does come withaperformance overhead, but not alarge one.
5.4 RQ3: Scaling
To testhow Mockdown scaleswiththesizeofthelayout,we use
thehierarchical microbenchmarks, which have a one-dimensional
gridlayout.Foreachofthesegridmicrobenchmarks,wegenerate
variantsofdifferentsizesbytruncatingthegridafter nelements,
withnranging from one to ten (or the original size, whichever
659ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
is smaller). We then run two variants of Mockdown : the origi-
nalversion hierwithhierarchicalgloballearning,asdescribedin
Sec. 4and a łflatž version flatthat does not perform hierarchi-
cal decomposition and instead performs global inference with a
singleMaxSMTquery.Foreachgridbenchmarkandtoolvariant
we measure synthesis time on 4 training examples. We ran each
experiment five times and average the results for each benchmark.
Results. We present the results in Fig. 7. Overall we find that
hieroutperforms flat, sometimes drastically. On almost half of
ourbenchmarks(5of11),bothvariantsfinishquicklyandsothe
synthesis time is comparable. This is because these benchmarks
arerelativelysimplesodecompositiondoesnotprovideabenefit.
On all of the remaining 6 benchmarks hierperforms strictly better
forallsizes,scaling linearlyinthenumberofelementsinthearray,
and with the exception of hn-posts-ten decomposition results in
tractable subproblems. Even in this case hieroutperforms flat
(which cannot make progress at all) ś this is because each array
itemis itselfcomplex anddeeplynested withanelementsizeand
depthof23and6.Moregenerally hierreducesthesynthesistask
to the hardest subproblem. By contrast, flatattempts to solve a
single global task and so becomes intractable from a certain size
in 5 benchmarks. We therefore answer RQ3 in the affirmative :
hierarchical deconstruction is crucial for synthesizing web layouts.
5.5 RQ4: Generality
In this experiment we evaluate whether Mockdown still performs
well when input examples are not generated by our scraper, and
more generally, are not from the web domain. To this end, we
usethe benchmarksuite fromthelatest versionof thelayoutsyn-
thesizerInferUI[36]. The suite consists of 644 Android layouts
andisasubsetofthepopularRicodataset[ 18].ForeachAndroid
application, the dataset contains layout renderings at 3 different di-
mensions.Weevaluated Mockdown usingtwooftheselayoutsasa
trainingsampleandthethirdasatestsample.WemeasuredRMSD,
Accuracy,SynthesisTime,andResizeTime(allasdefinedabove)
with asynthesis timeout of 3 minutes, and we ran the experiment
3times to collectaggregate data.
Results. We present RMSD and accuracy in Fig. 8. Overall, Mock-
downperformswellonthesebenchmarks,synthesizinganindis-
tinguishable layout (RMSD less than 5) for 545 of 644 Android
apps, (and anaccuratelayoutfor 538of them). Of the remaining99
apps, 75 time out. There are two potential causes for this. First, the
structureofappsinthe InferUIdatasetisflattened,sohierarchical
decompositionisnotapplicable.Second,the2trainingexamples
cause local inference to produce many more candidate constraints.
We do not report a direct comparison between Mockdown and
InferUIbecause the techniques are complementary. InferUIis
designed to synthesize layouts from a single example and relies
on Android-specific biases to deal with the resulting ambiguity.
Mockdown on the other hand is designed to be more domain-
general, and henceisunable toproduce good-qualityresults from
justoneexample.Running Mockdown onasingleexampleresulted
insignificantly worse results thanthosereportedfor InferUI.
Nevertheless,wefinditencouragingthatjustasingleadditional
input example already allows Mockdown to produce highly accu-
rateresultswithoutrelyingonAndroid-specificdomainknowledge.Tosumup,weanswerRQ4 inthe affirmative: Mockdown suc-
cessfullysynthesizes layoutsforAndroidapplicationsusinginput
examples from an existing dataset.
5.6 Threatsto Validity
Themainthreattovalidityforourexperimentsistheirorigin.First,
some of our microbenchmarks are generated synthetically, though
wehavetriedtocounterthisbygeneratingrepresentationsofcom-
monlayoutidioms(e.g.,acenterpanelwithfixedmargins).Second,
our macrobenchmarks and by extension the extracted set of mi-
crobenchmarksarescrapedfromexistingwebsites.Thenumeric
noisethatexistsinscrapedlayouts(e.g.,noiseduetorounding)rep-
resentsonlyonesourceofdatafor Mockdown ,andmaynotmatch
thetypeofnoisethatwillappearinlayoutsbuiltbyadesignerina
direct manipulation tool. In principle, Mockdown ’s noise-tolerant
local inference should be able to handle that kind of noise as well,
butweleave theempiricalevaluaitonofthisclaimtofuturework.
6 DISCUSSION
Unsupported layouts. Our results indicate that high errors co-
incide with longer synthesis times or timeouts. This is often the
caseinlayoutsthatrequireconstraintsthat Mockdown doesnot
support, such as constraints for aspect-ratios or constraints for
rendering text. The unsupported constraint would not be found
inthelocalinferencephase,leavingglobalinferencetopickfrom
manypoorcandidates, makingits work more time consuming.
Additionalexamples. Unlike many works in example-based syn-
thesis[28],Mockdown speedsupwhengivenmoreexamples.This
isabenefitofthedivisionoflaborbetweenlocalandglobalinfer-
ence:moreexamplesruleoutmoreconstraintsatthelocalphase,
resultinginfewer inputsto the globalphase.
The cost of noise. Mockdown ’s noise tolerance increases the
numberofcandidateconstraintstobeconsideredbyglobalinfer-
ence,whichimpactsperformance.However,webelievethemore
accuratelayoutsareworththelongersynthesistimes.Mostrealistic
inputs,whetherderivedbyscrapingordirectmanipulation,contain
noise,makinghandling noisyinputscrucial.
Success of decomposition. Hierarchical decomposition proved
usefulinisolation,makingcomponentslikegridstractable.How-
ever,whensynthesizingfullwebpagesthisstillmaynotbeenough.
Since hierarchical decomposition handles the relation between
neighboringcomponents,itisasefficientasitshardestsubtask( i.e.,
the viewwiththe mostdirectchildren).
7 RELATED WORK
InferUI .The closest work to ours is InferUI[11,36], which syn-
thesizesconstraint-basedAndroidlayoutsfromasingleexample.
In the original work [ 11]InferUIreduces synthesis to a single
SMT query that requires the layout to (1) precisely match the
example and (2) satisfy a set of robustness properties on unseen
sizes (e.g. łviews do not overlapž, łviews fit on screenž). To im-
proveefficiency, InferUIusesaprobabilisticmodellearnedfrom
660Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
(a)Hierarchical
 (b) Flat
Figure 7: Synthesis time in seconds of Hierarchical and Flat global generalization algorithms as a function of the number of
elements inagrid-based layout. Lowerisbetter.
Figure 8: Mockdown ’s Error and Accuracy on Android lay-
outs.
programmer-written layouts. In the followup work [ 36], the hand-
crafted robustness properties and the probabilistic model are re-
placed with a learned neural model thatstrengthens the synthesis
specification withan additional, predictedexample.
At a high-level, the difference between both InferUItechniques
andMockdown is thatInferUIuses adomain-specific bias (either
hand-crafted or learned) to synthesize simpleAndroid layouts (up
to 20 views) from a singleinput, while Mockdown synthesizes
domain-general andcomplexlayouts (up to hundreds of views)
frommultipleinputs.InferUIhasnomechanismtohandle noise
in the input examples (though their layout dataset does contain
noisyinputs).Noisydatadoesnotimpact InferUIasmuchbecause
whenlearningfromoneexample,thesynthesizercaninstantiate
templateswiththenoisydataandproducecandidateconstraints
(albeitwithslightlyincorrectcoefficients).Incontrast,withmultiple
examples noisy data is problematic because the correct constraint
template isrejectedoutrightas itcannotfitthe noisydata.
We consider Mockdown complementary to InferUI: our ap-
proachismoregeneral,atthecostofrequiringafewmoreexamples
fromtheuser.Aninterestingdirectionoffutureworkistocombine
Mockdown ’s noise-tolerant, hierarchical inference engine with
InferUI’stechniques for incorporatingdomain-specific bias.
Visual Layout Synthesis. Other tools that assist users with cre-
ating GUIs either donot take the example-basedapproach [ 31,34,
35,63], focus on aspects of GUI other than the visual layout [ 8,60]
or generate static, vector-graphics-level layouts from images or
hand drawings [ 10,15,16,56].Mockdown could complement the
latter line of work by further generalizing the output of such tools
intoaresizable,constraint-basedlayout.Arelatedareaissynthesis
of graphics programs from images [ 21,42,57], which focuses on
recognizing repetitive patterns in images, and typically considers a
small number of visual elements (so scalability is less of a concern).ConstraintInference. Daikon[22,44]haspioneeredthetemplate-
basedconstraintinferencetechniquethatourlocalinferencebuilds
upon;Mockdown enhancesthistechniquewithdomain-specific
optimizationssuchasvisibility-guidedtemplateinstantiationand
statisticalparameterinference.Thereisarichbodyofworkondata-
driven inference of inductive loop invariants [ 24,25,38,43,52,64].
Althoughthesetechniquesalsoinferlinearrelationsfromdata, the
setting is very different: invariant inference assumes abundance
of data and ability togenerate counter-examples, so the challenge
is to efficiently find constraints that precisely fit the data, while
generalization to unseen data isnot an issue.
Program Synthesis. Programsynthesisfromexampleshasbeen
usedtoautomatetasksinmanydomains,suchasdatawrangling[ 20,
29,37] and web scraping [ 7,14,32,46].Mockdown ’s global infer-
ence technique is based on symbolic program synthesis [33,54,59],
whichusesaconstraintsolver[ 17]tosearchthespaceofprograms.
MaxSATand MaxSMT[ 12] solvershavebeenusedfor optimalpro-
gram synthesis, e.g. in [ 9,23]. Some program synthesis techniques
are capable of handling noisy examples [19,30,47,53], but most
are geared towards detecting outliers (a few completely wrong ex-
amples),whereas Mockdown needstobe tolerant againsta small
amount of noise in each example. The only work we are aware
ofthathandlesnoisedistributedoveralargeportionofexamples
is[30],butthistechniqueisspecifictoVersion-SpaceAlgebrasand
isnot applicable to constraint-basedlayoutsynthesis.
ACKNOWLEDGMENTS
We thank anonymous reviewers for their comments on the earlier
draftsofthiswork.ThisworkwassupportedbytheNationalSci-
ence Foundationunder GrantsNo. 1911149,1943623, and1955457.
REFERENCES
[1] [n.d.]. https://ieeexplore.ieee.org
[2] [n.d.]. https://ace.c9.io/
[3] [n.d.]. Hacker News. https://news.ycombinator.com/
[4] [n.d.]. ICSE2021 Homepage. https://conf.researchr.org/home/icse-2021
[5] [n.d.]. John Sarracino. https://www.cs.cornell.edu/~jsarracino/
[6]2020. Free Website Templates. https://freewebsitetemplates.com/ . [Online;
accessed 28-August-2020].
[7]Kartik Bajaj, Karthik Pattabiraman, and Ali Mesbah. 2015. Synthesizing Web Ele-
mentLocators(T).In 201530thIEEE/ACMInternationalConferenceonAutomated
SoftwareEngineering (ASE) . IEEE,331ś341.
661ESEC/FSE ’21, August 23–28, 2021,Athens,Greece Dylan Lukes,John Sarracino,CoraColeman,HilaPeleg, Sorin Lerner,andNadia Polikarpova
[8]Mohammad Bajammal, DavoodMazinanian, and Ali Mesbah. 2018. Generating
reusablewebcomponentsfrommockups.In 201833rdIEEE/ACMInternational
Conference onAutomatedSoftwareEngineering (ASE) . IEEE,601ś611.
[9]Shraddha Barke, RoseKunkel, NadiaPolikarpova,EricMeinhardt, EricBakovic,
andLeonBergen.2019. Constraint-basedLearningofPhonologicalProcesses.
InProceedingsofthe 2019Conference onEmpiricalMethodsinNatural Language
Processingandthe9thInternationalJointConferenceonNaturalLanguageProcess-
ing,EMNLP-IJCNLP2019,HongKong,China,November3-7,2019 ,KentaroInui,
Jing Jiang,Vincent Ng, and XiaojunWan(Eds.).Associationfor Computational
Linguistics,6175ś6185.
[10]Tony Beltramelli. 2017. pix2code: Generating Code from a Graphical User
Interface Screenshot. CoRRabs/1705.07962 (2017). arXiv: 1705.07962 http:
//arxiv.org/abs/1705.07962
[11]Pavol Bielik, Marc Fischer, and Martin Vechev. 2018. Robust relational layout
synthesisfromexamples forAndroid. Proceedings ofthe ACMonProgramming
Languages 2,OOPSLA (2018), 1ś29.
[12]Nikolaj Bjùrner, Anh-Dung Phan, and Lars Fleckenstein. 2015. νZ - An Opti-
mizing SMT Solver. In Tools and Algorithms for the Construction and Analysis of
Systems, ChristelBaierand CesareTinelli (Eds.).194ś199.
[13]Achille Brocot. 1862. Calcul des rouages par approximation: nouvelle méthode . A.
Brocot.
[14]Sarah E Chasins, Maria Mueller, and Rastislav Bodik. 2018. Rousillon: Scrap-
ingDistributedHierarchicalWebData.In Proceedingsofthe31stAnnualACM
SymposiumonUser InterfaceSoftwareand Technology . 963ś975.
[15]C. Chen, T. Su, G. Meng, Z. Xing, and Y. Liu. 2018. From UI Design Image to GUI
Skeleton:ANeuralMachineTranslatortoBootstrapMobileGUIImplementation.
In2018IEEE/ACM40thInternationalConferenceonSoftwareEngineering(ICSE) .
665ś676.
[16]Alex Corrado, AveryLamp,Brendan Walsh, Edward Aryee,Erica Yuen,George
Matthews, Jen Madiedo, Jeremie Laval, LuisTorres, Maddy Leger, Paris Hsu,
Patrick Chen, Tim Rait, Seth Chong, Wjdan Alharthi, and Xiao Tu. 2018. Ink to
Code.https://www.microsoft.com/en-us/garage/profiles/ink-to-code/
[17]Leonardo Mendonça de Moura and Nikolaj Bjùrner. 2008. Z3: An Efficient SMT
Solver. In TACAS (LNCS,Vol.4963) . Springer, 337ś340.
[18]BiplabDeka,ZifengHuang,ChadFranzen,JoshuaHibschman,DanielAfergan,
YangLi,JeffreyNichols,andRanjithaKumar.2017. Rico:Amobileappdataset
forbuildingdata-drivendesignapplications.In Proceedingsofthe30thAnnual
ACMSymposiumonUser InterfaceSoftwareand Technology . 845ś854.
[19]JacobDevlin,JonathanUesato,SuryaBhupatiraju,RishabhSingh,Abdel-rahman
Mohamed,andPushmeetKohli.2017. RobustFill:NeuralProgramLearningunder
NoisyI/O.In Proceedingsofthe34thInternationalConferenceonMachineLearning,
ICML 2017, Sydney, NSW, Australia,6-11August 2017 . 990ś998.
[20]Ian Drosos,Titus Barik, Philip J. Guo, RobertDeLine, andSumit Gulwani.2020.
Wrex:AUnifiedProgramming-by-ExampleInteractionforSynthesizingReadable
Code for Data Scientists. In Proceedings of the 2020 CHI Conference on Human
Factors in Computing Systems (Honolulu, HI, USA) (CHI ’20). Association for
Computing Machinery, New York, NY, USA, 1ś12. https://doi.org/10.1145/
3313831.3376442
[21]KevinEllis,DanielRitchie,ArmandoSolar-Lezama,andJoshTenenbaum.2018.
Learning to Infer Graphics Programs from Hand-Drawn Images. In Advances
in Neural Information Processing Systems 31: Annual Conference on Neural
Information Processing Systems 2018, NeurIPS 2018, 3-8 December 2018, Mon-
tréal,Canada .6062ś6071. http://papers.nips.cc/paper/7845-learning-to-infer-
graphics-programs-from-hand-drawn-images
[22]Michael D. Ernst, Jeff H. Perkins, Philip J. Guo, Stephen McCamant, Carlos
Pacheco, Matthew S. Tschantz, and Chen Xiao. 2007. The Daikon System for
DynamicDetectionofLikelyInvariants. Sci.Comput.Program. 69,1-3(Dec.2007),
35ś45.https://doi.org/10.1016/j.scico.2007.01.015
[23]Yu Feng, Osbert Bastani, Ruben Martins, Isil Dillig, and Saswat Anand. 2017. Au-
tomatedSynthesisofSemanticMalwareSignaturesusingMaximumSatisfiability.
In24thAnnual Network and Distributed SystemSecuritySymposium, NDSS 2017,
San Diego,California, USA, February26 -March 1, 2017 .
[24]PranavGarg, ChristofLöding, P.Madhusudan, andDanielNeider. 2014. ICE:A
Robust Framework for Learning Invariants. In Computer Aided Verification - 26th
InternationalConference,CAV2014,HeldasPartoftheViennaSummerofLogic,
VSL2014, Vienna, Austria, July 18-22, 2014. Proceedings . 69ś87.
[25]Pranav Garg, Daniel Neider, P. Madhusudan, and Dan Roth. 2016. Learning
invariantsusingdecisiontreesandimplicationcounterexamples.In Proceedingsof
the43rdAnnualACMSIGPLAN-SIGACTSymposiumonPrinciplesofProgramming
Languages, POPL 2016, St.Petersburg, FL,USA, January20 -22,2016 . 499ś512.
[26]Ronald L. Graham, Donald E. Knuth, and Oren Patashnik. 1994. Concrete Mathe-
matics:AFoundationforComputerScience (2nded.). Addison-WesleyLongman
Publishing Co., Inc.,USA.
[27]Dawn Griffiths and David Griffiths. 2017. Head first Android development: A
brain-friendly guide . " O’ReillyMedia,Inc.".
[28]SumitGulwani. 2016. Programming by Examples - anditsapplicationsin Data
Wrangling. In Dependable Software Systems Engineering , Javier Esparza, Orna
Grumberg, and Salomon Sickert (Eds.). NATO Science for Peace and SecuritySeries-D:InformationandCommunicationSecurity,Vol.45.IOSPress,137ś158.
https://doi.org/10.3233/978-1-61499-627-9-137
[29]SumitGulwani,WilliamR.Harris,andRishabhSingh.2012. SpreadsheetData
Manipulation Using Examples. Commun. ACM 55, 8 (Aug. 2012), 97ś105. https:
//doi.org/10.1145/2240236.2240260
[30]Shivam Handa and Martin C. Rinard. 2020. Inductive Program Synthesis over
NoisyData.In Proceedingsof the28thACMJointMeetingonEuropeanSoftware
EngineeringConferenceandSymposiumontheFoundationsofSoftwareEngineering
(Virtual Event, USA) (ESEC/FSE 2020) . Association for Computing Machinery,
NewYork, NY, USA,87ś98. https://doi.org/10.1145/3368089.3409732
[31]Thibaud Hottelier, Ras Bodik, and Kimiko Ryokai. 2014. Programming by ma-
nipulation for layout. In Proceedings of the 27th annual ACM symposium on User
interface software and technology - UIST ’14 . ACM Press, New York, New York,
USA,231ś241. https://doi.org/10.1145/2642918.2647378
[32]JeevanaPriyaInalaandRishabhSingh.2017. WebRelate:integratingwebdata
with spreadsheets using examples. Proceedings of the ACM on Programming
Languages 2,POPL(2017), 1ś28.
[33]Susmit Jha, Sumit Gulwani, Sanjit A Seshia, and Ashish Tiwari. 2010. Oracle-
guidedcomponent-basedprogramsynthesis.In 2010ACM/IEEE32ndInternational
Conference onSoftwareEngineering , Vol. 1.IEEE,215ś224.
[34]H Kaindl, E Arnautovic, H Jelinek, T Rock, R Popp, and J Falb. 2006. Using com-
municativeactsininteractiondesign specificationsfor automatedsynthesis of
userinterfaces.In 21stIEEE/ACMInternationalConferenceonAutomatedSoftware
Engineering (ASE’06) . IEEE,261ś264.
[35]MichaelHanusChristofKluß.[n.d.]. DeclarativeProgrammingofUserInterfaces.
UniversityHalle-Wittenberg InstituteofComputer Science ([n.d.]), 37.
[36]LarissaLaich,PavolBielik,andMartinVechev.2020. GuidingProgramSynthe-
sisbyLearningtoGenerateExamples.In InternationalConferenceonLearning
Representations .https://openreview.net/forum?id=BJl07ySKvS
[37]VuLeandSumitGulwani.2014. Flashextract:Aframeworkfordataextractionby
examples. In Proceedings of the 35th ACM SIGPLAN Conference on Programming
Language Designand Implementation . 542ś553.
[38]JiayingLi,JunSun,LiLi,QuangLocLe,andShang-WeiLin.2017.AutomaticLoop-
InvariantGenerationandRefinementthroughSelectiveSampling.In Proceedings
ofthe32ndIEEE/ACMInternationalConferenceonAutomatedSoftwareEngineering
(ASE 2017) . 782ś792.
[39]Hakon Wium Lie and Bert Bos. 2005. Cascading style sheets: Designing for the
web,Portable Documents . Addison-WesleyProfessional.
[40]EthanMarcotte.2017. Responsivewebdesign:Abookapartn4 . EditionsEyrolles.
[41]WesMcKinneyetal .2010. Datastructuresforstatisticalcomputinginpython.In
Proceedings ofthe 9th Pythonin ScienceConference , Vol. 445. Austin,TX, 51ś56.
[42]Chandrakana Nandi, Max Willsey, Adam Anderson, James R. Wilcox, Eva
Darulova,DanGrossman,andZacharyTatlock.2020. Synthesizingstructured
CADmodelswithequalitysaturationandinversetransformations.In Proceedings
of the 41st ACM SIGPLAN International Conference on Programming Language
Designand Implementation,PLDI2020, London, UK,June 15-20, 2020 . 31ś44.
[43]ThanhVu Nguyen, Timos Antonopoulos, Andrew Ruef, and Michael Hicks. 2017.
Counterexample-Guided Approach to Finding Numerical Invariants. In Proceed-
ings of the 2017 11th Joint Meeting on Foundations of Software Engineering (ES-
EC/FSE2017) . 605ś615.
[44]Jeremy W Nimmer and Michael D Ernst. 2001. Static verification of dynamically
detected programinvariants: IntegratingDaikonand ESC/Java. Electronic Notes
inTheoretical Computer Science 55,2 (2001), 255ś276.
[45] Travis EOliphant.2006. Aguide toNumPy . Vol. 1. TrelgolPublishing USA.
[46]AdiOmari,SharonShoham,andEranYahav.2016. Cross-supervisedsynthesis
ofweb-crawlers.In Proceedingsofthe38thInternationalConferenceonSoftware
Engineering . 368ś379.
[47]HilaPelegandNadiaPolikarpova.2020. PerfectistheEnemyofGood:Best-Effort
ProgramSynthesis.In ECOOP.
[48]JormaRissanen.1983. AUniversalPriorforIntegersandEstimationbyMinimum
Description Length. TheAnnalsofStatistics 11,2(1983),416ś431. http://www.
jstor.org/stable/2240558
[49]Hein Rutjes. [n.d.]. Kiwi: Fast TypeScript implementation of the Cassowary
constraint solving algorithm. https://github.com/IjzerenHein/kiwi.js
[50] EricaSadun.2013. iOSAutoLayoutDemystified . Addison-WesleyProfessional.
[51]SkipperSeaboldandJosefPerktold.2010. statsmodels:Econometricandstatistical
modelingwith python. In 9thPythoninScienceConference .
[52]Rahul Sharma, Saurabh Gupta, Bharath Hariharan, Alex Aiken, Percy Liang,
and Aditya V. Nori. 2013. A Data Driven Approach for Algebraic Loop Invari-
ants. InProgramming Languages and Systems - 22nd European Symposium on
Programming,ESOP2013,HeldasPartoftheEuropeanJointConferencesonTheory
and Practice of Software, ETAPS 2013, Rome, Italy, March 16-24, 2013. Proceedings .
574ś592. https://doi.org/10.1007/978-3-642-37036-6_31
[53]Rohit Singh, Venkata Vamsikrishna Meduri, Ahmed K. Elmagarmid, Samuel
Madden, Paolo Papotti, Jorge-Arnulfo Quiané-Ruiz, Armando Solar-Lezama, and
NanTang.2017. SynthesizingEntityMatchingRulesbyExamples. Proc.VLDB
Endow.11,2 (2017), 189ś202.
662Synthesisof WebLayoutsfrom Examples ESEC/FSE ’21, August 23–28, 2021,Athens,Greece
[54]Armando Solar-Lezama, LiviuTancau, RastislavBodik,SanjitSeshia,and Vijay
Saraswat.2006. Combinatorialsketchingforfiniteprograms.In Proceedingsofthe
12th international conference on Architectural support for programming languages
and operatingsystems . 404ś415.
[55]MoritzStern.1858. UebereinezahlentheoretischeFunktion. Journalfürdiereine
und angewandteMathematik 1858,55(1858), 193ś220.
[56]Amanda Swearngin, Mira Dontcheva, Wilmot Li, Joel Brandt, Morgan Dixon,
and Amy J. Ko. 2018. Rewire: Interface Design Assistance from Examples. In
CHI.AssociationforComputingMachinery,NewYork,NY,USA,1ś12. https:
//doi.org/10.1145/3173574.3174078
[57]Yonglong Tian, Andrew Luo, Xingyuan Sun, Kevin Ellis, William T. Freeman,
JoshuaB.Tenenbaum,andJiajunWu.2019. LearningtoInferandExecute3D
ShapePrograms.In 7thInternationalConferenceonLearningRepresentations,ICLR
2019,NewOrleans,LA,USA,May6-9,2019 .https://openreview.net/forum?id=
rylNH20qFQ
[58] DanTocchini.[n.d.]. http://gss.github.io/
[59]EminaTorlakandRastislavBodik.2013. Growingsolver-aidedlanguageswith
rosette. In Proceedings of the 2013 ACM international symposium on New ideas,
newparadigms, and reflectionsonprogramming& software . 135ś152.
[60]Priyan Vaithilingam and Philip J Guo. 2019. Bespoke: Interactively synthesizing
custom GUIs from command-line applications by demonstration. In Proceedings
ofthe32ndAnnualACMSymposiumonUserInterfaceSoftwareandTechnology .
563ś576.[61]Pauli Virtanen, Ralf Gommers, Travis E. Oliphant, Matt Haberland, Tyler
Reddy, David Cournapeau, Evgeni Burovski, Pearu Peterson, Warren Weckesser,
Jonathan Bright, Stéfan J. van der Walt, Matthew Brett, Joshua Wilson, K. Jar-
rod Millman, Nikolay Mayorov, Andrew R. J. Nelson, Eric Jones, Robert Kern,
Eric Larson, CJ Carey, İlhan Polat, Yu Feng, Eric W. Moore, Jake Vand erPlas,
DenisLaxalde,JosefPerktold,RobertCimrman,IanHenriksen,E.A.Quintero,
Charles R Harris, Anne M. Archibald, Antônio H. Ribeiro, Fabian Pedregosa,
Paul van Mulbregt, and SciPy 1. 0 Contributors. 2020. SciPy 1.0: Fundamen-
tal Algorithms for Scientific Computing in Python. Nature Methods (2020).
https://doi.org/10.1038/s41592-019-0686-2
[62]Wikipediacontributors.2020. DuckDuckGoÐWikipedia,TheFreeEncyclope-
dia.https://en.wikipedia.org/w/index.php?title=DuckDuckGo&oldid=964046557 .
[Online;accessed 28-June-2020].
[63]Clemens Zeidler, Christof Lutteroth, Wolfgang Sturzlinger, and Gerald Weber.
2013. The Auckland Layout Editor: An Improved GUI Layout Specification
Process. In Proceedings of the 26th Annual ACM Symposium on User Interface
Software and Technology (St. Andrews, Scotland, United Kingdom) (UIST ’13) .
ACM,NewYork, NY, USA,343ś352. https://doi.org/10.1145/2501988.2502007
[64]He Zhu, Stephen Magill, and Suresh Jagannathan. 2018. A data-driven CHC
solver. In Proceedings of the 39th ACM SIGPLAN Conference on Programming
Language Design and Implementation, PLDI 2018, Philadelphia, PA, USA, June
18-22, 2018 . 707ś721.
663