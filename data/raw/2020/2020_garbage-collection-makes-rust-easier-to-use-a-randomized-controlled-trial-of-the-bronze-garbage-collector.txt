Garbage Collection Makes Rust Easier to Use: A Randomized
Controlled Trial of the Bronze Garbage Collector
Michael Coblenz
University of Maryland
College Park, Maryland, USA
mcoblenz@umd.eduMichelle L. Mazurek
University of Maryland
College Park, Maryland, USA
mmazurek@cs.umd.eduMichael Hicks
University of Maryland
College Park, Maryland, USA
mwh@cs.umd.edu
ABSTRACT
Rust is a general-purpose programming language that is both type-
and memory-safe. Rust does not use a garbage collector, but rather
achieves these properties through a sophisticated, but complex,
typesystem.DoingsomakesRustveryefficient,butmakesRust
relativelyhardtolearnanduse.WedesignedBronze,anoptional,
library-based garbage collector for Rust. To see whether Bronzecould make Rust more usable, we conducted a randomized con-
trolledtrialwithvolunteersfroma633-personclass,collectingdata
from428studentsintotal.Wefoundthatforataskthatrequired
managing complex aliasing, Bronze users were more likely to com-
plete the task in the time available, and those who did so required
onlyaboutathirdasmuchtime(4hoursvs.12hours).Wefound
no significant difference in total time, even though Bronze users
re-didthetaskwithoutBronzeafterward.Surveysindicatedthat
ownership, borrowing, and lifetimes were primary causes of the
challenges that users faced when using Rust.
CCS CONCEPTS
‚Ä¢Software and its engineering ‚ÜíGeneral programming lan-
guages; ‚Ä¢Human-centeredcomputing ‚ÜíEmpiricalstudies
in HCI; ‚Ä¢Social and professional topics ‚ÜíComputing educa-
tion.
KEYWORDS
Rust, garbage collection, usability of programming languages, em-
pirical study of programming languages, programming education
ACM Reference Format:
MichaelCoblenz,MichelleL.Mazurek,andMichaelHicks.2022.Garbage
Collection Makes Rust Easier to Use: A Randomized Controlled Trial of
the Bronze Garbage Collector. In 44th International Conference on Software
Engineering (ICSE ‚Äô22), May 21‚Äì29, 2022, Pittsburgh, PA, USA. ACM, New
York, NY, USA, 12 pages. https://doi.org/10.1145/3510003.3510107
1 INTRODUCTION
Rustisageneral-purposeprogramminglanguagethathasanem-
phasisonperformancewhilealsobeingtype-,memory-,andthread-
safe [28]. One reason for Rust‚Äôs efficiency is that it does not use
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthe firstpage.Copyrights forcomponentsof thisworkowned byothersthan the
author(s)mustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,or
republish,topostonserversortoredistributetolists,requirespriorspecificpermission
and/or a fee. Request permissions from permissions@acm.org.
ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
¬©2022 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-9221-1/22/05...$15.00
https://doi.org/10.1145/3510003.3510107garbage collection (GC). Instead, it imposes a compiler-enforced
discipline of ownership andlifetimes(based on linear logic [32] and
region-based memory management [14,30], respectively) to ensure
that no object reference will be used after its referent is freed. This
discipline imposes restrictions on aliasing: an alias can only be
borrowed temporarily, and doing so limits mutation (which also
helps avoid data races). For example:
fn foo() {
let s1 = String::from("hello");
let len = calc_len(&s1); //lends reference
println!("the length of '{}'is {}",s1,len);
// s1 lifetime ends; dropped
}
fn calc_len(s: &String) -> usize {
// s.push_str("hi"); <-- not allowed: s immutable
s.len() // s lifetime ends; but not its referent 's
}
Here, function foodefines a Stringownedby variable s1. It then
callscalc_lento compute its length by lendinga reference &s1to
the called function, which may only read it, not write it. When
the function returns, the borrowed reference‚Äôs lifetime ends so it is
dropped, which restores full ownership to s1. When function foo
completes, s1‚Äôs lifetime ends so it is dropped and the data is freed.
1.1 Rust is Hard to Learn and Use
Despite its performance and safety advantages and a loyal core of
devotees [ 26], Rust remains relatively unpopular; the TiOBE index
ranks Rust at #27 as of July 2021 [ 7], and the IEEE Spectrum ranks
Rustat#20[ 11].Intheinterestofbringingthebenefitsofthedesign
ideasbehindRusttomoresoftwareprojects,itisworthconsidering
why Rust has seen limited adoption.
A partial explanation resides in the difficulty of learning Rust.
Fulton et al. [ 12] interviewed and surveyed software practitioners
whoadoptedorattemptedtoadoptRust,findingthat59%ofsurvey
respondentsfeltthatRustwashardertolearnthanotherlanguages.
Sevenofthe16intervieweesreportedthatthebiggestchallenges
inlearningRustweretheborrowchecker‚Äîthepartofthecompiler
that enforces the ownership/borrowing discipline‚Äîand the overall
change of programming paradigm to one that requires that the
compiler be able to reason about lifetimes. Ashley Williams, the
interim executive director of the Rust Foundation, agreed: ‚Äú[Refer-
ences and borrowing] is notoriously something that people find to
be the most difficult part of learning Rust‚Äù [ 34]. The difficulty of
learning Rust has implications on adoption in software teams: 42%
of respondents in Fulton et al.‚Äôs survey were concerned about their
abilitytohireRustdevelopers,sinceitwouldtakealongtimefor
new team members to become productive.
10212022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
In addition to being challenging to learn, Rust can be difficult to
use.ProgrammingwithDAGsandcyclicdatastructuresisstraight-
forward in most popular languages, but such structures do not
conform to Rust‚Äôs aliasing restrictions. Rust provides safe building
blocks to work around these restrictions. The structure Rc<T>is for
referencestoimmutable Tobjectswithmanuallymanagedreference
counts(confirmedsafebytheborrowchecker),and RefCell<T> isa
container for a mutable Tobject with dynamically tracked borrow-
ing. Together (e.g., Rc<RefCell<T>> ) these can implement a discipline
ofinteriormutability thatsupportsrich aliasingpatterns[ 19],but
in a manner far more complex than most programmers are used
to. As such, they may be tempted to use Rust‚Äôs unsafefeature to
sacrifice safety for ease of use.
EasingUsewithGarbageCollection? Rust‚Äôsrestrictionsaredue
to the compiler‚Äôs inability to verify the safe use of richer, aliaseddata structures. These restrictions would not be needed if Rustused GC. As such, an extension to Rust that included GC couldenable programmers to be productive sooner, without having to
learn thetrickier partsof thelanguage right away.By makingthe
GCoptional,programmerscouldstilllearnandusetheharderparts
ofRustlater,andconverttheirGC-usingcodetotraditionalRust
as needed to improve performance.
Moreover,bymakingaRustGC library-based,itcouldevenprove
useful to experts. While 63% of the respondents in the survey by
Fulton et al. [ 12] cited lack of GC as a reason to use Rust, 87% cited
high performance as a reason‚Äîbetween the two is a category of
useropentotheideathathighperformanceandgarbagecollection
are not always at odds. Most code is not performance-critical: a
guideline is that 90% of the time is spent executing only 10% of the
code [2]. Thus GC- and manual-based memory management could
coexist. Experiments in Cyclone [ 14], a C-like systems program-
minglanguage,foundnearlynoperformancecostofusingGCwhen
it was applied judiciously alongside safe, manual techniques [27].
1.2 Bronze: A Library-Based GC for Rust
This paper presents Bronze,1a new Rust library that provides a
cleangarbagecollectioninterface,andanexperimentevaluatingthe
possible benefits of using Bronze while learning Rust. By creating
a library in which GC is optional, we were able to study the effects
of GC without including the rest of the language design as an
independent variable in the study.
Bronzeprovidesastructure, GcRef<T>,thatimplementsagarbage-
collected reference to a mutable object; such references are not
subjecttoRust‚Äôsaliasingrestrictions.BronzeusesLLVMstackmaps
to automatically find roots, obviating the need for programmers
to specify tracing roots manually, as is necessary in some existing
Rust GCs [4, 18].
WedeployedBronzeinanIRB-approved,randomized,controlled
experimentina sophomore-levelprogramminglanguagescourse.
Becausethecoursewasrequiredforgraduationatauniversitywith
a large computer science enrollment, we were able to recruit from
apopulationof633studentswhowereenrolledinthecourse.All
students carried out a multi-part Rust programming assignment,
but those who agreed to participate in the research were randomly
1So named for bronze‚Äôs corrosion resistance.Topic Traditional task Bronze task
Basics BasicsnoGC BasicsnoGC
Ownership, lifetimes Ownership noGCOwnership GC
Aliased, mutable data Aliasing noGC Aliasing GC
Aliased, mutable data (none) Aliasing noGC
Table1:Tasksineachcondition.Subscriptsindicateversions
of tasks adapted to use GC, or not. Bronze participants com-
pletedAliasing noGCafter completing Aliasing GC.
assigned to condition BronzeorTraditional ; the former group used
Bronzeintheassignmentwhilethelattergroupdidnot.Ultimately,333studentswerepartoftherandomassignment,and428students
participated in the study in some way.
The experiment design is shown in Table 1; the tasks are de-
scribed in detail in section 3.1. In the assignment, students weregiven functions and declarations that needed to be completed;
Bronzeparticipants were givenversionsof theinterfaces thatwere
structurally similar but which had been adapted to use GC. Theassignment parts were cumulative, and the final step for Bronzeparticipants was to redo their previous implementation without
using GC, ensuring all participants learned how to use traditional
Rust. We provided students with unit tests (including source code),
andweassignedgradesaccordingtowhichoftheunittestspassed.
We found, after conducting the experiment, that Bronze‚Äôs inter-
face required small changes to ensure soundness. Because of thesmall size of the required changes, which are described in more
detail in section 4, we believe that our results apply to the revised
version of Bronze as well.
StudyResults. Attheconclusionofthestudywecarriedoutboth
quantitative and qualitative analysis of measured data (e.g., project
score) and survey responses. Our large sample enabled us to re-
serve10%oftheparticipants‚Äôdata(withtheirsurveyresponses)for
exploratory analysis. This allowed us to explore which hypothe-
sesmightbeworthtestingwhilepreservingsoundness,sincethe
results in section 5 are based on the remaining 90% of the data.
Wedidnotobserveadifferencebetweenconditionsin comple-
tionrates (fractionofstudentsscoring100%)orin timescomplet-
ingOwnership.However,studentswhousedBronzeweremore
likelytocompletetheiraliasingtask(Aliasing GC)thanTraditional
students were to complete theirs (Aliasing noGC), and did so sig-
nificantly faster, spending a median of 4 hours instead of 12 hours.
The additional time spent by Bronze students doing the aliasing
task again, this timewithout GC (Aliasing noGC) resulted in nosig-
nificantdifferencein totaltime spentontheproject.Weconclude
that for newcomers to Rust, if the goal is simply to accomplish aprogramming task, garbage collection may present a significant
benefitforproductivity.Further,theremaybeenoughadvantagetousing garbage collection while learning Rust to compensate for the
additionaltimerequiredtolearn,apply,andswitchtotraditional
Rust memory management approaches.
Survey results confirmed past reports [ 12,34] that ownership
and borrowing are significant programming challenges. Partici-pants were much more likely to believe that GC makes writing
1022
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. Garbage Collection Makes Rust Easier to Use: A Randomized Controlled Trial of the Bronze Garbage Collector ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, U SA
programseasieraftercompletingtheexperimentthantheywere
before the experiment. Bronze participants were more likely to
believethatGCmadewritingprogramseasieraftercompletingthe
whole assignment than they did at the beginning, and 64 of the 89
Bronze participants (72%) who responded to the question strongly
agreed at the end that using GC makes writing programs easier.
Only 3 (3%) strongly disagreed. Interestingly, although participants
reported that GC made programming easier, participants who used
GC did not report likingRust significantly more than participants
who did not. We observed a stronger negative correlation between
liking Rust and stress than between liking Rust and time spent
relative to participants‚Äô expectations.
1.3 Implications
Softwareengineersshouldbeawareofapossibleproductivitybene-fitofgarbagecollectorsrelativetousingRust‚Äôsaliasingrestrictions;itmaybebettertore-architectasystem,useagarbagecollectionli-brary,oruseagarbage-collectedlanguageifthearchitecturecannotbechanged.Ifengineersusealibrary-basedGCwithRustandneed
to remove it to improve performance, using GC saves enough time
that programmers can switch away from GC without a significant
loss in productivity.
That positive feelings about Rust were more strongly correlated
with frustration and stress than with time spent on the assignment
suggeststhatlanguagedesignerswhowanttopromoteadoption(by
making languages programmers like) should consider focusing on
howtoreducestress,suchasbymakingprogressmorepredictable,
rather than how to (only) maximize programmer productivity.
Insurveyresponses,participantsreportedextremedifficultywith
references,lifetimes,andownership.Participantssaid examples and
live coding demonstrations helped them learn these concepts most
effectively. These responses have implications for pedagogy: we
hypothesizethatusingexamplesandlivecodingdemonstrations
ismoreeffectivetoexplainthesechallengingRustconceptsthan
traditional slide-based explanations.
1.4 Contributions
Key contributions of this paper include:
(1)Thedesignand prototypeimplementationofBronze,a GC
for Rust that is simpler to use than prior Rust GCs.
(2)A randomized controlled trial of Bronze, in which we found
thatBronzecanenablemorepeopletocompletetaskswithin
time limits and, among those who finished, significantly re-
ducetimerequired.Wealsocollectedqualitativedata,con-
firming that ownership, lifetimes, and references are partic-
ularly challenging for new Rust programmers.
2 BRONZE: DESIGN AND IMPLEMENTATION
Bronze introduces GcRef<T>, which represents a reference to a value
of type T that exists in a garbage-collected portion of the heap.
GcRef<T>implements the Dereftrait, so the *operator can be used
to obtain a reference to the underlying value. If one has a mutable
GcRef<T>,thereferencecanbeusedtomutatethevalue. GcRef::new(v)
movesvalue vintothegarbage-collectedportionoftheheapand
generates a GcRefpointing to it.Rustpermitsonlyonemutablereferencetoavalueatatime.For
greaterflexibility,(standard)Rustsupports interiormutability ofan
object through an immutable reference to it [ 19]. The programmer
may borrow a special reference to the value that permits muta-
tion, and dynamic checks ensure that only one such reference can
existatatime,enablingasaferelaxationofcompile-timechecks.
With Bronze, mutation is permitted through allreferences to each
garbage-collectedobject,withnoextraeffort.Forexample,Figure1
shows how GcRefsimplifies code when there are multiple muta-
ble aliases. Bronze does not guarantee thread safety; as in other
garbage-collected languages,it is theprogrammer‚Äôs responsibility
to ensure safety.
Bronzeisaprecise,mark/sweepgarbagecollector.Weselected
thisdesignratherthanusingaconservativecollector[ 5]because
precisecollectionhasthepotentialforbetterperformanceandcom-
plete collection of garbage. As our primary objective in the design
wasusability,wedesignedBronzetofindrootsautomatically.Prior
garbage collectors forRust either include rootandunrootmethods
thatmustbemanuallycalledbytheuseroftheGClibrary[ 4,18]
or require references to be cloned manually [13, 25].
Bronzedefinesthe Tracetrait,whichindicatesfunctionalityused
bythegarbagecollectortotracethroughtheobjectgraphtofind
live objects. Only types that implement Tracecan be put on the
garbage-collectedheap.Bronzealsodefinesthe Finalizetrait,which
allows users to write code that runs just before an object is deallo-
catedbythecollector;itservesasanalternativeto drop,whichis
fordeallocationthatrunsatastatically-determinedtime.Bronze
providesmacrosthatautomaticallyderiveimplementationsof Trace
andFinalizeforstraightforward types,butusers canprovidetheir
own implementations if needed.
Rust‚Äôs compiler translates Rust code to LLVM IR, which has a
primitive that allows emitting stack maps to annotate the stack
with compiler-specified metadata. In the case of Bronze, the meta-
dataallowtheruntimetodeterminewhichstackaddressescorre-
spondwithobjectsthatmustbetracedbecausetheymayreference
garbagecollectedobjects.TheBronzetracerreliesonamodified
versionoftheRustcompilerthatemitsstackmapinformationin
theemittedLLVMIR.TheparticularstackmapmechanismusedbyBronzeassumesthattheprogramissingle-threaded;otheravailablemechanismscouldrelaxthisrequirementinthefutureatadditional
engineering cost for Bronze.
Bronze uses a mark/sweep algorithm based on Goregaokar‚Äôs
implementation [ 13]. To identify which objects can be collected,
the runtime keeps a linked list of all objects that it allocated. Then
it can collect objects on the list that were not marked by the tracer.
Bronze‚Äôs mark/sweep implementation is only a proof of concept,
however,andisnotproduction-ready.Inparticular,theimplementa-tioncantracelocalvariablesoftype
GcRef<T>,butadditionalworkis
requiredtoenabletracingofarbitrarytypes.Intheexperiment,weusedaversionofBronzethat nevercollects.Thisapproachwassuit-
able for the programs in the experiment, since they do not allocate
enough memory torequirecollection. Wethink it is unlikely that
a full, performant implementation would require changes to the
design,sincetheworkthatremainsshouldbebeneaththeinterface.
While this paper was under review, we found that GcRef‚Äôsas_ref
andas_mutmethods could be abused to create multiple mutable &
referencestoGCobjects,breakingRust‚Äôsinvariantofallowingonly
1023
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
1pub struct IntContainer { n: i32 }
2
3pub fn set(c: &Rc<RefCell<IntContainer>>, n: i32) {
4 let mut m = c.borrow_mut();
5 m . n=n ;
6}
78pub fn make_two_references() {
9 let c1 = Rc::new(RefCell::new(IntContainer{n: 42}));
10 let c2 = c1.clone();
11 // c1 and c2 both refe rence the same object.
1213 set(&c2, 42);
14 set(&c1, 43);
15 // Now both reference an object with value 43.
16}
(a) Two mutable references to a value using interior mutability.1#[derive(Trace, Finalize)]
2pub struct IntContainer { n: i32 }
34pub fn set(mut c: GcRef<IntContainer>, n: i32) {
5 c . n=n ;
6}
78pub fn make_two_references() {
9 let c1 = GcRef::new(IntContainer{n: 42});
10 let c2 = c1;
11 // c1 and c2 bothreference the same object.
1213 set(c2, 42);
14 set(c1, 43);
15 // Now both reference an object with value 43.
16}
(b) Two mutable references to a value using Bronze.
Figure 1: A comparison of mutable aliasing with and without Bronze. The interior mutability version (left) requires manually
borrowing a mutable reference to the contents of the RefCell(line 4). Then, the reference count must be manually incremented
via clone(line 10). With Bronze (right), no borrowing is needed (line 5) and a second reference can be obtained with plain
assignment (line 10). The Traceand Finalizetraits needed for GCed objects can be derived automatically (line 1).
one mutable reference to an object. The Dereftrait implementation
onGcRefcould be abused in the same way. Section 4 describes how
we obtained soundness in a revised version of Bronze and why we
believe the changes, although slightly reducing usability, do not
have a significant impact on our results.
WhyisBronzeeasiertousethaninteriormutability?Webelieve
thattheprimarycauseisthatBronzeallowsfreepersistent(in-field)
aliasing.Thesealiasescanbeobtainedwithoutusingaseparatedatastructure (e.g.,
Rc) and without invoking a special method to obtain
them(e.g., borrow).Whenreferencesneedtobepassedinfieldsof
structures,thestructurescanbeinitializedandmanagedwithout
explicitly manipulating the lifetimes of the references. In addition,
GcRef<T>provides a unified interface compared to Rc<RefCell<T>> ,
which requires understanding two separate structures and how
theycanbeusedtogether.Thedistinctionbetweenthesestructures
canappearblurrytousersduetoRust‚Äôs‚ÄúDerefcoercion‚Äùfeature,
which means that programmers can omit *when dereferencing in
certain(butnotall)cases.Finally,garbagecollectionworkseven
in the presence of cycles, which must be managed manually when
reference counting is used.
Bronze is available on Cargo, the Rust package manager.2
3 METHOD
We conducted an experiment in which we randomly assigned par-
ticipants to use either traditional Rust or Bronze when completing
amulti-partprogrammingassignment.Wemeasuredtheirperfor-
mance and surveyed them about their experiences. Complete task
and survey materials are available in the artifact that accompanies
this paper.3The study was approved by our IRB.
2https://crates.io/crates/bronze_gc
3https://doi.org/10.5281/zenodo.60459043.1 Tasks
We devised a multi-part programming assignment for our study.
The specification of each part differed slightly depending on
whether participants should use GC or traditional Rust; we label a
task with subscript GCornoGCto clarify this, as needed.
TheBasicstask,carriedoutusingtraditionalRust,focusedon
the basics of Rust syntax. The Ownership task introduced owner-
shipandborrowing. Thisandlaterpartsinvolveprogramminga
simulation of turtles living on the university campus. The instruc-
tions4included:
In turtle.rs, implement:
*`new`function according to the given signature.
* Accessors `walking_speed `,`favorite_flavor `,
`favorite_color `, and `name `.
Campus should maintain a vector ( `Vec`) of turtles.
In campus.rs, implement methods:
*`new`: creates a new, empty Campus
*`size `: returns the number of turtles on campus
*`add_turtle `: adds a new Turtle to campus.
*`get_turtle `: returns a reference to an turtle at a
given index.
*`turtles `: returns an iterator that a caller can use to
iterate through the turtles.
*`fastest_walker `: Returns None if the campus is empty.
Otherwise, returns Some of a reference to the turtle
with the fastest walking speed.
*`breed_turtles `, which uses the functions in `genetics `
to breed two turtles, resulting in a new Turtle....
Every turtle has a name. Of course, as with people,
several turtles may have the same name. In campus.rs,
implement `turtles_with_name `so that it returns a
vector of turtles that have the given name.
Completingthispartrequiredunderstandingownershiptrans-
fer (add_turtle ), references ( get_turtle ), iterators ( turtles), options
andborrowing( fastest_walker ),andmutablevectors( add_turtle and
4Instructions have been slightly edited for space.
1024
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. Garbage Collection Makes Rust Easier to Use: A Randomized Controlled Trial of the Bronze Garbage Collector ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
breed_turtles ).InOwnership noGC,theget_turtle methodof Campus
returned a value of type TurtleRef<'a> , which was defined as &'a
Turtle.I nOwnership GC,TurtleRef was defined as GcRef<Turtle> .
TheAliasing task introduced the requirement ofmultiple mu-
table references. The instructions included:
Change `Turtle `so that each turtle has a field that
keeps track of its children in a `Vec`.`Vec`of what?
You'll have to figure that out. Do NOT store indices
into the Campus 's vector because those may change in
the future (some day we may su pport removing turtles
from Campus). Do NOT invent your own indexing scheme
and store a map somewhere.
If you breed two turtles, each parent should include
the child in its vector of children. In turtle.rs,
implement methods:
*`num_children `
*`teach_children `
Note that this task may require you to revisit some of
the decisions you made in Basics. You are welcome to
copy/paste im plementations from your Basics work, but
note that some of the signatures are different (in order
to facilitate the design changes you will need to make).
Your previ ous implementation of `turtles_with_name `had
to do a linear search through the whole vector of
turtles... Improve the performance of `turtles_with_
name `by adding a cache to Campus...
Campusneeded a vector of turtles, each of which needed a vector
thathadreferencestothesameturtlesreferencedby Campus.Because
ofbreed_turtle , the turtles needed to be mutable. Finally, the cache
required returning collections that referenced the same turtles.
ForAliasing noGC, these requirements could be addressed using
referencecountingandinteriormutability.The get_turtle methodof
Campus,asinOwnership noGCreturnedavalueoftype TurtleRef,but
TurtleRef was now a struct with fields that the participants needed
to define. TurtleRef, in turn, exposed a method borrow_turtle , which
returned a value of type BorrowedTurtle .BorrowedTurtle implemented
theDerefandDerefMuttraits, allowing clients to obtain a temporary
mutable reference. Participants were required to fill in the fields of
TurtleRef andBorrowedTurtle ;atypicalsolutionwas Rc<RefCell<Turtle
>>andRefMut<'a, Turtle> . This approach allowed external clients to
obtainreferencesto Turtlesthatcouldbemadetemporarilymutable
if needed for the application.
InAliasing GC,TurtleRef is defined as GcRef<Turtle> , just as in
Ownership GC‚Äîbecause GcRefsupports mutation of the referenced
value, there is no need for additional structure.
Bronze participants were asked to complete task Aliasing noGC
after completing Aliasing GC.
3.2 Recruitment
We recruited participants from the 633 students who were enrolled
in a required, sophomore-level programming course. Our program-
mingassignmentwaspartofthecourse‚Äôsgrade,butparticipation
in the research was voluntary, and confirmed by informed consent.
ResearchparticipantswererandomlyassignedtouseeitherBronze
or traditional Rust, and agreed to take a survey after completing
each part of the assignment. In doing so, they received extra credit
ontheassignment‚Äî1%extracreditpersurvey,or5%forallthree.Participantswerefreetowithdrawfromtheexperimentatanytime;
studentswhostartedtheexperimentbutwithdrewreceived2.5%
extra credit. Students who withdrew, or opted not to participate
at all, could complete any version of the assignment. Students had
the option of accepting random assignment and/or carrying out
surveysbut nothavingtheirdataincludedinourresearchanalysis;
weawardedextracreditindependentlyofthischoice.Onlythree
students did not consent to their data being used.5
3.3 Procedure
TheinstructorgavelecturesonprogramminginRustduringfour
80-minuteclassperiodsoveraperiodoftwoweeks(April13‚Äì27).
Lectureslidescanbefoundinthepapersupplement.The Basics
task in the assignment overlapped with, and was due at the end of,
the second week of lectures (April 21‚Äì29). The remaining parts of
the assignment were released on April 29 and were due May 11.
The README file for the Ownership andAliasing tasks de-
scribedthestudyindetail andlinkedtoaQualtricssurvey,which
includedaconsentform andrequesteddemographicinformation
from students who consented. The form also asked for their uni-
versityIDnumbersothatwecouldassociatestudentgradeswith
participants. The Qualtrics tool randomly assigned participants to
acondition(BronzeorTraditional)uponconsent,emailingthem
whichconditiontheywereassignedto.Theemailalsocontained
a personalized link to a survey to fill out after completing each
partoftheprogrammingassignment,allowingustotrackwhich
students had completed the surveys.
The course used a question-and-answer web site, Piazza [ 29], to
allow the students to ask questions about course content. Because
we had revised the Rust content relative to the prior semester, the
first author joined the teaching assistants (TAs) in answering ques-
tions about the assignment. We made sure to answer all questions
inatimelyfashionwithhighquality.Inaddition,asaresultofposts
onPiazzaindicatingthatstudentsfoundtheassignmentdifficult,
thefirstauthorconductedlive-codingdemonstrationsonMay6and
7.6Demonstrationsdelvedintotopicscoveredinclass,including
Rc,RefCell, smart pointers, mutability, scope and borrowing, a com-
parisonbetweenGCandreferencecounting,stringliterals,interior
mutability, mutable structs, lifetime specifiers, and Box. The Piazza
forumandlivedemonstrationswerenotseparatedbyexperimental
condition, so these did not provide additional data about perceived
difficulty.
4 LIMITATIONS
Students‚Äôabilitiestocompletetheassignmentdependedtosome
extent onthe quality of our instructionand the extent towhich we
emphasizedeachtopic.Tohelpdecoupleourinstructionaldesign
fromthe experiment,webasedour instructionalmaterialsonthe
online Rust book[ 20] and leveragedmaterials that had been used
successfully in previous editions of the course.
Becausethefirstauthortaughtthelivecodingdemonstrations
and answered many student questions on Piazza, it is possible that
this could have introduced bias. One of two course instructors is
also a co-author, so there could have been bias in teaching as well,
5Students were required to opt out if they were under 18 years old.
6Student privacy regulations preclude us from sharing the videos of these demos.
1025
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
since GC and interior mutability, which were taught in the course,
were of interest in the study.
Our study focused on programmers who are new to Rust; our
sample was of students. While professionals (many of whom are
also new at Rust) would have more programming experience, prior
work [1,23,24] suggests that results with students corresponds
with results with professionals in related, but not identical, tasks.
All times spent by participants were self-reported. Although we
asked participants to use a tool to track time spent for Ownership
andAliasing,wedidnotconfirmthattheydidso.However,any
noise or bias in reported times are likely to be consistent across
experimentalconditions.Althoughweaskedparticipantstocom-
plete the surveys immediately after completing each part of the
assignment, some participants submitted the surveys in batches.
Theextracreditincentivecouldhaveresultedinanon-uniformly
selectedsample.However,aswediscussinmoredetailinsection7,
thesmalldifferenceinmedianclassgradebetweenparticipantsand
non-participants (90% vs. 87%) suggests that this does not result in
a significant threat to validity.
MoreBronzeparticipantswithdrewfromthestudythanTradi-
tional participants (see section 7); the withdrawing Bronze partici-
pants may have been weaker, less industrious, or more risk-aversethan the students that remained, leaving a stronger overall Bronze
population compared to the traditional one. We believe the magni-
tudeofthedifferenceintimesbetweenconditions(section5.4)is
large enough that it cannot be explained by this possibility.
All of the students worked on the assignment in the same time-
frame, so trends over time could have been due to external in-fluences, such as stress caused by the approach of final exams.
However,thesetrends wouldhavebeen equallyapplicableacross
experimental conditions.
While this paper was under review, we found that GCRefwas
unsound for the reasons discussed in section 2. To make Bronze
sound,weremovedthe Derefimplementation,replacingitwithnew
borrowandborrow_mut methods.Thesemethodsreturnobjectswhose
lifetimes are tracked dynamically, similar to RefCell‚Äôs borrowing
mechanism.Wealsoremovedthe as_refandas_mutmethods,which
were only used in one of the student submissions.
There is a risk that had the students used the corrected version
ofGCRef, they might not have seen the same benefits. To under-
standwhetherthismightbeso,weappliedthecorrectedversionofBronzetoasampleofstudentimplementations;webelievethatourresultswouldlargelyholdup,evenifstudentshadusedthisversion.
Wemanuallymodifiedstudentprogramsuntilwewereconfident
wehadseentherelevantchallenges;indoingso,wemodified43
studentsubmissions.Twochangeswerecommon:insertingcalls
toborroworborrow_mut ; and introducing local variables to extend
lifetimes of borrows. In the vast majority of cases, calling borrowor
borrow_mut sufficed; this could be done automatically by a compiler,
similar to Derefcoercion, which isalreadysupported by the com-
piler.Somecasesrequiredmanipulatinglifetimeswithadditional
localvariablesorinsertingcurlybraces,whichisacommontech-
nique in Rust. Rust programmers need to be able to do this already
(indeed,wetaughtthistechniqueinourlectures).Twoprograms
manipulatedinthiswaypanickedduetomultipleborrowsafterthe
naive transformation above; both of these used matchon something
thatwasborrowed,andthentookamutablereferenceinsideoneComponent Traditional Bronze
Random assignment to condition 194 139Basicssurvey 154 117
Ownership survey 153 113
Aliasing survey 142 101
Aliasing
GCsurvey 84
Table 2: Participation by component
of the cases. A small refactoring addressed these. One case that
usedan iteratorrequired insertinga *operatorto dereferencethe
iterator‚Äôs returned reference.
5 RESULTS
Inthissection,wedescribetheanalysisweconducted.AnonymousrawdataaswellasanRStudioscripttoanalyzethedataareincluded
in the artifact that accompanies the paper.7
5.1 Participants
Of 633 students who were enrolled in the course, 385 students
signed up for the experiment, with 190 assigned to use Bronze and
195toTraditional.Ofthese,41withdrew;anadditional11students
submitted code for both versions of the assignment. We did not
analyze the data from those 52 students, leaving experimental data
from 333 students for analysis: 139 Bronze, and 194 Traditional.
383 students completed 1120 surveys. 34 students submitted
surveys but did not accept random assignment. 36 accepted ran-
dom assignment but did not submit surveys. Overall, 428 students
participatedinthestudy.Onlythedatafromthe333experiment
participantswere usedin theanalyses below,exceptfor theoverall
demographics of the population and the analysis of whether GC
participantsthoughtGCmakesprogrammingeasier(section5.5).
Foreachtask,weanalyzedthecorrespondingsurveydata,asshown
in Table 2.
We asked students about their Rust experience. Of the 333 ex-
periment participants, 84 had read about Rust or talked to a friend
aboutit.12hadplayedwithRustontheirown,twohaduseditonateam, and three had used it in an open-source project. When asked
toself-assess theirprior levelof Rustknowledge, 307reported no
experience; 17 reported passing familiarity (maybe wrote a few
lines of code); 6 reported a moderate amount or a lot of experience.
Figure2 showsthe distributionof coursegradesby decisionto
enrollintheexperimentinsuperimposedviolinandboxplots.To
test whether the decision to enroll was related to course grade, we
conducted a logistic regression. We found ùëù‚âà.017, with higher
gradesbeingassociatedwithchoosingtoenrollinthestudy.The
oddsratiowas 0.035witha95%confidenceintervalof [0.011,0.057]
(ùëÅ=584), meaning that a 1-point increase in grade correlates with
multiplying the odds of enrolling by ùëí.035‚âà1.036.
7https://doi.org/10.5281/zenodo.6045904
1026
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. Garbage Collection Makes Rust Easier to Use: A Randomized Controlled Trial of the Bronze Garbage Collector ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, U SA

'LGQRWSDUWLFLSDWH 3DUWLFLSDWHG
Figure 2: Course grade by experiment enrollment
5.2 Analysis Methods
We designed the overall experiment to allow us to examine the
relationship between time spent and outcomes (grades and com-
pletion); the association between testing practices, sources of help,
andeditorselectionandoutcomes;andtheeffectofconditionon
theamountoftimeandfunstudentspredictediftheyhaddonethe
assignment in otherlanguages, as well as the effect of condition on
amount and sources of help.
Inordertohelpusrefineourlistofhypotheseswhileensuringa
sound data analysis, we randomly reserved data from 10% of the
participantsforexploratoryanalysis.Wevisualizedthisexploratory
data and conducted statistical tests to identify interesting hypothe-
ses about the effects of garbage collection and other factors that
mightinfluence outcomes.Fromthisexploration, weselectedspe-
cificquestionsofinterestandassociatedhypothesistests.Finally,
we discarded the reserved 10% and performed the planned tests on
the remaining 90%. All results reported below are drawn from this
90%, except overall demographic information (e.g., participation
rates), which is reported for the entire dataset.
Becauseweconductedmultiplehypothesistests,weinterpretthe
results with a Holm-Bonferroni correction [ 17]. All of the reported
p-values are corrected and can be compared directly with ùõº;w es e t
ùõº=0.05in our interpretation.
5.3 Completion rates
We wanted to know whether Bronze participants were more likely
tofinisheitherindividualpartsoftheassignmentortheassignment
asawhole.WeconductedFisher‚Äôsexactteststocomparecomple-
tion rates (rates of scoring 100%) on each part of the assignmentacross conditions. This analysis concerns 301 of the 333 total ex-
periment participants, which omits the 10% of the participants that
werewithheldforexploratoryanalysis.Completionratesofeach
partareshowninFigure3.For Ownership,wefoundnosignificant
difference in completion rate ( ùëù‚âà1.00). Comparing Aliasing noGC
(Traditional) and Aliasing GC, we found that Bronze users were
significantly more likely to score 100% ( ùëù‚âà.006). The odds ra-
tio was approximately 0.41, indicating that the odds of finishing
for participants notusing Bronze were approximately 0.41times 
 
 
 
 
 2ZQHUVKLS *&
2ZQHUVKLS QR*&
$OLDVLQJ *&
$OLDVLQJ QR*&
2YHUDOO¬≤%URQ]H
2YHUDOO¬≤7UDGLWLRQDO
    
)UDFWLRQRISDUWLFLSDQWV&RQGLWLRQDQGSDUW&RPSOHWH
,QFRPSOHWH
Figure 3: Fractions of participants who completed each part

Ownership Aliasing Aliasing noGC TotalGC       noGC GC      noGC noGC GC       noGCBronze
Traditional
TaskParticipant‚Äôs 
conditionHours
Figure4:Totalreportedtimespentonpartsafter Ownership.
theoddsoffinishingforparticipantswhoDIDuseBronze.When
consideringprobabilityofcompletingallparts,Fisher‚Äôsexacttest
indicated no significant difference between conditions ( ùëù‚âà.51).
5.4 Completion times
Fortasksafter Basics(i.e.,afterparticipants wereassignedtocon-
ditions), we hypothesized that Bronze would enable participantsto complete tasks faster. We analyzed the 149 participants who
finished all the tasks. For these tasks, a Shapiro-Welk normality
testfoundalikelyviolationofnormalityofthecompletiontimes
(ùëù<.001). Therefore, we conducted nonparametric Wilcoxon tests
rather than ANOVA tests. Figure 4 shows the total times reported
across the conditions. Figure 4 excludes the Basics task, since that
taskprecededassignmenttoconditionsandbecauseweonlyasked
participants to start tracking their time afterthe Basics task was
complete.Nevertheless,weaskedparticipantstoestimatehowlongtheyspentontheBasicstask,andtheyreportedameanof3.5hours
(SD‚âà3hours).Task Aliasing noGCisnotcomparedtoanyother
task; instead, we leverage it for computing the total time spent on
all tasks (column ‚ÄúTotal‚Äù in Figure 4).
We did not find a significant difference in Ownership time
(ùëä=2449.5,ùëù‚âà1).However,Bronzeparticipantsfinished Alias-
ingsignificantlyfaster(median=4hours)thanTraditionalRustpar-
ticipants(median=12hours)( ùëä=561,ùëù<.001).Wedidnotfinda
significant difference in total completion time ( ùëä=2354.5,ùëù‚âà1).
We also compared completion times spent by participants who
didnotfinish.AWilcoxonranksumtestfoundnosignificantdif-
ference (ùëä=829,ùëù‚âà1). We also compared times reported by
1027
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
%DVLFV
2ZQHUVKLS *&
$OLDVLQJ *&
$OLDVLQJ QR*&
    
)UDFWLRQ6WURQJO\GLVDJUHH
6RPHZKDWGLVDJUHH1HLWKHUDJUHHQRUGLVDJUHH6RPHZKDWDJUHH6WURQJO\DJUHH1 
1 
1 
1 
Figure 5: Agreement with ‚ÄúGC in Rust makes writing pro-
grams easier‚Äù (Bronze participants only).
participants who scored 100% to times by participants who did not,
finding no significant difference ( ùëä=5675,ùëù‚âà1).
Figure4 alsoshowsthe distributionoftimes for Aliasing noGC
when completed by Bronze participants. The median time was 8
hours(mean=9.9, ùëÜùê∑=8.4).Thedifferencebetweenmediansof
Aliasing timesacrossconditionswasalso8hours,explainingwhy
we did not find a difference in total time spent across conditions.
5.5 Does GC make writing programs easier?
If users feel that GC makes programming easier, then including
GCinalanguagemightimprovelanguageadoptionrates.Wewere
interested in how Bronze participants‚Äô opinions of GC changed
whileusingit.ResponsestoourquestionaboutwhetherGCmakes
programs easier were on a Likert scale with a 0 to 4 point range,
with4indicatingastrongbeliefthatGCmadeprogrammingeasier.
Median scores were 2 after Basicsand 4 after Aliasing noGC. Thus,
after trying the assignment with and without GC, they recognized
astrongbenefitofGC.Anordinalregressionyielded ùëù<.001(odds
ratio21.4),indicatingasignificanteffectofdoingtheassignmenton
beliefs about GC helpfulness. Figure 5 illustrates how participants‚Äô
beliefs about GC changed over time.
5.6 Liking Rust: comparison between
conditions and over time
We hypothesized that if Bronze helped participants complete tasks
faster,BronzeparticipantsmightlikeRustbetterthanTraditional
participants. Each survey asked: ‚ÄúHow much do you like Rust?‚Äù
onafour-pointLikertscale(weomittedaneutraloptioninorder
to force expressing a preference). Figure 6 shows the responses.
We conducted an ordinal regression to assess whether there was a
difference in Likert-scale responses across conditions after experi-
mentparticipantswerefinishedwiththeproject(including those
who did not score 100%). We found ùëù‚âà1, indicating no significant
effectofGConlikingRustbytheendoftheassignment.Wealso
compared responses to this question after Ownership; the ordinal
regression gave ùëù‚âà1, also indicating no significant difference.
5.7 Estimated time and fun in other languages
We were interested in how usage of Bronze might impact beliefs
about time required in otherlanguages, since a high estimate of
timeinanotherlanguagemightcorrelatewithahigherchanceof
choosing Rust, and since a good experience with GC might lead
tohigherestimatesinlanguagesthatdonotprovideGC.Ineach
survey, weasked participants: ‚ÄúSupposeyou had done thispart of
the assignment in a different language instead. How much time
wouldithavetakeninTHATlanguagecomparedtousingRust?‚Äù2ZQHUVKLS QR*&
2ZQHUVKLS *&
$OLDVLQJ QR*&
$OLDVLQJ *&
$OLDVLQJ QR*&%URQ]H
    
)UDFWLRQ'LVOLNHDORW
'LVOLNHVRPHZKDW/LNHVRPHZKDW
/LNHDORW1 
1 
1 
1 
1 
Figure 6: Amount participants reported liking Rust on a 4-
pointLikertscale. Aliasing noGC(Bronze)indicatesthattask
done by Bronze participants.
We asked a corresponding question asking about prediction of fun
comparedtoRust.Responseswereonafive-pointLikertscale,with
an additional ‚ÄúI‚Äôm not familiar enough with this language to judge‚Äù
option. We asked about C, C++, Java, and Python. Our exploratory
dataanalysisledustohypothesizethattherelationshipswereweak,iftheycouldbefoundatall.Thestrongestrelationshipappearedto
bewithpredictionoftimeinC,andwehypothesizedthatBronze
participants would estimate longer times in C than the non-Bronzeparticipants,sincetheywouldbemoreawareofthecostofmanual
memory management.
TocomparepredictedtimeinCacrossthetwoconditions(for
whichwereceived864responsesfrompeoplefamiliarenoughwith
C to answer), we used an ordinal regression mixed model. This
approachaccountedforthefactthatweaskedthesamequestion
of each participant after completing each part of the assignment.
We found no significant difference ( ùëù‚âà1).
5.8 Correlations among opinions
Toimproveadoptionofalanguage,itmightbeusefultounderstand
what factors of a programmer‚Äôs experience correlate with liking a
language.Afterparticipantscompletedeachpartoftheassignment,
weaskedthemhowmuchstress,time,intellectualchallenge,and
frustrationtheyexperiencedcomparedtotheirexpectation,aswell
as how much they liked Rust. We analyzed the correlations among
feelings about Rust and other aspects of participants‚Äô experiences.
Figure7showsthepairwisecorrelations.Forthe timemetric,we
asked participants to compare the amount of time they spent to
the amount of time they expected to spend; we asked this question
rather than using the reported times in order to focus on partici-
pants‚Äôfeelingsabouttime.Stress,time,intellectualchallenge,and
frustration appear to be strongly correlated, and assessments of
whetherparticipantslikeRustaremoderatelycorrelatedwithstress
and frustration.
5.9 Amount learned about Rust
Aftercompletingeachpartoftheassignment,weaskedparticipants
how much they felt they learned about various topics in Rust. Fig-
ure 8 shows the results for ownership and borrowing. The amount
participants reported learning in each part of the assignment does
not appear to depend on whether participants used Bronze.
5.10 Factors influencing grades
FactorsotherthanusageofBronzemayaffectsuccess;wehoped
to understand what factors were relevant. In our exploratory data
1028
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. Garbage Collection Makes Rust Easier to Use: A Randomized Controlled Trial of the Bronze Garbage Collector ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
√≠ √≠
√≠

√≠


√≠√≠√≠√≠√≠7LPHVSHQW &KDOOHQJH )UXVWUDWLRQ 6WUHVV
/LNH5XVW
7LPHVSHQW
&KDOOHQJH
)UXVWUDWLRQ
Figure 7: Correlations among participants‚Äô assessments of
their experiences.
2ZQHUVKLS QR*&
2ZQHUVKLS *&
$OLDVLQJ QR*&
$OLDVLQJ *&
$OLDVLQJ QR*&%URQ]H
    
)UDFWLRQ$OUHDG\XQGHUVWRRG
/HDUQHGQRWKLQJ/HDUQHGDOLWWOH/HDUQHGDORW1 
1 1 
1 
1 
(a) Amounts learned about ownership
2ZQHUVKLS QR*&
2ZQHUVKLS *&
$OLDVLQJ QR*&
$OLDVLQJ *&
$OLDVLQJ QR*&%URQ]H
    
)UDFWLRQ$OUHDG\XQGHUVWRRG/HDUQHGQRWKLQJ/HDUQHGDOLWWOH/HDUQHGDORW1 
1 1 
1 
1 
(b) Amounts learned about borrowing
Figure8:Amountslearnedaftereachpartofthestudy. Alias-
ing noGC(Bronze) indicates that task done by Bronze partici-
pants.
analysis (on 10% of the data), we used a linear mixed-effects model
to evaluatethe relationship betweenmethods that participants re-
portedusingandtheirassignmentgrades.Welookedattimespent,
sources of help, and choice of developing on their own machine or
on a server.Based on this, we hypothesized thatcourse grade and
developmentlocationmightbesignificantfactors.Studentswhodo
theworkonadepartmentservermayhavelessaccesstocomputing
resourcesorlessskillatconfiguringsystems.Alinearregression
foundasignificantpositivecorrelationwithcoursegrade( ùëù<.001,
adjustedùëü2‚âà.044,ùëÅ=864)andthata1-pointincreaseincourse
gradecorrespondedwitha .692-pointincreaseinassignmentgrade.
Development location was not a significant factor.
Because course grade only explained a small amount of the
varianceinassignmentgrade,wedidadditionalexplorationwith
the10%withheldsamplestoidentifyastrongerpredictorofgrades,
focusing on the whole assignment grade (rather than individual
tasks).Returningtotheremainingdataset,whenpredictingscoreonpartsafter Basicsfromhoursspentandcoursegrade,wefoundthata significant correlation only with grade ( ùëù<.001, adjusted ùëü2=
0.2465,ùëÅ=864).However,whenpredictinggradesfor Aliasing
only (both GC and non-GC, with grades re-scaled from 0 to 100%),
wefoundthattimespentandcoursegradewerebothsignificant
predictors ( ùëù<.001for both factors). The model for Aliasing
explained 20.9% of the variance in grades ( ùëü2‚âà.209).
6 QUALITATIVE ANALYSIS OF RESPONSES
Thesurveysincludedtwofree-responsequestions:‚ÄúWhataspectsof
this part of the assignment did you find most difficult?‚Äù and ‚ÄúWhat
shouldwechangeabouttheclasstohelpfuturestudentsunderstandtheconceptsinRustbetter?‚ÄùAlthoughnotallparticipantstriedbothconditions,theirsubjectiveexperienceswithonlyoneconditioncanprovideinsightsabouttheirexperiencesaswellashelpunderstandfactorsthatmayrelatetotheirfuturedecisionsaboutprogramming
tools. To analyze the data, we conducted a thematic analysis [ 6].
A single domain expert inductively developed the codebook and
codedallresponses,inconsultationwiththeresearchteam.Becauseanswerstothetwoquestionsoverlapped,weanalyzedallresponses
together.Wewereinterestedingleaninginsightsaboutlanguage
design as well as pedagogy from the responses.
References, lifetimes,ownership amongthe mostchallengingas-
pects.We received 1,143 comments on challenges that participants
faced.340pertainedto references,ofwhich204wereabout lifetimes.
116 comments indicated syntaxhad been challenging. 100 men-
tionedinterior mutability,8 3 dynamic borrowing, and 70 mutability.
Consistentwithearlierreports[ 12,34],199participantsreported
thatownershipwaschallenging;76suchreportswereaboutborrow-
ing. One student, after finishing Aliasing GC, reported: ‚ÄúLearning
rust ownership is like navigating a maze where the walls are made
of asbestos and frustration, and the maze has no exit, and everytime you hit a dead end you get an aneurysm and die.‚Äù A Tradi-
tional student reported: ‚ÄúCoding with ownership rules and trying
to implement mutability, in general, was just such a headache. It is
like someone had combined the worst part of C and Java.‚Äù
Aliasing noGCrequired designing structures that supported dy-
namicborrowing ‚Äîaborrowedreferencewhosesafetywaschecked
dynamicallyratherthanstatically.Thisrequiredunderstandingthe
RustRefandRefMutstructures,whichdynamicallytrackoutstand-
ing borrows of cells. One participant explained the difficulty: ‚ÄúIttookmealongtimetofigureoutthefieldtypeswiththecorrect
lifetimes...OnceIknewwhatthetypeswere,ittookmeaboutan
hour or two to figure out the rest of the functions. It was quite
confusingandfrustratingfiguringouthowtouseRcandRefCell
in the right spots, and my initial approach did not use them nearly
as much as my final solution did.‚Äù
Errormessagescanhelp,butmaynotaiddesignorcomprehension.
AlthoughRust‚Äôserrormessageshaveareputationforbeinghigh-
quality [12] (one participant wrote ‚Äúthe Rust compiler pretty much
just wrote the program for me‚Äù), the compiler cannot give high-
level design feedback. One GC participant explained: ‚ÄúWhen I was
testing my non-GC version, I‚Äôd never run into so many errors inmy life. When I tried fixing my errors, new ones just came up.I‚Äôve heard students compare the debugging process for the non-GC version to a never-ending game of whack-a-mole.‚Äù Another
1029
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
reported:‚ÄúTranslatingfromGCtonoGCwasanightmare.Itwasn‚Äôt
assimpleasswitching GcRef<Turtle> toRc<RefCell<Turtle>> because
of the new structs. Figuring out the typing of the structs along
with debugging all the mutable references errors that resulted took
hours and even some of the TAs couldn‚Äôt help me.‚Äù Error messages
could also lead to working code without teaching the programmer
whatwaswrong:‚ÄúGettingweirderrorsthatIstilldon‚Äôtunderstand
but just fixed by listening to the compiler.‚Äù
Errormessagesalsotendtogivelocaladvicethatdoesnotneces-
sarily lead the user in the right direction. One participant reported
‚Äúerror messages were cyclical with things like remove &then after
removing try adding & .‚ÄùThreeparticipantssaiditwaspossibletofix
errorsbyfollowinginstructionswithoutunderstandingwhatwas
goingon.Ahigher-levelerrormanagementapproach,andbetter
integration into an IDE (e.g., with visualizations [16]), could help.
Garbage collection avoids mutability problems. We received 103
comments regarding garbage collection. 28 asked us to explain GC
morethoroughly. 43saidtheyhadahardtimeunderstandingGC.
However, some Bronze participants observed, after finishing the
assignment,thatGChadbeenveryhelpful.Onereported:‚ÄúAfter
doing this part, I actually realized the power of garbage collection.
UsingRefCellandRcstocreateinteriormutability,etc.issohectic.I
wouldalwaysprefer GcRef!Technically Rc<RefCell<T>> actslike GcRef
butmuchmorework!‚ÄùAnotherparticipantsaid:‚ÄúUnderstanding
references,lifetimes,andmutabilitywithoutgarbagecollectionis
very difficult. It is not intuitive or understandable without GC.‚Äù
FreecopyingofGCreferencesappearedtobecriticaltothehelp-
fulnessof GC.Oneparticipant said:‚ÄúThe transitionfromgarbage
collection to non-gc was rough. I think the garbage collection was
aseasyasitwasbecauseitimplementedtheCopytrait.Mymost
common error in this project was the one where a certain variable
was moved because it was of a type that didn‚Äôt implement copy. If
not for some TA help, I would have been completely lost.‚Äù
Studentswantedmoretimeandmoreexamplestosupportlearn-
ing.We received 715 comments regarding the course design, as-
signments,lectures, andrecitations.Participantsreported thatthe
Aliasing task was extremely challenging, and that previous parts
of the assignment left them unprepared for it. 182 comments asked
us to revise the project design or clarify the specifications.
190commentsaskedforalonger,morecompletetreatmentof
Rust in future versions of the course. 54 asked for an intermediate-
level assignment. One participant put the steep learning curve
(despite splitting the work over multiple parts) as follows: ‚ÄúI think
having this...projectis abit steep.I felt likeI wasbeingthrowninto a big steaming wok.‚Äù In particular, students requested moreor more detailed examples (74), more or continued live coding
demonstrations (35), and more discussion sections (31).
7 DISCUSSION
Wediscusskeytakeawaysandlessonslearnedfromourexperiment.
Even with GC, Rust learners need to understand ownership, bor-
rowing, and lifetimes. When designing the experiment, we were
concernedthatusingGCwouldallowparticipantstoavoidlearning
aboutownership,borrowing,andlifetimes.Becausewewerehop-
ing Bronze would be an aid to learning traditional Rust, this mighthave been a problem. However, because of the fundamental way
ownershipisusedinRust,muchofthecoderequiredunderstanding
ownership and borrowing even with GC. In this assignment, GC
primarily served to aid situations that involved multiple references
to values. As Figure 8 shows, participants reported learning similar
amounts about these critical topics across conditions.
Most of the benefit of GC comes from architectural simplification.
Participants reported that the architectural requirements in Alias-
ingnoGCwere extremely challenging; it is likely that the design
wasasignificantcontributortothedifferenceinperformancebe-
tween non-Bronze and Bronze participants. In particular, although
Bronze participants only needed to return GC references, Tradi-
tional Rust participants participants needed to fill in TurtleRef and
BorrowedTurtle structures,which requiredadditional designinsight.
The challenge posed by this design was apparent in the survey
responses, in which 100 comments pertained to interior mutability
and83todynamicborrowing(almostasmanytotalasthe199who
complained about ownership or borrowing). We conclude that a
significant part of the benefit of GC in Rust programs is the archi-
tectural simplifications it enables and promotes.
Participants and non-participants were comparable. We were sur-
prised that students with higher grades were more likely to enroll;
we had expected students with lower grades would be more incen-
tivized by the extra credit. Perhaps students with higher grades
weremorewillingtoaccepttheadditionalworkofparticipating,
orperhapsthosestudentscaremoreaboutevensmallgradeboosts.
However, the difference in median course grade between partici-
pantsandnon-participants(90%vs.87.0%)wassmallenoughthat
we believe that our results likely generalize to the entire class.
Students would have benefitted from more time to complete the
assignment. The students were motivated by grades to complete
theassignment,butnearlyhalfofstudentsinbothconditionsdid
notfinishit(Figure3).Somestudentsreportedthattheywishedthe
workhadbeenassignedoveralongerperiodoftimeorearlierin
thesemester(furtherfromexams).Themedianparticipantspent15hoursontheexperiment,whichisabithighfora12-dayhomeworkassignment,andsomeparticipantsspentsignificantlymoretime.If
we had allocated more time for the assignment and given it earlier
in the semester, perhaps more students would have finished.
Withdrawals were mostly assigned to Bronze. Of the 41 with-
drawals,40hadbeenassignedtouseBronze.Eightwithdrewwithin
20minutesofsigningup,suggestingtheydidnotmakeaserious
attemptbeforeswitching.Whenwithdrawing,24studentsreportedthat theyfelt the non-GC versionwould be easier, perhaps because
the GC version required completing an additional part of the as-
signment. Sixsaid theydidn‚Äôt understand GCwell enoughor that
it was poorly documented. Eleven students gave no explanation.
We suspect the withdrawal rate would have been lower if we
couldhaveconvincedparticipantsthattheywerelikelytospend
thesameamountoftimetotalregardlessofwhichconditionthey
picked. Of course, this approach may not be practical in situations
wheretheexpectedtimesarenotyetknown.Futureexperiments
could provide incentives that depend on time spent; our design
incentivized unbiased time reporting.
1030
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. Garbage Collection Makes Rust Easier to Use: A Randomized Controlled Trial of the Bronze Garbage Collector ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, U SA
Encouragingadoptionofsaferlanguagesbyreducingstress. The
apparentdecreaseovertimeinhowmuchstudentslikeRust(Fig-
ure 6) suggests that if one wants to encourage Rust adoption,
changes to the assignment design are needed. It would appear
that theAliasing task had the largest influence on (dis)liking Rust.
It might be surprising that Bronze participants did not like Rust
any better than Traditional Rust participants after Aliasing GC,
whichBronzeparticipantscompletedinaboutathirdofthetime
ofTraditional Rustparticipants. Weobserved thatstressand frus-
tration correlate more closely with liking Rust than whether the
task took longer than participants expected. Expectancy-value the-
ory [33] suggests that an expectation of success contributes to
people‚Äôs motivation in doing tasks. The theory might suggest that
ifwewanttoencourageadoptionofRustandothersafelanguages,
itismoreimportanttoprovideuserswithaconsistentfeelingof
progress rather than focusing on minimizing total task completion
time.Predictabilityisbeneficialforpracticingsoftwareengineers
as well as for students, and language adopters must first learn the
languagebeforeusingitinaproject,sothisemphasisisvaluable
in practice as well as in education.
8 RELATED WORK
Empirical studies have been used to study several programminglanguagedesignquestions,suchasstatictyping[
15],lambdasin
C++ [31], immutability features [ 10], and typestate [ 8]. Qualitative
studies have also been used to understand what factors contribute
to users‚Äô perceptions of languages [ 9]. This is the first empirical
study of the usability of garbage collection of which we are aware.
SomeworkinvestigatedhowRustisusedinthewild.Astrauskas
et al. investigated the use of the unsafekeyword [ 3], finding that
muchcoderelieson unsafe.Fultonetal.[ 12]conductedasurveyand
interviewsofRustprogrammerstounderstandtheirmotivations
for adopting or not adopting Rust, finding that programmers are
motivatedby thesafety benefitsbut concernedaboutthe learning
curve and challenges in hiring experienced Rust programmers.
Other GCs for Rust include rust-gc [ 13], Shifgrethor [ 4], and
Josephine [ 18], which require manual specification of roots.
JosephineisforimplementationofJavaScriptinRust.Shredder[ 25]
supports concurrency, unlike Bronze, but accessing a GC object
requiresobtainingaguardtopreventconcurrentaccess.Itmanages
roots automatically by keeping a global list of all allocations. Asa result, references do not implement the
Copytrait and therefore
cannot be copied freely as they can in Bronze.
Meyerovich investigated programming language adoption [ 22];
developersreportedpreferringmore-expressivelanguages.Because
adding optional garbage collection allows developers to express
different kinds of aliasing structures than does Rust alone, adding
GC to Rust might make it more likely to be adopted. Zeng andCrichton [
35] investigated forum posts about Rust adoption, hy-
pothesizing that adoption barriers for Rust included poor tool pub-
licity, difficulty solving complex aliasing problems, and integration
challengeswithexistingcontexts.GCs,suchasBronze,mayhelp
makeiteasierforprogrammerstosolvecomplexaliasingproblems.
RustViz [ 21] is a visualization tool that may help programmers
learn Rust ownership semantics.Cyclone[ 14]integratedregion-basedmemorymanagement[ 30],
includinganoptionalgarbagecollector,intoasafedialectofC.Later
extensions included support for ownership and borrowing [ 27].
Casestudiesfoundthatsimilarperformancecouldbeobtainedif
the GC was used judiciously, but that GC can have a significant
performance cost if used globally.
9 CONCLUSIONS AND FUTURE WORK
We developed Bronze, a new library-based GC whose goal is to
ease the learning and use of Rust. We carried out a randomized,
controlled trial of Bronze that showed that it can significantly alle-
viate some of the challenges posed by the Rust aliasing restrictions
for Rust beginners: Bronze participants completed a task that re-
quiredacomplexaliasingstructureinaboutathirdasmuchtime
as traditional Rust participants. GC may enable Rust programmers,
particularly beginners, to complete tasks in much less time.
Wehopetoextendthecollectortotracearbitraryobjectsthat
maytransitivelycontainreferencestoGCobjects.Wewouldlike
to investigate the impact of using GC not just for complex alias-
ingscenarios,buttomitigatetheimpactofownershipingeneral;
perhaps doing so could flatten the learning curve and help usersfeel more positively about Rust. We would also like to relax the
single-threadassumptioninthecollector,whichwouldlikelyentail
changing from the shadow stack GC8that is currently in use.
The experiment is the first (to our knowledge) evaluating the
usability benefits of GC. We focused on using GC to relax alias-ing restrictions, but GC can also be used to avoid the challengesof reference counting and manual memory allocation. In the fu-
ture, library-based garbage collection could be used to evaluate the
usability tradeoffs of garbage collection in other contexts as well.
ACKNOWLEDGMENTS
We appreciate Dan Votipka‚Äôs feedback on drafts of this paper, as
well as the feedback from the anonymous reviewers. We thank
AlanJeffrey,ManishGoregaokar,FelixKlock,andPhilipReames
forinsightfuldiscussionsregardinggarbagecollectionandRust.Wealso thank those who piloted the experimental materials, includingMichaelDong,AaronEline,andthecourseTAs,whosupportedtheexperimentwhileitwasrunning.Finally,weappreciatethehelpful
design suggestions and guidelines from our IRB. This material isbased upon work supported by the National Science Foundation
under Grant No. 1801545. Any opinions, findings, and conclusions
or recommendations expressed in this material are those of the
author(s)anddonotnecessarilyreflecttheviewsoftheNational
Science Foundation.
8https://llvm.org/docs/GarbageCollection.html#the-shadow-stack-gc
1031
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Michael Coblenz, Michelle L. Mazurek, and Michael Hicks
REFERENCES
[1]YaseminAcar,ChristianStransky,DominikWermke,MichelleL.Mazurek,and
SaschaFahl.2017. SecurityDeveloperStudieswithGitHubUsers:Exploringa
ConvenienceSample.In ThirteenthSymposiumon UsablePrivacyandSecurity
(SOUPS2017) .USENIXAssociation,SantaClara,CA,81‚Äì95. https://www.usenix.
org/conference/soups2017/technical-sessions/presentation/acar
[2]AlfredV.AhoandJeffreyD.Ullman.1992. FoundationsofComputerScience.W .
H. Freeman. http://infolab.stanford.edu/~ullman/focs.html
[3]VytautasAstrauskas,ChristophMatheja,FedericoPoli,PeterM√ºller,andAlexan-
der J. Summers. 2020. How Do Programmers Use Unsafe Rust?. In Object-
orientedprogrammingsystems,languages,andapplications (OOPSLA).27pages.
https://doi.org/10.1145/3428204
[4] Without Boats. 2019. Shifgrethor. https://github.com/withoutboats/shifgrethor
[5] Hans-Juergen Boehm and Mark Weiser. 1988. Garbage collection in an uncoop-
erative environment. Software: Practice and Experience 18, 9 (1988), 807‚Äì820.
[6]Virginia Braun and Victoria Clarke.2006. Using thematic analysis in psychology.
Qualitative research in psychology 3, 2 (2006), 77‚Äì101.
[7]TiOBESoftwareBV.2021. TheTiOBEIndex . https://www.tiobe.com/tiobe-index/
[8]MichaelCoblenz,JonathanAldrich,BradA.Myers,andJoshuaSunshine.2020.
Can Advanced Type Systems Be Usable? An Empirical Study of Ownership,
Assets, and Typestate in Obsidian. In Object-oriented programming systems, lan-
guages, and applications (OOPSLA ‚Äô20).
[9]MichaelCoblenz,GauriKambhatla,PauletteKoronkevich,JennaL.Wise,Celeste
Barnaby, JoshuaSunshine, JonathanAldrich,and BradA. Myers.2021. PLIERS:
A Process That Integrates User-Centered Methods into Programming Language
Design.TOCHI28,4,Article28(July2021),53pages. https://doi.org/10.1145/
3452379
[10]Michael Coblenz, Whitney Nelson, Jonathan Aldrich, Brad Myers, and Joshua
Sunshine. 2017. Glacier: Transitive Class Immutability for Java. In International
Conference on Software Engineering (ICSE ‚Äô17) . IEEE Press, 496‚Äì506. https:
//doi.org/10.1109/ICSE.2017.52
[11]NickDiakopoulous,MythiliBagavandas,GurdeepSingh,PreetiKulkarni,and
Erico Guizzo. 2021. Top Programming Languages. https://spectrum.ieee.org/top-
programming-languages/
[12]Kelsey R. Fulton, Anna Chan, Daniel Votipka, Michael Hicks, and Michelle L.
Mazurek. 2021. Benefits and Drawbacks of Adopting a Secure Programming
Language:RustasaCaseStudy.In SeventeenthSymposiumonUsablePrivacyand
Security(SOUPS2021).USENIXAssociation. https://www.usenix.org/conference/
soups2021/presentation/fulton
[13] Manish Goregaokar. 2021. rust-gc. https://github.com/Manishearth/rust-gc/
[14]DanGrossman,GregMorrisett,TrevorJim,MichaelHicks,YanlingWang,and
James Cheney. 2002. Region-based Memory Management in Cyclone. In Pro-
gramming Language Design and Implementation (PLDI ‚Äô02). ACM, 282‚Äì293.
[15]StefanHanenberg,SebastianKleinschmager,RomainRobbes,√âricTanter,and
Andreas Stefik. 2014. An empirical study on the impact of static typing on
software maintainability. Empirical Software Engineering 19, 5 (Oct 2014), 1335‚Äì
1382. https://doi.org/10.1007/s10664-013-9289-1
[16]Trent Hill, James Noble, and John Potter. 2002. Scalable Visualizations of Object-
OrientedSystemswithOwnershipTrees. JournalofVisualLanguages&Com-
puting13, 3 (2002), 319‚Äì339. https://doi.org/10.1006/jvlc.2002.0238
[17]Sture Holm. 1979. A Simple Sequentially Rejective Multiple Test Procedure.
ScandinavianJournalofStatistics 6,2(1979),65‚Äì70. http://www.jstor.org/stable/
4615733
[18] Alan Jeffrey. 2018. Josephine. https://github.com/asajeffrey/josephine
[19]SteveKlabnikandCarolNichols.2018. RefCell<T> andtheInteriorMutability
Pattern, Chapter 15.5. In [20].
[20]Steve Klabnik and Carol Nichols. 2018. The Rust Programming Language.N o
Starch Press, USA.
[21]Gongming Luo, Vishnu Reddy, Marcelo Almeida, Yingying Zhu, Ke Du, and
Cyrus Omar. 2020. RustViz: Interactively Visualizing Ownership and Borrowing.
arXiv:2011.09012[cs.PL]
[22]LeoA.MeyerovichandArielS.Rabkin.2013. EmpiricalAnalysisofProgramming
Language Adoption. In Object-oriented programming systems, languages, and
applications (Indianapolis, Indiana, USA) (OOPSLA ‚Äô13). 1‚Äì18. https://doi.org/10.
1145/2509136.2509515
[23]AlenaNaiakshina,AnastasiaDanilova,EvaGerlitz,andMatthewSmith.2020. OnConductingSecurityDeveloperStudieswithCSStudents:ExaminingaPassword-
StorageStudywithCSStudents,Freelancers,andCompanyDevelopers.In CHI
Conference on Human Factors in Computing Systems (CHI 2020). 1‚Äì13. https:
//doi.org/10.1145/3313831.3376791
[24]Alena Naiakshina, Anastasia Danilova, Eva Gerlitz, Emanuel von Zezschwitz,
andMatthewSmith.2019. "IfYouWant,ICanStoretheEncryptedPassword":
A Password-Storage Field Study with Freelance Developers. In Proceedings of
the2019CHIConferenceonHumanFactorsinComputingSystems.1‚Äì12. https:
//doi.org/10.1145/3290605.3300370
[25] Others. 2021. Shredder. https://github.com/Others/shredder[26]Stack Exchange, Inc. 2020. Developer Survey Results. https://insights.
stackoverflow.com/survey/2020#technology-most-loved-dreaded-andwanted-
languages-loved
[27]NikhilSwamy,MichaelHicks,GregMorrisett,DanGrossman,andTrevorJim.2006. SafeManualMemoryManagementinCyclone. ScienceofComputerPro-
gramming(SCP) 62,2(Oct.2006),122‚Äì144. Specialissueonmemorymanagement.
Expands ISMM conference paper of the same name.
[28] The Rust team. 2021. The Rust Programming Language. http://rust-lang.org/
[29] Piazza Technologies. 2021. Piazza. https://piazza.com
[30]MadsTofteandJean-PierreTalpin.1997. Region-BasedMemoryManagement.
Inf. Comput. 132, 2 (Feb. 1997), 109‚Äì176.
[31]Phillip Merlin Uesbeck, Andreas Stefik, Stefan Hanenberg, Jan Pedersen, andPatrick Daleiden. 2016. An Empirical Study on the Impact of C++ Lambdas
andProgrammerExperience.In InternationalConferenceonSoftwareEngineer-
ing(Austin,Texas) (ICSE‚Äô16).ACM,760‚Äì771. https://doi.org/10.1145/2884781.
2884849
[32]PhilipWadler.1990. Lineartypescanchangetheworld.In Programmingconcepts
and methods, Vol. 2. 347‚Äì359.
[33]Allan Wigfield and Jacquelynne S. Eccles. 2000. Expectancy‚ÄìValue Theory of
Achievement Motivation. Contemporary Educational Psychology 25, 1 (2000),
68‚Äì81. https://doi.org/10.1006/ceps.1999.1015
[34]AshleyWilliams.2021. Safety-DS3SummitTalk. https://youtu.be/9bQgVlqwduY
[35]AnnaZengandWillCrichton.2018. IdentifyingBarrierstoAdoptionforRust
through Online Discourse. PLATEAU.
1032
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:20:26 UTC from IEEE Xplore.  Restrictions apply. 