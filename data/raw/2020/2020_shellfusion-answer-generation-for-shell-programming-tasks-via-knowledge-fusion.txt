4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLT
WJB ,OPXMFEHF 'VTJPO
/FOH ;IBOH1,‚àó $IBP -JV2 9JO 9JB3 $ISJTUPQI 5SFVEF4 :JOH ;PV5 %BWJE -P6 ;JCJO ;IFOH1
14DIPPM PG 4P‡•èXBSF &OHJOFFSJOH 4VO :BUTFO 6OJWFSTJUZ $IJOB
24DIPPM PG #JH %BUB BOE 4P‡•èXBSF &OHJOFFSJOH $IPOHRJOH 6OJWFSTJUZ $IJOB
34P‡•èXBSF &OHJOFFSJOH "QQMJDBUJPO 5FDIOPMPHZ -BC )VBXFJ $IJOB
44DIPPM PG $PNQVUJOH BOE *OGPSNBUJPO 4ZTUFNT 6OJWFSTJUZ PG .FMCPVSOF "VTUSBMJB
5%FQBSUNFOU PG &MFDUSJDBM BOE $PNQVUFS &OHJOFFSJOH ‡•ûFFO€ùT 6OJWFSTJUZ $BOBEB
64DIPPM PG *OGPSNBUJPO 4ZTUFNT 4JOHBQPSF .BOBHFNFOU 6OJWFSTJUZ 4JOHBQPSF
\[IBOHO[I[JCJO^!NBJMTZTVFEVDOMJVDIBP!DRVFEVDOYJOYJB!BDNPSHDISJTUPQIUSFVEF!VOJNFMCFEVBV
ZJOH[PV!RVFFOTVDBEBWJEMP!TNVFEVTH
"#453"$5
4IFMM DPNNBOET BSF XJEFMZ VTFE GPS BDDPNQMJTIJOH UBTLT TVDI BT
OFUXPSL NBOBHFNFOU BOE ‡©óMF NBOJQVMBUJPO JO 6OJY BOE -JOVYQMBUGPSNT ‡•üFSF BSF B MBSHF OVNCFS PG TIFMM DPNNBOET BWBJMBCMF'PS FYBNQMF  DPNNBOET BSF EPDVNFOUFE JO UIF 6CVOUV.BOVBM1BHFT	.1T
‡•ûJUFP‡•èFOQSPHSBNNFSTGFFMGSVTUSBUFEXIFOTFBSDIJOHBOEPSDIFTUSBUJOHBQQSPQSJBUFTIFMMDPNNBOETUPBDDPNQMJTI TQFDJ‡©óD UBTLT 5P BEESFTT UIF DIBMMFOHF UIF TIFMM QSPHSBNNJOHDPNNVOJUZDBMMTGPSFBTZUPVTFUVUPSJBMTGPSTIFMMDPNNBOET)PXFWFS FYJTUJOH UVUPSJBMT 	FH 5-%3
 POMZ DPWFS B MJNJUFE OVNCFS PG GSFRVFOUMZ VTFE DPNNBOET GPS TIFMM CFHJOOFST BOE QSPWJEFMJNJUFE TVQQPSU GPS VTFST UP TFBSDI GPS DPNNBOET CZ B UBTL
8F QSPQPTF BO BQQSPBDI JF 4IFMM'VTJPO UP BVUPNBUJDBMMZ HFO
FSBUF DPNQSFIFOTJWF BOTXFST 	JODMVEJOH SFMFWBOU TIFMM DPNNBOETTDSJQUT BOE FYQMBOBUJPOT
 GPS TIFMM QSPHSBNNJOH UBTLT 0VS BQQSPBDI JOUFHSBUFT LOPXMFEHF NJOFE GSPN 2" QPTUT JO 4UBDL &YDIBOHF6CVOUV.1TBOE5-%3UVUPSJBMT'PSBRVFSZUIBUEFTDSJCFTB TIFMM QSPHSBNNJOH UBTL 4IFMM'VTJPO SFDPNNFOET B MJTU PG SFMF
WBOU TIFMM DPNNBOET 4QFDJ‡©óDBMMZ 4IFMM'VTJPO SFUSJFWFT UIF UPQ n
2" QPTUT XJUI RVFTUJPOT TJNJMBS UP UIF RVFSZ BOE EFUFDUT TIFMMDPNNBOET XJUI PQUJPOT 	FH NU V
 GSPN UIF BDDFQUFE BOTXFST
PG UIF SFUSJFWFE QPTUT /FYU 4IFMM'VTJPO ‡©óMUFST PVU JSSFMFWBOU DPNNBOET XJUI EFTDSJQUJPOT JO .1 BOE 5-%3 UIBU TIBSF MJ‡•íMF TFNBOUJDT XJUI UIF RVFSZ BOE GVSUIFS SBOLT UIF DBOEJEBUF DPNNBOETCBTFE PO UIFJS TJNJMBSJUJFT XJUI UIF RVFSZ BOE UIF SFUSJFWFE QPTUT
5P IFMQ VTFST VOEFSTUBOE IPX UP BDIJFWF UIF UBTL VTJOH B SFDPN
NFOEFEDPNNBOE4IFMM'VTJPOHFOFSBUFTBDPNQSFIFOTJWFBOTXFSGPS FBDI DPNNBOE CZ TZOUIFTJ[JOH LOPXMFEHF GSPN 2" QPTUT.1T BOE 5-%3 0VS FWBMVBUJPO PG  TIFMM QSPHSBNNJOH UBTLT
TIPXTUIBU4IFMM'VTJPOTJHOJ‡©óDBOUMZPVUQFSGPSNT.BHOVN	UIFTUBUF
PGUIFBSUOBUVSBMMBOHVBHFUP#BTIDPNNBOEBQQSPBDI
CZBUMFBTU
 JO UFSNT PG .33!, BOE ."1!, " VTFS TUVEZ DPOEVDUFE
1FSNJTTJPO UP NBLF EJHJUBM PS IBSE DPQJFT PG BMM PS QBSU PG UIJT XPSL GPS QFSTPOBM PS
DMBTTSPPNVTFJTHSBOUFEXJUIPVUGFFQSPWJEFEUIBUDPQJFTBSFOPUNBEFPSEJTUSJCVUFEGPS QSP‡©óU PS DPNNFSDJBM BEWBOUBHF BOE UIBU DPQJFT CFBS UIJT OPUJDF BOE UIF GVMM DJUBUJPO PO UIF ‡©óSTU QBHF $PQZSJHIUT GPS DPNQPOFOUT PG UIJT XPSL PXOFE CZ PUIFST UIBO
"$.NVTUCFIPOPSFE"CTUSBDUJOHXJUIDSFEJUJTQFSNJ‡•íFE5PDPQZPUIFSXJTFPSSF
QVCMJTIUPQPTUPOTFSWFSTPSUPSFEJTUSJCVUFUPMJTUTSFRVJSFTQSJPSTQFDJ‡©óDQFSNJTTJPOBOEPS B GFF 3FRVFTU QFSNJTTJPOT GSPN QFSNJTTJPOT!BDNPSH
*$4& .⁄£ BZ ⁄ù 1J‡°áTCVSHI 1" 64"i  "TTPDJBUJPO GPS $PNQVUJOH .BDIJOFSZ
"$. *4#/ €™
IUUQTEPJPSHXJUITIFMMQSPHSBNNFSTGVSUIFSTIPXTUIBU4IFMM'VTJPODBOIFMQ
VTFST BEESFTT QSPHSBNNJOH UBTLT NPSF F‡©ôDJFOUMZ BOE BDDVSBUFMZ
DPNQBSFE XJUI .BHOVN BOE %FFQ"OT 	B SFDFOU BOTXFS SFDPNNFOEBUJPO CBTFMJOF

$$4 $0/$&154
€¶4P‡¢ÑXBSF BOE JUT FOHJOFFSJOH ‚Üí3FDPNNFOEFS TZTUFNT 
,&:803%4
4IFMM 1SPHSBNNJOH "OTXFS (FOFSBUJPO ,OPXMFEHF 'VTJPO
"$. 3FGFSFODF 'PSNBU
/FOH ;IBOH1,‚àó $IBP -JV2 9JO 9JB3 $ISJTUPQI 5SFVEF4 :JOH ;PV5 %BWJE
-P6 ;JCJO ;IFOH1  4IFMM'VTJPO "OTXFS (FOFSBUJPO GPS 4IFMM 1SP
HSBNNJOH5BTLTWJB,OPXMFEHF'VTJPO*O UI*OUFSOBUJPOBM $POGFSFODFPO
4P‡°ÑXBSF&OHJOFFSJOH	*$4&.
⁄£BZ⁄ù1J‡°áTCVSHI1"64" "$.
/FX :PSL /: 64"  QBHFT IUUQTEPJPSH
 */530%6$5*0/
*O 6OJY BOE -JOVY QMBUGPSNT TIFMM QSPHSBNNJOH JT XJEFMZ VTFEUP BDDPNQMJTI NBOZ UBTLT TVDI BT OFUXPSL NBOBHFNFOU BOE ‡©óMFNBOJQVMBUJPO"MBSHFOVNCFSPGTIFMMDPNNBOETIBWFCFFOEFWFMPQFE UP TVQQPSU TIFMM QSPHSBNNJOH 'PS FYBNQMF 6CVOUV B NBJOTUSFBN CSBODI PG -JOVY IBT NPSF UIBO  DPNNBOET EPDVNFOUFE JO JUT P‡©ôDJBM .BOVBM 1BHFT 	.1T
 <> *U JT FYUSFNFMZ EJG‡©óDVMU GPS VTFST UP LOPX BOE SFNFNCFS BMM UIF DPNNBOET <>
" HSFBU BNPVOU PG NBOVBM F‡©ñPSU IBT CFFO EFWPUFE UP DSFBUJOH
FBTZUPVTF UVUPSJBMT GPS TIFMM DPNNBOET UIBU BSF GSFRVFOUMZ VTFECZ QSPHSBNNFST <    > ‡•üF 5-%3 	TUBOET GPS €†5PP -POH%PO€ùU3FBE
€°QSPKFDU<>JTPOFPGUIFQPQVMBSUVUPSJBMT$VSSFOUMZ
5-%3DPOUBJOTBQQSPYJNBUFMZDPNNBOET'PSFBDIDPNNBOE5-%3 SFDPSET B TVNNBSZ PG UIF DPNNBOE€ùT GVODUJPOBMJUZ BOE TFW
FSBM FYBNQMF UBTLT XJUI UIF DPSSFTQPOEJOH TDSJQUT 	4FDUJPO 

"MUIPVHI UIF FYJTUJOH UVUPSJBMT DBO IFMQ VTFST MFBSO BOE VTF TIFMM
DPNNBOET UP TPNF FYUFOU UIFZ POMZ DPWFS B MJNJUFE OVNCFS PGGSFRVFOUMZ VTFE DPNNBOET XJUI B GFX FYBNQMFT GPS TIFMM CFHJOOFST BOE IBWF OP F‡©ñFDUJWF NFDIBOJTNT GPS VTFST UP TFBSDI DPNNBOET CZ B UBTL 3FDFOUMZ TFWFSBM BQQSPBDIFT BSF QSPQPTFE UPUSBOTMBUF OBUVSBM MBOHVBHF UBTLT UP #BTI DPNNBOET < > VTJOH B NBOVBMMZ DSFBUFE EBUBTFU /-#BTI /-#BTI DPOUBJOT BQQSPYJNBUFMZ  UBTLDPNNBOE QBJST UIBU DPWFS  DPNNPOMZ
19702022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)2022 IEEE/ACM 44th International Conference on Software Engineering (ICSE) 
SheiiFusion : Answer Gener ation for Shell Progra mm ing Tasks 
via Know ledge Fusion 
Neng Zha ng1,*, Chao Liu2, Xin Xia3, Christoph Tre ude4, Ying Zou5, David Lo6, Zibin Zheng1 
1School of Soft ware Engineering, Sun Yat-sen University, China 
2School of Big Data and Software Engineering, Chongqing University, China 
3Software Engineering Application Technology Lab, Hua wei, China 
4School of Com puting and Information Systems, Univer sity of Melbourne, Australia 
5Department of Electrical and Computer Engineering, Qyeen 's University, Canada 
6School oflnformation Systems, Singap ore Management Univer sity, Singap ore 
{zhangn 279, zhzibin}@mail .sysu.edu.cn, liu.ch ao@ cqu.edu.cn,xin.xia@acm.org, christoph.treude @unimelb .edu .au 
ying.zou@ queensu .ca, dav idlo@ smu.edu.sg 
ABSTRACT 
Shell commands are widely used for accomplishing tasks, such as 
network management and file manipul ation, in Unix and Linux 
platforms. There are a large number of shell commands available. 
For example, 50,000+ commands are documented in the Ubuntu 
Manual Pages (MPs ). Qyite often, programmers feel frustrated when 
searching and orchestrating appropriate shell commands to accom¬≠
plish specific tasks. To address the challenge, the shell program¬≠
ming community calls for easy-to-use tutorials for shell commands . 
However, existing tutorials (e.g., TLDR) only cover a limited num¬≠
ber of frequently used commands for shell beginners and provide 
limited support for users to search for commands by a task. 
We propose an approach, i.e., ShellFusion, to automatically gen¬≠
erate comprehensive answers (including relevant shell commands, 
scripts, and explanations) for shell programming tasks. Our ap¬≠
proach integrates knowledge mined from Q&A posts in Stack Ex¬≠
change, Ubuntu MPs, and TLDR tutorials. For a query that describes 
a shell programming task, ShellFusion recommends a list of rele¬≠
vant shell commands. Specifically, ShellFusion retrieves the top-n 
Q&A posts with questions similar to the query and detects shell 
commands with options (e.g., ls -t) from the accepted answers 
of the retrieved posts. Next, ShellFusion filters out irrelevant com¬≠
mands with descriptions in MP and TLDR that share little seman¬≠
tics with the query, and further ranks the candidate commands 
based on their similarities with the query and the retrieved posts. 
To help users understand how to achieve the task using a recom¬≠
mended command, ShellFusion generates a comprehensive answer 
for each command by synthesizing knowledge from Q&A posts, 
MPs, and TLDR. Our evaluation of 434 shell programming tasks 
shows that ShellFusion significantly outper forms Magnum (the state-
of-the-art natural language-to-Ba sh command approach) by at least 
179.6% in terms of MRR@K and MAP@K. A user study conducted 
Permission to make digital or hard copies of all or part of this work for personal or 
classroom use is granted without fee provided that copies are not made or distribute d 
for profit or commercial advantage and that copies bear this notice and the full cita¬≠
tion on the first page. Copyrights for components of this work owned by others than 
ACM must be honored. Abstracting with credit is permitte d. To copy otherwise, or re¬≠
publish, to post on servers or to redistribute to lists, requires prior specific permission 
and/or a fee. Request permissions from permissions@acm.org. 
ICSE '22, May 21-29, 2022, Pittsbur gh, FA, USA 
¬© 2022 Association for Computing Machinery. 
ACM ISBN 978-1-4503 -9221-1/22/05 ... $15.00 
https:/ /doi.org/1 0.1145/3510003.3510131 with 20 shell programmers further shows that ShellFusion can help 
users address programming tasks more efficiently and accurately, 
compare d with Magnum and DeepAns (a recent answer recom¬≠
mendation baseline). 
CCS CONC EPTS 
‚Ä¢ Software and its engineering ---> Recomme nder systems. 
KEYWO RDS 
Shell Programming, Answer Generation, Knowledge Fusion 
ACM Reference Format: 
Neng Zhang 1‚Ä¢', Chao Liu 2, Xin Xia 3, Christoph Treude 4, Ying Zou 5, David 
Lo6, Zibin Zheng 1. 2022. Shel!Fusion: Answer Generation for Shell Pro¬≠
gramming Tasks via Knowledge Fusion. In 44th International Conf erence on 
Software Engineer ing (ICSE '22), May 21 -29, 2022, Pitts burgh, FA, USA. ACM, 
New York, NY, USA, 12 pages. https://doi .org/ 10.1145/35 1000 3.35101 31 
1 INTRODUCTION 
In Unix and Linux platforms, shell programming is widely used 
to accomplish many tasks such as network management and file 
manipul ation. A large number of shell commands have been devel¬≠
oped to support shell programming. For example, Ubuntu, a main¬≠
stream branch of Linux, has more than 50,000 commands docu¬≠
mented in its official Manual Pages (MPs) [12]. It is extremely dif¬≠
ficult for users to know and remember all the commands [21]. 
A great amount of manual effort has been devoted to creating 
easy-to-use tutorials for shell commands that are frequently used 
by programmers [2, 3, 11, 34, 36]. The TLDR (stands for "Too Long, 
Don't Read") project [11] is one of the popular tutorials. Currently, 
TLDR contains approximately 2,000 commands. For each command, 
TLDR records a summary of the command's functionality and sev¬≠
eral example tasks with the correspo nding scripts (Section 2.1.5). 
Although the existing tutorials can help users learn and use shell 
commands to some extent, they only cover a limited number of 
frequently used commands with a few examples for shell begin¬≠
ners, and have no effective mechanisms for users to search com¬≠
mands by a task. Recently, several approaches are proposed to 
translate natural language tasks to Bash commands [15, 29] us¬≠
ing a manually created dataset, NL2Bash. NL2Bash contains ap¬≠
proximately 9,305 task-command pairs that cover 102 commonly 
1970 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
VTFE DPNNBOET ‡•üF BQQSPBDIFT DBOOPU BEESFTT NBOZ UBTLT UIBU
SFRVJSF DPNNBOET PVUTJEF UIF EBUBTFU
2" DPNNVOJUJFT FH 4UBDL 0WFS‡©òPX 	40
 <> IBWF BDDVNV
MBUFE NJMMJPOT PG RVFTUJPOT BOE BOTXFST BCPVU WBSJPVT QSPCMFNTBOECFDPNFBLOPXMFEHFSFQPTJUPSZGPSVTFST<>‡•üFSFBSFNBOZ2"QPTUTSFMBUFEUPTIFMMQSPHSBNNJOHJOGPVSQPQVMBS2"DPNNVOJUJFTJF40"TL6CVOUV	"6
<>6OJY-JOVY	6-
<>BOE4VQFS 6TFS 	46
 <> 4VDI QPTUT DBO CF MFWFSBHFE UP EFTJHO BVUPNBUJD BQQSPBDIFT GPS BEESFTTJOH TIFMM QSPHSBNNJOH UBTLT XJUIPVUCFJOH MJNJUFE CZ UIF NBOVBMMZ DSFBUFE UBTLDPNNBOE EBUBTFU
*O UIJT QBQFS XF QSPQPTF BO BQQSPBDI OBNFMZ 4IFMM'VTJPO UP
BVUPNBUJDBMMZ HFOFSBUF BOTXFST GPS TIFMM QSPHSBNNJOH UBTLT CZJOUFHSBUJOH LOPXMFEHF NJOFE GSPN 2" QPTUT 6CVOUV .1T BOE
5-%3 UVUPSJBMT 8F ‡©óSTU DPMMFDU TIFMMSFMBUFE RVFTUJPOT GSPN GPVS
2" DPNNVOJUJFT "6 6- 46 BOE 40 BOE FYUSBDU LOPXMFEHF PGTIFMM DPNNBOET GSPN 6CVOUV .1T BOE 5-%3 UVUPSJBMT 8F UIFOJOEFY UIF RVFTUJPOT VTJOH -VDFOF <> BO F‡©ôDJFOU UFYU TFBSDI FOHJOF UIBU JNQMFNFOUT UIF SBOLJOH GVODUJPO #. 8F BMTP CVJMEB XPSE *OWFSTF %PDVNFOU 'SFRVFODZ 	*%'
 <> WPDBCVMBSZ BOE B
XPSEFNCFEEJOHNPEFMVTJOHUIFRVFTUJPOT(JWFOBRVFSZUIBUEF
TDSJCFT B TIFMM QSPHSBNNJOH UBTL 4IFMM'VTJPO EFUFSNJOFT B MJTU PGSFMFWBOU TIFMM DPNNBOET UP SFDPNNFOE 4QFDJ‡©óDBMMZ JU SFUSJFWFTUIF UPQnRVFTUJPOT TJNJMBS UP UIF RVFSZ VTJOH -VDFOF TFBSDI BOE
B XPSE FNCFEEJOH NPEFMCBTFE NFUIPE *U UIFO EFUFDUT TIFMM DPNNBOET XJUI PQUJPOT 	FH NU V
 GSPN UIF BDDFQUFE BOTXFST PG UIF
TJNJMBS RVFTUJPOT BOE ‡©óMUFST PVU JSSFMFWBOU DPNNBOET XIJDI IBWFEFTDSJQUJPOT JO .1 BOE 5-%3 UIBU TIBSF MJ‡•íMF TFNBOUJDT XJUI UIFRVFSZ /FYU 4IFMM'VTJPO SBOLT UIF DBOEJEBUF DPNNBOET CBTFE POUIFJS TJNJMBSJUJFT XJUI UIF RVFSZ BOE UIF TJNJMBS RVFTUJPOT 5P IFMQVTFST VOEFSTUBOE IPX UP BEESFTT UIF RVFSZ VTJOH B SFDPNNFOEFEDPNNBOE 4IFMM'VTJPO HFOFSBUFT B DPNQSFIFOTJWF BOTXFS GPS UIFDPNNBOE CZ TZOUIFTJ[JOH 
 UIF P‡©ôDJBM .1 TVNNBSZ 
 UIF NPTUTJNJMBS 5-%3 UBTLTDSJQU QBJS 
 UIF UPQ TJNJMBS RVFTUJPOT XJUIBDDFQUFE TDSJQUT UIBU VTF UIF DPNNBOE BOE 
 UIF FYQMBOBUJPOTBCPVU UIF PQUJPOT PG UIF DPNNBOE VTFE JO UIF TDSJQUT
5PFWBMVBUF4IFMM'VTJPOXFDSFBUFTIFMMQSPHSBNNJOHUBTLT
GSPN UIF UJUMFT PG TIFMMSFMBUFE RVFTUJPOT 8F DPNQBSF 4IFMM'VTJPO
XJUI .BHOVN <> UIF TUBUFPGUIFBSU BQQSPBDI GPS USBOTMBUJOH
OBUVSBMMBOHVBHFUBTLTUP#BTIDPNNBOET4IFMM'VTJPOTJHOJ‡©óDBOUMZPVUQFSGPSNT .BHOVN CZ BU MFBTU  JO UFSNT PG UIF .33!,BOE ."1!, NFUSJDT *O BEEJUJPO UP UIF XJEFMZ VTFE 2" QPTUT4IFMM'VTJPO JOUFHSBUFT UXP TQFDJBMJ[FE JOGPSNBUJPO TPVSDFT UIF PG‡©óDJBM .1T BOE UIF VOP‡©ôDJBM 5-%3 UVUPSJBMT 8F FWBMVBUF UIF DPOUSJCVUJPOT PG UIF UXP JOGPSNBUJPO TPVSDFT CZ UFTUJOH UISFF WBSJBOUTPG 4IFMM'VTJPO 	4FDUJPO 
 ‡•üF SFTVMUT TIPX UIBU CPUI .1T BOE
5-%3DPOUSJCVUFUP4IFMM'VTJPOBOE5-%3IBTNPSFDPOUSJCVUJPOT
UIBO .1T 8F GVSUIFS DPOEVDU B VTFS TUVEZ XJUI  TIFMM QSPHSBNNFSTPOUFOQSPHSBNNJOHUBTLT‡•üFSFTVMUTTIPXUIBU4IFMM'VTJPODBO IFMQ VTFST BEESFTT TIFMM QSPHSBNNJOH UBTLT NPSF F‡©ôDJFOUMZBOE BDDVSBUFMZ DPNQBSFE XJUI .BHOVN BOE %FFQ"OT <> 	BO BOTXFS SFDPNNFOEBUJPO NPEFM UIBU VTFT B EFFQ MFBSOJOH UFDIOJRVF

‡•üF NBJO DPOUSJCVUJPOT PG UIJT QBQFS BSF PVUMJOFE CFMPX
‚Ä¢8FQSPQPTF4IFMM'VTJPOUPHFOFSBUFDPNQSFIFOTJWFBOTXFSTGPSTIFMMQSPHSBNNJOHUBTLTCZJOUFHSBUJOHLOPXMFEHFNJOFEGSPN 2" QPTUT .1T BOE 5-%3 5P UIF CFTU PG PVS LOPXMFEHF4IFMM'VTJPOJTUIF‡©óSTUXPSLPOCPUIDPNNBOESFDPNNFOEBUJPO BOE BOTXFS HFOFSBUJPO GPS TIFMM QSPHSBNNJOHUBTLT VTJOH B LOPXMFEHF GVTJPO NFUIPE
‚Ä¢0VS XPSL BEWBODFT TP‡•èXBSF FOHJOFFSJOH SFTFBSDI CZ GVTJOH BOE ‡©óMUFSJOH LOPXMFEHF GSPN 2" TJUFT CBTFE PO CPUIGPSNBM BOE JOGPSNBM TP‡•èXBSF EPDVNFOUBUJPO
‚Ä¢8F QSPQPTF B NFUIPE GPS JEFOUJGZJOH TIFMM DPNNBOET XJUIPQUJPOT GSPN 2" QPTUT
‚Ä¢0VSRVBOUJUBUJWFFWBMVBUJPOBOEVTFSTUVEZEFNPOTUSBUFUIFF‡©ñFDUJWFOFTTBOEQSBDUJDBMJUZPG4IFMM'VTJPODPNQBSFEXJUIUIF TUBUFPGUIFBSU CBTFMJOFT
‚Ä¢8F SFMFBTF UIF TPVSDF DPEF PG 4IFMM'VTJPO BOE UIF FYQFSJNFOU EBUBTFU PO (JU)VC <> UP IFMQ PUIFS SFTFBSDIFST SFQMJDBUF BOE FYUFOE PVS TUVEZ
‡•üFSFTUPGUIFQBQFSJTTUSVDUVSFEBTGPMMPXT4FDUJPOEFTDSJCFT
UIF EFUBJMT PG 4IFMM'VTJPO 4FDUJPO  EFTDSJCFT UIF FYQFSJNFOUBMTFUVQGPSFWBMVBUJOH4IFMM'VTJPO4FDUJPOQSFTFOUTUIFFYQFSJNFOUSFTVMUT 4FDUJPO  EFTDSJCFT UIF VTFS TUVEZ 4FDUJPO  EJTDVTTFT UIFUISFBUT UP WBMJEJUZ PG UIJT XPSL 4FDUJPO  SFWJFXT UIF SFMBUFE XPSL4FDUJPO  DPODMVEFT UIF QBQFS BOE EJTDVTTFT GVUVSF XPSL
 "1130"$)
'JH  TIPXT BO PWFSWJFX PG 4IFMM'VTJPO DPOTJTUJOH PG UXP DPNQPOFOUT /circlecopyrt0‡§¢JOF 1SPDFTTJOH UIBU FYUSBDUT TIFMMSFMBUFE RVFTUJPOT
GSPN 2" DPNNVOJUJFT BOE NJOFT LOPXMFEHF PG TIFMM DPNNBOETGSPN 6CVOUV .1T BOE 5-%3 UVUPSJBMT 8F JOEFY UIF RVFTUJPOT VTJOH -VDFOF BOE CVJME B XPSE *%' WPDBCVMBSZ BOE B XPSE FNCFEEJOH NPEFM GSPN UIF RVFTUJPOT BOE /circlecopyrt0OMJOF "OTXFS (FOFSBUJPO
UIBUHFOFSBUFTBOTXFSTGPSBRVFSZEFTDSJCJOHBTIFMMQSPHSBNNJOHUBTL 8F SFUSJFWF UIF UPQ nRVFTUJPOT TJNJMBS UP UIF RVFSZ BOE TZO
UIFTJ[F NVMUJTPVSDF LOPXMFEHF PG DBOEJEBUF TIFMM DPNNBOET EFUFDUFE GSPN UIF BDDFQUFE BOTXFST PG UIF TJNJMBS RVFTUJPOT
 0‡•êMJOF 1SPDFTTJOH
 4IFMM3FMBUFE‡¢õFTUJPO$PMMFDUJPO ‡•üFSFBSFGPVSNBJO2"
DPNNVOJUJFT JO 4UBDL &YDIBOHF UIBU DPOUBJO QPTUT SFMBUFE UP TIFMMQSPHSBNNJOH JF "6 6- 46 BOE 40 8F EPXOMPBE UIF P‡©ôDJBMEBUB EVNQT PG UIF DPNNVOJUJFT SFMFBTFE PO .BSDI   <> ‡•üF2"QPTUTPGFBDIDPNNVOJUZBSFTUPSFEJOBO9.-‡©óMF 1PTUTYNM
‡•üF RVFTUJPOT JO "6 BOE 6- BSF BMM SFMFWBOU UP TIFMM QSPHSBNNJOH
8F FYUSBDU  BOE  TIFMMSFMBUFE RVFTUJPOT GSPN "6
BOE 6- SFTQFDUJWFMZ ‡•üF RVFTUJPOT JO 46 BOE 40 BSF OPU BMM SFMFWBOU UP TIFMM QSPHSBNNJOH 8F NBOVBMMZ FYBNJOF UIF UFDIOJDBMUBHT BTTJHOFE UP UIF RVFTUJPOT PG CPUI DPNNVOJUJFT BOE EFUFSNJOFTIFMMSFMBUFEUBHTUIBUDPOUBJO€úTIFMM€ú€ùCBTI€ú€ùTI€ú€ùVOJY€ú€ùMJOVY€ùPS €úVCVOUV€ù 6TJOH UIF UBHT XF DPMMFDU  BOE  TIFMMSFMBUFE RVFTUJPOT GSPN 46 BOE 40 SFTQFDUJWFMZ
" RVFTUJPO NBZ IBWF TFWFSBM BOTXFST QSPWJEFE CZ EJ‡©ñFSFOU EF
WFMPQFST XPSMEXJEF 0OF PG UIF BOTXFST DBO CF BDDFQUFE CZ UIF
BTLFS PG UIF RVFTUJPO "T DPO‡©óSNFE CZ UIF BTLFS UIF TIFMM DPNNBOETNFOUJPOFE JO UIFBDDFQUFE BOTXFSDPVME CFVTFE UP BEESFTTUIF RVFTUJPO 4IFMM'VTJPO FYUSBDUT DBOEJEBUF TIFMM DPNNBOET GPS BRVFSZ GSPN UIF BDDFQUFE BOTXFST PG RVFTUJPOT TJNJMBS UP UIF RVFSZ
5BCMF  MJTUT UIF TUBUJTUJDT PG PVS DPMMFDUFE TIFMMSFMBUFE RVFTUJPOT
*O UPUBM UIFSF BSF  RVFTUJPOT XJUI BDDFQUFE BOTXFST
1971ICSE '22, May 21-2 9, 2022, Pittsbur gh, PA, USA 
used commands . The approaches cannot address many tasks that 
require commands outside the dataset. 
Q&A communiti es, e.g., Stack Overflow (SO) [9], have accumu¬≠
lated millions of questions and answers about various problems 
and become a knowledge repository for users [ 49]. There are many 
Q&A posts related to shell programming in four popular Q&A com¬≠
munities, i.e., SO, AskUbuntu (AU) [1], Unix & Linux(UL) [13], and 
Super User (SU) [10]. Such posts can be leveraged to design auto¬≠
matic approaches for addressing shell programming tasks without 
being limited by the manually created task-command dataset. 
In this paper, we propose an approach, namely ShellFusion, to 
automatically generate answers for shell programming tasks by 
integrating knowledge mined from Q&A posts, Ubuntu MPs, and 
TLDR tuto rials. We first collect shell-related questions from four 
Q&A communitie s: AU, UL, SU, and SO, and extract knowledge of 
shell commands from Ubuntu MPs and TLDR tuto rials. We then 
index the questions using Lucene [30], an efficient text search en¬≠
gine that implements the ranking function BM25. We also build 
a word Inverse Document Frequency (IDF) [16] vocabulary and a 
word embe dding model using the questions. Given a query that de¬≠
scribes a shell programming task, ShellFusion determines a list of 
relevant shell commands to recommend. Specifically, it retrieves 
the top-n questions similar to the query using Lucene search and 
a word embedding model-based method. It then detects shell com¬≠
mands with options (e.g., ls -t) from the accepted answers of the 
similar questions and filters out irrelevant commands which have 
descriptions in MP and TLDR that share little semantics with the 
query. Next, ShellFusion ranks the candidate commands based on 
their similarities with the query and the similar questions. To help 
users understand how to address the query using a recommended 
command, ShellFusion generates a comprehensive answer for the 
command by synthesizing 1) the official MP summary, 2) the most 
similar TLDR task-script pair, 3) the top-3 similar questions with 
accepted scripts that use the command, and 4) the explanations 
about the options of the command used in the scripts. 
To evaluate ShellFusion, we create 434 shell programming tasks 
from the titles of shell-related questions. We compare ShellFusion 
with Magnum [15], the state-of-the-art approach for translating 
natural language tasks to Bash commands. ShellFusion significantly 
outperforms Magnum by at least 179.6% in terms of the MRR@K 
and MAP@K metrics. In addition to the widely used Q&A posts, 
ShellFusion integrates two specialize d information sources: the of¬≠
ficial MPs and the unofficial TLDR tutorials. We evaluate the con¬≠
tributions of the two information sources by testing three variants 
of ShellFusion (Section 3.3). The results show that both MPs and 
TLDR contribute to ShellFusion, and TLDR has more contributions 
than MPs. We further conduct a user study with 20 shell program¬≠
mers on ten programming tasks. The results show that ShellFusion 
can help users address shell programming tasks more efficiently 
and accurately, compare d with Magnum and DeepAns [22] (an an¬≠
swer recommendation model that uses a deep learning technique ). 
The main contributions of this paper are outlined below: 
‚Ä¢ We propose ShellFusion to generate comprehensive answers 
for shell programming tasks by integrating knowledge mined Neng Zhang, Chao Liu, Xin Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
from Q&A posts, MPs, and TLDR. To the best of our knowl¬≠
edge, ShellFusion is the first work on both command recom¬≠
mendation and answer generation for shell programming 
tasks using a knowledge fusion method. 
‚Ä¢ Our work advances software engineering research by fus¬≠
ing and filtering knowledge from Q&A sites based on both 
formal and informal software documentation. 
‚Ä¢ We propose a method for identifying shell commands with 
options from Q&A posts. 
‚Ä¢ Our quantitative evaluation and user study demonstrate the 
effectiveness and practicality ofShellFusion, compare d with 
the state-of-the-art baseline s. 
‚Ä¢ We release the source code of ShellFusion and the experi¬≠
ment dataset on GitHub [7] to help other researchers repli¬≠
cate and extend our study. 
The rest of the paper is structure d as follows. Section 2 describes 
the details of ShellFusion. Section 3 describes the experimental 
setup for evaluating ShellFusion. Section 4 presents the experiment 
results. Section 5 describes the user study. Section 6 discusses the 
threats to validity of this work. Section 7 reviews the related work. 
Section 8 concludes the paper and discusses future work. 
2 APPROAC H 
Fig. 1 shows an overview of ShellFusion, consisting of two com¬≠
ponents: CD Offline Processing that extracts shell-r elated questions 
from Q&A communities and mines knowledge of shell commands 
from Ubuntu MPs and TLDR tutorials. We index the questions us¬≠
ing Lucene and build a word IDF vocabulary and a word embed¬≠
ding model from the questions; and @ Online Answer Generation 
that generates answers for a query describing a shell progr amming 
task. We retrieve the top-n questions similar to the query and syn¬≠
thesize multi-source knowledge of candidate shell commands de¬≠
tected from the accepted answers of the similar questions. 
2.1 Offline Processi ng 
2. 1. 1 Shell-Related Question Collection. There are four main Q&A 
communities in Stack Exchange that contain posts related to shell 
programming, i.e., AU, UL, SU, and SO. We download the official 
data dumps of the communities released on March 1, 2021 [8]. The 
Q&A posts of each community are stored in an XML file, Posts.xml. 
The questions in AU and UL are all relevant to shell programming. 
We extract 371,801 and 198,939 shell-related questions from AU 
and UL, respectively. The questions in SU and SO are not all rel¬≠
evant to shell programming . We manually examine the technical 
tags assigned to the questions of both communities and determine 
252 shell-related tags that contain 'shell', 'bash', 'sh', 'unix', 'linux', 
or 'ubuntu'. Using the tags, we collect 87,587 and 539,171 shell¬≠
related questions from SU and SO, respectively. 
A question may have several answers provided by different de¬≠
velopers worldwide. One of the answers can be accepted by the 
asker of the question. As confirmed by the asker, the shell com¬≠
mands mentioned in the accepted answer could be used to address 
the question. ShellFusion extracts candidate shell commands for a 
query from the accepted answers of questions similar to the query. 
Table 1 lists the statistics of our collected shell-related questions. 
In total, there are 537,129 questions with accepted answers. 
1971 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLTWJB ,OPXMFEHF 'VTJPO *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64"
Q&A 
CommunitiesShell-Related 
Question 
CollectionShell-Related 
QuestionsBuilding A Word IDF Vocabulary for 
Similarity Calculation
Word IDF 
VocabularyWord 
Embedding 
Model
QuerySimilar 
Question 
RetrievalTop-k 
Similar 
QuestionsShell Command 
Detection & 
FilteringCandidate 
Commands
Command 
RankingRanked 
CommandsAnswer 
Generation for 
Each CommandMP Summary
Top-3 Similar Questions 
with Accepted ScriptsThe Most Similar TLDR 
Task-Script PairGenerated Answer for Each CommandOffline Processing
MP 
Parsing
MP Knowledge 
of Shell 
Commands
TLDR Knowledge 
of Shell 
Commands
TLDR 
ParsingShell Programmer
Online Answer GenerationTLDR 
TutorialsUbuntu 
Manual Pages 
(MPs)
21
1.1
2.11.3
1.4
1.52.2
2.3
2.4Building Lucene Index for Question 
RetrievalLucene 
Index of 
Questions1.2
Explanations about OptionsBuilding A Word Embedding Model 
for Similarity Calculation
'JHVSF  "QQSPBDI PWFSWJFX PG 4IFMM'VTJPO
5BCMF  4UBUJTUJDT PG TIFMMSFMBUFE RVFTUJPOT
2"DPNNVOJUZ  4IFMMSFMBUFE RVFTUJPOT 4IFMMSFMBUFE RVFTUJPOT
XJUI BDDFQUFE BOTXFST
"TL 6CVOUV 	"6
  
6OJY  -JOVY 	6-
  
4UBDL 0WFS‡©òPX 	40
  
4VQFS 6TFS 	46
  
5PUBM  
 #VJMEJOH"8PSE&NCFEEJOH.PEFMBOE"8PSE*%'7PDBCVMBSZ GPS 4JNJMBSJUZ $BMDVMBUJPO 6TJOH UIF TIFMMSFMBUFE RVFTUJPOT
XF CVJME B XPSE *%' WPDBCVMBSZ BOE B XPSE FNCFEEJOH NPEFMXIJDI BSF TVCTFRVFOUMZ VTFE UP DBMDVMBUF UIF TJNJMBSJUZ CFUXFFO
B RVFTUJPO 	PS B TIFMM DPNNBOE PS B 5-%3 UBTL
 BOE B RVFSZ ‡•üF
XPSEFNCFEEJOHNPEFMJTUIFCBTJDNPEFMGPSDBMDVMBUJOHXPSETJN
JMBSJUJFT XIJMF UIF XPSE *%' WPDBCVMBSZ JT VTFE UP XFJHIU UIF JNQPSUBODF PG XPSET ‡•üF *%' PG B XPSE JT UIF JOWFSTF PG UIF OVNCFSPG RVFTUJPOT UIBU DPOUBJO UIF XPSE ‡•üF NPSF RVFTUJPOT JO XIJDIB XPSE BQQFBST UIF MPXFS UIF XPSE€ùT *%' JT NFBOJOH UIBU UIF MFTTMJLFMZ UIF XPSE DBSSJFT JNQPSUBOU JOGPSNBUJPO
8F CVJME B UFYU DPSQVT CZ QSPDFTTJOH UIF RVFTUJPOT VTJOH UISFF
TUFQT
SFNPWJOHMPOHDPEFTOJQQFUTFODMPTFEJO)5.-UBH /angbracketleftpre/angbracketright

 SFNPWJOH TUPQXPSET 	FH €úB€ù BOE €úUIF
€ù CBTFE PO UIF TUPQXPSEMJTU JO UIF /-5, UPPMLJU <> BOE 
 SFEVDJOH FBDI XPSE UP JUT SPPUGPSN 	BLB TUFNNJOH
 CZ BQQMZJOH UIF 1PSUFS TUFNNFS JO /-5,
8F VTF UIF DPSQVT UP USBJO B XPSE FNCFEEJOH NPEFM CZ BQQMZJOH
UIFXPSEWFD<>NPEVMF	XJUIEFGBVMUQBSBNFUFSTF‡•íJOHT
JO(FOTJN <> 8F DPNQVUF UIF *%' WBMVF PG FBDI XPSE JO UIF DPSQVT
 #VJMEJOH -VDFOF *OEFY GPS ‡¢õFTUJPO 3FUSJFWBM 8F DSFBUF B
EPDVNFOUGPSFBDITIFMMSFMBUFERVFTUJPOCZDPMMFDUJOHUIFUJUMFBOE
UBHT8FFYDMVEFUIFCPEZPGBRVFTUJPOBTXIFOFYBNJOJOHBRVFTUJPO SFUVSOFE GPS B RVFSZ VTFST P‡•èFO KVEHF JUT SFMFWBODF CBTFE POUIF UJUMF BOE UBHT CFGPSF MPPLJOH JOUP UIF MPOH UFYU JO UIF CPEZ 8FJOEFY UIF RVFTUJPO EPDVNFOUT VTJOH -VDFOF ‡•üF JOEFY JT VTFE UPJNQSPWF UIF F‡©ôDJFODZ PG SFUSJFWJOH TJNJMBS RVFTUJPOT GPS B RVFSZ .11BSTJOH 6CVOUVJTBXJEFMZVTFEPQFOTPVSDF-JOVYTZT
UFN 5P HFOFSBUF BOTXFST GPS TIFMM QSPHSBNNJOH UBTLT JO 6CVOUV
XF OFFE UP BDRVJSF LOPXMFEHF BCPVU TIFMM DPNNBOET BWBJMBCMF JO
6CVOUVXIJDIBSFEPDVNFOUFEJOUIF6CVOUV.1T<>8FDPMMFDUUIF .1T PG 6CVOUV  -54 	'PDBM 'PTTB
 SFMFBTFE PO 'FCSVBSZ  ‡•üF .1T BSF HSPVQFE JOUP OJOF TFDUJPOT OVNCFSFE GSPN UP 
 *O UIF DVSSFOU 4IFMM'VTJPO XF GPDVT PO UIF TIFMM DPNNBOET
BOE TZTUFN BENJOJTUSBUJPO DPNNBOET JO UIF TFDUJPOT  BOE  BTUIFZ BSF NPSF MJLFMZ UP CF VTFE CZ QSPHSBNNFST /PUF UIBU TZTUFN BENJOJTUSBUJPO DPNNBOET BSF DPOTJEFSFE BT B TQFDJBM LJOE PGTIFMM DPNNBOET &BDI .1 JT B TUSVDUVSFE )5.- QBHF EFTDSJCJOH BDPNNBOEFHUIFTVNNBSZTZOPQTJTBOEPQUJPOT‡•üFGPMMPXJOHTIPXT B QBSU PG UIF JOGPSNBUJPO PG DPNNBOE NU
‚Ä¢4VNNBSZ  MJTU EJSFDUPSZ DPOUFOUT
‚Ä¢4ZOPQTJT NU<015*0/>€™>&-*'<€™ 
‚Ä¢0QUJPOT
N VTF B MPOH MJTUJOH GPSNBUJJWOCPTGCFCDNG XJUI NBOEU QSJOU TJ[FT MJLF
, . ( FUD
V TPSU CZ NPEJ‡©óDBUJPO UJNF OFXFTU ‡©óSTU
8F QBSTF UIF .1T VTJOH UIF NZONNPEVMF JO 1ZUIPO BOE PCUBJO
UIF TVNNBSZ BOE PQUJPOT PG FBDI DPNNBOE *O UPUBM XF PCUBJO DPNNBOET JODMVEJOH  BOE  DPNNBOET GSPN UIFTFDUJPOT  BOE  SFTQFDUJWFMZ
 5-%31BSTJOH 6CVOUV.1TBSFHFOFSBMMZUPPMFOHUIZUPSFBE
BOE SBSFMZ QSPWJEF FYBNQMFT UP EFNPOTUSBUF IPX UP VTF B DPN
NBOE *U JT P‡•èFO EJ‡©ôDVMU GPS VTFST UP ‡©óOE BQQSPQSJBUF DPNNBOET
XJUI PQUJPOT GPS B UBTL GSPN UIF MBSHF OVNCFS PG DPNNBOET BOE
PQUJPOT EFTDSJCFE JO UIF .1T &YJTUJOH XPSL IBT CFFO EFWPUFE UPDSFBUJOH FBTZUPVTF UVUPSJBMT GPS GSFRVFOUMZ VTFE DPNNBOET <   > ‡•üF 5-%3 QSPKFDU <> IPTUFE PO (JU)VC JT POF PG UIFNPTU QPQVMBS UVUPSJBMT 8F EPXOMPBE UIF 5-%3 SFQPTJUPSZ GSPN
I‡•íQTIFMQVCVOUVDPNDPNNVOJUZNBO
1972SheiiFu sion: Answer Generation for Shell Programming Tasks via Knowle dge Fusion 
-
Q&A 
Communi ties 
Shell Progr ammer 
MP Summary 
The Most Similar TLDR 
Task-Sc ript Pair 
Top-3 Similar Ques tions 
with Accepted Scripts 
Explanations about Options 
0 Online Answer Gener ation Rank ed 
Commands ICSE '22, May 21-29, 2022, Pitts burgh, PA, USA 
(D Offline Proces sing 
‚Ä¢ 
Ubuntu 
.----'-----+------, Manual Pages 
(MPs) 
TLDR 
Tutorials 
Figure 1: Approach overview of ShellFusion 
Table 1: Statistics of shell-related questions 
Q&A community 
Ask Ubuntu (AU) 
Unix & Linux (UL) 
Stack Overflow (SO) 
Super User (SU) 
Total #Shell-related questions 
371,801 
198,939 
539,171 
87,587 
1,197,498 #Shell-related questions 
with accepted answers 
122,729 
95,343 
281,134 
37,923 
537,129 
2. 1.2 Building A Word Embedding Model and A Word IDF Vocabu¬≠
lary for Similarity Calculation. Using the shell-rela ted questions, 
we build a word IDF vocabulary and a word embedding model, 
which are subsequently used to calculate the similarity between 
a question (or a shell command or a TLDR task) and a query. The 
word embedding model is the basic model for calculating word sim¬≠
ilarities, while the word IDF vocabulary is used to weight the im¬≠
portance of words. The IDF of a word is the inverse of the number 
of questions that contain the word. The more questions in which 
a word appears, the lower the word's IDF is, meaning that the less 
likely the word carries important information. 
We build a text corpus by processing the questions using three 
steps: 1) removing long code snippets enclosed in HTML tag (pre); 
2) removing stopwords (e.g., 'a' and 'the') based on the stopword 
list in the NLTK toolkit [17]; and 3) reducing each word to its root 
form (aka. stemming) by applying the Porter stemmer in NLTK. 
We use the corpus to train a word embedding model by applying 
the word2vec [32] module (with default parameter settings) in Gen¬≠
sim [5]. We compute the IDF value of each word in the corpus. 
2. 1.3 Building Lucene Index for Question Retrieval. We create a 
document for each shell-related question by collecting the title and 
tags. We exclude the body of a question as when examining a ques¬≠
tion returned for a query, users often judge its relevance based on 
the title and tags before looking into the long text in the body. We 
index the question documents using Lucene. The index is used to 
improve the efficiency of retrieving similar questions for a query. 
1972 2. 1.4 MP Parsing. Ubuntu is a widely used open-source Linux sys¬≠
tem. To generate answers for shell programming tasks in Ubuntu, 
we need to acquire knowledge about shell commands available in 
Ubuntu, which are documented in the Ubuntu MPs [ 12]. We collect 
the MPs ofUbuntu 20.04 LTS (Focal Fossa) released on February 4, 
2021. The MPs are grouped into nine sections, numbered from 1 
to 91. In the current ShellFusion, we focus on the shell commands 
and system administration commands in the sections 1 and 8, as 
they are more likely to be used by programmers . Note that sys¬≠
tem administration commands are considered as a special kind of 
shell commands. Each MP is a structure d HTML page describing a 
command, e.g., the summary, synopsis, and options. The following 
shows a part of the information of command ls. 
‚Ä¢ Sununary: list directory contents 
‚Ä¢ Synop sis: ls [OPTION]. .. [FILE]. .. 
‚Ä¢ Options: 
-1: use a long listing format 
-h, --human-readable: with -1 and -s, print sizes like 
1K 234M 2G etc. 
-t: sort by modification time, newest first 
We parse the MPs using the lxml module in Python and obtain 
the summary and options of each command. In total, we obtain 
50,841 commands, including 44,423 and 6,418 commands from the 
sections 1 and 8, respectively. 
2. 1.5 TLDR Parsing. Ubuntu MPs are generally too lengthy to read 
and rarely provide examples to demonstrate how to use a com¬≠
mand. It is often difficult for users to find appropriate commands 
with options for a task from the large number of commands and 
options described in the MPs. Existing work has been devoted to 
creating easy-to-use tutorials for frequently used commands [2, 3, 
11, 34, 40]. The TLDR project [11] hosted on GitHub is one of the 
most popular tutorials. We download the TLDR repository from 
1 https:/ /help.ubuntu.com/ conununity/man 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
(JU)VC ‡•üF DPNNBOET SFMBUFE UP -JOVY BSF DPOUBJOFE JO UXP GPME
FSTQBHFTDPNNPO UIBUDPOUBJOTUIFDPNNBOETDPNNPOUPNVMUJ
QMF PQFSBUJOH TZTUFNT FH -JOVY BOE 8JOEPXT BOE QBHFTMJOVY
UIBU DPOUBJOT UIF DPNNBOET TQFDJ‡©óD UP -JOVY 'PS FBDI DPNNBOE
5-%3 NBJOUBJOT B TVNNBSZ BOE TFWFSBM SFQSFTFOUBUJWF UBTLTDSJQU
QBJST JO B ."3,%08/ ‡©óMF ‡•üF TVNNBSZ BOE B UBTLTDSJQU QBJSPG DPNNBOE NUBSF BT GPMMPXT
‚Ä¢4VNNBSZ  MJTU EJSFDUPSZ DPOUFOUT
‚Ä¢5BTL4DSJQU 1BJST 
5BTL-POHGPSNBUMJTUXJUITJ[FEJTQMBZFEVTJOHIVNBOSFBEBCMF VOJUT 	,# .# (#
4DSJQU  NU NJ
8F QBSTF UIF ."3,%08/ ‡©óMFT BOE PCUBJO UIF TVNNBSJFT BOE
FYBNQMF UBTLTDSJQU QBJST PG  DPNNBOET JODMVEJOH  BOE DPNNBOET GSPN QBHFTDPNNPO BOEQBHFTMJOVY SFTQFDUJWFMZ
 0OMJOF "OTXFS (FOFSBUJPO
 4JNJMBS‡¢õFTUJPO3FUSJFWBM (JWFO B RVFSZ EFTDSJCJOH B TIFMM
QSPHSBNNJOH UBTL XF ‡©óSTU QSFQSPDFTT UIF RVFSZ VTJOH TUPQXPSESFNPWBM BOE TUFNNJOH ‡•üFO XF OFFE UP SFUSJFWF B MJTU PG TIFMMSFMBUFE RVFTUJPOT TJNJMBS UP UIF RVFSZ *O 4FDUJPO  XF CVJME B
XPSE *%' WPDBCVMBSZ BOE B XPSE FNCFEEJOH NPEFM GPS NFBTVS
JOH UIF TJNJMBSJUZ CFUXFFO B RVFTUJPO BOE UIF RVFSZ )PXFWFSJU JT UJNFDPOTVNJOH UP DBMDVMBUF UIF TJNJMBSJUJFT PG  TIFMMSFMBUFE RVFTUJPOT VTJOH UIF XPSE FNCFEEJOH NPEFM EVF UP UIF SFRVJSFE NBUSJY SFQSFTFOUBUJPOT PG UIF RVFTUJPOT <> 5P FYQFEJBUFUIF SFUSJFWBM PG TJNJMBS RVFTUJPOT XF VTF B UXPQIBTF NFUIPE CZDPNCJOJOH-VDFOFBOEBMBOHVBHFNPEFMCBTFENFUIPE*OUIF‡©óSTUQIBTFXF VTF UIF -VDFOF TFBSDI FOHJOF UP SFUSJFWFUIF UPQ NRVFT
UJPOT TJNJMBS UP UIF RVFSZ CZ MFWFSBHJOH UIF -VDFOF JOEFY CVJMU GPSBMM RVFTUJPOT *O UIF TFDPOE QIBTF GPS FBDI PG UIF NRVFTUJPOT XF
DBMDVMBUFBOBTZNNFUSJD*%'XFJHIUFETJNJMBSJUZPGUIFRVFTUJPO T
UP UIF RVFSZ QCBTFE PO UIF XPSET PG UIF UJUMF BOE UBHT PG TBOE
UIF XPSET PG Q
sim(T‚ÜíQ)=/summationtext.1
w‚ààTsim(w,Q)√óidf(w)/summationtext.1
w‚ààTidf(w)	
XIFSFsim(w,Q)JT UIF NBYJNVN WBMVF PG sim(w,w/prime),‚àÄw/prime‚ààQ
BOEsim(w,w/prime)JT UIF DPTJOF TJNJMBSJUZ PG UIF XPSE FNCFEEJOH WFD
UPST PGwBOEw/prime "OPUIFS BTZNNFUSJD TJNJMBSJUZ sim(Q‚ÜíT)JT
DBMDVMBUFE CZ TXBQQJOH TBOEQJO &R 	
 'JOBMMZ XF DBMDVMBUF
UIF TJNJMBSJUZ CFUXFFO TBOEQBT UIFIBSNPOJD NFBO PG UIF UXP
BTZNNFUSJD TJNJMBSJUJFT
sim(T,Q)=2√ósim(T‚ÜíQ)√ósim(Q‚ÜíT)
sim(T‚ÜíQ)+sim(Q‚ÜíT)	
"‡•èFS DBMDVMBUJOH UIF TJNJMBSJUJFT PG UIF NRVFTUJPOT XF PCUBJO
UIF UPQnTJNJMBS RVFTUJPOT GPS UIF RVFSZ *O 4IFMM'VTJPO XF TFU
n  CZ EFGBVMU BT UPP NBOZ RVFTUJPOT JOUSPEVDF OPJTF UP UIF
BOTXFS HFOFSBUJPO QSPDFTT BOE TFU N  TP UIBU UIF UPQ
TFNBOUJDBMMZ TJNJMBS RVFTUJPOT DBO CF DPWFSFE CZ UIF NRVFTUJPOT
 4IFMM $PNNBOE %FUFDUJPO  'JMUFSJOH *U JT MJLFMZ UIBU UIF
TIFMM DPNNBOET VTFE JO UIF BDDFQUFE BOTXFS PG B TJNJMBS RVFTUJPOBSF SFMFWBOU UP UIF RVFSZ " TFU PG DBOEJEBUF DPNNBOET DBO CF PCUBJOFE CZ EFUFDUJOH DPNNBOET GSPN UIF BDDFQUFE BOTXFST PG UIFUPQnTJNJMBS RVFTUJPOT 'PS BO BDDFQUFE BOTXFS XF JEFOUJGZ DPN
NBOET XJUI PQUJPOT BT GPMMPXT
 $ ls -lh /bin/ls /bin/cat
 -rwxr-xr-x 1 root root 25K May 24 2008 /bin/cat
 -rwxr-xr-x 1 root root 88K May 24 2008 /bin/ls $ date > test.txt
 $ ulimit -d 10000 -m 10000 -v 10000
 $ /bin/ls date.txt
 /bin/ls: error while loading shared libraries: libc.so.6: fail ed 
to  map segment from shared object: Cannot allocate memory $ /bin/cat date.txt Thu Mar 26 11:51:16 PDT 2009
 $Command 
and option 
detection
NOTE: ulimit is the actual command 
for limiting the resource usage of a 
process, while the other commands 
are just used for completing the 
illustration. Command Options
ls -l, -h
cat
date
ulimit -d, -m, -v
'JHVSF  $PNNBOET BOE PQUJPOT EFUFDUFE GSPN B DPEF TOJQ
QFU UIBU TIPXT IPX UP MJNJU UIF NFNPSZ VTBHF PG B QSPDFTT
‚Ä¢$PNNBOE EFUFDUJPO 8F CVJME B EJDUJPOBSZ UIBU TUPSFT BMM
UIFDPNNBOETFYUSBDUFEGSPN6CVOUV.1T8FDPMMFDUCPUITIPSU DPEF TOJQQFUT FODMPTFE JO )5.- UBH /angbracketleftcode/angbracketrightBOE MPOH
DPEF TOJQQFUT FODMPTFE JO )5.- UBH /angbracketleftpre/angbracketrightJO UIF BDDFQUFE
BOTXFS#ZNBOVBMMZFYBNJOJOHUIFDPEFTOJQQFUT	JFTIFMMTDSJQUT
 JO UIF BDDFQUFE BOTXFST PG  TBNQMFE RVFTUJPOT
XF ‡©óOE UIBU UIF DPNNBOET JO TIFMM TDSJQUT P‡•èFO BQQFBS BU
UIFCFHJOOJOHPGBTDSJQUMJOFPSJNNFEJBUFMZCFIJOETJYTQFDJBMDIBSBDUFST	 |\BOEFH€úMT
€ùBOE€úCJOMT €ùTIPXO
JO 'JH  'PS FBDI TDSJQU XF SFQMBDF UIF TQFDJBM DIBSBDUFST
XJUI B XIJUFTQBDF BOE UIFO TQMJU UIF TDSJQU JOUP B TFU PG UP
LFOT CZ XIJUFTQBDFT ‡•üF UPLFOT UIBU NBUDI BOZ DPNNBOEJO UIF EJDUJPOBSZ BSF NBSLFE BT DBOEJEBUF DPNNBOET 'JH TIPXT GPVS DPNNBOET EFUFDUFE GSPN B DPEF TOJQQFU UIBU JMMVTUSBUFT IPX UP MJNJU UIF NFNPSZ VTBHF PG B QSPDFTT

‚Ä¢0QUJPO EFUFDUJPO 8F GVSUIFS EFUFDU UIF PQUJPOT PG FBDI
DBOEJEBUFDPNNBOEVTFEJOUIFTDSJQUT8FUSFBUFBDITDSJQUMJOF BT B UPLFO TFRVFODF JO XIJDI TPNF UPLFOT DPSSFTQPOEUPDBOEJEBUFDPNNBOET'PSUIF iUIDPNNBOEUPLFO C
iJUT
BTTPDJBUFEPQUJPOTTIPVMEFYJTUJOUIFUPLFOTVCTFRVFODFCFUXFFOC
iBOE UIF OFYU DPNNBOE UPLFO PS UIF FOE PG UIF TF
RVFODF*GBUPLFOJOUIFTVCTFRVFODFNBUDIFTBOZPQUJPOFYUSBDUFE GSPN C
i€ùT .1 XF NBSL JU BT BO PQUJPO PG Ci *O QSBD
UJDF NVMUJQMF PQUJPOT PG B DPNNBOE DBO CF DPNQBDUFE *O'JH  UIF PQUJPOT NBOEJPG DPNNBOE NUBSF DPNQBDUFE
BTNJ'PSBUPLFO tXIJDINBUDIFTUIFSFHVMBSFYQSFTTJPO
=C\#<?]_JG tEPFTOPUNBUDIBOZPQUJPOPG C
iX FEJ
WJEFtJOUP NVMUJQMF UPLFOT UIBU TUBSU XJUI €ù€ú BOE DPOUBJO
FWFSZ TJOHMF MF‡•íFS JO t BOE UIFO DIFDL XIFUIFS FBDI PG UIF
UPLFOT NBUDIFT BOZ PQUJPO PG Ci 8F BMTP ‡©óOE UIBU TPNF
PQUJPOT PG B DPNNBOE NBZ OPU FYJTU JO JUT .1 'PS FYBNQMF UIF PQUJPOT FO BOEXPG DPNNBOE WNKOKV TIPXO
JO 'JH  BSF OPU JODMVEFE JO UIF .1
 ‡•üFSFGPSF XF NBSL B
UPLFO UIBU EPFT OPU NBUDI BOZ PQUJPO PG CiCVU NBUDIFT UIF
SFHVMBS FYQSFTTJPO =C\#<? BT B DBOEJEBUF PQUJPO PG Ci
#Z DPMMFDUJOH UIF DPNNBOET XJUI PQUJPOT EFUFDUFE GSPN UIF BD
DFQUFEBOTXFSTPGUIFUPQ nTJNJMBSRVFTUJPOTXFPCUBJOUIFFOUJSF
TFU PG DBOEJEBUF DPNNBOET XJUI BTTPDJBUFE PQUJPOT
8F PCTFSWF UIBU TPNF EFUFDUFE DBOEJEBUF DPNNBOET BSF JSSFMF
WBOU UP UIF RVFSZ *O 'JH  WNKOKVJT UIF BDUVBM DPNNBOE GPS MJN
JUJOH UIF NFNPSZ VTBHF PG B QSPDFTT XIJMF UIF PUIFS DPNNBOET
I‡•íQTTVQFSVTFSDPNRVFTUJPOT
I‡•íQNBOQBHFTVCVOUVDPNNBOQBHFTGPDBMFONBOVMJNJUQPTJYIUNM
1973ICSE '22, May 21-29, 2022, Pittsburgh, PA, USA 
GitHub. The commands related to Linux are containe d in two fold¬≠
ers: /pages/c ommon that contains the commands common to multi¬≠
ple operating systems, e.g., Linux and Windows ; and lpagesll inux 
that contains the commands specific to Linux. For each command, 
TLDR maintains a summary and several representative task-script 
pairs in a MARKD OWN file. The summary and a task-script pair 
of command ls are as follows. 
‚Ä¢ Summary: list directory contents 
‚Ä¢ Task-Script Pairs: 
Task 1: Long format list with size displayed using human 
readable units (KB, MB, GB) 
Script 1: ls -lh 
We parse the MARKDOWN files and obtain the summaries and 
example task-script pairs of 1,797 commands, including 1,264 and 
533 commands from /pages/ common and lpagesll inux, respectively. 
2.2 Online Answer Genera tion 
2.2. 1 Similar Question Retrieval. Given a query describing a shell 
programming task, we first preprocess the que1y using stopword 
removal and stemming. Then, we need to retrieve a list of shell¬≠
related questions similar to the query. In Section 2.1.2, we build a 
word IDF vocabulary and a word embedding model for measur¬≠
ing the similarity between a question and the query. However, 
it is time-consuming to calculate the similarities of 537,129 shell¬≠
related questions using the word embedding model due to the re¬≠
quired matrix representations of the questions [26]. To expediate 
the retrieval of similar questions, we use a two-phase method by 
combining Lucene and a language model-base dmethod. In the first 
phase, we use the Lucene search engine to retrieve the top N ques¬≠
tions similar to the query by leveraging the Lucene index built for 
all questions. In the second phase, for each of the N questions, we 
calculate an asymmetric IDF-weighte d similarity of the question T 
to the que1y Q based on the words of the title and tags ofT and 
the words of Q: 
. (T Q) :Z::wET sim(w , Q) X idf(w) szm ÔøΩ = ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ 
:Z..:wET idf(w) (1) 
where sim(w, Q) is the maximum value of sim(w, w'), Vw' E Q, 
and sim( w, w') is the cosine similarity of the word embedding vec¬≠
tors of w and w'. Another asymmetric similarity sim(Q ÔøΩ T) is 
calculate d by swapping T and Q in Eq. (1). Finally, we calculate 
the similarity between T and Q as the harmonic mean of the two 
asymmetric similariti es: 
sim(T Q) = 2 x sim(T ÔøΩ Q) x sim(Q ÔøΩ T) (2) ' sim(T ÔøΩ Q) + sim(Q ÔøΩ T) 
After calculating the similarities of the N questions, we obtain 
the top-n similar questions for the query. In ShellFusion, we set 
n = 50 by default as too many questions introduce noise to the 
answer generation process, and set N = 1,000, so that the top-50 
semantically similar questions can be covered by the N questions. 
2.2.2 Shell Command Detection & Filtering. It is likely that the 
shell commands used in the accepted answer of a similar question 
are relevant to the query. A set of candidate commands can be ob¬≠
tained by detecting commands from the accepted answers of the 
top-n similar questions. For an accepted answer, we identify com¬≠
mands with options as follows. Neng Zhang, Chao Liu, X in Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
$Is -lh /bin/Is /bin/cat 
-rwxr-xr-x 1 root root 25K May 24 2008 /bin/cat 
-rwxr-xr-x 1 root root 88K May 24 2008 /bin/Is 
$ date > test.txt 
$ ulimit -d 10000 -m 10000 -v 10000 
$/bin/Is date. txt 
/bin/Is: error while loading shared libraries: libc.so.6: failed 
to map segment from shared object: Can not allocate 
memory 
$/bin/cat date.txt 
Thu Mar 2611:51:16 POT2009 
$ Command Command Options 
and option Is -1, -h 
detect ion cat 
date 
ulimit -d,-m, -v 
NOTE: ulimit is the actual command 
for limiting the resource usage of a 
process, while the other commands 
are just used for completing the 
illustration. 
Figure 2: Commands and options detected fro m a code snip¬≠
pet that shows how to limit the memory usage of a process 
‚Ä¢ Command detection. We build a dictionary that stores all 
the commands extracted from Ubuntu MPs. We collect both 
short code snippets enclosed in HTML tag (code) and long 
code snippets enclosed in HTML tag (pre) in the accepted 
answer. By manually examining the code snippets (i.e., shell 
scripts) in the accepted answers of 100 sampled questions, 
we find that the commands in shell scripts often appear at 
the beginning of a script line or immediately behind six spe¬≠
cial characte rs:$,/,(, 1. {,and=, e.g.,'$ÔøΩ¬∑ and '/bin/ÔøΩ' shown 
in Fig. 2. For each script, we replace the special characters 
with a whites pace and then split the script into a set of to¬≠
kens by whites paces. The tokens that match any command 
in the dictionary are marked as candidate commands. Fig. 2 
shows four commands detected from a code snippet that il¬≠
lustrates how to limit the memory usage of a process2. 
‚Ä¢ Option detect ion. We further detect the options of each 
candidate command used in the scripts. We treat each script 
line as a token sequence in which some tokens correspond 
to candidate commands. For the i-th command token, C;, its 
associated options should exist in the token subsequence be¬≠
tween C; and the next command token or the end of the se¬≠
quence. If a token in the subsequence matches any option ex¬≠
tracted from C; 's MP, we mark it as an option of C;. In prac¬≠
tice, multiple options of a command can be compacted. In 
Fig. 2, the options -1 and -h of command ls are compacted 
as -lh. For a token, t, which matches the regular expression 
-[a-zA-Z] {2, }, if t does not match any option ofC;, we di¬≠
vide t into multiple tokens that start with '-' and contain 
every single letter in t, and then check whether each of the 
tokens matches any option of C;. We also find that some 
options of a command may not exist in its MP. For exam¬≠
ple, the options -d, -m, and -v of command ulimi t shown 
in Fig. 2 are not included in the MP3 . Therefore, we mark a 
token that does not match any option of C; but matches the 
regular expression -[a-zA-Z] as a candidate option of C;. 
By collecting the commands with options detected from the ac¬≠
cepted answers of the top-n similar questions, we obtain the entire 
set of candidate commands with associated options. 
We observe that some detected candidate commands are irrele¬≠
vant to the query. In Fig. 2, ul imi t is the actual command for lim¬≠
iting the memory usage of a process, while the other commands, 
2https://superuser.c om/questions /134269 
3http:/ /manpages.ubuntu.c om/manpages/focal!en/manl/ulimit.lposix.html 
1973 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLTWJB ,OPXMFEHF 'VTJPO *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64"
FHNUBSFVTFEGPSDPNQMFUJOHUIFJMMVTUSBUJPO8F‡©óMUFSPVUUIFJS
SFMFWBOUDPNNBOETCZNFBTVSJOHUIFJSTJNJMBSJUJFTXJUIUIFRVFSZ
'PSBDPNNBOE CXFQSPDFTTJUTTVNNBSZBOEUIFEFTDSJQUJPOTPG
JUTPQUJPOTJO.1VTJOHTUPQXPSESFNPWBMBOETUFNNJOHSFTVMUJOHJO B CBH PG XPSET C
mp 4JNJMBSMZ XF QSPDFTT UIF TVNNBSZ BOE FY
BNQMF UBTLT PG CJO 5-%3 SFTVMUJOH JO B CBH PG XPSET Ctldr8 F
DBMDVMBUF UXP QBSUJBM TJNJMBSJUJFT CFUXFFO CBOE UIF RVFSZ QVTJOH
&R 	
 CBTFE PO CmpBOECtldr SFTQFDUJWFMZ 'JOBMMZ XF DBMDVMBUF
UIF TJNJMBSJUZ CFUXFFO CBOEQBT
sim(C,Q)=Œ±√ósim(Cmp,Q)+(1‚àíŒ±)√ósim(Ctldr,Q)	
XIFSFŒ±‚àà[0,1]JT B DPF‡©ôDJFOU UP CBMBODF UIF JNQPSUBODF PG UIF
.1BOE5-%3EFTDSJQUJPOTPG C8FEJTUJOHVJTI CtldrBOECmpGPS
TJNJMBSJUZNFBTVSFNFOUTJODFBDPNNBOEJO5-%3NFBOTUIBUJUJTGSFRVFOUMZVTFEBOEDPVMECFDPOTJEFSFEGPSSFDPNNFOEBUJPOXJUIQSJPSJUZ *O UIJT XPSL XF TFU Œ±  UP BTTJHO FRVBM XFJHIUT UP UIF
.1 BOE 5-%3 EFTDSJQUJPOT
8F SF‡©óOF UIF DBOEJEBUF DPNNBOET CZ SFUBJOJOH UIF UPQ kDPN
NBOET XJUI UIF NBYJNVN TJNJMBSJUJFT
 $PNNBOE3BOLJOH *OUVJUJWFMZBDPNNBOEUIBUJTNPSFGSF
RVFOUMZ VTFE JO UIF BDDFQUFE BOTXFST PG TJNJMBS RVFTUJPOT JT NPSF
MJLFMZ UP BEESFTT UIF RVFSZ *G B DPNNBOE DBO JNQMFNFOU B RVFTUJPO UIBU JT NPSF TJNJMBS UP B RVFSZ JU JT NPSF MJLFMZ UP BEESFTTUIF RVFSZ 8F SFSBOL UIF UPQ kDBOEJEBUF DPNNBOET CZ DPOTJEFS
JOH CPUI UIF OVNCFS PG BDDFQUFE BOTXFST UIBU VTF UIF DPNNBOETBOE UIF TJNJMBSJUJFT PG RVFTUJPOT 'PS B DPNNBOE C XF PCUBJO UIF
TFU PG TJNJMBS RVFTUJPOT XIPTF BDDFQUFE BOTXFST NFOUJPO UIF DPNNBOE EFOPUFE BT T(C,Q) ‡•üFO XF NFBTVSF UIF MJLFMJIPPE UIBU
UIF DPNNBOE DPVME CF VTFE UP BEESFTT UIF RVFSZ BT
likelihood (C‚ÜíQ)=min(/summationtext.1
T‚ààT(C,Q)sim(T,Q)
n√ólo–¥2n,1.0)	
XIFSFsim(T,Q)JT UIF TJNJMBSJUZ CFUXFFO B RVFTUJPO T BOE UIF
RVFSZQ XIJDI JT DBMDVMBUFE VTJOH &R 	
 BOE nJT UIF OVNCFS
PG RVFTUJPOT JO T(C,Q) ‡•üF FRVBUJPO IBT UXP QBSUT UIF ‡©óSTU QBSU
DBMDVMBUFT UIF BWFSBHF PG UIF TJNJMBSJUJFT PG UIF RVFTUJPOT XIPTFBDDFQUFE BOTXFST DPOUBJO C BOE UIF TFDPOE QBSU CPPTUT UIF TJNJ
MBSJUZ CBTFE PO UIF OVNCFS PG TVDI RVFTUJPOT 8F BEE B MPHBSJUINUSBOTGPSNBUJPO UP BWPJE FYDFTTJWF CPPTUJOH ‡•üF MJLFMJIPPE TIPVMEOPU FYDFFE  GPS DBMDVMBUJOH UIF SFDPNNFOEBUJPO TDPSF CFMPX
8F DBMDVMBUF UIF ‡©óOBM SFDPNNFOEBUJPO TDPSF PG CBT UIFIBS
NPOJD NFBO PG JUT TJNJMBSJUZ XJUI UIF RVFSZ sim(C,Q) BOE JUT MJLF
MJIPPE PG BDIJFWJOH UIF RVFSZ likelihood (C‚ÜíQ) " SF‡©óOFE MJTU
PG UIF DBOEJEBUF DPNNBOET JT QSPEVDFE CZ SBOLJOH UIFN JO B EFTDFOEJOH PSEFS BDDPSEJOH UP UIF SFDPNNFOEBUJPO TDPSFT
 "OTXFS(FOFSBUJPOGPS$PNNBOET 5PIFMQVTFSTVOEFSTUBOE
UIFSFDPNNFOEFEDPNNBOETBOERVJDLMZMPDBUFVTFGVMDPNNBOET
BOETDSJQUTGPSUIFRVFSZXFHFOFSBUFBDPNQSFIFOTJWFBOTXFSGPSFBDI DBOEJEBUF DPNNBOE CZ TZOUIFTJ[JOH UIF GPMMPXJOH BTQFDUT
‚Ä¢.1TVNNBSZ 8FQSFTFOUUIFP‡©ôDJBMTVNNBSZPGUIFDPN
NBOE JO JUT .1 UP IFMQ VTFST RVJDLMZ DIFDL UIF DPNNBOE€ùTGVODUJPOBMJUZ
‚Ä¢‡¢äFNPTUTJNJMBS5-%3UBTLTDSJQUQBJS *GUIFDPNNBOE
IBT B UVUPSJBM JO 5-%3 XF DBMDVMBUF UIF TJNJMBSJUZ CFUXFFOFBDI FYBNQMF UBTL PG UIF DPNNBOE BOE UIF RVFSZ VTJOH&R	
8FUIFOQSFTFOUUIFNPTUTJNJMBSUBTLXJUIUIFDPSSFTQPOEJOHTDSJQUTPUIBUVTFSTDBORVJDLMZ‡©óOEBVTFGVMTDSJQUJG UIF UBTL NBUDIFT UIF RVFSZ
‚Ä¢5PQ TJNJMBS RVFTUJPOT XJUI BDDFQUFE TDSJQUT 8F MJTU
UIF UJUMFT PG UIF UPQ TJNJMBS RVFTUJPOT XIPTF BDDFQUFE BOTXFST DPOUBJO UIF DPNNBOE 'PS FBDI RVFTUJPO XF BMTP MJTUUIF TDSJQUT UIBU VTF UIF DPNNBOE JO UIF BDDFQUFE BOTXFS6TFST DPVME ‡©óOE VTFGVM TDSJQUT CZ DPNQBSJOH UIF RVFTUJPOUJUMFT XJUI UIF RVFSZ 8F POMZ QSFTFOU UIF UPQ RVFTUJPOT
XJUI BDDFQUFE TDSJQUT JT UP QSFWFOU JOGPSNBUJPO PWFSMPBE
‚Ä¢&YQMBOBUJPOT BCPVU PQUJPOT ‡•üFSF DBO CF TPNF PQUJPOT
PGUIFDPNNBOEVTFEJOUIFBTTPDJBUFETDSJQUT5PIFMQVTFSTVOEFSTUBOE UIF TDSJQUT XF QSFTFOU UIF P‡©ôDJBM .1 EFTDSJQUJPOT PG UIF PQUJPOT 4JODF UIF DPNNBOE EFTJHOFS NBZ NJTTPQUJPOT 	4FDUJPO 
 GPS UIF PQUJPOT XJUIPVU .1 EFTDSJQUJPOT XF QSFTFOU UIF TFOUFODFT UIBU DPOUBJO UIF PQUJPOT JOUIF BDDFQUFE BOTXFST PG UIF UPQ TJNJMBS RVFTUJPOT
 &91&3*.&/5"- 4&561
‡•üJTTFDUJPOJOUSPEVDFTUIFFYQFSJNFOUBMTFUVQGPSFWBMVBUJOH4IFMM'VTJPO 0VS FYQFSJNFOUBM FOWJSPONFOU JT B TFSWFS XJUI BO *OUFMJ$16 BO /WJEJB (FGPSDF (59 (16 ( 3". BOE 8JO  04
 1SPUPUZQF *NQMFNFOUBUJPO
"T EFTDSJCFE JO 4FDUJPOT   BOE  XF DPMMFDU 
TIFMMSFMBUFERVFTUJPOTXJUIBDDFQUFEBOTXFSTGSPNGPVS2"DPNNVOJUJFT  TIFMM DPNNBOET GSPN UIF .1T PG 6CVOUV -54 BOE  -JOVY DPNNBOET GSPN UIF 5-%3 UVUPSJBMT 8F QFSGPSN UIF P‡©öJOF QSPDFTT PG 4IFMM'VTJPO PO UIF EBUBTFU 	4FDUJPO 

*O UIF POMJOF QSPDFTT PG 4IFMM'VTJPO UIFSF JT B LFZ QBSBNFUFS
k XIJDI JT UIF OVNCFS PG DBOEJEBUF DPNNBOET VTFE UP HFOFSBUF
BOTXFST 5P EFUFSNJOF UIF QSPQFS TF‡•íJOH PG k XF DPOEVDU B QJMPU
TUVEZUPNFBTVSFUIFQFSGPSNBODFPG4IFMM'VTJPOPOFYQFSJNFOUBM RVFSJFT VTJOH EJ‡©ñFSFOU kWBMVFT 	4FDUJPO 

 ‡¢âFSZ 4FMFDUJPO
4JNJMBS UP QSJPS XPSL <    > XF DSFBUF B OVNCFS PG FYQFSJNFOUBM RVFSJFT GSPN TIFMMSFMBUFE RVFTUJPOT XJUIPVU BDDFQUFEBOTXFST UIBU BSF OPU JODMVEFE JO UIF RVFTUJPO SFQPTJUPSZ VTFE GPSJNQMFNFOUJOH 4IFMM'VTJPO 5P FOTVSF UIF RVBMJUZ BOE QPQVMBSJUZPG RVFSJFT XF DPMMFDU  RVFTUJPOT BDDPSEJOH UP UIF GPMMPXJOHDSJUFSJB UIF TDPSFTIPVME CF BU MFBTU  BOE UIF WJFXDPVOU TIPVME
CF BU MFBTU  8F UIFO SBOEPNMZ TFMFDU  RVFTUJPOT GSPN UIFDPMMFDUFE RVFTUJPOT ‡•üF MFBE BVUIPS PG UIJT QBQFS BOE B 1I% TUVEFOU 	XIP JT OPU B DPBVUIPS PG UIJT QBQFS
 NBOVBMMZ FYBNJOF UIFUJUMFT PG UIF  RVFTUJPOT UP ‡©óMUFS PVU RVFTUJPOT UIBU EP OPU BJN UPTFBSDITIFMMDPNNBOETGPSQSPHSBNNJOHUBTLT‡•üFZ‡©óSTUJOEFQFOEFOUMZ MBCFM UIF RVFTUJPOT UP CF SFNPWFE 5ZQJDBM FYBNQMFT PG UIFRVFTUJPOT CFJOH SFNPWFE BSF HJWFO CFMPX
‚Ä¢"RVFTUJPOTFFLTGPSFYQMBOBUJPOTBCPVUDPNNBOETPSPUIFSSFTPVSDFT FH 8IBU JT UIF NFBOJOH PG ⁄¶DINPE  ⁄ß
‚Ä¢"RVFTUJPOTFFLTGPSDPNQBSJTPOCFUXFFODPNNBOETPSPUIFSSFTPVSDFT FH %J‡§ûFSFODF CFUXFFO DQ S BOE DQ B 
‚Ä¢"RVFTUJPOEFTDSJCFTBOFSSPSFH ⁄¶QJOHVOLOPXOIPTUHPPHMFDPN⁄ß
CVU *1T XPSLT ‡§üOF 
1974SheiiFusion: Answer Gener ation for Shell Progr ammin g Tasks via Knowledge Fusion 
e.g., ls, are used for completing the illustration. We filter out their¬≠
relevant commands by measuring their similarities with the query. 
For a command, C, we process its summary and the descriptions of 
its options in MP using stopword removal and stemming, resulting 
in a bag of words, Cmp¬∑ Similarly, we process the summary and ex¬≠
ample tasks of C in TLDR, resulting in a bag of words, Ctldr¬∑ We 
calculate two partial similarities between C and the query Q using 
Eq. (2) based on Cmp and Ctldr‚Ä¢ respectively. Finally, we calculate 
the similarity between C and Q as: 
sim(C, Q) =ax sim(Cmp. Q) + (1-a) x sim(Ctldr o Q) (3) 
where a E [0, 1] is a coefficient to balance the importance of the 
MP and TLDR descriptions of C. We distinguish Ctldr andCmp for 
similarity measurement since a command in TLDR means that it is 
frequently used and could be considered for recommendation with 
priority. In this work, we set a = 0.5 to assign equal weights to the 
MP and TLDR descriptions. 
We refine the candidate commands by retaining the top-k com¬≠
mands with the maximum similariti es. 
2.2.3 Command Ran king. Intuitively, a command that is more fre¬≠
quently used in the accepted answers of similar questions is more 
likely to address the query. If a command can implement a ques¬≠
tion that is more similar to a query, it is more likely to address 
the query. Were-rank the top-k candidate commands by consider¬≠
ing both the number of accepted answers that use the commands 
and the similarities of questions. For a command, C, we obtain the 
set of similar questions whose accepted answers mention the com¬≠
mand, denoted as T(C, Q). Then, we measure the likelihood that 
the command could be used to address the query as 
L,TET(C Q) sim(T, Q) 
likel ihood(C --> Q) = min( ' x logzn, 1.0) (4) n 
where sim(T, Q) is the similarity between a question, T, and the 
query Q, which is calculated using Eq. (2); and n is the number 
of questions in T(C, Q). The equation has two parts: the first part 
calculates the average of the similarities of the questions whose 
accepted answers contain C; and the second part boosts the simi¬≠
larity based on the number of such questions. We add a logarithm 
transformation to avoid excessive boosting. The likelihood should 
not exceed 1 for calculating the recommendation score below. 
We calculate the final recommendation score of C as the har¬≠
monic mean of its similarity with the query, sim(C, Q), and its like¬≠
lihood of achieving the query, likel ihood(C --> Q). A refined list 
of the candidate commands is produced by ranking them in a de¬≠
scending order according to the recommendation scores. 
2.2.4 Answer Generation for Command s. To help users understand 
the recommended commands and quickly locate useful commands 
and scripts for the query, we generate a comprehensive answer for 
each candidate command by synthesizing the following aspects: 
‚Ä¢ MP summary. We present the official summary of the com¬≠
mand in its MP to help users quickly check the command's 
functionality. 
‚Ä¢ The most similarTLDR task-s cript pair. If the command 
has a tutorial in TLDR, we calculate the similarity between 
each example task of the command and the query using ICSE '22, May 21- 29, 2022, Pitts burgh, PA, USA 
Eq. (2). We then present the most similar task with the corre¬≠
sponding script, so that users can quickly find a useful script 
if the task matches the query. 
‚Ä¢ Top -3 similar questions with accepted scripts. We list 
the titles of the top-3 similar questions whose accepted an¬≠
swers contain the command. For each question, we also list 
the scripts that use the command in the accepted answer. 
Users could find useful scripts by comparing the question 
titles with the query. We only present the top-3 questions 
with accepted scripts is to prevent information overload. 
‚Ä¢ Explanations about options. There can be some options 
of the command used in the associated scripts. To help users 
understand the scripts, we present the official MP descrip¬≠
tions of the options. Since the command designer may miss 
options (Section 2.2.2), for the options without MP descrip¬≠
tions, we present the sentences that contain the options in 
the accepted answers of the top-3 similar questions. 
3 EXPERIMENT AL SETUP 
This section introduces the experimental setup for evaluating Shell¬≠
Fusion. Our experimental environment is a server with an Intel-i7 
CPU, an Nvidia Geforce GTXl 060 GPU, 64G RAM, and Win 10 OS. 
3.1 Prototype Implementation 
As described in Sections 2.1.1, 2.1.4, and 2.1.5, we collect 537,129 
shell-related questions with accepted answers from four Q&A com¬≠
munities, 50,841 shell commands from the MPs of Ubuntu 20.04 
LTS, and 1,797 Linux commands from the TLDR tutorials. We per¬≠
form the offline process ofShellFusion on the dataset (Section 2.1). 
In the online process of ShellFusion, there is a key parameter, 
k, which is the number of candidate commands used to generate 
answers . To determine the proper setting of k, we conduct a pilot 
study to measure the performance of ShellFusion on 50 experimen¬≠
tal queries using different k values (Section 4.1). 
3.2 Qyery Selection 
Similar to prior work [26, 35, 48, 50, 51], we create a number of ex¬≠
perimental queries from shell-relate d questions without accepted 
answers that are not included in the question repository used for 
implementing ShellFusion. To ensure the quality and popularity 
of queries, we collect 14,383 questions according to the following 
criteria: the score should be at least 10; and the viewcount should 
be at least 1,000. We then randomly select 500 questions from the 
collected questions. The lead author of this paper and a PhD stu¬≠
dent (who is not a co-author of this paper) manually examine the 
titles of the 500 questions to filter out questions that do not aim to 
search shell commands for programming tasks. They first indepen¬≠
dently label the questions to be removed. Typical examples of the 
questions being removed are given below: 
‚Ä¢ A question seeks for explanations about commands or other 
resources, e.g., What is the mean ing of "chmod 666"? 
1974 ‚Ä¢ A question seeks for comparis on between commands or other 
resources, e.g., Difference between cp -rand cp-a. 
‚Ä¢ A question describes an error, e.g., "ping: unknown host google. com" 
but IPs works fine. 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
8FNFBTVSFUIFJOUFSSBUFSBHSFFNFOUCFUXFFOUIFUXPMBCFMFST
VTJOH 'MFJTT ,BQQB <> ‡•üF ,BQQB WBMVF JT  JOEJDBUJOH BO BM
NPTU QFSGFDU BHSFFNFOU "‡•èFS EJTDVTTJOH UIF EJTBHSFFNFOUT CPUIMBCFMFST SFBDI B DPNNPO EFDJTJPO PO UIF SFNPWBM PG  RVFTUJPOT'VSUIFSNPSFXF‡©óOEUIBUUIFSFBSFRVFTUJPOTEFTDSJCJOHBOBMPHPVTUBTLT 'PS FYBNQMF CPUI )PX UP JOTUBMM (PPHMF $ISPNF BOE)PX EP
* JOTUBMM J5VOFT PO 6CVOUV BTL GPS UIF JOTUBMMBUJPO PG BQQMJDBUJPOT
5PCF‡•íFSFWBMVBUFUIFQFSGPSNBODFPG4IFMM'VTJPOPOWBSJPVTUBTLT
POMZ POF PG UIF BOBMPHPVT RVFTUJPOT TIPVME CF SFUBJOFE #PUI MBCFMFSTGVSUIFSJOEFQFOEFOUMZFYBNJOFUIFSFNBJOJOHRVFTUJPOTBOE MBCFM UIF BOBMPHPVT RVFTUJPOT UP CF SFNPWFE ‡•üF ,BQQB WBMVFJT  JOEJDBUJOH BO BMNPTU QFSGFDU BHSFFNFOU ‡•üFZ EJTDVTT UIFEJTBHSFFNFOUT BOE SFBDI B DPOTFOTVT PO UIF SFNPWBM PG  RVFTUJPOT "T B SFTVMU XF PCUBJO  RVFSJFT CZ DPMMFDUJOH UIF UJUMFT PGUIF ‡©óOBM  RVFTUJPOT
 #BTFMJOF "QQSPBDIFT
4IFMM'VTJPO SFDPNNFOET TIFMM DPNNBOET GPS B RVFSZ BOE HFOFSBUFTBEFUBJMFEBOTXFSGPSFBDIDPNNBOECZMFWFSBHJOH2"QPTUT.1T BOE 5-%3 2" QPTUT BSF VTFE UP FYUSBDU DBOEJEBUF DPNNBOET XIJMF .1T BOE 5-%3 BSF VTFE UP ‡©óMUFS PVU JSSFMFWBOU DPNNBOET BOE HFOFSBUF DPNQSFIFOTJWF BOTXFST "‡•èFS FYUFOTJWF MJUFSBUVSF TFBSDI UIFSF JT OP FYJTUJOH XPSL UIBU FYQMPJUT 2" QPTUTUP SFDPNNFOE TIFMM DPNNBOET )PXFWFS TFWFSBM BQQSPBDIFT FH.BHOVN BOE 5FMMJOB BSF QSPQPTFE UP USBOTMBUF OBUVSBM MBOHVBHFUP #BTI DPNNBOET < > "DDPSEJOH UP UIF /-$$.% DPNQFUJUJPOIFMEBU/FVS*14.BHOVNJTUIFTUBUFPGUIFBSUBQQSPBDI.PSFPWFS TPNF XPSL HFOFSBUFT PS SFDPNNFOET BOTXFST GPS QSPHSBNNJOH UBTLT CZ FYQMPJUJOH 2" QPTUT < > %FFQ"OT <>JT POF PG UIF TUBUFPGUIFBSU BQQSPBDIFT 8F DPNQBSF 4IFMM'VTJPO
XJUI .BHOVN BOE %FFQ"OT XIJDI BSF CSJF‡©òZ EFTDSJCFE CFMPX
‚Ä¢.BHOVN <> USBOTMBUFT B OBUVSBM MBOHVBHF UBTL UP UIF DPS
SFTQPOEJOH #BTI DPNNBOE ‡•üF USBOTMBUJPO NPEFM JT BO FOTFNCMF PG ‡©óWF TFQBSBUFMZ USBJOFE USBOTGPSNFS <> NPEFMTDPOTJTUJOH PG TJY MBZFST XJUI #FBN 4FBSDI <> .BHOVN JTUSBJOFE VTJOH UIF /-#BTI EBUBTFU <> UIBU DPOUBJOT 
UBTLDPNNBOEQBJST8FJNQMFNFOU.BHOVNVTJOHJUTTPVSDF
DPEF BOE QSFUSBJOFE NPEFM SFMFBTFE PO (JU)VC <>
‚Ä¢%FFQ"OT <> SFDPNNFOET UIF NPTU SFMFWBOU BOTXFS GPS B
RVFSZ GSPN UIF BOTXFST PG TJNJMBS RVFTUJPOT JO 2" DPNNVOJUJFT FH "6 BOE 40 *U ‡©óSTU CPPTUT UIF RVFSZ CZ BQQFOEJOHBDMBSJ‡©óDBUJPORVFTUJPOHFOFSBUFEVTJOHBTFRVFODFUPTFRVFODF NPEFM ‡•üF NPEFM JT USBJOFE CBTFE PO UIF DMBSJ‡©óDBUJPO RVFTUJPOT BTLFE JO UIF DPNNFOUT PG 2" QPTUT%FFQ"OT UIFO SFUSJFWFT UIF UPQ TJNJMBS RVFTUJPOT BOE PCUBJOT UIF BOTXFST PG UIF TJNJMBS RVFTUJPOT BT DBOEJEBUF BOTXFST 'JOBMMZ %FFQ"OT TPSUT UIF BOTXFST CZ UIF NBUDIJOHTDPSFT DBMDVMBUFE VTJOH B OFVSBM OFUXPSL NPEFM ‡•üF OFVSBMOFUXPSL NPEFM JT USBJOFE CBTFE PO GPVS LJOET PG BVUPNBUJDBMMZ MBCFMFE 2" QBJST 8F JNQMFNFOU %FFQ"OT VTJOH JUTTPVSDF DPEF SFMFBTFE PO (JU)VC <>
8FFWBMVBUFUXPBTQFDUTPG4IFMM'VTJPOUIFSFDPNNFOEFETIFMM
DPNNBOET BOE UIF HFOFSBUFE BOTXFST 'PS UIF FWBMVBUJPO PG TIFMMDPNNBOE SFDPNNFOEBUJPO XF VTF .BHOVN BT B CBTFMJOF CVU FYDMVEF %FFQ"OT GPS UIF GPMMPXJOH SFBTPOT %FFQ"OT JT B HFOFSBM BQQSPBDI QSPQPTFE GPS SFDPNNFOEJOH SFMFWBOU BOTXFST GPS RVFSJFTGSPNUIFFYJTUJOHBOTXFSTPGRVFTUJPOTJO2"DPNNVOJUJFT%FFQ
"OT DBO BQQMZ UP TIFMM QSPHSBNNJOH UBTLT CVU JU EPFT OPU JEFOUJGZ
TIFMMDPNNBOETSFMFWBOUUPUIFRVFSJFTGSPNUIFSFDPNNFOEFEBOTXFST 'PS UIF FWBMVBUJPO PG BOTXFS HFOFSBUJPO XF DPOEVDU B VTFSTUVEZ CZ DPNQBSJOH 4IFMM'VTJPO XJUI CPUI .BHOVN BOE %FFQ"OT
"T EFTDSJCFE QSFWJPVTMZ JO 4IFMM'VTJPO 2" QPTUT BSF UIF CB
TJD JOGPSNBUJPO TPVSDF VTFE UP PCUBJO DBOEJEBUF TIFMM DPNNBOETGPS RVFSJFT BOE UIF PUIFS UXP JOGPSNBUJPO TPVSDFT JF .1T BOE
5-%3 BSF VTFE UP ‡©óMUFS PVU JSSFMFWBOU DPNNBOET BOE QSPEVDJOH
DPNQSFIFOTJWFBOTXFST5PFWBMVBUFUIF DPOUSJCVUJPOT PG .1T BOE
5-%3 XF JNQMFNFOU UISFF WBSJBOUT PG 4IFMM'VTJPO BT GPMMPXT
‚Ä¢4IFMM'VTJPO2" VTFT2"QPTUTPOMZ$BOEJEBUFDPNNBOET
BSF SBOLFE CZ UIF MJLFMJIPPE TDPSFT DPNQVUFE VTJOH &R 	

‚Ä¢4IFMM'VTJPO2".1T VTFT 2" QPTUT BOE .1T ‡•üF .1
LOPXMFEHFPGTIFMMDPNNBOETJTVTFEUP‡©óMUFSPVUJSSFMFWBOUDBOEJEBUF DPNNBOET
‚Ä¢4IFMM'VTJPO2"5-%3 VTFT 2" QPTUT BOE 5-%3 ‡•üF
5-%3 LOPXMFEHF PG TIFMM DPNNBOET JT VTFE UP ‡©óMUFS PVU JS
SFMFWBOU DBOEJEBUF DPNNBOET
 &WBMVBUJPO .FUSJDT
8FFWBMVBUFUIFTIFMMDPNNBOETSFDPNNFOEFECZ4IFMM'VTJPO.BH
OVN BOE UIF WBSJBOUT PG 4IFMM'VTJPO VTJOH UXP XJEFMZ VTFE NFUSJDT.FBO3FDJQSPDBM3BOLBU,	.33!,
<>BOE.FBO"WFSBHF1SFDJTJPO BU , 	."1!,
 <> 'PS B RVFSZ 3FDJQSPDBM 3BOL!,
	33!,
 SFGFST UP UIF NVMUJQMJDBUJWF JOWFSTF PG UIF SBOL PG UIF ‡©óSTU
SFMFWBOU DPNNBOE JO UIF UPQ KSFDPNNFOEBUJPO MJTU .33!, BW
FSBHFT UIF 33!, WBMVFT GPS B TFU PG RVFSJFT 'PS B RVFSZ "WFSBHF1SFDJTJPO!,	"1!,
DBMDVMBUFTUIFBWFSBHFPGUIFQSFDJTJPOBUUIFPDDVSSFODF PG FWFSZ SFMFWBOU DPNNBOE JO UIF UPQ KSFDPNNFOEB
UJPO MJTU ."1!, BWFSBHFT UIF "1!, WBMVFT GPS B TFU PG RVFSJFT
 &91&3*.&/5 3&46-54
 32 8IBU JT UIF CFTU TFUUJOH PG QBSBNFUFS
kJO 4IFMM'VTJPO 
.PUJWBUJPO "TTIPXOJO'JH4IFMM'VTJPONBZEFUFDUTIFMMDPN
NBOETJSSFMFWBOUUPBRVFSZGSPNUIFDPEFTOJQQFUTJOUIFBDDFQUFE
BOTXFST PG TJNJMBS RVFTUJPOT 8F ‡©óMUFS PVU UIF OPJTFT CZ SFUBJOJOH UIF UPQ kDPNNBOET UIBU IBWF UIF NBYJNVN TJNJMBSJUJFT XJUI
UIF RVFSZ ‡•üF TF‡•íJOH PG kDBO B‡©ñFDU UIF RVBMJUZ PG SFDPNNFOEFE
DPNNBOET " MBSHF k	FH 
 NBZ OPU ‡©óMUFS PVU TPNF JSSFMFWBOU
DPNNBOETXIJDIDBOCFJODMVEFEPSFWFOSBOLFEIJHIMZJOUIFSFDPNNFOEBUJPO MJTU " TNBMM k	FH 
 NBZ MFBWF PVU SFMFWBOU DPN
NBOET8FOFFEUPEFUFSNJOFUIFCFTUTF‡•íJOHPG kUPFOTVSFBHPPE
QFSGPSNBODF PG 4IFMM'VTJPO
"QQSPBDI 8F QFSGPSN B TFOTJUJWJUZ BOBMZTJT PG kCZ DPOEVDUJOH
B QJMPU TUVEZ XJUI  RVFSJFT SBOEPNMZ TFMFDUFE GSPN UIF FYQFSJNFOUBM RVFSJFT 8F SVO 4IFMM'VTJPO PO UIF RVFSJFT XJUI EJ‡©ñFSFOUTF‡•íJOHT PG k‚àà\     ^ 'PS FBDI RVFSZ XF DPMMFDU UIF
BOTXFST HFOFSBUFE VTJOH EJ‡©ñFSFOU kWBMVFT 8F UIFO SFDSVJU UXP
1I% TUVEFOUT XIP BSF GBNJMJBS XJUI 6CVOUV BOE IBWF NPSF UIBO‡©óWF ZFBST PG FYQFSJFODF JO TIFMM QSPHSBNNJOH UP FWBMVBUF UIF SFMF
WBODFPGSFDPNNFOEFEDPNNBOETJOUIFBOTXFST‡•üF SFMFWBODF PG
BDPNNBOEJOEJDBUFTUPXIBUFYUFOUUIFDPNNBOEDPVMECFVTFEUP
1975ICSE '22, May 21-29, 2022, Pittsbur gh, PA, USA 
We measure the inter-rater agreement between the two labelers 
using Fleiss Kappa [20]. The Kappa value is 0.87, indicating anal¬≠
most perfect agreement. After discussing the disagreements, both 
labelers reach a common decision on the removal of 29 questions. 
Furtherm ore, we find that there are questions describing analogous 
tasks. For example , both How to install Coogle Chrome and How do 
I install iTunes on Ubuntu? ask for the installation of applications. 
To better evaluate the performance ofShellFusion on various tasks, 
only one of the analogous questions should be retained. Both la¬≠
belers further independently examine the remaining 471 questions 
and label the analogous questions to be removed. The Kappa value 
is 0.82, indicating an almost perfect agreement. They discuss the 
disagreements and reach a consensus on the removal of 37 ques¬≠
tions. As a result, we obtain 434 queries by collecting the titles of 
the final 434 questions. 
3.3 Baseline Approaches 
ShellFusion recommends shell commands for a query and gener¬≠
ates a detailed answer for each command by leveraging Q&A posts, 
MPs, and TLDR. Q&A posts are used to extract candidate com¬≠
mands, while MPs and TLDR are used to filter out irrelevant com¬≠
mands and generate comprehensive answers. After extensive lit¬≠
erature search, there is no existing work that exploits Q&A posts 
to recommend shell commands . However, several approaches, e.g., 
Magnum and Tellina, are proposed to translate natural language 
to Bash commands [15, 29]. According to the NLC2CMD competi¬≠
tion held at NeuriPS 2020, Magnum is the state-of-the-art approach. 
Moreover, some work generates or recommends answers for pro¬≠
gramming tasks by exploiting Q&A posts [22, 48]. DeepAns [22] 
is one of the state-of-the-art approaches. We compare ShellFusion 
with Magnum and DeepAns, which are briefly described below: 
‚Ä¢ Magnu m [15] translates a natural language task to the cor¬≠
responding Bash command. The translation model is an en¬≠
semble of five separately trained transformer [ 43] models 
consisting of six layers with Beam Search [ 41]. Magnum is 
trained using the NL2Bash dataset [29] that contains 9,305 
task-command pairs. We implement Magnum using its source 
code and pre-trained model released on GitHub [ 6]. 
‚Ä¢ DeepAns [22] recommends the most relevant answer for a 
query from the answers of similar questions in Q&A com¬≠
munities, e.g., AU and SO. It first boosts the query by ap¬≠
pending a clarification question generated using a sequence¬≠
to-sequence model. The model is trained based on the clar¬≠
ification questions asked in the comments of Q&A posts. 
DeepAns then retrieves the top-S similar questions and ob¬≠
tains the answers of the similar questions as candidate an¬≠
swers. Finally, DeepAns sorts the answers by the matching 
scores calculated using a neural network model. The neural 
network model is trained based on four kinds of automati¬≠
cally labeled Q&A pairs. We implement DeepAns using its 
source code released on GitHub [ 4]. 
We evaluate two aspects of ShellFusion: the recommended shell 
commands and the generated answers . For the evaluation of shell 
command recommendation, we use Magnum as a baseline but ex¬≠
clude DeepAns for the following reasons: DeepAns is a general ap¬≠
proach proposed for recommending relevant answers for queries 
1975 Neng Zhang, Cha o Liu, Xin Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
from the existing answers of questions in Q&A communitie s. Deep¬≠
Ans can apply to shell programming tasks but it does not identifY 
shell commands relevant to the queries from the recommended an¬≠
swers. For the evaluation of answer generation, we conduct a user 
study by comparing ShellFusion with both Magnum and DeepAns. 
As described previously, in ShellFusion, Q&A posts are the ba¬≠
sic information source used to obtain candidate shell commands 
for queries, and the other two information sources, i.e., MPs and 
TLDR, are used to filter out irrelevant commands and producing 
comprehensive answers. To evaluate the contributions ofMPs and 
TLDR, we implement three variants of ShellFusion as follows. 
‚Ä¢ ShellFusion-QA uses Q&A posts only. Candidate commands 
are ranked by the likelihood scores computed using Eq. (4). 
‚Ä¢ ShellFusion-QA+MPs uses Q&A posts and MPs. The MP 
knowledge of shell commands is used to filter out irrelevant 
candidate commands. 
‚Ä¢ ShellFusion-QA+ TLDR uses Q&A posts and TLDR. The 
TLDR knowledge of shell commands is used to filter out ir¬≠
relevant candidate commands. 
3.4 Evaluation Metrics 
We evaluate the shell commands recommended by ShellFusion, Mag¬≠
num, and the variants of ShellFusion using two widely used met¬≠
rics: Mean Reciprocal Rank at K (MRR@K) [38] and Mean Average 
Precision at K (MAP@K) [26]. For a query, Reciprocal Rank@K 
(RR@K) refers to the multiplicative inverse of the rank of the first 
relevant command in the top-K recommendation list. MRR@K av¬≠
erages the RR@K values for a set of queries. For a query, Average 
Precision@K (AP@K) calculates the average of the precision at the 
occurrence of every relevant command in the top-K recommenda¬≠
tion list. MAP@K averages the AP@K values for a set of queries. 
4 EXPERIMENT RESULTS 
4.1 RQl: What is the best setting of parameter 
kin ShellFusion? 
Motivation. As shown in Fig. 2, ShellFusion may detect shell com¬≠
mands irrelevant to a query from the code snippets in the accepted 
answers of similar questions. We filter out the noises by retain¬≠
ing the top-k commands that have the maximum similarities with 
the query. The setting of k can affect the quality of recommended 
commands. A large k (e.g., 20) may not filter out some irrelevant 
commands which can be included or even ranked highly in the rec¬≠
ommendation list. A small k (e.g., 1) may leave out relevant com¬≠
mands. We need to determine the best setting of k to ensure a good 
performance of ShellFusion. 
Approach. We perform a sensitivity analysis of k by conducting 
a pilot study with 50 queries randomly selected from the experi¬≠
mental queries. We run ShellFusion on the queries with diff erent 
settings of k E {1, 3, 5, 10, 15, 20}. For each query, we collect the 
answers generated using diff erent k values. We then recruit two 
PhD students who are familiar with Ubuntu and have more than 
five years of experience in shell programming to evaluate the rele¬≠
vance of recommended commands in the answers . The relevance of 
a command indicates to what extent the command could be used to 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLTWJB ,OPXMFEHF 'VTJPO *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64"
5BCMF  1FSGPSNBODF PG 4IFMM'VTJPO XJUI EJ‡•êFSFOU kWBMVFT
L.33! .33! .33! ."1! ."1! ."1!
      
     
     
     
     
     
BEESFTTUIFDPSSFTQPOEJOHRVFSZ#PUI1I%TUVEFOUT‡©óSTUJOEFQFOEFOUMZ FWBMVBUF UIF SFMFWBODF PG FBDI SFDPNNFOEFE DPNNBOE CZ‡©óWFHSBEFTXIFSFBOENFBO€úTUSPOHMZJSSFMFWBOU€ú€ùJSSFMFWBOU€ú€ù OFVUSBM€ú€ù SFMFWBOU€ù BOE €úTUSPOHMZ SFMFWBOU€ù SFTQFDUJWFMZ*G UIF TZOUIFTJ[FE LOPXMFEHF JO BO BOTXFS JT JOTV‡©ôDJFOU UP KVEHFUIF SFMFWBODF PG UIF SFDPNNFOEFE DPNNBOE JO UIF BOTXFS UIFZDBO TFBSDI GPS UIF DPNNBOE PO UIF XFC *O UPUBM CPUI TUVEFOUT JOEFQFOEFOUMZ FWBMVBUF  DPNNBOET GPS UIF  RVFSJFT ‡•üF 'MFJTT,BQQB WBMVF JT  XIJDI JOEJDBUFT B TVCTUBOUJBM BHSFFNFOU ‡•üFTUVEFOUT SFBDI B DPOTFOTVT CZ EJTDVTTJOH UIF EJTBHSFFNFOUT
#BTFE PO UIF SFMFWBODF PG SFDPNNFOEFE DPNNBOET XF NFB
TVSF UIF BWFSBHF QFSGPSNBODF PG 4IFMM'VTJPO 'PS FWFSZ TQFDJ‡©óD.33!, PS ."1!, NFUSJD XF DPNQVUF UIF NFUSJD WBMVF PG UIFUPQKDPNNBOETSFDPNNFOEFEGPSFBDIRVFSZ‡•üFOXFDPNQVUF
UIF BWFSBHF PG UIF NFUSJD WBMVFT PG UIF  RVFSJFT
3FTVMUT 4IFMM'VTJPO BDIJFWFT CFUUFS QFSGPSNBODF XJUI UIF
TFUUJOH PG k  P S   5BCMF  QSFTFOUT UIF QFSGPSNBODF PG
4IFMM'VTJPO BDIJFWFE VTJOH EJ‡©ñFSFOU kWBMVFT "T kJODSFBTFT GSPN
 UP  JO UFSNT PG ‡©óWF TQFDJ‡©óD NFUSJDT FYDFQU .33! UIF QFS
GPSNBODF ‡©óSTU JODSFBTFT VOUJM SFBDIJOH B QFBL UIFSFB‡•èFS JU 
 CFDPNFTTUBCMFPS
EFHSBEFTTMJHIUMZBOEUIFOCFDPNFTTUBCMF4IFMM'VTJPOBDIJFWFTUIFPQUJNBMQFSGPSNBODFPOUIFNBYJNVNOVNCFSPG 	JF GPVS
 NFUSJDT VTJOH k  PS  4QFDJ‡©óDBMMZ XIFO k U I F
.33!.33!.33!BOE."1!WBMVFTBSFPQUJNBMXIFO
k  UIF .33! .33! ."1! BOE ."1! WBMVFT BSF PQ
UJNBM .PSFPWFS XIFO k  UIF .33! ."1! BOE ."1!
WBMVFT BSF PQUJNBM BOE UIF WBMVFT PG UIF PUIFS UISFF NFUSJDT BSFWFSZDMPTFUPUIFPQUJNBMPOFTBDIJFWFEVTJOH kPS 'SPNUIF
SFTVMUTVTFSTDBOTFU kPSCBTFEPOUIFJSQSFGFSFODFT
XJUISFTQFDUUPUIFGPVSNFUSJDT.33!.33!."1!
BOE ."1! *O UIJT XPSL XF QSFGFS ."1!, UP .33!, BT
."1!, DPOTJEFST CPUI TDPSFT BOE SBOLJOH PG UIF SFMFWBOU DPNNBOET 8F BSF BMTP NPSF JOUFSFTUFE JO UIF UPQ SFDPNNFOEFEDPNNBOET‡•üFSFGPSFXFTFU kGPSUIFTVCTFRVFOUFYQFSJNFOUT
 32 )PX F‡•êFDUJWF JT 4IFMM'VTJPO JO TIFMM
DPNNBOE SFDPNNFOEBUJPO 
.PUJWBUJPO 4IFMM'VTJPO BJNT UP SFDPNNFOE SFMFWBOU TIFMM DPN
NBOET XJUI DPNQSFIFOTJWF LOPXMFEHF GPS QSPHSBNNJOH UBTLT *UJT OFDFTTBSZ UP FWBMVBUF UIF F‡©ñFDUJWFOFTT PG 4IFMM'VTJPO JO TIFMMDPNNBOE SFDPNNFOEBUJPO 4IFMM'VTJPO JOUFHSBUFT UIF LOPXMFEHFPG TIFMM DPNNBOET NJOFE GSPN 2" QPTUT .1T BOE 5-%3 2"QPTUT BSF VTFE UP FYUSBDU DBOEJEBUF TIFMM DPNNBOET XIJMF CPUI.1TBOE5-%3BSFVTFEUP‡©óMUFSPVUJSSFMFWBOUDPNNBOETBOEHFOFSBUF DPNQSFIFOTJWF BOTXFST GPS DPNNBOET 8F OFFE UP WBMJEBUFUIF DPOUSJCVUJPOT PG .1T BOE 5-%3 UP 4IFMM'VTJPO5BCMF  1FSGPSNBODF PG 4IFMM'VTJPO BOE GPVS CBTFMJOFT
.33! .33! .33! ."1! ."1! ."1!
.BHOVN      
4IFMM'VTJPO2"      4IFMM'VTJPO2".1T      4IFMM'VTJPO2"5-%3      
4IFMM'VTJPO      
Q<Q< Q<
"QQSPBDI 8F JNQMFNFOU .BHOVN BOE UISFF WBSJBOUT PG 4IFMM'V
TJPO JF 4IFMM'VTJPO2" 4IFMM'VTJPO2".1T BOE 4IFMM'VTJPO2"5-%3 BT CBTFMJOFT 	4FDUJPO 
 8F QFSGPSN 4IFMM'VTJPO BOEUIF CBTFMJOFT PO UIF  FYQFSJNFOUBM RVFSJFT 'PS FBDI RVFSZ XFDPMMFDU UIF BOTXFSTQSPEVDFE CZ UIF ‡©óWFBQQSPBDIFT ‡•üF UXP 1I%TUVEFOUT JOWPMWFE JO 32 GVSUIFS FWBMVBUF UIF SFMFWBODF PG SFDPNNFOEFE DPNNBOET JO UIF BOTXFST /PUF UIBU UIF BOTXFS 	JF BDPNNBOEUFNQMBUF
QSPEVDFEGPSBRVFSZCZ.BHOVNNBZDPOUBJONVMUJQMFDPNNBOETBTTIPXOJO'JH8FBTLUIFTUVEFOUTUPFWBMVBUFFWFSZDPNNBOEJOUIFDPNNBOEUFNQMBUFTQSPEVDFECZ.BHOVN 4JNJMBSMZ UIFZ ‡©óSTU JOEFQFOEFOUMZ FWBMVBUF UIF SFMFWBODF PGFBDI DPNNBOE CZ ‡©óWF HSBEFT  *O UPUBM CPUI TUVEFOUT JOEFQFOEFOUMZFWBMVBUFDPNNBOETBOEUIF'MFJTT,BQQBWBMVFJTJOEJDBUJOH BO BMNPTU QFSGFDU BHSFFNFOU "‡•èFS EJTDVTTJOH UIF EJTBHSFFNFOUT UIF TUVEFOUT BDIJFWF B DPOTFOTVT
8F NFBTVSF UIF BWFSBHF QFSGPSNBODF PG UIF ‡©óWF BQQSPBDIFT PO
BMM FYQFSJNFOUBM RVFSJFT 'PS .BHOVN XF NFBTVSF JUT CFTU QFSGPSNBODF PG UIF DPNNBOE UFNQMBUF QSPEVDFE GPS B RVFSZ CBTFE POUIF PQUJNBM DPNNBOE MJTU SBOLFE JO EFTDFOEJOH PSEFS CZ UIF SFMFWBODF *O UFSNT PG FWFSZ TQFDJ‡©óD .33!, BOE ."1!, NFUSJD
XF BMTP FYBNJOF UIF TUBUJTUJDBM TJHOJ‡©óDBODF PG UIF EJ‡©ñFSFODFT CF
UXFFO UIF QFSGPSNBODF PG 4IFMM'VTJPO BOE UIF CBTFMJOFT VTJOH UIF
8JMDPYPO TJHOFESBOL UFTU <>
3FTVMUT 4IFMM'VTJPO IBT EFNPOTUSBUFE UIF F‡•êFDUJWFOFTT JOTIFMM DPNNBOE SFDPNNFOEBUJPO 5BCMF  QSFTFOUT UIF QFSGPS
NBODFPG4IFMM'VTJPOBOEGPVSCBTFMJOFTBOEUIFTJHOJ‡©óDBOUSFTVMUTPG 4IFMM'VTJPO PWFS UIF CBTFMJOFT 4IFMM'VTJPO BDIJFWFT UIF PQUJNBMQFSGPSNBODFPO.33!."1!."1!BOE."1!‡•üF.33! BOE .33! WBMVFT PG 4IFMM'VTJPO BSF WFSZ DMPTF UP UIFPQUJNBM POFT BDIJFWFE CZ 4IFMM'VTJPO2"5-%3 4IFMM'VTJPO TJHOJ‡©óDBOUMZ PVUQFSGPSNT .BHOVN XJUI BO JNQSPWFNFOU PG BU MFBTU PO .33!, BOE BU MFBTU  PO ."1!, ‡•üF QPPS QFSGPSNBODFPG.BHOVNJTNBJOMZEVFUPUIFUSBJOJOHEBUBTFU/-#BTI
XIJDIDPWFSTPOMZDPNNBOET.BHOVNDBOOPUEFBMXJUINBOZ
UBTLT UIBU SFRVJSF DPNNBOET PVUTJEF UIF EBUBTFU
4IFMM'VTJPO2".1T JNQSPWFT 4IFMM'VTJPO2" TMJHIUMZ PO ‡©óWF
NFUSJDTFYDFQU."1!‡•üFXPSTF."1!PG4IFMM'VTJPO2".1TNBZ CF DBVTFE CZ UIF NJTMFBEJOH TJNJMBSJUJFT CFUXFFO TPNF DPNNBOET BOE RVFSJFT DBMDVMBUFE CBTFE PO UIF .1 EFTDSJQUJPOT PG UIFDPNNBOETBOEUIFJSPQUJPOT4IFMM'VTJPO2"5-%3BDIJFWFTNVDICF‡•íFS QFSGPSNBODF UIBO 4IFMM'VTJPO2" PO BMM NFUSJDT ‡¢äF SF
TVMUTJOEJDBUFUIBUCPUI.1TBOE5-%3DPOUSJCVUFUP4IFMM'VTJPO BOE 5-%3 IBT NPSF DPOUSJCVUJPOT UIBO .1T ‡•üSPVHI
PVS BOBMZTJT UIF SFTVMUT DBO CF FYQMBJOFE CZ UIF GBDU UIBU VOMJLFUIF P‡©ôDJBM .1T QSPWJEFE CZ DPNNBOE EFTJHOFST UIF VOP‡©ôDJBM
5-%3DPOUBJOTQSBDUJDBMLOPXMFEHFBCPVUUIFVTBHFPGDPNNBOET
XIJDI JT NPSF VTFGVM GPS VTFST "MUIPVHI .1T IBWF MJNJUFE DPOUSJ
CVUJPOT UP SFDPNNFOEJOH CF‡•íFS DPNNBOET .1T BSF OFDFTTBSZ UP
1976Shell Fusion: Answer Generation for Shell Program ming Tasks Knowledge Fusion 
Table 2: Perform ance of ShellFusion with diff erent k values 
0.560 0.668 0.398 0.425 
10 0.560 0.670 0.278 0.432 
15 0.560 0.657 0.666 0.278 0.431 
20 0.560 0.657 0.666 0.278 0.43J 
address the corresponding query. Both PhD students first indepen¬≠
dently evaluate the relevance of each recommended command by 
five 0-4, where 0, 1, 2, 3, and 4mean irrelevant'. 'ir¬≠
relevant ', ¬∑neutral', 'relevant ', and 'strongly relevant ', respectively. 
If the knowledge in an answer is insufficient to judge 
the relevance of the recommended command in the answer, they 
can search for the command on the web. In total, both students in¬≠
dependently evaluate 302 commands for the 50 The Fleiss 
Kappa value is 0.78, which indicates a substantial agreement. The 
students reach a consensus by discussing the u.co¬∑"o"'""wcw.ÔøΩ. 
Based on the relevance of recommended commands, we mea¬≠
sure the average performance of ShellFusion. For every specific 
MRR@K or MAP@K metric. we compute the metric value of the 
top- K commands recommended for each query. Then, we compute 
the average of the metric values of the 50 queries. 
Results. ShellFusion achie ves better performance with the 
setting of k 3, 5, or 10. Table 2 presents the performance of 
ShellFusion achieved using different k values. As k increases from 
1 to 20, in terms of five specific metrics except MRR@5, the per¬≠
formance first increases until reaching a peak; thereafter it 1) be¬≠
comes stable or 2) degrades slightly and then becomes stable. Shell¬≠
Fusion achieves the optimal performance on the maximum number 
of (i.e., four) metrics using k = 3 or 10. Specifica lly, when k = 3, the 
MRR@l, MRR@3, MRR@5, and MAP@1 values are optimal; when 
k = 10, the MRR@l, MRR@5, MAP@l, and MAP@5 values are op¬≠
timal. Moreover, when k = 5, the MRR@l, MAP@l, and MAP@3 
values are optimal, and the values of the other three metrics are 
very close to the optimal ones achieved using k 3 or 10. From the 
results, users can set k = 3, 5, or 10 based on their pref erences 
with respect to the four metric s: MRR@3, MRR@5, MAP @3, 
and MAP @5. In this work, we prefer MAP@K to MRR@K as 
Mi\P@K considers both scores and ranking of the relevant com¬≠
mands. We are also more interested in the top-3 recommended 
commands. Therefore, we set k = 5 for the experiments. 
4.2 RQ2: How effective is ShellFusion in shell 
command recom men dation? 
Motivation. ShellFusion aims to recommend relevant shell com¬≠
mands with comprehensive knowledge for tasks. It 
is necessary to evaluate the effectiveness of ShellFusion in shell 
command recommendation. ShellFusion integrates the knowledge 
of shell commands mined from Q&A posts, MPs, and TLDR. Q&A 
posts are used to extract candidate shell commands, while both 
MPs and TLDR are used to filter out irrelevant commands and gen¬≠
erate answers for commands. We need to validate 
the contributions of !v!Ps and TLDR to ShellFusion. ICSE '22, May 21-29, 2022. Pitlsburgh, PA, USA 
Table 3: Perfo rmance of ShellFusion and four baselines 
Approach. We implement Magnum and three variants of ShellFu¬≠
sion, i.e., ShellFusion-QA +MPs, and ShellFusion¬≠
QA+ TLDR, as baselines (Section 3.3). We perform SheliFusion and 
the baselines on the 434 experimental queries. For each query, we 
collect the answers produced by the five approaches. The two PhD 
students involved in RQl further evaluate the relevance of recom¬≠
mended commands in the answers. Note that the answer (i.e .. a 
command template) produced for a quety by Magnum 
multiple commands, as shown in Fig. 3. We ask the students to eval¬≠
uate every command in the command templates produced by 
num. Similarly, first independently evaluate the relevance of 
each command five 0-4. In total, both students indepen-
dently evaluate 5,509 comman ds, and the Fleiss is 0.83, 
indicating an almost perfect agreement. After discussing the dis¬≠
agreements, the students achieve a consensus. 
We measure the average performance of the five on 
all experimental For Magnum, we measure its best perfor¬≠
mance of the command template produced for a query based on 
the optimal command list ranked in descending order by the rel¬≠
evance. In terms of every specific MRR@K and MAP@K metric, 
we also examine the statistical significance of the differences be¬≠
tween the ofShellFusion and the baselines the 
WilcoxonÔøΩ'"'""''''-'''" 
Results. SheiiFusion has demonstrated the effectivene ss in 
shell command recommendation. Table 3 presents the 
1976 rnance ofShellFusion and four baselines, and the results 
of Shell Fusion over the baselines. ShellFusion achieves the opti¬≠
mal performance onMRR@l, !vlAP@l, l'v1AP@3, andMAP@5. 1he 
MRR@3 and MRR@S values of ShellFusion are very close to the 
optimal ones achieved by ShellFusion- QA+TLD R. ShellFusion sig¬≠
nificantly outperforms Magnum with an improvement of at least 
217.0% on MRR@K and at least 179.6% on l'v1AP@K. The poor per¬≠
formance of Magnum is mainly due to the training dataset, NL2Bash. 
which covers only 102 commands. !Vlagmun cannot deal with many 
tasks that require commands outside the dataset. 
ShellFusion-QA+MPs improves ShellFusion-QA slightly on five 
metrics except MAP@ 1. 1he worse MAP@ 1 ofShellFusion-QA+MPs 
may be caused by the misleading similarities between some com¬≠
mands and calculated based on the MP descriptions of the 
commands and their options. ShdlFusion-QA+ TLDR achieves much 
better performance than ShellFusion-QA on all rnetrics. The re¬≠
sults ind icate that both MPs and TLDR contribute to ShellFu ¬≠
sion, and TLDR has more contributions than MPs. Through 
our analysis, the results can be explained by the fact that unlike 
the official MPs provided by command designers, the unofllcial 
TLDR contains knowledge about the usage of commands, 
which is more useful for users. Although MPs have limited contri¬≠
butions to better commands, MPs are necessary to 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
5BCMF  5JNF DPTU PG 4IFMM'VTJPO .BHOVN BOE %FFQ"OT
0‡•êMJOF QSPDFTTJOH UJNF 0OMJOF QSPDFTTJOH UJNF
4IFMM'VTJPO  IPVST  TFDPOET QFS RVFSZ
.BHOVN €ó TFDPOET QFS RVFSZ
%FFQ"OT  IPVST  TFDPOET QFS RVFSZ
IFMQ VTFST VOEFSTUBOE UIF HFOFSBUFE BOTXFST CZ P‡©ñFSJOH P‡©ôDJBM
FYQMBOBUJPOT BCPVU UIF SFDPNNFOEFE DPNNBOET BOE PQUJPOT BTDPO‡©óSNFE CZ UIF QBSUJDJQBOUT PG PVS VTFS TUVEZ 	4FDUJPO 

 32 )PX F‡•ìDJFOU JT 4IFMM'VTJPO 
.PUJWBUJPO "T TIPXO JO 'JH  4IFMM'VTJPO IBT ‡©óWF P‡©öJOF TUFQT
FH XPSE FNCFEEJOH NPEFM CVJMEJOH BOE .1 BOE 5-%3 QBSTJOH
"MUIPVHI UIF TUFQT SFRVJSF TVCTUBOUJBM UJNF UIFZ EP OPU B‡©ñFDU UIF
F‡©ôDJFODZ PG POMJOF BOTXFS HFOFSBUJPO 5P BDDFMFSBUF UIF POMJOFQSPDFTTXFDPOEVDUUXPTUFQTP‡©öJOF
USBOTGPSNJOHUIFUJUMFTBOEUBHT PG BMM RVFTUJPOT JO UIF SFQPTJUPSZ JOUP NBUSJY SFQSFTFOUBUJPOCBTFE PO UIF XPSE FNCFEEJOH NPEFM BOE 
 EFUFDUJOH DPNNBOET
XJUI PQUJPOT GSPN UIF DPEF TOJQQFUT JO UIF BDDFQUFE BOTXFST PG BMM
RVFTUJPOT 6TJOH UIF SFTVMUT 4IFMM'VTJPO DBO F‡©ôDJFOUMZ DBMDVMBUFTFNBOUJD TJNJMBSJUJFT CFUXFFO B RVFSZ BOE UIF N  RVFTUJPOT
SFEVDFE CZ -VDFOF BOE RVJDLMZ PCUBJO DBOEJEBUF DPNNBOET GSPNUIF UPQ TJNJMBS RVFTUJPOT
%VSJOH UIF POMJOF BOTXFS HFOFSBUJPO GPS B RVFSZ 4IFMM'VTJPO
OFFET UP ‡©óMUFS PVU JSSFMFWBOU DBOEJEBUF DPNNBOET CZ DBMDVMBUJOHUIFJS TJNJMBSJUJFT XJUI UIF RVFSZ SBOL UIF SF‡©óOFE DBOEJEBUF DPNNBOET BOE HFOFSBUF B EFUBJMFE BOTXFS GPS FBDI DPNNBOE CZ TZOUIFTJ[JOH LOPXMFEHF GSPN NVMUJQMF TPVSDFT *G 4IFMM'VTJPO DBOOPUSVOXJUIBSFBTPOBCMFSVOUJNFVTFSTNBZOPUCFXJMMJOHUPVTFJUJOQSBDUJDF 8F OFFE UP WBMJEBUF UIF POMJOF F‡©ôDJFODZ PG 4IFMM'VTJPO
"QQSPBDI 8F SFDPSE UIF UJNF TQFOU PO UIF P‡©öJOF BOE POMJOF
TUFQT PG 4IFMM'VTJPO %FFQ"OT BOE .BHOVN
3FTVMUT 4IFMM'VTJPO DBO SBQJEMZ SFTQPOE UP VTFST B‡¢ÑFS UIFZ
TVCNJU B TIFMM QSPHSBNNJOH UBTL 5BCMF  QSFTFOUT UIF P‡©öJOF
BOE POMJOF UJNF DPTU PG UISFF BQQSPBDIFT 8F EP OPU SFQPSU UIFP‡©öJOF UJNF PG .BHOVN BT XF EJSFDUMZ VTF JUT QSFUSBJOFE NPEFM‡•üFP‡©öJOFQSPDFTTPG4IFMM'VTJPOUBLFTIPVSTXIJDITIPVMECFBDDFQUBCMFJOQSBDUJDF*OUIFPOMJOFQSPDFTT4IFMM'VTJPOUBLFTPOMZ TFDPOET UP HFOFSBUF BOTXFST GPS B RVFSZ %FFQ"OT IBT IJHIFSP‡©öJOFBOEPOMJOFUJNFDPTUUIBO4IFMM'VTJPO.BHOVNDBOBOTXFSBRVFSZXJUIJOTFDPOETXIJDIJTNVDIGBTUFSUIBO4IFMM'VTJPOIPXFWFS UIF F‡©ñFDUJWFOFTT PG .BHOVN JT QPPS 	5BCMF 

‡•üF F‡©ôDJFODZ PG 4IFMM'VTJPO MBSHFMZ EFQFOET PO UIF UXPQIBTF
NFUIPEVTFEGPSTJNJMBSRVFTUJPOSFUSJFWBM"‡•èFSSFEVDJOHUIFMBSHFSFQPTJUPSZ UP B TFU PG NRVFTUJPOT VTJOH UIF -VDFOF TFBSDI FOHJOF
UIF UPQnTJNJMBS RVFTUJPOT DBO CF F‡©ôDJFOUMZ SFUSJFWFE VTJOH UIF
XPSE FNCFEEJOH NPEFMCBTFE NFUIPE
 64&3 456%:
*O UIJT TFDUJPO XF DPOEVDU B VTFS TUVEZ UP WBMJEBUF UIF QSBDUJDBM
WBMVF PG 4IFMM'VTJPO CZ DIFDLJOH XIFUIFS UIF HFOFSBUFE BOTXFST
DBO IFMQ VTFST ‡©óOE DPSSFDU TIFMM DPNNBOET BOE TDSJQUT GPS QSPHSBNNJOH UBTLT NPSF F‡©ôDJFOUMZ BOE BDDVSBUFMZThe Top-1 Answer Generated by ShellFusion:  =========
Command:   cut
MP Summary:   remove sections from each line of files
The Most Similar TLDR Task:     Cut out the first sixteen characters of each line of the given files
The Most Similar TLDR Script:   cut -c {{1-16}} {{file}}
### Top-3 Similar Questions with the Accepted Scripts  ###
Question Title:       Extract the first character after the first number
Accepted Script:    s="1478456=Good bye 1 2"
                                 echo ${s//[[:digit:]]/} | cut -c1
Question Title:      Get string after character
Accepted Script:    cut -d "=" -f2 <<< "$your_str"
Question Title:       Extract text between two strings but only the first occur rence using sed?
Accepted Script:    echo "<tag>Hello world </tag> blah blah blah <tag> Good night l s -ltrh 
cptrade* </tag>" | cut -d'>' -f2 | cut -d'<' -f1
### Explanations about Options  ###
-c:  select only these characters
-d:  use DELIM instead of TAB for field delimiter
The Command Template Produced by Magnum:  =========
echo Regex | cut -d Regex -f Number
The Most Relevant Answer Recommended by DeepAns:  =========
Using awk:
awk '{for (i=1;i&lt;=NF;++i) {if($i~/^[v]/){print $i}}}' yourfi le.txt
This is: 
Iterating the file record by record (because that's what awk do es)
Iterating each field delimited by the default : for (i=1;i&lt;= NF;++i)
Testing to see if the field starts with a "v": if($i~/^[v]/)
If so it prints the field value print $i
I'm certain sed could make quick work of this too.
'JHVSF  ‡¢äF BOTXFST QSPEVDFE CZ 4IFMM'VTJPO .BHOVN
BOE %FFQ"OT GPS UIF RVFSZ 2 MJTUFE JO 5BCMF 
 4UVEZ %FTJHO
8F SBOEPNMZ TFMFDU UFO FYQFSJNFOUBM RVFSJFT ‡•üF UXP 1I% TUV
EFOUT JOWPMWFE JO 32 BOE 32 EFUFSNJOF UIF HSPVOEUSVUI DPNNBOET BOE TDSJQUT GPS UIF RVFSJFT BT MJTUFE JO 5BCMF  ‡•üF RVFSJFTIBWF EJ‡©ñFSFOU MFWFMT PG EJ‡©ôDVMUJFT 4PNF RVFSJFT FH 2 DBO CFFBTJMZ BEESFTTFE VTJOH B DPNNPO DPNNBOE XIJMF PUIFS RVFSJFTFH 2 BOE 2 SFRVJSF VODPNNPO PS NVMUJQMF DPNNBOET ‡•üF EJ
WFSTJUZ PG RVFSJFT DBO IFMQ JNQSPWF UIF HFOFSBMJ[BCJMJUZ PG PVS SF
TVMUT 'PS B RVFSZ UIBU DPOUBJOT NVMUJQMF DPNNBOET JO UIF HSPVOEUSVUI TPNF DPNNBOET DBO CF NPSF SFMFWBOU UP UIF RVFSZ UIBO UIFPUIFST'PSFYBNQMFGPS2 EWVJTNPSFSFMFWBOUUIBO GEJQ4JNJMBS
UP 32 CPUI TUVEFOUT FWBMVBUF UIF SFMFWBODF PG UIF HSPVOEUSVUIDPNNBOETPGFBDIRVFSZCZ‡©óWFHSBEFT"TMJTUFEJO5BCMFUIFSFMFWBODF TDPSFT PG EWVBOEGEJQPG 2 BSF  BOE  SFTQFDUJWFMZ
8F SFDSVJU  QBSUJDJQBOUT 	 GBDVMUZ NFNCFST  QPTUEPDT 
1I%T BOE  .4DT
 GSPN UIF TFDPOE BOE UIF UIJSE BVUIPST€ù PSHBOJ[BUJPOT ‡•üFZ IBWF EJ‡©ñFSFOU ZFBST PG TIFMM QSPHSBNNJOH FYQFSJFODF WBSZJOH GSPN  ZFBST XJUI BO BWFSBHF 	BWH
 PG  ZFBST
8FEJWJEFUIFNVOJGPSNMZJOUPGPVSHSPVQTXIJMFFOTVSJOHUIBUUIF
NFNCFSTJOEJ‡©ñFSFOUHSPVQTIBWFDPNQBSBUJWFTIFMMQSPHSBNNJOHFYQFSJFODF ‡•üF HSPVQT BSF BTTJHOFE UP EJ‡©ñFSFOU TF‡•íJOHT 
 4IFMM
'VTJPOVTJOHUIFBOTXFSTHFOFSBUFECZ4IFMM'VTJPO
 .BHOVN
VTJOH UIF BOTXFST QSPEVDFE CZ .BHOVN 
 %FFQ"OT  VTJOH UIF
BOTXFST SFDPNNFOEFE CZ %FFQ"OT BOE 
 8FC 4FBSDI 	84
  VT
JOH XFC TFBSDI FOHJOFT FH (PPHMF POMZ ‡•üF OVNCFST PG ZFBSTPG FYQFSJFODF JO TIFMM QSPHSBNNJOH UIBU UIF ‡©óWF QBSUJDJQBOUT PG4IFMM'VTJPO .BHOVN %FFQ"OT BOE 84 IBWF BSF <    >
	BWH
<>	BWH
<>	BWH
BOE<
   > 	BWH
 SFTQFDUJWFMZ 'JH  TIPXT UIF BOTXFST QSPEVDFE CZ 4IFMM'VTJPO .BHOVN BOE %FFQ"OT GPS 2 ‡•üF QBSUJDJQBOUT BTTJHOFE UP UIF UISFF BQQSPBDIFT EP OPU LOPX UIF BQQSPBDI
1977ICSE '22, May 21-29, 2022, Pittsbur gh, PA, USA 
Table 4: Time cost of ShellFusion, Magnum, and DeepAns 
Offline processing time 
Shel!Fusion 3.2 hours 
Magnum 
DeepAns 12.0 hours Online process ing time 
0.4 seconds per query 
0.01 seconds per query 
3.37 seconds per query 
help users understand the generated answers by offering official 
explanations about the recommended commands and options, as 
confirmed by the participants of our user study (Section 5). 
4.3 RQ3: How efficient is ShellFusion? 
Motivation. As shown in Fig. 1, ShellFusion has five offline steps, 
e.g., word embedding model building , and MP and TLDR parsing. 
Although the steps require substantial time, they do not affect the 
efficiency of online answer generation. To accelerate the online 
process, we conduct two steps offline: 1) transforming the titles and 
tags of all questions in the repository into matrix representation 
based on the word embedding model; and 2) detecting commands 
with options from the code snippets in the accepted answers of all 
questions. Using the results, ShellFusion can efficiently calculate 
semantic similarities between a query and theN= 1,000 questions 
reduced by Lucene, and quickly obtain candidate commands from 
the top-50 similar questions. 
During the online answer generation for a query, ShellFusion 
needs to filter out irrelevant candidate commands by calculating 
their similarities with the query, rank the refine d candidate com¬≠
mands, and generate a detailed answer for each command by syn¬≠
thesizing knowledge from multiple sources. If ShellFusion cannot 
run with a reasonable runtime, users may not be willing to use it in 
practice. We need to validate the online efficiency of ShellFusion. 
Approach. We record the time spent on the offline and online 
steps of ShellFusion, DeepAns , and Magnum. 
Results. ShellFu sion can rapidly respond to users after they 
submit a shell programming task. Table 4 presents the offline 
and online time cost of three approaches. We do not report the 
offline time of Magnum as we directly use its pre-trained model. 
The offline process ofShellFusion takes 3.2 hours, which should be 
acceptable in practice. In the online process, ShellFusion takes only 
0.4 seconds to generate answers for a query. DeepAns has higher 
offline and online time cost than ShellFusion. Magnum can answer 
a query within 0.01 seconds, which is much faster than ShellFusion, 
however, the effectiveness of Magnum is poor (Table 3). 
The efficiency of ShellFusion largely depends on the two-phase 
method used for similar question retrieval. After reducing the large 
repository to a set of N questions using the Lucene search engine, 
the top-n similar questions can be efficiently retrieved using the 
word embedding model-based method. 
5 USER STUDY 
In this section, we conduct a user study to validate the practical 
value of ShellFusion by checking whether the generated answers 
can help users find correct shell commands and scripts for pro¬≠
gramming tasks more efficiently and accurately. 
1977 Neng Zhang, Chao Liu, Xin Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
The Top-1 Answer Generated by SheiiFusion: ========= 
Command: cut 
MP Summary: remove sections from each line of files 
The Most Similar TLDR Task: Cut out the first sixteen char acter s of each line of the given files 
The Most Similar TLDR Script: cut -c {{1-16}} {{file}} 
### Top-3 Similar Questions with the Accepted Scripts ### 
Question Title: Extract the first char acter after the first number 
Accepted Script: s="1478456=Good bye 12" 
echo ${s//l l:digit:11/} I cut -cl 
Question Title: Get string after character 
Accepted Script: cut -d "=" -f2 <¬´ "$your _str" 
Question Title: Extract text between two strings but only the first occurrence using sed? 
Accepted Script: echo "<tag >Hello world </tag> blah blah blah <tag> Good night Is -ltrh 
cptrade* </tag>" I cut -d'>' -f2 I cut -d'<' -fl 
### Explanations about Options ### 
-c: select only these cha racters 
-d: use DE LIM instead ofTABforfield delimiter 
The Command Template Produced by Magn um: ========= 
echo Rege x I cut -d Regex -f Numbe r 
The Most Relevant Answer Recommended by DeepAns: ========= 
Using awk: 
awk '{for (i=l;i&lt;=N F;++i) {if($ i"'/"[v]/ ){print $i}}}' your file.txt 
This is: 
Iterating the file record by record (because that's what awk does) 
Iterating each field delimi ted by the default : for (i=l;i&lt;=N F;++i) 
Testing to see ifthe field starts with a "v": if($i"'/"[v]/) 
If so it prints the field value print $i 
I'm certa in sed could make quick work ofthis too. 
Figure 3: The answers produced by ShellFusion, Magnum, 
and DeepAns for the query Q7 listed in Table 5. 
5.1 Study Desi gn 
We randomly select ten experimental queries. The two PhD stu¬≠
dents involved in RQ1 and RQ2 determine the ground-truth com¬≠
mands and scripts for the queries, as listed in Table 5. The queries 
have different levels of difficulties. Some queries, e.g., QS, can be 
easily addressed using a common command, while other queries, 
e.g., Q1 and Q7, require uncommon or multiple commands. The di¬≠
versity of queries can help improve the generalizability of our re¬≠
sults. For a query that contains multiple commands in the ground¬≠
truth, some commands can be more relevant to the query than the 
others. For example , for Q7, cut is more relevant than echo. Similar 
to RQ1, both students evaluate the relevance of the ground-truth 
commands of each query by five grades 0-4. As listed in Table 5, the 
relevance scores of cut and echo of Q7 are 4 and 2, respectively. 
We recruit 20 participants (4 faculty members, 2 postdocs, 11 
PhDs, and 3 MScs) from the second and the third authors' orga¬≠
nizations. They have different years of shell programming expe¬≠
rience, varying from 1-8 years with an average (avg.) of 3.2 years. 
We divide them uniformly into four groups while ensuring that the 
members in different groups have comparative shell programming 
experience . The groups are assigned to different settings: 1) Shell¬≠
Fusion: using the answers generated by ShellFusion; 2) Magnum: 
using the answers produced by Magnum; 3) DeepAns: using the 
answers recommended by DeepAns; and 4) We b Search (WS): us¬≠
ing web search engines, e.g., Google, only. The numbers of years 
of experience in shell progr amming that the five participants of 
ShellFus ion, Magnum, DeepAns, and WS have are [1, 2.5, 3, 4, 5] 
(avg.=3.1), [1, 2, 3, 3, 7] (avg.=3.2), [1, 2, 3, 3.5, 6.5] (avg.=3.2), and [1, 
2, 2.5, 3, 8] (avg.=3.3), respectively. Fig. 3 shows the answers pro¬≠
duced by ShellFusion, Magnum, and DeepAns for Q7. The partici¬≠
pants assigned to the three approaches do not know the approach 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLTWJB ,OPXMFEHF 'VTJPO *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64"
5BCMF  5FO RVFSJFT GPS UIF VTFS TUVEZ BOE UIF HSPVOEUSVUI DPNNBOET BOE TDSJQUT PG UIF RVFSJFT
*% ‡¢âFSZ(SPVOEUSVUI DPNNBOET
XJUI SFMFWBODF TDPSFT(SPVOEUSVUI TDSJQU
2 )PX UP EPXOMPBE BO .1 USBDL GSPN B :PV5VCF WJEFP ZPVUVCFEM	
 ZPVUVCFEM Y €óBVEJPGPSNBU NQ 7JEFP63-
2 )PX UP DPOWFSU B WJEFP GSPN NQ‡©òW UP NQFHNQH ‡©ñNQFH	
 ‡©ñNQFH J *OQVUGPSNBU 0VUQVUGPSNBU
2 $SFBUF B TJOHMF QEG GSPN NVMUJQMF UFYU JNBHFT PS QEG ‡©óMFT DPOWFSU	
 QEGVOJUF	
DPOWFSU 5FYUUYU 5FYUQEGDPOWFSU *NBHFKQH *NBHFQEGQEGVOJUF 5FYUQEG *NBHFQEG 0VUQEG
2 )PX UP SFDPWFS EFMFUFE ‡©óMFT TVEP	
 QIPUPSFD	
 TVEP QIPUPSFD %FMFUFE'JMF1BSUJUJPO
2 )PX UP DPQZ B ‡©óMF GSPN SFNPUF TFSWFS UP MPDBM NBDIJOF TDQ	
 TDQ 3FNPUF'JMF -PDBM'JMF
2 )PX UP HSFQ GPS TBNF TUSJOH CVU NVMUJQMF ‡©óMFT BU UIF TBNF UJNF HSFQ	
 HSFQ 4USJOH 'JMF 'JMF €™
2 )PX UP FYUSBDU UIF ‡©óSTU UXP DIBSBDUFST PG B TUSJOH JO TIFMM TDSJQUJOH FDIP	
 DVU	
 FDIP 4USJOH ] DVU D 
2 #BTI )PX UP ‡©óOE UIF MBSHFTU ‡©óMF JO B EJSFDUPSZ BOE JUT TVCEJSFDUPSJFT EV	
 TPSU	
 IFBE	
 EV B %JSFDUPSZ ] TPSU OS ] IFBE2 )PX UP DIFDL XIJDI QSPDFTT JT VTJOH NPTU NFNPSZ QT	
 IFBE	
 QT BVY €óTPSUNFN ] IFBE
2 8JUI UIF -JOVY €†DBU€° DPNNBOE IPX EP * TIPX POMZ DFSUBJO MJOFT CZ OVNCFS DBU	
 TFE	
 DBU O 5FYUUYU ] TFE €ú4UBSU-JOF&OE-JOFE€ù
UIBU UIFZ BSF VTJOH BOE EP OPU LOPX UIF EJ‡©ñFSFODFT BNPOH UIFBQQSPBDIFT
8F BTL UIF QBSUJDJQBOUT UP ‡©óOE TIFMM DPNNBOE	T
 BOE B TDSJQU
UIBU VTFT UIF DPNNBOE	T
 GPS BEESFTTJOH FBDI PG UIF UFO RVFSJFT'PS UIF QBSUJDJQBOUT BTTJHOFE UP 4IFMM'VTJPO .BHOVN BOE %FFQ
"OTUIFZ‡©óSTUCSPXTFUIFBOTXFSTHFOFSBUFEGPSBRVFSZBOEUSZUP
TFFL GPS VTFGVM DPNNBOET BOE UIF DPSSFTQPOEJOH TDSJQU GSPN UIFBOTXFST *G OP EFTJSFE DPNNBOE PS TDSJQU JT GPVOE UIFZ DBO SFTPSUUP XFC TFBSDI FOHJOFT ‡•üF QBSUJDJQBOUT BTTJHOFE UP 84 EJSFDUMZVTF XFC TFBSDI FOHJOFT UP ‡©óOE VTFGVM DPNNBOET BOE TDSJQUT GPSRVFSJFT "‡•èFS EFUFSNJOJOH UIF DPNNBOET BOE TDSJQU GPS B RVFSZUIF QBSUJDJQBOUT SFDPSE UIF SFTVMUT BOE UIF UJNF TQFOU PO ‡©óOEJOHUIF SFTVMUT ‡•üFZ BSF BMMPXFE UP TQFOE BU NPTU UFO NJOVUFT PO BRVFSZ 8F BMTP BTL UIF QBSUJDJQBOUT BTTJHOFE UP 4IFMM'VTJPO .BHOVNBOE%FFQ"OTUPFWBMVBUFUIF VTFGVMOFTT BOEVOEFSTUBOEBCJMJUZ
PG UIF BOTXFST HFOFSBUFE GPS FBDI RVFSZ CZ ‡©óWF HSBEFT 
‚Ä¢6TFGVMOFTT NFBTVSFTUPXIBUFYUFOUUIFHFOFSBUFEBOTXFST
BSF VTFGVM GPS ‡©óOEJOH UIF DPNNBOET BOE TDSJQU PG B RVFSZ‡•üF‡©óWFHSBEFTBSF€úFYUSFNFMZVTFMFTT€ú€ùVTFMFTT€ú€ùOFVUSBM€ú€ùVTFGVM€ùBOE€úWFSZVTFGVM'€ùPSFYBNQMFUIFBOTXFSTTIPVMECFWFSZVTFGVMJGCPUIUIFDPNNBOETBOETDSJQUBSFJODMVEFEJO UIF BOTXFST
‚Ä¢6OEFSTUBOEBCJMJUZ NFBTVSFTXIFUIFSUIFHFOFSBUFEBOTXFST
BSF FBTZ UP VOEFSTUBOE ‡•üF ‡©óWF HSBEFT BSF €úWFSZ QPPS€ù
€úQPPS€ú€ù OFVUSBM€ú€ù HPPE€ù BOE €úWFSZ HPPE*€ù G UIF BO
TXFST BSF XFMMPSHBOJ[FE BOE IBWF FYQMBOBUJPOT BCPVU UIFDPNNBOETBOEPQUJPOTJOUIFQSFTFOUFETDSJQUTUIFBOTXFSTTIPVME IBWF B WFSZ HPPE VOEFSTUBOEBCJMJUZ
‡•üF QBSUJDJQBOUT NBZ BOTXFS UIF RVFSJFT VTJOH UISFF EJ‡©ñFSFOU
NFUIPET 
 CZ UIFNTFMWFT JG UIFZ BMSFBEZ LOPX UIF BOTXFST PGB RVFSZ CBTFE PO UIFJS FYJTUJOH LOPXMFEHF 
 VTJOH UIF SFDPNNFOEFEBOTXFSTBOE
VTJOHXFCTFBSDIJGUIFZGBJMUP‡©óOEVTFGVMDPNNBOET BOE TDSJQUT JO UIF SFDPNNFOEFE BOTXFST 8F BTL UIFQBSUJDJQBOUT UP SFDPSE UIF NFUIPE VTFE UP BOTXFS FBDI RVFSZ
 3FTVMU "OBMZTJT
"‡•èFSUIFVTFSTUVEZXFKVEHFUIF DPSSFDUOFTT PGUIFDPNNBOETBOE
TDSJQUT GPVOE CZ UIF QBSUJDJQBOUT (JWFO UIF DPNNBOET GPVOE CZB QBSUJDJQBOU PGPS B RVFSZ XF JEFOUJGZ UIF DPSSFDU DPNNBOET CC
JODMVEFE JO UIF HSPVOEUSVUI DPNNBOET GC 8F UIFO NFBTVSF UIF
DPSSFDUOFTT PG UIF DPNNBOET BT UIF SBUJP PG UIF TVN PG SFMFWBODFPG UIF DPSSFDU DPNNBOET UP UIF TVN PG SFMFWBODF PG UIF HSPVOE
USVUIDPNNBOETJF /summationtext.1
Ci‚ààCCrel(Ci)/summationtext.1
Cj‚ààGCrel(Cj)XIFSFrel(C)JTUIFSFMFWBODF
PG DPNNBOE C /FYU GPS FBDI DPSSFDU DPNNBOE Ci XF FYBNJOF
UIF TDSJQU SQSPWJEFE CZ PBOE DBMDVMBUF UIF QSPQPSUJPO PG UIF PQ
UJPOT PGCiJOSBNPOH UIF PQUJPOT PG CiJO UIF HSPVOEUSVUI TDSJQU
*G UIF HSPVOEUSVUI TDSJQU EPFT OPU VTF BOZ PQUJPO PG Ci UIF QSP
QPSUJPO JT  8F ‡©óOBMMZ NFBTVSF UIF DPSSFDUOFTT PG SBT UIF SBUJP
PG UIF TVN PG QSPQPSUJPOXFJHIUFE SFMFWBODF PG UIF DPSSFDU DPN
NBOET UP UIF TVN PG SFMFWBODF PG UIF HSPVOEUSVUI DPNNBOET JF/summationtext.1
Ci‚ààCCrel(Ci)√óp(Ci)/summationtext.1
Cj‚ààGCrel(Cj) XIFSFp(Ci)JT UIF QSPQPSUJPO DBMDVMBUFE GPS
Ci 8F ‡©óOE UIBU TPNF RVFSJFT DBO CF BDIJFWFE VTJOH PUIFS DPN
NBOET EJ‡©ñFSFOU GSPN UIF HSPVOEUSVUI DPNNBOET 'PS FYBNQMFGPS 2RFHVMBOEUVCRNGT DBO CF VTFE UP NFSHF NVMUJQMF 1%'T
JOUP B TJOHMF 1%' #PUI 1I% TUVEFOUT XIP CVJME UIF HSPVOEUSVUIGVSUIFS FWBMVBUF UIF SFMFWBODF PG UIF DPNNBOET UIBU EP OPU NBUDIUIF HSPVOEUSVUI 8F UIFO NFBTVSF UIF DPSSFDUOFTT PG UIF DPNNBOET BOE TDSJQUT GPVOE CZ UIF QBSUJDJQBOUT UIBU IBWF OPU CFFONFBTVSFE JO UIF ‡©óSTU SPVOE
8F PCTFSWF UIBU UIFSF BSF B OVNCFS PG RVFSJFT BOTXFSFE CZ UIF
QBSUJDJQBOUT VTJOH UIF UISFF NFUIPET NFOUJPOFE QSFWJPVTMZ JO UIFGPVS QBSUJDJQBOU HSPVQT BT MJTUFE JO 5BCMF  ‡•üF €ú N	O
€ù WBMVF JO
FBDI DFMM NFBOT UIBU UIF BOTXFST UP OPG UIFNRVFSJFT BSF DPSSFDU
	JF UIF DPSSFDUOFTT TDPSFT PG UIF DPNNBOET BOE TDSJQUT QSPWJEFE
CZ UIF QBSUJDJQBOUT BSF 
 4IFMM'VTJPO IFMQT UIF QBSUJDJQBOUT
BEESFTT UIF NBYJNVN OVNCFS PG RVFSJFT 	JF 
 DPSSFDUMZ*O UIF TVCTFRVFOU BOBMZTJT XF FYDMVEF UIF SFTVMUT PG UIF RVFSJFTBOTXFSFE CZ UIF QBSUJDJQBOUT UIFNTFMWFT CFDBVTF TVDI SFTVMUT BSFOPU PCUBJOFE VTJOH UIF FYQFSJNFOUBM TF‡•íJOHT
'PSFBDIPGUIFGPVSHSPVQTXFDPNQVUFUIFBWFSBHFDPSSFDUOFTT
PG UIF DPNNBOET BOE TDSJQUT GPVOE CZ UIF QBSUJDJQBOUT GPS UIF UFORVFSJFT8FBMTPDPNQVUFUIFBWFSBHFUJNFTQFOUPO‡©óOEJOHUIFSFTVMUTGPSUIFUFORVFSJFTCZFBDIHSPVQ'PSUIFUISFFHSPVQTFYDFQU
84 XF DPNQVUF UIF BWFSBHF VTFGVMOFTT BOE VOEFSTUBOEBCJMJUZ PG
UIF BOTXFST QSPEVDFE CZ UIF DPSSFTQPOEJOH BQQSPBDI
8FGVSUIFSNFBTVSFUIFDPSSFDUOFTTPGUIFDPNNBOETBOETDSJQUT
SFDPNNFOEFEGPSUIFUFORVFSJFTCZUIFUISFFBQQSPBDIFT*OUFSNTPG B RVFSZ QBOE BO BQQSPBDI A XF ‡©óSTU NFBTVSF NVMUJQMF DPS
SFDUOFTT TDPSFT PG UIF DPNNBOET SFDPNNFOEFE GPS QCZAXJUI
SFTQFDU UP UIF HSPVOEUSVUI DPNNBOET PG QBOE UIF PUIFS DPSSFDU
DPNNBOETGPVOEGPS QCZFBDIQBSUJDJQBOU8FUIFOEFUFSNJOFUIF
1978SheiiFu sion: Answer Generation for Shell Progr amm ing Tasks Knowledge Fusion ICSE '22, lvlay 21-29, Pittsburgh, PA, USA 
Table 5: Ten queries for the user study and the ground-truth commands and scripts of the queries 
10 
Q5 
Q6 
Q8 Q!tery 
single pdf from multiple text, images 
a file from remote server to local 
to grep for same string but multiple files 
to extract the first tv.ro characters of a 
find the largest file a its subdirectories? 
to check which process is using nwst memory ffmpeg(4) 
sudo(2), photorec(4) 
scp(4) 
grep(4) 
echo( 2), e ut( 4) 
du(4), sort(3), head(2) 
ps(4). head(2) Ground-truth script 
yv‚Ä¢Jcc‚Ä¢vc-u; -X-a'"""J- .cnuw‚Ä¢ 
ffmpeg -i Input.format Output.format 
convert Text. txt Text.pdf 
pdfunite 
sudo photorec DeletedFilePartition 
scp RemoteFile LocalFile 
grep String File! File2 .. 
echo String I cut -c 1-2 
du -a Directory I sort-ur I head 
ps aux ¬∑¬∑¬∑sort=-%1 ne1n i head 
__5210 \Vith the LinÔøΩÔøΩ:?¬£ .. ::ÔøΩ.?.:!" com1nand, how do I show only CÔøΩ!.!ÔøΩJn lines by number cat( 4), sed( 4) cat -n Text. txt I sed 'StartLinc,EndLi ne!d' 
that they are using and do not know the differences among the 
approaches. 
We ask the participants to find shell command(s) and a script 
that uses the command(s) for addressing each of the ten queries. 
For the assigned to ShellFusion, and Deep¬≠
Ans, they first browse the answers generated for a query and try to 
seek for useful commands and the correspon ding script from the 
answers. If no desired command or script is found, can resort 
to web search engines. The participants to WS directly 
use web search engines to find useful commands and scripts for 
queries. After detennining the commands and for a query, 
the pa1ticipants record tl1e results and the time spent on finding 
the results. They are allowed to spend at most ten minutes on a 
query. We also ask the participants assigned to ShellFusion, Mag¬≠
num, and to evaluate the useji<lness and underst andabilit y 
of the answers generated for each query by five 0-4. 
‚Ä¢ Usef ulne ss measures to what extent the 
are useful for finding the conmmnds and of a query. 
The five are 0-¬∑extremely useless', 1-' useless' 2-' neutral', 
3-'useful', and4-'veryuseful'. For example, the answers should 
be very useful if both the commands and script are included 
in the answers. 
‚Ä¢ Underst andability measures whether the 
are easy to understand. The five grades are 0- poor', 
1-'poor', 2-'neutral', 3-'good', and 4-'very good'. If the an¬≠
swers are well-organize d and have explanations about the 
commands and options in the presented scripts, the answers 
should have a very good understandability. 
1he may answer the queries three different 
methods: 1) by themselves if they already know the answers of 
a query based on their existing knowledge; 2) the recom¬≠
mended answers; and 3) using web search if they fail to find useful 
commands and scripts in the recommended answers. We ask the 
participants to record the method used to answer each query. 
5.2 Result Analysis 
After the user study, we judge the correctness of the commands and 
scripts found by the participants. Given the commands found by 
a participant P for a query, we identifY the correct commands CC 
included in the ground-truth commands GC. We then measure the 
correctness of the commands as the ratio of the sum of relevance 
1978 of the correct commands to the sum of relevance of the 
Lc. -cc reHC;) tmth commands , i.e., " ,... ,;c-ÔøΩ, where rel(C) is the relevance 
L...Cj‚Ä¢:GC r e ÔøΩ ÔøΩ1) 
of command C. Next, for each correct command C;, we examine 
the script S provided by P and calculate the proportion of the op¬≠
tions ofC; inS among the options ofC; in the ground-truth 
If the ground-truth script does not use any option the pro¬≠
portion is 1. We finally measure the correctness of S as the ratio 
of the sum of propmtion-weighted relevance of the correct com¬≠
mands to the sum of relevance of the ground-truth commands, i.e., 
Lc"cc rel(C1)xp(C1) ‚Ä¢ , , 
!; l!C) , where p(C;) ts the proportiOn calculated for 
L...LjEGC re ' ÔøΩ1 
C;. We find that some queries can be achieved using other com¬≠
mands different from the ground-truth commands. For ex;un]ple 
for Q3, pdftk and stapler can be used to merge multiple PDFs 
into a single PDF. Both PhD students, who build the ground-truth. 
further evaluate the relevance of the commands that do not match 
the grmmd-truth. We then measure the correctness of the com¬≠
mands and found by the participants that have not been 
measured in the first round. 
We observe that there are a mm1ber of queries answere d by the 
participants the three methods mentioned previously in the 
four participant groups, as listed in Table 6. The 'm(n)' value in 
each cell means that the answers to n of the m queries are correct 
(i.e., the correctness scores of the commands and scripts provided 
by the participants are 1). ShellFusion helps the participants 
addre ss the maximu m number of queries (i.e., 25) correctly, 
In the subsequent analysis, we exclude the results of the 
answered by the themselves because such results are 
not obtained the experimental settings. 
For each of the four groups, we compute the average correctness 
of the commands and found by the participants for the ten 
queries. We also compute the average time spent on the re¬≠
sults for the ten by each group. For the three groups except 
\VS, we compute the average usefulness and understandabi lity of 
the answers produced by the corresponding approach. 
\Ve further measure the correctness of the commands and scripts 
recommended for the ten queries by the three approach es. In terms 
of a query Q and an approach A, we first measure multiple cor¬≠
rectness scores of the commands recommended for Q by A with 
respect to the ground-tmth commands of Q and the other correct 
commands found for Q by each participant. We then determine the 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
5BCMF  ‡¢äF OVNCFST PG RVFSJFT BOTXFSFE CZ UIF QBSUJDJ
QBOUT PG UIF GPVS HSPVQT VTJOH UIF UISFF NFUIPET ‡¢äF ⁄ªN 	O
⁄º
JOFBDIDFMMNFBOTUIBUUIFBOTXFSTUP OPGUIFNRVFSJFTBSF
DPSSFDU
 ‡¢âFSJFT BOTXFSFE
CZ UIF QBSUJDJQBOUTUIFNTFMWFT ‡¢âFSJFT BOTXFSFEVTJOH UIF SFDPNNFOEFEBOTXFST ‡¢âFSJFTBOTXFSFE VTJOH8FC 4FBSDI
4IFMM'VTJPO 	
 	
 	
.BHOVN 	
 	
 	
%FFQ"OT 	
 	
 	
84 	
 
	€ó 
DPSSFDUOFTTPGUIFDPNNBOETSFDPNNFOEFEGPS QCZABTUIFNBY
JNVN DPSSFDUOFTT TDPSF 4JNJMBSMZ XF EFUFSNJOF UIF DPSSFDUOFTTPG UIF TDSJQUT SFDPNNFOEFE GPS QCZABT UIF NBYJNVN DPSSFDU
OFTT TDPSF NFBTVSFE CBTFE PO UIF HSPVOEUSVUI TDSJQUT PG QBOE
UIF PUIFS DPSSFDU TDSJQUT GPVOE GPS QCZ UIF QBSUJDJQBOUT 'JOBMMZ
XF DPNQVUF UIF BWFSBHF DPSSFDUOFTT PG UIF DPNNBOET BOE TDSJQUT
SFDPNNFOEFE GPS UIF UFO RVFSJFT CZ A
'PS FBDI PG UIF TFWFO FWBMVBUFE BTQFDUT JODMVEJOH UIF UJNF GPS
BOTXFSJOHUIFRVFSJFTUIFDPSSFDUOFTTPGUIFDPNNBOETBOETDSJQUTGPVOE CZ UIF QBSUJDJQBOUT UIF VTFGVMOFTT BOE VOEFSTUBOEBCJMJUZ PGUIF BQQSPBDIFT BOE UIF DPSSFDUOFTT PG UIF DPNNBOET BOE TDSJQUTSFDPNNFOEFE CZ UIF BQQSPBDIFT JO BEEJUJPO UP UIF BWFSBHFT 	JFNFBOT
 PG UIF NFBTVSFE SFTVMUT XF DPNQVUF UIF TUBOEBSE EFWJBUJPOT PG UIF SFTVMUT GPS FBDI PG UIF GPVS HSPVQT .PSFPWFS XFNFBTVSF UIF TUBUJTUJDBM TJHOJ‡©óDBODF PG UIF EJ‡©ñFSFODFT CFUXFFO UIFSFTVMUT BDIJFWFE CZ UIF QBSUJDJQBOUT BTTJHOFE UP 4IFMM'VTJPO BOEUIPTFBDIJFWFECZUIFQBSUJDJQBOUTBTTJHOFEUPUIFPUIFSUISFFHSPVQT
3FTVMUT4IFMM'VTJPOIBTEFNPOTUSBUFEJUTQSBDUJDBMJUZJOIFMQ
JOH VTFST BEESFTT TIFMM QSPHSBNNJOH UBTLT NPSF F‡•ìDJFOUMZBOE BDDVSBUFMZ 5BCMF  QSFTFOUT UIF BOBMZTJT SFTVMUT PG UIF VTFS
TUVEZ *O UFSNT PG UIF DPSSFDUOFTT PG UIF DPNNBOET BOE TDSJQUTGPVOE CZ UIF QBSUJDJQBOUT 4IFMM'VTJPO BDIJFWFT UIF CFTU QFSGPSNBODF ‡•üF QBSUJDJQBOUT BTTJHOFE UP 4IFMM'VTJPO TVDDFTTGVMMZ ‡©óOE PG UIF DPSSFDU DPNNBOET BOE  PG UIF DPSSFDU TDSJQUT GPSUIF UFO RVFSJFT XIJMF TQFOEJOH UIF MFBTU BNPVOU PG UJNF JF BOBWFSBHF PG  TFDPOET PO B RVFSZ $PNQBSFE XJUI 84 4IFMM'VTJPO JNQSPWFT UIF DPSSFDUOFTT PG DPNNBOET BOE TDSJQUT CZ BOE  SFTQFDUJWFMZ BOE SFEVDFT UIF BWFSBHF BNPVOU PG UJNFUIBU QBSUJDJQBOUT OFFE CZ  4IFMM'VTJPO JNQSPWFT UIF TFDPOECFTU BQQSPBDI %FFQ"OT CZ  BOE  JO UFSNT PG UIF DPSSFDUOFTT PG DPNNBOET BOE TDSJQUT GPVOE CZ UIF QBSUJDJQBOUT SFTQFDUJWFMZ BOE SFEVDFT UIF BWFSBHF BNPVOU PG UJNF UIBU UIF QBSUJDJQBOUT OFFE CZ  ‡•üJT DBO CF FYQMBJOFE CZ UIF GBDU UIBU4IFMM'VTJPOSFDPNNFOETNPSFDPSSFDUDPNNBOETBOETDSJQUTUIBO%FFQ"OTBOE.BHOVNGPSUIFRVFSJFTBTMJTUFEJO5BCMF‡•üFVTFGVMOFTT BOE VOEFSTUBOEBCJMJUZ TDPSFT PG 4IFMM'VTJPO BSF IJHI 	JF BOE 
 BOE BSF NVDI IJHIFS UIBO UIPTF PG .BHOVN BOE%FFQ"OT 'VSUIFSNPSF UIF BEWBOUBHF PG 4IFMM'VTJPO PWFS %FFQ
"OT BOE .BHOVN JT TJHOJ‡©óDBOU JO UFSNT PG UIF VTFGVMOFTT BOE VO
EFSTUBOEBCJMJUZPGUIFQSPEVDFEBOTXFSTBOEUIFDPSSFDUOFTTPGUIFSFDPNNFOEFE DPNNBOET BOE TDSJQUT JO NPTU DBTFT "MM UIFTF JOEJDBUFUIBU UIFBOTXFSTHFOFSBUFECZ4IFMM'VTJPOBSFNPSFIFMQ
GVMGPS‡•ëOEJOHDPSSFDUDPNNBOETBOETDSJQUTGPSRVFSJFTBOEFBTJFS UP VOEFSTUBOE
‡•üF TUBOEBSE EFWJBUJPOT PG UIF SFTVMUT PCUBJOFE CZ UIF QBSUJD
JQBOUT BTTJHOFE UP 4IFMM'VTJPO BSF BMM TNBMMFS UIBO UIPTF PG UIFSFTVMUT PCUBJOFE CZ UIF QBSUJDJQBOUT BTTJHOFE UP UIF PUIFS HSPVQT‡•üJTGVSUIFSJOEJDBUFTUIBU TIFMMQSPHSBNNFSTDBOBDIJFWFNPSF
TUBCMF QFSGPSNBODF VTJOH 4IFMM'VTJPO UIBO VTJOH .BHOVN%FFQ"OT PS 84
‡•üFQBSUJDJQBOUTQSPWJEFTPNFDPNNFOUTBCPVU4IFMM'VTJPO‡•üFZ
FYQSFTT UIBU NPTU PG UIF SFDPNNFOEFE DPNNBOET BSF IFMQGVM GPSBEESFTTJOH UIF RVFSJFT BOE UIF QSFTFOUFE LOPXMFEHF PG UIF DPNNBOET BOE PQUJPOT BSF VTFGVM UP IFMQ VTFST RVJDLMZ KVEHF VTFGVMOFTTPGUIFDPNNBOETBOETDSJQUT)PXFWFSUIFQBSUJDJQBOUTQPJOUPVU UIBU 4IFMM'VTJPO POMZ SFDPNNFOET B TJOHMF DPNNBOE JO B HFOFSBUFE BOTXFS XIJDI NBZ OPU CF TVJUBCMF GPS UIF UBTLT UIBU OFFEUP CF BEESFTTFE CZ DPNCJOJOH NVMUJQMF DPNNBOET
 5)3&"54 50 7"-*%*5:
‡¢äSFBUT UP JOUFSOBM WBMJEJUZ SFMBUF UP UIF FSSPST JO UIF JNQMFNFO
UBUJPOPG4IFMM'VTJPOBOEUIFCBTFMJOFTBOEUIFCJBTPGQBSUJDJQBOUTJO UIF NBOVBM FWBMVBUJPO PG SFDPNNFOEFE DPNNBOET BOE HFOFSBUFE BOTXFST 'PS 4IFMM'VTJPO BOE JUT WBSJBOUT XF EPVCMFDIFDLUIF DPEF BOE NBLF TVSF UIBU UIF FYQFSJNFOUBM RVFSJFT BSF OPU JODMVEFE JO UIF RVFTUJPO SFQPTJUPSZ 'PS .BHOVN BOE %FFQ"OT XFDBSFGVMMZ JNQMFNFOU UIFN VTJOH UIFJS QVCMJTIFE DPEF 8IFO FWBMVBUJOH UIF SFMFWBODF PG UIF DPNNBOET SFDPNNFOEFE GPS RVFSJFT
XF SFDSVJU UXP 1I% TUVEFOUT XJUI SFMBUJWFMZ IJHI 	JF NPSF UIBO
‡©óWF ZFBST P‡ßê
 FYQFSJFODF JO TIFMM QSPHSBNNJOH UP SFEVDF B TJOHMFQFSTPO€ùT TVCKFDUJWF KVEHNFOU *O PVS VTFS TUVEZ UIF QBSUJDJQBOUT€ùDBSFGVMOFTT BOE MBDL PG LOPXMFEHF BCPVU TIFMM DPNNBOET NBZ BGGFDUUIFFWBMVBUJPOSFTVMUT5PSFEVDFUIJTUISFBUXFSFDSVJUQBSUJDJQBOUTJOUFSFTUFEJOUIFVTFSTUVEZBOENBLFTVSFUIFQBSUJDJQBOUTJOEJ‡©ñFSFOU HSPVQT IBWF DPNQBSBUJWF TIFMM QSPHSBNNJOH FYQFSJFODF
‡¢äSFBUT UP FYUFSOBM WBMJEJUZ SFMBUF UP UIF HFOFSBMJ[BCJMJUZ PG FY
QFSJNFOUSFTVMUT8FJNQMFNFOU4IFMM'VTJPOCBTFEPOTIFMM
SFMBUFE RVFTUJPOT XJUI BDDFQUFE BOTXFST GSPN GPVS 2" TJUFT 8FDSFBUF FYQFSJNFOUBM RVFSJFT GSPN PUIFS TIFMMSFMBUFE RVFTUJPOT
XJUI B SFMBUJWFMZ IJHI WJFXDPVOU BOE TDPSF ‡•üF MBSHF BOE IJHI
RVBMJUZEBUBTFUDBOJNQSPWFUIFHFOFSBMJ[BCJMJUZPGPVSRVBOUJUBUJWFSFTVMUT"TUIFVTFSTUVEZSFRVJSFTTJHOJ‡©óDBOUNBOVBMF‡©ñPSUXFVTFUFO RVFSJFT ‡•üF RVFSJFT IBWF EJ‡©ñFSFOU MFWFMT PG EJ‡©ôDVMUJFT XIJDIDBO JNQSPWF UIF HFOFSBMJ[BCJMJUZ PG PVS VTFS TUVEZ SFTVMUT
‡¢äSFBUT UP DPOTUSVDU WBMJEJUZ SFMBUF UP UIF TVJUBCJMJUZ PG FWBMV
BUJPO NFUSJDT 8F VTF .33!, BOE ."1!, GPS FWBMVBUJOH UIF
UPQkSFDPNNFOEFETIFMMDPNNBOETBTUIFUXPNFUSJDTBSFXJEFMZ
VTFE GPS FWBMVBUJOH SBOLJOH QSPCMFNT JO JOGPSNBUJPO SFUSJFWBM <   > ‡•üF SFMFWBODF VTFGVMOFTT BOE VOEFSTUBOEBCJMJUZNFUSJDT BSF BMTP XJEFMZ VTFE GPS FWBMVBUJOH SFDPNNFOEBUJPO BOETVNNBSJ[BUJPO UBTLT JO TP‡•èXBSF FOHJOFFSJOH <   >
 3&-"5&% 803,
4IFMMQSPHSBNNJOHUVUPSJBMTBOEUPPMT *UJTJNQPTTJCMFGPSTIFMM
QSPHSBNNFSTUPSFNFNCFSUIPVTBOETPGTIFMMDPNNBOETXJUIWBSJPVT PQUJPOT " HPPE XBZ UP IFMQ VTFST MFBSO BOE VTF UIF DPNNBOET JT CZ FYQMBJOJOH UIFN XJUI FYBNQMFT 5PXBSET UIJT EJSFDUJPO TPNF XPSL IBT CFFO EPOF <   > 'PS FYBNQMF 4PCFMM <> QSPWJEFT B QSBDUJDBM HVJEF UP VUJMJUJFT CBTJD DPNNBOET
1979ICSE '22, May 21-29, 2022, Pittsbur gh, PA, USA 
Table 6: The numbers of queries answered by the partici¬≠
pants of the four groups using the three methods. The 'm( n)' 
in each cell means that the answers to n of the m queries are 
corr ect. 
ShellFusion 
Magnum 
DeepAns 
ws # Q!teries answered 
by the participants 
themselves 
3(2) 
0(0) 
3(1) 
5(4) # Q!teries answered 
using the recommended 
answers 
27(25) 
12(6) 
5(4) # Q!teries 
answered using 
Web Search 
20(13) 
38(26) 
42(31) 
45(29) 
correctness of the commands recommended for Q by A as the max¬≠
imum correctness score. Similarly, we determine the correctness 
of the scripts recommended for Q by A as the maximum correct¬≠
ness score measured based on the ground-truth scripts of Q and 
the other correct scripts found for Q by the participants. Finally, 
we compute the average correctness of the commands and scripts 
recommended for the ten queries by A. 
For each of the seven evaluated aspects, including the time for 
answering the queries, the correctness of the commands and scripts 
found by the participant s, the usefulness and understandability of 
the approaches, and the correctness of the commands and scripts 
recommended by the approaches, in addition to the averages (i.e., 
means) of the measured results, we compute the standard devi¬≠
ations of the results for each of the four groups. Moreover, we 
measure the statistical significance of the differences between the 
results achie ved by the participants assigned to ShellFusion and 
those achieved by the participants assigned to the other three groups. 
Results. ShellFusion has demonstrated its practicality in help¬≠
ing users addre ss shell progra mming tasks more efficiently 
and accuratel y. Table 7 presents the analysis results of the user 
study. In terms of the correctness of the commands and scripts 
found by the participant s, ShellFusion achieves the best perfor¬≠
mance. The participants assigned to ShellFusion successfully find 
91.3% of the correct commands and 88.6% of the correct scripts for 
the ten queries, while spending the least amount of time, i.e., an 
average of 137.3 seconds, on a query. Compared with WS, ShellFu¬≠
sion improves the correctness of commands and scripts by 21.2% 
and 25.0%, respectively, and reduces the average amount of time 
that participants need by 44.4%. ShellFusion improves the second¬≠
best approach, DeepAns, by 7.4% and 9.8% in terms of the cor¬≠
rectness of commands and scripts found by the participants, re¬≠
spectively, and reduces the average amount of time that the par¬≠
ticipants need by 30.7%. This can be explaine d by the fact that 
ShellFusion recommends more correct commands and scripts than 
DeepAns and Magnum for the queries, as listed in Table 7. The use¬≠
fulness and understandability scores of ShellFusion are high (i.e., 
3.553 and 3.766) and are much higher than those of Magnum and 
DeepAns. Furthermore, the advantage of ShellFusion over Deep¬≠
Ans and Magnum is significant in terms of the usefulness and un¬≠
derstandability of the produced answers and the correctness of the 
recommended commands and scripts in most cases. All these indi¬≠
cate that the answers generated by ShellFusion are more help¬≠
ful for finding correct commands and scripts for queries and 
easier to understand. 
The standard deviations of the results obtained by the partic¬≠
ipants assigned to ShellFusion are all smaller than those of the 
1979 Neng Zhang, Cha o Liu, Xin Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
results obtained by the participants assigned to the other groups. 
This further indicates that shell programmers can achieve more 
stable performance usi ng ShellFusion than using Magnum, 
DeepAns, or WS. 
The participants provide some comments about ShellFus ion. They 
express that most of the recommended commands are helpful for 
addressing the queries and the presented knowledge of the com¬≠
mands and options are useful to help users quickly judge useful¬≠
ness of the commands and scripts. However, the participants point 
out that ShellFusion only recommends a single command in a gen¬≠
erated answer, which may not be suitable for the tasks that need 
to be addressed by combining multiple commands. 
6 THREATS TO VALIDITY 
Threats to internal validity relate to the errors in the implemen¬≠
tation of ShellFusion and the baseline s, and the bias of participants 
in the manual evaluation of recommended commands and gener¬≠
ated answers. For ShellFusion and its variants, we double-check 
the code and make sure that the experimental queries are not in¬≠
cluded in the question repositor y. For Magnum and DeepAns, we 
carefully implement them using their publishe d code. When eval¬≠
uating the relevance of the commands recommended for queries, 
we recruit two PhD students with relatively high (i.e., more than 
five years of) experience in shell programming to reduce a single 
person's subjective judgment. In our user study, the participants' 
carefulness and lack of knowledge about shell commands may af¬≠
fect the evaluation results. To reduce this threat, we recruit partici¬≠
pants inter ested in the user study and make sure the participants in 
different groups have comparative shell programming experience . 
Threats to external validity relate to the generalizability of ex¬≠
periment results. We implement ShellFusion based on 537,129 shell¬≠
related questions with accepted answers from four Q&A sites. We 
create 434 experimental queries from other shell-relate d questions 
with a relatively high viewcount and score. The large and high¬≠
quality dataset can improve the generalizability of our quantitative 
results. As the user study requires significant manual effort, we use 
ten queries. The queries have different levels of difficulties, which 
can improve the generalizability of our user study results. 
Threats to construct validity relate to the suitability of evalu¬≠
ation metrics. We use MRR@K and MAP@K for evaluating the 
top-k recommended shell commands as the two metrics are widely 
used for evaluating ranking problems in information retrieval [26, 
38, 46, 48, 52]. The relevanc e, usefulness, and understandability 
metrics are also widely used for evaluating recommendation and 
summarization tasks in software engineering [19, 37, 39, 48]. 
7 RELATED WORK 
Shell programming tutorials and tools. It is impossible for shell 
programmers to remember thousands of shell commands with var¬≠
ious options. A good way to help users learn and use the com¬≠
mands is by explaining them with examples. Towards this dire c¬≠
tion, some work has been done [27, 34, 36, 40]. For example, So¬≠
bell [ 40] provides a practical guide to utilities, basic commands, 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 4IFMM'VTJPO "OTXFS(FOFSBUJPO GPS 4IFMM 1SPHSBNNJOH5BTLTWJB ,OPXMFEHF 'VTJPO *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64"
5BCMF  ‡¢äF NFBOT BOE TUBOEBSE EFWJBUJPOT PG UIF VTFS TUVEZ SFTVMUT XJUI SFTQFDU UP TFWFO FWBMVBUFE BTQFDUT BT XFMM BT UIF
TUBUJTUJDBM TJHOJ‡•ëDBODF PG UIF EJ‡•êFSFODFT CFUXFFO UIF SFTVMUT BDIJFWFE CZ UIF QBSUJDJQBOUT BTTJHOFE UP 4IFMM'VTJPO BOE UIPTF
BDIJFWFE CZ UIF QBSUJDJQBOUT BTTJHOFE UP .BHOVN %FFQ"OT BOE 84 ‡¢äF ‡•ëSTU BOE UIF TFDPOE WBMVFT JO FBDI DFMM BSF UIF NFBOBOEUIFTUBOEBSEEFWJBUJPOSFTQFDUJWFMZ/PUFUIBUUIFSFTVMUTPGUIFRVFSJFTBOTXFSFECZUIFQBSUJDJQBOUTUIFNTFMWFT	BTMJTUFEJO 5BCMF 
 BSF FYDMVEFE
5JNFJOTFDPOE$PSSFDUOFTT PG UIFDPNNBOET GPVOE CZUIF QBSUJDJQBOUT$PSSFDUOFTT PG UIFTDSJQUT GPVOE CZUIF QBSUJDJQBOUT6TFGVMOFTT 6OEFSTUBOEBCJMJUZ$PSSFDUOFTT PG UIFDPNNBOET SFDPNNFOEFECZ UIF BQQSPBDI$PSSFDUOFTT PG UIFTDSJQUT SFDPNNFOEFECZ UIF BQQSPBDI
4IFMM'VTJPO 	
 	 
 	 
 	 
 	 
 	 
 	 
.BHOVN 	 
 	 
 	 
 	 
 	 
 	 
 	 
%FFQ"OT 	 
 	 
 	 
 	 
 	 
 	 
 	 
84 	 
 	 
 	 
 €ó€ó€ó€ó 
Q Q Q
BOETIFMMQSPHSBNNJOHJO-JOVY/FHVTBOE$BTFO<>CVJMEBUPPMCPYGPS6CVOUVDPNNBOETSFMBUFEUP‡©óMFNBOJQVMBUJPONVM
UJNFEJBQMBZJOHFUD-BVFUBM<>EFTDSJCFBOBQQSPBDI4."35TIFMM
UIBU DBO BTTJTU VTFST JO MFBSOJOH TIFMM TDSJQUT CZ EFNPOTUSBUJPO‡•üFSFBSFTPNFPUIFSUVUPSJBMTCVJMUCZDPNNVOJUJFTFH5-%3<>BOE $IFBU <> ‡•üFTF UVUPSJBMT BSF IFMQGVM IPXFWFS UIFZ SFRVJSF BHSFBU BNPVOU PG NBOVBM F‡©ñPSU BOE DPOUBJO POMZ B GFX FYBNQMFTGPS B MJNJUFE OVNCFS PG CBTJD PS GSFRVFOUMZ VTFE DPNNBOET ‡•üFZEP OPU QSPWJEF B NFDIBOJTN UP TFBSDI GPS DPNNBOET CZ B UBTL
4FWFSBM BQQSPBDIFT BOE UPPMT BSF QSPQPTFE UP TVQQPSU TIFMM QSP
HSBNNJOH$IBLSBCPSUJFUBM<>QSFTFOUBQMBUGPSN6CVOUV8PSME
 -54 GPS EFWFMPQJOH BO BVUPNBUFE UFDIOJDBM TVQQPSU BHFOU JO
6CVOUV-JOFUBM<>CVJMEBEBUBTFU/-#BTIUIBUDPOUBJOTUBTLDPNNBOE QBJST GPS UIF QSPCMFN PG NBQQJOH B UBTL UP UIF DPSSFTQPOEJOH #BTI DPNNBOE ‡•üFZ QSFTFOU UISFF CBTFMJOFT GPS BEESFTTJOH UIF QSPCMFN CZ MFWFSBHJOH UISFF OFVSBM NBDIJOF USBOTMBUJPO NPEFMT 4FR4FR <> $PQZ/FU <> BOE 5FMMJOB <> %VSJOH UIF /-$$.% DPNQFUJUJPO IFME BU /FVS*14  <> TJY BQQSPBDIFT FH .BHOVN BSF EFWFMPQFE GPS USBOTMBUJOH OBUVSBM MBOHVBHF UP #BTI DPNNBOET VTJOH UIF /-#BTI EBUBTFU "HBSXBM FUBM<>QSFTFOUUIFEFTJHOBOEJNQMFNFOUBUJPOPGBQMBUGPSN$-"*
XIJDI BJNT UP CSJOH UIF QPXFS PG "* FH UIF BQQSPBDIFT EFWFM
PQFE JO UIF /-$$.% DIBMMFOHF UP UIF DPNNBOE MJOF JOUFSGBDF)PXFWFS UIFTF BQQSPBDIFT BOE UPPMT BSF MJNJUFE CZ UIF /-#BTIEBUBTFU XIJDI POMZ DPWFST  DPNNBOET BOE  PQUJPOT
%J‡©ñFSFOUGSPNUIFFYJTUJOHUVUPSJBMTBOEUPPMTUIBUBSFMJNJUFECZ
NBOVBMMZ DSFBUFE EBUBTFUT XF EFWFMPQ 4IFMM'VTJPO UIBU JOUFHSBUFT2" QPTUT .1T BOE 5-%3 UP SFDPNNFOE TIFMM DPNNBOET BOEHFOFSBUF DPNQSFIFOTJWF BOTXFST GPS QSPHSBNNJOH UBTLT
.JOJOH 2" DPNNVOJUJFT ‡•üF SJDI EBUB JO 2" DPNNVOJUJFT
IBT CFFO XJEFMZ FYQMPSFE CZ SFTFBSDIFST UP VOEFSTUBOE TP‡•èXBSF
EFWFMPQNFOU QSBDUJDFT BOE CVJME UPPMT GPS TP‡•èXBSF EFWFMPQNFOUUBTLT 8BO FU BM <> BOBMZ[F UIF EJTDVTTJPO UPQJDT PG CMPDLDIBJOJO 40 VTJOH B CBMBODFE -%" NPEFM /BTIFIJ FU BM <> TUVEZ UIFGBDUPST UIBU NBLF BO F‡©ñFDUJWF DPEF FYBNQMF UISPVHI B RVBMJUBUJWFBOBMZTJTPG40QPTUT3BINBOFUBM<>QSPQPTFBO"1*SFDPNNFOEBUJPO BQQSPBDI 3"$, CZ NJOJOH LFZXPSE"1* NBQQJOHT GSPN40QPTUT/JFFUBM<>QSPQPTFBDPEFTFBSDIBQQSPBDICZFYQBOEJOHRVFSJFTXJUI LFZXPSETFYUSBDUFEGSPN40QPTUT (BPFUBM <>QSPQPTF %FFQ"OT UP SFDPNNFOE SFMFWBOU BOTXFST GPS RVFSJFT CZTFBSDIJOH 2" QBJST 0VS 4IFMM'VTJPO BMTP VTFT 2" QPTUT CVU
XF GPDVT PO HFOFSBUJOH BOTXFST GPS TIFMM QSPHSBNNJOH UBTLT"1* SFDPNNFOEBUJPO "1* SFDPNNFOEBUJPO JT B SFTFBSDI IPU
TQPU JO TP‡•èXBSF FOHJOFFSJOH <   > 'PS FYBNQMF .D.JMMBO FU BM <> QSPQPTF 1PSUGPMJP UP SFDPNNFOE $$ GVODUJPOTGPS RVFSJFT GSPN B MBSHF BSDIJWF PG $$ TPVSDF DPEF )VBOH FUBM <> QSPQPTF #*,&3 GPS "1* SFDPNNFOEBUJPO CZ MFWFSBHJOH 40QPTUTBOE"1*EPDVNFOUBUJPO(VFUBM<>EFWFMPQBO3//CBTFEBQQSPBDI %FFQ"1* UIBU DBO HFOFSBUF "1* TFRVFODFT GPS RVFSJFTCZNJOJOHDPEFSFQPTJUPSJFT.PSFPWFSUIFSFBSFNBOZBQQSPBDIFTQSPQPTFEGPSSFDPNNFOEJOHXFC"1*T<>XIJDIBSFXJEFMZVTFE JO EJTUSJCVUFE TP‡•èXBSF EFWFMPQNFOU *O DPOUSBTU XF QSPQPTFBO BQQSPBDI UIBU JOUFHSBUFT LOPXMFEHF GSPN NVMUJQMF JOGPSNBUJPOTPVSDFT UP SFDPNNFOE TIFMM DPNNBOET
 $0/$-64*0/ "/% '6563& 803,
*O UIJT QBQFS XF QSPQPTF 4IFMM'VTJPO UP BVUPNBUJDBMMZ HFOFSBUFBOTXFST GPS TIFMM QSPHSBNNJOH UBTLT 8F JOUFHSBUF TIFMMSFMBUFELOPXMFEHF NJOFE GSPN 2" QPTUT 6CVOUV .1T BOE 5-%3 UVUPSJBMT (JWFO B RVFSZ 4IFMM'VTJPO FYUSBDUT DBOEJEBUF DPNNBOET
XJUIPQUJPOTGSPNUIFBDDFQUFEBOTXFSTPGRVFTUJPOTTJNJMBSUPUIF
RVFSZ*UUIFO‡©óMUFSTPVUJSSFMFWBOUDPNNBOETBOESBOLTUIFSF‡©óOFEDPNNBOETCZDPOTJEFSJOHUIFJSTJNJMBSJUJFTXJUIUIFRVFSZBOEUIFTJNJMBS RVFTUJPOT XJUI BDDFQUFE BOTXFST UIBU VTF UIF DPNNBOET'JOBMMZ 4IFMM'VTJPO HFOFSBUFT BO BOTXFS GPS FBDI DPNNBOE CZTZOUIFTJ[JOH WBMVBCMF LOPXMFEHF NJOFE GSPN UIF UISFF JOGPSNBUJPO TPVSDFT &WBMVBUJPO SFTVMUT PO  FYQFSJNFOUBM RVFSJFT DPO‡©óSNUIFF‡©ñFDUJWFOFTTPG4IFMM'VTJPO"VTFSTUVEZTIPXTUIBU4IFMM'VTJPO DBO IFMQ VTFST ‡©óOE VTFGVM DPNNBOET BOE TDSJQUT GPS TIFMMQSPHSBNNJOH UBTLT F‡©ôDJFOUMZ BOE BDDVSBUFMZ *O GVUVSF XPSL XF
XJMM JNQSPWF 4IFMM'VTJPO UP SFDPNNFOE DPMMBCPSBUJWF DPNNBOETXJUI VTBHF UFNQMBUFT GPS DPNQMFY UBTLT UIBU JOWPMWF NVMUJQMF DPN
NBOET .PSFPWFS XF QMBO UP JNQMFNFOU BO FBTZUPVTF JOUFSGBDFGPS 4IFMM'VTJPO 	FH VTJOH %PDLFS

"$,/08-&%(.&/54
‡•üJTSFTFBSDIQSPKFDUJTTVQQPSUFECZUIF/BUJPOBM/BUVSBM4DJFODF'PVOEBUJPO PG $IJOB 	/P 
 BOE UIF /BUJPOBM 3FTFBSDI'PVOEBUJPO 4JOHBQPSF VOEFS JUT *OEVTUSZ "MJHONFOU 'VOE  1SFQPTJUJPOJOH	*"'11
'VOEJOH*OJUJBUJWF"OZPQJOJPOT‡©óOEJOHTBOEDPODMVTJPOT PS SFDPNNFOEBUJPOT FYQSFTTFE JO UIJT NBUFSJBM BSFUIPTF PG UIF BVUIPS	T
 BOE EP OPU SF‡©òFDU UIF WJFXT PG /BUJPOBM 3FTFBSDI 'PVOEBUJPO 4JOHBQPSF
1980Shell Fusion: Answer Generation for Shell Progr ammin g Tasks via Knowledge Fusion ICSE '22, May 21- 29, 2022, Pitts burgh, PA, USA 
Table 7: The means and standard deviations of the user study results with respect to seven evalu ated aspects, as well as the 
statistical significance of the differ ences between the results achieve d by the participants assigned to ShellFusion and those 
achieved by the participant s assigned to Magnum, DeepAns, and WS. The first and the second values in each cell are the mean 
and the standard deviation, respecti vely. Note that the results of the queries answered by the participants themselves (as listed 
in Table 6) are excluded. 
Correctness of the Correctness of the Correctness of the Correctness of the 
Time 
in second commands found by scripts found by Usefulness Understandability commands recommended scripts recommended 
the participants the participants by the approach by the approach 
Shel!Fusion (137.3, 97.6) (0.913, 0.209) (0.886, 0.260) (3.553, 1.048) (3. 766, 0.554) (0.910, 0.188) (0.893, 0.215) 
Magnum (160.9, 137.0) (0.844, 0.303) (0.762, 0.367) (1.500""", 1.565) (1.120""", 1.227) (0.478", 0.482) (0.311"", 0.418) 
DeepAns (198.0, 169.5) (0.850, 0.319) (0.807, 0.360) (1.979""", 1.345) (2.383""", 1.043) (0.600, 0.437) (0.400", 0.437) 
ws (246.8"", 194.2) (0.753, 0.392) (0.709", 0.417) 
***p<O.OOl, **p<O.Ol, *p<O.OS 
and shell programming in Linux. Negus and Casen [34] build a tool¬≠
box for 1,000+ Ubuntu commands related to file manipul ation, mul¬≠
timedia playing, etc. Lauet al. [27] describe an approach, SMARTshell, 
that can assist users in learning shell scripts by demonstration. 
There are some other tutorials built by communiti es, e.g., TLDR [11] 
and Cheat [3]. These tutorials are helpful, however, they require a 
great amount of manual effort and contain only a few examples 
for a limited number of basic or frequently used commands. They 
do not provide a mechanism to search for commands by a task. 
Several approaches and tools are proposed to support shell pro¬≠
gramming . Chakrab orti et al. [ 18] present a platform, Ubuntu World 
1.0 LTS, for developing an automated technical support agent in 
Ubuntu. Lin et al. [29] build a dataset, NL2Bash that contains 9,305 
task-command pairs, for the problem of mapping a task to the cor¬≠
responding Bash command. They present three baselines for ad¬≠
dressing the problem by leveraging three neural machine trans¬≠
lation models: Seq2Seq [42], CopyNet [23], and Tellina [28]. Dur¬≠
ing the NLC2CMD competition held at NeuriPS 2020 [15], six ap¬≠
proaches, e.g., Magnum, are developed fo r translating natural lan¬≠
guage to Bash commands using the NL2Bash dataset. Agarwal et 
al. [ 14] present the design and implementation of a platform, CLAI, 
which aims to bring the power of AI, e.g., the approaches devel¬≠
oped in the NLC2CMD challenge, to the command line interface. 
However, these approaches and tools are limited by the NL2Bash 
dataset which only covers 102 commands and 206 options. 
Different from the existing tutorials and tools that are limited by 
manually created datasets, we develop ShellFusion that integrates 
Q&A posts, MPs, and TLDR to recommend shell commands and 
generate comprehensive answers for programming tasks. 
Mining Q&A communi ties. The rich data in Q&A communities 
has been widely explored by researchers to understand software 
development practices and build tools for software development 
tasks. Wan et al. [44] analyze the discussion topics ofblockchain 
in SO using a balanced LDA model. Nashehi et al. [33] study the 
factors that make an effective code example through a qualitative 
analysis of SO posts. Rahman et al. [38] propose an API recommen¬≠
dation approach, RACK, by mining keyword-API mappings from 
SO posts. Nie et al. [35] propose a code search approach by expand¬≠
ing queries with keywords extracted from SO posts. Gao et al. [22] 
propose DeepAns to recommend relevant answers for queries by 
searching Q&A pairs. Our ShellFusion also uses Q&A posts, but 
we focus on generating answers for shell programming tasks. 
1980 API recommendation. API recommendation is a research hot¬≠
spot in software engineering [24, 26, 31, 38]. For example, McMil¬≠
lan et al. [31] propose Portfolio to recommend C/C++ functions 
for queries from a large archive of C!C++ source code. Huang et 
al. [26] propose BIKER for API recommendation by leveraging SO 
posts and API documentation. Gu et al. [24] develop an RNN-based 
approach, DeepAPI, that can generate API sequences for queries 
by mining code repositories. Moreover, there are many approaches 
proposed for recommending web APis [25, 46, 4 7] which are widely 
used in distributed software development. In contrast, we propose 
an approach that integrates knowledge from multiple information 
sources to recommend shell commands. 
8 CON CLUSION AND FUTURE WORK 
In this paper, we propose ShellFusion to automatically generate 
answers for shell programming tasks. We integrate shell-rela ted 
knowledge mined from Q&A posts, Ubuntu MPs, and TLDR tu¬≠
torials. Given a query, ShellFusion extracts candidate commands 
with options from the accepted answers of questions similar to the 
query. It then filters out irrelevant commands and ranks the refined 
commands by considering their similarities with the query and the 
similar questions with accepted answers that use the commands. 
Finally, ShellFusion generates an answer for each command by 
synthesizing valuable knowledge mined from the three informa¬≠
tion sources. Evaluation results on 434 experimental queries con¬≠
firm the effectiveness ofShellFusion. A user study shows that Shell¬≠
Fusion can help users find usef ul commands and scripts for shell 
programming tasks efficiently and accurately. In future work, we 
will improve ShellFusion to recommend collaborative commands 
with usage templates for complex tasks that involve multiple com¬≠
mands. Moreover, we plan to implement an easy-to-use interface 
for ShellFusion (e.g., using Docker). 
ACKNOWLEDGMENTS 
This rese arch/proj ect is supported by the National Natural Science 
Foundation of China (No. 62032025), and the National Research 
Foundation, Singapore, under its Industry Alignment Fund -Pre¬≠
positioning (IAF-PP) Funding Initiative. Any opinions, findings and 
conclusions or recommendations expressed in this material are 
those of the author(s) and do not reflect the views of National Re¬≠
search Foundation, Singapore. 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. *$4& .Ÿã BZ ŸÖ 1J‡°ªTCVSHI 1"64" /FOH ;IBOH $IBP -JV 9JO 9JB $ISJTUPQI 5SFVEF:JOH ;PV %BWJE -PBOE ;JCJO ;IFOH
3&'&3&/$&4
<>  "TL 6CVOUV IUUQTBTLVCVOUVDPN
<>  #SP QBHFT IUUQCSPQBHFTPSH<>  $IFBU IUUQTHJUIVCDPNDIFBUDIFBU<>  %FFQ"OT IUUQTHJUIVCDPNCFZPOEBDN%FFQ"OT<>  (FOTJN IUUQTSBEJNSFIVSFLDPNHFOTJN<>  .BHOVN/-$$.% IUUQTHJUIVCDPNNBHOVNSFTFBSDIHSPVQ
.BHOVN/-$$.%
<>  4IFMM'VTJPO IUUQTHJUIVCDPNOFOH[4IFMM'VTJPO<> 4UBDL&YDIBOHF%BUB%VNQ IUUQTBSDIJWFPSHEPXOMPBETUBDLFYDIBOHF<>  4UBDL 0WFS‡©òPX IUUQTTUBDLPWFSGMPXDPN
<>  4VQFS 6TFS IUUQTTVQFSVTFSDPN<>  5-%3 IUUQTHJUIVCDPNUMESQBHFTUMES<>  6CVOUV .BOVBM 1BHFT IUUQNBOQBHFTVCVOUVDPN<>  6OJY  -JOVY IUUQTVOJYTUBDLFYDIBOHFDPN<> .BZBOL "HBSXBM +PSHF + #BSSPTP 5BUIBHBUB $IBLSBCPSUJ &MJ . %PX ,TIJUJK
'BEOJT #PSKB (PEPZ .BEIBWBO 1BMMBO BOE ,BSUJL 5BMBNBEVQVMB  1SPKFDUDMBJ*OTUSVNFOUJOHUIFDPNNBOEMJOFBTBOFXFOWJSPONFOUGPSBJBHFOUT BS9JW
QSFQSJOU BS9JW 	

<> .BZBOL "HBSXBM 5BUIBHBUB $IBLSBCPSUJ ‡•ûDIFO 'V %BWJE (SPT 9J 7JDUPSJB
-JO +BSPO .BFOF ,BSUJL 5BMBNBEVQVMB ;IPOHXFJ 5FOH BOE +VMFT 8IJUF /FVS*14  /-$$.% $PNQFUJUJPO 5SBOTMBUJOH /BUVSBM -BOHVBHF UP #BTI$PNNBOET BS9JW QSFQSJOU BS9JW 	

<> "LJLP "J[BXB  "O JOGPSNBUJPOUIFPSFUJD QFSTQFDUJWF PG UGJEG NFBTVSFT
*OGPSNBUJPO 1SPDFTTJOH  .BOBHFNFOU   	
 €ó
>< 4UFWFO #JSE &XBO ,MFJO BOE &EXBSE -PQFS  /BUVSBM MBOHVBHF QSPDFTTJOH
XJUI 1ZUIPO BOBMZ[JOH UFYU XJUI UIF OBUVSBM MBOHVBHF UPPMLJU 0€ù3FJMMZ .FEJB
*OD
<> 5BUIBHBUB $IBLSBCPSUJ ,BSUJL 5BMBNBEVQVMB ,TIJUJK 1 'BEOJT .VSSBZ $BNQ
CFMM BOE 4VCCBSBP ,BNCIBNQBUJ  6CVOUV8PSME  -54"€ò 1MBUGPSN GPS
"VUPNBUFE 1SPCMFN 4PMWJOH  5SPVCMFTIPPUJOH JO UIF 6CVOUV 04 *O 5XFOUZ
/JOUI *""* $POGFSFODF 
<> "OESFB %J 4PSCP 4FCBTUJBOP 1BOJDIFMMB $BSPM 7 "MFYBOESV +VOKJ 4IJNBHBLJ
$PSSBEP " 7JTBHHJP (FSBSEP $BOGPSB BOE )BSBME $ (BMM  8IBU XPVMEVTFST DIBOHF JO NZ BQQ TVNNBSJ[JOH BQQ SFWJFXT GPS SFDPNNFOEJOH TP‡•èXBSFDIBOHFT *O 1SPDFFEJOHT PG UIF  UI "$. 4*(40'5 *OUFSOBUJPOBM 4ZNQPTJVN
PO 'PVOEBUJPOT PG 4P‡°ÑXBSF &OHJOFFSJOH €ó
+>< PTFQI - 'MFJTT  .FBTVSJOH OPNJOBM TDBMF BHSFFNFOU BNPOH NBOZ SBUFST
1TZDIPMPHJDBM #VMMFUJO   	
 
<> *TIBBO (BOEIJ BOE "OTIVMB (BOEIJ  -JHIUFOJOH UIF $PHOJUJWF -PBEP G
4IFMM 1SPHSBNNJOH 	

<> ;IJQFOH (BP 9JO 9JB %BWJE -P BOE +PIO (SVOEZ  5FDIOJDBM 2" 4JUF
"OTXFS3FDPNNFOEBUJPOWJB‡•ûFTUJPO#PPTUJOH "$.5SBOTBDUJPOTPO 4P‡°ÑXBSF
&OHJOFFSJOH BOE .FUIPEPMPHZ 	504&.
   	
 €ó
+>< JBUBP (V ;IFOHEPOH -V )BOH -J BOE 7JDUPS 0, -J  *ODPSQPSBU
JOH DPQZJOH NFDIBOJTN JO TFRVFODFUPTFRVFODF MFBSOJOH BS9JW QSFQSJOU
BS9JW 	

<> 9JBPEPOH (V )POHZV ;IBOH %POHNFJ ;IBOH BOE 4VOHIVO ,JN  %FFQ
"1* MFBSOJOH *O 1SPDFFEJOHT PG UIF  UI "$. 4*(40'5 *OUFSOBUJPOBM 4ZNQP
TJVN PO 'PVOEBUJPOT PG 4P‡°ÑXBSF &OHJOFFSJOH €ó
:>< BO )V 2JNJO 1FOH 9JBPIVJ )V BOE 3POH :BOH  5JNF BXBSF BOE EBUB
TQBSTJUZ UPMFSBOU XFC TFSWJDF SFDPNNFOEBUJPO CBTFE PO JNQSPWFE DPMMBCPSBUJWF‡©óMUFSJOH *&&& 5SBOTBDUJPOT PO 4FSWJDFT $PNQVUJOH   	
 €ó
>< 2JBP )VBOH 9JO 9JB ;IFODIBOH 9JOH %BWJE -P BOE 9JOZV 8BOH  "1*
NFUIPE SFDPNNFOEBUJPO XJUIPVU XPSSZJOH BCPVU UIF UBTL"1* LOPXMFEHF HBQ*OSE*&&&"$.*OUFSOBUJPOBM$POGFSFODFPO"VUPNBUFE4P‡°ÑXBSF&OHJOFFS
JOH 	"4&
  *&&& €ó
>< 5FTTB -BV -BXSFODF #FSHNBO 7J‡•íPSJP $BTUFMMJ BOE %BOJFM 0CMJOHFS  1SP
HSBNNJOHTIFMMTDSJQUTCZEFNPOTUSBUJPO*O 8PSLTIPQ PO 4VQFSWJTPSZ $POUSPM PG
-FBSOJOH BOE "EBQUJWF 4ZTUFNT """* 7PM 
<> 9J 7JDUPSJB -JO $IFOHMPOH 8BOH %FSJD 1BOH ,FWJO 7V BOE .JDIBFM % &SOTU
 1SPHSBNTZOUIFTJTGSPNOBUVSBMMBOHVBHFVTJOHSFDVSSFOUOFVSBMOFUXPSLT6OJWFSTJUZ PG 8BTIJOHUPO %FQBSUNFOU PG $PNQVUFS 4DJFODF BOE &OHJOFFSJOH 4FBUUMF 8" 64" 5FDI 3FQ 68$4& 	

<> 9J 7JDUPSJB -JO $IFOHMPOH 8BOH -VLF ;F‡•íMFNPZFS BOE .JDIBFM % &SOTU 
/-#BTI " DPSQVT BOE TFNBOUJD QBSTFS GPS OBUVSBM MBOHVBHF JOUFSGBDF UP UIFMJOVY PQFSBUJOH TZTUFN BS9JWQSFQSJOU BS9JW 	

<> &SJL -JOTUFBE 4VTIJM #BKSBDIBSZB 5SVOH /HP 1BVM 3JHPS $SJTUJOB -PQFT BOE
1JFSSF #BMEJ  4PVSDFSFS NJOJOH BOE TFBSDIJOH JOUFSOFUTDBMF TP‡•èXBSFSFQPTJUPSJFT %BUB .JOJOH BOE ,OPXMFEHF %JTDPWFSZ   	
 €ó
$>< PMMJO .D.JMMBO .BSL (SFDIBOJL %FOZT 1PTIZWBOZL 2JOH 9JF BOE $IFO 'V
 1PSUGPMJP ‡©óOEJOH SFMFWBOU GVODUJPOT BOE UIFJS VTBHF *O 1SPDFFEJOHT PG UIF
SE *OUFSOBUJPOBM $POGFSFODF PO 4P‡°ÑXBSF &OHJOFFSJOH €ó
>< 5PNBT .JLPMPW *MZB 4VUTLFWFS ,BJ $IFO (SFH 4 $PSSBEP BOE +F‡©ñ %FBO 
%JTUSJCVUFE SFQSFTFOUBUJPOT PG XPSET BOE QISBTFT BOE UIFJS DPNQPTJUJPOBMJUZ *O
"EWBODFT JO OFVSBM JOGPSNBUJPO QSPDFTTJOH TZTUFNT ><€ó 4FZFE .FIEJ /BTFIJ +POBUIBO 4JMMJUP 'SBOL .BVSFS BOE $ISJT #VSOT 
8IBU NBLFT B HPPE DPEF FYBNQMF  " TUVEZ PG QSPHSBNNJOH 2" JO 4UBDL
0WFS‡©òPX *O  UI *&&& *OUFSOBUJPOBM $POGFSFODF PO 4P‡°ÑXBSF .BJOUFOBODF
	*$4.
 *&&& €ó
$>< ISJTUPQIFS /FHVT  6CVOUV -JOVY 5PPMCPY  $PNNBOET GPS 1PXFS
6TFST +PIO 8JMFZ  4POT
<> -JNJOH/JF)F+JBOH;IJMFJ3FO;FZJ4VOBOE9JBPDIFO-J ‡•ûFSZFYQBO
TJPO CBTFE PO DSPXE LOPXMFEHF GPS DPEF TFBSDI *&&& 5SBOTBDUJPOT PO 4FSWJDFT
$PNQVUJOH   	
 €ó
&>< MMJF‡•ûJHMFZ 6OJY 4IFMMT CZ FYBNQMF  1SFOUJDF)BMM1SPGFTTJPOBM5FDIOJDBM
3FGFSFODF
<> %SBHPNJS 3BEFW BOE 8FJHVP 'BO  "VUPNBUJD TVNNBSJ[BUJPO PG TFBSDI
FOHJOF IJU MJTUT *O "$- 8PSLTIPQ PO 3FDFOU "EWBODFT JO /BUVSBM -BOHVBHF
1SPDFTTJOH BOE *OGPSNBUJPO 3FUSJFWBM  €ó
.>< PIBNNBE .BTVEVS 3BINBO $IBODIBM , 3PZ BOE %BWJE -P  3BDL
"VUPNBUJD BQJ SFDPNNFOEBUJPO VTJOH DSPXETPVSDFE LOPXMFEHF *O  *&&&
SE *OUFSOBUJPOBM $POGFSFODF PO 4P‡°ÑXBSF "OBMZTJT &WPMVUJPO BOE 3FFOHJOFFSJOH
	4"/&3
 7PM  *&&& €ó
>< 4JNPOF 4DBMBCSJOP (BCSJFMF #BWPUB $ISJTUPQIFS 7FOEPNF .BSJP -JOBSFT
7¬°TRVF[ %FOZT 1PTIZWBOZL BOE 3PDDP 0MJWFUP  "VUPNBUJDBMMZ BTTFTTJOH
DPEF VOEFSTUBOEBCJMJUZ )PX GBS BSF XF  *O  OE *&&&"$. *OUFSOBUJPOBM
$POGFSFODF PO "VUPNBUFE 4P‡°ÑXBSF &OHJOFFSJOH 	"4&
  *&&& €ó
.>< BSL ( 4PCFMM  " QSBDUJDBM HVJEF UP -JOVY DPNNBOET FEJUPST BOE TIFMM
QSPHSBNNJOH  1SFOUJDF )BMM
<> 7PMLFS 4UFJOCJTT #BDI)JFQ 5SBO BOE )FSNBOO /FZ  *NQSPWFNFOUT JO
CFBN TFBSDI *O ‡°ãJSE JOUFSOBUJPOBM DPOGFSFODF PO TQPLFO MBOHVBHF QSPDFTTJOH 
<> *MZB 4VUTLFWFS 0SJPM 7JOZBMT BOE ‡•ûPD 7 -F  4FRVFODF UP TFRVFODF MFBSO
JOH XJUI OFVSBM OFUXPSLT *O "EWBODFT JO OFVSBM JOGPSNBUJPO QSPDFTTJOH TZTUFNT
€ó
">< TIJTI 7BTXBOJ /PBN 4IB[FFS /JLJ 1BSNBS +BLPC 6T[LPSFJU -MJPO +POFT
"JEBO / (PNF[ ƒÅVLBT[ ,BJTFS BOE *MMJB 1PMPTVLIJO  "‡•íFOUJPO JT BMM ZPV
OFFE *O "EWBODFT JO OFVSBM JOGPSNBUJPO QSPDFTTJOH TZTUFNT €ó
;>< IJZVBO 8BO 9JO 9JB BOE "INFE & )BTTBO  8IBU JT EJTDVTTFE BCPVU
CMPDLDIBJO B DBTF TUVEZ PO UIF VTF PG CBMBODFE MEB BOE UIF SFGFSFODF BSDIJUFDUVSF PG B EPNBJO UP DBQUVSF POMJOF EJTDVTTJPOT BCPVU CMPDLDIBJO QMBUGPSNTBDSPTTUIFTUBDLFYDIBOHFDPNNVOJUJFT *&&& 5SBOTBDUJPOT PO 4P‡°ÑXBSF &OHJOFFS
JOH	

<> 'SBOL 8JMDPYPO  *OEJWJEVBM DPNQBSJTPOT CZ SBOLJOH NFUIPET *O #SFBL
UISPVHIT JO TUBUJTUJDT 4QSJOHFS €ó
'>< BOH9JF+JBO8BOH3VJCJO9JPOH/FOH;IBOH:VUBP.BBOE,FRJOH)F
"OJOUFHSBUFETFSWJDFSFDPNNFOEBUJPOBQQSPBDIGPSTFSWJDFCBTFETZTUFNEFWFM
PQNFOU &YQFSU 4ZTUFNT 8JUI "QQMJDBUJPOT  	
 €ó
>< 3VJCJO 9JPOH +JBO 8BOH /FOH ;IBOH BOE :VUBP .B  %FFQ IZCSJE DPMMBC
PSBUJWF ‡©óMUFSJOH GPS XFC TFSWJDF SFDPNNFOEBUJPO &YQFSU TZTUFNT XJUI "QQMJDB
UJPOT 	
 €ó
#>< PXFO 9V ;IFODIBOH 9JOH 9JO 9JB BOE %BWJE -P  "OTXFS#PU "V
UPNBUFE HFOFSBUJPO PG BOTXFS TVNNBSZ UP EFWFMPQFST€ù UFDIOJDBM RVFTUJPOT* O OE *&&&"$. *OUFSOBUJPOBM $POGFSFODF PO "VUPNBUFE 4P‡°ÑXBSF &OHJOFFSJOH 	"4&
  *&&& €ó
%>< FIFOH :F ;IFODIBOH 9JOH BOE /BDIJLFU ,BQSF  ‡•üF TUSVDUVSF BOE EZ
OBNJDT PG LOPXMFEHF OFUXPSL JO EPNBJOTQFDJ‡©óD 2" TJUFT B DBTF TUVEZ PGTUBDL PWFS‡©òPX &NQJSJDBM 4P‡°ÑXBSF &OHJOFFSJOH  	
 €ó
>< 9JO :F )VJ 4IFO 9JBP .B 3B[WBO #VOFTDV BOE $IBOH -JV  'SPN XPSE
FNCFEEJOHT UP EPDVNFOU TJNJMBSJUJFT GPS JNQSPWFE JOGPSNBUJPO SFUSJFWBM JO TP‡•è
XBSF FOHJOFFSJOH *O 1SPDFFEJOHT PG UIF UI JOUFSOBUJPOBM DPOGFSFODF PO TP‡°ÑXBSF
FOHJOFFSJOH "$. €ó
/>< FOH ;IBOH 2JBP )VBOH 9JO 9JB :JOH ;PV %BWJE -P BOE ;IFODIBOH 9JOH
 $IBUCPU23 *OUFSBDUJWF ‡•ûFSZ 3F‡©óOFNFOU GPS 5FDIOJDBM ‡•ûFTUJPO 3FUSJFWBM *&&& 5SBOTBDUJPOT PO 4P‡°ÑXBSF &OHJOFFSJOH 	

<> /FOH;IBOH+JBO8BOH:VUBP.B,FRJOH)F;IFOH-JBOE9JBPRJOH'SBOL-JV
 8FC TFSWJDF EJTDPWFSZ CBTFE PO HPBMPSJFOUFE RVFSZ FYQBOTJPO +PVSOBM
PG 4ZTUFNT BOE 4P‡°ÑXBSF  	
 €ó
1981ICSE '22, May 21-2 9, 2022, Pitts burgh, PA, USA 
REFERENCES 
[1] 2022. Ask Ubuntu. htt ps://askubunt u.com 
[2] 2022. Bro pages. http:/ /bropages.org/ 
[3] 2022. Cheat. https://github.com/cheat/cheat 
[4] 2022. DeepAns. https://github.com/beyondacm/DeepAns 
[5] 2022. Gensim. https://radimrehurek.com/gensim 
[ 6] 2022. Magnum-NLC 2CMD. https:// github.com/magnumr esearchgroup/ 
Magnum-NLC 2CMD 
[7] 2022. ShellFusion. https://github .com/nengz/ShellFusion 
[8] 2022. Stack Exchange Data Dump. https://archive .org/download/stackexchange 
[9] 2022. Stack Overflow. https://stackoverflow.com 
[10] 2022. Super User. https://superuser.com 
[11] 2022. TIDR. https://github.com/tldr-pages/tldr 
[12] 2022. Ubuntu Manual Pages. http://manpage s.ubuntu.com 
[13] 2022. Unix & Linux. https://unix. stackexchange .com 
[14] Mayank Agarwal, Jorge J Barroso, Tathagata Chakraborti, Eli M Dow, Kshitij 
Fadnis, Borja Godoy, Madhavan Pallan, and Karlik Talamadupula. 2020. Project 
clai: Instrumenting the command line as a new environment for ai agents. arXiv 
preprint arXiv:200 2.007 62 (2020). 
[15] Mayank Agarwal, Tathagata Chakraborti, Qllchen Fu, David Gras, Xi Victoria 
Lin, Jaron Maene, Karlik Talamadupula, Zhongwei Teng, and Jules White. 2021. 
Neur!PS 2020 NLC2CMD Competition: Translating Natural Language to Bash 
Command s. arXiv preprint arXi v:2103.02523 (2021). 
[16] Akiko Aizawa. 2003. An informatio n-theoretic perspect ive of tf-idf measures. 
Information Processing & Mana gement 39, 1 (2003), 45-65. 
[17] Steven Bird, Ewan Klein, and Edward Loper. 2009. Natural language processing 
with Python: analyzing text with the natural language toolkit. 0 'Reilly Media, 
Inc. 
[18] 
[19] 
[20] 
[21] 
[22] 
[23] 
[24] 
[25] 
[26] 
[27] 
[28] 
[29] 
[30] 
[31] 
[32] Tathagata Chakraborti, Karlik Talamadupula, Kshitij P Fadnis, Murray Camp¬≠
bell, and Subbarao Kambhampati. 2017. UbuntuWorld 1.0 LTS-A Platform for 
Automated Problem Solving & Troubleshooting in the Ubuntu OS. In Twenty¬≠
Ninth MAI Conf erence. 
Andrea Di Sorbo, Sebastiana Panichella, Carol V Alexandru, Junji Shimagaki, 
Corrado A Visaggio, Gerardo Canfora, and Harald C Gall. 2016. What would 
users change in my app? summarizing app reviews for recommending software 
changes. In Proceedin gs of the 2016 24th ACM SIGSOFI International Sym posium 
on Foundations of Software Engineering. 499-510. 
Joseph L Fleiss. 1971. Measuring nominal scale agreement among many raters. 
Psycholo gical Bulletin 76, 5 (1971), 378. 
Ishaan Gandhi and Anshula Gandhi. 2020. Lightening the Cognitive Load of 
Shell Programming. (2020). 
Zhipeng Gao, Xin Xia, David Lo, and John Grundy. 2020. Technical Q8A Site 
Answer Recommendation via Qyestion Boosting. ACM Transactions on Software 
Engineering and Methodology (TOSEM) 30, 1 (2020), 1-34. 
Jiatao Gu, Zhengdong Lu, Hang Li, and Victor OK Li. 2016. Incorporat¬≠
ing copying mechanism in sequence-to-seq uence learning. arXiv preprint 
arXi v:1603.06393 (2016). 
Xiaodong Gu, Hongyu Zhang, Dongmei Zhang, and Sunghun Kim. 2016. Deep 
API learning. In Proceedin gs of the 2016 24th ACM SIGSOFT International Sym po¬≠
sium on Foundations of Software Engi neer ing. 631-642. 
Yan Hu, Qimin Peng, Xiaohui Hu, and Rang Yang. 2014. Time aware and data 
sparsity tolerant web service recommendation based on improve d collaborative 
filtering. IEEE Transactions on Services Computing 8, 5 (2014), 782-794. 
Qiao Huang, Xin Xia, Zhenchang Xing, David Lo, and Xinyu Wang. 2018. API 
method recommendation without worrying about the task-API knowledge gap. 
In 2018 33rd IEEEIA CM International Conf erence on Automated Software Engineer¬≠
ing (ASE ). IEEE, 293-304. 
Tessa Lau, Lawrence Bergman, Vittorio Castelli, and Daniel Oblinger. 2004. Pro¬≠
gramming shell scripts by demonstration. In Workshop on Supervisory Control of 
Learnin g and Adaptive Systems, AAAI, Vol. 4. 
Xi Victoria Lin, Chenglong Wang, Deric Pang, Kevin Vu, and Michael D Ernst. 
2017. Program synthesis from natural language using recurrent neural networks. 
University of Washington Department of Com puter Science and Engineerin g, Seat¬≠
tle, WA, USA, Tech. Rep. UW -CSE- 17-03-01 (2017). 
Xi Victoria Lin, Chenglong Wang, Luke Zettlemoyer, and Michael D Ernst. 2018. 
NL2Bash: A corpus and semantic parser for natural language interface to the 
linux operating system. arXiv preprint arXiv:1802.08979 (2018). 
Erik Linstead, Sushi! Bajracharya, Trung Ngo, Paul Rigor, Cristina Lopes, and 
Pierre Baldi. 2009. Sourcerer: mining and searching internet-scale software 
repositories. Data Mining and Knowledge Discovery 18, 2 (2009), 300-336. 
Collin McMillan, Mark Grechanik, Denys Poshyvanyk, Qing Xie, and Chen Fu. 
2011. Portfolio: finding relevant functions and their usage. In Proceedings of the 
33rd International Conf erence on Software Engineering. 111-120. 
Tomas Mikolov, Ilya Sutskever, Kai Chen, Greg S Corrado, and Jeff Dean. 2013. 
Distributed representations of words and phrases and their compositionality. In 
Advances in neural information processing systems. 3111-3119. 
1981 Neng Zhang, Chao Liu, Xin Xia, Christoph Treude, Ying Zou, David Lo, and Zibin Zheng 
[33] 
[34] 
[35] 
[36] 
[37] 
[38] 
[39] 
[40] 
[41] 
[42] 
[43] 
[44] 
[45] 
[46] 
[47] 
[48] 
[49] 
[50] 
[51] 
[52] Seyed Mehdi Nasehi, Jonathan Sillito, Frank Maurer, and Chris Burns. 2012. 
What makes a good code example?: A study of programming Q&A in Stack¬≠
Overflow. In 2012 28th IEEE International Conf erence on Software Maintenance 
(ICSM). IEEE, 25-34. 
Christopher Negus. 2013. Ubuntu Linux Toolbox: 1000+ Commands for Power 
Users. John Wiley & Sons. 
Liming Nie, He Jiang, Zhilei Ren, Zeyi Sun, and Xiaochen Li. 2016. Qllery expan¬≠
sion based on crowd knowledge for code search. IEEE Transactions on Services 
Computing 9, 5 (2016), 771-783. 
Ellie Qlligley. 2005. Unix Shells by example. Prentice Hall Professional Technical 
Reference. 
Dragomir Radev and Weiguo Fan. 2000. Automatic summarization of search 
engine hit lists. In ACL-2000 Workshop on Recent Adv ances in Natural Language 
Processing and Information Retriev al. 99-109. 
Mohammad Masudur Rahman, Chanchal K Roy, and David Lo. 2016. Rack: 
Automatic api recommendation using crowdsourced knowledge. In 2016 IEEE 
23rd International Conf erence on Software Analysis, Evolution, and Reen gineerin g 
(SANER), Vol. 1. IEEE, 349-359. 
Simone Scalabrino, Gabriele Bavota, Christopher Vendome, Mario Linares¬≠
Vasquez, Denys Poshyvanyk, and Rocco Oliveto. 2017. Automatically assessing 
code understanda bility: How far are we?. In 2017 32nd IEEEIA CM International 
Con f erence on Automated Software Engi neerin g (ASE). IEEE, 417-427. 
Mark G Sobel!. 2013. A practical guide to Linux com mands, editors, and shell 
progra mmin g. Prentice Hall. 
Volker Steinbiss, Bach-Hiep Tran, and Hermann Ney. 1994. Improvements in 
beam search. In Third international conf erence on spoken language processin g. 
Ilya Sutskever, Oriol Vinyals, and Qlloc V Le. 2014. Sequence to sequence learn¬≠
ing with neural networks. In Adv ances in neural information processing systems. 
3104-3112. 
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, 
Aidan N Gomez, Lukasz Kaiser, and Illia Polosukhin. 2017. Attention is all you 
need. In Advances in neural information processing systems. 5998-6008. 
Zhiyuan Wan, Xin Xia, and Ahmed E Hassan. 2019. What is discussed about 
blockchain? a case study on the use of balanced lda and the reference archi¬≠
tecture of a domain to capture online discussions about blockchain platforms 
across the stack exchange communit ies. IEEE Tr ansactions on Software Engineer¬≠
ing (2019). 
Frank Wilcoxon. 1992. Individual comparisons by ranking methods. In Break¬≠
throughs in statistics. Springer, 196-202. 
FangXie,Jian Wang, Ruibin Xiong, Neng Zhang, Yutao Ma, and Keqing He. 2019. 
An integrated service recommendation approach for service-based system devel¬≠
opment. Expert Systems With Applications 123 (2019), 178-194. 
Ruibin Xiong,Jian Wang, Neng Zhang, and Yutao Ma. 2018. Deep hybrid collab¬≠
orative filtering for web service recommendation. Expert systems with App lica¬≠
tions 110 (2018), 191-205. 
Bowen Xu, Zhenchang Xing, Xin Xia, and David Lo. 2017. AnswerBot: Au¬≠
tomated generation of answer summary to developers' technical questions. In 
2017 32nd IEEEIA CM International Conf erence on Automated Software Engineer¬≠
ing (ASE). IEEE, 706-716. 
Deheng Ye, Zhenchang Xing, and Nachiket Kapre. 2017. The structure and dy¬≠
namics of knowledge network in domain-specific Q&A sites: a case study of 
stack overflow. Empirical Software Engineering 22 (2017), 375-406. 
Xin Ye, Hui Sherr, Xiao Ma, Razvan Bunescu, and Chang Liu. 2016. From word 
embeddings to document similaritie s for improved information retrieval in soft¬≠
ware engineering. In Proceedin gs of the 38th international conf erence on software 
engineering. ACM, 404-415. 
Neng Zhang, Qiao Huang, Xin Xia, Ying Zou, David Lo, and Zhenchang Xing. 
2020. Chatbot4QR: Interactive Qllery Refinement for Technical Qllestion Re¬≠
trieval. IEEE Transactions on Software Engineering (2020). 
Neng Zhang,Jian Wang, Yutao Ma, KeqingHe, ZhengLi, andXiaoqing FrankLiu. 
2018. Web service discovery based on goal-oriented query expansion. Journal 
of Syste ms and Software 142 (2018), 73-91. 
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:52:10 UTC from IEEE Xplore.  Restrictions apply. 