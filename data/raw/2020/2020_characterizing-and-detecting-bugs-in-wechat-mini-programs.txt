Characterizing and Detecting Bugs in WeChat Mini-Programs
Tao Wang‚àó
Qingxin Xu‚àó
Xiaoning Chang
State Key Lab of Computer Sciences, Institute of Software,
Chinese Academy of Sciences
University of Chinese Academy of Sciences, Beijing, China
{wangtao19,xuqingxin19,changxiaoning17}@otcaix.iscas.ac.cnWensheng Dou‚Ä†‚Ä°
Jiaxin Zhu‚Ä°
State Key Lab of Computer Sciences, Institute of Software,
Chinese Academy of Sciences
University of Chinese Academy of Sciences, Beijing, China
{wsdou,zhujiaxin}@otcaix.iscas.ac.cn
Jinhui Xie
Yuetang Deng
Jianbo Yang
Jiaheng Yang
Tencent, Inc.
Guangzhou, China
{hugoxie,yuetangdeng,xiaotuoyang,jiahengyang}@tencent.comJun Wei‚Ä†
Tao Huang
State Key Lab of Computer Sciences, Institute of Software,
Chinese Academy of Sciences
University of Chinese Academy of Sciences, Beijing, China
{wj,tao}@otcaix.iscas.ac.cn
ABSTRACT
BuiltontheWeChatsocialplatform,WeChatMini-Programsare
widelyusedbymorethan400millionuserseveryday.Consequently,
the reliability of Mini-Programs is particularly crucial. However,
WeChatMini-Programs sufferfrom variousbugsrelated toexecu-
tionenvironment,lifecyclemanagement,asynchronousmechanism,
etc.Thesebugshaveseriouslyaffectedusers‚Äôexperienceandcaused
serious impacts.
Inthispaper,weconductthefirstempiricalstudyon83WeChat
Mini-Program bugs, and perform an in-depth analysis of their root
causes,impactsandfixes.Fromthisstudy,weobtainmanyinterest-ingfindingsthatcanopenupnewresearchdirectionsforcombating
WeChat Mini-Program bugs. Based on the bug patterns found in
ourstudy, wefurtherdevelop WeDetectortodetect WeChatMini-
Program bugs. Our evaluation on 25 real-world Mini-Programs
hasfound11previouslyunknownbugs,and7ofthemhavebeen
confirmed by developers.
CCS CONCEPTS
‚Ä¢General and reference ‚ÜíEmpirical studies;‚Ä¢Software and
its engineering ‚ÜíSoftware testing and debugging.
‚àóTao Wang and Qingxin Xu contribute equally.
‚Ä†Wensheng Dou and Jun Wei are the corresponding authors.
‚Ä°Wensheng Dou and Jiaxin Zhu are also affiliated with Nanjing Institute of Software
Technology and University of Chinese Academy of Sciences, Nanjing, China.
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
on the first page. Copyrights for components of this work owned by others than ACMmustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,orrepublish,topostonserversortoredistributetolists,requirespriorspecificpermissionand/ora
fee. Request permissions from permissions@acm.org.
ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
¬© 2022 Association for Computing Machinery.
ACM ISBN 978-1-4503-9221-1/22/05...$15.00
https://doi.org/10.1145/3510003.3510114KEYWORDS
WeChat Mini-Programs, empirical study, bug detection
ACM Reference Format:
TaoWang,QingxinXu,XiaoningChang,WenshengDou,JiaxinZhu,Jinhui
Xie, Yuetang Deng, Jianbo Yang, Jiaheng Yang, Jun Wei, and Tao Huang.
2022. Characterizing and Detecting Bugs in WeChat Mini-Programs. In
44thInternationalConferenceonSoftwareEngineering(ICSE‚Äô22),May21‚Äì
29, 2022, Pittsburgh, PA, USA. ACM, New York, NY, USA, 13 pages. https:
//doi.org/10.1145/3510003.3510114
1 INTRODUCTION
WeChat is one of the most popular social platforms, running on
mobileanddesktopoperatingsystems,e.g.,Android,iOS,Windows
andmacOS.ArecentstudyhasreportedthatWeChatiswidelyused
in daily life, and there are more than one billion monthly active
users [43].
WeChatMini-ProgramsrunontheWeChatplatform,andcan
utilize various functions provided by WeChat, e.g., user manage-
ment,fileaccess,networkaccess,location,camera,andpayment.
WeChat Mini-Programs do not have a palpable installation process
as Android and iOS applications, but users can have an experi-ence as smooth as native Android and iOS applications. WeChatMini-Programshavebeenwidelyusedinmanyscenarios,e.g.,e-
commerce,transaction,andeducation.Nowadays,therearemore
than5.5millionMini-ProgramsrunningontheWeChatplatform,
and there are more than 400 million WeChat users using Mini-
Programs every day [57].
Based on the Mini-Program framework [ 15], developers can
develop various WeChat Mini-Programs. The Mini-Program frame-
work contains two layers: a render layer and a logic layer. The
render layer is responsible for UI display. For the purpose, WXML
(WeiXinMarkupLanguage)andWXSS(WeiXinStyleSheets)are
usedasitsdescriptionlanguage,whicharesimilartoHTMLand
CSS in traditional web applications. The logic layer is responsible
for the program logic written in JavaScript. The two layers run on
3632022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
two independent threads respectively and communicate with each
other through an asynchronous and event-driven mechanism. The
Mini-Program framework also provides rich components and APIs
fordeveloperstoimplementtheirownservices.MostoftheseAPIs
are asynchronous,thus making theentire Mini-Program response
smoothly.
Unfortunately, developing high-quality WeChat Mini-Programs
is a challenging task. When developing WeChat Mini-Programs,
developers need to properly handle asynchronous mechanism,platform differences, lifecycle management, etc. Otherwise, var-
iousbugscanoccurinWeChatMini-Programs,e.g.,conventional
JavaScriptbugs,asynchronousrelatedbugs,andcompatibilitybugs.
We call WeChat Mini-Program Bugs as WeBugsfor short. More
than 70 million of errors caused by WeBugs are reported in the
WeChat internal monitoring system every day. WeBugs can seri-
ouslyaffectusers‚Äôexperienceandleadtoseriousconsequences,e.g.,
economiclossesandinformationleakages.Tounderstand,detect
and fix WeBugs is of great importance to WeChat Mini-Program
developers.
Substantial empirical studies about software bugs have been
conductedtoenrichourknowledgeonsoftwarereliability.Exist-
ing empirical study on mobile applications mainly focus on var-ious bugs in Java-based Android applications, e.g., compatibility
bugs[67,88,90],security-relatedbugs[ 68,79,106,108].Existing
JavaScript-related empirical studies mainly focus on the client-side
JavaScriptapplications[ 94,95,97]andserver-sideJavaScriptappli-
cations[101‚Äì103].Thesebugsareusuallyassociatedwithdynamic
JavaScriptfeaturesandclient-sideJavaScriptbugsaremostlyDOM-
related. However, WeChat Mini-Programs are developed based on
the WeChat Mini-Program framework, which are greatly different
fromclient/server-sideJavaScriptapplicationsandAndroidappli-
cations.Thus,thesestudiescannotreflectthekeycharacteristics
ofWeBugs.ExistingworksonWeChatMini-Programsmainlyfo-
cusontheirdevelopment[ 76,105],acceptanceandusage[ 63,86].
Therefore,thereislittleknowledgeaboutWeBugsinliterature.Un-
derstandingWeBugsisofsignificantinteresttoourresearchersand
practitionercommunity, andcanbe helpfulinproviding guidance
on bug avoidance, detection, testing and fixing, etc.
In this paper, we conduct the first empirical study on WeChat
Mini-Program bugs. We collect 83 WeBugs from three sources,
i.e., open-source WeChat Mini-Programs in GitHub, QAs from the
developerforumandonlinerunningMini-Programsmaintainedby
aWeChatdevelopmentCompany X.We studyWeBugsfromthe
following three research questions.
‚Ä¢RQ1 (Root cause): What are the root causes of WeChat
Mini-Program bugs?
‚Ä¢RQ2(Fixstrategy): HowdodevelopersfixWeChatMini-
Program bugs? Are there common fix patterns?
‚Ä¢RQ3(BugImpact): WhatimpactsdoWeChatMini-Program
bugs have?
Throughour in-depthanalysis againstthe abovethree aspects,
we obtain many interesting findings and useful lessons for further
research and practice. For example, 14.2% WeBugs are caused by
incompatiblefeaturesacrossdifferentdevices,eventhoughWeChat
Mini-Programsaredesignedascross-platformapplications.Thus,
developers should pay attention to compatibility-related WeBugs.
Hello WeChat!
// index.wxml
1.<view> Hello {{ name}}! </view>
2.<button bindtap="changeName">
3. Click me! </button> 
// index.js
9.var helloData = {
10.name: 'WeChat'
11.}
12.Page({
13.data: helloData,
14.changeName: function (e) {
15. //sent data change to view
16. this.setData({
17. name: 'World'
18. })
19.}
20.}) // index.wxss
4.button{
5.background-color: blue;
6.width: 70%;
7.margin-top: 70%;
8.}
Hello World!Hello WeChat!
(a)(b)
(c)
Figure 1: A simplified WeChat Mini-Program.
Based on our empirical study, we further design a static anal-
ysis tool, WeDetector, to detect WeBugs under three specific bug
patterns, e.g., incorrect platform-dependent API usage, incomplete
layout adaptation to specific devices, and non-specific handling for
arguments passed to callbacks. We apply WeDetector on 25 pop-
ularWeChatMini-ProgramsfromGitHubandfind11previously
unknown WeBugs, in which 7 WeBugs have been confirmed bydevelopers. We have made our studied WeBugs and WeDetector
publicly available at https://github.com/tao2years/WeBug.
In summary, we make the following main contributions.
‚Ä¢WepresentthefirstempiricalstudyonWeChatMini-Program
bugs from three aspects, i.e., root cause, bug impact and fix
strategy. Our in-depth analysis reveals common vulnerabili-
ties in WeChat Mini-Programs.
‚Ä¢Ourempiricalstudyobtainsmanyfindingsthatcanopenup
new research directions. We hope our study can shed lights
on combating WeChat Mini-Program bugs.
‚Ä¢WedesignastaticWeBugdetectiontool,WeDetector,and
find 11 new bugs in 25 popular WeChat Mini-Programs.
The rest of this paper is organized as follows. Section 2 presents
anoverviewofWeChatMini-Programsanditsframework.Section3presentsourstudymethods.Section4presentsourempiricalstudyresults.Section5discusseslessonslearnedfromourstudy.Basedon
ourstudyresultsandlessons,weproposeaWeBugdetectiontool
in Section 6. Section 7 discusses related work and finally Section 8
concludes this paper.
364
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Android         iOS/Mac        Windows      Development tool
Location
CameraRender layer
WXSS
WXMLWebViewLogic layer
JSCore
Logic 
process
API
FilePayment
Network‚Ä¶Event Data Data Event
User 
Management
Runtime
platformsWeChat
Figure 2: The WeChat Mini-Program framework.
2 WECHAT MINI-PROGRAMS
WeChat Mini-Programs run on the social WeChat platform, which
havebillionsofusers.OnWeChatplatform,userscaneasilyfind
Mini-ProgramsbyscanningrelatedQRcodeorsearchingthenames,
and use them without downloading and installing process like
Android and iOS applications. Benefited from the WeChat social
platform,manyAndroidandiOSapplicationsalsoproposetheircor-
responding WeChatMini-Program versions, e.g., Amazon, Airbnb
and KFC. Nowadays, WeChat Mini-Programs have been widely
used in our daily life.
AWeChatMini-Program. Figure1showsasimplifiedWeChat
Mini-Program.Figure1ashowsthecodewhileFigure1bandFig-
ure1cshowthedisplaypageoftheprogram.Thisprogramcontains
threefiles, index.wxml ,index.wxss ,and index.js .File index.wxml
builds the view of the page. File index.wxss manages the style of
the componentsin page. File index.js decides theprogram logic
written in JavaScript. From Figure 1a, we can see that the function
changeName is bound on the button ‚ÄúClick me!‚Äù (Line 2-3), and
property name(Line1)isboundwiththe nameindoublecurlybrace
(Line10)in index.wxml .WhenthebuttoninFigure1bisclicked,
the display turns to that in Figure 1c.
WeChatMini-Programframework. Figure2showstheWeChat
Mini-Program framework, which mainly contains a render layer
andalogiclayer.Therenderlayer,e.g., index.wxml andindex.wxss
inFigure1a,runsonthe WebViewthread,andthelogiclayer,e.g.,
index.js inFigure1a,runsonJSCorethreadtoexecuteJavaScript
code. Note that, similar to Android applications [ 2,100], Mini-
Programs and their pages have complicated lifecycle management,
e.g., application launch, page load, and page show.
Thelogiclayerandrenderlayercommunicatewitheachother
through an asynchronous and event-driven mechanism. When
usersclickthebutton‚ÄúClickme!‚ÄùonthepageinFigure1b,itwill
triggerthebindingfunction changeName (Line2)inthe index.wxml .Table 1: WeChat Mini-Program Execution Environments
Platform Logic Layer View Layer
iOS/Mac JavaScriptCore [49] WKWebView [58]
Android V8 [54] Tencent XWeb [53]
Development tool NW.js [9] Chromium Webview [5]
Windows Chrome kernel [7] Chrome kernel
TheWebView thread sends the event changeName through WeChat
Mini-Programplatform.TheJSCorethreadthenexecutesthecor-
responding event handler (Line 14). When data changes occurin the logic layer, the data is passed from the logic layer to the
WeChat Mini-Program platform via the setData method, and then
forwarded to the render layer. When the render layer notices name
has been changed, it then changes the page‚Äôs display. The WeChat
Mini-Program framework provides various functions, e.g., usermanagement, file access, network access, location, camera, and
payment. In order to make Mini-Programs respond smoothly, most
of these APIs work in an asynchronous and event-driven manner.
Runtime platforms. WeChat Mini-Programs can run on dif-
ferent platforms. Mobile and desktop operating systems, including
Android, iOS, Windows, and macOS are supported by the WeChat
Mini-Program framework. These platforms have different imple-
mentations of the Mini-Program framework. Table 1 illustrates the
differentexecutionenvironmentsforlogiclayerandrenderlayer
on different platforms.
Although the WeChat Mini-Program framework intends to pro-
videacross-platformdevelopmentandruntimeenvironment,the
underlying runtime platforms can cause intricate differences to
the execution of Mini-Programs. For example, JavaScriptCore [ 49]
for iOS9 and iOS10 is not fully compatible with the ECMAScript 6
standard[ 6],andTencentXWeb[ 58]rewritessomecomponents
in Chrome kernel [ 7], e.g., video. Therefore, Mini-Programs can
behave differently when incompatible features are used.
3 STUDY METHODOLOGY
Inthissection,wefirstpresenthowtocollectandanalyzeWeBugs,
and then explain the threats to our empirical study.
3.1 Collecting WeBugs
We select WeBugs from three sources, i.e., open source GitHub
Mini-Programs, official WeChat Mini-Program developer forum
[56]andonlinerunningMini-ProgramsmaintainedbyaWeChat
development Company X. These sources can provide various di-mensions for WeBugs. Finally, we obtain 83 WeBugs from these
sources. In the following, we explain how we collect WeBugs from
them.
OpensourceMini-Programs. ManyopensourceWeChatMini-
Programs can be found in GitHub. To collect WeBugs from GitHub,
wefirstcollectGitHubrepositoriesrelatedtoMini-Programs.We
use three keywords, ‚ÄúMini-Program‚Äù, ‚Äúweapp‚Äù , ‚Äúwxapp‚Äù to search
GitHub repositories. We also include all open source reposito-
ries listed by the awesome-wechat-weapp project [45] in our study.
Projectawesome-wechat-weapp recordsmostpopularWeChatMini-
programsanddevelopmentmaterialsonGitHub,withover35.8k
365
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
Table 2: Study Subjects from Github Mini-Programs.
Project Category Stars Issues Bugs
ColorUI [23] Style 10.4k 296 3
iview-weapp [26] Component 6k 389 3
wechat-app-mall [20] Shopping 14.4k 189 9wxParse [14] Text parser 7.6k 327 12
winxin-watch-life[21] Blog 2k 46 2wx-calendar [22] Calendar 1.9k 293 7wechat-app-demo [12] DevTool 1.7k 18 4WeHalo [30] Blog 1.1k 31 1
pinche-xcx [17] Traveling 620 20 1scuplus-wechat [27] Daily life 554 509 4Weapp-trending [29] News 259 6 1threejs-example [33] Graph 106 22 1CardOnePerson [38] Notebook 27 3 1
Total 49
stars. Through this step, we obtain 13,365 repositories. We remove
invalid repositories that do not have the entry file app.jsfor
WeChat Mini-Programs, and further remove repositories with less
than one issue, since they cannot contain valid information for
our study. After that, we obtain 255 distinct WeChat Mini-Program
repositories, and they contain more than 4,000 issues. We notice
thatmostissuesareabouthowtouseorimproveMini-Programs.
We ignore this kind of issues in our study and select WeBugs with
theseissuesthroughthefollowingsteps.(1)Wereadthedescription
of each issue report and select the issue if it has a clear description
and available fix. (2) For issue reports having clear descriptions
withoutfixes,wetrytofindoutafixsolution.Ifwecanfindafix
solution,wealsoincludetheminthestudy.Finally,weobtain49
WeBugs from 13 open source GitHub Mini-Programs, as shown in
Table 2.These WeChat Mini-Programs cover awide spectrumof
categories,e.g.,stylelibrariesanddailyservices.Wecanalsosee
that most of these WeChat Mini-Programs are popular, becausetheyobtainmanystargazersinGitHub,andcontainhundredsof
issues.
QAs in the official WeChat Mini-Program developer fo-
rum.WeChat Mini-Program developer forum [ 56] is a technical
exchange community maintained by the official WeChat platform.
AnyquestionsrelatedtoMini-Programscanbepostedintheforum.
On average, hundreds of questions are posted every day. Some
ofthesequestionscanreflectWeBugsencounteredbyindividual
developers.
ToextractWeBugsfromthedeveloperforum,wegothroughthe
QuestionsandAnswers(QAs)postedfrom2021.1.1to2021.3.4,and
obtain more than10,000 QAs. We find thatmany QAs are notre-
latedtoWeBugs,e.g.,developersaskhowtousenewfeaturesinthe
WeChatMini-Program. We excludethese QAs fromconsideration.
We consider a QA as a WeBug if it satisfies the following condi-
tions.(1)TheQAdescribesanissuewhendevelopersimplement
theirWeChatMini-Programs.(2)TheQAcontainscodesnippets
or clearly describes the code related to the QA. Thus, we can re-produce the issues by ourselves. (3) The QA was solved, and the
relatedWeBugwasfixed.Weobtain16WeBugsafterthescreening.Online running Mini-Programs. During the collaboration
with a WeChat development Company X, we have the opportunity
to collect WeBugs from online running Mini-Programs. Online
runningMini-ProgramsaresimilartoAndroidandiOSapplications
publishedonthemarket,respectively.Fortheissuesprovidedby
Company X, we compare their original and fixed versions, and
analyze their error stack information. If we can fully understand a
WeBug,wetakeitintoconsideration.Finally,weobtain18WeBugs
from 16 online running Mini-Programs.
3.2 Analyzing WeBugs
Wethoroughlystudiedthese83WeChatMini-Programbugsand
triedtoanswertheresearchquestionsweraisedbefore.Allcollected
WeBugsweremanuallyanalyzedbythreeauthorsinthispaper.We
performed an in-depth analysis on the 83 WeBugs by investigating
their source code, discussions, fix patterns, etc.
Tobuildthetaxonomies,weadoptopencardsortingapproach.
Toreducebias,WeBugsaregroupedandlabeledbythreeauthors
independently. Next, we discuss their results to reach a consensus.
We sort WeBugs using the following approaches.
‚Ä¢Root cause. We try to answer the question ‚Äúwhat caused
thisbugatthecodelevel‚Äù.(1)Basedonthestacktraceand
messagesinissuereport,welocatethebuggycodeandfigureout what caused the bug. Take the message
result is not
defined as an example, we find the locations where the
resultis used, where the resultis passed from, and why it is
not defined. (2) If the issue report does not include the stack
trace, we manually reproduce this bug to obtain it. (3) If we
cannot reproduce the bug, we compare the buggy code and
corresponding fix patch.
‚Ä¢Fix strategy. The fix patch is obtained from associated pull
request. If there does not exist associated pull request, we
searchandanalyzecommitlogoftheprojecttoobtainthe
fix code. Finally, we manually extract the common patterns
by abstracting the patches.
‚Ä¢Bugimpact. ThequalitativeimpactofmostWeBugscanbe
inferredbytheissuereportsstraightforwardly.Ifdevelopers
do not provide enough information, we reproduce the bugs
to check their results.
Inourstudyprocess,wealsoreferredtosomestudieswhichclas-
sifiedthesoftwarebugs[ 60,94,95,110]fortheinitialclassifications
of root causes. With further analysis, we gradually refined these
root causes, e.g., removed the unmatched and added new ones.
Duringourstudy,wealsoreproducedsomeWeBugsifrelated
information are available.
3.3 Threats to Validity
Internalvalidity. Ourempiricalstudy‚Äôsdesignandplanningfol-
low the structure suggested by Wohlin [ 64]. We carefully study
eachWeBug‚Äôssourcecode,discussionandfixpatchtohaveadeeper
understanding.Whenanycategorieschangeduringthestudy,all
WeBugs need to be re-analyzed again. All the collected WeBugs
and analysis results have been discussed and confirmed by at least
threeauthorsofthispaper.Forbugsthatwedonotagreeon,we
turntodevelopersandCompanyXforhelp.Ifabugcannotbefully
understoodby us, wedo not takeit intoconsideration. Thus, we
366
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
believe that all studied WeBugs are true positives and have been
thoroughly studied.
External validity. We may miss some known WeBugs in the
selection process, and the selected WeBugs may not cover all kinds
ofWeBugs.However,ourdatasethascoveredtheinvestigatedspace
of the WeChat Mini-Programs and has good representativeness.
FromFigure2,wecanobservethatbugscanoccurinsomesitua-
tions, i.e., the adaptation of different operating systems, original
WeChat functionalities, regular JavaScript code and asynchronous
mechanism.Wehavestudiedmorethan4000issuesand10000QAs,
covering most of the popular open source projects. Our dataset
does cover these bugs.
4 WEBUG STUDY RESULTS
Inthissection,wepresentthedetailedresultsofourempiricalstudy
on83WeBugsfromthreeaspects,i.e.,rootcause,bugfixandbug
impact.
4.1 Root Cause
As shown in Table 3, we identify six types of root causes.
Differencesin executionenvironments. Mini-Programsare
designed to be cross-platform, and it has an internal mechanism to
handleplatformdifferenceswheninterpretingthecodeofrender
layer and logic layer. However, 18 (21.7%) WeBugs are caused by
thediscrepanciesamongplatform executionenvironments.These
bugs are related to platform-dependent API usage, inconsistentrendering among different devices, and different versions of the
Mini-Program framework.
Platform-dependent APIs. Some APIs in the Mini-Program frame-
workareOS-specific,e.g.,theydonotsupportallOSorhavedif-
ferentbehaviorsondifferentOS.Compatibilitybugsoccurwhen
invoking the same API results in inconsistent behavior on differ-
entdevicemodels.Forexample, ùë§ùë•.ùëúùëõùëÜ‚Ñéùëéùëüùëíùëáùëñùëöùëíùëôùëñùëõùëí onlyworks
in Android. ùê∑ùëéùë°ùëíreturns different values between Android and
iOS. The issue wechat-app-mall#237 [ 52] reports that users cannot
accessapageoniOSdevices.ThisWeBugiscausedbytheinconsis-tent time format between Android and iOS. Developers invoke API
ùê∑ùëéùë°ùëítoobtainthesystemtime.ThereturntimeonAndroidissplit
with‚Äú-‚Äù(e.g.,2021-1-1),while‚Äú/‚Äù(e.g.,2021/1/1)oniOS.Developers
donotnormalizethevalueintothesameformat,andintroducethis
bug. Nine WeBugs are related to platform-dependent APIs.
Notethat,Androidapplicationsalsosufferfromcompatibilityis-
sues caused by platform-dependent APIs [ 106]. Howeve r, platform-
dependentAPIsinWeChatMini-Programshavedifferentcharacter-
istics from those in Android. Platform-dependent APIs in WeChat
Mini-Programs are not only related to hardware but also related to
softwareplatforms.Wehavesummarized13platform-dependent
APIs in Table 4, in which six APIs are related to hardware, e.g.,
bluetooth,NFC,andvideo.FourAPIshavecertainrestrictionson
different platforms, e.g., different parameters, different return val-
uesanddifferentdataformat.Forexample,thetypeofreturnvalue
of APIwx.onCompassChange on iOS device is Numberwhile on
Androiddeviceis String.IftheseAPIsarehandledproperly,similar
compatibility bugs can be avoided.
Safe Area
(a) Normal screen             
Safe Area
(b) Anomalous screen   top notch
bottom barcamera
Figure 3: Safe areas of normal screen and anomalous screen.
Finding 1: Some APIs in the Mini-Program framework are
platform-dependent.If developersdo nothandle theseAPIsprop-
erly, compatibility bugs can occur.
Inconsistent rendering among different devices. Although the lay-
outofMini-Programsisself-adaptive,therearealsothreeabnormal
rendering bugs. These bugs arise in specific devices due to their
anomalousscreens.Forsomedevices,e.g.,Figure3a,alltheirscreencan be used to render applications. However, for some devices, e.g.,
Figure 3b, parts of their screen are occupied by some components,
e.g, camera. Thus, rendering applications on the restricted areas
cancauseabnormaldisplays.TheissuecolorUI#50[ 40]reportsthat
the height of the side drawer is incorrect on iPhoneX, in whichthere is a bottom bar on the screen and the bottom bar occupies
certain position. Developers should adapt the layout settings based
onsafeArea of the screen in different devices.
Note that, previous rendering issue studies in Android [ 81,106]
observethatrenderingissuesaremainlycausedbydifferentscreensizes. WeChat Mini-Programs have been able to adjust the UI adap-
tively according to screen sizes. Our study finds that WeChat Mini-
Programs should pay more attention to safeAreain mobile phones.
Finding2: AlthoughthelayoutofMini-Programsisself-adaptive
in rendering, developers still need to adjust them to fit the safe
areas on some devices with anomalous screens.
InconsistentbehaviorsduetodifferentversionsoftheMini-Program
framework. TherehavebeentwomajorreleasesoftheMini-Program
framework,andtheAPIsarechangingacrossdifferentversions.For
example, when the Mini-Program framework was updated from
1.0 to 2.0, the property shapeis no longer supported for i-button
[18]. It is difficult for developers to notice the changes in the Mini-
Program framework and to modify their programs accordingly.
Additionally,some featuresare notcorrectly supportedby certain
framework versions, e.g., some settings in component textarea
[47] and API wx.previewMedia [44] cannot work properly. Six
WeBugs belong to this case.
367
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
Table 3: Root Causes of 83 WeChat Mini-Program Bugs
Root cause WeBugs Ratio
Differences in execution
environmentsAPIs have restricted usages on specific OS, e.g., Android and iOS. 910.8%
Inconsistent rendering among different devices. 33.6%
Inconsistent behaviors due to different versions of Mini-Program framework. 67.2%
Subtotal 1821.7%
API misuseUsing inappropriate APIs. 44.8%
Using inappropriate API parameters. 22.4%
Using improper style priority settings. 44.8%
Subtotal 1012.0%
Syntax errorsSpelling mistakes in JavaScript code. 4 4.8
Forgetting to define necessary variables and functions. 1113.3%
Subtotal 1518.1%
No verification of data validity Forgetting to check the validity of return data from external requests. 1619.3%
Asynchronous errors Concurrency errors caused by asynchronous mechanism and lifecycle events. 33.6%
Logic errors Incorrect or incomplete implementation logic. 2125.3%
Total 83100%
Finding3: DifferentversionsoftheMini-Programframeworkcan
introduce discrepancies, and thus cause WeBugs.
API misuse. Developers may misunderstand the APIs / compo-
nents of the Mini-Program framework, and introduce errors due
to incorrect usage. 10 (12%) WeBugs are caused by API misuse, in-
cluding inappropriate API selection, inappropriate API parameters
and incorrect settings of style priority.
Inappropriate API selection. Developers may have wrong under-
standing of the API functionality provided by the Mini-Programframework. Thus, using inappropriate APIs cannot satisfy devel-opers‚Äô expectations, and introduces bugs. Four WeBugs belongto this case. WeBug CardOnePerson#2 [
36] is such an example.
In a textarea, developers expect that the page automatically up-
dates after the user modifies the page content. However, they bind
acontentChange function by using bindblur , which is triggered
whenthefocusofthepagechanges.Thus,whenusersclick confirm
updatedirectly after their modifications, the focus of the textarea
does not change, and the page does not update accordingly. In this
case, developers should use bindinput instead of bindblur.
Inappropriate API parameters. Developers may have wrong as-
sumptions,anduseinappropriateparametersfortheAPIsprovided
by the Mini-Program framework. Two WeBugs belong to this case.
Forexample,inWeBugwechat-app-mall#203[ 39],thedeveloper
invokesthepaymentAPIbyexecuting wxapi.payBill ({A, B}) ,
andonlypassoneparameter({A,B}).However,thepaymentAPI
wxapi.payBill requires two parameters (A, B)and should be
used as wxapi.payBill (A, B) . The developer combines the two
parameters into a single object, and thus makes the payment fail.
Incorrectsettingofstylepriority. Developersmaynothaveafully
understanding of style priority. Figure 4 explains style priority
withasimplifiedexample.Figure4ashowsthestylesettingcode,
andFigure4bshowsthedisplay.Wecanseethattheglobalstyle
setting in index.wxss of button.background-color is blue while
the button color is set green in index.wxml . However, the final
color of the button is green, because inner settings have higher
prioritythanglobalsettings.Improperstyleprioritysettingscan
Click me!// index.wxml
<button
style= "background-color: green">
Click me!
</button> 
// index.wxss
button{
background-color: blue;
width: 80%;
margin-top: 50%;
}
(a) (b)
Figure 4: A simplified example of style priority setting.
introduce unexpected rendering bugs, especially when third-party
style libraries are used. Four WeBugs belong to this case.
Finding4: Developersmaynothaveafullyunderstandingofstyle
priority and introduce some non-functional issues like unexpected
rendering performance.
Syntaxerrors. TheMini-ProgramframeworkadoptsJavaScript
as its programming language. Due to the dynamic feature of Java-
Script,Mini-Programscanstillrunwhenencounteringsyntaxer-
rors. We observe that syntax errors are common in Mini-Programs,
and 15 (18.1%) WeBugs belong to syntax errors. Syntax errors in
Mini-Programs fall into two categories, i.e., spelling mistake (4/15),
and forgetting to define variables and functions (11/15).
Finding 5: Syntax errors are common (18.1%) inMini-Programs.
Noverificationofdatavalidity. Duringtheprocessingofdata,
especially dealing with return data from requests, developers often
assume that the data structure meets their expectations. They may
directlyaccesspropertiesorfunctionsonthereturndata.However,
thereturndatacanbe undefined ornullduetovariousreasons,
368
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
// index.js
1.getList: function() {
2.var that = this;
3.util.req (url, page, function(data) {
4.Àáif(data.list) { 
5. var list = data.list
6. list.foreach (function(item)) {
7. var li = {...}
8. }
9.Àá}
// util.js
10.function req (url, data, cb) {
11.wx.request({
12. url: rootDocment + url,
13. success: function(res) {
14. return typeof cb== 'function' && cb(res.data)
15.},
16.fail: function() {
17. return typeof cb== 'function' && cb(false)
18. }
19.‚Ä¶Àáif(data.lis t) {
Àá}false.list.foreach
Figure5:WeBugpinche#20[ 50].InthisWeBug,thedeveloper
assumesthatallreturndatafromreq()havetheproperty ùëôùëñùë†ùë°.
e.g., network failures and server crashes. Thus, they need to verify
thevalidityofthedatabeforeuse.Otherwise,aTypeError[ 72]due
toaccesspropertyof undefined /nullobjectwilloccur.Intotal,
16 (19.3%) WeBugs are caused by no verification of data validity.
Take pinche#20 [ 50] in Figure 5 as an example. When a user
clicks‚Äúmine‚Äùatthebottomoftheindexpage,thefunction getList
(Line1)istriggered,andanerrormessage‚ÄúTypeError:Cannotread
property‚Äòforeach‚Äôofundefined‚Äùappears.Function getListcalls
the function req(Line 3) to send a request. If the request fails, it
triggersthe failcallbackfunction(Line17),andreturnsaboolean
data false. Since function getList does not check whether it is a
validvalue(e.g.,Line4),andoperationsonabooleandata false
can cause a TypeError.
Finding6: Developersoftenassumethatreturndatafromrequests
haveexpectedproperties,andforgettoverifytheirvalidity,causing
WeBugs.
Asynchronous errors. As discussed in Section 2, the Mini-
Program framework provides many asynchronous APIs, and Mini-
Programs have complicated lifecycle management, which is event-
driven. The asynchronous and event-driven mechanism introduces
the risk that the data are processed and accessed in an unexpected
order, thus causing asynchronous errors. Three WeBugs belong to
this case.
Figure6showsanasynchronouserrorcausedbylifecycleevents
in Mini-Programs [ 48]. Figure 6a and Figure 6b shows the applica-
tion and page code, respectively. Figure 6c shows the process how
thisbughappens.WhentheMini-Programstarts,theapplication-
level lifecycle events ( app.js) are first triggered, e.g., onLaunch
andonShow.Thenthepage-levellifecycleevents( index.js )ar e
triggered. The global variable userinfo inapp.jsisnullby de-
fault. The onLaunch() function in app.jsasynchronously sends a
request to get user information, which is executed in parallel with
thecodein onLoadofindex.js .IfonLoadofindex.js isexecuted// app.js
App({
globalData: {
userInfo :null
},
onLaunch() {
wx.getUserInfo({
success: res=> {
this.globalData. userInfo
=res.userInfo
}
‚Ä¶// index.js
const app = getApp()
Page({
data: {
userInfo : {},
},
onLoad() {
this.setData({
userInfo : app.globalData
.userInfo,
}) 
onLaunch onShow onLoad onShow ‚Ä¶Application Page
wx.getUserInfo
this.globalData. userInfo
=res.userInfothis.globalData. userInfo:null(a) (b)
(c)
Figure 6: WeBug forumQAs [ 48]. During the initialization
of the Mini-Program, the unexpected data processing orders
result in the user information being set to null.
before the request returns in app.js,userInfo inindex.js will
be set as null. This is unexpected.
Finding 7: Asynchronous mechanism and lifecycle management
in Mini-Programs can introduce intricate concurrency errors.
Logic errors. The logic implemented by developers may be
incomplete or incorrect, resulting in some functions or displays
that do not satisfy the requirements. 21 (25.3%) WeBugs fall intologic errors. For these WeBugs, most of them (19/21) are caused
byincompletelogic.Forexample,inwxParse#365[ 37],theparser
cannot parse strings longer than 255 characters. In wechat-app-
mall#255 [41], the balances less than 0.1 cannot be rounded.
4.2 Fix Strategy
We find that the fixes of WeBugs are highly related to their root
causes.Wesummarizefourcommonfixpatternsfor44.6%ofthe
studied WeBugs. The rest WeBugs are fixed case by case.
Layout adaptation to anomalous screens. Three WeBugs
relatedtoinconsistentrenderingonspecificdevicescanbefixedbyageneralapproach.DeveloperscanuseAPI
wx.getSystemInfo to
getthe safeArea ofauser‚Äôsdevice.Withthe safeArea ,theycan
setupthelayoutasnormal.However,developersmayfixthesebugscasebycase.Forexample,developersset34pxatthescreenbottom
if they identify the device type is iPhoneX in WeBug colorUI#50
[40].
Fixing syntax errors. Four WeBugs, caused by spelling mis-
takes,canbedirectlyfixedwithafewgrammarcheckers,e.g.,JSLint
[1], and ESLint [ 4]. The rest 11 WeBugs caused by forgetting to
definevariablesandfunctionscanbedetectedbythesegrammar
checkers. Base on detecting results, developers can easily fix these
bugs.
369
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
Adding undefined / null check before use. All 16 WeBugs
caused by no verification of data validity are fixed by adding the
undefined / null check andexception handling before use. The fix
codeinFigure5isatypicalexample,inwhichthedeveloperchecks
the validity of data.list before use.
Synchronization. Incorrect timing of asynchronous APIs and
lifecycle events can lead to wrong shared data accessing orders.
Tofixasynchronouserrors,developerscanintroducead-hocsyn-
chronizationforshared data.Forexample,in Figure6,developers
needtocheckwhether getUserInfo hasreturnedand userInfo
has been set in onLoadofindex.js . Three WeBugs caused by
asynchronous mechanism are fixed under this approach.
Case-by-casefixes. Theremainingbugshavediversecharacter-
isticsandrequirespecificfixes.Forbugscausedbyusingdeprecated
APIs,theyhavetobereplacedbythenewversions.Therearesome
APIchangesdetectionwork[ 91,93]forotherlibrariesandframe-
works,whichcanbeappliedtoWeChatMini-Programs.TheAPI
misuse bugs have to be fixed according to the context and API
specification.The fixesof bugscaused bylogic errordepends on
the logic itself.
Finding 8: 44.6% WeBugs have common fixing patterns, such as
consideringdevicemodelbeforeusingsomeplatform-dependent
APIs and adding checks before using request data.
4.3 Bug Impact
In our study, we first try to reproduce our studied WeBugs, and
observetheirimpacts.IfwecannotreproduceaWeBug,weinfer
its impact from itsissue report and related discussion. Finally, we
clearlyobtaintheimpactsof65WeBugs.Forthese65WeBugs,their
impacts are described as follows.
Application crash. Mini-Program bugs hardly cause severe
consequences.Inourstudy,weonlyobserveonebugthatcancrash
its application.
Abnormaldisplay. 30WeBugsleadtoabnormaldisplay,e.g.,
the unexpected style of the view components in Figure 4, some
inconsistentrenderingamongspecificdevices[ 40],anderrorsin
style settings [19].
Functionalerror. In26WeBugs,theapplicationsdonotmeet
theirrequirements.Theapplicationsprovidetheincorrectorflawed
functions.WealsofindthatfourWeBugsaresporadic.Iftheuser
re-enters or refreshes the page, these bugs may disappear. These
bugs are usually caused by missing exception handling of network
failures and incorrect asynchronous operations.
Silent error. Eight WeBugs neither affect the display of related
pages nor causefunctional errors. They only report relatederrors
in the console.
Finding9: WeBugscancausevariousconsequences,e.g.,appli-
cationscrashes,abnormaldisplays,functionalerrorsandsalient
errors.
5 LESSONS LEARNED
WeBugscanleadtoabnormaldisplay,functionalerrorsandeven
application crashes (Finding 9). Thus, resolving WeBugs is of great
significance for the reliability of WeChat Mini-Programs. In thissection,wediscussimplicationstoexistingpracticeandopportu-
nities for research in avoiding, detecting and testing WeBugs in
WeChat Mini-Programs.
5.1 Avoiding WeBugs
Syntax errors are common (18.1%) in practice (Finding 5). Develop-ers can apply some tools to reduce the occurrence of syntax errors.
For example, developers can use syntax checkers in the develop-ment process, e.g., ESLint [
4] and JSLint [ 1], thus avoiding some
syntax errors.
AlthoughMini-Programsaredesignedtorunonmultipleplat-
forms,many(14.2%)WeBugsarestillcausedbythediscrepancies
among different platforms (Finding 1, 2). During our study, wealso observe that the official document does not clearly state re-
latedAPIs‚Äô restrictions.Toavoidthese WeBugs, theserestrictions
shouldbewelldocumentedintheofficialdocument.Inthesame
while,astaticcheckertool,whichcanautomaticallyidentifyrelated
APIs in Mini-Programs and check whether their restrictions are
satisfied, could be greatly helpful. From another point, the Mini-
Programframeworkcanshieldsomediscrepanciesamongdifferent
platforms,e.g.,inconsistenttimeformatresultsfrom Date.Thus,
related WeBugs can be avoided.
5.2 Detecting WeBugs
Existing JavaScript bug detection approaches, e.g., TAJS [ 78], XSS-
SAFE[101]andSYNODE[ 102],mainlyfocusondetectingserver-
side and client-side JavaScript bugs. Our empirical study has re-
portedmany Mini-Programspecific bugs,e.g., compatibilitybugs
due to incorrect platform-dependent API usages (Finding 1) and
inconsistentrenderingacrossspecificdevices(Finding2),asynchro-nouserrorsduetoMini-Programlifecycleandasynchronousmech-
anism (Finding 7) and abnormal rendering results due to improper
styleprioritysettings(Finding4).Existingapproachescannotworkon these WeBugs properly. Our findings can be used to design new
WeBug detection tools.
Compatibilitybugdetection. Many(14.2%)WeBugsarecaused
by the discrepancies among different platforms (Finding 1, 2). This
is mainly caused by incompatibility APIs provided by the Mini-Platform framework. By summarizing incompatible APIs in the
Mini-Program framework, we can develop a static analysis tool to
automatically identify these WeBugs.
Return data guided bug detection. Developers often assume
that they can obtain expected data from external requests or asyn-
chronoustasks,andignorecheckingthedatavalidity(Finding6).
However,thereturndatamaybewrongduetovariousreasons,e.g.,
network failures and asynchronous task failures. Thus, essential
judgments on the return data are required, e.g., whether the return
data can be used without triggering any errors.
Non-deterministicbugdetection. TheMini-Programframe-
workprovidesmanyasynchronousAPIs,andMini-Programsadopt
event-drivenlifecyclemanagement.Theasynchronousandevent-
drivenmechanismintroducesWeBugs(Finding7).Differentfrom
non-deterministicbugsinclient-sideJavaScriptapplicationsandserver-side JavaScript applications, the lifecycle management in
370
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table 4: Four Kinds of Platform-Dependent APIs
Android only iOS only Inconsistency on Android and iOS Any OS
wx.makeBluetoothPair,
wx.qy.startNFCReader,wx.qy.NFCReader,canvas.toDataURL,wx.onShareTimelineBLEPeripheralServer.onCharateristicSubscribed,VideoContext.showStatusBar,BLEPeripheralServer.onCharasteristicUnsubscribed,wx.setBackgroundColor
-a arg.backgroundColorTop-a arg.backgroundColorBottomwx.onCompassChange
- r type: Number (iOS)- r type: String (Android),
wx.connectWifi
- v WeChat version >11 (iOS)- v no limit (Android),
Date
- af split with - (iOS)- af split with / (Android)console.dir *
* console.dir makes some devices crash [32] and it should not be used in Mini-Programs.
-aThe arguments of the function | -rThe return data of the function | -vThe version of the WeChat | -afThe data format of the
argument.d
Mini-Programs makes non-deterministic bug detection more chal-
lenging. To automatically detect non-deterministic bugs in Mini-
Programs,we needto buildaclear modelaboutthe lifecycleman-agement and asynchronous APIs in Mini-Programs.
5.3 Testing Mini-Programs
Testingiscriticalinexposingbugsbeforesoftwarerelease.Many
testingtechniqueshave been proposedforexposingAndroid and
JavaScript applications [ 61,70,77,79,108?], but no technique is
designed for WeChat Mini-Programs.
WeChatMini-Programsusuallyhavecomplicatedinterfacesand
lifecyclemanagement.ItiscriticaltodesignatooltoautomaticallyexposeuserinteractionswithMini-Programs,thusexaminingtheir
functionality.Further,Mini-Programsusuallydependonvarious
asynchronoustasksandexternalenvironments,andmayencountermanyadversarialconditions,e.g.,networkfailures.Improperlyhan-
dling these conditions can cause WeBugs (Finding 6). Researchers
and developers can intentionally inject adversarial conditions, and
validatewhetherMini-Programscanbehavecorrectly[ 59,73,89]
under adversarial conditions.
6 DETECTING WEBUGS
Inthissection,wesummarizethreebugpatternsfromourempir-
ical study on WeBugs, and further propose a static analysis tool
WeDetector to detect WeBugs.
6.1 Bug Patterns
Our empirical study on WeBugs has revealed several potential pat-
ternstodetectWeBugs.Amongthem,wesummarizethreecommon
bugpatterns,i.e.,incorrectinvocationsplatform-dependentAPIs,
incomplete layout adaptation to anomalous screens, and improper
handling of return data in invoking asynchronous APIs.
Pattern 1: Incorrect invocations of platform-dependent
APIs.SomeAPIsintheMini-ProgramframeworkareOS-specific
(Finding 1).Invoking theseplatform-dependent APIs withoutcon-
sidering different OS can introduce WeBugs. Therefore, develop-ers should determine target operating system before using these
APIs. We summarize four kinds of platform-dependent APIs inTable 4, which are collected from our empirical study and offi-
cial Mini-Program development document [
8]. The items begin-
ning with - show some additional considerations. For example,
‚Äúarg.backgroundColorTop‚Äù in column ‚ÄúiOS only‚Äù means that the
argumentcanonlybeusedoniOSdeviceswheninvokingfunction
wx.setBackgroundColor . The column ‚ÄúInconsistency on Android
andiOS‚ÄùincludessomeAPIsthatbehavedifferentlyondifferent
systems. For example, the Dateformat on Android is split with ‚Äú/‚Äù
while that on iOS is split with ‚Äú-‚Äù.
Pattern 2: Incomplete layout adaptation to anomalous
screens. As discussed in Section 4.2, developers can use the API
wx.getSystemInfo to get the safeArea of the phone model and
avoidlayoutissues.IfaMini-Programdoesnotapplythistoanoma-
lous screens, WeBugs related to abnormal rendering can occur.
Pattern3:Improperhandlingofreturndataininvoking
asynchronous APIs. In the WeChat Mini-Program framework,
mostAPIsareusedinanasynchronousway.The successandfail
callbacks are defined to handle the return data for successful orfailed invocations. However, the type or data structure for the
returndatamayvary.Ifdevelopersareunawareoftheirdifferences,
WeBugs can occur. Figure 5 shows such an example.
6.2 Detection Approach
Detectionofpattern1. ForWeBugscausedbyincorrectinvoca-
tionsofplatform-dependentAPIs,weneedtoexaminetheusageof
specific APIs that are listed in Table 4. In order to identify whether
developers consider the system information, WeDetector checks
the usage of wx.getSystemInfo that can obtain the target operat-
ing system information. If developers use the APIs on the list in
Table 4 butdo not considerthe corresponding OSrestrictions, we
report a compatibility WeBug.
Detection of pattern 2. We examine whether developers have
setupthelayoutbasedon safeArea orwindowHeight andwindow-
Widththrough wx.getSystemInfo API. The windowHeight and
windowWidth can also obtain the available area of the devices.
Therefore, WeDetector checks whether a Mini-Program uses these
properties. If not, we report an abnormal rendering WeBug.
Detection of pattern 3. To detect WeBugs in bug pattern 3, we
check whether the return data from an asynchronous function (e.g,
wx.request) is legally used, i.e., there are no type errors.
371
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
Themainideaisasfollows.First,weuseEsprima[ 24]toparseall
JavaScriptfilesintoabstractsyntaxtrees(AST),andthenidentify
all asynchronous function (e.g, wx.request ) invocations in a Mini-
Program.Second,foreachasynchronousfunctioninvocation,we
useAST toidentifyitstwo callbacks, sucCallback forits success
return, and failCallback for its fail return. Third, for callback
sucCallback andfailCallback ,weextracttheirreturndatafrom
the asynchronous function, and further analyze their usage based
onTAJS[ 78].Fourth,forthereturndatausages,wecheckwhether
they can trigger TypeErrors. If yes, we report a WeBug.
Take WeBug in Figure 5 as an example. We first parse index.js
andutil.js into abstract syntax trees. By traversing ASTs, we
obtain all function definitions (e.g., getList) and function calls
(e.g., util.req ). We then examine all function definitions. If we
get an function invocation (e.g., util.req ), we continue to ana-
lyze this invoked function. If a function (e.g., util.req ) invokes
wx.request , wefurther obtainits two callbacks,e.g., successcall-
back(Line13-15)andfailedcallback(Line16-18).Further,wecan
obtainthatthereturndata res.data ispassedintosuccesscallback
(Line14)andaconstant falseispassedintofailedcallback(Line
17).
Inordertodeterminewhetherthereturndataisusedlegally,we
adopt TAJS [ 78]1to carry out a data flow analysis on the return
data data(Line3inFigure5).TheresultofTAJSisanintermediate
representation, e.g., vardecl[‚Äòlist‚Äô], read-variable [‚Äòdata‚Äô, v0, v1],
read-property [v0, ‚Äòlist‚Äô, v2], write-variable [v2, ‚Äòlist‚Äô] for Line 5.
Basedontheseintermediaterepresentations,wecanbuildtheusagescenariosofthereturndata
data.Wefindthat data.list.foreach
is the usage sequence on data(Line 5-6). If the failed callback is
triggered,thereturndatawillbe false(Line17),andtheexecution
offalse.list.foreach willthrow anerror message‚ÄúTypeError:
Cannotreadproperty‚Äòforeach‚Äôofundefined‚Äù.Itisbecausethatthefirstaccessreturnsa
undefined object( false.list ->undefined )
andthesecondaccesson undefined triggersaTypeError.Notethat,
ifdevelopershasalreadyusedif-conditiontoguardrelatedaccesses,
we do not report a WeBug. For example, in the fixed version in
Figure5),‚Äúif(data.list)‚ÄùinLine4isusedtoguardLine5-6.Sowe
do not report bugs for the fixed version.
6.3 Evaluation
Inthissection,weevaluatetheeffectivenessofWeDetectorusing
GitHub open source projects, and answer the following research
question: CanWeDetectordetectnewWeBugsinreal-world
Mini-Programs?
Experimental subjects. Our experimental subjects contain
25WeChatMini-Programs:13Mini-Programsarecollectedfrom
the latest versions of the Mini-Programs in Table 2, and 12 Mini-
Programs arecollected from awesome-wechat-weapp [45] bytheir
popularity (ordered by GitHub stars) in different categories. The
first 12 rows show these 12 Mini-Programs.
Results. WerunWeDetectoronthese25Mini-Programs,andde-
tect12WeBugs,andconfirmthat11ofthemaretrue.Table5shows
thedetaileddetectionresults.Notethat,forthelatestversionsof
13 Mini-Programsin our empiricalstudy (Table 2),we only detect
1TAJS does not support new features provided by ECMAScript6. Therefore we use
babel [46] to convert Mini-Projects into ECMAScript5.Table 5: Detection Results on 25 Mini-Programs.
Project CategoryDetection Results Total
(Conf.) P1 P2 P3 FP
wxchat-mail [35] Email 0100 1 (1)
HITMers [25] Attendance 0100 1 (1)
super9 [42] Video 0100 1 (1)
leantodo-weapp [16] Notebook 0100 1 (1)
taro-music [28] Music 0100 1 (1)
weapp-ssha [34] News 2000 2 (2)
weapp-mark [11] Social 0101 0 (0)
nideshop [31] Shopping 2000 2 (0)
Gitter [10] Git 0100 1 (0)
ShellBox [51] Campus 0000 0 (0)
douban [13] Map 0000 0 (0)
weapp-artand [55] Art 0000 0 (0)
pinche [17] * Travelling 0010 1 (0)
Total 4711 11 (7)
*For13Mini-ProgramsinTable2,wedetectonenewbuginpinche
[17].
onenewWeBugsinpinche[ 17].ForMini-Programsthatwehave
notdetectednewWeBugsinTable2,wedonotlisttheminTable5.
We further reported all the 11 true WeBugs to their correspond-
ingdevelopers,andattachedpatchestohelpdevelopersfixthese
WeBugs. For now, 7 of them have been confirmed by developers.
The last column ‚ÄúTotal (Conf.)‚Äù in Table 5 shows that details about
reported and confirmed bugs.
Thecolumn‚ÄúDetectionResults‚ÄùinTable5showsdifferentpat-
terns of bugs found in these 25 Mini-Programs. We can observe
that we can detect new WeBugs for all the three patterns. For bug
pattern1,twoMini-Programsuseplatform-dependentAPIswith-
outcompatibilityadaptation,andWeDetectorreportsfourWeBugs.Forbugpattern2,among25Mini-Programs,6ofthemdonotadaptthelayoutofviewsacrossdifferentdeviceswithanomalousscreens.Forbugpattern3,WeDetectordetectsoneWeBuginprojectpinche
[17]. In this WeBug, when a wx.request fails, the program tries
to invoke function on an undefined variable, which can cause a
TypeError.
Falsepositive. Forthedetected12WeBugs,wereportonefalse
positive, which belongs to bug pattern 2. In this false positive, the
developer processes the adaptation to anomalous screens by using
anuncommonapproach,i.e.,stylesettingforallpossibledevices.
Thus, the Mini-Program does not handle anomalous screens using
thecommonapproachdiscussedinbugpattern2.Thisresultsin
the false positive.
Based on the above experiment and results, we draw the follow-
ing conclusion: WeDetector can effectively detect WeBugs in real-
world WeChat Mini-Programs.
6.4 Discussion
Comparisonwithexistingbugdetectionapproaches. Existing
linter tools [ 1,4,72] can be used to detect incorrect code based
onspecificrules.However,theycannotanalyzethebugpatterns
inSection6.1.Forthe11trueWeBugsthatWeDetectordetected,
noneofthemcanbedetectedbytheselintertools.SomeAPIusagedetectionapproaches[
92,98,106]candetectAPIusage,e.g.,crypto-
graphic API usage, APIs that perform additional actions. However,
372
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
these tools mainly focus on specific domain, e.g., trusted APIs in
JavaScript. Without API specifications for WeBugs, these tools can-
not be used to detect WeBugs. The most similar work is WeJalangi
[83]. WeJalangi aims to detect NullPointException. It cannot be
directly used to detect bug patterns in Section 6.1. In addition to
this, WeJalangi is a dynamic analysis tool, and its effectiveness
heavilydependsontheprovidedtestcases.Itischallengingtocon-
struct test cases that trigger these WeBugs. However, WeDetector
isastaticanalysistool,whichdirectlyanalyzesthecodewithout
running WeChat Mini-Programs.
Automated platform-dependent API extraction. In this pa-
per, we manually investigate our collected WeBugs and extract
platform-dependentAPIsforbugdetection.Thisisalabor-intensiveprocess. It would be interesting to automatically extract these APIs
and their API context from highly popular Mini-Programs. As dis-
cussed earlier, the most common pattern of fixing these WeBugs is
tocheckdeviceinformationbeforeinvokingcertainAPIs.There-
fore, it is possible for us to mine the usage rules of these APIs. We
will explore this in the future work.
7 RELATED WORK
In this section, we discuss related works that are close to our work.
WeChatMini-Programstudies. TheWeChatMini-Program
framework is proposed in 2016, and has been widely used in prac-
tice.However,onlyfewresearchworkshavebeendoneforWeChatMini-Programs.Haoetal.[
76]analyzethedevelopmentofWeChat
Mini-Program and regard it as the next generation of mobile Inter-
netplatform.SomeworksinvestigateMini-Programsfromusage
[63], acceptance [ 85]. Liu et al. [ 83] modify Jalangi [ 99] and use
it for dynamic analysis on WeChat Mini-Programs. In our work,
we conduct the first empirical study on WeChat Mini-Program
bugs,andobtainabetterunderstandingofthesebugs.Basedonour
findings, we also propose a static analysis tool, WeDetector, and
detectmorebugsintheMini-Programs.Ourstudyshouldbeableto
promote new research in improving the quality of Mini-Programs.
Empiricalbugstudies. Empiricalstudieshaveplayedanim-
portant role in understanding a field, especially for the aspect ofsoftware reliability. These studies can often help to characterizeproblems and provide guidance for following research. Lu et al.[
84] conduct the first empirical study on real world concurrency
bugs.Theirworkprovidespreciousinformationtohelpimprovesoftware reliability, such as concurrency bug detection [
66,107],
bug fixing [ 80], crash recovery [ 71], etc. Ocariza et al. [ 94] conduct
an empirical study on the client-side JavaScript bugs and find that
bugs are usually DOM-related. This promotes some research onDOM [
97,104]. Wang et al. [ 103] conduct an empirical study on
concurrencybugsinNode.jsapplications.Thisstudyrevealsthat
most concurrency bugs in Node.js applications contend againstshared memory and external resource. These findings enlightensubsequent works in Node.js bug detection as well. However, no
empirical studies are performed on Mini-Program bugs.
Platformfragmentationstudies. Differentvendors produce
a variety of Android phones and make the Android ecosystem suf-
fer from fragmentation problems [ 3]. Han et at. [ 75] carry out a
topicanalysisofvendor-specificbugstounderstandtheAndroid
fragmentation. Theyreveal that hardware-based fragmentation inAndroid is evident. Wei et at. [ 106] first characterize and detect
compatibility issues induced by Android fragmentation (FIC is-
sues). They observe that device-specific FIC issues are caused byproblematicdriverimplementation,OScustomization,and pecu-
liarhardwarecompositionandthenon-device-specificFICissues
are caused by API evolution and original Android system bugs.
The high-frequency fragmentation bugs on Android devices are
hardware-related, and they do not have much in-depth analysis forsomenon-functionalrequirements(suchasinconsistentrendering).
Bug detection in JavaScript applications. The approaches
usedinbugdetectionaredecidedbythetargetsystemsandbugs.
Therearevariousmethodsforbugdetection,e.g.,staticanalysis,
dynamic analysis or combination of both. Guarnieri et al. [ 74]
conductoneofthefirstpointeranalysesforJavaScript.Theyfirst
managetomodelsomefeaturesonJavaScript.TAJS[ 78]isatype
analyzerforJavaScriptapplications.Ourworkutilizesthedataflow
analysis provided by TAJS. There are a group of work to detect
concurrencyissuesinNode.jsapplications,e.g,NodeAV[ 61],NRace
[62], NodeRacer [ 69], Node.fz [ 65], and Madsen et al. [ 87]. There
arealsosomeclient-sideJavaScriptanalysiswork,e.g.,RClassify
[109],AutoFLox[ 96],andSymJS[ 82].However,theseworkscannot
detect some kinds of WeBugs in Mini-Programs, e.g., compatibility
issues.
8 CONCLUSION
Millions of WeChat Mini-Programs are running on the WeChatsocial platform, and more than 400 million WeChat users are us-ing Mini-Programs every day. However, WeChat Mini-Programsstill suffer from various quality issues related to execution envi-
ronment, lifecycle management, asynchronous mechanism, etc. A
comprehensiveunderstandingoftheseissuesisrequiredtoimprove
WeChat Mini-Programs.
Inthispaper,weproposethefirstempiricalstudyonthebugsin
Mini-Programs.Wecollect83bugsfromreal-worldMini-Programs,
and perform an in-depth empirical study on Mini-Program bugsfrom root causes, fix strategies and impacts. We further propose
WeDetectortodetectWeBugsofthreebugpatterns.Theevaluation
onreal-worldMini-ProgramsindicatesthatWeDetectoriseffective.
We hope our study can inspire more researchers and practitioners
to combat Mini-Program bugs.
ACKNOWLEDGEMENTS
This work was partially supported by National Natural Science
Foundation of China (61732019, U20A6003, 62072444, 61802378),
FrontierScienceProjectofChineseAcademyofSciences(QYZDJ-
SSW-JSC036), and Youth Innovation Promotion Association at Chi-
nese Academy of Sciences (2018142).
REFERENCES
[1]2002.JSLint: The JavaScript Code Quality Tool. Retrieved Apr 5, 2021 from
http://www.jslint.com/
[2]2008.AndroidDocument:UnderstandtheActivityLifecycle. RetrievedApr43,
2021 from https://developer.android.com/guide/components/activities/activity-
lifecycle
[3]2012. An Analysis Of Android Fragmentation . Retrieved Aug
10, 2021 from http://www.tech-thoughts.net/2012/03/analysis-of-android-
fragmentation.html#.YRoA64gzZPY
[4]2013.ESLint: Find and fix problems in your JavaScript code. Retrieved Apr 5,
2021 from https://eslint.org/
373
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Tao Wang, et al.
[5]2014.GettingStarted:WebView-basedApplicationsforWebDevelopers. Retrieved
Apr 21, 2021 from https://developer.chrome.com/docs/multidevice/webview/
gettingstarted/
[6]2015.ECMAScript 2015 Language Specification. Retrieved Apr 5, 2021 from
https://262.ecma-international.org/6.0/
[7]2015.Kernel Design. Retrieved Apr 21, 2021 from https://www.chromium.org/
chromium-os/chromiumos-design-docs/chromium-os-kernel
[8]2015.Mini-Program development document. Retrieved Apr 10, 2021 from
https://developers.weixin.qq.com/miniprogram/en/dev/api/
[9] 2015. NW.js. Retrieved Apr 21, 2021 from https://nwjs.io/
[10]2016.Gitter. RetrievedApr23,2021fromhttps://github.com/kokohuang/Gitter
[11]2016.weapp-mark. Retrieved Apr 23, 2021 from https://github.com/Honye/
weapp-mark
[12]2016.wechat-app-demo. RetrievedApr23,2021fromhttps://github.com/xwartz/
wechat-app-demo
[13]2016.wechat-webapp-douban-location. Retrieved Apr 23, 2021 from https:
//github.com/bruintong/wechat-webapp-douban-location
[14]2016.wxParse. Retrieved Apr 23, 2021 from https://github.com/icindy/wxParse
[15]2017.The framework of WeChat Mini-Programs. Retrieved Apr 18, 2021
fromhttps://developers.weixin.qq.com/miniprogram/en/dev/framework/MINA.
html
[16]2017.leantodo-weapp. Retrieved Apr 23, 2021 from https://github.com/
leancloud/leantodo-weapp
[17]2017.pinche-xcx. Retrieved Apr 23, 2021 from https://github.com/vincenth520/
pinche_xcx
[18]2017.Shape of i-button our of wrok. Retrieved Apr 23, 2021 from https://github.
com/TalkingData/iview-weapp/issues/398
[19]2017.Syntax Errors lead to abnormal display. Retrieved Apr 23, 2021 from
https://github.com/EastWorld/wechat-app-mall/issues/126
[20]2017.Wechat-app-mall. Retrieved Apr 23, 2021 from https://github.com/
EastWorld/wechat-app-mall
[21]2017.winxin-watch-life. RetrievedApr23,2021fromhttps://github.com/iamxjb/
winxin-app-watch-life.net
[22]2017.wx-calendar. RetrievedApr23,2021fromhttps://github.com/treadpit/
wx_calendar
[23]2018.ColorUI. RetrievedApr23,2021fromhttps://github.com/weilanwl/ColorUI
[24]2018.Esprima. Retrieved Apr 23, 2021 from https://www.npmjs.com/package/
esprima
[25]2018.HITMers. Retrieved Apr 23, 2021 from https://github.com/upupming/
HITMers
[26]2018.iview-weapp. RetrievedApr23,2021fromhttps://github.com/TalkingData/
iview-weappI
[27]2018.scuplus-wechat. Retrieved Apr 23, 2021 from https://github.com/
mohuishou/scuplus-wechat
[28]2018.taro-music. Retrieved Apr 23, 2021 from https://github.com/lsqy/taro-
music
[29]2018.Weapp trending. Retrieved Apr 23, 2021 from https://github.com/jae-
jae/weapp-github-trending
[30]2018.WeHalo. Retrieved Apr 23, 2021 from https://github.com/aquanlerou/
WeHalo
[31]2019.nideshop-mini-program. Retrieved Apr 23, 2021 from https://github.com/
tumobi/nideshop-mini-program
[32]2019.Problems in using console.dir. Retrieved Apr 20, 2021 from https://github.
com/icindy/wxParse/issues/250
[33]2019.threejs-example. RetrievedApr23,2021fromhttps://github.com/yannliao/
threejs-example-for-miniprogram
[34]2019.weapp-ssha. RetrievedApr23,2021fromhttps://github.com/yaoshanliang/
weapp-ssha
[35]2019.wxchat-mail. Retrieved Apr 23, 2021 from https://github.com/wk989898/
wxchat-mail
[36]2020.A bug caused by API misunderstanding. Retrieved Apr 12, 2021 from
https://github.com/DoFind/CardOnePerson/issues/2
[37]2020.Can not handle too long attribute. Retrieved Apr 5, 2021 from https:
//github.com/icindy/wxParse/issues/356
[38]2020.CardOnePerson. Retrieved Apr 12, 2021 from https://github.com/DoFind/
CardOnePerson
[39]2020.Inappropriate parameters . Retrieved Jan 5, 2021 from https://github.com/
EastWorld/wechat-app-mall/issues/203
[40]2020.iPhoneXvirtual. RetrievedFeb20,2021fromhttps://github.com/weilanwl/
ColorUI/issues/50
[41]2020.Money is not rounded. Retrieved Apr 5, 2021 from https://github.com/
EastWorld/wechat-app-mall/issues/255
[42] 2020. super9. Retrieved Apr 23, 2021 from https://github.com/terryso/super9
[43]2020.WeChat revenue and usage statistics in 2020. Retrieved Apr 12, 2021 from
https://www.businessofapps.com/data/wechat-statistics/
[44]2021.APIwx.previewMediafails. RetrievedApr5,2021fromhttps://developers.
weixin.qq.com/community/develop/doc/000aec872908d80896cb6f0335b400[45]2021.awesome-wechat-weapp. Retrieved Feb 19, 2021 from https://github.com/
justjavac/awesome-wechat-weapp
[46]2021.Babel documents. Retrieved Apr 10, 2021 from https://babeljs.io/docs/en/
[47]2021.Component textarea fails. Retrieved Apr 5, 2021 from https://developers.
weixin.qq.com/community/develop/doc/00060e8c5340e0742acbeede951000
[48]2021.Error in render layers. Retrieved Apr 5, 2021 from https://developers.
weixin.qq.com/community/develop/doc/00046460eb4bf81380cbfb9ab56800
[49]2021.JavaScriptCoreTutorialforiOS . RetrievedApr21,2021fromhttps://www.
raywenderlich.com/1227-javascriptcore-tutorial-for-ios-getting-started
[50]2021.No verification of data validity. Retrieved Apr 21, 2021 from https:
//github.com/vincenth520/pinche_xcx/issues/20
[51]2021.ShellBox. Retrieved Apr 23, 2021 from https://github.com/Airmole/
ShellBox
[52]2021.System-specific API usage. Retrieved Feb 21, 2021 from https://github.
com/EastWorld/wechat-app-mall/issues/237
[53]2021.Tencent X5 Webview API. Retrieved Apr 21, 2021 from https://x5.tencent.
com/docs/tbsapi/reference/com/tencent/smtt/sdk/WebView.html
[54] 2021. V8. Retrieved Apr 21, 2021 from https://v8.dev/
[55]2021.weapp-artand. Retrieved Apr 23, 2021 from https://github.com/
SuperKieran/weapp-artand
[56]2021.WeChat developer forum. Retrieved Apr 17, 2021 from https://developers.
weixin.qq.com/community/develop/question
[57]2021.WeChat Mini-Program daily active users. Retrieved Apr 10, 2021 from
https://www.chinaz.com/news/1218295.shtml
[58]2021.WKWebView. RetrievedApr 21,2021 fromhttps://developer.apple.com/
documentation/webkit/wkwebview
[59]CyrilleArtho,ArminBiere,andShinichiHoniden.2006. Enforcer‚ÄìEfficient
Failure Injection.In Proceedings ofInternational Conferenceon FormalMethods
(FM). 412‚Äì427.
[60]Gemma Catolino, Fabio Palomba, Andy Zaidman, and Filomena Ferrucci. 2019.
NotAllBugsaretheSame:Understanding,Characterizing,andClassifyingBug
Types.Journal of Systems and Software 152 (2019), 165‚Äì181.
[61]XiaoningChang,WenshengDou,YuGao,JieWang,JunWei,andTaoHuang.
2019. Detecting Atomicity Violations for Event-Driven Node.js Applications. In
ProceedingsofInternationalConferenceonSoftwareEngineering(ICSE).631‚Äì642.
[62]Xiaoning Chang, Wensheng Dou, Jun Wei, Tao Huang, Jinhui Xie, Yuetang
Deng,JianboYang,andJiahengYang.2021. RaceDetectionforEvent-Driven
Node.jsApplications.In ProceedingsofInternationalConferenceonAutomated
Software Engineering (ASE). 480‚Äì491.
[63]Ao Cheng, Gang Ren, Taeho Hong, Kichan Nam, and Chulmo Koo. 2019. AnExploratory Analysis of Travel-Related WeChat Mini Program Usage: Affor-danceTheoryPerspective. In ProceedingsofInformationandCommunication
Technologies. 333‚Äì343.
[64]WohlinClaes,PerRuneson,MartinH√∂st,OhlssonBj√∂rnRegnell,andAnders
Wessl√©n. 2012. Experimentation in Software Engineering. Springer Science &
Business Media.
[65]JamesDavis,ArunThekumparampil,andDongyoonLee.2017. Node.fz:Fuzzing
the Server-Side Event-Driven Architecture. In Proceedings of European Confer-
ence on Computer Systems (EuroSys). 145‚Äì160.
[66]Dongdong Deng, Wei Zhang, and Shan Lu. 2013. Efficient Concurrency Bug
Detection across Inputs. Acm Sigplan Notices 48, 10 (2013), 785‚Äì802.
[67]ErikDerr,SvenBugiel,SaschaFahl,YaseminAcar,andMichaelBackes.2017.
KeepMeUpdated:AnEmpiricalStudyofThird-PartyLibraryUpdatabilityon
Android. In Proceedings of ACM SIGSAC Conference on Computer and Communi-
cations Security (CCS). 2187‚Äì2200.
[68]William Enck, Damien Octeau, Patrick McDaniel, and Swarat Chaudhuri. 2011.
A Study of Android Application Security. In Proceedings of USENIX Conference
on Security (Security). 1‚Äì21.
[69]Andr√©TakeshiEndoandAndersM√∏ller.2020. NodeRacer:EventRaceDetection
for Node.js Applications. In Proceedings of International Conference on Software
Testing, Validation and Verification (ICST). IEEE, 120‚Äì130.
[70]Aurore Fass, Robert P Krawczyk, Michael Backes, and Ben Stock. 2018. Jast:
FullySyntacticDetectionofMalicious(Obfuscated)JavaScript.In Proceedingsof
InternationalConferenceonDetectionofIntrusionsandMalware,andVulnerability
Assessment. 303‚Äì325.
[71]YuGao,WenshengDou,FengQin,ChushuGao,DongWang,JunWei,Ruirui
Huang, Li Zhou, and Yongming Wu. 2018. An Empirical Study on Crash Re-
coveryBugsinLarge-ScaleDistributedSystems.In ProceedingsofACMJoint
Meeting on European Software Engineering Conference and Symposium on the
Foundationsof Software Engineering (ESEC/FSE). 539‚Äì550.
[72]Liang Gong, Michael Pradel, Manu Sridharan, and Koushik Sen. 2015. DLint:Dynamically Checking Bad Coding Practices in JavaScript. In Proceedings of
InternationalSymposium on Software Testing and Analysis (ISSTA) . 94‚Äì105.
[73]Francisco Gortaz√°r, Micael Gallego, Boni Garc√≠a, Giuseppe Antonio Carella,
Michael Pauls, and Ilie-Daniel Gheorghe-Pop. 2017. Elastest ‚Äî An Open SourceProjectforTestingDistributedApplicationswithFailureInjection.In Proceedings
of IEEE Conference on Network Function Virtualization and Software Defined
Networks (NFV-SDN). 1‚Äì2.
374
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. Characterizingand Detecting Bugs in WeChat Mini-Programs ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
[74]Salvatore Guarnieri and Benjamin Livshits. 2009. Gatekeeper: Mostly Static En-
forcementofSecurityandReliabilityPoliciesforJavaScriptCode.In Proceedings
of Conference on USENIX Security Symposium (Security). 151‚Äì168.
[75]Dan Han, Chenlei Zhang, Xiaochao Fan, Abram Hindle, Kenny Wong, and
EleniStroulia.2012. UnderstandingAndroidFragmentationwithTopicAnal-
ysisofVendor-SpecificBugs.In ProceedingsofWorkingConferenceonReverse
Engineering (WCRE). 83‚Äì92.
[76]Lei Hao, Fucheng Wan, Ning Ma, and Yicheng Wang. 2018. Analysis of the
Development of WeChat Mini Program. 1087, 6 (2018), 062040.
[77]Huaxun Huang, Lili Wei, Yepang Liu, and Shing-Chi Cheung. 2018. Under-
standing and Detecting Callback Compatibility Issues for Android Applications.
InProceedings of IEEE/ACM International Conference on Automated Software
Engineering (ASE). 532‚Äì542.
[78]Simon Holm Jensen, Anders M√∏ller, and Peter Thiemann. 2009. Type Analysis
forJavaScript.In ProceedingsofInternationalSymposiumonStaticAnalysis(SAS).
238‚Äì255.
[79]Hao Jiang, Hongli Yang, Shengchao Qin, Zhendong Su, Jian Zhang, and Jun
Yan. 2017. Detecting Energy Bugs in Android Apps using Static Analysis. In
ProceedingsofInternationalConferenceonFormalEngineeringMethods.192‚Äì208.
[80]Guoliang Jin, Wei Zhang, Dongdong Deng, Ben Liblit, and Shan Lu. 2012. Auto-matedConcurrency-BugFixing.In ProceedingsofUSENIXConferenceonOperat-
ing Systems Design and Implementation(OSDI) . 221‚Äì236.
[81]HammadKhalid,MeiyappanNagappan,EmadShihab,andAhmedE.Hassan.
2014. PrioritizingtheDevicestoTestYourAppon:ACaseStudyofAndroid
Game Apps. In Proceedings of ACM SIGSOFT International Symposium on Foun-
dations of Software Engineering (FSE). 610‚Äì620.
[82]GuodongLi, EsbenAndreasen,and IndradeepGhosh.2014. SymJS:Automatic
SymbolicTestingofJavaScriptWebApplications.In ProceedingsofACMSIGSOFT
InternationalSymposiumonFoundationsofSoftwareEngineering(FSE) .449‚Äì459.
[83]Yi Liu, Jinhui Xie, Jianbo Yang, Shiyu Guo, Yuetang Deng, Shuqing Li, Yechang
Wu,andYepangLiu.2020. IndustryPracticeofJavaScriptDynamicAnalysisonWeChatMini-Programs.In ProceedingsofInternationalConferenceonAutomated
Software Engineering (ASE). 1189‚Äì1193.
[84]ShanLu,SoyeonPark,EunsooSeo,andYuanyuanZhou.2008. Learningfrom
Mistakes: A Comprehensive Study on Real World Concurrency Bug Charac-
teristics. In Proceedings of International Conference on Architectural Support for
Programming Languages and Operating Systems (ASPLOS). 329‚Äì339.
[85]Lijun Ma, Lan Wang, and Entao Jiang. 2018. Empirical Study on the WeChat
Mini Program Acceptance based on UTA UT Model Take the Pearl River Delta
as An Example. In Proceedings of International Conference on Service Systems
and Service Management (ICSSSM). 1‚Äì6.
[86]Xiaojuan Ma. 2019. App Store Killer? The Storm of WeChat Mini Programs
Swept over the Mobile App Ecosystem. Masters of Media 15 (2019).
[87]Magnus Madsen, Frank Tip, and Ond≈ôej Lhot√°k. 2015. Static Analysis of Event-
Driven Node.Js JavaScript Applications. In Proceedings of ACM SIGPLAN Inter-
nationalConferenceonObject-OrientedProgramming,Systems,Languages,and
Applications (OOPSLA). 505‚Äì519.
[88]Mehran Mahmoudi and Sarah Nadi. 2018. The Android Update Problem: An
EmpiricalStudy. In Proceedingsof InternationalConferenceon MiningSoftware
Repositories (MSR). 220‚Äì230.
[89]Paul D. Marinescu and George Candea. 2011. Efficient Testing of Recovery
CodeUsingFaultInjection. ACMTransactionsonComputerSystem(TOCS) 29,4
(2011), 1‚Äì38.
[90]Tyler McDonnell, Baishakhi Ray, and Miryung Kim. 2013. An Empirical Study
of API Stability and Adoption in the Android Ecosystem. In Proceedings of IEEE
InternationalConference on Software Maintenance (ICSM) . 70‚Äì79.
[91]Gianluca Mezzetti, Anders M√∏ller, and Martin Toldam Torp. 2018. Type Regres-
sion Testing to Detect Breaking Changes in Node.js Libraries. In Proceedings of
European Conference on Object-Oriented Programming (ECOOP). 1‚Äì24.
[92]Duncan Mitchell and Johannes Kinder. 2019. A Formal Model for Checking
Cryptographic API Usage in JavaScript. In Proceedings of European Symposium
on Research in Computer Security. 341‚Äì360.[93]AndersM√∏llerandMartinToldamTorp.2019. Model-BasedTestingofBreaking
Changes in Node.js Libraries. In Proceedings of ACM Joint Meeting on European
Software Engineering Conference and Symposium on the Foundations of Software
Engineering (ESEC/FSE). 409‚Äì419.
[94]FrolinOcariza,KartikBajaj,KarthikPattabiraman,andAliMesbah.2013. An
Empirical Study of Client-Side JavaScript Bugs. In Proceedings of ACM/IEEE
InternationalSymposiumonEmpiricalSoftwareEngineeringandMeasurement
(ESEM). 55‚Äì64.
[95]Frolin S Ocariza, Kartik Bajaj, Karthik Pattabiraman, and Ali Mesbah. 2016.
A Study of Causes and Consequences of Client-Side JavaScript Bugs. IEEE
Transactions on Software Engineering (TSE) 43, 2 (2016), 128‚Äì144.
[96]Frolin S. Ocariza Jr., Karthik Pattabiraman, and Ali Mesbah. 2012. AutoFLox:
AnAutomaticFaultLocalizerforClient-SideJavaScript.In Proceedingsofthe
International Conference on Software Testing, Verification and Validation (ICST).
31‚Äì40.
[97]Jinkun Pan and Xiaoguang Mao. 2017. Detecting DOM-Sourced Cross-Site
ScriptinginBrowserExtensions.In ProceedingsofIEEEInternationalConference
on Software Maintenance and Evolution (ICSME). 24‚Äì34.
[98]Shaown Sarker, Jordan Jueckstock, and Alexandros Kapravelos. 2020. Hiding in
PlainSite:DetectingJavaScriptObfuscationthroughConcealedBrowserAPI
Usage. In Proceedings of ACM Internet Measurement Conference (IMC). 648‚Äì661.
[99]Koushik Sen, Swaroop Kalasapur, Tasneem Brutch, and Simon Gibbs. 2013.
Jalangi: A Selective Record-Replay and Dynamic Analysis Framework forJavaScript. In Proceedings of ACM Joint Meeting on European Software Engi-
neeringConferenceandSymposiumontheFoundationsofSoftwareEngineering
(ESEC/FSE). 488‚Äì498.
[100]YuruShao,RuowenWang,XunChen,AhemdM.Azab,andZ.MorleyMao.2019.
ALightweightFrameworkforFine-GrainedLifecycleControlofAndroidAppli-
cations.In ProceedingsofEuropeanConferenceonComputerSystems(EuroSys).
14‚Äì31.
[101]Gupta Shashank and Brij Bhooshan Gupta. 2016. XSS-SAFE: A Server-Side
ApproachtoDetectandMitigateCross-SiteScripting(XSS)AttacksinJavaScript
Code.ArabianJournalforScienceandEngineering(ARAB) 41,3(2016),897‚Äì920.
[102]Cristian-AlexandruStaicu,MichaelPradel,andBenjaminLivshits.2018. Synode:
UnderstandingandAutomaticallyPreventingInjectionAttacksonNode.js.In
Proceedings of Network and Distributed System Security Symposium (NDSS).
[103]JieWang,WenshengDou,YuGao,ChushuGao,FengQin,KangYin,andJun
Wei.2017. AComprehensiveStudyonRealWorldConcurrencyBugsinNode.js.
InProceedingsofInternationalConferenceonAutomatedSoftwareEngineering
(ASE). 520‚Äì531.
[104]Ran Wang, Guangquan Xu, Xianjiao Zeng, Xiaohong Li, and Zhiyong Feng.
2018. TT-XSS:ANovelTaintTrackingbasedDynamicDetectionFrameworkfor
DOM Cross-Site Scripting. J. Parallel and Distrib. Comput. 118 (2018), 100‚Äì106.
[105]XijieWang,MinyongShi,andChunfangLi.2019. ImplementationofElemen-
tary Chinese Language Learning Application in WeChat Mini Programs. In
Proceedings of IEEE International Conference on Big Data Analytics. 394‚Äì398.
[106]LiliWei,YepangLiu,andShing-ChiCheung.2016. TamingAndroidFragmen-
tation: Characterizing and Detecting Compatibility Issues for Android Apps.
InProceedingsofInternationalConferenceonAutomatedSoftwareEngineering
(ASE). 226‚Äì237.
[107]Zhendong Wu, Kai Lu, Xiaoping Wang, and Xu Zhou. 2015. Collaborative
Technique for Concurrency Bug Detection. International Journal of Parallel
Programming 43, 2 (2015), 260‚Äì285.
[108]Zhemin Yang and Min Yang. 2012. LeakMiner: Detect Information Leakage on
AndroidwithStaticTaintAnalysis.In ProceedingsofWorldCongressonSoftware
Engineering (WCSE). 101‚Äì104.
[109]LuZhangandChaoWang.2017. RClassify:ClassifyingRaceConditionsinWeb
ApplicationsviaDeterministicReplay.In ProceedingsofInternationalConference
on Software Engineering (ICSE). 278‚Äì288.
[110]RuZhang,WencongXiao,HongyuZhang,YuLiu,HaoxiangLin,andMaoYang.
2020. AnEmpiricalStudyonProgramFailuresofDeepLearningJobs.In Pro-
ceedings of International Conference on Software Engineering (ICSE). 1159‚Äì1170.
375
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 07:54:11 UTC from IEEE Xplore.  Restrictions apply. 