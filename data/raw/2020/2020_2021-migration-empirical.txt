A Large-Scale Empirical Study onJava LibraryMigrations:
Prevalence,Trends, and Rationales
Hao He
Departmentof Computer ScienceandTechnology, Peking
University, and Key Laboratory of HighConfidence
SoftwareTechnologies, Ministry of Education
Beijing, China
heh@pku.edu.cnRunzhiHe
Departmentof Computer ScienceandTechnology, Peking
University, and Key Laboratory of HighConfidence
SoftwareTechnologies, Ministry of Education
Beijing, China
rzhe@pku.edu.cn
HaiqiaoGuâˆ—
Departmentof Physics, TsinghuaUniversity
Beijing, China
ghq17@mails.tsinghua.edu.cnMinghuiZhou2
Departmentof Computer ScienceandTechnology, Peking
University, and Key Laboratory of HighConfidence
SoftwareTechnologies, Ministry of Education
Beijing, China
zhmh@pku.edu.cn
ABSTRACT
With the rise of open-source software and package hosting plat-
forms,reusing3rd-partylibrarieshasbecomeacommonpractice.
Due to various failures during software evolution, a project may
removeausedlibraryandreplaceitwithanotherlibrary,whichwe
calllibrary migration .Despite substantial researchon dependency
management, the understanding of how and why library migra-
tions occur is still lacking. Achieving this understanding may help
practitioners optimize their library selection criteria, develop auto-
matedapproachestomonitordependencies,andprovidemigration
suggestions for their libraries or software projects. In this paper,
throughafine-grainedcommit-levelanalysisof19,652JavaGitHub
projects, we extract the largest migration dataset to-date (1,194 mi-
grationrules,3,163migrationcommits).Weshowthat8,065(41.04%)
projects having at least one library removal, 1,564 (7.96%, lower-
bound) to 5,004 (25.46%, upper-bound) projects have at least one
migration, and a median project with migrationshas 2 to 4 migra-
tionsintotal.Wediscoverthatlibrarymigrationsaredominatedby
severaldomains(logging,JSON,testingandwebservice)presenting
alongtaildistribution.Also,migrationsarehighlyunidirectional
inthatlibrariesareeithermostlyabandonedormostlychosenin
our project corpus. A thematic analysis on related commit mes-
sages, issues, and pull requests identifies14 frequently mentioned
migration reasons (e.g., lack of maintenance, usability, integration,
etc),7ofwhicharenotdiscussedinpreviouswork.Ourfindings
can be operationalized into actionable insights for package hosting
platforms, project maintainers, and library developers. We provide
areplication package at https://doi.org/10.5281/zenodo.4816752 .
âˆ—Works doneat Peking University
2Corresponding Author
Permissionto make digitalor hard copies of part orall ofthis work for personalor
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthefirstpage.Copyrightsforthird-partycomponentsofthisworkmustbehonored.
Forallotheruses,contactthe owner/author(s).
ESEC/FSE â€™21, August 23Å›28,2021, Athens,Greece
Â©2021 Copyright heldby the owner/author(s).
ACM ISBN 978-1-4503-8562-6/21/08.
https://doi.org/10.1145/3468264.3468571CCS CONCEPTS
Â·Softwareanditsengineering â†’Softwarelibrariesandrepos-
itories;Maintainingsoftware ;Software evolution .
KEYWORDS
librarymigration,miningsoftwarerepositories,evolutionandmain-
tenance,empirical software engineering
ACMReference Format:
HaoHe,RunzhiHe,HaiqiaoGu,andMinghuiZhou.2021.ALarge-ScaleEm-
piricalStudyonJavaLibraryMigrations:Prevalence,Trends,andRationales.
InProceedings of the 29th ACM Joint European Software Engineering Confer-
ence and Symposium on the Foundations of Software Engineering (ESEC/FSE
â€™21),August23Å›28,2021,Athens,Greece. ACM,NewYork,NY,USA, 13pages.
https://doi.org/10.1145/3468264.3468571
1 INTRODUCTION
Reusingexisting3rd-partylibraries1withready-to-usefeatureshas
long been a common practice in software development, which can
increasesoftware quality anddevelopmentproductivity [ 49].Still,
itis notuntilthe riseofopen-source softwareandthe availability
of central hosting platforms (e.g. Maven [ 50], NPM [52], PyPI [29],
etc)intherecentdecadethatsoftwarereusebecomessoeasyfor
both library users and library developers. The number of newly
publishedJARsonMavenCentralhasgrownfrom86,161in2010
to 364,218 in 2015 and 1,435,600 in 2020 [ 50]. As a result, 3rd-party
librariesarewidelyadoptedinbothopen-sourceandproprietary
softwareprojects,andanon-trivialsoftwareprojectoftenreuses
dozensoreven hundredsof existing libraries [ 76,80].
Meanwhile, the adoption of 3rd-party libraries brings unique
challenges in the entire software life-cycle [ 20]. First, given the
wide spectrum of available libraries, even the task of choosing the
right library for a specific purpose becomes non-trivial in which
1Developersusedifferenttermsinterchangeably,suchaslibraries,packages,dependen-
cies, components, frameworks, etc, to refer to a piece of reusable software (e.g. a JAR
file[54])availablefordownloadinacentralhostingplatform(e.g.MavenCentral[ 50]).
For consistency, weuse theterm Å‚libraryÅ¾ to referto thereusable softwareitself, and
the termÅ‚dependencyÅ¾to emphasizethat it is used by anothersoftwareproject.
478ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
complex socio-technical factors need to be considered [ 55,78]. Sec-
ond,increasingconcernsarebeingraisedabouttheriskofusing
outdated libraries as they may contain security vulnerabilities and
unresolvedissues[ 1,24,56,86],challengingtheconventionalstrat-
egyofÅ‚ifitainâ€™tbroke,donâ€™tfixit.Å¾Consequently,researchersstudy
thecharacteristics,reasons,anddriversoflibraryupdates[ 7,43,84]
andpractitionersproposeindustrysolutions(e.g.Synk[ 45],White-
Source [64], and GitHub Advisories [ 32]) that aim to keep libraries
up-to-date and vulnerability-free. However, failures or misalign-
ment witha libraryinevitablyhappens and may not be resolvable
by updating its version. In such cases, the library has to be com-
pletelyremovedandreplacedbyanotherlibrary,whicharecalled
librarymigration inthe literature [ 35Å›37,69,71].
Whilealargebodyofexistingresearchesareconductedtocharac-
terizeandunderstandlibraryadoption[ 22,39,44,47,55,78,81,83],
andlibraryupdates[ 7,15,19,23,27,42,43,48,65,84,86],researches
on library migrations [ 2,5,6,37,69,71] are still fragmented and
incomplete. More specifically, we lack understanding on: 1) how
a large number of projects migratetheir dependencies as awhole,
and 2) what factors drive such migrations. As the ultimate con-
sequenceoflibraryadoptionfailures,suchunderstandingwillbe
avaluablesourceofinformationfordevelopers,decisionmakers,
and stakeholders. It may help them optimize their library selection
criteria,developautomatedapproachestomonitordependencies,
andprovidemigrationsuggestionsfortheirlibrariesorsoftware
projects. To bridge this knowledge gap, we seek to conduct a de-
scriptivemixedmethodsstudyonlarge-scaleopen-sourcedatato
holistically understand how and why library migrations happen.
More specifically,we ask the following researchquestions:
â€¢RQ1:Howcommon are library migrations?
â€¢RQ2:Howdomigrationshappen between libraries?
â€¢RQ3:What are the frequently mentioned reasons when de-
velopers conduct alibrary migration?
Wefaceseveralchallengeswhenansweringtheseresearchques-
tions.Firstofall,theparallelanddistributednatureof git-based
developmentpresentsuniquepeculiarities[ 9]inanattempttore-
construct accurate library change histories for a specific project.
Second, it is difficult to precisely define Å‚library migrationÅ¾ and
identify librarymigrationsin commithistory, while existingstud-
ies[69,71]sufferfrommethodologicallimitations(detailsinSec-
tion2). To address these challenges, we propose an event-based
dependencychangemodel,formulatelibrarymigrationbasedon
dependencychangesandself-admittedcommitmessages,retrieve
migrationsusing a state-of-the-art mining algorithm [ 36], and an-
alyze migration frequency using upper-bound and lower-bound
estimations.Byapplyingourmethodon19,652Javaprojectsand
4,022 libraries, we extract 2,629,992 dependency changes and 3,163
migration commits (the largest dataset compared with previous
works in Table 1). We conduct exploratory data analysis for RQ1-2,
and apply thematic analysis [ 11,21] to migration-related commits,
issues,andpull requests to answer RQ3. The key findingsare:
(1)Both library removals and migrations are prevalent in the
19,652 Java projects, in which 8,065 have at least one library
removal and 1,564 (lower-bound) to 5,004 (upper-bound)
have at least one library migration. They are more likely
tohappenamongprojectswithlargernumberofcommitsanddependencies.Amedianprojectwithlibraryremovals
hasoneremovalper139commitsandamedianprojectwith
migrationshas 2to 4migrationsintotal.
(2)Librarymigrationsfromfourdomains(logging,testing,JSON,
and web service) dominate the dataset, presenting a long
taildistribution.And,migrationsarehighlyunidirectional
in that libraries within the same domain are either mostly
abandonedormostly adoptedinthe studiedprojects.
(3)Projectsconductlibrarymigrationsfor14differentlibrary-
sideandproject-specificreasons.Weidentify7 reasonsnot
discussed in previous works. The most frequent reasons
includelackofmaintenance,feature,usability,integration
withprojectcontext,andsimplification of dependencies.
Based on our findings, we summarize actionable insights for
package hosting platforms, project maintainers, and library devel-
opers,includinghowtoformulateandpublicizebestpractices,how
to select and integrate libraries, what to do with unmaintained
libraries,andwhattoprioritizeforlibrarydevelopment.Wealso
identify aspects where currenttoolingsupport does notsuffice and
suggestfuture researchdirections.
We provide a full replication package at Zenodo.2The scripts
anddocumentationcanalsobeaccessedinthisGitHubrepository.3
2 BACKGROUNDAND RELATED WORK
Migrationisacommonphenomenonduringsoftwaremaintenance,
which may refer to different development activities that stem from
variousmotivations.Commoncasesofmigrationinclude:migrat-
ingfromoneversiontoanotherversion[ 43],oneAPItoanother
API[4],oneprogramminglanguagetoanotherprogramminglan-
guage[85],oneplatformtoanotherplatform[ 79],oronelibrary
to another library [ 36,37,69,71]. In this paper, we use the term
library migration to refer to the process of replacing one library
withanother4functionally similar or equivalent library. Given a
librarymigrationfromlibrary ğ‘™1tolibrary ğ‘™2,wereferto ğ‘™1asthe
source library ,ğ‘™2as thetarget library , andâŸ¨ğ‘™1,ğ‘™2âŸ©as amigra-
tion rule inthe subsequent paper.
Threesteps aretypicallyrequired foralibrarymigration:justi-
fyingthenecessityofamigration,findingthebesttargetlibrary,
and modifying the code to use the new library. For open-source
projects, the first two steps are often facilitated through public
discussions in issue trackers, where the benefits and costs are eval-
uated by developers [ 37]. Such discussions may not result in a
migrationifnoconsensusisreachedortheperceivedbenefitsdo
not outweigh the costs [ 37]. The cost mainly comes from the third
step, which is known to be tedious, error-prone, and sometimes
difficult [4,13]. There are efforts that aim to improve development
efficiencyforthethird step,byusingAPIwrappers[ 5,6],mining
API mappings [ 3,4,13,70], or directly editing code to use the new
API[17,82].Studiesalsoshowthatlibrarymigrationsmayimprove
code quality[ 2], but performance israrelyimproved[ 37].
Inthispaper,wefocusonunderstandingthefirsttwostepsof
librarymigration,followingexistingstudies[ 37,69,71](Table1).
2https://doi.org/10.5281/zenodo.4816752
3https://github.com/hehao98/LibraryMigration
4Moreprecisely,by anotherwemeanthe names(i.e.,groupId:artifactId inJava)
of the twolibrariesaredifferent.
479A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
Table 1:Summary ofRelated Workon Library Migration
Paper SubjectofStudy ReportedPrevalence ReportedReasons
Teytonetal.[ 69] 80 migrationrules N.A. convenience,outdated,incompatibilities
Teytonetal.[ 71]329 migration rules, 1,198 migrations,
26 commit messages5.57% of 15,168 projects feature, performance, configuration, bug, envi-
ronment
Kabinnaetal.[ 37]49 logging library migration attempts
(33 successful)33 of 223 ASF projects
(14.80%)feature, performance, flexibility, reduce future
maintenance,reduce dependencies
Teyton et al. [ 69] propose the concept of migration graph and a
methodtominemigrationgraphfromsoftwarereleases,wherethey
get 80 migration rules and three reasons from real-world examples.
In their subsequent study [ 71], they use a modified approach on
thecommithistoryof15,168projectsandget329migrationrules,
1,198migrationsand26commitmessagesthatmentionedmigra-
tionreasons.Kabinnaetal.[ 37]analyzedeveloperdiscussionsof
logginglibrarymigrationsinApacheSoftwareFoundation(ASF)
projects, where they identify 49 migration attempts and five major
reasons.However,theexistingstudies[ 37,69,71]haveseverallimi-
tations.Inparticular,[ 69]onlyobtainasmallnumberofmigrations;
[69,71]donot haveasolidmethodologyfoundationandarehard
toreproduce.Bytheirdefinition,alibrarymigrationhappensiftwo
libraries with similar functionalities co-exist and one gets removed
in project history. The notion of Å‚similarÅ¾ is ambiguous and Å‚li-
brary migrationsÅ¾ by this definition may be over-estimations. They
also do not provide sufficient details about their manual identifica-
tioncriteria,nordotheysharetheirdatasetoflibrarymigrations.
Furthermore, [ 71] usesonlysource code analysis for identifying
libraries,whichmaymissmigrationsthatonlymodifyconfigura-
tionfiles(e.g.,migratelogger5ordatabase6).Finally,[ 37]focuses
on a relatively small number (49) of logginglibrary migrations.
Consequently,thefindingsin[ 37]cannotreflectgeneraltrendsand
maynotgeneralizetootherkindoflibraries.Inthisstudy,wemine
large-scale historical data to provide a comprehensive overview of
how and why library migrations happen among a large number of
projectsandlibraries.
Ourworkisalsopartiallyinspiredbyrecentstudiesonlibrary
adoption[ 22,39,44,47,55,78,81,83]andlibraryupdates[ 7,15,19,
23,27,42,43,48,65,84,86].Intermsoflibraryadoption,researchers
use interviews and surveys to summarize developer considerations
whenchoosingJavaScriptframeworks[ 55],decidingwhethertore-
implement [ 81], and selecting libraries in general [ 78]. Researchers
also employ different modeling approaches to identifyfactors that
leadtoadoptionbetweenRdataframelibraries[ 47]andbetween
JavaScript CI/CD tools [ 39,44,83].In terms oflibrary update,re-
searchershaveinvestigatedhowdevelopersupdate[ 7]ornotup-
date libraries [ 19,23,42,43,65,84], mechanisms to support library
update [27,48], and the impact of security vulnerabilities intro-
ducedbyoutdatedlibraries[ 24,86].However,theydonotconsider
migrationsbetween differentlibraries,andourstudycancomple-
mentexistingresearchesbyprovidingfindingsabouthowprevious
library adoptions fail in projects and why developers choose to
replace alibrary instead ofupdatingit.
5https://github.com/eclipse/leshan/commit/d103207
6https://github.com/mybatis/migrations-maven-plugin/commit/1b1c6093 DATA COLLECTION
3.1 Collecting Projects andLibraries
We beginwith the latest Libraries.io dataset [ 38](releasedinJan
2020), which is widely used in related research (e.g. [ 1,25,36,84]).
Wechooseto focusonJavaprojects because ofJavaâ€™spopularity
andindustrialimportance,andbecauseallpreviousworksinthis
topicfocusonJava[ 37,69,71].WeconsiderarepositoryonGitHub
as a project and use the GitHub repository list in the dataset to
select relevant repositories. As a simple threshold for ensuring the
qualityofselectedrepositories,weselectnon-forkJavarepositories
with more than 10 stars, leaving us with 59,475 repositories. We do
notfilterbythenumberofcommitsandrecentactivitiesbecause
thegoalofourstudyistodepictgenerallongitudinaltrends,notto
observethestate-of-the-artpracticebymatureprojects.Then,to
retrieveversioncontroldatafortheseprojects,weusetheWorld
of Code database [ 46] (version R, constructed in April 2020). To
simplifythetaskofdependencyextraction,wefocusonprojects
that use Maven [ 30] for build and dependency management. These
projectscontainoneorseveralconfigurationfilesnamed pom.xml
in their project paths, which has a <dependencies> section where
developersdeclarethegroupIDs,artifactIDs,andversionnumbers
of required libraries. The declarations are strict in that a build
attempt will fail if a used library is not declared or included as a
transitive dependency, but an unused library may still be declared,
whichisathreattovalidity(Section 7.2).Bykeepingrepositories
with at least one pom.xmlfile in one of the repositoryâ€™s commits,
we retain 19,652repositories (23,988,437commits intotal).
The dependencies declared in project pom.xmlfiles may not fit
thedefinitionofaÅ‚library,Å¾becausetheymaybeinternalproject
modulesnotintendedforreusebyotherprojects.Tofilteroutsuch
cases,weonlyconsiderdependenciesthat1)areaccessibleinMaven
Central[50],and2)havebeenincludedinthe pom.xmlsofmorethan
10repositoriesintheaforementioned19,652repositories.Finally,
we get 4,022 libraries.7We sample 94 libraries (confidence level
=95%,confidenceinterval=10)anddeterminewhethertheyare
librariesornotbyinspectingtheirdescriptionsinMavenCentral
andsearchingthemontheWeb.Ninety-threeof94samples(98.93%)
containpublicinformationindicatingtheirappropriatenessofreuse
(e.g., terms such as library, framework, platform, specification, etc),
whichjustifiesour selection criteria.8
7Following general conventions, we consider a unique (group ID, artifact ID) pair as a
library, and the version string for distinguishingdifferentversionsof a library.
8Theonlyexceptionis io.prometheus:simpleclient_common whichdescribesitself
ascommoncodeusedby various modules ofthe simpleclient .
480ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
Figure 1:Anexample projectcommit history.
3.2 Computing Dependency Changes
With projects and libraries collected, our next task is to extract
dependencychangesfromprojectcommithistories,asthesedepen-
dencychangesmayindicatelibrarymigrations.However,simply
sorting and comparing all versions by time for a given pom.xml
file will generate too many false positives because a project may
have many parallel branches which may or may not be merged,
effectivelyformingadirectedacyclicgraph[ 9](DAG,seeFigure 1).
TotaketheDAGintoconsideration,wemodeleach dependency
changeas aneventhappened in one commit, which can be ei-
ther an adoption, a removal, or a version change. The event is
computed from comparing with the prior pom.xmlfile version in
the parent commit. More precisely, let commit ğ‘1be the parent
of commit ğ‘2,ğ¿1be the set of dependencies in pom.xmlfileğ‘“of
commitğ‘1,andğ¿2infileğ‘“ofcommit ğ‘2.Forğ‘2,thesetofadoptions
ğ·+ğ‘2=ğ¿2âˆ’ğ¿1;thesetofremovals ğ·âˆ’ğ‘2=ğ¿1âˆ’ğ¿2;andthesetofver-
sionchanges ğ·ğ‘£ğ‘2={ğ‘™|ğ‘™âˆˆğ¿1âˆ§ğ‘™âˆˆğ¿2âˆ§ğ‘£ğ‘’ğ‘Ÿ(ğ‘™,ğ‘1)â‰ ğ‘£ğ‘’ğ‘Ÿ(ğ‘™,ğ‘2)}.For
ğ‘2in Figure 1,ğ‘“=tool/pom.xml ,ğ·+ğ‘2={org.slf4j:slf4j-jdk14 },
ğ·âˆ’ğ‘2={log4j:log4j }, andğ·ğ‘£ğ‘2={org.slf4j:slf4j-api }. We ig-
nore merge commits based on the assumption that merge commits
are seldom usedformakingnewchangesother than conflictres-
olution. To validate this assumption, we collect merge commits
withpom.xmldifffromallrepositories(207,553intotal,8.2%ofall
mergecommits),andfindthatonly6,801(3%)havenewdependency
changes. Through an iteration over all commit diffs of all projects,
we get2,629,992dependency changes from 302,774 commits.
3.3 Identifying LibraryMigrations
Thedependencychangeswecollectedbeforemaynotbenecessarily
related to a library migration, but it is non-trivial to define and
identify real library migrations from dependency changes. First,
we need to determine whether a migration is feasible between
two arbitrary library pairs (i.e., for ğ‘™1andğ‘™2, whether âŸ¨ğ‘™1,ğ‘™2âŸ©is
a migration rule). Next, we need to identify commits related to
a library migration. To deal with these challenges, we define a
commit as a migrationcommit when its commitmessage clearly
indicatesamigration(e.g. Replaceorg.jsonwithjackson [26]),and
defineâŸ¨ğ‘™1,ğ‘™2âŸ©as amigration rule if and only if we can find a
migrationcommit that conductedthe migrationfrom ğ‘™1toğ‘™2.
We acquire migration commits and migration rules from the
dependency changes using a state-of-art mining algorithm [ 36]
and manually validate the returned results. For each source library
query, the algorithm mines possible target libraries, rank each tar-
getlibrarybyaconfidencevalue,andreturnspossiblemigrationTable 2:Statistics ofthe Collected Dataset
Data Size/Statistics
Projects( P) 19,652
Stars median =32, stddev =1407.93
Commits median =142,stddev =5614.70
Active Months median =27, stddev =26.97
pom.xmlFiles median =2, stddev =75.72
Libraries ( L) 4,022
Versions median =26, stddev =104.20
IncludedRepositories median =25, stddev =310.94
Dependency Changes ( D) 2,629,992(302,774commits)
Adoptions( D+) 1,771,664(208,691commits)
Removals ( Dâˆ’) 290,150 (56,377 commits)
VersionChanges ( Dğ‘£) 568,178 (97,447 commits)
MigrationRules( R) 1,194 (393 renames)
MigrationCommits ( M) 3,163 (1,459renames)
commits from the source library to the target library based on the
collecteddependencychanges.However,itgeneratesatremendous
amountofoutputifwequeryusingallthe4,022libraries.Toreduce
humaninspectioneffort,weuseacombinationof1)sourcelibraries
providedin [ 69],2) 500most popular libraries bynumberof adop-
tionsinourrepositorydataset,asthequerytothealgorithm(670
queries in total). For the output of each query, we focus on inspect-
ing the returned commits for target libraries that have non-zero
confidencevalue,ranktop-20amongallreturnedtargetlibraries,
and exist in the aforementioned 4,022 libraries. After validation,
we obtain 1,194 migration rules (390source libraries, 562target li-
braries)and3,163migrationcommits.Weobtainthelargestdataset
comparedwithpreviouswork(Table 1),butthesizeofmigration
commits by this definition is doomed to be small because most
commitsdonothaveinformativecommitmessages[ 18].Thus,this
setofmigrationscanonlybeviewedasa subsetofrealworldmi-
grations and inadequate for answering migration popularity (RQ1),
but they are guaranteed to be correct and invaluable for unveiling
migrationbehavior(RQ2)andreasons for migration(RQ3).
Some migrations happen because of a library rename, which
oftenaccompaniesimportantlibrarychanges(e.g.,majorversion
update, license change, organization switch, etc) and falls near the
boundary of library update and library migration. We detect these
rules by finding all rules whose artifact IDs contain overlapping
terms(excludingtermslike api,core,all,etc)andmanuallyvali-
datingtheresults,resultingin393 renamerules .Teytonetal.[ 71]
exclude rename rules by manually mapping groupId:artifactId to
"librarynames."However,libraryrenamesare1)verycommonat
least in Java/Maven, 2) developers also state them as migrations in
commitmessages,and3)theirAPIsareoftensignificantlyreworked.
Thus,wechoosetoretainrenamerulesinsubsequentanalysisas
aspecialtypeofmigrationrule,anddistinguishthemfromother
ruleswhere theirproperty significantly differs.
In theremainder ofthispaper,we denote Pas theset ofrepos-
itories (i.e., projects), Las the set of libraries, Das the set of de-
pendencychanges( D+,Dâˆ’,Dğ‘£foradoption,removalandversion
changes, respectively), Ras the set of migration rules, and Mas
the set of migration commits. The statistics of collected data are
summarizedinTable 2.
481A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
1-11
11-26
26-48
48-83
83-139
139-234
234-406
406-790
791-2123
2123-225489
Number of Commits
0.0
0.2
0.4
0.6
0.8
1.0Percentage of Projects
removal
version change
1-2
2-4
4-5
5-7
7-10
10-13
13-19
19-29
29-55
55-4262
Number of Dependencies
0.0
0.2
0.4
0.6
0.8
1.0Percentage of Projects
removal
version change
Figure 2: Distribution of ğ‘ƒğ‘Ÿby number of commits / depen-
dencies,withthatof ğ‘ƒğ‘£={ğ‘|ğ‘âˆˆ Pâˆ§ğ·ğ‘£ğ‘â‰ âˆ…}forcomparison.
4 RQ1: HOWCOMMON ARE LIBRARY
MIGRATIONS?
Since library migration is the process of removing a library and in-
troducing another library, a library removal and a library adoption
arenecessary for a library migration. To the best of our knowl-
edge, library removals during software evolution have never been
studiedbefore.Intuitively,ifmanyprojectsremovealibrary,itis
probablyfollowedbymigrations,anditisunknownexactlyhow
manyremovalsarerelatedtomigrationsandhowmigrationsare
distributedinour projectcorpus.Thus, we ask twosub-RQs:
RQ1.1:Howfrequentlydoprojectsremove alibrary?
RQ1.2:Howfrequentlydoprojectsmigratealibrary?
4.1 RQ1.1: Removal Frequency Analysis
4.1.1 Methodology. We consider all types of dependency changes
during analysis for comparison purposes. For project ğ‘âˆˆ P, letğ¶ğ‘
bethesetofcommitsfor ğ‘,ğ·ğ‘bethesetofdependencychanges
happenedin ğ‘(i.e.,ğ·ğ‘=/uniontext.1
ğ‘âˆˆğ¶ğ‘ğ·ğ‘).Wefirstconsiderprojects ğ‘ƒğ‘ŸâŠ‚
Pwithatleastoneremoval,i.e., ğ‘ƒğ‘Ÿ={ğ‘|ğ‘âˆˆ P âˆ§ğ·âˆ’ğ‘â‰ âˆ…},and
analyzeitsdistributionwithin P.Then,for ğ‘âˆˆğ‘ƒğ‘Ÿ,wecomputeand
comparethedistributionsfor1)thenumberofchangesinproject ğ‘
forallchangetypes(i.e.,/summationtext.1
ğ‘âˆˆğ¶ğ‘|ğ·|forğ·âˆˆ {ğ·ğ‘,ğ·+ğ‘,ğ·âˆ’ğ‘,ğ·ğ‘£ğ‘}),and
2) the average number of commits between changes for all change
types (i.e., |ğ¶ğ‘|/|{ğ‘|ğ‘âˆˆğ¶ğ‘âˆ§ğ·â‰ âˆ…}|forğ·âˆˆ {ğ·ğ‘,ğ·+ğ‘,ğ·âˆ’ğ‘,ğ·ğ‘£ğ‘}).
We use the latter to estimate the frequency (or interval) of each
changetype alongthe projectdevelopmenthistory.
4.1.2 Results. For all 19,652 projects ( P), 1398 (7.11%) projects
do not have any dependency changes because their pom.xmlfiles
have noorempty <dependencies> sections. Among theremaining
18,254projects,8,657(47.43%)haveatleastoneversionchangeand
8,045 (44.07%) have at least one removal. The two major reasons
for not having any removals or version changes are that, these
projects do not have sufficient development historiesor only have
a few number of dependencies. By dividing the 18,254 projects
into 10 equally sized chunks separated by number of commits, we
show on the left side of Figure 2that migrations are more likely to
happen in projects with higher number of commits, and the trend
isverysimilartothatofversionchanges.ASpearmancorrelation
testbetweennumberofremovalsandnumberofcommitsforall
projectsyields acoefficient ğœŒof 0.532 (ğ‘<0.001), which indicates
moderate to strong correlation. A similar trend can be observed
fornumberofdependenciesontherightsideofFigure 2,butthe
correlation isweaker ( ğœŒ=0.158,ğ‘<0.001).
100
101
102
103
104
105
Number of Changes
all
adoption
removal
version
all
adoption
removal
versionChange Type
543566
100
101
 102
103
104
105
Number of Commits per Change
3248139167Figure3:Distributionofthenumberofchanges(below)and
theaverage numberofcommits between changes(above).
For the 8,045 projects with at least one removal ( ğ‘ƒğ‘Ÿ), we plot the
distributionofthenumberofchangesandtheaveragenumberof
commits between changes for all change types in Figure 3. Among
ğ‘ƒğ‘Ÿ,amedianprojecthas35adoptions,6removals,6versionchanges,
oneadoptionper48commits,oneremovalper139commits,andone
versionchangeper167commits.Thevariationsarealsohighacross
different projects, with version changes having higher variance
than removals. We conclude that apart from library updates and
adoptions,libraryremovalsarealsoverycommonfortheseprojects.
Summary for RQ1.1:
Among projects with dependencies, 44.07% have at least one
library removal. For those projects, a median project has one
removalper139commits(forcomparison,oneversionchange
per 167 commits). Removals are more likely to happen for
projectswithhigher number of commits anddependencies.
4.2 RQ1.2: Migration Frequency Analysis
4.2.1 Methodology. We begin with MandRmentioned in Sec-
tion3.3, which contains 716 libraries (denote as ğ¿ğ‘šâŠ‚ L). By
limiting our analysis on projects that have once adopted any of
theselibraries,weobtain17,426projectsanddenoteas ğ‘ƒğ‘š={ğ‘|
ğ‘âˆˆ P âˆ§âˆƒğ‘™, ğ‘™âˆˆğ¿ğ‘šâˆ§ğ‘™âˆˆğ·+ğ‘}.
The computation of frequency for library migrations is difficult
becausewecannotguaranteethecompletenessofminedmigrations
for any non-trivial mining approach [ 36,69]. As mentioned in Sec-
tion3.3,MandRaresubsetsofrealworldmigrationcommitsand
migrationrules,whichcanonlybeusedtoestimatelower-bound
frequencies.Werefertosuchcasesas confirmed migrations in
this section and denote ğ‘ƒğ‘ğ‘šâŠ‚ Pas the set of projects with at
least one confirmed migration. As an upper-bound estimation, we
proposeitislikelythat ğ‘hasalsoconductedthesamemigration
ifâŸ¨ğ‘™1,ğ‘™2âŸ©is a migration rule and ğ‘™1is removed and ğ‘™2is added in
apom.xmlfile of project ğ‘. More formally, let ğ·ğ‘,ğ‘“be the set of
dependency changes happened in pom.xmlfileğ‘“of project ğ‘, we
hypothesize that if âŸ¨ğ‘™1,ğ‘™2âŸ© âˆˆ R âˆ§ğ‘™1âˆˆğ·âˆ’
ğ‘,ğ‘“âˆ§ğ‘™2âˆˆğ·+
ğ‘,ğ‘“, a library
migrationmayhavehappenedin ğ‘“ofğ‘.Similarto ğ‘ƒğ‘ğ‘š,werefer
to such cases as possible migrations and denote ğ‘ƒğ‘ğ‘šâŠ‚ Pas the
setofprojectswithat leastone possible migration.
Similar to RQ1, we first analyze the distribution of ğ‘ƒğ‘ğ‘šandğ‘ƒğ‘ğ‘š
withinğ‘ƒğ‘šanditsrelationshipwithnumberofcommitsandnum-
berofdependencies.Then,weanalyzethedistributionoflibrary
migrationswithin ğ‘ƒğ‘ğ‘šandğ‘ƒğ‘ğ‘š.Foreachproject ğ‘,wecountthe
numberofmigrationsbythenumberofmigrationrulestoavoid
482ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
1-12
12-26
26-50
50-85
85-143
143-242
242-423
423-833
833-2191
2191-225489
Number of Commits
0.0
0.2
0.4
0.6
0.8
1.0Percentage of Projects
removal
possible migration
confirmed migration
1-2
2-4
4-6
6-8
8-10
10-14
14-19
19-30
30-57
57-4262
Number of Dependencies
0.0
0.2
0.4
0.6
0.8
1.0Percentage of Projects
removal
possible migration
confirmed migration
Figure4:Distributionof ğ‘ƒğ‘ğ‘šandğ‘ƒğ‘ğ‘šbynumberofcommits
and dependencies. We also show the results of ğ‘ƒâ€²ğ‘Ÿ={ğ‘|ğ‘âˆˆ
ğ‘ƒğ‘šâˆ§ğ·âˆ’ğ‘â‰ âˆ…}forcomparison.
duplicationwhen aproject simultaneously performs the samemi-
gration in many pom.xmlfiles, or in different branches in which
somemaynot be merged.More formally,we define
ğ‘€ğ‘–ğ‘”ğ¶ğ‘›ğ‘¡(ğ‘)=|{âŸ¨ğ‘™1,ğ‘™2âŸ© | âŸ¨ğ‘™1,ğ‘™2âŸ© âˆˆ R âˆ§ğ‘™1âˆˆğ·âˆ’
ğ‘,ğ‘“âˆ§ğ‘™2âˆˆğ·+
ğ‘,ğ‘“}|(1)
Finally, for each migration commit ğ‘šâˆˆ M, we use its commit
timestamp to plot alongitudinal trend oflibrary migrations.
4.2.2 Results. Amongthe17,426projects( ğ‘ƒğ‘š),7,950(45.62%)have
at least one removal of libraries in ğ¿ğ‘š, 5,004 (28.72%) projects have
at least one possible migration ( ğ‘ƒğ‘ğ‘š), and 1,564 (8.98%) projects
haveatleastoneconfirmedmigration( ğ‘ƒğ‘ğ‘š).Asaroughestimation,
upto62.94%(5,004/7,950)oftheprojectshaveremovalsthatleadto
a library migration, for 31.25% (1,564 / 5,004) of which we can con-
firm in commit messages. Although library migrations may not be
verycommon in ğ‘ƒğ‘šwhich contains projectswith fewcommits or
few dependencies, we show that library migrations are much more
commonforprojectswithmanycommitsanddependencies(Fig-
ure4)(ğœŒ=0.456,ğ‘<0.001forcommits,and ğœŒ=0.075,ğ‘<0.001
fordependenciesusingSpearmancorrelationtest).Amongthe3,796
projectswithmorethan10dependenciesand143commits(both
aremedianvaluesin ğ‘ƒğ‘š),2,161(56.93%)/764(20.13%)projectshave
atleastonepossible/confirmedmigration.Furthermore,weplot
thedistributionofprojectsbynumberofmigrationshappenedin
ğ‘ƒğ‘ğ‘šandğ‘ƒğ‘ğ‘š(Figure5).Asexpected,theirdistributionsresemble
the shape of a long-tail distribution, where most projects have one
or a few migrations and some projects have many more. A median
projectin ğ‘ƒğ‘ğ‘šhasundergone4possiblemigrations(mean=9.33,
stddev = 17.30, max = 337) and a median project in ğ‘ƒğ‘ğ‘šhas un-
dergone2confirmedmigrations(mean=3.35,stddev=4.54,max
= 46). Although there are extreme cases, the majority of projects
(61.59%âˆ¼84.78%) have no more than five migrations. Finally, Fig-
ure6shows the number of migration commits in each year, and
we can observe a clear increasing trend (note that we only have
partial data for 2020). This indicates that library migrations are be-
coming increasinglyprevalentinthe Java/Mavenecosystemsince
the publication ofTeytonetal.[ 71].
Summary for RQ1.2:
Inthestudiedprojectcorpus,8.98%to28.72%haveundergone
atleastonelibrarymigration.Forthoseprojects,mosthave
no more than five migrations. The probability of undergoing
a library migrationbecomes significantly higherforprojects
withlarger number ofcommits anddependencies.
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
Number of Possible Migrations
0
500
1000Number of Projects1134
715
435370
21818015911211680877748765340 40 3330293419212711 11 10151710121198691183
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
Number of Confirmed Migrations
0
200
400Number of Projects522
213
93602733231210853131 1 0 0 10 0 0 0 0 0 0 0 0 0 0 0 0 10 0 0 0 0 0Figure 5:Distribution ofprojectsby numberofmigrations.
2006
 2007
 2008
 2009
 2010
 2011
 2012
 2013
 2014
 2015
 2016
 2017
 2018
 2019
 2020
Year
0
100
200
300
400
500Number of Migration Commits 1041304787157237269310291352409442
352
64
Figure 6:Numberofmigrationcommits ineachyear.
5 RQ2: HOWDOMIGRATIONSHAPPEN
BETWEEN LIBRARIES?
The results of RQ1 have demonstrated that library migrations have
happenedinasignificantnumberofsoftwareprojects.However,
itisstillunclearhowexactlylibrarymigrationsareconducted,in
particular, what kind of migrations are performed, among what
kind of libraries, and whether or not the migrations share com-
mon behavior. Therefore, we ask RQ2:How do migrations happen
between libraries?
5.1 Methodology
We adopt the concept of migration graph proposed by Teyton
et al. [69,71] as the basis to facilitate further analysis. We define
the migration graph in our study as a weighted directed graph
âŸ¨ğ¿ğ‘š,R,ğ‘¤âŸ©,where librariesin ğ¿ğ‘šarenodes,migration rulesin R
areedges,and ğ‘¤()isanedgeweightingfunction.For âŸ¨ğ‘™1,ğ‘™2âŸ© âˆˆ R,
we compute weight ğ‘¤(ğ‘™1,ğ‘™2)by counting the number of projects
that have performedamigrationfrom ğ‘™1toğ‘™2inM.
Todemonstratetheextenttowhichalibraryismorelikelytobe
amigrationsourceoramigrationtarget,wedefinethefollowing
metricğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)for library ğ‘™âˆˆğ¿ğ‘š
ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)=ğ‘‘ğ‘’ğ‘”âˆ’(ğ‘™) âˆ’ğ‘‘ğ‘’ğ‘”+(ğ‘™)
ğ‘‘ğ‘’ğ‘”âˆ’(ğ‘™) +ğ‘‘ğ‘’ğ‘”+(ğ‘™)(2)
whereğ‘‘ğ‘’ğ‘”âˆ’(ğ‘™)istheweightedindegreefornode ğ‘™andğ‘‘ğ‘’ğ‘”+(ğ‘™)isthe
weightedoutdegreefornode ğ‘™.Obviously, ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™) âˆˆ [âˆ’1,1],where
ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)=1 meansğ‘™is always a target library and ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)=âˆ’1
meansğ‘™isalwaysasourcelibrary.
To understand what kind of migrations are performed and to
effectivelyvisualizethegraph,wedividemigrationrulesintodiffer-
entapplicationdomains.First,weuseLouvaincommunitydetec-
tion[10]onthemigrationgraphtoget116initialclusters.Then,we
use library descriptions, labels in Maven Central, and information
fromsearch enginestomergeclusters,resolveclusternames,and
correcterrors.Theapplicationdomainofeachmigrationrule (ğ‘™1,ğ‘™2)
483A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
HTTP Clients (20, 1.89%)JDBC Pools (19, 1.80%)Metrics (19, 1.80%)Build (14, 1.33%)Command Line (13, 1.23%)Cache (11, 1.04%)Tag (10, 0.95%)
Webservice (182, 17.23%)
Logging (161, 15.25%)
JSON (154, 14.58%)
Testing (152, 14.39%)Other (140, 13.26%)XML (42, 3.98%)Database (36, 3.41%)Persistence (31, 2.94%)Dependency Injection (26, 2.46%)Bytecode (26, 2.46%)
Figure 7:Distribution of Rby application domain.
0
 200
 400
 600
 800
 1000
 1200
 1400
Number of Migrations Happened
Logging
JSON
Testing
Webservice
Other
HTTP Clients
XML
Core Utilities
Database
Persistence
I/O
Bytecode
Metrics
Build
Dependency Injection
JDBC Pools
Code Analyzers
Mail
Command Line
126110247207013261351281121101081066866625151363631
Figure 8: Number of migrations for migration rules in each
application domain(/summationtext.1
ğ‘âˆˆPğ‘€ğ‘–ğ‘”ğ¶ğ‘›ğ‘¡(ğ‘),Equation 1).
is assigned from the domain of ğ‘™1andğ‘™2when the two libraries
areinthesamedomain,whichisthecasefor1,055rules(88.44%).
For the remaining rules, ğ‘™1andğ‘™2fall into different domains either
because the boundariesbetweendomains issometimes unclearor
migrationscanhappenbetweendifferentdomains(e.g.fromaXML
library to a JSON library for serialization). We get 53 application
domainsintotal,amongwhich16 domainshave morethan 10mi-
grationrules.ThedomaindistributionisshowninFigure 7.Four
domains (web service, logging, JSON, and testing) dominate the
dataset with648migrationrules(61.42%).If we countthe number
of migrations happened (Figure 8), migrations between logging
libraries and JSON libraries happen 1.4-1.7x more than testing and
webservicelibraries.Finally,wevisualizesub-graphsforimportant
applicationdomainsusingSankeydiagrams[ 60],whichareoften
usedto visualizehowthings flowincomplex networks.
5.2 Results
Figure9(top) shows the distribution of ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)forğ‘™âˆˆğ¿ğ‘š. Sur-
prisingly,thedistributionisextremelydistorted.For154libraries
(21.51%), ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)=âˆ’1andfor326libraries(45.53%), ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)=1.
Theremaininglibrariesgenerateauniformdistributioninthein-
tervalof(âˆ’1,1).Thedistributionshapedoesnotchangeevenifwe
onlyconsiderlibrarieswithhigher indegree andoutdegree values
(Figure9second top), although there are slightly more libraries
that fall withinthe intervalof (1,âˆ’0.75] âˆª [0.75,1). The distribu-
tion shape also does not change even if renamerules are excluded
(Figure9secondbottomandbottom).Wecanconcludefromthis
observation that a large number of libraries are either mostly aban-
donedormostlyadoptedasmigrationtargetsbydevelopers,which
âˆ’1.00
 âˆ’0.75
 âˆ’0.50
 âˆ’0.25
 0.00
 0.25
 0.50
 0.75
 1.00
Migration Flow with deg+(l) + deg-(l) >= 0 for all rules
0
100
200
300
400Count157
510912965362411818143221 14143183595727610754328
âˆ’1.00
 âˆ’0.75
 âˆ’0.50
 âˆ’0.25
 0.00
 0.25
 0.50
 0.75
 1.00
Migration Flow with deg+(l) + deg-(l) >= 5 for all rules
0
25
50
75
100Count52
5109129653424191814381 141436353572761075471
âˆ’1.00
 âˆ’0.75
 âˆ’0.50
 âˆ’0.25
 0.00
 0.25
 0.50
 0.75
 1.00
Migration Flow with deg+(l) + deg-(l) >= 0 without rename rules
0
100
200
300Count129
03 3856 6111310152424528132 23 3173531234120 0 0248
âˆ’1.00
 âˆ’0.75
 âˆ’0.50
 âˆ’0.25
 0.00
 0.25
 0.50
 0.75
 1.00
Migration Flow with deg+(l) + deg-(l) >= 5 without rename rules
0
10
20
30
40Count29
03 3856 6
13 3106
242459
132 23 3135
01234120 0 029Figure9:Distributionof ğ‘“ğ‘™ğ‘œğ‘¤(ğ‘™)underdifferentconditions.
indicates that some libraries are more competitive than others and
should be recommendedto use instead of the otherlibraries.
As illustrating examples, we visualize the sub-graphs of three
most popular application domains (logging, testing, and JSON)
in Figure 10. We exclude the sub-graph for web service due to
space constraints. To make the graphs readable, we only retain
migration rules âŸ¨ğ‘™1,ğ‘™2âŸ©withğ‘¤(ğ‘™1,ğ‘™2) â‰¥10 for testing and JSON,
andğ‘¤(ğ‘™1,ğ‘™2) â‰¥15 for logging. The unidirectional trend is clearly
visible using Sankey diagrams. In the case of logging libraries,
commons-logging [73]andlog4j[72]aretwomostlyabandonedli-
braries,whilelibrariesundergroupID org.apache.logging.log4j
(i.e.,log4j2[74])aremostlyadopted.Librariesrelatedto slf4j[59]
andlogback[58]aresomewhereinbetween.Thereasonforsuch
phenomenon may be that theJavacommunity hastwomajorlog-
ging practice changes [ 37]: one is from ad-hoc logging libraries
(e.g.,log4j) to logging abstraction libraries (e.g., slf4j); another is
fromloggingabstractionlibrariestologgingunificationlibraries
(e.g.,log4j2).Suchmultipleparadigmshiftscanalsobeobserved
inJSONlibraries(e.g., gson[33]isfirstadoptedbutthen switched
tojackson[28]), but not obvious in testing libraries. We can also
seethatrenamerulesconstitutealargenumberofmigrationsfor
testing and JSON(many non-rename rules are omittedinFigure 10
becausetheyhappeninlessthan10projects).Inallcases,hardly
canweseetwolibrarieswithmajorbi-directionalflows,exceptthe
caseofjunit:junit [75]andorg.testng:testng [8],whichmaybe
theresults ofearly competitionwhen bothlibraries areimmature.
Summary for RQ2:
Librarymigrationsfromfourdomains(logging,testing,JSON,
and web service) among 53 dominate the dataset, presenting
a long tail distribution. Also, library migrations are highly
unidirectionalinthatmostlibrariesareeithermostlyadopted
ormostly abandoned.
484ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
Figure10:Themigrationsub-graphsforlogging,testing,andJSONlibraries.Migrationsflowfromlefttoright.Eachrectangle
isagraphnode(i.e,library)andeachgreybandisagraphedge(i.e.,migrationrule).Foreachedge,itsbandwidthencodesthe
numberofrepositorieswhere migrationshappened forthismigrationrule.
6 RQ3: WHATARE THE FREQUENTLY
MENTIONEDREASONS WHEN
DEVELOPERSCONDUCTA LIBRARY
MIGRATION?
RQ1 and RQ2 demonstrate howlibrary migrations happen in Java
software projects, but it is still unclear whylibrary migrations
happen in these projects. Understanding the latter is important
becausewecanextractretrospectiveinsightsforpractitionersby
summarizing the rationale behindprevious migrations. Therefore,
we askRQ3:What are the frequently mentioned reasons when
developers conduct alibrary migration?
6.1 Methodology
ToanswerRQ3,wechoosetostudydeveloper-writtentextsrelated
to existing migrations. We begin with the commit messages of
the 3,340 migration commits ( M, Section3.3). To extend available
data, we follow GitHub conventions to identify issue references in
commit messages [ 31], and retrieve pull requests containing the
commitsusingtheGitHubRESTfulAPIs.Weget2,775pullrequests
and 385 issues after this step. To extract reasons from these related
texts,wefollowthegeneralprocedureofthematicanalysis[ 11,21],
which is frequentlyused to extract recurring patterns from text in
software engineeringresearch(e.g.,[ 14,62,68]).
Sincealargeamountoftextincommitmessages,issue/PRde-
scriptions and comments are not relevant to migration reasons,
three of the authors first independently read and re-read all text in
the commits, issues and PRs to mark relevant text about migration
reasons.Afterthemarksaremergedandverifiedthroughdiscus-
sion, we get 351 (10.51%) commits, 223 (8.04%) pull requests and
112(33.53%) issuesthatinclude some textstating the reasons for
this migration. The ratios are low either because developers just
document what they have done instead of the rationale behind
their work or because some issues and PRs are discussing other
topics, but we still acquire the largest amount of data to answer
this questioncomparedwithexisting works [ 37,71](Table1).
Next,oneauthor reads throughallmaterialsand generates23
initialcodes formigration reasonsand acoding bookthat definesthese codes. Then, he and another author independently use the
codingbook tocode allmaterials, inwhich eachcommit/issue/PR
canbeassignedmultiple codes. Todealwithmaterialswithmore
than one code, we use MASI distance [ 57] as the distance measure
and Krippendorffâ€™s alpha [ 40] to measure inter-rater agreement.
The first round of coding results in a Krippendorffâ€™s alpha of 0.731,
which is lower than the recommended threshold of 0.8 [ 41]. To
reduce disagreement, we identify ambiguous codes and discuss
solutions until a consensus is reached. We decideto merge some of
theambiguouscodes(e.g.,Å‚easeofuseÅ¾andÅ‚flexibilityÅ¾aremerged
intoÅ‚usabilityÅ¾)togeneratefinalthemes,andresolvetheremaining
conflicts after the merging. Finally, the 23 codes are merged into
14sub-themesorganizedintothreethemes(sourcelibrary,target
library, andproject specific)andanadditionalÅ‚otherÅ¾theme. The
Krippendorffâ€™salphaofinitialcodingresultsaftermappingtothe
14 sub-themes is 0.803. The main reason for most disagreements is
thatsometextdonotprovidesufficientinformationfordistinguish-
ing between differentsub-themes.During the conflict resolution
process, the two aforementioned authors first discuss about the
relevant text content to see if anyone has misunderstandings or
labelingmistakes. If the text containsinsufficient information or
ambiguities, they may search over the Web, inspect the project de-
velopment history, and infer the underlying reasons based on their
priorexperience.Oneauthorhas4yearsofJavadevelopmentex-
perienceandarbitratesmostofthecases.Caseswheretheconflicts
cannotbe resolvedwillbe simply labeledas Å‚other.Å¾
6.2 Results
We summarize 14 reasons for migration in Table 3with three
themes: 1) reasons originated from the source library , 2) reasons
motivatedbythe targetlibrary ,and3)projectspecific reasons.To
avoid duplication (i.e., multiple issues/PRs mentioning the same
migration),weestimatethefrequencyofeachreasonbythenumber
ofprojectsthathaveacommit/issue/PRthatmentionedthisreason
(420projectsintotal).Wealsoshowtheproportionofrenamerules
among all rules and top-4 application domains by the aforemen-
tioned frequency for each reason. Among the 14 reasons, 7 reasons
485A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
Table3:ReasonsforLibraryMigration.Reasonsmarkedwith â€ arenotmentionedinexistingworkonlibrarymigrations.We
alsoextend andre-organize reasons mentioned inexisting work(marked with Â§).
Reason Projects Rename Rules Top-4ApplicationDomains
SourceLibrary 135(32.14%) 68/135 (50.37%) Logging (23) ,HTTPClients (19) ,Testing(16) ,JSON (15)
Not Maintained/OutdatedÂ§77 (18.33%) 25/54(46.30%) Testing(13) ,Logging (10) ,JSON (8),HTTPClients (8)
Bug/Other IssueÂ§41 (9.76%) 35/71(49.30%) Logging (7) ,XML (5),Database (3) ,HTTPClients (3)
Security Vulnerabilityâ€ 26 (6.19%) 27/40(67.50%) HTTPClients (9) ,Logging (6) ,JSON (5),XML (5)
TargetLibrary 166(39.52%) 77/247 (31.17%) Logging (55) ,Testing(33) ,JSON (14) ,Web Service (11)
UsabilityÂ§76 (18.10%) 20/95(21.05%) Logging (35) ,Testing(13) ,Database (4) ,JSON (3)
Feature 57 (13.57%) 53/125 (42.40%) Testing(13) ,Logging (9) ,JSON (8),Web Service (5)
Performance 28 (6.67%) 7/32(21.88%) Logging (5) ,Web Service (3) ,Database (3) ,HTTPClients (2)
Size/Complexityâ€ 10 (2.38%) 0/10(0.00%) Logging (2) ,JSON (1),Database (1) ,Bytecode(1)
Popularityâ€ 9(2.14%) 11/17(64.71%) Testing(3) ,Logging (2) ,HTTPClients (1) ,I/O (1)
Stability/Maturityâ€ 8(1.90%) 3/8 (37.50%) Logging (2) ,Testing(2) ,JDBCPools (1) ,Persistence(1)
Activityâ€ 6(1.43%) 0/5 (0.00%) Testing(2) ,Reflection(2) ,Classpath (2) ,CodeAnalyzer (1)
ProjectSpecific 188(44.76%) 77/247 (36.82%) Logging (42) ,JSON (24) ,Testing(24) ,Web Service (22)
IntegrationÂ§125(29.76%) 90/207 (43.48%) Logging (24) ,Web Service (17) ,Testing(16) ,JSON (12)
SimplificationÂ§53 (12.62%) 21/81(25.93%) Logging (21) ,Testing(9) ,JSON (5),Web Service (5)
Licenseâ€ 22 (5.24%) 4/20(20.00%) CodeAnalyzers (6) ,JSON (6),PDF(3),Math(2)
Organization Influenceâ€ 5(1.19%) 9/12(75.00%) CommandLine (2) ,JSON (1),Build(1),XML (1)
Other 21 (5.00%) 24/42(57.14%) JSON (6),Logging (6) ,Web Service (4) ,Database (2)
(markedwith â€ )arenotdiscussedinexistingwork(Table 1),and
5 reasons (marked with Â§) originate from existing work but are
further extended and re-organized based on our findings. In the
remainderofthis section, we willintroduce eachreason indetail.
6.2.1 Source Library. 135 projects (32.15%) conduct library migra-
tionsbecauseofproblemsinthesourcelibrary,withthreedominat-
ingfactors:thesourcelibraryisnotmaintained/outdated,suffers
from security vulnerabilities, orcontains bugs/otherissues.
Not Maintained/Outdated. The migration happens because
the source library is old and/or lacks maintenance, and the project
decidestousethelibrarythatis currentlyrecommendedandsup-
ported by thecommunity.Itisthe most commonreason insource
libraries for both rename rules and other rules. Examples: 1) Re-
place end of life apache http client 3.1 with 4.1 .92)FEST hasnâ€™t been
updated in over 1 year. AssertJ looks like the successor .10Teyton
et al. [69] mention Å‚outdatedÅ¾ as a reason for migration, but we
further discover that the major concern is whether the library is
still maintained, and the recognition of non-maintenance (e.g., an-
nouncementofend-of-life) often triggers migrations.
Bug/Other Issues. The migration happens because of bugs,
warnings, crashes, inconsistencies, unwanted features or other pe-
culiar issues. For example, Empty string is not working, when we
pass""...This seems to beabug in jcommander .11
SecurityVulnerability. The migration happens because of se-
curity vulnerabilities in the source library, and also mostly because
9Commitfa6f20b inhttps://github.com/basho/riak-java-client
10https://github.com/dropwizard/dropwizard/issues/493
11https://github.com/ballerina-platform/ballerina-lang/issues/229thesourcelibrarydoesnotprovideanysecurityfixes.Thishappens
mostly for rename rules (67.50%), and most notably for some of the
migrationsfrom log4jtolog4j2,slf4jorlogback,e.g.Fixforlog4j
vulnerabilityCVE-2019-17571 .12Itseemsthatsecurityissueisthe
last straw that pushes these projects to finally abandon an old and
unmaintainedlibrary.
6.2.2 Target Library. 166 projects (39.52%) conduct library migra-
tionsbecauseofadvantagesinthetargetlibrary.InspiredbyLarios
Vargas et al. [ 78],we dividethem into thefollowing 7 dimensions.
Usability. The most frequently mentioned reason in target li-
brary is that the target library is easy to use, has nice APIs, results
incleanercode,cleanerconfiguration,orisflexibleforendusersto
switch implementations on need, e.g. allow users to use their pre-
ferredloggingframework(suchaslogback) ,13andFestisawesome.
The tests read better, and festâ€™s fluent matchers are way easier to find
(via auto-complete) than the static imported hamcrest matchers.14
Some projects also mention that choosing an easy-to-use library
is important for maintainability in the future. Kabinna et al. [ 37]
mentionÅ‚flexibilityÅ¾and Teytonetal. [ 69]mentionÅ‚convenienceÅ¾
as reasons for migration, but the former reason is specific to log-
ginglibraries(becausemanyprojectswanttoallowitsdownstream
projects to switchunderlying logger implementation ondemand),
and the latter term does not cover all the cases we find. Therefore,
we decideto merge themintoabroadersub-themeof Å‚usability.Å¾
12https://github.com/OpenLiberty/ci.maven/pull/717
13https://github.com/apache/accumulo/pull/1163
14Commit05263e7 inhttps://github.com/glowroot/glowroot
486ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
Feature. Alargenumberofmigrationsalsohappenbecausethe
target library hasspecific features that the source library cannot
provide.Forexample, Usegsontopreservetheorderofallfields.15The
mentionedfeaturesarehighlydiverseacrossdifferentapplication
domainsandprojectcontexts.
Performance. Performance is also frequently mentioned as a
reason for migration. In most cases, the migration happens be-
cause a project needs to meet special functional requirements (e.g.
latency,throughput,compiletime,etc)thattheexistinglibrarycan-
not satisfy.For example, log4j hasbeen identifiedas aperformance
bottleneckforhighqpsuse cases.16
Size/Complexity. Someprojectscareaboutthebinarysizeor
simplicityofthelibrary,mostlybecausetheywanttheirownbinary
tobeassmallaspossible,e.g. SwappedH2databasetoHypersonic
SQL to makestubby4j JARsmaller .17
Popularity. Surprisingly, popularity is not a frequently men-
tionedreason,andmostofthecasesarebecauseoflibraryrenames
(64.71%).Itmaybebecauseit istootrivial tobementioned ordis-
cussed, or because popularity alone does not provide immediate
benefitsandthus isnot the decisive factor ofamigration.
Stability/Maturity. A few projects mention that the target li-
brary is stable or more robust. It may not be the decisive factor,
but the factor that finally drives a migration, e.g., JUnit 5 will be
available soon as a stable release. It is available a alpha/beta now. As
soonas it is available,all theunit testsmay use this version.18
Activity. A few projects mentioned the community is more
active in the target library, but it is only mentioned along with
other reasons (e.g. source library is not maintained) and never
mentionedas the singledecisive factor.
6.2.3 ProjectSpecific. 188projects(44.76%)mentionedthatthey
conduct library migrationsdueto projectspecific reasons.
Integration. The most common reason is the need to integrate
the library with something else in the project to achieve specific
goals,avoidissues,orensurecompatibility.Weidentifythreemajor
cases: 1) to integrate with other dependencies to achieve a spe-
cific goal, e.g. utilize existing integration support, as stated in This
changereplacestheinternalusageofDropwizardinfavorofMicrom-
eter...ThisallowstotakefulladvantageoftheSpringBootMicrometer
integration.192)toavoidconflicts/incompatibilitywithotherde-
pendenciesor other project modules,e.g., Removes thePowerMock
dependency which was having some bad interactions with Mockito.20
3) to be compatible with the required runtime environment, e.g.,
migrate from lombok to kotlin...to a fix a bug with java 11.21Teyton
etal.[71]mentionÅ‚configurationÅ¾andÅ‚environmentÅ¾,whichwe
merge andextend intothis sub-theme.
Simplification. Some migrations happen to simplify library
usage within project, achieve consistent style, or cleanup unnec-
essary dependencies, as a preventive measure to control project
complexity, remove technical debt, and possibly reduce mainte-
nanceeffortinthefuture.Forexample,1) UnifyallJSONusageto
15https://github.com/apache/incubator-pinot/pull/2473
16https://github.com/apache/incubator-pinot/pull/4139
17Commitce45e04 inhttps://github.com/azagniotov/stubby4j
18https://github.com/sarl/sarl/issues/875
19Commit905e384 inhttps://github.com/eclipse/hono/
20Commit2aed070 inhttps://github.com/GoogleCloudPlatform/java-docs-samples/
21https://github.com/spotify/ffwd/pull/140fasterxml.jacksonpackage.Removetheusageofjsonpackagefrom
org.json, org.codehaus.jackson, com.google.code.gson, com.alibaba.
Add JsonUtils class to reuse ObjectMapper and provide util meth-
ods.222)MakeLoggingFrameworksCoherentAcrossLibrariesand
IOTCodebase.233)Lotsofcleanup.RemovedJunitfromacoupleof
modules(everythingisTestNGnow).24Thissub-themecoversÅ‚re-
ducethenumberofdependenciesÅ¾andÅ‚reducefuturemaintenanceÅ¾
mentionedinKabinnaetal.[ 37],andwefurtherdiscoverafrequent
patterninwhichmanymigrationshappenbecausedeveloperswant
to avoid using differentlibraries for the same purpose.
License. Forsomeprojectsandlibraries,licensecompatibility
standsoutasthemajorreasonformigration.Forexample,6projects,
includingSpringFrameworkandApacheHive,refrainedfromusing
org.json:json because of its unusual license term The Software
shallbeused forGood, notEvil.25Otherprojectsalso migrate from
variousGPLorLGPLlicensedlibrariestootheralternativeswith
more permissive licenses,such as Apache 2.0 andMIT.
Organization Influence. Some projects remove a library be-
cause it is not approved by the belonging organization, or use a
libraryasrequestedbytheorganization,e.g. RemovesJLine2asa
dependencysinceitâ€™snot approved byLocationTech.26
Summary for RQ3:
Projects conduct library migrations for 14 diverse reasons
from the source library, the target library, and the projects
themselves. The most frequent reasons are: lack of mainte-
nanceinthesource,feature/usabilityinthetarget,integra-
tion with project context, and simplification of dependencies.
7 DISCUSSION
7.1 TakeawaysforPractitioners
7.1.1 BestPractices. Sinceourfindingsrevealthatlibrarymigra-
tions are highly unidirectional, it makes sense to formulate best
practicesonlibrarymigrations,andsuchbestpracticesshouldbe
more publicly visible. For example, package hosting platforms can
computeanddemonstratethecurrentretentionrateforalibrary,as
an additional metric to help developers decide whether to adopt or
migrate the library. Tools that help developers choose among a set
of candidate libraries (e.g. AlternatveTo [ 53] and SimilarTech [ 12])
can make recommendations based on historical adoption, removal
andmigrationtrends.Toolscanalsobedevelopedtomonitorthe
Å‚freshnessÅ¾ ofdependencies and prompt migration recommenda-
tionsto developers basedonthe latest trends.
7.1.2 UnmaintainedLibraries. Ourfindingsalsorevealthatalarge
partoflibrarymigrationshappenbecauseofunmaintainedlibraries
(Table3),andthesituationsignificantlyworsensifanunmaintained
library has unfixed issues and security vulnerabilities. However,
open-source libraries are prone to sustainability failures [ 14,77],
and unmaintained libraries may have vulnerabilities which may be
evenunknowntopublicbutalreadydiscoveredbymaliciousparties.
22https://github.com/apache/incubator-pinot/pull/3677
23Commitdd5ae79 inhttps://github.com/hortonworks/streamline/
24Commitdfe5b79 inhttps://github.com/dhanji/sitebricks
25https://www.json.org/license.html
26Commit833638f inhttps://github.com/locationtech/geogig/
487A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
Givensuchrisks,wesuggest thatsoftwareprojectsshould refrain
from using an unmaintained library at all, and migrate to other
alternatives as soon as possible. However, determining whether
a library is unmaintained may not be easy without community
effort.Forexample,wecannoteasilytellwhetheralibraryisun-
maintainedfromitslastreleasetime,becauseamaturelibrarymay
not need to release frequently even if someone is still maintaining
it. Therefore, we also suggest package hosting platforms build a
Å‚deprecationÅ¾mechanismfortheirhostedlibraries(similartothat
ofAPI).Librarymaintainerscanusethismechanismtoannounce
theirdecisiontonolongermaintainalibrary,andpackagemanager
can automatically issue warnings to developers when they attempt
tobuildtheirprojectwithaÅ‚deprecatedÅ¾library.Asimilardepre-
cation mechanism is available in npmfor JavaScript libraries [ 16],
but not inMaven Centralfor Java libraries.
7.1.3 Library Selection and Development. We discover that among
the library selection factors reported by Larios Vargas et al. [ 78],
onlyafewofthemserveasthemajordrivingpressure for library
migration. Most migrations happen because of usability, feature,
or performance, and different application domains have differ-
entpatterns(Table 3).Given that librarymigrations are generally
costly[4,13],itindicatesthatthegaininfeature,performanceorus-
abilityoutweighsthecosts,orthemigrationmaybemission-critical
andmustbeperformed.Therefore,werecommenddevelopersto
payextraattentiontotheseaspectsandevaluatethemwithproject
requirementswhenselectinglibraries,toavoidacostlymigration
inthefuture.Librarydeveloperscanalsoconsiderprioritizingtheir
effortsontheseaspectsto make theirlibrary more competitive.
7.1.4 Project Integration and Maintenance. A large number of li-
brary migrations happen for integration with project context, sim-
plification of dependencies, or license incompatibilities. To prevent
suchmigrations,werecommendprojectmaintainerstocheckde-
pendency conflicts or license incompatibilities before adopting a
library,andavoidunnecessarydependencies(e.g.,usingdifferent
librariesforthesametask).Maintainerscanuseautomatedtools
to facilitate these checks (e.g., maven-shade-plugin ,mvn dependency
commands,andopen-sourcelicensecheckers).However,existing
tools may be unable to check complex interaction issues or recom-
mend best co-usage practices. For example, one developer states
in an issue that Spark really wants you to use log4j ,27but it is not
obvious from Spark documentation. Therefore, we also suggest
library developers, especially framework developers, should ex-
plicitly document what libraries are recommended to use together
with their library and what libraries are not recommended. Re-
searchersmayalsoconsiderdevelopingautomatedtoolstoallevi-
ate this issue, e.g., by applying existing library recommendation
approaches[ 51,61,76]todiscoverco-usagepatterns,ordesignnew
approachesto detectcommon integration pitfalls.
7.2 Threatsto Validity
7.2.1 InternalValidity. Extractingdependenciesfrom pom.xmlsis
the standard practice by many recent studies (e.g., [ 19,27,43,80]),
27https://github.com/openzipkin-attic/zipkin-sparkstreaming/issues/30butitcomeswithanumberoflimitations.First,thedeclareddepen-
dencies may not be actually used (i.e., bloated) and used dependen-
ciesmaybetransitivelyincludedandnotexplicitlydeclared[ 66].
Second, in multi-module projects, dependencies may be moved
betweendifferentmodules,whichmaycauseover-estimationson
removals and adoptions. Our approach for computing dependency
changes may also generate errors in some corner cases (e.g., a
mergecommitcontainsconflictresolutionorissquashedwithits
parents[67]).Allthesecaseswillinducenoisesintoourcollected
dependency changes and affect the results in RQ1, but they are
generallyrecognizedasbadpracticeandshouldnotbeverycom-
moninwellmaintainedprojects.Additionally,weuseself-admitted
commit messages as the final criteria to ensure that all migrations
weusetoanswerRQ2andRQ3arerealmigrations.Forthecollected
librarymigrations,wedonotknowhowcompleteorrepresentative
theyareforallmigrationsinthewild.However,projectswithgood
commit messages about library migration may be of better quality
than thosewithout,sotheirpractices shouldbe more valuable for
referencebyotherpractitioners.Themanualidentificationofmi-
grations,theresolutionofapplicationdomains,andthethematic
analysis process may all contain labeling errors. To mitigate this
threat,atleasttwoauthorsdoublechecktheresultsforthefirsttwo
steps andconduct independent coding for the thematic analysis.
7.2.2 External Validity. Our findings may not generalize to migra-
tions that happen without being mentioned in commit messages
andmigrationsinotherprojectsandbetweenotherlibraries.We
mitigate this threat by collecting a large number of starred GitHub
projectsandlibrarymigrationsforpopularlibraries.Ourfindings
mayalsonotgeneralizetoprojectsthatdonotusebuildautomation
tools or projects that use other build automation tools (e.g., Gra-
dle[34]),butMavenisthemostpopulartool[ 63]andthechoiceof
automation tools should not significantly affect project properties,
Therefore, we believe our results will be useful for a broad audi-
enceofJavapractitioners.Finally,ourresultsmaynotgeneralizeto
proprietary projects and projects in other programming languages
/ ecosystems (e.g., JavaScript/npm, Python/PyPI, etc). Intuitively,
the results maydifferbecause of difference inapplicationdomain,
developerpreferences, andstakeholderinterest,andweleave the
investigation ofecosystem differences as future work.
8 CONCLUSION AND FUTUREWORK
In this paper, we conduct a descriptive mixed methods study on
howandwhylibrarymigrationshappeninJava softwareprojects.
Our contributions are 1) A framework for quantifying dependency
changes and library migrations based on version control data. 2)
Findings regarding prevalence, trends and rationales of library
migration in Java projects. 3) A largest dataset to-date in the topic
of library migration. As future work, we plan to understand the
decision-making process of library migration, and evaluate the
practicalityofexistingautomatedapproachesforlibrarymigration.
ACKNOWLEDGMENTS
ThisworkissupportedbytheNationalKeyR&DProgramofChina
Grant2018YFB1004201andtheNationalNaturalScienceFounda-
tion of China Grant 61825201. We would also like to thank the
anonymous reviewers for their constructive feedback.
488ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece HaoHe,Runzhi He,HaiqiaoGu,andMinghuiZhou
REFERENCES
[1]MahmoudAlfadel,DiegoEliasCosta,andEmadShihab.2021. EmpiricalAnalysis
of Security Vulnerabilities in Python Packages. In 28th IEEE International Confer-
enceonSoftwareAnalysis,EvolutionandReengineering,SANER2021,Honolulu,
HI, USA,March 9-12, 2021 . IEEE,446Å›457. https://doi.org/10.1109/SANER50967.
2021.00048
[2]Hussein Alrubaye, Deema Alshoaibi, Eman Abdullah AlOmar, Mohamed Wiem
Mkaouer, and Ali Ouni. 2020. How Does Library Migration Impact Software
Quality and Comprehension? An Empirical Study. In Reuse in Emerging Software
Engineering Practices - 19th International Conference on Software and Systems
Reuse, ICSR 2020, Hammamet, Tunisia, December 2-4, 2020, Proceedings . Springer,
245Å›260. https://doi.org/10.1007/978-3-030-64694-3_15
[3]HusseinAlrubaye,MohamedWiemMkaouer,IgorKhokhlov,LeonReznik,Ali
Ouni, and Jason Mcgoff. 2020. Learning to recommend third-party library mi-
gration opportunities at the API level. Appl. Soft Comput. 90 (2020), 106140.
https://doi.org/10.1016/j.asoc.2020.106140
[4]Hussein Alrubaye, Mohamed Wiem Mkaouer, and Ali Ouni. 2019. On the use
of information retrieval to automate the detection of third-party Java library
migration at the method level. In Proceedings of the 27th International Conference
onProgramComprehension,ICPC2019,Montreal,QC,Canada,May25-31,2019 .
IEEE / ACM,347Å›357. https://doi.org/10.1109/ICPC.2019.00053
[5]ThiagoTonelliBartolomei,KrzysztofCzarnecki,andRalfLÃ¤mmel.2010. Swingto
SWTandback:PatternsforAPImigrationbywrapping.In 26thIEEEInternational
ConferenceonSoftwareMaintenance(ICSM2010),September12-18,2010,Timisoara,
Romania. IEEE Computer Society, 1Å›10. https://doi.org/10.1109/ICSM.2010.
5610429
[6]ThiagoTonelliBartolomei,KrzysztofCzarnecki,RalfLÃ¤mmel,andTijsvander
Storm.2009. StudyofanAPIMigrationforTwoXMLAPIs.In SoftwareLanguage
Engineering, Second International Conference, SLE 2009, Denver, CO, USA, October
5-6, 2009, Revised Selected Papers . Springer, 42Å›61. https://doi.org/10.1007/978-3-
642-12107-4_5
[7]GabrieleBavota,GerardoCanfora,MassimilianoDiPenta,RoccoOliveto,and
SebastianoPanichella.2015. HowtheApachecommunityupgradesdependencies:
an evolutionary study. Empir. Softw. Eng. 20, 5 (2015), 1275Å›1317. https://doi.
org/10.1007/s10664-014-9325-9
[8] CÃ©dricBeust. 2019. TestNG- Welcome. https://testng.org/
[9]Christian Bird, Peter C. Rigby, Earl T. Barr, David J. Hamilton, Daniel M. Ger-
mÃ¡n,andPremkumarT.Devanbu.2009. Thepromisesandperilsofmininggit.
InProceedings of the 6th International Working Conference on Mining Software
Repositories, MSR 2009 (Co-located with ICSE), Vancouver, BC, Canada, May 16-17,
2009, Proceedings . IEEE Computer Society, 1Å›10. https://doi.org/10.1109/MSR.
2009.5069475
[10]Vincent D Blondel, Jean-Loup Guillaume, Renaud Lambiotte, and Etienne Lefeb-
vre. 2008. Fast unfolding of communities in large networks. Journal of Sta-
tistical Mechanics: Theory and Experiment 2008, 10 (2008), P10008. https:
//doi.org/10.1088/1742-5468/2008/10/p10008
[11] Virginia Braun and VictoriaClarke. 2012. Thematic analysis. (2012).
[12]Chunyang Chen and Zhenchang Xing. 2016. SimilarTech: automatically rec-
ommend analogical libraries across different programming languages. In Pro-
ceedings of the 31st IEEE/ACM International Conference on Automated Soft-
ware Engineering, ASE 2016, Singapore, September 3-7, 2016 . ACM, 834Å›839.
https://doi.org/10.1145/2970276.2970290
[13]ChunyangChen,ZhenchangXing,YangLiu,andKentOngLongXiong.2021.
Mining Likely Analogical APIs Across Third-Party Libraries via Large-Scale
Unsupervised API Semantics Embedding. IEEE Trans. Software Eng. 47, 3 (2021),
432Å›447. https://doi.org/10.1109/TSE.2019.2896123
[14]JailtonCoelhoandMarcoTulioValente.2017. Whymodernopensourceprojects
fail. InProceedings of the 2017 11th Joint Meeting on Foundations of Software
Engineering,ESEC/FSE2017,Paderborn,Germany,September4-8,2017 .ACM,186Å›
196.https://doi.org/10.1145/3106237.3106246
[15]Filipe Roseiro Cogo, Gustavo Ansaldi Oliva, and Ahmed E Hassan. 2019. An em-
piricalstudyofdependencydowngradesinthenpmecosystem. IEEETransactions
onSoftwareEngineering (2019).https://doi.org/10.1109/TSE.2019.2952130
[16]Filipe Roseiro Cogo, Gustavo Ansaldi Oliva, and Ahmed E Hassan. 2021. Depre-
cationofpackages and releasesinsoftware ecosystems: Acasestudy onnpm.
IEEETransactionsonSoftwareEngineering (2021).https://doi.org/10.1109/TSE.
2021.3055123
[17]Bruce Collie, Philip Ginsbach, Jackson Woodruff, Ajitha Rajan, and Michael F. P.
Oâ€™Boyle. 2020. M3: Semantic API Migrations. In 35th IEEE/ACM International
ConferenceonAutomatedSoftwareEngineering,ASE2020,Melbourne,Australia,
September 21-25, 2020 . IEEE,90Å›102. https://doi.org/10.1145/3324884.3416618
[18]Luis Fernando Cortes-Coy, Mario Linares VÃ¡squez, Jairo Aponte, and Denys
Poshyvanyk. 2014. On Automatically Generating Commit Messages via Summa-
rization of Source Code Changes. In 14th IEEE International Working Conference
on Source Code Analysis and Manipulation, SCAM 2014, Victoria, BC, Canada,
September 28-29, 2014 . IEEE Computer Society, 275Å›284. https://doi.org/10.1109/
SCAM.2014.14[19]JoelCox,EricBouwers,MarkoC.J.D.vanEekelen,andJoostVisser.2015.Measur-
ing Dependency Freshness in Software Systems. In 37th IEEE/ACM International
Conference on Software Engineering, ICSE 2015, Florence, Italy, May 16-24, 2015,
Volume2.IEEEComputerSociety,109Å›118. https://doi.org/10.1109/ICSE.2015.140
[20]RussCox.2019. Survivingsoftwaredependencies. Commun.ACM 62,9(2019),
36Å›43.https://doi.org/10.1145/3347446
[21]Daniela S. Cruzes and Tore DybÃ¥. 2011. Recommended Steps for Thematic
SynthesisinSoftwareEngineering.In Proceedingsofthe5thInternationalSym-
posiumonEmpiricalSoftwareEngineeringandMeasurement,ESEM2011,Banff,
AB, Canada, September 22-23, 2011 . IEEE Computer Society, 275Å›284. https:
//doi.org/10.1109/ESEM.2011.36
[22]Fernando LÃ³pez de la Mora and Sarah Nadi. 2018. An Empirical Study of
Metric-basedComparisonsofSoftwareLibraries.In Proceedingsofthe14thIn-
ternational Conference on Predictive Models and Data Analytics in Software En-
gineering, PROMISE 2018, Oulu, Finland, October 10, 2018 . ACM, 22Å›31. https:
//doi.org/10.1145/3273934.3273937
[23]Alexandre Decan, Tom Mens, and Eleni Constantinou. 2018. On the Evo-
lution of Technical Lag in the npm Package Dependency Network. In 2018
IEEE International Conference on Software Maintenance and Evolution, ICSME
2018, Madrid, Spain, September 23-29, 2018 . IEEE Computer Society, 404Å›414.
https://doi.org/10.1109/ICSME.2018.00050
[24]AlexandreDecan,TomMens,andEleniConstantinou.2018. Ontheimpactof
security vulnerabilities in the npm package dependency network. In Proceedings
of the 15th International Conference on Mining Software Repositories, MSR 2018,
Gothenburg,Sweden,May28-29,2018 .ACM,181Å›191. https://doi.org/10.1145/
3196398.3196401
[25]AlexandreDecan,TomMens,andPhilippeGrosjean.2019. Anempiricalcompar-
ison of dependency network evolution in seven software packaging ecosystems.
Empir.Softw.Eng. 24,1(2019),381Å›416. https://doi.org/10.1007/s10664-017-9589-
y
[26]Vaclav Dedik. 2015. Replace org.json with jackson. https:
//github.com/release-engineering/pom-manipulation-ext/commit/
d7d4a0305e6b681e97e79b0510ca0b7570f2ed00
[27]Jens Dietrich, David J. Pearce, Jacob Stringer, Amjed Tahir, and Kelly Blincoe.
2019. Dependency versioning in the wild. In Proceedings of the 16th International
Conference on Mining Software Repositories, MSR 2019, 26-27 May 2019, Montreal,
Canada. IEEE / ACM,349Å›359. https://doi.org/10.1109/MSR.2019.00061
[28]FasterXML, LLC. 2019. FasterXML/jackson: Main Portal page for the Jackson
Project. https://github.com/FasterXML/jackson
[29]Python Software Foundation. 2021. PyPI: the Python package index. https:
//pypi.org/
[30]The Apache Software Foundation. 2021. Apache Maven Project. https://maven.
apache.org/
[31]GitHub,Inc.2021. AutolinkedreferencesandURLs. https://docs.github.com/en/
github/writing-on-github/autolinked-references-and-urls
[32] GitHub, Inc. 2021. GitHubAdvisoryDatabase. https://github.com/advisories
[33]Google, Inc. 2019. google/gson: A Java serialization/deserialization library to
convertJavaObjectsintoJSONand back. https://github.com/google/gson
[34] Gradle Inc. 2021. Gradle Build Tool. https://gradle.org/
[35]Hao He, Yulin Xu, Xiao Cheng, Guangtai Liang, and Minghui Zhou. 2021. Migra-
tionAdvisor: Recommending Library Migrations from Large-Scale Open-Source
Data.In43rdIEEE/ACMInternationalConferenceonSoftwareEngineering:Com-
panion Proceedings, ICSE Companion 2021, Madrid, Spain, May 25-28, 2021 . IEEE,
9Å›12.https://doi.org/10.1109/ICSE-Companion52605.2021.00023
[36]HaoHe,YulinXu,YixiaoMa,YifeiXu,GuangtaiLiang,andMinghuiZhou.2021.A
Multi-MetricRankingApproachforLibraryMigrationRecommendations.In 28th
IEEE International Conference on Software Analysis, Evolution and Reengineering,
SANER2021,Honolulu,HI,USA,March9-12,2021 .IEEE,72Å›83. https://doi.org/
10.1109/SANER50967.2021.00016
[37]Suhas Kabinna, Cor-Paul Bezemer, Weiyi Shang, and Ahmed E. Hassan. 2016.
Logginglibrarymigrations:AcasestudyfortheApacheSoftwareFoundation
projects.In Proceedingsofthe13thInternationalConferenceonMiningSoftware
Repositories, MSR 2016, Austin, TX, USA, May 14-22, 2016 . ACM,154Å›164. https:
//doi.org/10.1145/2901739.2901769
[38]Jeremy Katz. 2020. Libraries.io Open Source Repository and Dependency Metadata .
https://doi.org/10.5281/zenodo.3626071
[39]David Kavaler, Asher Trockman, Bogdan Vasilescu, and Vladimir Filkov. 2019.
Toolchoicematters:JavaScriptqualityassurancetoolsandusageoutcomesin
GitHubprojects.In Proceedingsofthe41stInternationalConferenceonSoftware
Engineering, ICSE 2019, Montreal, QC, Canada, May 25-31, 2019 . IEEE / ACM,
476Å›487. https://doi.org/10.1109/ICSE.2019.00060
[40] KlausKrippendorff. 2011. Computing Krippendorffâ€™s alpha-reliability. (2011).
[41]KlausKrippendorff.2018. Contentanalysis:Anintroductiontoitsmethodology .
Sagepublications.
[42]RaulaGaikovinaKula,DanielM.GermÃ¡n,TakashiIshio,andKatsuroInoue.2015.
Trustingalibrary:AstudyofthelatencytoadoptthelatestMavenrelease.In 22nd
IEEE International Conference on Software Analysis, Evolution, and Reengineering,
SANER 2015, Montreal, QC, Canada, March 2-6, 2015 . IEEE Computer Society,
489A Large-Scale Empirical StudyonJava Library Migrations: Prevalence, Trends, andRationales ESEC/FSE â€™21, August 23â€“28, 2021,Athens,Greece
520Å›524. https://doi.org/10.1109/SANER.2015.7081869
[43]Raula GaikovinaKula, DanielM. GermÃ¡n, Ali Ouni, Takashi Ishio, and Katsuro
Inoue.2018. Dodevelopersupdatetheirlibrarydependencies?-Anempirical
study on the impact of security advisories on library migration. Empir. Softw.
Eng.23,1 (2018), 384Å›417. https://doi.org/10.1007/s10664-017-9521-5
[44]Hemank Lamba, Asher Trockman, Daniel Armanios, Christian KÃ¤stner, Heather
Miller,andBogdanVasilescu.2020. HearditthroughtheGitvine:anempirical
studyoftooldiffusionacrossthenpmecosystem.In ESEC/FSEâ€™20:28thACMJoint
EuropeanSoftware Engineering Conference and Symposium onthe Foundations of
Software Engineering, Virtual Event, USA, November 8-13, 2020 . ACM, 505Å›517.
https://doi.org/10.1145/3368089.3409705
[45]Snyk Limited. 2021. Snyk | Developer security | Develop fast. Stay secure. https:
//snyk.io/
[46]Yuxing Ma, ChrisBogart, Sadika Amreen, Russell Zaretzki, and Audris Mockus.
2019. Worldofcode:aninfrastructureforminingtheuniverseofopensource
VCS data. In Proceedings of the 16th International Conference on Mining Software
Repositories, MSR 2019, 26-27 May 2019, Montreal, Canada . IEEE / ACM, 143Å›154.
https://doi.org/10.1109/MSR.2019.00031
[47]Yuxing Ma, Audris Mockus, Russell Zaretzki, Bogdan Bichescu, and Randy
Bradley. 2020. A Methodology for Analyzing Uptake of Software Technolo-
giesAmongDevelopers. IEEETransactionsonSoftwareEngineering (2020),1Å›1.
https://doi.org/10.1109/TSE.2020.2993758
[48]SamimMirhosseiniandChrisParnin.2017. Canautomatedpullrequestsencour-
age software developers to upgrade out-of-date dependencies?. In Proceedings of
the 32nd IEEE/ACM International Conference on Automated Software Engineering,
ASE2017,Urbana,IL,USA,October30-November03,2017 .IEEEComputerSociety,
84Å›94.https://doi.org/10.1109/ASE.2017.8115621
[49] Parastoo Mohagheghi and Reidar Conradi. 2007. Quality, Productivityand Eco-
nomicBenefitsofSoftwareReuse:AreviewofIndustrialStudies. Empir.Softw.
Eng.12,5 (2007), 471Å›516. https://doi.org/10.1007/s10664-007-9040-x
[50]MvnRepository.2021. MavenCentralRepository. https://mvnrepository.com/
repos/central
[51]Phuong T. Nguyen, Juri Di Rocco, Davide Di Ruscio, and Massimiliano Di Penta.
2020. CrossRec:Supportingsoftwaredevelopersbyrecommendingthird-party
libraries. J.Syst.Softw. 161(2020). https://doi.org/10.1016/j.jss.2019.110460
[52] npm, Inc. 2021. npm |Build amazingthings. https://www.npmjs.com/
[53]Ola Johansson and Markus Olausson. 2021. AlternativeTo: Crowd-SourcedSoft-
wareRecommendation. https://alternativeto.net/
[54]Oracle. 2021. JAR File Specification. https://docs.oracle.com/javase/8/docs/
technotes/guides/jar/jar.html
[55]Amantia Pano, Daniel Graziotin, and Pekka Abrahamsson. 2018. Factors and
actorsleadingtotheadoptionofaJavaScriptframework. Empir.Softw.Eng. 23,6
(2018), 3503Å›3534. https://doi.org/10.1007/s10664-018-9613-x
[56]Ivan Pashchenko, Henrik Plate, Serena Elisa Ponta, Antonino Sabetta, and Fabio
Massacci. 2018. Vulnerable open source dependencies: counting those that
matter.In Proceedingsofthe12thACM/IEEEInternationalSymposiumonEmpirical
Software Engineering and Measurement, ESEM 2018,Oulu, Finland, October 11-12,
2018. ACM,42:1Å›42:10. https://doi.org/10.1145/3239235.3268920
[57]RebeccaPassonneau.2006. Measuringagreementonset-valueditems(MASI)for
semantic and pragmatic annotation. (2006).
[58] QOS.ch. 2019. Logback Project. http://logback.qos.ch/
[59] QOS.ch. 2019. SLF4J:Simple LoggingFacadefor Java. http://www.slf4j.org/
[60]Patrick Riehmann, Manfred Hanfler, and Bernd Froehlich. 2005. Interactive
Sankey Diagrams. In IEEE Symposium on Information Visualization (InfoVis 2005),
23-25 October 2005, Minneapolis, MN, USA . IEEE Computer Society, 233Å›240.
https://doi.org/10.1109/INFVIS.2005.1532152
[61]Mohamed Aymen Saied, Ali Ouni, Houari A. Sahraoui, Raula Gaikovina Kula,
KatsuroInoue,andDavidLo.2018. Improvingreusabilityofsoftwarelibraries
through usage pattern mining. J. Syst. Softw. 145 (2018), 164Å›179. https://doi.
org/10.1016/j.jss.2018.08.032
[62]DaniloSilva,NikolaosTsantalis,andMarcoTulioValente.2016.Whywerefactor?
confessions of GitHub contributors. In Proceedings of the 24th ACM SIGSOFT
InternationalSymposiumonFoundationsofSoftwareEngineering,FSE2016,Seattle,
WA, USA, November 13-18, 2016 . ACM, 858Å›870. https://doi.org/10.1145/2950290.
2950305
[63]Snyk. 2020. JVMEcosystemReport2020. https://snyk.io/wp-content/uploads/
jvm_2020.pdf
[64]WhiteSourceSoftware.2021. WhiteSource:OpenSourceSecurityandLicense
ManagementSolution. https://www.whitesourcesoftware.com/
[65]CÃ©sar Soto-Valero, Amine Benelallam, Nicolas Harrand, Olivier Barais, and
Benoit Baudry. 2019. The emergence of software diversity in Maven Central.
InProceedings of the 16th International Conference on Mining Software Repos-
itories, MSR 2019, 26-27 May 2019, Montreal, Canada . IEEE / ACM, 333Å›343.
https://doi.org/10.1109/MSR.2019.00059
[66]CÃ©sarSoto-Valero,NicolasHarrand,MartinMonperrus,andBenoitBaudry.2021.
A comprehensive study of bloated dependencies in the Maven ecosystem. Empir.
Softw.Eng. 26,3 (2021), 45. https://doi.org/10.1007/s10664-020-09914-8[67]StackOverflow Users. 2020. Can I squash a merge commit with one of its prede-
cessors? https://stackoverflow.com/questions/61906251/can-i-squash-a-merge-
commit-with-one-of-its-predecessors
[68]Xin Tan and Minghui Zhou. 2019. How to Communicate when Submitting
Patches: An Empirical Study of the Linux Kernel. Proc. ACM Hum. Comput.
Interact.3,CSCW(2019), 108:1Å›108:26. https://doi.org/10.1145/3359210
[69]CÃ©dricTeyton,Jean-RÃ©myFalleri,andXavierBlanc.2012. MiningLibraryMi-
grationGraphs.In 19thWorkingConference on ReverseEngineering,WCRE 2012,
Kingston, ON, Canada, October 15-18, 2012 . IEEE Computer Society, 289Å›298.
https://doi.org/10.1109/WCRE.2012.38
[70]CÃ©dricTeyton,Jean-RÃ©my Falleri,andXavierBlanc.2013. Automaticdiscovery
offunctionmappingsbetweensimilarlibraries.In 20thWorkingConferenceon
Reverse Engineering, WCRE 2013, Koblenz, Germany, October 14-17, 2013 . IEEE
Computer Society, 192Å›201. https://doi.org/10.1109/WCRE.2013.6671294
[71]CÃ©dric Teyton, Jean-RÃ©my Falleri, Marc Palyart, and Xavier Blanc. 2014. A study
of library migrations in Java. J. Softw. Evol. Process. 26, 11 (2014), 1030Å›1052.
https://doi.org/10.1002/smr.1660
[72]The Apache Software Foundation. 2012. Apache Log4j 1.2. https://logging.
apache.org/log4j/1.2/
[73]The Apache Software Foundation. 2014. Apache Commons Logging - Overview.
https://commons.apache.org/proper/commons-logging/
[74]TheApacheSoftwareFoundation.2020. Log4j-ApacheLog4j2. https://logging.
apache.org/log4j/2.x/
[75] The JUnit Team. 2020. JUnit - About. https://junit.org/junit4/
[76]Ferdian Thung, David Lo, and Julia L. Lawall. 2013. Automated Library Rec-
ommendation.In 20thWorkingConferenceonReverseEngineering,WCRE2013,
Koblenz, Germany, October 14-17, 2013 . IEEE Computer Society, 182Å›191. https:
//doi.org/10.1109/WCRE.2013.6671293
[77]MaratValiev,BogdanVasilescu,andJamesD.Herbsleb.2018. Ecosystem-levelde-
terminantsofsustainedactivityinopen-sourceprojects:acasestudyofthePyPI
ecosystem.In Proceedingsofthe2018ACMJointMeetingonEuropeanSoftware
EngineeringConferenceand Symposiumon the Foundations ofSoftwareEngineer-
ing, ESEC/SIGSOFT FSE 2018, Lake Buena Vista, FL, USA, November 04-09, 2018 .
ACM,644Å›655. https://doi.org/10.1145/3236024.3236062
[78]Enrique Larios Vargas, MaurÃ­cio Finavaro Aniche, Christoph Treude, Magiel
Bruntink, and Georgios Gousios. 2020. Selecting third-party libraries: the
practitionersâ€™ perspective. In ESEC/FSE â€™20: 28th ACM Joint European Soft-
ware Engineering Conference and Symposium on the Foundations of Software
Engineering, Virtual Event, USA, November 8-13, 2020 . ACM, 245Å›256. https:
//doi.org/10.1145/3368089.3409711
[79]BenoÃ®t Verhaeghe, Anne Etien, Nicolas Anquetil, Abderrahmane Seriai, Laurent
Deruelle,StÃ©phaneDucasse,andMustaphaDerras.2019. GUIMigrationusing
MDEfromGWTtoAngular6:AnIndustrialCase.In 26thIEEEInternationalCon-
ferenceonSoftwareAnalysis,EvolutionandReengineering,SANER2019,Hangzhou,
China, February 24-27, 2019 . IEEE, 579Å›583. https://doi.org/10.1109/SANER.2019.
8667989
[80]YingWang,BihuanChen,KaifengHuang,BowenShi,CongyingXu,XinPeng,
YijianWu,andYangLiu. 2020. AnEmpiricalStudy ofUsages,UpdatesandRisks
of Third-Party Libraries in Java Projects. In IEEE International Conference on
Software MaintenanceandEvolution, ICSME 2020, Adelaide, Australia, September
28-October2,2020 .IEEE,35Å›45. https://doi.org/10.1109/ICSME46990.2020.00014
[81]BowenXu,LeAn,FerdianThung,FoutseKhomh,andDavidLo.2020. Whyrein-
venting the wheels? An empirical study on library reuse and re-implementation.
Empir. Softw. Eng. 25, 1 (2020), 755Å›789. https://doi.org/10.1007/s10664-019-
09771-0
[82]ShengzheXu,ZiqiDong,andNaMeng.2019. Meditor:inferenceandapplication
of API migration edits. In Proceedings of the 27th International Conference on
ProgramComprehension,ICPC2019,Montreal,QC,Canada,May25-31,2019 .IEEE
/ ACM,335Å›346. https://doi.org/10.1109/ICPC.2019.00052
[83]Likang Yin and Vladimir Filkov. 2020. Team Discussions and Dynamics Dur-
ing DevOps Tool Adoptions in OSS Projects. In 35th IEEE/ACM International
ConferenceonAutomatedSoftwareEngineering,ASE2020,Melbourne,Australia,
September 21-25, 2020 . IEEE,697Å›708. https://doi.org/10.1145/3324884.3416640
[84]Ahmed Zerouali, Eleni Constantinou, Tom Mens, Gregorio Robles, and JesÃºs M.
GonzÃ¡lez-Barahona. 2018. An Empirical Analysis of Technical Lag in npm Pack-
ageDependencies.In NewOpportunitiesforSoftwareReuse-17thInternational
Conference, ICSR 2018, Madrid, Spain, May 21-23, 2018, Proceedings . Springer,
95Å›110.https://doi.org/10.1007/978-3-319-90421-4_6
[85]HaoZhong,SureshThummalapenta,TaoXie,Lu Zhang, andQingWang.2010.
MiningAPImappingforlanguagemigration.In Proceedingsofthe32ndACM/IEEE
InternationalConferenceonSoftwareEngineering-Volume1,ICSE2010,CapeTown,
South Africa, 1-8 May 2010 . ACM, 195Å›204. https://doi.org/10.1145/1806799.
1806831
[86]Markus Zimmermann, Cristian-Alexandru Staicu, Cam Tenny, and Michael
Pradel. 2019. Small World with High Risks: A Study of Security Threats in
the npm Ecosystem. In 28th USENIX Security Symposium, USENIX Security 2019,
SantaClara, CA,USA, August 14-16, 2019 . USENIXAssociation, 995Å›1010.
490