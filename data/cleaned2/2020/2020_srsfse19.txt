dimensions of software configuration on the configuration context in modern software development norbert siegmund leipzig university germanynicolai ruckel bauhaus universit t weimar germanyjanet siegmund chemnitz university of technology germany abstract with the rise of containerization cloud development and continuous integration and delivery configuration has become an essential aspect not only to tailor software to user requirements but also to configure a software system s environment and infrastructure.
this heterogeneity of activities domains and processes blurs the term configuration as it is not clear anymore what tasks artifacts or stakeholders are involved and intertwined.
however each research study and each paper involving configuration places their contributions and findings in a certain context without making the context explicit.
this makes it difficult to compare findings translate them to practice and to generalize the results.
thus we set out to evaluate whether these different views on configuration are really distinct or can be summarized under a common umbrella.
by interviewing practitioners from different domains and in different roles about the aspects of configuration and by analyzing two qualitative studies in similar areas we derive a model of configuration that provides terminology and context for research studies identifies new research opportunities and allows practitioners to spot possible challenges in their current tasks.
although our interviewees have a clear view about configuration it substantially differs due to their personal experience and role.
this indicates that the term configuration might be overloaded.
however when taking a closer look we see the interconnections and dependencies among all views arriving at the conclusion that we need to start considering the entire spectrum of dimensions of configuration.
ccs concepts software and its engineering software configuration management and version control systems software creation and management .
keywords dimensions of software configuration variability configuration management and life cycle developer study permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
esec fse november virtual event usa association for computing machinery.
acm isbn .
.
.
.
reference format norbert siegmund nicolai ruckel and janet siegmund.
.
dimensions of software configuration on the configuration context in modern software development.
in proceedings of the 28th acm joint european software engineering conference and symposium on the foundations of software engineering esec fse november virtual event usa.
acm new york ny usa pages.
introduction software configuration is a hot topic in research and industry .
despite its importance there are many different views about what aspects comprise configuration and how they interact.
for example in combinatorial testing configuration is usually seen as a set of input variables and parameters to a program that needs to be tested in software product lines configuration corresponds to a selection of features or configuration options for generating a program variant with a desired functional behavior in optimization the set of configuration options and parameters are regarded as configuration for optimizing non functional properties and in the deployment process configuration is a means to define where when what and how to deploy software artifacts.
there are many more areas related to configuration such as virtualization provisioning of software and machine learning that all come with their own objectives problems and best practices.
this diversity might be one reason why a holistic view on configuration does not exist in software engineering research.
another reason might be that there is no obvious connection between configuration activities in these different fields.
however the way software is developed has changed substantially in recent years due to innovations in tools architectures and processes such as virtualization and containerization continuous integration and delivery devops microservices and serverless systems cloud infrastructure and deployment automation .
all these areas involve a non trivial amount of configuration and more importantly highly interact with each other which one interviewee describes this way these developments framed the term infrastructure as code which can be interpreted as codifying the configuration of the infrastructure and residing it next to the application s code .
with the recent trends in architecture such as microservices it is becoming more important.
the more distributed and thus complex systems are the more complex the problems get.
so i use tools to catch these problems.
a simple example is when i start a spring boot application and this works standalone then it is totally trivial.
as soon as i start booting multiple of them the traditional way would be to take spring cloud.
but then every spring boot application taken into spring cloud has a properties file with not but entries.
all configuration.
all of them are there to configure the tools that are supposed to make life easier.
hence there is an exponential explosion of configuration options 338esec fse november virtual event usa norbert siegmund nicolai ruckel and janet siegmund which all can break.
and this is why i would say it is becoming more important.
i1 this high degree of interaction requires researchers to overcome the isolated view of configuration and instead integrate different views of configuration into research making transfer to a realistic setting easier.
for example combinatorial testing aims at finding bugs in a program by covering a diverse set of combinations of input parameters and options.
however we found in our interviews that not all options and settings are available at the same time due to a step wise configuration process.
also the availability of data for testing depends on the deployment stage whereas knowledge about configuration settings is distributed over a diverse set of stakeholders.
hence combinatorial testing needs to take this diversity into account to be more generally applicable in practice.
in addition to a limited applicability research results could even be misleading when not considering the entire context of configuration.
consider for example the vast amount of research on performance optimization of configurable software systems such as sampling relevant configurations accurate performance prediction or finding performance optimal configurations .
these techniques usually consider only a static environment with a constant workload which rarely occurs in practice due to virtualization and containerization.
having different stages with different data and with different virtualized hardware makes a performance model hardly transferable even when using transfer learning to reuse knowledge in different settings e.g.
often performance influencing factors are even unknown such as optional jvm flags when running a java application in a container.
in essence we do not know which types of configuration exist which binding times of configuration values are prevalent for which types of configurations which stakeholders are involved in configuration and what tasks during software development require configuration.
furthermore all these factors interact but we do not know how.
thus we set out to shed light on which factors comprise configuration and how they interact.
this work is the first attempt to frame the term configuration into a comprehensive model by interviewing a diverse set of practitioners about their experience with configuration.
by considering developers testers consultants devops and cloud software architects we obtain a broad view on configuration ranging from software configuration via feature toggles over technical configuration via environment variables to infrastructure and development configuration via cloud settings and continuous integration and delivery ci cd customizations.
by further analyzing two qualitative studies in a meta study we broaden the scope and saturate on the values and dimensions of configuration.
we found that configuration is a complex task cutting across the entire software life cycle involves a diverse set of stakeholders impacts infrastructure and development activities and is most importantly a highly context sensitive process.
in building a comprehensive model about aspects of configuration we provide a framework for researchers to place their work and studies into context and derive what factors need to be considered as we show in section .
this helps to understand how research results apply to what interacting aspects of configuration including their limitations and practical relevant circumstances.
furthermore it can guide research of each isolated area to ask the right questions and also how to combine these areas to increasepractical relevance.
for practitioners the framework can be a means for orientation such that stakeholders can place their current configuration activity in the model and derive possible interactions with and implications for other stakeholders.
scope and limitations.
clearly this work is not exhaustive as there are many domains such as embedded systems operating systems intelligent systems and cloud applications that all have their own perspective on configuration.
we focus on enterprise applications cloud applications and rich clients thereby addressing a large and relevant field.
our performed mixed method approach using a literature study of related work substantially widens the scope and validates our findings.
further we selected a wide variety of stakeholders to view configuration through different lenses.
methodology building a model on configuration requires a sound methodological approach as a single study is insufficient to explore the diverse perspectives on configuration.
our overall methodological approach follows grounded theory which is rooted in social science for theory building based on the analysis of mostly qualitative data such as interviews questionnaires and literature analyzes.
contrary to common research practice in software engineering grounded theory starts with a single question and gathering qualitative data.
questions for interviews are not driven by related studies not to be biased in a certain direction.
instead the collected data is reviewed and analyzed continuously such that interview questions are adapted during the course of developing ideas concepts and a model in the end.
the rationale of using grounded theory here is that developing a model about configuration requires starting with an unbiased view to cover as many aspects of configuration as possible rather than starting with related studies that already frame the picture of configuration.
we used a mixed method approach first we conducted several interviews to explore as many aspects as possible that involve configuration see section .
based on which we developed an initial model of configuration.
here we extracted dimensions with values in total.
second we analyzed two closely related papers to i validate our findings and ii extend our model yielding additional dimension and new values.
finally we selected additional research papers in total from different domains that involve the aspect of configuration to iii verify the applicability of our model and iv identify gaps in current research leading to new research opportunities.
next we describe our methodology in detail starting with the interviews.
.
qualitative study participants.
to understand the view of practitioners on configuration we conducted semi structured interviews with practitioners cf.
table from different companies ranging from small dozens over medium hundreds to large hundreds of thousands of employees codecentric ag salesforce red hat xceptance 4soft regiocom rewe digital accenture and an e commerce company.
the companies are distributed both locally in europe and globally.
with this broad sample our results are relevant for many software companies and practitioners.
339dimensions of software configuration esec fse november virtual event usa table overview of our interviewees id including a summary of their experience exp.
in years and expertise.
idexp.
role domains i110 y consultant senior developer devops fullstack i214 y developer backend microservice i322 y developer software architect devops microservice i415 y developer test engineer backend i511 y senior developer backend microservice i6 ysoftware architect backend microservice i7 yteam lead fullstack i819 y cloud foundation architect backend i9 ydeveloper backend i10 yconsultant tester developer fullstack i1120 y senior software engineer frontend interview.
we designed and continuously refined several interview questions to guide us in exploring aspects of configuration.
.
they can be divided into five categories.
the first category collects background information on developers summarized in table .
the remaining categories cover several aspects of configuration.
we started with general questions regarding configuration so that we captured the intuitive understanding of practitioners view on configuration.
this way we could shed light on how practitioners depending on their role view configuration which helped us to understand the different dimensions that affect configuration.
then we asked practitioners about their every day work with configuration and to describe challenges when working with configuration.
this allowed us to determine where practitioners struggle.
finally we asked about best practices and areas for improvement by including hypothetical questions.
this way we could identify relevant questions giving guidance on configuration research.
execution and analysis.
each interview was conducted with one practitioner and the first two authors except on one occasion where we interviewed two practitioners at once.
each interview lasted about minutes and was recorded and transcribed available on the project s website .
based on the transcription we applied a card sorting approach to identify higher order topics .
the card sorting process has been conducted by all authors of the paper to include an unbiased view during concept generation.
the process was as follows we conducted the card sorting participant by participant and question by question.
every author read through a question and made notes such as mentioned artifacts problems during configuration involved stakeholders or guidelines and processes in the company.
after these individual readings and marked higher order topics we compared and discussed our findings.
after reaching consensus that all higher order topics for one response have been identified we moved on to the next question.
open questions and missing information were discussed to possibly phrase a new question in the upcoming interviews following grounded theory.
for the annotations we quickly saw categories emerging such as artifacts the intent of the configuration or when 1the entire final set of questions and all material are available at are made.
we could phrase questions for most of these categories which later end up in the dimensions such as what is configured when it is configured howthe configuration process is handled etc.
since answers to these questions reappeared in every interview we came to dimensions questions categories with different values different answers to the same question .
moreover we could also spot interactions among dimensions such as who configures what atwhich state?
this process has been performed for all interviews.
afterwards we went through all transcripts again to make sure that dimensions artifacts and interactions that we extracted from later interviews have not been missed in the earlier interviews.
since three authors performed this task first individually per question to not bias a personal opinion and afterwards discussing and comparing the results the reported dimensions and artifacts are an agreement.
the only rare cases with disagreement were when it was not clear whether to further split dimensions.
for instance the intent dimension is rather broad and could be divided into smaller multiple dimensions such as one for functional and one for non functional configuration.
however this would have cluttered the model with too many dimensions of which a large portion may never be relevant.
instead we chose a modeling approach where each dimension is possibly always involved when it comes to software configuration.
.
meta study to validate the findings of the interviews extend the scope and show how to incorporate previous work into a holistic model we analyzed two papers that reported on related interviews from practitioners from which we can infer additional aspects of configuration.
the first two authors individually read each paper carefully and made annotations cards similar to the card sorting phase.
we then compared the annotations with the dimensions and values already found.
despite a large agreement we found additional values due to the increased scope of these papers and also the new complexity dimension caused by the implementation specific and technical interviews in .
interestingly for the remaining papers we found no new dimension or value which substantially increases our confidence to have covered a substantial spectrum of configuration aspects.
next we give a short summary about the papers and explain their relevance.
study what is a feature?
berger and others conducted a study about the meaning usage and interpretation of the term feature .
they interviewed six stakeholders developers product managers architects of three companies keba opel danfoss to understand their use of features in devising configurable software systems and product lines how they model features how features arise during development and how they are used.
as features are a central element of configuration the study represents an important source of possible dimensions of configuration.
to relate the results of the study to our configuration model two authors of this paper read carefully through the interview responses summarized in table in the paper by berger and others .
contrasting to our terminology berger and others summarized their responses based on facets of features .
for each facet we identified whether it is comparable to an existing dimension from our own interviews.
if we could not find a matching dimension we discussed 340esec fse november virtual event usa norbert siegmund nicolai ruckel and janet siegmund stakeholdertype binding time artifactstage life cycleintent complexity prod pre prod test devcode reuse a b t estingunknown environmentnon functionalfunctional domaintechnicalinfrastructuredevelopment build deployment load t ime run t imedevs devopsops technical user create maintain bind own deprecate removedatabaseconfig fileconfig codesource code feature model product mapspreadsheet guienvironment v ariableno dependencylow dependencyhigh dependency local scopedistributed scope preprocessor code directory servicereduced t esting ef fortdistributed development ... ...knowledge preservation end user... figure dimensions of configurations and their values encoded by origin of study our study s0as black s1as blue and s2as red.
whether the facets represent a new dimension of configuration.
moreover when finding a matching dimension we verified whether the values of a dimension has already been covered by our interview questions.
if not we added a new value.
in section we report which dimensions and values have been added this way.
study software configuration engineering in practice.
sayagh and others conducted a qualitative study about the engineering process of run time configuration options in industry .
they identify challenges and best practices about creating maintaining and using configuration options across different software artifacts.
as another result they extracted nine activities related to configuration which partially map to our dimensions of configuration.
moreover they identified recommendations for improving software quality with respect to configuration and challenges that developers face.
the study has been conducted in three phases first the authors interviewed software engineers from companies government to banking system vendors to obtain common topics of configuration activities using card sorting .
next they conducted a survey to extend the scope and refine the answers yielding responses.
finally they performed a literature survey on the identified activities to complement the obtained recommendations with academic approaches for which they also used card sorting.
we went through the responses and identified activities and match them with the previously revised model to possibly extend it.
results a model on configuration we call the extracted higher order topics playing part in configuration dimensions of configuration .
we discuss each dimension and explain their meaning based on the interviews.
based on our research methodology we iteratively explore more dimensions and values by taking related interviews and survey answers of the two studies section .
into account.
due to space limitations we report only on the final model not intermediate steps but highlightat the beginning of each dimension the study from which their values originate with the following subscript our study s0 s1 and s2.
to give an overview of our model we summarize the origin of the dimensions of configurations and their values from the different sources of our analysis in figure .
formalization.
to apply our model to giving context to research studies or exploring new research opportunities we formalize the dimensions and values as a directed acyclic graph dag .
annotated vertices represent dimensions of our model where an annotation represents a value as shown in figure page .
this way a single dimension can occur multiple times in the graph with different values.
edges represent interactions between two dimensions and are thus directed.
for example if we analyze how end users stakeholder dimension configure bind an option in the life cycle dimension for the purpose of performance optimization intent dimension considering only run time options binding time dimension we will obtain the following graph stakeholder end userintent non functionallife cycle bindbinding t ime runtime from this graph we can immediately see possible generalizations and limitations by comparing it with our model in figure .
for instance we cannot know how end users would configure load time options or what the influence of different artifacts is on the way how end users optimize their software systems.
interestingly also the type of configuration has not been specified so it is unclear whether the users configure options more related to the application s domain or more related to infrastructure or technical issues.
in our literature analysis from papers we saw such examples and show them on our supplementary website.
often unspecified dimensions lead to ambiguity in interpreting results and general questions about transferring research to industry.
our model helps in identifying ambiguity and missing dimensions in research involving configuration.
.
stakeholder stakeholder values developer s0 devops s0 opss0 user s2this dimension describes everyone who deals with configuration.
traditionally there are three groups of stakeholders with clearly separated roles users configure a software system according to their needs leading to the development of software product lines and configurable software systems .operations peopleadministrate maintain and configure the underlying hardware system the operating system firewalls and other environmental and infrastructure related systems.
the configuration here has mainly the goal to optimize non functional properties such as security reliability and resource usage.
finally developers may provide an initial configuration that should work for most scenarios and usually create configuration options in the first place.
all of those stakeholder categories can be further divided to show role specific aspects.
with the devops age more stakeholders are affected by configuration and the clear separation between these groups of stakeholders blurred.
most prominently the role of devops has blurred the former strongly separated tasks of software development software 341dimensions of software configuration esec fse november virtual event usa maintenance and operation.
now a developer may be responsible for configuring the environment of the software system e.g.
using docker and the infrastructure e.g.
database connection microservice deployment resource management and network communication as one interviewee stated with the devops approach requirements have changed i know older developers who need to change their mindset that they now own their run time environment.
so they not only need to understand the technology and what happens there but also give recommendations for configurations or apply configurations on their own and take responsibility for them.
i8 consequences the involvement of different stakeholders from different backgrounds in the configuration process strongly influences how configuration is presented validated and maintained.
thinking about configuration in terms of stakeholders will arrive at variability models whose presence of configuration options may change depending on the stakeholder i give some thoughts about what is required what is maybe even optional and what should be hidden from the end customer.
and in some way i do the same for the internal stakeholders.
he configures the things that are hidden but also for him there is the question of what should he know what should he query from others or get from somewhere else what is optional what should be avoided or what is a deprecated feature that you can configure in theory but we never want to activate it again.
so we want to have an interface description for a configuration to follow it in a way that i know how it works.
i9 thus when working with configurations be it in research e.g.
for performance improvements or industry e.g.
planning which artifacts are used for an option and how to change the values practitioners need distinct mechanisms how stakeholder dependent configurations can be modeled validated and stored in a suitable way which interacts with other dimensions of configuration and has not yet been addressed properly by the literature.
.
type of configuration type values development s0 technical s0 infrastructure s0 domain s0 2types of configuration describes what should be configured.
the interviewees identified two main types of configuration the domain specific configuration helps us to faster provide and customize functions to different customers.
and technical configuration can break many things if done wrong and would need more attention.
i7.
adomain specific configuration targets the software system from an end user perspective to tailor the system according to user s mostly functional requirements and often via feature toggles at run time.
by contrast technical configuration targets mainly the environment of a system or its deployment and hosting process e.g.
infrastructure system libraries and development tools .
the increasing trend of virtualized hardware and the increasing complexity of systems has emphasized the need for such a technical configuration.
interestingly technical configuration involves different stakeholders e.g.
developer devops ops compared to domainspecific configuration and usually is performed on different artifacts e.g.
automation scripts docker files kubernetes templates and at different binding times e.g.
compile time deployment time .technical configuration comprises infrastructure configuration anddevelopment configuration as the kind of tools configuration artifacts and configuration effort differ substantially.
infrastructure configuration refers to adjusting a software system to the underlying hardware and software such as connecting to the correct database system using a specific port or setting environmental variables in a docker file.
development configuration as stated in the interviews involves setting up development tools such as ides and build tools e.g.
implementing a maven or gradle build script the build and testing process e.g.
using jenkins as the continuous integration servers and automating the deployment process to different stages e.g.
testing or production and to different environments e.g.
cloud providers or cloud infrastructures .
consequences the different types of configuration have their own properties with a technical configuration you define it once and then it is automatically deployed and will be bound at application start at latest whereas the domain specific configuration is virtually in constant alteration depending on how the user changes it.
i6these properties which are mainly interactions with other dimensions of configuration require their own tools practices and training.
thus it is surprising that the literature usually does not differentiate or clearly articulate types of configuration .
for instance configuration in the product lines community refers to deriving functional different variants of a software system i.e.
domain specific configuration .
but technical configuration influences domain specific configuration and vice versa cf.
section .
so in a realistic setting it is difficult to ignore other types of configurations.
instead when conducting experiments in realistic settings these confounding factors need to be accounted for.
we also found that the terminology is not well standardized and may change depending on the stakeholder s perspective.
that is an infrastructure configuration can mean configuring the server infrastructure as we have defined it but also the development configuration i usually work on infrastructure configuration at project level.
that means i configure a jenkins job make sure that all the post and pre steps are called at the right time.
this is however way easier than a technical configuration that is the configuration of the project itself because there are simply more open parameters.
i4 thus a well defined terminology that is also accepted by practitioners can avoid confusion and help to separate configuration tasks which then can be handled by different expert groups.
the distinction within technical configuration is useful also in other regards as one interviewee mentioned that it would be a best practice to unify the development configuration within a team e.g.
where to put curly brackets which is hardly possible for infrastructure configuration.
but assuming that all such coding guidelines can be fully encoded in an ide configuration it becomes part of the software configuration process similar to infrastructure as code but on a different level of abstraction.
thus clarifying the type of configuration is a suitable way to organize responsibilities and to introduce conventions avoiding more configuration.
.
binding timebinding time values build s0 deployment s0 load time s0 run time s0 2binding time refers to the event of binding a configuration option to a certain value.
342esec fse november virtual event usa norbert siegmund nicolai ruckel and janet siegmund the binding time of an option varies largely depending on build time e.g.
in form of build scripts deployment time e.g.
in form of configuration files to load and run time e.g.
in form of properties files databases command line arguments or user interfaces .
hence binding time strongly interacts with the dimension s stakeholder type of configuration and configuration artifact often we domain specific things at compile time.
that are mostly properties files sometimes also derived classes.
but we have also the possibility to change certain settings during run time.
so we have outsourced some configurations to configuration files and databases and there you can change things at run time.
and then we have a third during deployment.
this is mainly in the direction of containers and kubernetes.
there we try to extract the configuration files from the actual programming artifacts to put them next .
and during deployment we use then a specific version of configuration.
i7 consequences thinking about an appropriate binding time of configuration options is an undervalued task in academia and practice.
we found that binding time is not fixed and should be changed when technical solutions make it possible usually microservices are relatively fast to deploy so that most of the time dynamic configuration is not needed.
so you reconfigure something in a file and redeploy the container.
i2understanding which binding time is suitable for what type of configuration and which are the pros and cons in the context of the other dimensions of configuration deserves more research.
nevertheless as identified best practice binding time should generally be as early as possible to enable better validation and follow the principle of fail fast.
.
configuration artifact artifact values source code s0 configuration code s0 configuration files0 database s0 commandline parameter s2 environment variable s2preprocessor code s1 directory service s1 feature model s1 spreadsheet s1 product map s1 gui s1this dimension describes how configuration manifests in development artifacts.
nowadays configurations are distributed in many artifacts that exhibit their own structure syntax and semantic.
we found that simple configuration files such as properties files or ini files are favored by our interviewees configuration should be easy.
it should have an easy format that is also comprehensible and that is easily readable by humans and has possibly few indirections.
frankly i don t want to create a programming language for configuration.
i11.
the main argument is that properties files are easy to understand and change.
an improved version are xml files as i have something like a schema behind which tells me there are only numbers allowed and you enter a string.
or this tag is allowed only for these children but this element is wrongly structured.
i11 which helps to validate configurations.
the more complex artifacts are build scripts container descriptions e.g.
docker files and automation scripts e.g.
ansible playbooks or jenkins files which we call configuration code .2an often stated problem is that they have their own syntax and semantics 2the artifact is often referred to infrastructure as code which is however only a subset of all codified configuration and automation processes that we comprise under this term.but no proper type system in kubernetes i have difficulties to cope with all the yaml files.
i can t see a structure behind them.
i11thus a stakeholder needs to learn by conventions how to write automation files and docker files but has no type checker or other validation tool to verify whether the defined configuration is feasible.
consequences there is a clash of interests that affects the choice of artifacts understandability and ease of use versus expressiveness.
developers prefer configuration artifacts that are easy to read manipulate and comprehend.
the ideal form seems to be key value pairs with additional comments on the meaning value ranges and effect of the configuration option as well as on possible interactions with other options.
moreover an improved variant with user defined types of configuration options to limit and validate configuration values e.g.
as done with xml schema reduces the danger of configuration errors and eases maintenance.
unfortunately since modern architectures are often distributed among several services nodes hardware systems and require a complex environment configuration with deployment dependencies and infrastructure constraints configuration is transforming into a programming task.
that is configuration must respect several conditions and has not just a single value binding but requires for example executing scripts or triggering other deployment processes.
hence to describe several configuration conditions expressiveness is needed.
it is unclear whether and how both worlds understandability and expressiveness can be unified.
but it is clear that with each new tool or framework that brings its own semantic the learning curve grows the maintenance effort increases and inconsistencies across multiple configuration artifacts rises .
.
stage stage values devs0 test s0 preproduction s0 production s0 2this dimension describes that configuration happens in different stages of the development process such as development or testing.
each stage usually describes a different infrastructure environment of the running system variables such as the jvm class path and available resources such as database systems.
additionally it is often strongly connected to a stage in the ci cd process in which a software system is deployed and executed.
typical stages include testing pre production and production.
consequences environments differ for the same software systems depending on the stages in which the software is currently running.
this has severe consequences as configuration must change depending on the stage and environment so you have your application which you can configure.
then you have your application in the environment in which it is deployed and there is an additional configuration that diverges.
i3.
this implies two things first we need a structured way to apply configurations only for specific environments similar to the findings of .
second we need a way to describe which options are valid and relevant in what environment.
these are two novel aspects that lack explicit support in current variability modeling languages and tools .
a further aspect is that the same configuration option can be bound via different configuration artifacts.
for example environment variables can be passed to the ci server via configuration of 343dimensions of software configuration esec fse november virtual event usa a docker file via configuration of the ci server itself or via configuration of automation scripts e.g.
with puppet or ansible .
so the question arises which stakeholder is responsible for which artifact and what configuration should be bound by which mechanism and at which binding time?
furthermore who owns the values when present multiple times and which artifact precedes others?
i believe systems are complex to configure where the configuration is split among different layers and one layer overwrites another one and at the end you can overwrite something at the command line.
this arrives at a degree of complexity where you don t exactly know when i turn on this switch what happens in the end ?
i11 stages influence however the configuration process in other ways.
later stages often involve secret keys and credentials to hide other confidential information.
usually developers have no access to these configuration values so an entirely new mechanism of deploying a configuration and obtaining configuration values e.g.
from a vault has to be implemented and tested.
this is one of the reasons why configuration errors might not be caught before a system is in production.
similarly stages differ in the amount and quality of input and testing data.
for instance the pre production stage is usually the first stage in which a software system can be tested with realistic data but at the cost of longer testing runs and higher hardware provisioning cost.
also at this stage performance tests provide closer aligned results with the production deployment.
hence the environment as well as the stage have a crucial impact not only on the configuration values but also on the mechanisms and tools of creating deploying and maintaining configurations.
this needs more attention from researchers.
.
configuration life cycle life cycle values create s0 maintain s1 bind s0 own s0 deprecate s2 remove s0this dimension describes the diverse aspects of configuration options from creation and maintenance over binding to deprecation that is all lifetime phases.
although some research has identified diverse problems when introducing more and more options it is often not clear that a configuration option has its own life cycle which starts in the requirements phase when for example a new optional feature is planned.
contrary to the literature we found in our interviews that configuration options are usually introduced in an ad hoc manner which decreases maintainability and increases configuration complexity.
the life cycle continues with the value binding.
that is at a certain point in time an option is bound to a certain value.
at this dimension the binding time is not so interesting but more importantly is the question who owns the value and for how long is the configuration valid .
owning means that there is a designated stakeholder who is able and responsible for reconfiguring rebinding an option s value or maintaining the option s code or functional representation.
so the stakeholder who initially sets a configuration value might not be responsible in the future to change or test it the developers say i can customize my application server with a certain vm size.
.
which vm size is later actually applied we don t know.
so we say okay we have tested it with this minimum and that maximum.
for what lays in between we can give guidance wherewe can say for that many products in a shop you would need the value a bit higher .
but the final configuration is done by the ops guys who say i know that this is this specific customer we have measured and these are the performance metrics so we change the configuration.
and thus they own the values and are responsible for them.
this stakeholder takes responsibility for the toggling and the others must live with it.
i8 the validity of a configuration with respect to time and not constraints between other options or the environment has only recently been in the focus of research .
however with the trend of on premise solutions serverless and functions and software as a service such timely restricted configurations be it of technical or domain specific nature will become more relevant and require novel solutions in configuration maintenance and evolution.
the developers need to know about such aspects to be able to prepare the system for invalid states that can occur at run time without an explicit trigger of a configuration process.
consequences we need to model and provide support for the life cycle of individual configuration options an aspect neglected so far in research.
with an explicit modeling we can better track why options are introduced see next dimension who binds the option s value and who owns the option s value.
knowing the stakeholders of these two separate phases binding and owning allows for better tool support and validation of the configuration values e.g.
developers provide reasonable default values and operations people adapt them to end user requirements and enables short communication paths due to clear responsibilities.
furthermore an explicit option life cycle allows for thinking about and planning the deprecation of configuration options a still unsolved problem in practice .
thus we should focus on methods that support the removal of variability and such addressing variability with life cycle information can be a means for it.
interesting the described software configuration engineering process in considers the whole development process whereas we found that we need to additionally consider the individual options own life cycle.
.
intent for configuration intent values a b testing s0 code reuse s0 knowledge preservation s0 reduced testing effort s0 distributed environment s0 unknown environment s0 nonfunctional s0 functional s0 2this dimension describes why configuration options are introduced in the first place which can have a strong effect on the other dimensions.
we found that often options are introduced to tailor functional behavior when i write i as a developer want to make it configurable.
with a feature toggle i want to be able to switch between code path left and right such that i can pull the handbrake or unlock specific things for just one customer.
i9 to tailor non functional behavior and to reuse code.
however as the interviewees pointed out there are also other intents that trigger the implementation of configuration options knowledge preservation i don t know what i ve done two weeks ago and this is why i make something configurable something that i need to somehow adjust anyway.
i1 the analysis of a program at run time i11 e.g.
via logging levels a b testing and distributed development of features due to the team s autonomy it is desired 344esec fse november virtual event usa norbert siegmund nicolai ruckel and janet siegmund that when you have implemented a feature you can take it to production but it is deactivated with a toggle.
but it is already present in production code.
if all teams have finished their implementations then each needs only to turn on the switch to activate the feature.
i3 .
interestingly options are also introduced to enable comparability of testing results in an evolving software system.
the rationale is that changes to a code base need to be controlled during testing if you not automate such that you have the same preconditions to execute a test then you already have lost because the results you will get are not comparable.
i4 another reason for introducing configuration is the need to run an application in an unknown environment we just don t know how the data centers are structured .
there could be a firewall between the app server and the database for one customer and for all others not.
for one customer we tried to configure the database so that the same load distributes on three hard disks.
and one week later we have a customer with three different data centers with high availability and no downtime.
i8 configuration options are also introduced to reduce testing effort.
at first this seems contradictory to the observations of combinatorial testing and the exponential growth of configurations.
but when we know that options have only a limited scope we may need to test only a few new configurations and not all combinations.
the alternative to new options would be for example having different branches which all would need to be tested.
this scales far worse as one interviewee explained in every jdk they improve the garbage collector.
with those improvements the memory management changes and we just don t know which consequences this has.
that is every change is a different behavior and this changes the performance.
now when we don t know the right values yet we make this configurable.
so we tell our test engineer can you test all configurations?
instead of here are ten branches .
i8 consequences the interviewees described many new intentions for configuration showing that the reasons for integrating new configuration options are more diverse than tailoring functional or non functional properties of an application.
knowing these intentions can help in developing tools to either control for these options to avoid introducing them altogether or to remove them again from the code base given their appropriate documentation .
.
configuration complexity complexity values local scope s1 distributed scope s1 high dependency s1 low dependency s1 no dependency s1although there are many aspects contributing to the configuration s complexity there are certain values that need special attention.
so far we have not explicitly addressed the scope of a configuration with respect to software modules and artifacts.
the interviewees of reported on configuration that affects only individual modules i.e.
with a local scope and configuration that is distributed among different modules frameworks services and other artifacts i.e.
global scope .
moreover an option or entire configuration might be dependent on other options and configurations at different degrees.
for example the presence and valid values of an option might depend on the configuration of its cloud infrastructure or which customerowns the product.
in such cases the complexity increases and interacts with other dimensions such as the configuration artifacts stage and type.
so choosing the right artifact for a specific type of configuration depends on the complexity of the configuration.
consequences the literature and most configuration tools concentrate on local configuration.
however when having multiple users at different levels of the software e.g.
platform developer versus plug in developer versus end user a configuration might affect very different modules developed maintained and deployed by different stakeholders vendors and customers.
research on multi software product lines has analyzed some isolated aspects of dependent and distributed configuration but have not taken into account most aspects of configuration such as non functional optimization.
but it is important to fully understand how far reaching a single configuration is to estimate the impact of configuration choices on the whole software ecosystem.
.
interactions interactions can be expressed through connections and paths in the model.
different paths connected with the same nodes i.e.
values of dimensions represent different interactions.
for example contrary to many product line studies we found that modeling only the domain variability is insufficient to derive a valid program variant.
our interviewees argued that often technical configuration determines domain specific configuration and vice versa infrastructure must partially provide configuration via environmental variables to the application.
this is a clear interaction point.
then there is always the question of how do these environmental variables come to the infrastructure.
and then there is interaction among different infrastructure components and eventually the application.
i6hence the graph not just shows the presence of configuration dependent dimensions and values but how they interact incorporated in the order of the path.
the importance of interactions for identifying possible misconceptions in current research can be seen be the following example there are different teams that handle .
so i can t say i ll introduce a property and now i want to know from all configurations where my software resides where was it configured from whom how and why.
i8.
so we need to relax the current assumption in research of one variability model with a dedicated domain engineer who configures the system.
instead when modeling a graph for a future study on variability models it should contain several paths from stakeholders to for instance intent configuration artifact and compile time to make the different interactions explicit and design a study based on this structure.
in essence our model can provide an important tool for study and research design in the area of software configuration to decide upfront on which aspects researchers concentrate on and which aspects might be neglected by the current design.
application of the model to show our model in action we provide a model of configuration for research papers selected from three related research fields configuration engineering software product lines performance optimization testing and configuration errors.
we discuss two papers used in the meta study in detail give a high level discussion about 345dimensions of software configuration esec fse november virtual event usa figure configuration context of the qualitative study by berger and others .
boxes depict dimensions of configuration and their concrete values.
arrows depict analyzed and discovered interactions among the dimensions.
as can be seen the configuration context differs between companies.
two research areas and provide the models for all papers on our supplementary web page.
moreover as an important contribution to practice we extract key best practices from our interviews.
.
application to research to demonstrate how useful our model is when applied to specific studies we provide the context for the papers of our meta study.
moreover we discuss on a higher level some insights we gained when analyzing related literature in the area of software product lines and performance optimization.
meta study configuration engineering.
figure depicts the configuration context of the study by berger and others .
in their study the authors interviewed three different companies which resulted in different contexts.
for example keba interviewees report about end users who bind configuration options at load and deployment time without going into detail about the type of configuration or the intent of the configuration.
others talk about different developers roles and how they implement configuration options to address unknown environments and how different artifacts lead to different binding times.
however they talk only about domain configuration and not technical configuration e.g.
about how to configure the infrastructure .
the important insight is however that the answers of different companies lead to entirely different contexts which is not apparent in the paper and can lead to a more focused and balanced discussion about the findings.
for instance opel interviewees are more interested in configuration options for functional tailoring or adaptation to a distributed environment and unlike keba they use feature models as configuration artifacts and consider only build time configuration.
so by just comparing these two contexts we can conclude that answers may not align due to different configuration intents different implementation artifacts and binding times.
moreover we can further frame the study and the reported results in addressing mostly domain configuration without stages with limited considered artifacts and binding times.
so the answersto the authors research question might severely change when considering technical configuration run time configuration or options introduced for non functional optimization or testing.
stakeholder developer manager researcher architect intent functional non functional unknown environment level of dependencies high highlife cycle create maintain own remove binding t ime runtime artifact configuration file configuration code database environment variables directory service figure configuration context of sayagh and others .the study by sayagh and others on configuration in practice represents shown in figure gives a more unifying context possibly because the authors provided a summative report and did not differentiate among companies.
here we see that no end users are in the context although also non functional configuration has been studied which is contrary to what we found in the performanceoptimization papers which mostly focus on end user configuration.
moreover the binding time is limited to only run time which makes a stark contrast to berger and others.
interestingly they considered multiple environments a large portion of an option s life cycle and many configuration artifacts which makes this study the most comprehensive ones regarding aspects of configuration.
by making the context with our model clear it is now easy to see where the study should be extended in the future and how this compares to previous work as berger and others.
for the first time we can provide a quick overview about addressed dimensions of configuration and see with missing configurations where a study give more information or lacks context.
software product lines spls .
we analyzed several papers in the area of software product line spl research.
the results are comprised in the figure below a per paper context can be found at our complementary web page.
the model shows that product line research mainly focuses on developers which is natural as mostly implementation techniques are discussed.
however the new trend of devops seems to not have reached yet research in this area.
also not surprisingly is that most papers focus around code reuse and functional customization of software systems.
what is missing in this context is i evolution of product lines especially how to deprecate and remove configuration options life cycle ii different binding times and their effect on implementation techniques iii modern staged deployments and cloud infrastructures for product line development stage andtype and iv complexity analysis with respect to product line implementation techniques.
in relation to our interview one aspect became apparent modern software development is hardly separable between domain specific and infrastructure aspects certainly when you activate a certain function it often requires a specific component service and so that a system can use a service it needs to be configured in that way.
for example email verification and for this exists a service for email verification.
and when you activate this function you need to provide a configuration such that the service 346esec fse november virtual event usa norbert siegmund nicolai ruckel and janet siegmund can be used.
so often in this direction if you activate a functionality you need a corresponding technical configuration to make it work.
i7 hence future studies should make sure to control for other types of configuration collect the intent of configuration make the environment and adaptation of the corresponding configurations clear and include more stakeholders with their role in an option s life cycle.
overall we often see a small fraction of the dimensions and values covered by each study.
this is not problematic per se if the paper makes this context clear and when we can build a bigger picture by combining multiple studies.
unfortunately the coverage across papers is low so that the same context often evaluated multiple times.
this is a clear outcome when applying our model.
covering the same dimensions multiple times can be a means to replicate former findings but we could not find only limited attempt to reevaluate or compare against prior work.
instead we see that many dimensions and values although practically relevant are left untouched which hinders transfer to a practical context and the derivation of generalizable insights.
performance optimization.
several papers focus on finding highperformance software configurations .
they all take the same context a user or the developer configures a system via configuration files at load time or build time.
the environment is never made explicit.
so it is entirely unclear at which stage performance optimizations are made and more importantly the infrastructure type is not taken into account although it has a profound influence on performance.
moreover reconfiguration or software evolution does not play a role so the life cycle of options addresses only binding options to their values.
a practical context would require extending the types of configuration to infrastructure configuration and also considering additional configuration artifacts.
as performance is mainly driven by the underlying hardware and not the user but the devops and ops persons are responsible for maintaining and owning performancerelevant configurations research on performance optimization should broaden the scope toward these dimensions.
.
best practices based on our interviews and the developed model on configuration we articulate challenges and point to best practices.
configuration errors.
configuration errors are an important issue in practice they are harder to find than normal bugs.
it also depends on the format of the configuration file.
i11so there seems to be a relation from artifacts to errors.
we found three main practices for avoiding configuration errors explicit modeling of options favor value binding at build time and simplify configuration.
it seems that an explicit modeling of options including documentation about the intent of an option can help in discussing whether an option is needed or not anymore .
this calls for a model which in fact one company has introduced in form of a meta configuration validation is part of the meta configuration.
so there is a kind of management model that is a configuration option is not only the name of the option but also the data type avalidation or where does this configuration value come from so cross relations to other configuration values.
i11 to better handle configuration errors practitioners aim to move run time configuration to build time configuration.
this enables multiple things real program code can have but there are more possibilities to verify things also already at build time.
maybe that is a possibility to address this problem that you may try to validate or check the configuration as part of building the software.
everything that can be done as early as possible in the process validation checking helps to solve these problems.
i11validation at build time has also the benefit that errors can be spotted during deployment and development and not at load time.
finally simplifying the configuration can be done in two ways.
first the configuration process can be made less error prone by guiding users through the process i don t think that my users of the configuration editor know what makes sense to configure and what not.
so it is my task to find out how to present the configuration options to the users in a way that it is as easy as possible to configure things.
i11another approach is the recent practice of convention over configuration where a stakeholder e.g.
a developer who is usually not responsible for binding options values provides a feasible pre configuration that is hidden from the user avoiding the need to dig deep into configuration files.
the stakeholder e.g.
ops engineer who then owns the configuration can diverge from the standard values to adapt the system to their needs.
distributed configuration.
configuration is nowadays distributed over multiple artifacts types stakeholders and environments was somehow under control in a monolithic system because one could see everything what is in there.
but now one has not even the chance for this so one looks more in a spot light manner on individual components.
so when i don t know a thing about where the sources are where the tests are and there is no default structure how should i find out something?
and this structure is mega important for configuration.
i1a recurring pattern mentioned in our interviews are dedicated platform teams for specific types of configuration a sister team of ours mainly does this kubernetes configuration .
they provide the basis for us and provide the low level things.
i9this delegation of configuration on expert knowledge and clear separation of responsibilities is a success factor when it comes to different types of configuration.
we found further best practices similar to naming conventions of options placing configuration files next to the code in a repository to enable versioning of configuration reviewing configuration files and configurationvalue changes in code reviews and pull requests.
performance engineering.
all interviewees agreed that performance is important and that either they or another team handles performance issues there is a team that does nothing else than performance testing.
they have different setups at hand and every new function becomes eventually part of a performance test.
i11 one issue is that performance is difficult to measure or monitor and it is even unclear what to include into performance metrics performance is really difficult.
what means performance?
response time of requests?
from which requests?
resource consumption counts as well.
i8unfortunately we have not seen many solutions to performance optimization despite its relevance.
there are dedicated 347dimensions of software configuration esec fse november virtual event usa performance engineers running stress tests and other related measurements but with the main goal of finding good default values rather than optimized settings for individual customers.
these observations back up the need for research on performance optimization for example by using machine learning or related techniques to discover underlying patterns.
current best practice is a proper monitoring infrastructure and logging of configuration changes to make spotting performance issues and their causes easier.
.
threats to validity we transcribed the interviews performed the card sorting process on the german text and translated the extracted citations to english.
both steps could introduce uncertainties and even change semantics.
we controlled for this threat by having at least two authors look at each interview and making notes.
we compared notes with the double checked translation.
similarly the entire author team was present during the card sorting sessions to minimize subjectivity.
threats to external validity are certainly related to the number and selection of interviewees.
to mitigate threats caused by our sample we selected interviewees of different roles from different companies.
we are aware that the dimensions of configuration and their interactions are certainly not exhaustive as this is hardly possible with a single study.
nevertheless we have covered a substantial area of configuration and future work with different practitioners can certainly enrich the current version of our model.
related work in addition to the two papers of our meta studies most research focuses on individual aspects of configuration such as configuration for the devops role.
for instance configuration management for code and infrastructure has been found by multiple studies to be one essential technological enabler of devops .
other aspects of configuration seem to relate to the environment as in ci cd.
hilton and others studied the configuration effort of ci .
in particular they found that some projects frequently change their configuration files over the project history.
our interviewees brought up similar aspects of configuration but described them as more intertwined with different stakeholders and implementation artifacts.
variability or feature models are central for defining the configuration space .
however most of the techniques concentrate on individual software systems and ignore other dimensions such as infrastructure variability.
some approaches developed in the area of multi software product lines provide means to model different layers of configuration and different dimensions such as velvet clafer and the common variability language cvl .
still they focus on narrow aspects of configuration and our model has already identified ways for extending the scope such as explicitly modeling an options intent and life cycle.
berger and others analyze features with respect to their types numbers and constraints in variability models .
lee and others report on modeling an elevator control software containing features with different operating environments .
finally a recent study by ne i and others collected principles for modeling variability in practice .
again although they do not aim for capturing dimensions of configuration they agree on subsets such as the life cycle of configuration the existence of differentstakeholders and the different intents for configuration.
our work subsumes many aspects brought up by the literature by using expert interviews so we link research to practice.
moreover we lay out interactions among these aspects and highlight corresponding challenges and best practices.
conclusion and lessons learned becomes ever more important because we always thrive for writing less code and better reaching our goals via configuration.
i8in this vein we built a paper on configuration to provide context for research and practitioners about what aspects resemble the context of configuration.
this way research becomes better to translate to practice better to compare with a better to identify current gaps.
we argue that our model derived from three different sources of qualitative interviews provides a strong foundation for further research on this matter.
again the vast number of work related to configuration needs to be consolidated and we provide a means to it.
in addition there are further lessons configuration is code but often without a well defined grammar and type system.
this has serious implications on configuration validation the learning rate of how to configure a system and identifying and fixing configuration errors.
basically we are coding blindly and hope for the best.
common feature models do not provide the required expressiveness.
also they provide no support for the life cycle of options or mechanisms for staging and distributing configurations in different environments.
current solutions often propose distinct tools such as featureide for modeling and validation but it seems that a lightweight solution is needed that smoothly integrates in the ci cd process.
a promising study that builds on similar insights of has shown that codifying configuration with type information can improve the configuration process .
configuration is a highly cross cutting activity affecting nearly all stakeholders of a software system and manifesting in diverse artifacts across different environments.
the tremendous diversity of configuration combined with the high degree of interaction makes the whole configuration aspect an increasing challenge.
specialized teams strict conventions a clear concept about an option s life cycle and an explicit modeling of configuration throughout all environments seem to be key mechanisms to counter the complexity.
configuration in research and practice diverge with respect to considered and limited contexts of studies.
balancing internal and external validity may play an important role in studies about configuration including ours .
our interviews have shown that for some research areas the scope should be substantially widened to create actionable results e.g.
performance optimization .
however this might come at the cost of limited explainability and verifiability.
we believe that by making the context of research explicit with our model it allows for a series of experiments in varying contexts where internal validity does not need to be traded for ecological or external validity.