detection of hidden feature requests from massive chat messages via deep siamese network lin shi1 mingzhe xing1 mingyang li1 yawen wang1 shoubin li1 qing wang1 1laboratory for internet software technologies institute of software chinese academy of sciences beijing china 2university of chinese academy of sciences beijing china 3state key laboratory of computer science institute of software chinese academy of sciences beijing china shilin shoubin wq iscas.ac.cn mingzhe itechs.iscas.ac.cn mingyang yawen nfs.iscas.ac.cn abstract online chatting is gaining popularity and plays an increasingly significant role in software development.
when discussing functionalities developersmightrevealtheirdesiredfeaturestoother developers.
automated mining techniques towards retrieving featurerequestsfrommassivechatmessagescanbenefittherequirements gathering process.
but it is quite challenging to perform such techniques because detecting feature requests from dialogues requiresathoroughunderstandingof thecontextualinformation and it is also extremely expensive on annotating feature request dialogues for learning.
to bridge that gap we recast the traditional text classification task of mapping single dialog to its class into thetaskofdeterminingwhethertwodialoguesaresimilarornot by incorporating few shot learning.
we propose a novel approach namedfrminer whichcandetectfeature requestdialoguesfrom chat messages via deep siamese network.
we design a bilstmbaseddialogmodel thatcanlearnthe contextualinformationofa dialoginbothforwardandreversedirections.evaluationontherealworldprojectsshowsthatourapproachachievesaverageprecision recallandf1 scoreof88.
.
and88.
whichconfirms that our approach could effectively detect hidden feature requests fromchatmessages thuscanfacilitategatheringcomprehensive requirements from the crowd in an automated way.
keywords featurerequests requirementsengineering deeplearning siamese network acm reference format lin shi1 mingzhe xing1 mingyang li1 yawen wang1 shoubin li1 qing wang1 .
.
detection of hidden feature requests from massivechatmessagesviadeepsiamese network.in 42ndinternational conferenceonsoftwareengineering icse may23 seoul republicofkorea.
acm newyork ny usa 13pages.
.
corresponding author.
both authors contributed equally to this research.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may seoul republic of korea association for computing machinery.
acm isbn ... .
hvluhg ihdwxuh vrphwklqj olnh qj wuxh ydoxh qj idovh ydoxh iru uhdfwlyh fkhfner hv hvluhg ihdwxuh wkh dqjxodu fol fdq sxw doo p vhuylfhv lqwr d vhuylfhv iroghu3 r zh kdyh vrphwklqj olnh qj wuxh ydoxh qj idovh ydoxh iru u hdfwlyh fkhfner hv rqo vhhp wr jhw wuxh idovh rxw ri wkhp uhjdugoh vv ri ydoxh dwwulexwh kp grq w wklqn vr exw rx fdq hdvlo vroyh wklv lq rxu frp srqhqw wuxh exw lw zrxog eh qlfh wr eh deoh wr xvh wkh ydoxhv gluh fwo lw v d irup duud ri fkhfner hv v wkhuh d zd wr whoo wkh dqjxodu fol wr sxw doo p vhuylfh v lqwr d vhuylfhv iroghu wkh fol lv h shfwlqj rx wr gr lw iurp urrw hyhu wlph qj jhqhudwh f v vhuylfhv vhuylfhqdph lv zkdw rx kdyh wr gr xw wklv lv vruw ri il deoh e doldvhv lq rxu whuplqdo hdk wkdw v wrr pxfk zrun iru doldvhv vshoolqj rxw wkh gluh fwru zrunv ilqh vxssrvh wkdqnv ihho olnh lw zrxog eh d xvhixo fol ihdwxuh wr mxvw vshfli wkdw zdqw doo vhuylfhv lq d vhuylfhv iroghu figure example chat message from angularjs project whererequeststodesiredfeaturesareburiedinthemassive chat history.
introduction recentstudiesreportedthattheusageofonlinechattingisgaining popularity and plays an increasingly significant role in software development having replaced emails in some cases .
developers are turning to public workplace chat platforms such as slack irc hipchat gitter and freenode to share opinions andinteresting insights discuss how to resolve defects as well as what features to implement in future .
although developers reveal their desired features when communicatingwithotherdevelopers theopenandcrowdingnatureof online chatting makes these feature request dialoguesget quickly floodedbynewlyincomingmessages.typically thefeaturerequests discussedinonlinechattingarelikelytobeburiedandignoredif theyarenotdocumented.takenthechatmessagesfromangularjs project as an example figure developer p and f posted their questions in online chatting.
in the beginning their intentions are asking for help from other developers to seek feasible solutionsto problems.
after chatting with other developers they realized thattheexistingsystemcouldnotbehavethewaytheywant.then ieee acm 42nd international conference on software engineering icse their intentions shift from asking for solutions to requesting features.
p requestsfor something like ng true value ng false value for reactive checkbox and f requests that the angular cli can put all my services into services folder .
in this work we consider dialogues that contain requests for new functionalities enhancements as feature request dialogues.
in practice the release team monitors avarietyofcommunicationchannelstohavemultiplesourcesof information that could be relevant to the next release .
if the release team could acknowledge those hidden feature requests fromchatmessages theirnextreleaseplanningmayhavetheopportunity to maximize the stakeholder satisfaction by considering more feature requests .
automatedminingtechniquestowardsretrievingvaluableinformationfrommassivechatmessagesarebadlyneededforgathering comprehensivefeaturerequestsfromalargenumberofusers which contribute to requirements elicitation and release planning andin turn promote the success of software development .
althoughthechatmessagescouldbealargevolumeandembedded with feature requests over time it is quite challenging to mine massive chat messages due to the following barriers.
dialog wiseanalysis .analyzingdialoguesfromchatmessages differsfromregulartextminingtasksinthatitneedstoconsider contextual information among the dialog wise scope when un derstanding one single sentence.
therefore existing studies onsentence wise feature request detection cannot be directly utilized for this task.
for example the sentence we need toaddverticalnavbaroption isclassifiedasafeaturerequestby sentence wisetechniques.butwhenpostedinonlinechat followingup conversation pointed out the existing functionality can fulfillthat request in an alternative way.
moreover the sentence wise detectionresultswillbeinaccurateasalargenumberofoff topic sentenceswillbeidentifiedasfeaturerequestsinthechatmessages e.g.
i really need to get my programming skills back.
i would like to get some coffee and cookies.
extremelyexpensiveannotation .thechatmessagesaretypicallylargeinsize.findingthefeaturerequestsdialoguesamong themassivechatmessagesislikelookingforaneedleinahaystack.
it is extremely expensive to annotate feature requests from chat messagesduetothehighvolumecorpusandalowproportionof ground truth data.
only a few labeled chat messages are catego rized into feature request types.
how to make the maximum useof the few labeled data to accurately classify the unlabeled chat messages becomes a critical problem.
entangled andnoisy data .chatmessagesaretypicallyhighvolume and contain informal conversations covering a wide range of topics.
two or more developers synchronously interact with each other where their utterances are largely entangled in the chat messages.
moreover there exist noisy utterances such as duplicateandoff topicmessagesinchatmessagesthatdonotprovide any valuable information.
the entangled and noisy data poses a difficulty to analyze and interpret the communicative dialogues.
inthiswork wetakethefirststeptowardsdialog wisetechnique that aims to automatically detect hidden feature requests postedinchatmessages.weproposeanovelapproach namedfrminer which can detect feature request dialogues from chat messages via deep siamese network.
to better understand the contextual informationinthedialog wisescope wefirstbuildacontext awaredialog model based on a bidirectional lstm bilstm structure thatcandeeplylearnthecontextualinformationofadialoginboth forwardandreversedirections.inspiredbythefew shotlearning techniques that aim to build performance prediction models by utilizinginsufficientlabeledresources werecastthetraditionaltext classification task of mapping single dialog to its class into the taskof determining whether two dialogues belong to the same or differ entclass.hence wecombinecontext awaredialogmodelswiththesiamesenetworktolearnthesimilaritybetweenapairofdialogues rather than the patterns of a specific class.
the prediction result ofafeature request dialogcanbeinferredbasedon thesimilarity predictionandtheobservedclassofitspartnerdialoginthepair.toevaluatetheproposedapproach weannotate1 035dialoguestaken from three popular open source projects.
the experimental results show that our approach significantly outperforms two sentencewiseclassifiersandfourtraditionaltextclassificationapproaches withaverageprecision recallandf1 scoreof88.
.
and .
.
the results confirm that our approach could effectively detect hidden feature requests from chat messages thus can facilitate gathering comprehensive requirements from a large number of users in an automated way.
the major contributions of this paper are as follows.
wearethefirsttopromotedetectinghiddenfeaturerequestsfrom massive chat messages that can benefit comprehensive requirements gathering.
we introduce a solution that can effectively predict featurerequest dialogues based on limited labeled data by incorporatingsiamese network which significantlyrelieves theburden of annotating supervised data.
weevaluateourapproachonthreeactiveopen sourceprojects and an empirical comparison shows that the proposed approach outperforms existing studies and four text classification approaches.
publicly accessible dataset and source code1to facilitate the replicationofourstudyanditsapplicationinothercontexts.
background this section describes three key technologies related to this research textcnn bilstm andfew shotlearningtechniques.we includethemherebecauseourworkisbasedonthesetechnologies.
.
textcnn dialoguesinchatmessagesaretheformoftextualsentencesrecorded in the chronological order that were discussed by a community of developers during online communications.
modeling sentence representationisthefoundationofhigh leveldialoganalysis.inthis paper werepresentsentencesbyusingtextcnn whichhasan advantageoverlearningoninsufficientlabeleddataasitemploys concise network structure and a small number of parameters.
textcnn is a classical method for sentence modeling which usesashallowconvolutionneuralnetwork cnn tomodel sentence representation.
cnn is one kind of deep learning models thathasbeenwidelyusedincomputervision.itusesseveralconvolution kernels to capture local information as the receptive field 642thentheglobalrepresentationisproducedwiththeselocalinformation.
analogously in natural language processing nlp cnn canaggregaten graminformationandmodelsentencerepresentation.
textcnn takes the pre trained or random generated word embeddingasaninput.thedimensionofitsoutputdependsonthe numberandthesizeofconvolutionkernels.a n lengthsentence canberepresentedasamatrixwithashapeof n d wheredisthe dimension of word embedding.
each kernel w rkd wherekis thesizeofconvolutionkernel isappliedtoawindowof kwordsto be mapped into a new one dimension vector.
let xi i krepresents the concatenation of k gram words in the original sentence and thenaconvolutionoperationwillbeperformedonit.theoutput of the convolution layer can be computed as oi f w xi i k b wherebis a bias term and fis an activation function.
given the lengthlof a sentence and the convolution kernel size k we can get the representation of the sentence whose size is l k .
the convolution layer is followed by a max polling layer which can capture the key information with the highest value.
to obtain more sufficient semantic information ensembled by different scales of local information multiple convolution kernels with different sizes are applied to the sentence.
hence for a sentence given n mconvolutionkernels where nisthenumberof different sizes of kernels and mis the number of kernels of each size we can get the sentence representation with size of n m whichencodesthedifferentscalesoflocalinformationintoaglobal representation of the sentence.
.
bidirectional lstm analyzingdialoguesfromchatmessagesisahigh leveltextmining task as it needs to consider contextual information among the dialog wise scope when understanding one single sentence.in this paper we utilize the bidirectional long short term mem ory network bilstm regarding the sentences of dialogues as sequential items to capture the contextual information where the representationsofsentencesareembeddedbytextcnn.bilstm wasproposedbygravesetal.
tolearnbidirectionalinformationforthesequencelearningtask.bilstmstackstwostandardlong short term memory network lstm layers with opposite directions to learn the one way representation respectively.
then it combines the forward and backward representations as the bidirectional embedding.
long short term memory network lstm isanoptimizedrecurrentneuralnetwork rnn structure based on gate mechanism that was proposed by hochreiter et al.
.lstmutilizesgatemechanismtofilterkeyinformationand passthemdowntothelongsequence.anlstmcellcomposesof inputgate forgetgate cellstate andoutputgate.theoutputsof lstm cell gates can be specified as follows i t ft ct ot tanh parenleftbigg w bracketleftbiggx t ht bracketrightbigg b parenrightbigg ct ct it ct ft ht ot tanh ct where xtis theithtoken in the input sequence wis the weight matrix of lstm cells bis the bias term denotes logistic sigmoidactivationfunction and tanhdenoteshyperbolictangentactivation function denotes element wise multiplication.
hence the final representation of bilstm can be formed as h where hand hdenote the outputs of two lstm layers respectively and is concatenate operation.
.
few shot learning deep learning has gained significant success both in the field of computervisionandnlp.butitreliesonadequatevolumeoftraining data heavily and has difficulty in performing well when the labeledresourceisinsufficient.automatedmininginchatmessages also faces the insufficient labeled resource problem.
in online chatting a large community of developers create plenty of discussions in a short time.
it is extremely time consuming to annotate a large number of dialog data for learning effective models since they are not only long but also require domain knowledge to thoroughly understand.
few shot learning approaches are proposed to overcome these constraints .
the few shot learning approaches can be classified into the followingthree categories .
model based approaches aim at learning projectors from few labeled data to taxonomies through model designing.
optimizer based approaches adjustthetraditionalgradientdescentoptimizermethodtofitthe data.metric basedapproachesclassifysamplesthroughlearning similarity metric functions.
inthispaper weleverageametric basedfew shotlearningtechnique namedsiamesenetwork whichiswidelyusedtomeasurethesemanticsimilarityamongtextsorimages .traditional classificationmodelsaretryingtolearnamappingfromasingle instance to its class but they cannot always work well when there islowlabeledresourcedataavailable.differentfromthetraditional approaches siamese network takes pairs of instances as inputs aiming at learning key characteristics that determine whether the two instances belong to the same or different class.
it consists of two identical sub components that not only share model structure butalsoparameterstoencodethepairsofinstancesrespectively.
intuitively itiseasierforustodeterminewhethertwodialogues aresimilar rather thangiventheexact classforeachdialog.
since siamese network takes pairs as inputs the dataset is convertedfromelement wisetopair wise andcanbeaugmentedwithpermutations.
approach figure demonstrates the overall framework of our approach.
we construct the training dataset by disentangling dialogues in the chat messages.
then we build a hierarchical context aware dialog modelforeachdialogue.thecontext waredialogmodelencodes dialogues by bilstm structure which uses textcnn based sentence embedding as inputs.
after that we build a siamese network withtwoidenticalcontext awaredialogmodels.finally weinfer thepredictiveclassbasedontheprobabilitiesproducedbysiamese network and the actual labels of golden dialogues in the paired instance.
.
dialogues disentanglement chatting channels is one type of synchronous textual communication among a community of developers.
messages in chats form stream information with conversations often entangling such as a single conversation thread is interleaved with other conversations.
643dialogues for trainingchat messages .
dialog disentanglementdialog1 dialog2sentences embedding1 sentences embedding2dialog embedding1 dialog embedding2class inferencefeature dialog non feature dialogs1 s2 sn...... .
context aware dialog model s1 s2 sn......d1 d23.
context aware dialog model .
siamese dialog classification network softmax sharing weightsh h h h h h h h .
infer class probability p psimilarity measure figure the overview of frminer dividing chat messages into a set of distinct conversations is an essentialprerequisiteforany kindofhigh leveldialogueanalysis.
we leverage the state of the art technique for conversation disentanglement proposed by kummerfeld et al.
.
their model is trained from manually annotated messages of disentangled dialogues from online chatting.
it is a feedforward neural network with layers dimensional hidden vectors and softsign nonlinearities.theinputofthemodelisa77dimensionalvector where each element is a numerical feature extracted from the original conversationtexts thatinclude timeintervalfrompreviouschat messages posted by the current user is there a target user in the chat content do twochat textscontain thesame wordsand soon.
figure is a demonstration of the dialogues before and after disentanglement.
the model can achieve relatively good performance with .
precision and .
recall.
figure3 exampleofdialoguesbeforeandafterdisentanglement .
these curves with different colors represent thelinks of different dialogues after disentanglement.
.
build context aware dialog model wedesignahierarchicalcontext waredialogmodelthatcancapture thecontextualinformationaswellasthesemanticmeaningofeachsentenceinadialog.asshowninfigure4 thecontext awaredialogmodelconsistsoffourlayers inputlayer sentenceembeddinglayer dialog embedding layer and output layer.
input layer.
we first tokenize thesentences into tokens as the basicterms.toobtainabetterperformance weutilizethe50dimension glove word embeddings that are pre trained on billion words of wikipedia and gigword corpus as the initial vectors of the corresponding words.
moreover inspired by previous works wenoticethat part of speec h pos patternsortemplates obviously exist in feature request texts.
intuitively the pos tag can benefit semantic understanding by introducing explicit lexical information.therefore weaddpostaginformationintowordrep resentationtoenhanceitsfeature.specifically eachtypeofpostag willbeinitializedasarandomvectorwithuniformdistributionand optimized during training.
hence each word can be represented aswi whereweidenotesthecorrespondingword embeddingand posidenotestheembeddingofthepostagofthe word.
xxxxxxlstm celllstm celllstm celllstm celllstm celllstm celllstm celllstm cell xxxxxxxxxxxxbackward forwardsoftmax output layer dialog embedding layer sentence embedding layer input layer figure hierarchical context aware dialog model 644sentence embedding layer.
after transforming the original sentence into a matrix stacked with word embedding and pos tag embedding we feed the embedding matrix into textcnn to obtain thesentencerepresentation.detailsofrepresentingsentencesby textcnn have been introduced in section .
.
dialog embedding layer.
in the dialog embedding layer we use a sequence of sentence embeddings to represent a dialog.
each embedded sentence acts as a token when inputting the bilstm encoder according to their sequences in the dialog.
after encoding bilstm the bidirectional contextual information of the dialog will be learned.
outputlayer.
intheoutputlayer wecombinethetwodirection representations hand hencoded by bilstm as the output vector of the dialog which can be presented as h .
.
construct siamese dialog classification network inorder toalleviatetheinsufficient labeleddataproblem we construct the siamese dialog classification network that can augment the dataset by recasting the traditional text classification task of mapping single dialog to its class into the task of determining whether two dialogues belong to the same or different classes.
for thepurposeofclarity wewilluse featuredialog andnon feature dialogin the rest of this paper to refer to the dialogues that are requesting features and dialogues that are not requesting features.
thedashedboxof .
infigure2presentsthedetailedarchitecture.
the siamese dialog classification network contains two context awaredialogmodelsthatsharestructureandparameters to encode a pair of dialogues to d1andd2respectively.
we use the combination forms of d1andd2 as representations of the relation between the two dialogues.
then the representation of therelationbetweenapairofdialoguesisprojectedfromthedialog embedding to a similarity metric.
due to explicit equations for similaritymeasures suchascosinesimilarity andeuclidean distance usually used to measure the closeness between vectors in linear space they are not suitable for complex dialog in semanticspace.therefore weemploy similarityfunctionlearned during training neural network.
as the diff or same label of twodialogues can be obtained we can train a similarity layer in theneural network.
it is like a black box component.
the inputs areembedded representations of two dialogues with same or diff labels the outputs are their similarity.
wetrainthesiamesedialogclassificationnetworkaccording tothefollowingsteps.
wedividethedatasetintotrainingand testingdatasetrandomly.
train distheoriginaldatasetthatemploysdialogueswithlabel feature or non feature asentries.
typically the size of labeled dialogues is insufficient for training effectivelearning basedmodels.toovercomethatissue weaug menttrain dintotrain pby sampling a pair of dialogues from train dwith label same or diff as one entry of train p. more specifically for each dialog in training dataset we randomly select a positive partner with feature label and a negative partner with non feature label from training dataset train d. for example if the two dialogues are all feature dialog ornon feature dialog w e will assign the pair with label same otherwise diff .
due to the one positive one negativesamplingpolicy ourtrainingdatacanbebalancednaturally.besides supposewehave mfeaturedialogues andnnon feature dialogues intrain d we can augment the origin data set to size of parenleftbigm parenrightbig parenleftbign parenrightbig m nintrain p. finally since each pair of dialogues belongs to either same class or diff class theoutput of similarity measure is a length vector that represents the scores of the two classes where score i r.w e perform softmax on the length vector which can be specified as softmax socre i escore i summationtext.
j 1escore j thenthe canbenormalizedtoprobabilities wherep .
.
infer class probability the output of siamese dialog classification network is the probabilities that indicating whether two dialogues are sameordiff.
but what we need is the probabilities that indicating whether adialog is a feature dialog or not thus we need to infer the labelof a dialog based on the probabilities and the actual label of an other dialog in the pair instance.
for example we sample a pair dialo 1 dialo 2 wheredialo 1is the golden dialog sampled from train dataset with observed non feature dialog label and dialo 2istheunknowndialogtobepredicted.weinputthepair of them into the siamese dialog classification network then a prediction for deciding the two dialogues are sameordiffis made.
suppose the prediction is diff then we can infer that the class of dialo 2isafeaturedialog.iftheactuallabelof dialo 2isafeature dialog itindicatesthatthispredictionmadebyourmodelistrue positive.
otherwise we get a false positive prediction.
to obtain a more reliable predictresult we employ the vote strategyduring predicting phrase.
for each unknown dialog we construct kpaired instancesbysampling kdifferentgoldendialogues.afterpassing these pairs into frminer we can get linstances which indicate the unknownoneisafeaturedialogand k linstanceswhichindicate itis anon featuredialogbased onthepredictionsof frminerand thelabelsofgoldendialogues.if lisgreaterthank thenweassign the predicted dialog with feature dialog label vice versa.
.
tool implementation we implement our proposed approach frminer using allennlp which is an open source nlp library built on pytorch .
implementation details.
for these hyper parameters we use gridsearch astheparameterselectionmethodtoobtainthebest performance.
the dimension of pos tag embedding is the same as word embedding.
then we can use s as the representation of sentences where wi .
to obtain more sufficient semantic information ensembled by different scales of local information multiple convolution kernels with differentsizes are applied to the sentence.
we set different kernel sizes whichare2 5respectivelyand25featuremapsforeachkernel.
theoutputdimensionofbilstmis300 150foreachdirection .we usealinearlayerasthesimilaritylayertoprojectthe300dimension vector to two values that represent the probability scores of two classes.sincethetaskcanberegardedasaclassificationproblem we use cross entropy as the loss function.
645optimization .
in addition to avoid the over fitting problem we apply dropout on the input embeddings with .
drop rate which means neuron cell will be randomly masked to reduce theparametersthatneedtobetrainedineachbatchtraining.we also use the strategy of early stopping .
if the performance on the test dataset did not promote for epochs the training process will be stopped.
experimental design .
research questions our evaluation addresses the following three research questions.
rq1 how effective is our approach for detecting hidden featurerequests?
toinvestigatetheeffectivenessofourapproach we conduct fold cross validation on detecting feature dialogues fromchatmessagesofthreeopen sourceprojects.wealsocompare the performances of two sentence wise approaches that classify sentencesofonlinediscussionsintofeaturerequestsandothertypes.
weadaptthetwoapproachestoourtaskbypredictingdialogues thatcontainfeature requestsentencesasfeaturedialogues.besides we examine the performances of four widely used classification methodsonthelimitedlabeledresourcestoperceivethedifficulties of automated feature request mining in chat messages.
rq2 howdoesthesiamesenetworkfacilitatefeaturerequest detection?
to examine the performance enhancement introduced by the siamese network we construct p frminer which isaplainfrminerwithoutincorporatingsiamesenetworktechnique.
detailed difference between frminer and p frminer will bedescribedinsection4.
.wethencomparetheperformanceof p frminerthataredirectlytrainedbydialog instances withthe performanceoffrminerthataretrainedbypair instances.then we increasingly enlarge the size of the training pair instances to examine the relationship between performance enhancement and data augment.
rq3 does our approach work well in cross project validation?rq3 examines the generalizability of our approach via cross project validation on three open source projects.
we iterativelyusetwoprojectsfortrainingandthereservingonefortesting.
we also conduct cross project validation on baseline approaches.
.
data preparation our experimental data is crawled by scrapy from three opensource projects angularjs bootstrap and chromium .weselectthe threeprojectsfor thefollowingreasons.
first theyareunderactivedevelopments.second largecommunitiesare formedaroundthoseprojects.third developersfromtheseprojects actively use online chatting to share opinions interesting insights and discuss what features to implement in the future.
for example in the last three years an average of utterances are made per week in anguluarjs community.
moreover their historical chat messages are all documented and publicly accessible which providerichresourcesforminingvaluableinformation.ourdata is collected in the following steps step1 preprocess .wefirstnormalizenon asciicharacterslike emojistostandardasciistrings.somelow frequencytokenscannotcontributetotheresultofclassificationsuchasurl emailaddress code htmltags andversionnumbersinchatmessages.wereplacetable the statistic of labeled dialogues massive chat messages sample duration dialog sentence dialog sentence fr angularjs .
.
bootstrap .
.
chromium .
.
total themwithspecifictokens url email html code and id respectively.weutilizespacy totokenizesentencesinto terms.
to alleviate the influence of word morphology we then perform lemmatization and lowercasing on terms with spacy.
step2 dialoguessampling .
after disentanglement there are a large number of identified chat dialogues.
to observe the characteristics of the entire dialogues population we randomly sample 400dialoguesfromthethreeprojects.thenweexcludedunreadable dialogues dialogues that are written in non english languages dialoguesthatcontaintoomuchcodeorstacktraces lowquality dialogues such as dialogues with many typos and grammatical errors.
dialogues that involve channel robots.
step3 ground truthlabeling .thelabeleddialoguesareused astheground truthdatasetformethoddefinitionandperformance evaluation.
to guarantee the correctness of the labeling results we builtaninspectionteam whichconsistedtwoseniorresearchers with four ph.d candidates.
all of them are fluent english speakers and have done either intensive research work with software development or have been actively contributing to open source projects.
wedividedtheteamintotwogroups.eachgroupconsistedaleader seniorresearcher andtwomembers.theleaderstrainedmembers on how to label and provided consultation during the process.
the labeling results from the members were reviewed by the leaders while results from the leaders were reviewed by other leaders.
we only acceptedand included dialogues toour dataset whenthe dialogues received full agreement among the groups.
when an dialog received different labeling results we hosted a discussion with all the six people to decide through voting.
intotal wecollected65 428dialoguesfromthreeopen source projects and spent person hours on annotating .
dialogues.
thedetailed characteristics oflabeled dialogues aredescribed in table .
the last column fr denotes the number of feature dialogues.
.
experiment settings we conduct fold cross validation on the dataset collected from threeopen source projects.we randomlydivide ourdataset into3parts.weuse2ofthosepartsfortrainingandreserveonepart fortesting.werepeatthisprocedure3timeseachtimereserving a different part for testing.
the experimental environment is a desktop computer equipped with an nvidia gpu intel core i7 cpu 16gb ram running on ubuntu os.
experimenti rq1 toprovetheeffectivenessofourapproach we select two advanced sentence wise approaches and four text classification approaches as baselines.
detail information aboutbaselines will be introduced in section .
.
for the two sentencewise approaches we use the codes and models provided in the publications.forthefourtextclassificationapproaches weusethe codes provided by official released packages .
we apply the random over sampling to tackle with imbalance dataset.
we extract the term frequency and inverse document frequent tfidf asfeaturevectorsforeachdialog.wetrainandfinetunehyper parametersbygridsearchforthefourtextclassification approaches to achieve their best performances.
experimentii rq2 inthisexperiment wecomparefrminer with p frminer and investigate how does the data augment improvesperformance.
notethatp frminerisdifferentwithfrminerinthatp frminerisaclassificationmodelforasingledialog whichisbasedonthecontext awaredialogmodel introducedin section3.
followingwithanadditionalclassificationlayer.the architecture of frminer can be derived from p frminer by the following steps remove the top top classification layer of pfrminer concatenatetheoutputsoftwop frminerthatsharing weights add a similarity layer.
first we use the same size of datatotrainfrminerandp frminer andobservetheperformance enhancement.thenweaugmentthetrainingdatasetoffrminer and times to investigate the performance changes.
sincefrminer cantacklewithimbalanced datasetissueby applying the siamese network while p frminer can not we balance the samples by applying random over sampling when training p frminer.
to ensure the correctness of our experiments frminerandp frmineraretrainedwiththesamehyper parameters includingdimensionsforeachlayer depthofthenetwork andlearning rate.
experiment iii rq3 to validate whether our approach is generalizabletounfittedprojects wetrainedthefrminerontwo projects and evaluate on third projects.
we also evaluate otherbaselines on the cross project dataset with the identical hyperparameters of experiment ii.
.
baselines to demonstrate the advantages of frminer we compare frminer with two advanced sentence wise approaches as our baselines.
cnn based classifier cnc .
it is the state of the art learningtechniquetoclassifysentencesincommentstakenfrom online issue reports.
they proposed a convolution neural network cnn basedapproachtoclassifysentencesintosevencategories of intentions information giving information seeking feature request solution proposal problem discovery aspect evaluation andmeaningless.weutilizethefeaturerequestcategorytopredict dialogues that contain feature request sentences as feature request dialogues.
rule basedclassifier fra .itisthestate of the artrulebasedtechniquetoclassifysentencesinfeaturerequestsfromonline issue tracking systems.
they proposed fuzzy rules to classify sentences into types.
we consider the dialogues that contain the intenttypeofsentencesarepredictedtobefeaturedialogues and dialogues do not contain the intenttype of sentences are predicted to be non feature dialogues.
machine learning basedclassifiers.
naivebayesian nb is a simple generation model for text classification based on bag of words assumptions and bayesian rules.
it conducts the joint probability of a sentence through prior probability and conditional probability learned by the model and training data.
then givena sentence it can deduce the probabilities of all the taxonomies.
randomforest rf isanensemblemachinelearningmethod that is constructed with several trees and each tree can contribute 3uhflvlrq 5hfdoo figure the average performances in fold validation to the final classification result.
gradient boosting decision tree gbdt isanotherkindofensemblemethod andthedifference withrfisthatitstreesaredecidedbytheresidualerrorbroughtby theprevioustrees.whentraininggbdt wesettheinitiallearning as1.0andthemaxdepthoftreesas1.wetrained100epochsfor ft and set the initial learning rate as .
the window size of input n gram as .
fasttext ft is the state of the art text classification approach with a shallow neural network that is similar to the architectureofword2vec .whentrainingrf wesetthemax depth of trees as .
.
performance measures whenevaluatingtheeffectivenessoffrminertowardsdetection featurerequestsfromchatmessages weusedthefollowingmetrics precision which refers to the ratio of the number of correct predictionsoffeaturedialoguestothetotalnumberofpredictionsof featuredialogues recall whichreferstotheratioofthenumber ofcorrectpredictionsoffeature dialoguestothetotalnumberof featuredialoguesinthegoldentestset and f1 score whichis the harmonic mean of precision and recall.
results and analysis .
answering rq1 figure5presentstheaverageperformancesachievedbydifferent approaches in fold cross validation and table presents the detailed performances for each project.
the best results of precision recall and f1 score are highlighted in bold.
we can see that frminer achieves the best results for all the three projects with an averageof88.
.
and88.
inprecision recall andf1score.
we also note that p frminer performs better than all the baselineapproaches whichindicatesthatmemorizingcontextual information in the bilstm dialog model can benefit the text classi ficationtaskinchatmessages.wefurtherevaluateandanalyzethe improvement of frminer over p frminer in section .
.
for the two sentence wise approaches the cnn based classifiercanonlyachieve17.
f1 scoreonaverage mainlybecause thatthecncmodelistrainedbysufficientdatafromthedomain of issue comments instead of feature dialogues.
however it still achieves48.
recallonaverage whichindicatesthattheremight be commonpatterns betweenthe two domains.transfer learning techniques might help transfer the related common knowledge 647table the performance achieved by different approaches for each project in intra project validation approachperformance angularjs bootstrap chromium precision recall f1precision recall f1precision recall f1 ourapproachfrminer .
.
.
.
.
.
.
.
.
p frminer .
.
.
.
.
.
.
.
.
existingstudiescnc .
.
.
.
.
.
.
.
.
fra .
.
.
.
.
.
.
.
.
text classificationnb .
.
.
.
.
.
.
.
.
gbdt .
.
.
.
.
.
.
.
.
rf .
.
.
.
.
.
.
.
na ft .
.
.
.
.
.
.
.
.
3uhflvlrq 5hfdoo rrwvwuds gldorjv sdluv 3uhflvlrq 5hfdoo qjxodu gldorjv sdluv3uhflvlrq 5hfdoo kurplxp gldorjv sdluv figure the comparison performances of p frminer and frminer with the same volume of original training data.
d d d d d d d d plqxwhv kurplxp 3uhflvlrq 5hfdoo wlph rrwvwuds 3huirupdqfh qjxodu figure the performances of frminer when generating different numbers of pairs.
table the performance achieved by different approaches for each project in cross project validation angularjs bootstrap chromium approachperformance precision recall f1precision recall f1precision recall f1 frminer .
.
.
.
.
.
.
.
.
ourapproachp frminer .
.
.
.
.
.
.
.
.
cnc .
.
.
.
.
.
.
.
.
existingstudiesfra .
.
.
.
.
.
.
.
.
nb .
.
.
.
.
.
.
.
.
gbdt .
.
.
.
.
.
.
.
.
rf .
.
.
.
.
.
.
.
.
text classification ft .
.
.
.
.
.
.
.
.
from issue comments to chat messages by parameter transfer and fine tuning .
meanwhile the rule based classifier fra achieves the highest recall among the six baseline approaches.
the averagerecall is .
and it achieves .
and .
recall on angularjsandchromiumprojectrespectively.althoughtheprecisionis low prediction results of fra contain most of the actual feature 648dialogues which means that the feature request sentences in chat messagesalsocomplywithfrarules.asfrautilizesrulesinstead of supervised learning it is easier and time saving to apply in miningmassivechatmessages.meanwhile wecantakethehigh recall advantageoffratotacklewiththecoldstartproblemwhereno annotated resources are provided in the beginning.
fortextclassificationapproaches nbseemstobethebestclassifieramongallthetextclassificationbaselines.althoughrfachieves thehighest27.
f1 scoreonaverageamongthefourapproaches it encounters an underfitting problem on the chromium project.
itcanneithermodelthetrainingdatanorgeneralizetonewdata mainlyduetothechromiumdataisnotlargeenoughforrfmodeltolearntherelevantpatterns.thereasonswhyfrminernoticeably outperformsthefourtraditionaltextclassificationmodelsare compared with traditional text classifications neural models have alargercapacitywhichcanachievebetterperformances especially for the complex dialog modeling task.
it is easier for the model to identify whether two dialogues belong to the same class thanclassifying every single dialog.
text classification algorithmsare not trained sufficiently from the small dialog datasets whilefrminer is a pair wise approach that can augment the original dataset dramatically which ensures the training to be sufficient.
summary frminer significantly outperforms two sentencewisebaselinesandfourtraditionaltextclassificationapproaches.
as the two sentence wise baselines can be directly applied to chat messages and achieve relatively good recall they have the natural advantages over other approaches under the cold start situation.
.
answering rq2 figure6demonstratestheperformanceofp frminertrainingby single dialogueinstancesandtheperformancesoffrminertrainingbythesamesizesofpair dialogueinstances.thebluecolumn denotes the size of the training dataset for p frminer which isthe size of folds of data.
the orange column denotes the sizeof pair instances generated by the siamese network.
we can see that when the sizes of training datasets are the same frminer can achieve much higher performances than p frminer.
the frminer improves the precision recall f1 score over the p frminer by .
.
.
on average.
figure illustrates the relationship between performance enhancementandtrainingpair instancesquantity alongwiththetime cost on the training phase.
the initial volumes 1x are the original sizesoftrainingdatashowninfigure6 whichare379 and340 pairs.
we can see that enlarging the size of training pair instances can moderately increase the model performances.
when enlarging the size of the training pair instances from to times the precision recall and f1 score increase .
.
and on average.
weobservethattheperformancesharplyincreaseswhenenlarging thetrainingdataset5times andslowlyincreasesfrom5timesto times on all the projects.
the performances of the chromiumproject even slightly decline when enlarging by times.
while thetimecostonthetrainingphaseislinearlyincreasedallthetime.
therefore weconsiderthatenlargingthetrainingdataset5times might be a trade off choice between effectiveness and efficiency.
summary frminer can better resolve the classification task than p frminer by significantly improving the precision recall f1 score by .
.
.
on average.
the results confirm thatitiseasierforthemodeltorecognizewhethertwodialogues belong to the same class rather than classifying the exact class directlywhenlabeleddialoguesarefew.weconsider5timestobea trade off choice between effectiveness and efficiency because after enlarging the training dataset times the performances slowly increase but the time cost rises largely.
.
answering rq3 figure8presentstheaverageperformancesachievedbydifferent approaches in the setting of cross project validation and table3 presents the detailed performances for each project.
the bestresults of precision recall and f1 score are highlighted in bold.note that the performances of cnc and fra are the same with3 foldintra projectvalidationduetothetwoapproachesarenot trained by feature dialogues.
we repeat their results in table for comparison and analysis purposes.
we can see that frminer can also perform well in cross project settings.
performance only slightly declines by .
over average f1 scores compared with the result in intra project validation.
we consider that dialogues expressing feature requests share common linguistic patterns across domains that are typically notrelevant with domain specific concepts.
the results show that frminer can learn these common patterns and be generalized to other projects.
it indicates that developers express feature requests in a similar way even in different communities and projects and the feature dialogues of different projects share similar patterns.
we note that p frminer doesnot performas good aswithin project validation.
the average f1 score declines .
.
fortextclassificationapproaches nbachievesthehighestf1score of and it only slightly declines .
on average comparedwithwithin projectvalidation.noneofthetextclassification approaches encounter an underfitting problem because the size of the training dataset for cross project validation is larger.
in addi tion we notice that most text classification approaches perform betterin cross projectevaluation thaninintra project evaluation forangularandchromium.itismainlyduetotworeasons the cross project training dataset involves two project datawhile the intra projectonlyhas2 3dataofoneproject.trainingwithamuch largerdatasetresultsinamorerobustclassifier.
cross project evaluation imports two projects for training while intra project evaluationonlyhasoneproject.thewiderscopeoftrainingdataset wouldincreasethegeneralizabilityoftheclassifierduetothebiased knowledge introduced by different projects.
summary frminer can also achieve high performance on unfitted projects which indicates that frminer is generalizable to otherprojects.wealsoobservethatnbisthebestclassifieramong all the text classification baselines towards mining chat messages.
3uhflvlrq 5hfdoo figure average performances in cross project validation discussions applicability.
ourworkcanbenefitingatheringcrowdrequirementsbyconvenientlyintegratingfrminerintotheworkflowof therelease teammembers.first thereleaseteamcouldbuildachatmessage monitor or a crawler to collect the textual conversation from the organization s chatting platform periodically.
then an automaticscript isapplied topreprocessanddisentanglethe rawchattingtext.afterthat byperformingtheinferenceprocess mentionedinsection3.4onthedisentangleddialogues frminer can record all the dialogues that are likely to request features.
the releaseteamcouldalsosubscribetothemonitoringresultsasanrss feed to receive hidden feature requests periodically.
besides due to people expressing feature dialogues in a relatively consis tent way frminer users do not need to retrain the model quite frequently.
the retraining mainly need to be performed when the amount or the quality of the dataset changes extraordinarily.
extendibility.
we notice that people express feature dialogues inarelativelyconsistentway forexample otherthanchattingmes sages peoplealsousesimilarexpressionssuchas needimplementsth.innextrelease version and sth.willb easolution improvement to indicate feature requests in other open source platforms includinggithubissuesanddevelopmentemails.hence wearguethat our approach can be extended to other data sources.
in addition frminer can be applied to the other languages since our deep contextual dialog model has a strong ability in capturing semantic patterns.
when switching to other languages frminer users need to adapt the pre trained word embedding model to the specific language.
they also need to consider to apply extra preprocessing accordingtothespecificlanguage e.g.
applywordsegmentationtochinesecorpus.anotherlimitationoffrmineronlanguageswitch ingisrelatedtothepre traineddialoguesdisentanglementmodel.a new dataset needs to be annotated for retraining the model which may involve a relatively high cost.
threats to validity externalvalidity .theexternalthreatsrelatetothegeneralizabilityoftheproposedapproach.allthethreesystemsexaminedinthis workwereopen sourceprojects whichmightnotberepresentative of closed source projects.
it is also possible that we accidentally chosesystemsthathavebetterorworsethanaveragecross projectfeaturerequestsdetectionperformance.however thecross project evaluationresultsshowthatour approachisgeneralizableonthe three studied projects which largely alleviates the threat.
internalvalidity .theinternalthreatsrelatetoexperimental errorsandbiases.threatstointernalvaliditymaycomefromthe results of conversation disentanglement.
the accuracy of disen tangled conversations has impact on our results.
to reduce thethreat when separating single conversations in a stream of chatmessages we employed the state of the art technique proposed bykummerfeld etal.
which outperformsprevious studiesby achieving .
f1 score and .
vi2.
constructvalidity .theconstructthreatsrelatetothesuitabilityofevaluationmetrics.weutilizeprecisionandrecalltoevaluate theperformance inwhichweusethemanuallylabeleddialogues 2variation of information vi is a measure of information gained or lost when going from one clustering to anotheras ground truth when calculating the performance metrics.
thethreats might come from the process of manual inspection and tagging.weunderstandthatsuchaprocessissubjecttomistakes.
toreducethatthreat webuildtwoinspectionteamstoreachagreements on different options.
related work ourworkisrelatedtopreviousstudiesthatfocusedon detection of feature requests and mining development communication artifacts.
we briefly review the recent works in each category.
.
detection of feature requests theamountofresearchongatheringandanalyzinginformation fromacrowdtoderivevalidateduserrequirements featurerequests has increased significantly in the last years.
disorboetal.
proposedataxonomyofintentionstoclassify sentences in developer mailing lists into six categories feature request opinionasking problemdiscovery solutionproposal informationseeking andinformationgiving.althoughthetaxonomyhasbeenshowntobeeffectiveinanalyzingdevelopmentemailsand userfeedbackfromapp reviews huangetal.
foundthat itcannotbegeneralizedtodiscussionsinissuetrackingsystems and they addressed the deficiencies of di sorbo et al s taxonomy byproposingaconvolutionneuralnetwork cnn basedapproach.
arya et al.
identified information types including potential new feature requests through quantitative content analysisof issue discussion threads.
they also provided a supervised classificationsolutionbyusingrandomforestwith14conversationalfeaturesthatcanclassifysentencesexpressingnewfeature requestswith0.66f1 score.morales ramirezetal.
identified requirement related information in oss issue discussion using 20speech actrulessupportedbynlpandlinguisticparsingtechniques.
merten et al.
investigated natural language processing andmachinelearningfeaturestodetectsoftwarefeaturerequestsin issue tracking systems.
their results showed that software feature requests detection can be approached on the level of issues and datafieldswithsatisfactoryresults.merten etal.
alsoinvestigatedhowrequirementscommunicatedinissuetrackingsystems bymanuallyreviewing200issues.theycategorizedthetextand reportedonthedistributionofissuetypesandinformationtypes.
theirresultsshowedthatinformationwithrespecttoprioritization and scheduling can be found in natural language data.
herzig et al.
manually examined more than issue reports and discussed the impact of misclassification of bugs in the bug databases of five open source projects.
their results showed that of files marked as defective actually new features updates to documentation orinternalrefactoring.theauthorssuggestedthathuman should always be involved when dealing with the posted issues.
antoniol etal.
investigatedwhetherthetextoftheissuesposted in bug tracking systems is enough to classify them into correctivemaintenanceandother kindsofactivities.they alternatedamong various machine learning approaches such as decision trees naive bayes classifiers and logistic regression to distinguish enhance mentapartfromother issuespostedin thesystem.shietal.
proposed81fuzzyrulesthatcanclassifysentencesinissuesinto six categories intent benefit drawback example explanation and 650trivia.theirworkdesignedtohelpunderstandingandanalyzing realintentsoffeaturerequests whichcanalsobenefitthedetection offeaturerequests.rodeghero etal.
presentedanautomated technique that extracted useful information from the transcripts ofdeveloper clientspoken conversationstoconstructuserstories.
theyusedmachinelearningclassifierstodeterminewhetheraconversation contains user story information or not.
maalej and nabil leveragedprobabilistictechniquesaswellastextclassification natural language processing and sentiment analysis techniques to classifyappreviewsintobugreports featurerequests userexperiences and ratings.
their results showed that the classification can reach the precision between and recall actual results.otherstudieshavebeenfoundtoalsocaptureuserneeds from app reviews automatically .
vlas and robinson proposed a grammar based design of software automation for the discovery and classification of natural language requirements foundinopensourceprojectsrepositories.cledland huang etal.
designed an automated forum management afm system which was used to automated detect duplicated feature requests that have been already posted in the issue tracking systems.
shi et al.
proposed an initial approach to automated identify feature requests that ask for features that have been already implemented by applying feature tree model.
summing up previous approaches differ from our work as it identified feature requests from develop mentemails identifiedfeaturerequestsfromissuetracking systems identified user stories from spoken conversations identified feature requests from app reviews identified feature requests from project repositories detected duplicated feature requests .
our work differs from existing researches in that we focus on detectinghiddenfeaturerequestsfromchatmessageswhichpost differentchallengesaschatmessagesareinformal unstructured noisy and typically have insufficient labeled data than the previouslyanalyzeddocuments.inaddition ourworkcomplementsto the existing studies on automated feature requests detection.
.
mining development communication artifacts previousresearchesondevelopmentcommunicationartifactsreportedthattheusageofonlinechattingplayanincreasinglysignificantroleinsoftwaredevelopment andchatmessagesarearich sourceforvaluableinformationaboutthesoftwaresystem.linet al.
conducted an exploratory study on how developers use slack whichisapopularworkplacechatapp andhowtheybenefit fromit.theirresearchrevealedthatdevelopersuseslackforpersonal team wide andcommunity wide purposes andslack plays an increasingly significant role in software development replacing email in some cases.
shihab et al.
analyzed the usage of developer irc meeting channels of two large open source projects from several dimensions meeting content meeting participates theircontribution andmeetingstyles.theirresultsshowedthat ircmeetingsaregainingpopularityamongopensourcedevelopers andhighlightedthewealthofinformationthatcanbeobtained from developer chat messages.
yu et al.
analyzed the usage of twocommunicationmechanismsinglobalsoftwaredevelopment projects which are synchronous irc and asynchronous mailinglist .theirresultsshowedthatdevelopersactivelyusebothcommu nication mechanisms in a complementary way.
chatterjee et al.
conductedanexploratorystudytoinvestigatetheusefulnessand challengesofminingdeveloperconversationsforsupportingsoftwaremaintenanceandevolution.theyobservedthatdevelopers are likely to share opinions and interestinginsights on tool usage best practices and various technologiesvia instant conversations.
theyalsoreportedthatitisfeasibletoachievehighaccuracyindisentanglingconversationsbyadaptingthetechniquesandtraining sets.
alkadhi et al.
identified five rationale elements which areissue alternative pro argument con argument anddecision fromchatmessagesthatcollectedfromthreestudentprojects.they developed two supervised classifiers to automated detect rationale elements on the manually labeled data.
wood et al.
discovered 26speechacttypesinthechatconversationsduringbugrepair and trained a supervised classifier to automatically detect these speech acts.chowdhuryandhindle implementedmachinelearning techniquestofilteroutoff topicdiscussionsinprogrammingirc channels by engaging stackoverflow discussions as positive examplesandyoutubevideocommentsasoff topicdiscussionexamples.
the findings of previous work motivates the work presented in thispaper.ourstudyisdifferentfromthepreviousworkaswefocusondetectingfeaturerequestshiddeninmassivechatmessagesthat wouldbeimportantand valuableinformationforossdevelopers to enhance their software.
conclusion and future work inthispaper weproposedanovelapproach namedfrminer which can detect feature dialogues from chat messages via deep siamese network.infrminer weincorporatedtwobilstm baseddialog models with the siamese network to learn the similarity between a pair of dialogues rather than the class of a specific dialog.
we evaluatedfrmineronasmallsampleof1 035dialoguestakenfromthe high volume chat messages of three popular open source projects.
theexperimentalresultsshowedthatourapproachsignificantly outperformed two sentence wise classifiers and four traditional text classification approaches with average precision recall and f1score of .
.
.
and .
.
frminer can also achieve high performance on unfitted projects which indicated that frminer is generalizabletootherprojects.theexperimentalresultsconfirmed that our approach could effectively detect hidden feature requests from chat messages.
we also observed that nb seems to be the best classifier for chat messages among the four text classification baselines.
in the future we plan to employ nlp summarization technologies with our approach to extract a brief summary for developers which can reduce the effort on reading feature dialogues.
moreover we plan to extend this work by not only classifying but alsorecordingfeaturerequestsinawell designedandstructured format from chat messages.