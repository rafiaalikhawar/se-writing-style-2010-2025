how has forking changed in the last years?
a study of hard forks on github shurui zhou carnegie mellon university usabogdan vasilescu carnegie mellon university usachristian k stner carnegie mellon university usa abstract the notion of forking has changed with the rise of distributed version control systems and social coding environments like github.
traditionally forking refers to splitting off an independent development branch which we call hard forks research on hard forks conducted mostly in pre github days showed that hard forks were often seen critical as they may fragment a community.
today in social coding environments open source developers are encouraged to fork a project in order to contribute to the community which we call social forks which may have also influenced perceptions and practices around hard forks.
to revisit hard forks we identify study and classify hard forks on github and interview owners of hard forks or forked repositories.
we find that among others hard forks often evolve out of social forks rather than being planned deliberately and that perception about hard forks have indeed changed dramatically seeing them often as a positive noncompetitive alternative to the original project.
acm reference format shurui zhou bogdan vasilescu and christian k stner.
.
how has forking changed in the last years?
a study of hard forks on github.
in42nd international conference on software engineering icse may seoul republic of korea.
acm new york ny usa pages.
.org .
.
introduction the notion of forking in open source has evolved traditionally forking was the practice of copying a repository and splitting off new independent development often under a new name forking was rare and was typically intended to compete with or supersede the original project .
nowadays forks in distributed version control systems are public copies of repositories in which developers can make changes potentially but not necessarily with the intention of integrating those changes back into the original repository.
with the rise of social coding and explicit support in distributed version control systems forking of repositories has been explicitly promoted by sites like github bitbucket and gitlab and has indeed become very popular .
for example we identified over github projects with more than forks and over projects with more than forks as of june with numbers rising quickly.
however most of these modern forks are not permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for third party components of this work must be honored.
for all other uses contact the owner author s .
icse may seoul republic of korea copyright held by the owner author s .
acm isbn .
.org .
.
since hard fork popularity trend since figure timeline of some popular open source forking events popularity approximated with google trends.
forks in the traditional sense.
as in our prior work we distinguish between social forks referring to creating a public copy of a repository on a social coding site like github often with the goal of contributing to the original project and hard forks referring to the traditional notion of splitting off a new development branch.
hard forks have been discussed controversially throughout the history of free and open source software on the one hand free and open source licenses codified the right to create hard forks which was seen as essential for guaranteeing flexibility and fostering disruptive innovations and useful for encouraging a survival of the fittest model .
on the other hand hard forks were frequently considered as risky to projects since they could fragment a community and lead to confusion for both developers and users and there was a strong norm against forking many well known hard forks exist e.g.
libreoffice jenkins io.js see fig.
but there are not many well known cases where both communities survived and are both healthy after a hard fork with a prominent exception being the bsd variants.
prior research into forking of free and open source projects focused on the motivations behind hard forks the controversial perceptions around hard forks and the outcomes of hard forks including studying factors that influence such outcomes .
however essentially all that research has been conducted before the rise of social coding much of it on sourceforge github was launched in and became the dominant open source hosting site around cf.
fig .
in this paper we argue that perceptions and practices around forking could have changed significantly since sourceforge s heydays.
in contrast to the strong norm against forking back then we conjecture that the promotion of social forks on sites like github and the often blurry line between social and hard forks may have encouraged forking and lowered the bar also for hard forks.
at the same time advances in tooling especially distributed version control systems like git and transparency mechanisms on social coding sites may have enabled new opportunities and ieee acm 42nd international conference on software engineering icse icse may seoul republic of korea shurui zhou bogdan vasilescu and christian k stner changed common practices and perceptions.
the professionalization of open source development and the increasing involvement of corporations or even corporate ownership of open source projects may have further tilted perceptions.
therefore we argue that it is time to revisit replicate and extend research on hard forks asking the central question of this work how have perceptions and practices around hard forks changed?
updating and deepening our understanding regarding practices and perceptions around hard forks can inform the design of better tools and management strategies to facilitate efficient collaboration.
furthermore we attempt to automate the process of identifying hard forks among social forks and quantifying how frequent hard forks are across github which previous research did not cover.
using a mixed methods empirical design combining repository mining with developer interviews we investigate frequency of hard forks we attempt to quantify the frequency of hard forks among all the mostly social forks on github.
specifically we design and refine a classifier to automatically detect hard forks.
we find instances showing that hard forks are a significant concern even though their relative numbers are low.
common evolution patterns of hard forks we classify the evolution of hard forks and their corresponding upstream repository to observe outcomes including whether the fork and upstream repositories both sustain their activities and whether they synchronize their development.
we develop our classification by visualizing and qualitatively analyzing evolution patterns using card sorting and subsequently automate the classification process to analyze all detected hard forks.
we find that many hard forks are sustained for extended periods and a substantial number of hard forks still at least occasionally exchange commits with the upstream repository.
perceptions of hard forks in interviews with open source maintainers of forks and corresponding upstream repositories we solicit practices and perceptions regarding hard forks and analyze whether those align with ones reported in pre social coding research.
we find that the stigma often reported around hard forks is largely gone indeed forks including hard forks are generally seen as a positive with many hard forks complementing rather than competing with the upstream repository.
futhermore with social forking encouraging forks as contribution mechanism we find that many hard forks are not deliberately planned but evolve slowly from social forks.
overall we contribute a method to identify hard forks a dataset of hard forks on github a classification and analysis of evolution patterns of hard forks and results from interviews with open source developers about the reasons for hard forks interactions across forks and perceptions of hard forks.
our research focuses on development practices on github which is by far the dominant open source hosting platform cf.
fig.
and has been key in establishing the social forking phenomenon.
even large projects primarily hosted on other sites often have a public mirror on github allowing us to gather a fairly representative picture of the entire open source community.
our main research instruments are semi structured interviews with openended questions and repository mining with ghtorrent andthegithub api.
while our research is not planned as an exact replication of prior work and exceeds the scope of prior studies by comparing social and hard forks many facets seek to replicate prior findings e.g.
regarding motivations and outcomes of hard forks and can be considered a conceptual replication .
past research on forking .
types of forking what is popularly understood by forking a project has changed in the last decades which in line with our prior work we distinguish as hard forks andsocial forks hard forks traditionally forking refers to copying a project in order to continue a separate often competing line of development the name and the direction of the project also typically change.
developers might fork a project e.g.
when they are unhappy with the direction or governance deciding to create a divergent version more in line with their own vision .
in pre github days ways to contribute to an open source project varied widely but rather than using public forks one would typically create local copies to make changes and then send those as patch files.
social forks popularized through github forking now also refers to public copies of open source repositories that are often created for short term feature implementation often with the intention of contributing back the the upstream repository.
a fork on github is thus typically not intended to start an independent development line but as a uniform mechanism for distributed development and third party contribution i.e.
pull requests .
in fact the forking function on github is frequently used even just as a bookmarking mechanism to keep a copy of a project without intention of performing any changes .
ongithub nowadays both forms of forking exist and we conjecture that the vast majority of forks are social forks however it is not obvious how to distinguish the two kinds without a closer analysis.
at a technical level forks can be created by cloning of repositories in distributed version control systems in which case the fork maintains the history of the upstream project or simply by copying files over and starting a new history the latter was more common in pre github days .
if forks are created directly on github a clone is automatically created and github tracks and visually shows the relationship between fork and upstream projects.
there is significant research on both hard forks and social forks.
the hard forking research is typically older conducted almost exclusively before github and social forking.
research on social forking is more recent but focuses much more on the contribution process and issues around managing contributions in a single project.
.
motivations for forking reasons why developers might create a hard fork of an existing open source project vary widely.
motivations for such forks have been studied primarily on sourceforge before the advent of social coding environment .
as per robles and 446how has forking changed?
icse may seoul republic of korea gonz lez barahona the most common motivations for hard forks were technical.
variants targeting specific needs or user segments that are not accommodated by the upstream project are the most common motivation .
as a project grows and matures the contributors goals or perspectives may diverge and some may want to take the project in a different direction.
if taken to the extreme hard forks can be used for variant management in which multiple related but different projects originating from the same source are maintained separately .
governance disputes.
some contributors created hard forks when they feel their feedback is not heard or maintainers are accepting patches too slowly in the original project.
a hard fork or even just the threat of creating one can help developers negotiate in governance disputes recent examples of hard forks caused by governance disputes include node.js and docker .
other common forms of disputes occur when companies are involved and try to influence the direction of the project or try to close source or monetize future versions of the project as with hudson andopenoffice.
discontinuation of the original project.
a hard fork can revive a project when the original developers have ceized to work on it.
for example back in the 1990s the apache web server project took over for the abandoned ncsa httpd project.
commercial forks.
companies sometimes fork open source projects to create their own branded version of the project sometimes enhanced with closed source features.
an example is apple s fork of kde s khtml rendering engine as webkit.
legal reasons.
a project might consider different licenses a trademark dispute may arise or changes in laws e.g.
regarding encryption require technical changes.
hard forks can be used to split development for different jurisdictions.
personal reasons.
interpersonal disputes and irreconcilable differences of a non technical nature lead to a rift between various parties so the project forks.
openbsd is a classic example.
in contrast to the older work on hard forks more recent work has also investigated the motivation and practices behind social forks.
for example fung et al .
report that only percent of all active forks of nine popular javascript github projects integrated back any changes.
subsequently researchers studied social forks at larger scale and reported that around percent of forks on github never integrate code changes back .
in addition jiang et al .
reported that percent of their study participants used forks for backup purposes.
in our study we revisit the question about the motivation for hard forks and explore whether they have changed with the rise of social coding.
.
outcomes of hard forks wheeler and robles and gonz lez barahona distinguish five possible outcomes of hard forks successful branching typically with differentiation.
both the original project and the fork succeed and remain active for a prolonged period of time fragmenting the community into smaller subcommunities.
the bsd variants are notable examples.
fork merges back into the upstream project.
the fork does not sustain independence but merges changes back into the upstream project e.g.
after resolving a dispute that triggered the hard fork in the first place as in the io.jsfork of node.js .
discontinuation of the fork.
the fork is initially active but does not sustain its activity.
for example when libcsplit off from glibc the glibc maintainers invested in improvements to win back users and the fork failed.
discontinuation of the upstream project.
the fork outperforms the upstream project such that the upstream project is discontinued or the fork revives an already dead upstream project .
for example xfree86 moved away from a gpl compatible license so the project forked and created x.org which was quickly adopted by most developers and users soon after the xfree86 core team disbanded and development ceased on the project.
both fail.
both projects fail or the fork fails to revive a dead project .
wheeler conjectured that it is rare for both the fork and the upstream project to sustain activities.
robles and gonz lez barahona quantified the frequency of each outcome in a sample of forked open source projects referenced from wikipedia in i.e.
selection biased toward well known projects that have achieved a certain level of success and found that successful branching was most common .
followed by discontinuation of the fork .
and discontinuation of the upstream project .
failure of both and merges were relatively rare .
and .
.
.
pros and cons of hard forks hard forks have long been discussed controversially.
in the 90s and 2000s forking was seen as an important right but also as something to avoid if at all possible unless it is a last resort.
there was a strong norm against forking as it fragments communities and can cause hard feelings for the people involved.
the free software movement has traditionally seen forking as something to avoid forks split the community introduce duplicate effort reduce communication and may produce incompatibilities .
specifically it can tear a community apart meaning people in the community have to pick sides .
such fragmentation can also threaten the sustainability of open source projects as scarce resources are additionally scattered and changes need to be performed redundantly across multiple projects e.g.
the 3d printer firmware marlin fixed an issue pr two years after the same problem was fixed in its hard fork ultimaker pr .
at the same time the right to forking is also seen as an important political tool of the community the threat of a fork alone can cause project leaders to pay attention to issues they may ignore otherwise should those issues actually be important and potentially improve their current practices .
in contrast social forks are seen as something almost exclusively positive and are actively encouraged .
they are a mechanism to contribute to a project and most open source projects actively embrace external contributors .
although some maintainers complain about the burden of dealing with so many third party contributions and some researchers warn about inefficiencies regarding lost contributions or duplicate work we are not aware of any calls to constrain social forking.
447icse may seoul republic of korea shurui zhou bogdan vasilescu and christian k stner tmyroadctfig.jnode figure an example of commit history graph of fork tmyroadctfig jnode importantly though as our study will show the distinction between social and hard forks is fluent.
social coding platforms contain both kinds of forks and they are not always easy to distinguish.
diffusion of efforts and fragmentation of communities as always feared in discussions of hard forks can be observed also ongithub many secondary forks i.e.
forks of forks contribute to other forks but not to the original repository and forks slowly drift apart .
a key question is thus whether the popularity of social forking encourages also hard forks and causes similar fragmentation and sustainability challenges feared in the past.
we believe it is necessary to revisit hard forking after the rise of social coding and github.
specifically we aim to understand the hard fork phenomenon in a current social forking environment and understand how perceptions and practices may have changed.
research questions and methods as described in sec.
the conventional use of the term forking as well as corresponding tooling have changed with the rise of distributed version control and social coding platforms and we conjecture that this also influenced hard forks.
hence our overall research question is how have perceptions and practices around hard forks changed?
we explore different facets of hard forks including motivations outcomes and perceived stigma cf.
sec.
.
we also attempt to identify how frequent hard forks are across github and discuss how developers navigate the tension and often blurry line between social and hard forks.
we adopt a concurrent mixed method exploratory research strategy in which we combine repository mining to identify hard forks and their outcomes with interviews of maintainers of both forks and upstream projects to explore motivations and perceptions.
mixing multiple methods allows us to explore the research question simultaneously from multiple facets and to triangulate some results.
in addition we use some results of repository mining to guide the selection of interviewees.
we explicitly decided against an exact replication of prior work because contexts have changed significantly.
instead we guide our research by previously explored facets of hard forks revisit those as part of our repository mining and interviews and contrast our findings with those reported in pre github studies.
in addition we do not limit our research to previously explored facets but explicitly explore new facets such as the tension between social and hard forks that have emerged from technology changes or that we discovered in our interviews.
.
instrument for visualizing fork activities we created commit history graphs a custom visualization of commit activities in forks as illustrated in figure to help develop anddebug our classifiers sec.
.
and .
but also to prepare for interviews.
given a pair of a fork and corresponding upstream repositories we clone both and analyze the joint commit graph between the two assigning every commit two one of five states created before the forking point only upstream not synchronized only in fork unmerged created upstream but synchronized to the fork and created in the fork but merged into upstream.
technically in a nutshell we build on our prior commit graph analysis where merge edges are assigned weight and all other edges weight and the shortest path from the commit to any branch in either fork or upstream repository identifies where the commit originates and whether it has been merged and in which direction .
we subsequently plot activities in the two repositories over time aggregated in three month intervals larger dots indicate more commits.
in these plots we include additional arrows for synchronization from upstream into the fork and merge from fork to upstream activities.
with these plots we can quickly visually inspect development activities before and after the forking point as well whether the fork and the upstream repository interact.
.
identifying hard forks identifying hard forks reliably is challenging.
pre github work often used keyword searches in project descriptions e.g.
software fork or relied on external curated sources e.g.
wikipedia .
today on sites like github hard forks use the same mechanisms as social forks without any explicit distinction.
classifier development.
for this work we want to gather a large set of hard forks and even approximate the frequency of hard forks among all million forks on github.
to that end we need a scalable automated classifier.
we are not aware of any existing classifier except our own prior work in which we classified forks as hard forks if they have at least two own pull requests or at least own unmerged commits and the project s name has been changed.
unfortunately we found that this classifier missed many actual hard forks false negatives thus we went back to the drawing board to develop a new one.
we proceeded iteratively repeatedly trying validating and combining various heuristics.
that is we would try a heuristic to detect hard forks and manually sample a significant number of classified forks to identify false positives and false negatives revising the heuristic or combining it with other steps.
commit history graphs cf.
sec.
.
and our qualitative analysis of forks sec .
below were useful debugging devices in the process.
we iterated until we reached confidence in the results and a low rate of false positives.
1there are a few nuances in the process due to technicalities of git and github.
for example if the upstream repository deletes a branch after forking the joint commit graph would identify the code as exclusive to the fork to that end we discard commits that are older than the forking timestamp on github.
such details are available in our open source implementation .com shuiblue visualhardfork .
448how has forking changed?
icse may seoul republic of korea our final classifier proceeds in two steps first we use multiple simple heuristics to identify candidate hard forks second we use a more detailed and more expensive analysis to decide which of those candidates are actual hard forks.
in the first step we identify as candidate hard forks among all repositories labeled as forks on github those that contain the phrase fork of in their description h1 .
we use github s search api to find all repositories that contain the phrase fork of in their project description and are a fork of another project.
the idea inspired by prior work is to look for projects that explicitly label themselves as forks defined as self proclaimed forks i.e.
developers explicitly change their description after cloning the upstream repository.
to work around github s api search limit of results per query we partitioned the query based on different time ranges in which the repository was created.
next we compare the description of the fork and its upstream project to make sure the description is not copied from the upstream i.e.
that the upstream project is not already a self proclaimed fork.
received external pull requests h2 .
using the june github dataset we identified all github repositories that are labeled as forks and have received at least three pull requests excluding pull requests issued by the fork s owner to avoid counting developers who use a process with feature branches .
we consider external contributions to a fork as a signal that the fork may have attracted its own community.
have substantial unmerged changes h3 .
using the same ghtorrent dataset we identify all forks that have at least own commits indicating significant development activities beyond what is typical for social forks.
have at least year of development activity h4 .
similar to the previous heuristic we look for prolonged development activities beyond what is common for social forks.
specifically we identify those forks as candidates in which the time between the first and the last commit spans more than one year.
have changed their name h5 .
we check if the fork s name in github has been changed from the upstream repository s name with levenshtein distance .
this heuristic comes from the observation that most social forks do not change names but that forks intending to go in a different direction and create a separate community tend to change names more commonly e.g.
jenkins forked hudson .
each repository that meets at least one of these criteria is considered as a candidate.
we show how many candidates each heuristic identified in the second column of fig.
3b.
note for all heuristics that useghtorrent we additionally validated the results by checking whether the fork and upstream pair still exist on github and whether the measures align with those reported by the github api.
in the second step we performed more detailed and expensive analyses of commit graphs and repository metadata in each candidate hard fork to filter false positives in line with prior work we remove repositories using github for document storage or course project submission 2we include this step after identifying occasional errors in ghtorrent in our validation steps such as switched fork upstream relations between two repositories.
h4 h5 h1 h3 h2 a overlap between the heuristics.rule candidates actual h1 h2 h3 h4 h5 total b hard forks identified.
figure statistics on identified candidate hard forks and actual hard forks.
small intersections omitted for readability.
some of which are among the most forked projects on github.
specifically after manual review we discard repositories containing the keywords homework assignments course codecamp or documents in their description we discard repositories whose name starts with awesome usually document collections and we discard repositories with no programminglanguage specific files as per github s language classification queried through the api .
we discard candidates with fewer than three stars on github.
stars are a lightweight mechanism for developers to indicate their interest in a project and a common measure of popularity.
a threshold of three stars is very low but still requires a minimum amount of public interest.
according to ghtorrent data of the million github repositories million repositories .
have three or more stars.
we discard candidates without any own commits after the fork typically projects that only performed a name change as the single post fork action.
we discard candidates in which or more of all commits in the fork have been merged upstream which indicates social forks with active contributions to the upstream project.
for candidates identified with commits or year of activity we discard those where the thresholds are not met when considering only unmerged commits exclusive to the fork.
we discard candidates owned by developers who contributed more than of the commits or pull requests of the upstream repository which typically indicates core team members of the upstream project using social forks for feature development.
we discard candidates if the fork was created right after the upstream stopped updating if the fork is owned by an organization account and the upstream is owned by a user account.
this is a common pattern we observed indicating the ownership transfer.
our classifier identifies a total of hard forks across github.
in fig.
3b we show which heuristics identified the hard forks and the overlap between the different heuristics in fig.
3a.
classifier validation.
to validate the precision of our classifier we manually inspected a random sample of detected hard forks.
by manually analyzing the fork s and the upstream repository s history and commit messages we classified detected hard forks 449icse may seoul republic of korea shurui zhou bogdan vasilescu and christian k stner as likely false positives suggesting an acceptable accuracy of .
note that manual labeling is a best effort approach as well as the distinction between social and hard fork is not always clear see also our discussion of interview results in sec.
.
.
analyzing false negatives recall is challenging because hard forks are rare projects listed in previous papers are too old to detect in our github dataset and we are not aware of any other labeled dataset.
we have manually curated a list of known hard forks from mentions in web resources and from mentions during our interviews.
of the hard forks of which both the fork and the upstream repository are on github we detect all with our classifier but the size of our labeled dataset is too small to make meaningful inferences about recall.
.
classifying evolution patterns we identified different evolution patterns among the analyzed forks using an iterative approach inspired by card sorting .
evolution patterns describe how a hard fork and the corresponding upstream project coevolve and can help to characterize forking outcomes.
in addition we used evolution patterns to diversify interviewees.
specifically we printed cards with commit history graphs of randomly selected hard forks see sec.
.
then all three authors jointly grouped the cards and identified a few common patterns.
our card sorting was open meaning we had no predefined groups the groups emerged and evolved during the analysis process.
afterward we manually built a classifier that detects the forks for each identified pattern.
we then applied this classifier to the entire dataset inspected that the automatically classified forks actually fit the patterns as intended refining the classifier and its thresholds if needed .
we then picked another hard forks that fit none of the previously defined patterns and sorted those again looking for additional patterns.
we similarly proceeded within each pattern looking at hard forks to see whether we can further split the pattern.
we repeated this process until we could not identify any further patterns.
after several iterations we arrived at a stable list of patterns with which we could classify .
of all hard forks.
we list all patterns with a corresponding example commit history graph in tab.
.
the patterns use characteristics that relate to previously found outcomes such as fork or upstream being discontinued but also consider additional characteristics corresponding to features that were not available or easily observable before distributed version control e.g.
whether the fork and upstream merge or synchronize.
we present the patterns in a hierarchical form because our process revealed a classification with a fairly obvious tree structure not because we were specifically looking for a hierarchical structure.
.
interviews to solicit views and perceptions we conducted semi structured interviews with developers typically to minutes.
despite reaching fewer developers we opted for interviews rather than surveys due to the exploratory nature of our research interviews allow more in depth exploration of emerging themes.
interview protocol.
we designed a protocol that covers the relevant dimensions from earlier research and touches on expected changes including reasons for forking perceived stigma of forking table background information of participants.
par.
domain stars u stars f loc role exp.
yr p1 blockchain 10k f p2 reinforcement learning 10k 1k 30k f p3 mobile processing 20k f p4 video recording 300k f p5 helpdesk system 2k 800k f p6 crm system 800k f p7 physics engine 100k f p8 social platform 500k f p9 reinforcement learning 30k 2nd f p10 game engine 200k 2nd f p11 networking 500k f p12 email library 10k 20k f u p13 game engine 3k 20k f p14 machine learning 30k 60k f p15 image editing 20k f p16 image editing 20k u p17 microcontrollers 9k 1k 300k u p18 maps 100k u f hard fork owner u upstream maintainer 2nd f fork of the hard fork some of the upstream projects are not in github so the number of stars is unknown.
numbers rounded to one significant digit.
and the distinction and possible tensions between social and hard forks.
we asked fork owners about their decision process that lead to the hard fork their practices afterward e.g.
why they renamed the projects their current relationship to the upstream project e.g.
whether they still monitor or even synchronize and their future plans.
in contrast we asked owners of upstream projects to what extent they are aware of interact with or monitor hard forks and to what degree they are concerned about such forks or even take steps to avoid them.
in addition we asked all participants with a long history of open source activity if they observed any changes in their practices or perceptions and that of others over time.
all interviews were semi structured allowing for exploration of topics that were brought up by the participants.
our interview protocol evolved with each interview as we reacted to confusion about questions and insights found in earlier interviews.
that is we refined and added questions to explore new insights in more detail in subsequent interviews for example after the first few interviews we added questions about the tradeoff between being inclusive to changes versus risking hard forks and questions regarding practices and tooling to coordinate across repositories.
to ground each interview in concrete experience rather than vague generalizations we focused each interview on a single repository in which the interviewee was involved bringing questions back to that specific repository if the discussion became too generic.
participant recruitment.
we selected potential interviewees among the maintainers of the identified hard forks and corresponding upstream repositories.
we did consider maintainers with public email address on their github profile that were active in the analyzed repositories within the last years to reduce the risk of misremembering .
we sampled candidates from all evolution patterns sec.
.
and sent out invitation emails.
overall maintainers volunteered to participate in our study response rate .
ten opted to be interviewed over email one 3we unfortunately could not recruit interviewees in all roles for all patterns.
for example for reviving a dead project we would not find any upstream maintainers that were active in the last years.
450how has forking changed?
icse may seoul republic of korea through a chat app and all others over phone or teleconferencing.
in table we map our interviewees to the evolution pattern for the primary fork discussed though interviewees may have multiple roles in different projects .
naturally our interviewees are biased toward hard forks that are still active.
our response rate was also lower among maintainers of upstream repositories who were maybe less invested in talking about forking.
in table we list information about our interviewees and the primary hard fork we discussed.
all interviewees are experienced open source developers specifically many with more than years experience of participating in open source community meaning they have interacted with earlier open source platform such as sourceforge.
our interviews reached saturation in that the last interviews provided only marginal additional insights.
analysis.
we analyzed the interviews using standard qualitatively research methods .
after transcribing all interviews two authors coded the interviews independently then all authors subsequently discussed emerging topics and trends.
questions and disagreements were discussed and resolved together if needed asking follow up questions to some interviewees.
.
threats to validity and credibility our study exhibits the threats to validity and credibility that are typical and expected of this kind of exploratory interview studies and the used analysis of archival github data.
distinguishing between social and hard forks is difficult even for human raters as the distinction is primarily one of intention.
in our experience we can make a judgment call with high inter rater reliability for most forks but there are always some repositories that cannot be accurately classified without additional information.
we build and evaluate our classifiers based on a best effort strategy as discussed.
while we check later steps with data from the github api early steps to identify candidate hard forks may be affected by missing or incorrect data in the ghtorrent dataset.
in addition the history of git repositories is not reliable as timestamps may be incorrect and users can rewrite histories after the fact.
in addition merges are difficult to track if code changes are merged as a new commit or through squashing rather than through a traditional merge commit.
as a consequence despite best efforts there will be inaccuracies in our classification of hard forks and individual commits which we expect will lead to some underreporting of hard forks and to some underreporting of merged code.
we analyze data with right censored time series data in which we can detect that projects have seized activity in the past but cannot predict the future thus seeing a larger chance for older forks to be discontinued.
our study is limited to hard forks of which both fork and upstream repository are hosted on github and of which the forking relationship is tracked by github.
while github is by far the most dominant hosting service for open source our study does not cover forks created of typically older projects hosted elsewhere and forks created by manually cloning or copying source code to a new repository.
in addition our interviews as typical for all interview studies in our field is biased toward answer from developers whochose to make their email public and chose to answer to our interview request which underrepresented maintainers of upstream repositories in our sample.
results we explore practices and perceptions around hard forks along four facets that emerged from our interviews and data.
.
frequency of hard forks our classifier identified hard forks confirming that hard forks are generally a rare phenomenon.
as of june github tracks million repositories that are marked as forks over million distinct upstream repositories among github s over million repositories.
among those the vast majority of forks has no activity after the forking point and no stars.
most active forks have only very limited activity indicative of social forks.
only .
of github s million forks have or more stars.
as our analysis of evolution patterns tab.
reveals cases where both the upstream repository and the hard fork remain active for extended periods of time are not common patterns and hard forks .
.
most hard forks actually survive the upstream project if the upstream project was active when the fork was created patterns hard forks .
but many also run out of steam eventually patterns and hard forks .
.
while most hard forks are created as forks of active projects patterns hard forks there are a substantial number of cases where hard fork are created to revive a dead project pattern hard forks .
in some cases even triggering or coinciding with a revival of the upstream project pattern hard forks .
but also here not all hard fork sustain activity pattern hard forks .
.
discussion and implications.
even though the percentage of hard forks is low the total number of attempted and sustained hard forks is not.
considering the significant cost a hard fork can put on a community through fragmentation but also the potential power a community has through hard forks we argue that hard forks are an important phenomenon to study even when they are comparably rare.
whereas previous work typically looked at only a small number of hard forks and research on tooling around hard fork issues typically focus on few well known projects such as the variants ofbsd or marlin or artificial or academic variants we have detected a significant number of hard forks many of them recent using many different languages that are a rich pool for future research.
we release the dataset of all hard forks with corresponding visualizations as dataset with this paper .
.
why hard forks are created and how to avoid them at a first glance the interviewees give reasons for creating hard forks that align well with prior findings including especially continuing discontinued projects or projects with unresponsive maintainers p1 p2 p8 disagreements around project governance p2 p12 and diverging technical goals or target populations p3 p5 451icse may seoul republic of korea shurui zhou bogdan vasilescu and christian k stner table evolution patterns of hard forks id category total sub category example count interviewees 1success f. active qt.
upstream remains inactive p12 2revive dead projectupstream active again 3not success f active qt only merge p10 both alive only sync p2 p13 p15 merge sync p9 no interation p1 p3 p4 p5 p7 p14 only merge 9fork lived longer7280 only sync 10forking active projectmerge sync no interaction p6 p8 p11 only merge 13fork does not out live upstream6251 only sync merge sync no interaction p6 p11 p13 p14 p17 .
as discussed we identified hard forks tab.
patterns .
that forked an inactive project.
an interesting common theme that emerged in our interviews though was that many hard forks were not deliberately created as hard forks initially.
more than half of our interviewees described that they initially created a fork with the intention of contributing to the upstream repository social fork but when they faced obstacles they decided to continue on their own.
common obstacles were unresponsive maintainers p1 p2 p8 and rejected pull requests p11 p13 p14 typically because the change was considered beyond the scope of the project.
for example p2 described that before forking we started by opening issues and pull requests but there was a lack of response from their part.
got some news only months after when our fork was getting some interest from others.
similarly some maintainers reported that a fork initially createdfor minor personal changes evolved into a hard fork as changes became more elaborate and others found them useful p2 p14 p17 for example p14 described that the upstream project had been constantly evolving and the code base became quickly incompatible with some libraries so he decided to fix this issue while also adding functionality after which more and more people found his fork and started to migrate.
several maintainers also had explicit thoughts about how to avoid hard forks both maintainers of projects that have been forked and fork owners who themselves may be forked and they largely mirror common reasons for forking i.e.
transparent governance being responsive and being inclusive to feature requests.
for example p2 suggests that their project is reactive to the community thus he considers it unlikely to be forked similarly p16 decided to generally respond to issues in a timely manner and make a good 452how has forking changed?
icse may seoul republic of korea faith effort to incorporate prs and possibly fix issues and add features as the needs arrives to reduce the need for hard forks.
beyond these p2 also mentioned that they created a contributing guide and issue templates to coordinate with contributors more efficiently p14 suggested to credit the contributors explicitly in release notes in order to keep contributors stay in the community.
discussion and implications.
whereas forking was typically seen as a deliberate decision in pre github days that required explicit steps to set up a repository for the fork and find a new name nowadays many hard forks seem to happen without much initial deliberation.
social coding environments actively encourage forking as a contribution mechanism which significantly lowers the bar to create a fork in the first place without having to think about a new name or potential consequences like fragmenting communities.
once the fork exists initially created as social fork there seems to be often a gradual development until developers explicitly consider their fork a separate development line.
in fact many hard forks seem to be triggered by rather small initial changes.
these interview results align with the observation that only about of the detected hard forks on github have changed the project s name cf.
fig.
3a .
more importantly a theme emerged throughout our interviews that hard forks are not likely to be avoidable in general because of a project s tension between being specific and begin general.
on the one hand projects that are more inclusive to all community contributions risk becoming so large and broad that they become expensive to maintain e.g.
as p17 suggests the project maintainers need to take over maintenance of third party contributions for niche use cases and difficult to use e.g.
lots of configuration options and too much complexity .
on the other hand projects staying close to their original vision and keeping a narrow scope may remain more focused with a smaller and easier to maintain code base but they risk alienating users who do not fit that original vision who then may create hard forks.
one could argue that hard forks are a good test bed for contributions that diverge from the original project despite their costs on the community if fork dies it might suggest a lack of support and that it may have been a good decision not to integrate those contributions in the main project.
in this context a family of related projects that serve slightly different needs or target populations but still coordinate may be a way to overcome this specificity generality dilemma in supporting multiple projects that each are specific to a mission but together target a significant number of uses cases.
however current technology does not support coordination across multiple hard forks well as we discuss next.
.
interactions between fork and upstream repository many interviewees indicate that they are interested in coordinating across repositories either for merging some or all changes back upstream eventually or to monitor activity in the upstream repository to incorporate select or all changes.
some hard fork owners did not see themselves competing with the upstream project but rather 4an intervieweed hard fork owners explained that they did notchange the fork s name as a way to give credits to the upstream project so not all hard forks without name changes should be automatically interpreted as being created through a gradual transition from social forks.being part of a larger project.
for instance although fork owner p13 has over commits ahead of the upstream project he still said that i would not consider it independent because i am relying on what they upstream are i could make it independent and stop getting their improvements but it s to their credit they make it very easy for their many hundreds of developers to contribute patches and accept patches from each other.
they regulate what goes into their project very well and that makes into my fork much easier.
some p4 and p11 indicate that they would like to merge once the reason for the hard fork disappears typically governance practices or personal disputes .
also upstream maintainers tend to be usually interested in what happens in their forks for example p17 a maintainer of a project with thousands of mostly social forks said i try to be aware of the important forks and try to get to know the person who did the fork.
i will follow their activities to some extent.
however even though many interviewees expressed intentions we see little evidence of actual synchronization or merging across forks in the repositories for example p1 p4 p8 and p11 mention that they are interested in eventually merging back with the upstream repository but they have not done so yet and do not have any concrete plans at this point.
similarly p2 p6 and p10 indicate that they are interested in changes in upstream projects but do not actually monitor them and have not synchronized in a long time.
our evolution patterns similarly show that synchronization from upstream to fork and merging from fork to upstream are rare.
only .
of all hard forks with active upstream repositories ever synchronize or merge tab.
patterns and .
what might explain this difference between intentions and observed actions is that synchronization and merging becomes difficult once two repositories diverge substantially and that monitoring repositories can becoming overwhelming with current tools.
for example p2 reports to only occasionally synchronize minor improvements because the fork has diverged to much to synchronize larger changes p10 has experienced problems of synchronizing too frequently and thus being faced with incomplete implementations and now only selectively synchronizes features of interest.
in line with prior observations on monitoring change feeds interviewees report that systematically monitoring changes from other repositories is onerous and that current tools like github s network graph are difficult to use and does not scale p11 p16 .
discussion and implications.
tooling has changed significantly since the pre github days of prior studies on hard forks which may allow new forms of collaboration across forks git specifically supports merges across distributed version histories as well as selectively integrating changes through a cherry picking feature.
github and similar social coding pages track forks allowing developers to subscribe to changes in select repositories and generally make changes in forks transparent .
essentially all interviewees were familiar with github s network view that visually shows contributions over time across forks and branches.
even though advances in tooling provide new opportunities for coordination across multiple forks and project maintainers are interested in coordinating and considering multiple forked projects as part of a larger community current tools do not support this use case well.
current tools work well for short term social forks but 453icse may seoul republic of korea shurui zhou bogdan vasilescu and christian k stner tend to work less well for coordinating changes across repositories that have diverged more significantly.
this provides opportunities for researchers to explore tooling concepts that can monitor manage and integrate changes across a family of hard forks.
recent academic tools for improved monitoring or cross fork change migration are potentially promising but are not yet accessible easily to practitioners.
also more experimental ideas about virtual product line platforms that unify development of multiple variants of a project may provide inspiration for maintaining and coordinating hard forks though they typically do not currently support the distributed nature of development with competing hard forks.
a technical solution could solve the specificity generality dilemma cf.
sec.
.
allowing subcommunities to handle more specific features without overloading the upstream project and without fragmenting the overall community.
we believe that our dataset of hard forks can be useful to develop and evaluate such tools in a realistic setting.
.
perceptions of hard forking our discussion with maintainers confirmed that the line between hard forks and social forks is somewhat subjective but when prompted they could draw distinctions that largely mirror our definition long term focus extensive changes fork with own community .
for example p2 agree that his fork is independent from the upstream project because they have different goals and suggests the fork has better code quality and better community management practices the only remaining connection are upstream bug fixes that he incorporates from time to time.
also p6 considers his fork as independent given a quicker release cycle and significantly refactorings to the code base.
for most interviewees the dominant meaning of a fork is that of a social fork.
when asked about perceptions of forks most interviewees initially thought of social forks and have strong positive associations e.g.
others contributing to a project onboarding newcomers and finding collaborators and generally fostering innovation.
for instance p6 described the advantages of social forking as it encourages developers to go in a direction that the original project may not have gone and similarly p9 thought that it could boost the creative ideas of the communities.
one interviewee also mentioned that for young projects primarily focus on growth having been forked is a positive signal meaning the project is useful to other people.
social forks were so dominant in the interviewees mind as a default that we had to frequently refocus the interview on hard forks.
when asked specifically about hard forks several interviewees raised concerns about potential community fragmentation p4 p6 p17 worried about incompatibilities and especially confusing end users p3 p9 p14 p17 and would have preferred to see hard fork owners to contribute to the upstream project instead p3 p8 p12 .
however concerns were mostly phrased as hypotheticals and contrasted with positive aspects.
many interviewed owners of hard forks do not see themselves competing with the upstream repository as they consider that they address a different problem or target a different user population.
for example p10 described his fork as a light version of the upstream project targeting a different group of users.while it is understandable that hard fork owners see their forks as justified also some interviewed owners of upstream projects had positive opinions about such forks.
for example p17 expressed that forks are good if there is a reason such as a focus on a different target population in this case beginners and that those forks may benefit the larger community by bringing in more users to the project p18 suggested even that he would support and contribute forks of his own project by occasionally contributing to them as long as it will benefit the larger community.
discussion and implications.
overall we see that the perception of forking has significantly changed compared to perceptions reported in earlier work.
forking used to have a rather negative connotation in pre github days and was largely regarded as a last resort to be avoided to not fragment the community and confuse users.
with github s rebranding of the word forking the stigma around hard forking seems to have mostly disappeared the word has mostly positive connotations for developers associated positively with external contributors and community.
while there is still some concern about community fragmentation it is rarely a concrete concern if there are actual reasons behind a hard fork.
transparent tooling seems to help with acceptance and with considering multiple hard forks as part of a larger community that can mutually benefit from each other.
we expect that a more favorable view combined with lower technical barriers sec.
.
and higher expectations of coordination sec.
.
makes hard forks a phenomenon we should expect to see more of.
however positive expectations can turn into frustration and disengagement of valuable contributors to sustain open source if fragmentation leads to competition confusion and coordination breakdowns due to insufficient tooling.
with the right tooling for coordination and merging we think hard forks can be a powerful tool for exploring new and larger ideas or testing whether there is sufficient support for features and ports for niche requirements or new target audiences e.g.
solving the specificity generality dilemma discussed in sec.
.
with a deliberate process .
to that end though it is necessary to explicitly understand some hard forks as part of a larger community around a project and possibly even explicitly encourage hard forks for specific explorations beyond the usual scope of social forks.
we believe that there are many ways to support development with hard forks and to coordinate distributed developers beyond what social coding site offer at small scale today.
examples include an early warning system that alerts upstream maintainers of emerging hard forks e.g.
external bots which maintainers could use to encourage collaboration over competition and fragmentation if desired a way to declare the intention behind a fork e.g.
explicit github support and dashboard to show how multiple projects and important hard forks interrelate e.g.
pointing to hard forks that provide ports for specific operating systems and means to identify the essence of the novel contributions in forks e.g.
history slicing or code summarization .
conclusion with the rise of social coding and explicit support in distributed version control systems forking of repositories has been explicitly promoted by sites like github and has become very popular.
454how has forking changed?
icse may seoul republic of korea however most of these modern forks are not hard forks in the traditional sense.
in this paper we automatically detected hard forks and their evolution patterns and interviewed open source developers of forks and upstream repositories to study perceptions and practices.
we found that perceptions and practices have indeed changed significantly among others hard forks often evolve out of social forks rather than being planned deliberately and developers are less concerned about community fragmentation but frequently perceive hard forks a positive noncompetitive alternatives to the original projects.
we also outlined challenges and suggested directions for future work.