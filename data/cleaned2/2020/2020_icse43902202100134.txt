on indirectly dependent documentation in the context of code evolution a study devika sondhi avyakt gupta salil purandare ankit rana deepanshu kaushal and rahul purandare iiit delhi new delhi india fdevikas avyakt17285 salil17093 ankit18381 deepanshu18388 purandareg iiitd.ac.in abstract a software system evolves over time due to factors such as bug fixes enhancements optimizations and deprecation.
as entities interact in a software repository the alterations made at one point may require the changes to be reflected at various other points to maintain consistency.
however often less attention is given to making appropriate changes to the documentation associated with the functions.
inconsistent documentation is undesirable since documentation serves as a useful source of information about the functionality.
this paper presents a study on the prevalence of function documentations that are indirectly or implicitly dependent on entities other than the associated function.
we observe a substantial presence of such documentations with of the studied javadoc comments being dependent on other entities as studied in open source repositories implemented in java.
we comprehensively analyze the nature of documentation updates made in commit logs and study patterns to reason about the cause of dependency in the documentation.
our findings from the observed patterns may be applied to suggest documentations that should be updated on making a change in the repository.
index terms code evolution github repositories documentation commits i. i ntroduction a software system undergoes evolution over time.
changes to software in this evolution process may be attributed to factors such as enhancements bug fixes refactoring and deprecation of entities.
modifications made at one point in the source code often require alterations at various other points to ensure the expected behavior.
while developers use testsuites to verify that the changes to the code do not break any functionality in many cases less attention is given to making appropriate changes to the documentation associated with the functions.
such inconsistencies are undesirable for developers as well as users.
a developer needs to obtain knowledge about code components for performing enhancements and other code maintenance tasks.
documentation serves as a prominent source for acquiring this knowledge .
additionally from a user s perspective reading the documentation is preferable to deducing functionality from source code.
there have been research efforts to highlight inconsistencies between different code fragments or between code and its documentation or comment .
past work has focused on inconsistencies with function documentation when the directly associated function is modified.
however the documentation may be dependent on several other entities.
consider two snippets from a commit made in the spring framework code change resulting in a documentation update in another method fig.
snippets from a commit log showing a code change that triggers a documentation update in another file.
project as shown in fig.
.
the commit is sourced from an issue spr which discusses altering the default access control to make a client request to a server.
the field allowcredentials is by default set to enabled or true allowing any site to make an xhr request with credentials.
the developers realize that this is not a secure configuration and resolve the issue by setting allowcredentials to disabled or false by default.
fig.
demonstrates how this code change in one file induces a critical documentation update for theallowcredentials method in another file.
as a project evolves there may be several changes such as the one discussed in this example.
a developer may neglect to update the documentation especially when it is not directly linked to the entity to which the changes have been made.
in this paper we study method documentation and commits logs of open source projects to observe trends on the prevalence of function documentations that are indirectly or ieee acm 43rd international conference on software engineering icse .
ieee implicitly dependent on entities other than the function with which they are associated.
we find a substantial presence of such documentations.
we also observe that developers are likely to leave the documentation inconsistent for a long period of time in the process of making updates to the project.
motivated by the extent and relevance of the problem of inconsistent documentation caused by indirect dependencies we build a taxonomy of the types of documentation updates that indicate dependencies on other changes.
we observe that the developers primarily enhance or fix the core description of the functionality.
we present patterns that indicate potential relations between the source of an update such as a codechange and the affected documentation in order to infer the cause of a dependency.
we further discuss the implications of these patterns for developers from the perspective of building a warning system which indicates potential inconsistencies introduced on making updates.
to summarize this work makes the following contributions a study on the prevalence and the nature of indirect dependencies in function documentations.
a comprehensive analysis of the nature of documentation updates over commit logs extracted from opensource repositories.
the analysis covers the role of developers in maintaining consistent documentation and builds a taxonomy of the nature of documentation updates.
patterns that induce indirect dependencies in documentations.
we discuss the implications of these patterns in building applications to reduce documentation inconsistencies in the context of code evolution.
a publicly available annotated dataset of commit logs and methods with the above mentioned analysis to ease possible future extensions.
ii.
r elated work code comment inconsistency.
documentation writing has traditionally been done manually.
recent research has given due attention to automated documentation generation .
however the aspects of their quality and maintenance are equally essential .
aghajani et al.
study documentation related issues reported on different platforms .
they build a taxonomy of such issues to suggest actionable points.
our study complements these findings.
focusing on the correctness of the documentation codecomment inconsistencies have been studied in the past and tools have been developed to detect such inconsistencies.
wen et al.
study the change history of github projects to analyze how code and comment co evolve .
they further build a taxonomy of comment related changes observed on the analyzed commits.
tcomment is a tool for testing javadoc comments that highlights inconsistencies related to method properties specifically about null values and related exceptions .
icomment is another tool that detects bad comments at a function level .
the tool uses a template based approach by combining nlp machine learning and program analysis to highlight gaps in the context of locking protocols.
all these studies and techniques are scoped to method level granularityto analyze the inconsistencies between the method s code and the directly associated comments.
we take a step further to analyze how code level or external changes could impact javadoc comments at various other points.
several refactoring tools have been proposed to minimize code comment inconsistencies arising from refactoring .
eclipse s java development tools support automated comment refactoring .
while eclipse s refactoring functionality focuses on lexical matches for renaming identifiers ratol et al.
propose a lexical and semantic rules based algorithm to detect fragile comments in the context of performing refactoring based changes to identifiers in the code .
risking changes in code evolution.
due to software delivery pressures developers may be rushed into completing certain tasks compromising the overall software quality.
this phenomenon is referred to as the technical debt .
changes occurring in the process of code evolution involve several risks .
shihab et al.
study various factors and their effectiveness in detecting risky changes .
one of their findings suggests that developers are unreliable in identifying the risks when changes are made that require related changes.
as risky changes incur debt in terms of more reviewing and testing it becomes essential to identify these risks.
technical debt may also be intentionally introduced by developers referred to as self admitted technical debt satd .
this may involve introducing workarounds or suboptimal code to satisfy the basic requirement or adding notes for future releases.
a study on code comments suggests that satd may persist due to the code comment inconsistent changes after releases .
hence efforts to warn developers about introducing satd become essential.
our study is an effort in this direction by highlighting patterns that can potentially aid in identifying the targets where the changes are needed when a source is updated.
information foraging and program navigation.
past works discuss programmer navigation models on code as learnt from the programmer s behavior to recommend navigation actions .
lawrance et al.
propose a model that uses a source code s topology and its scent to predict that the programmer will visit a source code given a bug report .
relying on the programmer s behavior can make the approach subjective as is stated in one of these papers.
instead our work focuses on documentation updates and primarily contributes a taxonomy of the nature of documentation updates made in the code evolution process.
the application derived from our work is a recommendation system for which we suggest objective patterns to recommend points of documentation changes.
change patterns in the context of code evolution.
past studies obtained code evolution patterns to harness for applications such as patch generation language migration code recommendation change guidance and code completion .
nguyen et al.
propose a technique to detect semantic code change patterns using their tool cpatminer .
cpatminer builds a change graph from the original and the altered code functions each represented as a program dependency graph pdg .
1499listing sample of a javadoc comment for a method.
replaces the existing container under test with a new container.
this is useful when a single test method needs to create multiple containers while retaining the ability to use link expectcontents expectcontents and other related methods.
param newvalue the new container instance return the new container instance throws illegalargumentexception if the input is not a valid encoded container since .
public container resetcontainer container newvalue ..body the change graph connects the two pdgs by drawing edges between the unchanged nodes before and after the change.
this change graph is analyzed to mine change patterns.
to infer repetitiveness in change patterns cpatminer checks if the graphs are isomorphic.
mehta et al.
propose a correlated change analysis technique that applies machine learning on file commits to mine change rules based on files that frequently change together .
these rules are used to suggest files that should be altered once a change is made in another correlated file.
their tool supports changes at file level granularity for configuration files.
while these techniques focus on learning the changes made to the code and configurations our study focuses on code evolution from the perspective of inferring the potential causes and patterns that result in inconsistent documentations due to changes made in other related entities.
iii.
e xperiment design the objective of this study is to analyze the nature of inconsistencies in documentations as well as their causes in the context of code evolution.
we analyze method documentation and commit logs in open source projects on github that are implemented in java.
java has been ranked as one of the five most popular languages on github over the last five years .
we scope our study to analyzing documentation updates associated with methods as method headers in the code file.
listing shows a javadoc comment for a method which is the typical documentation format for code files implemented in java.
a. research questions one expects a documentation to describe the entity with which it is directly associated.
however dependency of documentation on other entities would require maintaining the consistency of the documentation with other changes within or external to the project.
we designed the first research question to study the prevalence of dependencies between a method s documentation and indirectly associated source code and other entities.
these other entities include documentations associated with other methods classes interfaces fields or external sources such as url