a novel approach to tracing safety requirements and state based design models mounifah alenazi university of cincinnati cincinnati ohio alenazmh mail.uc.edunan niu university of cincinnati cincinnati ohio nan.niu uc.edujuha savolainen danfossdrives a s gr sten denmark juha.savolainen danfoss.com abstract traceability plays an essential role in assuring that software and systems are safe to use.
automated requirements traceability faces thelowprecisionchallengeduetoalargenumberoffalsepositives beingreturnedandmingledwiththetruelinks.toovercomethis challenge we present a mutation driven method built on the novel ideaofproactivelycreatingmanyseeminglycorrecttracingtargets i.e.
mutantsofastatemachinediagram andthenexploitingmodel checking within process mining to automatically verify whether the safety requirement s properties hold in the mutants.
a mutant is killed if its model checking fails otherwise it is survived.
we leverage the underlying killed survived distinction and developacorrelationanalysisproceduretoidentifythetraceabilitylinks.
experimentalevaluationresultsontwoautomotivesystemswith safety requirements show considerable precision improvements compared with the state of the art.
ccsconcepts software and its engineering requirements analysis traceability system modeling languages .
keywords traceability mutation analysis process mining requirements engineering systems modeling language sysml acm reference format mounifah alenazi nan niu and juha savolainen.
.
a novel approach to tracing safety requirements and state based design models.
in 42nd international conference onsoftware engineering icse may seoul republic of korea.
acm new york ny usa pages.
org .
.
introduction when engineering safety critical systems like medical devices it is of vital importance to ensure the system design meets the safety requirements.
for example one such requirement for a therapeutic robotic arm concerns automatic stoppage of the robotic arm mounifah alenazi is also affiliated with university of hafr albatin saudi arabia.
permissionto make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acm mustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may seoul republic of korea association for computing machinery.
acm isbn ... .
x mps .
design reviews sometimes carried out by independent inspectors are one of the main methods for ascertaining the satisfaction of safety requirements.
in fact one of the most widely used industrial standards for embedded systems iec rates design reviews as highly recommended the highest importance rating for allsystemsat all criticality levels.
the design of a software intensive system often involves modeling.
modeling techniques have received wide industry acceptance especiallyincriticaldomainslikeavionicsandtelecommunications wherestate basedmodelsareprevalentfordescribingsystembehaviors.
these models consist of a finite set of states including the start state s a set of events or inputs and a transition functionthatdeterminesthenextstatebasedonthecurrentstateand event .
many variants exist e.g.
statecharts specifying remote identification and other features at at t rsml requirements state machine language adopted by the faa to regulate collisionavoidance installed on commercial aircrafts etc.
with the use of model driven engineering being on the rise state basedmodelsbecomelargerandmorecomplex.thispresents asignificantchallengefordesignreviews wheretheinspectormay have to browse through the models and manually analyze large numbers of links between safety requirements and design models .
automated requirements traceability can alleviate this challenge e.g.
information retrieval algorithms rely on the textual information of requirements and that of model elements to establishplausibletraceability .
inmodel richbutnotnecessarilytext richsituations researchers havedeveloped slicingtechniquestoautomatically identifythose modelelementsrelatedtoagiveninterest e.g.
aneventorachanging requirement .
for instance the seminal work by korel et al.
analyzed data and control dependencies for backward slicing and more recently nejati et al.
used reachability analysis to perform forward slicing.
while the resulting slice trace typicallybearsarecallvaluecloseto100 theprecisionlevelisvery low.
for example forward slicing combined with natural language processing achieved the best performance in tracing requirementschangestothedesignmodels andeventhisbestperformance hadanaverageprecision ofonly29 .
meaningthata large number of false positives were generated.
in thispaper we present a novelapproach to tackling thefalse positives that have plagued automated traceability research for decades .
the idea is to intentionally generate many false positives from a state based model i.e.
the tracingtarget and then to check whether a safety requirement i.e.
thetracing source is met in them in order to find the actual slicetrace.ourkeyinsightisthatfalsepositivesare close tothemodel ieee acm 42nd international conference on software engineering icse icse may seoul republic of korea m. alenazi et al.
s1 off do power off s1 off do power off s2 filling do open feed s2 filling do open feed s3 warming up do heater on s3 warming up do heater on s4 level low do open feed s4 level low do open feed s5 level ok do shut valves s5 level ok do shut valves s6 level high do open drain s6 level high do open drain power on command !water level low water temp s9 shutdown do cool down s9 shutdown do cool down water level low water level high !water level high s7 purging residue do open drain s7 purging residue do open drain s8 building up residue do close drain s8 building up residue do close draindrain command residue command!sludge ok shutdown commandshutdown commandshutdown command!water level low t2 t3t1 t4t5 t7 t6t8 t9 t10 t11t12 t13t14 t15 figure state machine diagram smd of the water distiller example adapted from .
elements in the real trace but that closeness turns out to be quite faulty aftersome tracing is done e.g.
measuring textual similarity or performing dependence analysis.
this faulty closeness isthemainreasoncausingfalsepositivestobemingledwithreal elements hurtingprecision.ifwecanexploitfaultycloseness before tracing then this proactive approach will provide new capabilities ofaddressingthelowprecisionchallengeofautomatedtraceability.
to investigate the notation of faulty closeness our work leveragesmutationanalysis.mutationanalysisiscommonlyusedasa fault based software testing technique .
given a program mutants are created by simple changes that are intended to represent themistakesoftenmadebyprogrammers.inourwork wedefine themutantsofastate baseddesignmodelbasedonthecommon modeling mistakes surveyed in the literature.
each mutant thusencapsulates the faulty closeness in some form.
we then tracethe safety requirement by analyzing how the mutants satisfy it.
this step is carried out by manually formulating temporal logic formulas to capture the safety properties and employing an ltl modelcheckerforautomatedverification.amutantiskilledifits modelcheckingfails otherwise itissurvived.wedeterminethe finaltracebyexaminingtheco occurrencepatternsofmodelelements i.e.
statesandtheirtransitions inthekilledmutantsversus theirpatternsin the survived ones.
the contributionsof this paperare threefold an innovative approach to exposing a great number of model mutants in support ofsafetyrequirementstracing anautomatedimplementation ofourapproachbasedonmodelcheckingwithinprocessmining and an experimental evaluation of two subject systems with requirements showing considerable precision improvements.
the rest of the paper is structured as follows.
we introduce the backgroundofourworkviaarunningexampleinsection2.section3 describes our traceability information model.
section details ourmutation inspiredapproachandprocess mining basedimplementation.
we present the experimental results in section discuss related work in section and conclude the paper in section .
background this section uses a water distiller example adapted from t o illustratethefunctionalsafetyrequirementsthataretobetraced.
wealsodescribethesyntaxofthetracingtarget whichisrootedin thestatemachinediagram smd ofsystemsmodelinglanguage sysml .
finally we show a couple of state of the art methods inestablishingthecandidatetraceabilitylinksofthe running example motivating our new tracing approach.
considerawaterdistillerintendedforuseinremote undeveloped regions where water is generally available but seldom safe todrink possiblybecauseofviralandbacterialcontamination.a distillerunitpurifieswaterviaheating however anactualsolution mustconsiderbroadissueslike environmentalprotection energy conservation installationcost and functionalsafety .
iec defines functional safety as part of the overall safetyrelating to the equipment under control e.g.
the water distiller .
the goal is to ensure that any safety related system must work correctly or fail in a predictable safe way.
in our running example afaultofheatedwaterrunninglowmaycausethehazard ofleakageorexplosion andafunctionalsafetyrequirementmitigating the fault can implement the proper safeguards to prevent the waterlevel from staying low.
tracingfunctionalsafetyrequirementssupportscriticalneeds suchasinspections assurance andcertification .forthetracing target we concentrate on the smd modeled in sysml.
sysml representsasignificantandincreasingsegmentofindustrialsupport for building critical systems .
smd is one of sysml s behavioralmodels andthesmdconsideredinourworkfollowsthe syntax of an extended finite state machine efsm .
specifically an efsm consists of states including an initial state and an exit 849a novel approach to tracing safety requirements and state based design models icse may seoul republic of korea state andtransitionsbetweenstates.atransitionistriggeredwhen aneventoccursandtheguard conditionpredicate associatedwith the transition is evaluated to be true.
during a transition some action input output operation variable manipulation etc.
may be performed.
figure shows a sysml smd design depicting the intended behaviorofthewaterdistiller.inthisparticulardesignwith9states and15transitions therealtraceoftherequirement preventing the water level from staying low consists of only three states i.e.
s4 s5 and s7 andtwooftheirtransitions t5and t9.inotherwords aninspectorwhoistaskedwithassuringtherequirementwould wanttofocusonthesemodelelementsbecausetheyprovidethe measuresinthedesign s4t5 s5and s4t9 s7 tosafelyguardagainst the distiller slow water level.
the model elements in the real trace also known as the answer set1 istypicallydeterminedmanuallyandshallbedrivenbythe safety requirementsrather thanby thedesign.
forexample anindependent inspector not involved in the construction of the sysmlmodels would be interested solely in water level being low or not withoutconcerning orknowing whetheranycheckonsludgeis performedorifthereisashutdownstateinthesmddesign.inthe running example therefore we designate water level to be the onlypointofinterestandexplainhowbackwardslicing and forward slicing work based on this point of interest slicing criterion .
backwardslicing bs identifiesthosemodelelementsthat affect water level by analyzingthedefine use dependencies of this interested data variable.
beginning with the exit state of figure the bs algorithm traverses the smd backward and selects s6 s5 s4 s3 s2 to be the model slice.
forward slicing fs identifiesthosemodelelementsthat are being affected by water level via reachability analy sis.
beginning with the initial state the fs algorithm traverses the smd in a forward manner and returns the reachable subset of s3 s4 s5 s6 s7 s8 s9 as the model slice.
it is important to point out that given the safety requirement of preventing the water level from staying low we follow the essencesofthestate of the art togeneratethecandidate traceabilitylinks.with s4 s5 s7 serving as the answer set of the runningexample bsachievestherecall andprecision whereas fs s recall and precision .
applying our approachtotherunningexamplereturns s4 s5 s6 s7 resultingin the recall and precision .
while the details of our approachwillbepresentedinsection4 wenextdefinethecontext and scope of the traceable artifact types and their relations.
traceability information model strategically definingatraceabilityinformationmodel tim iskey to the development of safety critical systems .
a tim explicitly recordswhatartifactsareimportantandwhatothersarenotunder 1we define the answer set to be the set of relevant states by excluding the transitions e.g.
s4 s5 s7 rather than t5 t9 or s4 s5 s7 t5 t9 is the answer set of our runningexampleshowninfigure1withrespecttothesafetyrequirement preventing the waterlevel from stayinglow.
wediscuss the threatsto construct validityof this choice in section .tracing source safety propertyhazard tracing target state machine diagram transition trigger guard signal event time event change eventstate effect1.. .. 1outgoing 1incomingrequirementmitigates specifiesfault verifiescontributes to .. .. .. figure traceability information contextualizing the artifacts and relations relevant to our approach.
the current traceability consideration.
in addition the traceable artifacts relations are expressed in the tim.
in practice depicting the planned permitted trace paths in a tim offers at least two benefits astracingisacomplextask atimprovidesaguidelineto ease its set up and allows for the validation of changes and astraceabilityisalsousedbypeoplewhodidnotcreateit thesepeopleneedtoknowhowithasbeendefinedandwhat to expect from it.
figure presents the tim underlying our work.
while requirement is a central artifact type the tracing source of figure 2shows it is the mitigation of hazard contributing fault thatgives rise to this specific type of functional safety requirement .
referringtotheexamplementionedearlier automaticroboticarm stoppage requirement is needed to mitigate the velocity sensor failure fault which in turn contributes to the danger of moving the patient s arm at an excessive velocity hazard .
this shows the human centric nature surrounding the tracing source of figure as the causal chain of reasoning involved in this therapeuticroboticarmcaserequiresdomainknowledgeandrelevant expertise.
methods like fault tree analysis fta and failure modes and effects analysis fmea can facilitate but cannot replace the manual work in safety requirements engineering.
since requirements engineering must span the gap between theinformalworldofstakeholderneedsandtheformalworldof software systems behavior the key question over the use of formal methods is not whetherto formalize but whento formalize .
sysml ssmd practicedinthecontextofmodel drivenengineering embracestheformalizationofsystemsbehaviorinthedesign.we thus use one such formal method namely model checking to 850icse may seoul republic of korea m. alenazi et al.
survived process model mined skilled process model mined k survivedkilledrefining p m pass failoriginal smd m1 create smd mutants m ltl property pconverting into event log m.csvconverting into event log m .csvexporting into m.xmisafety requirement r model checking p on m model checking p on m diff k and s to slice mformulating into events figure overview of our mutation driven traceability approach where mutants are created by modifying the tracing target in small ways to mimic typical modeling errors circlecopyrt mutants are then model checked circlecopyrt to identify the slice trace circlecopyrt .
linkthe tracingsource and tracingtarget offigure2.inourtim each smd design verifies one or more safety properties .
these properties are derived from the functional safety requirements and are formulated into temporal logic formulas amenable to modelchecking.
our tim places the derivation and formulation of the safetypropertiesinside tracingsource emphasizing thehumancentricnature of these activities.
on the tracing target side of figure is the smd which is typicallyused in sysmlto modelthe behaviorof critical components suchashardware software data personnel procedures and facilities .wheninspectingfunctionalsafetydoesnotrequire anentiresmddesign itbecomesvaluabletoidentifythespecific modelelements i.e.
thesubsetofstatesandtheirtransitions .this subsetrepresentsa modelslice ofawholesmd andinthispaper werefertothesubsetasthe traceandtheelementsofthesubsetas thetraceabilitylinks with respect to a given safety requirement.
although tracing is aimed at identifying the specific states and transitions figure shows that the smd semantics are definedalso by trigger guard and effect .
in our running exampleof figure water temp 100is a change event and shutdown command isa signalevent both triggeringthewaterdistillerto alter its behavior.
a time event for instance could trigger the scheduledmaintenance at noon september notshown in figure and in many occasions guard like !
sludge ok specifies thecondition thatmust betruefor atransition tohappen.finally effect in figure represents an action invoked directly on the object that owns the state machine as a result of transitioning into a state e.g.
open drain orshut valves.
the tim of figure delineates the focuses of our work presented in this paper.
for example it is beyond our current scope to trace a single safety property over multiple smds or over differenttypes of sysml models like internal block and activity diagrams.
with manual effort in specifying safety properties our objective is to automatically and accurately slice the smd design to find the traceabilitylinksforthe criticalrequirements.
mutation driven traceability we tackle the low precision challenge faced by contemporary tracing algorithms from a new angle rather than striving for defining an accurate tracing mechanism which often ends up with many imperfectlinks ourcoreideaistocreatemanyimperfecttracing targetsandthentakefulladvantageofthemtodiscoverthelinks.
theseimperfecttracingtargetsaremutantsofthesmddesign and ourentire approach shown in figure is driven by them.
an important check is performed before the mutants are generated.thisisrepresentedbythedecisionnode diamond infigure3.
for a safety property p making sure that the to be traced smd m satisfiespisofgreatpracticalvalue.inourrunningexampleofthe waterdistiller if the analyst writes the following ltl formula state level low !
state level low tryingtoexpressthat itisalways thecaseoncethewaterlevelis low it will eventually not be low then the smd of figure failstosatisfythisproperty.acounterexample ... s4 s5 s4... shows thelooping structurein thesmd design and thusformula fails the ltl model checking.
in these situations the human analyst shallrefine porm and here a new property is written state level low state!
level low state level low state!
level low 851a novel approach to tracing safety requirements and state based design models icse may seoul republic of korea table state machine diagram smd mutation operators category id mistakedescription samplemutation operation on the smd of figure mo1a state is subsumed by another stateaddingan ensuring off state s0 right after the initial state causes s0 to be subsumed by s1 state mo2a state that should be modeled is missing removing s5 mo3a state has incorrect transition s addinga self looping transition to s1 mo4a transition comes from or goes into a wrong place changingthedirection of t5 i.e.
flipping t5 mo5a transition that should be modeled is missing removing t9 transitionmo6a transition is subsumed by another transitionaddinga !water level low transition t16 from s6t o s5 causes t16 to be subsumed by t8 mo7a transition is modeled without trigger removing shutdown command on t13 mo8a guard has incorrect condition changing !sludgeok to sludge ok on t9 guardmo9a guard refers to an undefined variableadding humidityok to t9 with humidity undefined in sysml sblock definition diagram mo10expression is incorrect changing watertemp to water temp on t4 mo11timeevent is incorrectchangingscheduled maintenance from noon september trigger1 to every minutes not shown in figure mo12signalevent is incorrectchanging power on command to power off command ont2 mo13change event is incorrect changing watertemp to water temp !
on t4 mo14effect refers to an undefined variableadding open humidifier to s6 with humidifier undefined effect in sysml s block definition diagram mo15state invariant do entry and or exit are incorrect changing open drain to close drain on s7 toassert oncethewaterlevelislow italwaysbecomesnotlow eventually after being low for some time.
this property is now metbythesmdoffigure1 leadingourapproachtothecreation ofsmdmutants.themainreasonofchecking pandmisthat if mfailsp thenmalready does not implement the requirement so no tracing should be performed.
ourautomatedimplementationisbuiltwiththehelpoftheprom tool especially its ltl model checker operated on the logged eventsina.csvfile.infigure3 modelchecking ponbothmand m isthereforeperformedwithprom.ourownimplementations includeapythonscripttomutate minitsxmiform andadiff procedure to generate the candidate traceability links.
next we discussin more detail the three major steps shown in figure .
.
creating smd model mutants in software testing mutants are results of deliberately seeding faultsintotheoriginalprogram.themutantscanthenbeusedto assessthequalityofatestset themorefaultsdetected orthemore mutants killed the more effective the test set.
in mutation testing onlyfaultsconstructedfromseveralsimplesyntacticchangesare applied.
a key tenet here is that test data that distinguishes all programs differing from a correct one by only simple errors is so sensitive that it also implicitly distinguishes more complex errors.
oneofthefirstsetofmutationoperatorswasimplemented in the mothra system and contained operators ranging fromlogicalconnectorreplacementtostatementdeletion.atany rate mutantsofaprogramarecreatedbasedonafewsimplefaults representing the mistakes that programmers often make .
extendingmutationanalysis wesurveytheliteraturetoidentify the mistakes commonly made in smd modeling .
our surveytable mutation operators of table grounded in the literature of smd modeling sourcedomain mutation model size operators aichernig automotive states mo m o10 m o11 et al.
transitions mo video conferencing 13mo1 mo6 m o8 aliet al.
states transitions mo10 m o12 m o13 elevatorcontrol 10mo15states transitions briand production cell systemmo2 mo5 m o7 et al.
states transitions mo8 m o11 mo13 mo15 choppy and library system mo m o2 m o7 reggio states transitions mo m o10 m o15 mi and control system mo m o3 mo6 ben states transitions mo m o13 m o15 focusesonpracticesoversizablemodelsrelevanttocriticaldomains.
wealsofavorthemistakesreportedincommonbydifferentstudies.
we define mutation operators and list them in table .
these operatorsaredrawnfromthesmdmodelingmistakesdiscussedin five papers.
table maps the sources with the operators.
we group the mutation operators into five categories according to the tracing target of our tim in figure .
for state transition guard trigger and effect thereexistthree four two four and two operators respectively.
these categories show where to mutate whereas the mistake description column of table explainshowtomutate.therightmostcolumnoftable1illustrates 852icse may seoul republic of korea m. alenazi et al.
... ... figure event log snippet showing the smd of figure top records whose case id original the mutant resulted from flipping t5 shaded records whose case id mo4 t5 and thesyntacticchangeof t5flipping dotted box .
each mutation operator with a sample operation performed on the smd designof the water distiller running example.
similartomutatingaprogram thesmdmutationoperatorsof table1aresyntacticmodificationsofinsertion adding replacement changing ordeletion removing .differentfrommutating a program that is textual we automatically mutate the graphical smd by first exporting the model into an xmi file.
we perform this step in the cameo magicdraw tool .
we developed a python script to modify m.xmi removing an existing model element mo m o5 o rm o7 changing its syntactic property mo mo8 mo10 mo11 mo12 mo13 ormo15 andadding anincorrectone mo mo9 ormo14 .duetotherathercomplex subsumptionrelationsinvolvedinmo 1andmo theyarenotimplemented in our current python script.
each resulting m .xmi corresponds to one single syntactic change in one location i.e.
applyingonlyonemutationoperator thoughthesameoperator at one location may generate more than one mutant e.g.
mo applied to t4 water temp of figure outputs five mutants byreplacing with !
and .
ourcurrent smd mutation implementation is trying to be comprehensive asour goal is to use m for tracing selective mutation is investigated experimentally in section .
.
verifying model mutants oncethe smdmutantsare created they undergo model checking soastoautomaticallyverifythesafetyproperty p.aninnovative aspect of our implementation is to leverage ltl model checking within process mining i.e.
the prom tool .
process mining employs data mining algorithms to extract operational knowledge from event logs .
these event logs record instances or cases ofsomeunderlyingprocess e.g.
thatofgrantingsabbatical but automatically extracting that process is difficult when there is a lotofflexibility .ourmodelmutantsareagoodfittoprocess mining in that flexibility of each mutant is restricted to a single simple and syntactic change over the original smd m. figure shows a sample event log recording our running example s smd and for comparison purposes one mutant s records are also displayed namely mo 4applied to t5 .
figure highlights the 853a novel approach to tracing safety requirements and state based design models icse may seoul republic of korea input originalsmd m process model of killed mutants k process model of survived mutants s output set of candidate traceability links l procedure .l all thestates of m .foreach pairof states si sj mwith correlation k si sj .ifcorrelation k si sj threshold k and correlation k si sj correlation s si sj .
markboth states si sj with remove .else .
markboth states si sj with do not remove .l l states being marked andbeing marked onlywith remove .returnl figure identifying model elements from the smd design to be the candidate traceability links.
way that our implementation uses case id to group all the activities belonging to the same smd.
with this case id mechanism we convert m .xmi into an event log file m .csv without including the originalsmdmodel min it.
althoughprocessminingtechniquessuchasthealphaalgorithm can extract one model directly from m .csv in forms like a petri net weareinterestedinobtainingtwomodelsbasedonprom s ltl model checking of ponm .csv one underlying all the killedmutants k andtheotherforallthesurvivedones s .we mark a mutant is killed if its model checking fails i.e.
the injected fault causes pto no longer be satisfied2 otherwise the mutant is survived.
one of the killed mutants in the running example is flipping t5 shown in the bottom of figure .
compared to mthat allows the water level to be low for some time before not being low eventually the flipping t5 mutant fails to meet the safety property pexpressed in formula .
for instance a traversal containing ...s4 s5 s4 s7... whichispermittedin m isnolonger valid due to the injected fault.
thus model checking ponm effectively distinguishes the faults directly violating the safety property from the remaining faults whose negative effects are not observed via automated verification.
.
identifyingslice trace recognizing killed versus survived mutants allows for our approach sfinalsteptoidentifythecandidatetraceabilitylinks.for a given requirements specification expressed in ltl we refer toits links as the set of corresponding states in the smd.
figure presents our algorithmto slice mby contrasting kands.
werely onprom scorrelationanalysisoveraminedprocessmodel3 for a pair of states si sj a correlation score between and is 2recall that the original smd msatisfiespwith the same prom based ltl model checkingmechanism otherwise nomutantwillbecreated.suchacontroliselaborated by the decision node of figure .
3prom s correlation calculation automatically decides four relations between each statepair si sj i sjdirectlyfollows si ii sjsometimesfollows sibutnever a killed mutants k b survived mutants s figure6 correlationanalysisoftherunningexample ssmdmutants black cell shows the correlation is unknown .
produced and if the score is greater than less than or equal to thenitindicatestheco occurrenceof siand sjisstrong weak or unknown respectively.figure visualizes thecorrelation analysisresults over our running example s kands.
weillustrateourslice traceidentificationwiththecorrelation analysis results of figure .
to maintain a high recall value ourtracing algorithm initializes lwith all the states of m i.e.
after line of figure l s1 s2 ... s9 .
we then check the pair of states having only positive correlation in the killed mutants k and ignore all the other pairs.
the rationale is to focus only on the commonly occurred state pair causing the property to fail.
for figure6a line 2selectsthefollowingpairstoexamine s1 s2 s2 s3 s3 s4 s4 s5 s4 s6 s5 s1 s5 s6 s6 s5 s6 s7 s7 s8 s8 s5 and s8 s9 .
foreachoftheaboveselectedstatepairs wemarkbothstates with remove if the two conditions shown in line of figure are met the correlation score of si sj inkis greater than a positivedegree i.e.
threshold k implyingthat siand sjtend to co occur in the killed mutants and suchco occurrenceissignificantlyweakeramongthesurvived mutants s. we operate the latter condition by checking if the difference between the correlation score of si sj inkand that in sis larger than as this difference is sufficient to reverse the correlation strength in the scale.
note that if si sj has a correlation the other way around iii sjsometimes follows siand sometimes the other way around and iv siandsjdo not follow each other .
854icse may seoul republic of korea m. alenazi et al.
scoreof0 unknownco occurrence ineither kors thenline offigure5isevaluatedtobefalse i.e.
si sj aremarkedwith donot remove .
for figure the results of adopting threshold k .
as in prom are s1ismarkedwith remove from s1 s2 andwith remove from s5 s1 s2ismarkedwith remove from s1 s2 andwith remove from s2 s3 s3ismarkedwith remove from s2 s3 andwith remove from s3 s4 s4is marked with remove from s3 s4 with do notremove from s4 s5 andwith do not remove from s4 s6 s5is marked with do not remove from s4 s5 with remove from s1 s5 andwith do not remove from s5 s6 s6is marked with do not remove from s4 s6 with donot remove from s5 s6 with do not remove from s6 s5 and with do not remove from s6 s7 s7is marked with do not remove from s6 s7 and with remove from s7 s8 s8is marked with remove from s7 s8 with remove from s8 s5 and with remove from s8 s9 and s9is marked with remove from s8 s9 .
havingmadethemarksontheexaminedstates weremovefrom lthose states received marks and only remove marks.
line of figure therefore removes s1 s2 s3 s8 s9 and line returns l s4 s5 s6 s7 .thecandidatetraceabilitylinksreturnedbyour algorithm lead to recall and precision however this performanceisachievedonlyfortracingthepropertyofformula tothesmddesignoffigure1.thenextsectionevaluatesour approach quantitatively.
experimental evaluation .
research questions we set out to answer three research questions.
rq1 howaccurateisourproposedmutation driventraceability approach?
while overcoming the low precision challenge is our primary goal we do not want our approach to hurt recall.
our measures forrq1alsoincludef 1whichistheharmonicmeanofrecalland precision defined as f precision recall precision recall.
we use the state ofthe artbs andfs algorithmsintroducedinsection2as baselinesfor accuracycomparisons.
rq2 how to best operate our approach in practical settings?
when no answer set is available fully automated solution is preferred.asourautomatedimplementationisbuiltupontheprom tool we investigate here the influence of threshold kvalue on tracing accuracy.
in our tracing algorithm presented in figure threshold kis a key condition to identify potentially removablestates.
discovering an optimal threshold range can readily transfer our approach into prom tooling especially in terms of delivering a new traceability service with a calibrated correlation analysis.
rq3 how can selective mutation be instrumented in our approach?
because mutation s cost is not negligible reducing effort is of practical value.
rq3thus examines one way toward selective mutationinformedbyfeatureablation byremovingthemutation operatorsinaspecificcategory e.g.
state weareinterestedin how the tracing accuracy changes.
.
subject systems our experiments are carried out in the context of two subject systemsfromtheautomotivedomain.wechoosethesesystemsdueto the relevant discussions of the safety requirements the availability ofthesmddesignmodels andourrecentexperienceofusingthem in the research work .
adaptivecruisecontrol acc of avehicleconsistsof severalcomponentsthatinteractinrealtime.acriticalcomponent of the acc is the speed contr oller whose function is to take over the task of maintaining a constant speedatthe driver srequest.once thespeedcontr ollerisadjusted the acc is activated and supports the throttle control.
after the accisactivated itcanbesuspendedandrestartedbythe driverthroughpressingthesuspend resumebutton orthe brakepedal.whilesuspended thesystemmustmemorize the desired speed .
in acc the user data and the sensor data are read at the input.
these data are used to set the new value of the desired speed which will be compared to the currentspeed .theresultofthiscomparisonisusedtodefine the adjustmentvalue of actuator output.
powersystem ps ofavehicleconsistsofmechanical andelectroniccomponents.amongthe criticalpartsunder ps scontrolarethegearboxandtheswitchbetweengears basedoninputfrommultiplesensorsaswellasdataprovided by the control module of the engine.
the control module ofthepsthenprocessestheseinputstocalculatehowand when to shift gears in the transmission and generates the signalsthat drive actuators to perform this shift.
the traceability related characteristics of the two subject systems are shown in table .
on the tracing source side we manuallyperformedafmeaanalysisandidentifiedafewhazardsand several contributing faults of those hazards.
we further derived functional requirements to mitigate the faults and formulated ltl properties based on the safety requirements.
in acc for instance !
speed state setspeed assuresthe cruisevalue cannot be set while the vehicle s speed is high which mitigates the risk of accident.
the tracing target parts of table show that the average size of the smd designs of acc and ps is about states and transitions.comparedtothesmdsizeslistedintable2 oursubject systems modelsaresimilartothemodelsstudiedinali etal.
andnotablythevideoconferencingmodelsof weresuccessfully appliedatciscoforthepurposeofrobustnesstesting.oneofthe 855a novel approach to tracing safety requirements and state based design models icse may seoul republic of korea table subject system characteristics integers represent totalnumbers whereas decimal numbers represent the averages tracing source tracing targetstates persubject systemhazards faultsreq.sproperties variablessmdstates transitions propertiesanswer setperreq.
per property per smd per smd per smd adaptive cruise3 .
.
.
.
.
.40control acc power system ps .
.
.
.
.
.
figure one smd design of the adaptive cruise control acc under our study.
representative smd designs of acc is shown in figure .
for each smd in our study table shows that around safety properties are verified via model checking.
finally a software and systems expert working in the safety engineeringdomainwhohasmorethan15yearsofindustrialexperiencemanuallyconstructedtheanswersetforeachofthechecked properties.thiswasdonenotasavettingtask butas anindependentdesignreviewtaskwithoutinputfromanyautomated traceability tools.
the rightmost column of table suggests that averagely speaking only about one third of the states are the real traces.
the main objective of automated tracing methods is therefore to identify all the real traces and only the real traces.
.
results theanswersto rq1ontracingaccuracyaresummarizedintable4 where the average recall precision and f 1values are reported.
the bs algorithm misses a few true links in acc and quite some in ps.
one reason is that when a state has multiple outgoing transitions slicing backward from the exit state often fails to cover thosebranchesthatrequireforwardtracing.forexample inps s tracing of a liveness property ensuring braking is applied whenrpm is close to bs is unable to reach the braking paths ofthe smd and covers only the paths by following rpm s defineuse dependencies.
in contrast the fs algorithm achieves recall based on its reachability analysis however its results aretable4 tracingaccuracy bsreferstobackwardslicing fs refers to forward slicing and md refers to ourmutation driven approach acc ps recall precision f 1recall precision f bs92.
.
.
.
.
.
fs100 .
.
.
.
md100 .
.
.
.
noisy by not halting the forward propagation early enough.
our approachdoesnotrelyonstructuraldependenciesandtherefore doesnotfacethechallengesofwhichdirectiontosliceandwhento stopslicing.asshownbythecomparisonswithfsintable4 using model checking to dynamically verify the smd and its mutants improvestheaverageprecisionbyover10 withoutcompromising the tracingcoverage at recall .
the key question rq2addresses is which value threshold k of figure should be in practical settings when no answer set is available.
to this end we calibrate threshold kand measure how it impacts the tracing accuracy.
as recall is maintained atthe level throughout the calibration figure plots the impacts only on precision.
using prom s default value of .
to identify the positively correlated states from the killed mutants k 856icse may seoul republic of korea m. alenazi et al.
.
.
.
.
.
.
.
.
.
.
1acc ps threshold kprecision figure calibrating threshold k of our approach.
all state removedtransition removedguard removedtrigger removedeffect removedprecision mutants figure9 ablationresultsofremovingoneandonlyonecategory of mutation operators.
turns out not to be threshold k s optimal value.
figure suggests threshold k s range of further improves the average precision to .
for acc and .
for ps.
an explanation isthathighervaluesofthreshold kfacilitatesthecondition correlation k si sj correlation s si sj to be met however too high of a value will cause few states to satisfy correlation k si sj threshold k.therefore tofullycapitalizeonour mutation driven traceability approach one can try to set threshold k especiallypracticedtoahighdegreeofautomation in the prom tool chain.
rq3is aimed at exploring ways to reduce the cost of our approach.
as our current implementation favors comprehensiveness closetoonemillionmutantsaregeneratedforthe26smdmodelsin our study.
in our experiments creating a million mutants with our python script took about days and model checking them within promtookroughly2hours.iflessnumbersofmutantscoulddeliver comparable tracing accuracies then the findings would have boththeoretical and practical implications.
to investigate selective mutationempirically weadopttheideaoffeatureablation.inmachine learning feature ablation is designed to assess the informativeness ofafeaturegroupbyquantifyingthechangeinpredictivepower when comparing theperformance of an approach trained with all the feature groups versus the performance without a particular feature group .
following the smd mutation operators defined in table we remove the category feature group one at a time and the ablationresultsareshowninfigure9.whenalltheoperatorsareappliedin acc and ps the average precision is at the level with the optimalthreshold kforeachsubjectsystem.usingthesameoptimal valuesofthreshold k figure9depictstheprecisiondrop aswell as the drop in the number of mutants.
unsurprisingly these two drops are proportional the less number of mutants generated the lower precision the tracing results.
this reinforces the cost benefit tradeoff themoresavingsincost theworsetheperformancebe comes.surprisingly eventhoughthetracingperformanceinour studyismeasuredaccordingtothesubsetof states removing state operatorsresultsintheleastprecisiondecrease.thisshowstheim portanceoftracingcontext i.e.
inordertofindthemodelelementsof interest e.g.
subset of the states it could be more cost effective tomutateotherelements especially transition and or trigger accordingtofigure9 whichprovidethesemanticsoftheinterested ones states .
.
threatsto validity wediscusssomeofthemostimportantfactorsthatmustbeconsidered when interpreting our experimental results.
a threat to constructvalidityisourchoiceofmeasuringthe tracingaccuracy basedonlyontherelevantstates inparticular weexcludethetran sitions in the answer set definition.
the states and their transitionsareclearlyrelated andourrationaleisnottoover penalizeanautomated and scalable method for missing correct model elements or returningincorrectones.thefeedbackfromtheexpertdevisingthe answer set recommends using transitions as anchoring constructs because they inject the state machine with life stories.
a threat to internal validity concerns the quality of the safety properties expressed in ltl formulas.
as we manually performed this task we relied on the decision node of model checking p onm in figure to make sure the smd design models met the ltl properties.
a confounding factor is the number of variables e.g.
speed rpm etc.
expressed in the properties as thevariablesplayakeyroleinouroperationsofthebs and fs algorithms.
table shows that each ltl property contains anaverageoftwovariables however thetracingaccuracyofbs fs and our own approach is likely to be influenced by this number and ourresults must be interpreted with this in mind.
as far as the external validity is concerned our experimental subjectsarebothdrawnfromtheautomotivedomain andtherefore applying our approach to systems in other safety critical domains willbevaluable.anotherthreathereisthespecificclassofstatebaseddesignmodelsbeingtraced namelyefsms.thisisoneofthesimplestclassesinthatefsmsdonotsupportsomeoftheadvancedbehavioralmodelingfeatures suchasconcurrencyandhierarchy.it is future work to expand our mutation driven approach for tracing safetyrequirementstostatecharts rsmlmodels orother behavioral models in sysml like activity diagrams.
related work to position our work in the existing literature we review three strands of research tracing safety critical requirements slicing state based design models and mutation analysis.
traceabilityisessentialforassuringsoftwareandsystemsare safe to use.
however gaps exist between what is prescribed by the 857a novel approach to tracing safety requirements and state based design models icse may seoul republic of korea safety regulations guidelines and how traceability is implemented inpractice .toreducemanualeffort machinelearningmethods have been applied to automatically trace regulatory codes and more recently guo and her colleagues created a deep learningtracingarchitecturebyleveragingwordembeddingand recurrentneuralnetworktobettercapturetherequirementssemanticsinsafety criticaldomains.inthesedomains theinterviews bygoodrum etal.
with14experienceddevelopersandbychen et al.
with nine safety experts advanced our understandings about practitioners views and needs of traceability.
to addresssome of the needs a family of reusable traceability queries was codified a visual language hiding complex details in querying traceabilitywasproposed andnewwaysofmanagingsafety storiesinagileprojectsweredeveloped .m deretal.
providedanactionablechecklisttobestpracticerequirementstraceabilityinsafety critical projects.amongthechecklist stenitems ourapproachexplicitlyconsiderssixbyclearlydefiningthetim offeringtool support and generating traces as slices.
slicinghasbeenmostlyappliedtosourcecodeinordertolocate thepartsoftheprogram thataffectauser specifiedpointofinterest known as the slicing criterion .
since weiser s seminal workonprogramslicing researchershaveinvestigatedslicing in state based models .
of particular relevance to our work is applyingmodelslicingtosupportsafetyinspections.nejatiandher colleagues presented a comprehensive framework with concreteprocedurestomanagethetraceabilityinformationbetween safetyrequirementsandsysmlmodels.acontrolledexperiment quantified the benefits of using design slices in terms of increasing the correctness of conformance decisions from to and reducingtheeffortofsafetyinspectionsby27 .toimprove the automated traceability nejati et al.
used reachability analysis to perform forwarding slicing.
this state of the art serves as a baseline in our evaluation though two important differences shall benoted.first thetimof includessysml sblockdefinition diagrams and activity diagram whereas our tracing target is focused on smdmodels.second the slicing criterionof consists of a specific requirements change whereas our slicing criterion isgiveninanltlformulacapturingrequirementssafety.although ltl formula and model checking have been used in model slic ing to our best knowledge none of the existing slicing approachesperforms model checking on millions of mutants.
in mutation analysis faults are automatically seeded into the softwareartifacts inmostcases thesourcecode andthesurveyby jiaandharman providesevidenceofapplicabilityandmaturity forthetechniqueusedinsoftwaretesting.twomainapplicabilities exist measuring atestset s abilitytodetectfaults andgenerating additionaltestcases.inbothcases thedistinctionbetweenkilled and survived mutants is important.
if the result of testing a mutantisdifferentfromtheresultoftestingtheoriginalprogram thenthemutantisclassifiedaskilled otherwise itissurvived.ourapproach especiallythedecisionon modelingchecking ponm alignswith this distinction.
a test set s effectiveness can then be scored on the proportionofthekilledmutants andadditionaltestcasescanbe generatedtokillthesurvivedmutants.atmodellevels researchers have also applied mutation analysis to reveal faults and to guidethe generation of new test cases .
our work differs fundamentallyfrompriorresearchinthatourintentionisnottokill as many mutants as possible but to use the killed survived distinctionto automatically trace safety requirements.
conclusions we have presented a mutation driven approach to tracing safety requirementsandsmdinsysmlmodeling.notonlyistheconceptualframework depicted but an automated implementation based on model checking within process mining is developed.
experimental results show the precision improvements and the practical supportthatcanbedeliveredaspromplug ins especiallyoursmd mutationscript and calibrated correlation analysis .
the novelty of our work lies in our creation of many imperfecttracingtargets leadingtonewwaysofestablishingtraceability links.
our future work includes expanding the tim to han dle more complex requirements with socio technical interdepen dencies improving the usability of the model slices with visualization and executability and integrating the new generationofdeeplearningbasedrefactoringmethodsforintelligently identifying mutation locations or mutant names to further enhance tracing capabilities.