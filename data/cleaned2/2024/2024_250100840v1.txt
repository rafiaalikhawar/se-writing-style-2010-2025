arxiv .00840v1 jan 2025distilled lifelong self adaptation for configurable systems yulong ye1 tao chen1 miqing li2 1ideas lab university of birmingham united kingdom 2school of computer science university of birmingham unit ed kingdom yxy382 student.bham.ac.uk t.chen bham.ac.uk m.li.
bham.ac.uk abstract modern configurable systems provide tremendous opportunities for engineering future intelligent softwar e systems.
a key difficulty thereof is how to effectively self adapt the configuration of a running system such that its performance e.g.
runtime and throughput can be optimized under timevarying workloads.
this unfortunately remains unaddresse d in existing approaches as they either overlook the available p ast knowledge or rely on static exploitation of past knowledge without reasoning the usefulness of information when plann ing for self adaptation.
in this paper we tackle this challeng ing problem by proposing dlisa a framework that self adapts configurable systems.
dlisa comes with two properties firstly it supports lifelong planning and thereby the planning pro cess runs continuously throughout the lifetime of the system al lowing dynamic exploitation of the accumulated knowledge for rapi d adaptation.
secondly the planning for a newly emerged work load is boosted via distilled knowledge seeding in which the kno wledge is dynamically purified such that only useful past configurat ions are seeded when necessary mitigating misleading informat ion.
extensive experiments suggest that the proposed dlisa significantly outperforms state of the art approaches demons trating a performance improvement of up to and a resource acceleration of up to .
on generating promising adaptation configurations.
all data and sources can be found at our repository .
index terms self adaptive systems search based software engineering dynamic optimization configuration tuning i. i ntroduction software systems are often highly configurable .
however their operation environment is often confronted w ith dynamic and uncertain conditions that change over time which is crucial to their performance e.g.
runtime .
taking the h2 database system as an example its real time workloads are known to highly fluctuate prompting the syste m to dynamically adjust its configuration options to accommodate such changes .
to mitigate this one promising way is to engineer selfadaptive configurable systems a specific type of self adapt ive systems that when the workload changes self adapt their c onfigurations to meet different performance needs .
the critical challenge of self adaptation lies in planning i.e.
how to identify the most effective configuration a.k.
a. adaptation plan amidst constantly changing workload at ru ntime.
recently search based software engineering sbse corresponding author.has been considered a promising direction for solving this challenge which tries to iteratively search for and refine c onfigurations to locate the optimal one by using tailored searc h algorithms .
the inherent search and optimizatio n properties of sbse make it well suited to addressing the com plexities of huge configuration spaces encountered in adapt ing configurable systems.
importantly sbse exhibits highly ex tensible potentials for complementing other approaches s uch as control theoretical and learning based metho ds to achieve integrated schemes thereby providi ng a comprehensive solution for runtime planning.
beyond the exponentially growing search space and the non linear interaction among configuration options the ev erchanging workload further intensifies the planning difficul ties when self adapting configurable systems.
particularl y the landscape of the search space may shift dramatically across different workloads suggesting that a configuration optim ized for one workload may become suboptimal or even perform poorly in another .
this dynamic nature requires planni ng to not only search for an optimal configuration under a newly emerged workload but should be so rapidly.
a promising resolution to that end is to reuse past knowledge i.e.
configurations that were optimized under the pr evious workloads for the planning to start working with unde r the current workload .
however unfortunately existi ng works often assume a stationary adaptation which restarts the planning process from scratch following each workload chan ge or at a fixed frequency.
such methods may be inefficient as they fail to fully utilize historical search experiences r esulting in repetitive effort and a waste of valuable information tha t could inform more effective adaptation planning .
indeed certain approaches have followed a dynamic adaptation that exploit configurations fou nd previously to speedup the planning i.e.
seeding .
this w hile running continuously can still generate negative outcome s as the way how knowledge is exploited follows a static strategy all or randomly selected configurations from the most rece nt past workload are used while any of those from earlier workloads are discarded.
that said the idea seems intuitiv e the latest workload that has been changed may provide more useful information for the current newly emerged one while those older workloads may often be less useful.
yet since th e order of workload arriving in the system is uncertain there isno guarantee that the configurations from the latest workloa d are all promising for the current one nor those from earlier workloads are completely irrelevant as what has been impli ed in prior work and observed from our study in section ii.c .
to fill the above gap in this paper we propose a framework dubbed dlisa to self adapt configurable systems at runtime based on the mape k loop .
dlisa comes with a combination of two properties that makes it distinctive lifelong planning where we leverage an evolutionary algorithm in the planning that runs continuously throughou t the lifetime of the system while providing the foundation for seeding and distilled knowledge seeding a truly dynamic knowledge exploitation strategy such that it not on ly seeds past configurations when there is evidence that they ca n be beneficial but also extracts the most useful ones to seed from all historical workloads hence mitigating the mislea ding noises while keeping the most useful information.
in this wa y dlisa ensures that the exploitation of past knowledge is neither static nor completely abandoned which fits with the characteristics of configurable systems.
in a nutshell our main contributions are as follows we show by examples of configurable systems landscapes the key characteristic faced by self adapting configuration at runtime under changing workloads.
we develop a ranked workload similarity analysis to excavate correlations and patterns of past workloads helping to extrapolate the traits of the new workload for more informed adaptation planning.
we propose a weighted configuration seeding that distills the past knowledge seeding only the most useful configurations and mitigating the misleading ones.
dlisa is experimentally evaluated against four stateof the art approaches on nine real world systems with different performance objectives scales and complexity including time varying workloads.
this leads to a total of cases to investigate.
experimental results encouragingly demonstrate that dlisa exhibits significant improvements in both efficacy up to .
and efficiency up to .
.
the rest of this paper is organized as follows.
section ii introduces the background and motivation.
section iii prov ides the details of our proposed dlisa .
section iv presents our experiment methodology followed by the experimental resu lts in section v. section vi discusses the most noticeable aspec ts ofdlisa .
threats to validity related work and conclusion are presented in sections vii viii and ix respectively.
ii.
b ackground and motivation in this section we discuss the preliminaries and main motivation of this work.
a. self adaptive configurable systems in this work we focus on self adaptive configurable systems.
according to a well known taxonomy the selfadaptive configurable systems differ from the other concept s as follows budget constraint configuration self adaptive configurable system performance workload !
timestep !
w1 w2 w3 w4 wt!
!
fig.
self adaptation planning for configurable systems.
self adaptive systems these systems adapt to changes by modifying their behaviors which could be any system s states including structure and parameters at runtime .
self reconfigurable systems a special type of selfadaptive systems that primarily alter their structure architecture including parameters to adapt .
self adaptive configurable systems unlike others these systems specifically adapt by adjusting configuration parameters .
clearly the self adaptive configurable system is a type of self adaptive self reconfigurable systems that primaril y adjust configuration parameters at runtime to optimize their perfo rmance focusing at the intersection betwee n self optimized and self configured systems which have been frequently studied in prior work involving dynamic workloads .
b. problem formalization without loss of generality self adaptation planning for a given configurable system involves the following key concep ts as shown in figure .
system a configurable system with configurable options that can be adjusted at runtime.
workload the time varying and uncertain receiving jobs for which the system handles.
the concrete instance can vary.
for example the workloads refer to different types and volumes of queries that emerged for database system h2 for file compressors such as kanzi this becomes the incoming files to be compressed which could be of diverse formats and sizes.
configuration an instance of variability for a configurable system formed by a set of values for the configurable options.
in this work we consider both the configurations and options that require system rebooting and those that do not.
performance the metric s that evaluates the behavior of the system such as runtime i.e.
the time taken by the system to process a given workload and throughput.
budget constraint the budget of cost allowed for selfadaptation planning under the workload for a particulartimestep.
while the definition of budget varies in this work we use the number of system measurements during planning as the budget which means that we can only measure a certain number of configurations as our constraint.
the measurement is chosen because it is independent of the implementation such as language and hardware it eliminates the interference of clock time caused by the running system to be adapted when it is run at the same machine as the planning process it has been widely used in existing work .
when a single performance objective is of concern the goal of planning when self adapting a configurable system sis for each timestep tin which the system handles a workload over the time horizon to identify a configuration that optimizes the specific performance attribute e.g.
minimizing runti me or maximizing throughput of the target system subject to a budget constraint for planning.
formally this can be define d as argminft x orargmaxft x s.t.rt rt where x x1 x2 ... x n is a configuration with the values ofnoptions e.g.
xn in search space x.ftrepresents the performance attribute of the target system.
rtandrtrespectively denote the cost consumption and the budget allowed fo r planning at timestep t. c. motivation and challenges it is well known that when self adapting configurable systems the configurations produced under one workload might be useful to the other workloads .
however it remains unclear how to explicitly extract the key knowledge an d whether there exists irrelevant or even misleading informa tion i.e.
noises.
to uncover these underlying issues we analyz e the datasets collected from commonly used configurable systems and their workload from prior studies .
the go al is to investigate what are the similarities and discrepanci es between the configuration landscapes of different workload s. figure shows the top performing configurations for two systems under different workloads and we observe the follow ing patterns similar observations exist in other systems there could be a strong overlap of the promising configurations across workloads the connected points .
that said a promising configuration under a workload could also be promising under the others.
for example the points connected by dashed lines for workloads large vmlinux andmisc ofkanzi in figure 2a.
it is also possible that the promising configurations for each individual workload differ significantly.
for instance the points under workloads of h2 in figure 2b rarely overlap with each other.
the same phenomenon occurs even for the workloads of the same system e.g.
workloaddeepfield against the others for kanzi .
the above leads to a key characteristic for configurable systems which motivates our work configuration id deepfield misc large vmlinux workload .
.
.
.
.
runtime deepfield large vmlinux misc a kanzi0 configuration id smallbank smallbank voter voter workload throughput smallbank smallbank voter voter b h2 fig.
an illustration of similarities and discrepancies i n top performing configurations across workloads.
the same configurations are connected by dashed lines.
top performing configurations between workloads can be very similar or very discrepant depending on both the systems e.g.
kanzi and h2 and the workloads within a single system e.g.
between workload deepfield and the others for kanzi .key characteristic since the order of workloads arriving at a system is uncertain the above suggests that seeding 1promising configurations optimized for the past workloads to the planning under the current workload can be beneficial as long as we can challenge extract the most useful configurations discovered previously the configurations that are promising across workloads if any while so without injecting misleading information the configurations that are good under the past workloads only challenge and detect when it is generally more harmful to seed than simply restart planning.
nevertheless existing approaches have failed to explicit ly handle the above characteristics and challenges of configur able systems when running under changing workloads on one hand stationary adaptation approaches e.g.
femosaa restarts a new search planning from scratch with each workload change but clearly according to the above characteri stic this would waste the valuable knowledge from the past workload instances that could have been exploited .
on the other hand the dynamic adaptation approaches e.g.
seed ea rely on a static assumption for the knowledge exploitation strategy all configurations accumulated to t he most recent past workload are useful for seeding while thos e from previous ones are discarded.
besides they always trig ger seeding even when the benefits are unjustified.
because the seeds retain the planning state indeed the dynamic approa ches 1seeding is a mechanism that benefits the planning for the curr ent workload by reusing configurations optimized under the past workload s .table i comparing dlisa against other approaches.
approach knowledge exploitation seeding workloads configu rations femosaa n a n a n a n a seed ea static always most recent past all d soga static always most recent past random lidos static always most recent past all dlisa dynamic on demand all historical distilled can also be executed in a lifelong manner where the planning process runs continuously and adapts to the changes in the workload but they may pick up potentially misleading information optimal configurations found in the most recen t past workload but are no longer promising or missing useful hints generally promising configurations found under earl ier workloads hindering the planning in the current workload .
the above therefore are the key challenges and limitation s we address in this paper.
table i summarizes the novelty of dlisa against the properties of state of the art approaches.
iii.
t hedlisaframework to tackle the current limitation and handle the key characteristic challenges discussed in section ii c we propo se dlisa a distilled lifelong planning framework for selfadapting configurable systems with time varying workloads .
dlisa comes with two unique properties lifelong planning the planning runs continuously and adapts to workload changes a typical case of dynamic optimization in which the state optimized across different workloads can be preserved.
this provides the foundation for addressing challenge .
distilled knowledge seeding the knowledge of seeding is dynamically distilled i.e.
dlisa extracts the most useful configurations from all past workloads to seed into the current planning process or triggers randomlyinitialized planning from scratch when the overall distilled knowledge is deemed not sufficiently useful.
this tackles both challenge andchallenge .
next we will articulate dlisa s designs in great detail.
a. architecture overview we design dlisa using the typical mape k architecture as shown in figure and algorithm .
in a nutshell mape k distinguishes two sub systems the managed system refers to the configurable systems that should be managed an d the managing system governs the self adaptation i.e.
dlisa .
once a workload change has been detected e.g.
a new incoming job the monitor informs the analyzer to analyze the current and past status which then triggers planner for reasoning about the best self adaptation plan configurati on subject to a given budget constraint.
finally the best opt imized configuration is set to the managed system via executor .
the knowledge refers to the preserved data that can be used by any phases in the mape loop.
in this work the knowledge we retain is the workloads experienced by the systems and all th e corresponding configurations that were measured discover ed in the planning previously line .managed system evolutionary planning cyber twin of the managed system measuring guiding the best configuration analyzer d1d1 d2d2 d3d3 dt 1dt ...knowledge base ranked workload similarity analysis high similarity?
weighted configuration seeding random configuration initialization configurations for planning planner monitor executor no yes genetic algorithm knowledge distillation managing system dlisa fig.
dlisa architecture for configurable systems.
algorithm dlisa framework input cyber twin of the managed system s the budge constraint rt threshold for triggering seeding population size n. declare the best configuration at current workload sbest the set of configurations preserved at workload t dt.
seeded set of configurations p and the knowledge base k. 1while the managed system is running do 2t ifworkload change then t t p knowledge distillation k n dt sbest evolutionary planning s k p rt k k dt send foradaptation sbest end 10end dlisa specializes two key phases in mape k lines analyzer the knowledge distillation component identifies whether seeding is beneficial and if that is the case extracts the most useful configurations preserved previously to seed the planning under the current workload realizing distilled knowledge seeding see section iii b .
planner here we leverage evolutionary planning component to evolve the configurations into better ones in the search space based on the given seeds if any.
we adopt a population based optimizer where a set of the most promising configurations found is preserved and the best one is used for self adaptation under a workload see section iii c .
in particular the search based planning i s conducted on a sandbox which is often a cyber twin or a surrogate system model that allows expedited measurement of the configurations while emulating the behavior of the managed system under the given workload .
through those seeds the planning status for the previous workloads can be kept hence rendering the entire process as lifelong planning over the time horizon.
b. knowledge distillation as shown in figure with the dynamic exploitation strategy realized by knowledge distillation dlisa seeks to distillalgorithm knowledge distillation input the knowledge base k threshold for triggering seeding initial population size n output the set of initial configuration for planning p ranked workload similarity analysis 1fort to size k 1do dt t common configurations from those evaluated in the planning of two adjacent workloads dtanddt 1fromk 3st t calculate the similarity between workloads tandt by and 4ssum ssum st t 5end 6save averaging ssum weighted configuration seeding 7ifsave and size k 0then c then 2best configurations under each workload foreach c cdo get quality weight for cby cw angbracketleftc wc angbracketright wc wc r wc t end p stochastically pick nconfigurations from cwusingwc only happens with one past workload if p negationslash nthen p randomly initialize configurations till p n end 16else p randomly initialize configurations till p n 18end 19return p the configurations optimized for all past workloads in two steps during planning firstly it selects representative c onfigurations evaluated to assess the overall similarity amongst their performance across the workloads using a ranked similarity metric at the workload level .
a high value of the metric represents a higher likelihood of the seeding being useful.
next if there is convincing evidence that seeding can be beneficial for planning we probabilistically extract nmost useful configurations amongst those preserved for seeding using a quality weight at the configuration level otherwise a random initialization process is used instead.
an algorith mic illustration has also been shown in algorithm .
ranked workload similarity analysis when to seed?
for the trigger of seeding the idea is that if the majority of th ose configurations that were discovered under the past workload s are similarly good then it is likely that there is a strong chance for certain promising configurations optimized prev iously to be equally good under the current newly emerged workload i.e.
the seeding should be beneficial.
as a result we propose a ranked workload similarity analysis at the workload level using all the common configurations searched across workloads including those that were ruled out .
in particular we quantify the similarity level betwe en two workloads by using a pairwise ranking loss .
the rationa le is that while the concrete performance of a configuration may fluctuate with workload changes the relative rankings can remain indicative of similarity while being scale free.
we do so via the following steps lines for every pair of adjacent workloads e.g.
tandt retrieve all the evaluated configurations dtanddt .
identify their common configurations dt t line .
compute the ranking loss by quantifying the number of misranked pairs in dt t line l dt t nt t summationdisplay j 1nt t summationdisplay k ft xj ft xk ft xj ft xk whereby is the exclusive or operator nt t is the number of configurations evaluated in both workloads tandt i.e.
the size of dt t .
the ranking loss l dt t represents the number of misranked pairs of configurations between adjacent workloads at timesteps tandt reflecting the discrepancy among them.
assess the similarity between tandt st t using the percentage of the order preserving pairs as follows st t l dt t npairs wherenpairs is the number of configuration combination in dt t line .
calculate the average similarity score for all pairs of adjacent workloads i.e.
ssav line .
the seeding is said to be beneficial and should be triggered only ifssav where is a given threshold.
note that if no common configurations are found between a pair of adjacent workloads we set their similarity st twith a random value that is less than serving as a reasonable guess when no reliable information can be extracted.
weighted configuration seeding what to seed?
when dlisa determines that the seeding is necessary we need to further select the most useful configurations for seeding th e current workload.
as observed in section ii c there could be a strong overlap of good configurations across different workloads yet sometimes the promising ones for different workloads can be highly discrepant.
our idea here is to design a weighting scheme such that it can discriminate the past configurations based on the likelihood of them being promising under the current workload.
to this end we design a two stage weighted seeding that operates at the configurat ion level considering only the good configurations preserved.
as such we say a past configuration is useful for seeding if it is good within its own workload line while being robust and timely across all past workloads lines .
the first stage the local stage weighting focuses on selecting the best configurations locally based on the performance objective under each workload.
this is because those configurations that perform badly in a workload would be less meaningful for seeding.
to that end we filter the preserved configurations at each workload by i.e.
only n 2configurations are considered where nis the number of configurations to be seeded in the end line .
in the second stage we seek to globally weight the configurations across all the past workloads.
the hypotheses are preserved configurations that have demonstrated robustness in many past workloads as they were not ruled out are likely to perform well in the new workload since planning under a later workload might have evolved by integrating previously accumulated knowledge configurations preserved in such a later workload are likely to exhibit good performance in the new workload.
therefore we use quality weight to sort the previously selected configurations from the first stage and it has two components a robustness weight and a timeliness weight lines .
specifically a robustness weight is allocate d to each configuration based on its recurrence across multiple past workloads line .
configurations that appear in a larger number of workloads receive higher robustness weigh ts reflecting their robustness for being preferred frequently and the likelihood of successful performance wc r oc h whereocis the count of past workloads in which the configurationcis preserved and hdenotes the total number of past workloads.
in contrast the timeliness weight of a configura tion is calculated based on the chronological occurrence of the latest workload where the configuration is preserved line .
configurations associated with more recent workloads are presumed to have integrated prior knowledge and are thus given higher timeliness weights wc t sc h wherescis the sequential number of the latest workload that the configuration cis associated with indicating the most recent largest order in which the configuration appears ac ross the past workloads.
since both wc randwc trange between and the quality weight of configuration cis then computed as wc wc r wc t in the end we stochastically select nconfigurations according to wcfor seeding where a greater value of wcstands a higher probability of being favored.
this compared with selecting them deterministically still retains a low poss ibility of selecting less useful configurations for seeding henc e maintaining diversity to escape from the local optima.
notably when there is exactly one previous workload only the first stage would work as the number of configurations to be chosen n is smaller than the number required n .
the remainingn 2configurations are then randomly generated.
of course there will be no seeding under the very first workload .
c. evolutionary planning as mentioned dlisa works the best with using evolutionary algorithms for planning because they are based o n population which fits well with the seeding it caters to a set of configurations instead of one they have been widely studied in sbse self adaptation .
in this work w e employ genetic algorithm ga for seeded planning.
in a nutshell ga works by iteratively reproducing from promisi ng configurations via crossover and mutation as evaluated on t hetable ii subject system characteristics.
the details of their workloads can be found in our repository .
system lang.
domain perf.
version o c w jump3r java audio encoder runtime .
.
kanzi java file compressor runtime .
dconvert java image scaling runtime .
.
7 h2 java database throughput .
.
batlik java svg rasterizer runtime .
xz c c file compressor runtime .
.
lrzip c c file compressor runtime .
x264 c c video encoder runtime baee400.
.
.
z3 c c smt solver runtime .
.
o no.
of options c no.
of configurations w no.
of workloads tested.
cyber twin see section iv c to evolve into even better on es.
we adopt elitist based ga where only the top performing configurations are preserved in each iteration.
since ga has also been used for tuning configurable systems interested readers can refer to prior work for a more detailed elaborati on .
iv.
e xperimental setup we experimentally assess the performance of dlisa by unraveling the following research questions rqs rq1 how effective is dlisa against state of the art approaches?
rq2 how efficient is dlisa compared with others?
rq3 what benefits do ranked workload similarity analysis and weighted configuration seeding each provide?
rq4 how does affectdlisa s performance?
all experiments are run in a python environment on macos with a quad core .
ghz cpu and 8gb ram.
a. subject systems workloads and configurations systems we follow all the systems from a prior empirical study as our subjects which investigates a range of widely studied configurable systems .
our selecti on aligns with this study to ensure consistency and comprehensiveness.
specifically these systems are carefully chosen to span a variety of application domains performance objecti ves and programming languages including both java and c c thereby providing a solid foundation for our investigation into systems with diverse characteristics as shown in table ii.
more details on how to use these systems for conducting experiments can be found in .
workloads the workloads we studied are diverse and domain specific.
for example for smt solver z3 the workload can be different smt instances that are of diverse complexity e.g.
qf rdl orb08 andqf uf peq018 for database system h2 the workloads are requests with different rates and types e.g.
read only or read write such as tpcc andycsb .
in this study we use the same various workloads as in which range from to depending on the systems denoted as w1 w2 .
.
.
w13 .
self adaptations are triggered as those different workloads arrive at the sys temin a certain order.
here we randomly shuffle the order of all workloads to arrive at a system and test self adaptation the rein.
configurations each system in our study features a distinct configuration space covering different option ty pes e.g.
integers boolean and enumerates and dimensions.
overall these diverse systems and workloads provide a robust foundation for assessing the efficacy and efficiency o f our approach across different contexts and configurations.
b. compared adaptation approaches for the comparative analysis in our study we compare dlisa with the following state of the art approaches femosaa2 stationary adaptation the approach responds to workload changes by triggering a new search from scratch with randomly initialized configurations.
seed ea dynamic adaptation by using an evolutionary algorithm the approach seeds all the configurations preserved from the most recent past workload for planning under the new workload.
d soga mixed adaptation as a single objective variant of d nsga ii this approach retains randomly chosen configurations from the most recent past workload with new randomly initialized configurations to preserve diversity when the workload change.
lidos dynamic adaptation the approach transforms single objective problems into multi objecti ve ones via an auxiliary objective thereby leveraging nondominance relations to retain local optimal configurations under the most recent past workload to be seeded for the new workload.
c. component and parameter settings for a fair comparison across all approaches the parameters of all stochastic search algorithms in the planning are stan dardized where binary tournament is employed for mating selection together with the boundary mutation and singlepoint crossover.
the mutation and crossover rates are set at .
and .
respectively with a population size of whic h is widely used in prior works .
for dlisa we set its only parameter .
unless otherwise stated as this tends to be the generally best setting see section v d .
in this study we use cyber twin to mimic the behaviors of the managed systems which aims to expedite configuration evaluation in planning by using less time resources withou t interfering with the managed system.
there are different wa ys to create such a cyber twin e.g.
building a data driven surrogate model using existing benchmarks or creating a low cost simulator replica.
here we chose existing benchmarks from as the cyber twin for all the compared adaptation approaches in experiments which is straightforward and easy to implement providing reliable performance data for accurate configuration measurements .
particularly the budget constraint is measuremen ts i.e.
rt which is sufficient for the approaches to 2we use the single objective version and pair it with ga.converge while allowing them to timely self adapt the syste m. the achieved performance at the end of planning is recorded.
for the purpose of a controlled experiment the workload would change shortly after the best configuration from the previous planning has been used to adapt the system.
in the search optimization procedure of the planning under a particular workload for all approaches we do not explore duplicate configurations i.e.
only the newly eval uated measured configurations from the cyber twin would consume the budget.
when the planning finds invalid configurations we give a purposely worsened performance to those configurations hence they would naturally be ruled out duri ng the search optimization process.
to obtain a statistically sound comparison all experiment s in this study are run times independently.
in particular to test the self adaptation of the systems each of the runs follows a randomly shuffled order of the workloads allowing us to alleviate the bias introduced by a specific occurrence sequence of the workloads.
the performance results under each workload are used but it might appear at a different position across the repeated runs.
d. statistical validation we employed different statistical validation for examinin g the runs of results.
pairwise comparisons for this we use the following non parametric test we use wilcoxon rank sum test a common test widely used in sbse for its strong statistical power on pairwise comparisons .
the significance level over runs is set at .
and p .05indicates significant performance differences in the comparison.
effect size in addition to statistical significance we use a12to measure the effect size .
particularly a12 .44or a12 .56suggests a non trivial effect.
thus we say a comparison is statistically significant only if it has a12 .
or a12 .
andp .
.
three or more comparisons we leverage the scottknott test to compare multiple approaches.
in a nutshel l it first ranks the approaches based on the mean performance scores and then iteratively partitions this ordered list in to statistically distinct subgroups.
these subgroups are determ ined by maximizing the inter group mean square difference and their effect sizes.
for example for three approaches a b a nd c the scott knott test may yield two groups a b with rank and c with rank meaning that a and b are statistically similar but they are both significantly better than c. v. r esults and analysis a. rq1 effectiveness method to answer rq1 we compare dlisa with four state of the art approaches discussed in section iv b. we aggregate and scrutinize the best performing configuratio ns from independent runs each with randomly ordered workloads under every workload across a total of cases systems and each with to workloads .
we also use thetable iii the mean and standard deviation std of performa nce objectives between dlisa and other state of the art approaches for all cases over runs.
for each case green cells mean dlisa has the best mean performance or red cells otherwise.
the one s with the best rank r from the scott knott test is highlighted in bold.
lrzip xz z3 dconvert batlik kanzi x264 h2 jump 3rworkload approachrmean std rmean std rmean std rmean std rmean std rmean std rmean std rmean std rmean std femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w1 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w2 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w3 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w4 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w5 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w6 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w7 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
n a femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
w8 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
n a femosaa .
.
.
.
.
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
.
.
.
.
w9 dlisa .
.
.
.
.
.
.
.
.
.
.
.
.
.
n a n a femosaa .
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
w10 dlisa .
.
.
.
.
.
.
.
.
.
n a n a n a n a femosaa .
.
.
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
.
.
w11 dlisa .
.
.
.
.
.
.
.
.
.
n a n a n a n a femosaa .
.
.
.
.
.
.
.
seed ea .
.
.
.
.
.
.
.
d soga .
.
.
.
.
.
.
.
lidos .
.
.
.
.
.
.
.
w12 dlisa .
.
.
.
.
.
.
.
n a n a n a n a n a femosaa .
.
.
.
seed ea .
.
.
.
d soga .
.
.
.
lidos .
.
.
.
w13 dlisa .
.
.
.
n a n a n a n a n a n a n a femosaa seed ea d soga lidos 0summary r dlisa scott knott test for our analysis.
all other settings a re the same as discussed in section iv c. result the experimental results are summarized in table iii.
as can be seen overall dlisa demonstrates superior performance ranking first in out of cases whi le femosaa seed ea d soga andlidos achieve the best ranks in and out of cases respectively.
notably within the cases where dlisa achieved first rank it also realized the best performance values in case s highlighting the efficacy and robustness of dlisa in selfadaptation.
in particular dlisa achieves up to .
enhancement compared with its counterparts w8 of the kanzi .
the above efficacy of dlisa lies in its knowledge distillation for seeding tailored to the characteristics of chan ging workloads in configurable systems.
this empowers dlisa tojudiciously and dynamically distill the most useful configu rations and ignore the misleading ones to enhance planning or engage a conservative stance in case the past configurations are generally useless.
other approaches in contrast either i gnore the valuable past knowledge or leverage it without catering to the noise due to the stationary setting and the static knowl edge exploitation strategy.
however there are also some edge cases where other approaches are competitive to dlisa .
for instance in lrzip dconvert and batlik systems the relatively high similarity across different workloads suggests that consistently eff ective configuration in one workload tends to perform well in others .
this consistency favors the seed ea approach which simply seeds all the configurations preserved in preceded planning without specific responses to workload changes.
an interest ingtable iv comparing resource efficiency of dlisa with respect to the state of the art approaches.
detailed results can be found in our repository .
systemfemosaa seed ea d soga lidoss s s s n a s s s s n a s s s s n a s s s s n a lrzip xz z3 dconvert batlik kanzi x264 h2 jump 3r total range of ss s .
s s observation arises within z3 system in which d soga exhibits relatively superior performance.
this could be attr ibuted to a possible moderate similarity across workloads which allows the combination of historical insights and random configurations in d soga to thrive.
based on the above analysis we can conclude that rq1 dlisa is effective as it is generally ranked better in the statistical sense than state of the art in cas es out of with significant performance improvements of up to .
.
b. rq2 efficiency method to evaluate the resource efficiency in rq2 for each case out of the we employ the following procedure a baseline b is identified for each counterpart approach representing the smallest number of measurements necessary for it to reach its best performance denoted as t averaging over runs.
fordlisa find the smallest number of measurements denote as m at which the average result of the performance over runs is equivalent to or better than t. the speedup of dlisa over a counterpart is reported as s b m which is a common metric used in .
ifdlisa is efficient then we expect s s 1and s 1meansdlisa has worse efficiency and they are equally efficient respectively.
we use s n a to denote the case wheredlisa cannot achieve the treached by its counterpart.
all other settings are the same as rq1 .
result the results are depicted in table iv clearly dlisa consistently outperforms or equalling its counterparts in the majority of cases.
specifically compared with femosaa dlisa attained superior speedup in cases up to .
with equal efficiency in case.
when contrasted toseed ea dlisa excelled in cases with a maximum of .
speedup and matched in .
for the comparisons withd soga andlidos dlisa maintained a remarkabletable v comparing dlisa against its two variants over runs and respectively indicate dlisa performing significantly better than similarly to or worse th an the variants.
detailed results can be found in our repositor y .
system dlisa vsdlisa i dlisa vsdlisa ii lrzip xz z3 dconvert batlik kanzi x264 h2 jump 3r total speedup within and up to .
out of cases respectively.
these observations illustrate dlisa s ability to deliver robust performance in utilizing resources for self adapting configurable systems.
therefore we say rq2 dlisa is considerably more efficient than state ofthe art approaches in the majority of the cases achieving up to2.
speedup.
c. rq3 ablation analysis method to understand which parts in the knowledge distillation of dlisa work in rq3 we design two variants to compare with the original dlisa over the cases dlisa i we replace the weighted configuration seeding with a random seeding of preserved past configurations.
dlisa ii we disable the ranked workload similarity analysis but randomly trigger the seeding of planning.
since there are only pairwise comparisons we leverage the wilcoxon rank sum test and a12effect size across runs.
result the results are summarized in table v. clearly we see that dlisa exhibits a remarkable improvement over its variants from the cases dlisa winsdlisa iin cases with ties reflecting the effectiveness of weighted configuration seeding.
against dlisa ii dlisa wins in cases draws in cases and loses only in one case indicating the usefulness of the workload similarity analy sis.
these results prove the benefit of seeding only when needed and the positive implication of considering the most useful configurations while excluding the misleading ones all of which are specifically designed in our knowledge distillati on according to the key characteristic of configurable systems under changing workloads discussed in section ii c. in light of these observations we can conclude that rq3 each individual parts in the knowledge distillation indlisa contribute significantly to its superiority.
d. rq4 sensitivity to method the parameter determines the likelihood of triggering seeding in rq4 we examine the sensitivity of0 .
.
.
.
.
.
.
.
.
cases ranked the best fig.
the sensitivity of dlisa to different values.
dlisa to by comparing the cases of .
... .
.
again we use the scott knott to compare the results against different values over runs for all cases.
result as illustrated in figure dlisa exhibits obviously superior performance when the is set to .
in terms of scott knott ranks.
we see that neither too small nor too large is optimal.
this is because in the former case there would be too many unnecessary seeding making it difficult to eliminate the misleading information even wi th the weighted configuration seeding e.g.
0means seeding constantly .
in the latter case it is simply due to the fact t hat it becomes rather difficult to trigger seeding but instead r ely merely on random initialization and hence waste the valuabl e accumulated knowledge.
clearly the degradation of having larger is more serious than setting it small since not being able to seed is more influential than seeding misleading nois es on the systems workloads considered.
overall we show that rq4 setting to .
yields the most effective performance fordlisa as it reaches a better balance between the benefit of seeding and seeding misleading information.
vi.
d iscussion a. how workload similarity analysis helps?
to understand why the ranked workload similarity analysis can help figure 5a shows the changing similarity scores on two exampled orders of the time varying workloads for z3.
as can be seen the similarity scores differ depending on the sequence of the emergent workloads in some cases they are higher than the threshold .3while in some other cases they are lower.
such a discrepancy reflects the likelihood of seeding being beneficial in the former cases the seeding is constantly triggered because configurations fou nd via the planning are sufficiently similar while in the latte r cases randomly initialized configurations are used instea d as seeding would likely be more harmful due to the misleading information caused by rather different landscapes between the workloads.
in this way dlisa retains robust adaptability to diverse and changing workloads on configurable systems.
b. why weighted configuration seeding work?
to demonstrate how configurations are weighted for knowledge distillation figure 5b visualizes the seeds extracti on process for self adaptation planning under workload artificlw7 w6 w2 w8 w1 w9 w5 w3 w10 w12 w11 w400.
.
.
.
workloads order 1similarity score ssav w11 w1 w4 w10 w9 w6 w12 w3 w8 w5 w7 w2workloads order a workload similarity z3 .
.
.
.
configuration indexweightweight .
.
.
.
runtimeruntime b configuration weights kanzi fig.
examples illustrating the workload similarity and seeded configurations with respect to the weights.
in b th e dotted lines highlight the selected ones for seeding.
on the kanzi .
the weights of distilled configurations selected for seeding and their performance under the current workloa d are connected by dashed lines in which we see that configurations with higher weights are often selected and they gener ally yield excellent performance i.e.
smaller runtime than m ost of the remaining ones.
since we select the configurations stochastically based on the weights we see that a small set of those with lower weights is also selected.
those lower weighted configurations albeit slightly worse than the oth ers on performance help to prevent the selection of too many similar configurations for seeding.
the above is what makes the weighted configuration effective in dlisa .
c. what are the implications of dlisa ?
lifelong self adaptation or self evolving systems as h ighlighted in prior work is an emerging paradigm for ensuring that systems can evolve autonomously under unanticipated changes.
this study works along this direction fr om the perspective of seeding under changing workloads.
it sho ws that the evolutionary planning that runs continuously for s elfadaptation is beneficial.
we have demonstrated the effectiv eness of the two key contributions designed in dlisa ranked workload similarity analysis andweighted configuration seeding in achieving lifelong self adaptation for configurable systems dlisa considerably enhances system performance by identifying and leveraging useful historical knowledge while alleviating the impact of misleading information.
th ese results hold substantial implications for the field of softw are engineering as they support the development of more resili ent and dependable software systems that make use of existing useful knowledge while filtering out useless knowledge at varying workloads.
as such we anticipate that our results will further advance the existing research in engineering s elfadaptive configurable systems.
vii.
t hreats to validity our investigation acknowledges the potential threats to internal validity associated with the parameter which we have set to .
.
this choice is grounded in empirical evidenc e from our experiments in rq4 where .3is a rule ofthumb that yields generally favorable outcomes.
we admit that the best value for may differ on a system by systembasis and that exploring different settings for might enhance the robustness of our results.
for all experiments we also u se statistical tests and effect sizes to mitigate this threat.
threats regarding external validity may arise from the specific configurable systems and workloads selected for our study.
to mitigate potential biases we included nine syste ms in our study.
these systems span different domains scales and performance objectives and we tested them across unique workloads following benchmarks set by prior studies .
t his diverse selection aims to enhance the generalizability of o ur results though expanding the range of systems examined cou ld further deepen our insights.
viii.
r elated work here we discuss the related work in light of dlisa .
a. stationary adaptation for configurable systems stationary adaptation in self adaptive configurable syste ms has been the cornerstone of strategies aiming at tuning the configurations under time varying workloads .
tr aditional approaches such as those proposed by chen et al.
and similar frameworks primarily focus on planni ng from scratch when changes in workloads are detected or at regular intervals neglecting the accumulation of valuabl e historical insights.
while this simplifies the optimization pr ocess it may lead to repetitive effort and ineffective planning.
in contrast our proposed dlisa framework adopts a more holistic view that goes beyond the stationary paradigm.
by h arnessing the wealth of information available from past searc h experiences dlisa aims to construct a lifelong planning trajectory for the system.
in this way dlisa sidesteps the inefficiencies of stationary planning fostering a more int elligent optimization process that leverages historical infor mation to facilitate future adaption planning.
b. dynamic adaptation for configurable systems dynamic adaptation is characterized by algorithms designe d for planning continuously and adapting in real time.
for example ramirez et al.
propose p lato a framework for adaptation planning using soga which can automatically achieve adaptation planning by detecting the changes in fitness.
chen et al.
and kinneer et al.
also use the concept of seeding to expedite the planning.
this process inspired by the principles of natural evolution an d state preservation is aimed at seamlessly self adapting t he workload changes thereby achieving lifelong optimizati on .
although existing methods are dynamic in nature they diverge from the true definition of dynamic optimization in the work .
this deviation stems from the static knowledg e exploitation strategy where all or randomly chosen confi gurations from the most recent past workload are seeded for the current one while those from earlier workloads are simply discarded.
in contrast dlisa introduces distilled knowledge seeding a truly dynamic knowledge exploitation strategy designed to navigate planning under time varying workload s. rather than naively assuming that only the configurations fr omthe most recent past workload are useful it proactively ext racts the useful configurations for seeding from all past workload s while so only when it is necessary.
c. control theoretical configuration adaptation control theory has been recognized as an effective solution for the planning of configurable systems .
among others maggio et al.
employ kalman filters to refine and update the state values of the controller model which are central to model predictive control schemes.
shevtsov and weyns expand on this by incorporating the simplex optimization method which targets global optima in system states thereby enhancing the precision of control mechani sms.
the application of control theory in self adaptation plann ing is promising however it faces significant challenges due to t he complex non linear dynamics of real systems that can only be prescribed with advanced domain knowledge .
d. configuration performance learning configuration performance learning for configurable systems is a distinct research trajectory that focuses on model ing the correlation between configuration and performance .
several methods have been used such as support vector machines decision trees neural network and ensemble learning with the goal o f crafting a function that accurately encapsulates the corre lation between adaptation options and the performance of the targe t system.
in contrast dlisa emphasizes optimization to selfadapting the changes of systems a complementary aspect to performance learning .
ix.
c onclusion this paper proposes dlisa a distilled lifelong planning framework with ranked workload similarity analysis and weighted configuration seeding components for self adapti ng configurable systems.
the goal is to dynamically determine when it is generally more promising to seed with historical knowledge when to seed?
and extract what knowledge should be redirected for planning without injecting mislea ding information what to seed?
.
empirical studies conducted on nine real world configurable systems spanning various domains and encompassing a total of workloads demonstrate that compared with state of the art approaches dlisa is more effective as it achieves considerably better adaptation planning than its four competitors with up to .
.
more efficient as it exhibits up to .
speedup on producing promising configurations.
this work sheds light on the importance of automatically leveraging distilled past knowledge to self adapt configur able systems in planning for future workloads.
looking ahead we aim to delve into landscape analysis methods to better handl e workload evolution and explore feedback mechanisms for more precise identification of beneficial planning informat ion.
acknowledgement this work was supported by a nsfc grant and a ukri grant .