arxiv .15181v2 may 2025from bugs to benefits improving user stories by leveraging crowd knowledge with cruise ac stefan schwedt heriot watt university edinburgh scotland schwedt cruise ac.netthomas str oder fachhochschule der wirtschaft fhdw mettmann germany thomas.stroeder fhdw.de ieee.
personal use of this material is permitted.
perm ission from ieee must be obtained for all other uses in any cu rrent or future media including reprinting republishing this material for advertising or promotional purposes creating new collective works for r esale or redistribution to servers or lists or reuse of any copyrighted component of this work in other work s. this work has been accepted to the ieee acm internati onal conference on software engineering icse for publication.
the final version is ava ilable at 17abstract costs for resolving software defects increase exponentially in late stages.
incomplete or ambiguous requirem ents are one of the biggest sources for defects since stakeholde rs might not be able to communicate their needs or fail to share their domain specific knowledge.
combined with insufficient developer experience teams are prone to constructing inco rrect or incomplete features.
to prevent this requirements engi neering has to explore knowledge sources beyond stakeholder interv iews.
publicly accessible issue trackers for systems within the s ame application domain hold essential information on identifie d weaknesses edge cases and potential error sources all docume nted by actual users.
our research aims at identifying and leveraging such issues to improve an agile requirements art ifact known as a user story .
we present cruise ac crowd and user informed suggestion engine for acceptance criteria a s a fully automated method that investigates issues and gener ates non trivial additional acceptance criteria for a given use r story by employing nlp techniques and an ensemble of llms.
cruiseac was evaluated by five independent experts in two distinct business domains.
our findings suggest that issue trackers h old valuable information pertinent to requirements engineeri ng.
our evaluation shows that of the generated acceptance criteria add relevant requirements to the user stories.
lim itations are the dependence on accessible input issues and the fact th at we do not check generated criteria for being conflict free or nonoverlapping with criteria from other user stories.
index terms agile requirements engineering user stories acceptance criteria issue tracker nlp nlp4re llm i. i ntroduction in software development defects are a significant driver fo r costs.
costs for resolving defects become exponentially hi gh if they are detected late in the development process .
after a software system has been released the costs for fixing a defe ct are up to times higher compared to a defect detected in the early requirement phase .
in agile software development scrum is used as the major process template which proposes to note requirements in a textual artifact called user story .
a user story is typically written in the standardized connextra format as a i want so that and acts as a reminder to discuss the described feature between involved roles .
intensive conversation rather than documen tation is supposed to ensure mutual understanding and agreement of a requirement s scope between stakeholders product owner and the development team .user stories are typically accompanied by acceptance crite ria ac .
these are conditions a system must meet in order to fulfill a user story .
they can be either written in pure natural language or in a semi structured format known as gherkin scenarios.
a gherkin scenario follows a givenwhen then pattern and serves as a solid basis to derive acceptance tests .
however agile requirement engineering comes with some challenges.
stakeholders might not be able to communicate their needs or fail to share their domain specific knowled ge .
due to lack of knowledge experience and inadequate requirement analysis the development team is likely to bui ld wrong or incomplete features .
in the end these results a re deviations from stakeholder s implicit expectations wh ich are defined as software defects .
all systems within a software family share a common set of features .
observing and analyzing similar systems hel ps to get a deeper understanding about requirements .
considering that the current software system falls under a cert ain software family public issue trackers can be an additional source of information about possibly hidden or yet unknown requirements.
in this paper we address and answer the following research question how can we use issue trackers of similar systems to generate additional acceptance criteria for a given user story and how useful are the generated criteria?
as an answer to the research question we present cruiseac a novel approach to enrich user stories with automatically generated non obvious acceptance criteria extracte d from crowd entered knowledge listed in public issue trackers.
o ur pipeline integrates a variety of ai techniques including s upervised classification for natural language documents z eroshot instruction prompting using decoder only llms an d ensemble learning .
we demonstrate the proposed approach using real world industrial user stories from two different application dom ains.
our main focus is on e commerce from which we gathered over user stories across three distinct projects.
for th is domain over 000issues were sourced from seven different public issue trackers.
our results reveal that of the ac produced by cruise ac represent significant enhancements to user stories as determined by manual evaluation.to evaluate the applicability of our method across differen t domains we performed a similar assessment within the domain of content management systems cms .
in this context of all generated ac were considered useful.
overall the results demonstrate that issue trackers can se rve as a valuable knowledge repository and should be utilized in conjunction with stakeholder interviews during the requir ements elicitation process.
furthermore cruise ac provid es a novel approach and framework to extract transform and util ize this data.
ii.
r elated work agile software development starts with the definition of a high level project scope that is broken down into smaller requirements artifacts during refinements .
these requ irements artifacts are defined with the customer and other stakeholders .
thus stakeholders collaborate extens ively with the development team to establish these definitions and continuously validate the product being delivered.
accord ing to mcgrath et al.
stakeholders are described in various ways within the literature identifying end users as key stakeholders.
to gather requirements and other feedbac k from a large distributed and heterogeneous stakeholder gro up of end users referred to as crowd crowd based requirements engineering crowdre promises to provide appropriate mechanisms .
numerous studies utilize use r reviews to identify and extract feature requests.
safe uses part of speech pos patterns to detect features in app reviews .
using safe as baseline motger et al.
traine d different transformer based models on a corpus they built fr om human created feature tags in app descriptions.
wu et al.
identified key features of an app by analyzing app descriptio ns and user reviews.
moreover the extraction of requirements from various document and text types has been explored.
shi et al.
examined development emails while abualhaija et al.
analyzed textual requirement specifications.
in addition to features the processes of extracting and trans forming requirements artifacts have been examined.
tiwari et al.
identified use case scenarios from textual proble m specifications.
furthermore ngaliah et al.
showed tha t online news can be utilized as a data source for creating user stories.
all studies employ natural language processing n lp techniques to identify and convert text fragments into artifacts that facilitate requirements engineering.
issue trackers are software tools used by organizations to i nteract with users and stakeholders facilitating communic ation documentation and collaboration on project related issu es during the entire software development lifecycle .
use rs submit various types of issues including feature requests bug reports and questions thereby sharing their experiences and wishes regarding the software system.
data collected from issue trackers were the subject of investigation by several researchers who developed or enhanced methods for the automated classification of issues .
ruan et al.
suggested an approach to automatically establish missing l inks between issues and commits.
to the best of our knowledge there is no existing work that employs issue trackers to iden tify extract and convert their data into requirements art ifacts.
furthermore there has been no proposed approach to associa te issue data with the existing requirements of other projects thus enabling their utility in different contexts.
this paper ai ms to address this gap by presenting a novel concept on the rationa le and methodology for utilizing data from issue trackers.
throughout our experiments to match issues with user stories we investigated the usefulness of various approac hes grounded in information retrieval ir .
in evaluating the semantic similarity between two documents of natural language text functions like cosine can be employed to quantify the semantic distance after converting the documents into vector representations .
various methods ex ist for converting documents into vectors including statisti cally driven approaches e. g. term frequency inverse document frequency tf idf or models based on neural networks e. g. universal sentence encoder use or sentencebert sbert .
as these methods are designed to retrieve the most similar documents our experiments revea led that these approaches provided information with limited no velty or even none to a given user story.
typically the issues returned directly mirrored the content of a user stor y. furthermore the strategy of omitting the initial nresults to obtain more innovative requirements was ineffective since it was challenging to establish a clear beginning and end for th e retrieval window.
clustering approaches especially utilizing dbscan produced good results in certain cases.
however to obtain these result we had to use a manually crafted domai n specific thesaurus to identify different words with the same meaning.
moreover the quality of the results was highly dependent on the complexity of the user story thus limiting the approach s utility.
we first tried to classify user stori es to predict when such a clustering approach would yield useful results but then we found the following approach which is both simpler more powerful and does not need any domain specific thesaurus.
iii.
a pproach an overview of the proposed approach is shown in fig.
.
data objects are illustrated as rectangles featuring a curv ed lower edge.
processing steps are represented as rectangles .
the upcoming sections will detail the four major steps involved in the processing pipeline preprocessing match ing generation and evaluation.
we consider the following thre e inputs issuesiharvested from various issue trackers a single user story uirequiring the generation of acceptance criteria the set of already defined acceptance criteria auifor the user story ui this set might be empty a. preprocessing the goal of our issue preprocessing is to retain only information containing business requirements.
for this work webug report description steps to reproduce issuesi description expected result preprocessed issues i preprocessingas a user i want to receive an order confirmation.
.
.
user story ui description expected result matched issues iuimatching acceptance criterion given when then generated acceptance criteriaauiggeneration acceptance criterion given when then relevant acceptance criteriaauirevaluation display a thank you the order confirmation should be easy to print .
.
.
display a thank you the order confirmation should be easy to print .
.
.
display a thank you the order confirmation should be easy to print .
.
.
existing acceptance criteriaaui fig.
cruise ac processing pipeline only consider issues written in english.
we first eliminate p ull requests identifiable by their url or description starting with a default pattern and duplicates i. e. issues with the sam e title and description .
moreover we only keep the caption description and assigned labels of an issue not making use of any other fields.
no order confirmation when changing the payment method description if an order is placed and e.g.
paypal is selected you will receive an order confirmation .
however if you cancel the payment and want to complete the order with a new payment method in the customer account no order confirmation will be sent.
for this purpose an event was crea ted in the flow builder which is triggered when the payment method in the order is changed checkout order payment method changed .
as an action a mail is then sent with the mail templ ate order confirmation .
the event is triggered but the mail is n ot generated because the iso code is not passed.
environment shopware .
.
.
steps to reproduce create a trigger in the flow builder with checkout order payment method changed and create an order confirmation mail order with e.g.
paypal until you come to the payment cancel order complete the order in the customer account and change the payment method beforehand expected result new order confirmation with the correct payment method current result mail is not generated because the iso code is missing fig.
sample issue taken from shopware issues contain various types of information.
most of them are authored by developers for developers aiming not only t o convey a desired outcome either a bug to be fixed or a new feature to be added but also to provide detailed instructio ns on how to reproduce the mentioned issue.
many reports include source code to offer insights or suggestions on resolving th edescribed issue.
consequently for our approach we need to identify and eliminate information without business requi rements.
fig.
illustrates an example issue1from shopware .
sentences enclosed in red boxes embody the actual business requirement.
as an issue report is usually written in markdown language we can easily identify and remove unneeded sections such as environment steps to reproduce system status rep ort and embedded source code.
similarly we eliminate urls image links html comments and duplicate sentences.
in the last step of issue preprocessing we identify phrases in the remaining sections which do not relate to any requiremen t. shi et al.
classify such phrases as trivia.
examples are i hope you will find the solution thank you or i think it should be modified .
we use a supervised deep learning model see sec.
iii e to identify and remove trivia phrases.
issu es processed and reduced as described constitute the corpus i .
b. matching during the next phase we associate relevant issues with the user story.
an issue is deemed to correspond to the user story if it includes information influencing the implementa tion of that user story.
usually this means the issue contains useful additional requirements or outlines a bug describin g an overlooked edge case.
the task of matching can be reduced to a binary classification problem where each user story is sue pair is assessed.
the result is yes if there is a correspond ence between the user story and the issue and no otherwise.
to match issues to user stories we utilized decoder only large language models llms .
these models have proven their superiority across a wide range of nlp tasks including the classification of short texts .
given the vast diversity of user stories and issues as well as the fact that our data is not labeled beforehand supervis ed classification is impractical in this case.
likewise few s hot learning turned out to be unfeasible in our experiments sinc e did not find good ways to generalize examples of such pairs.
however decoder only llms have proven their abilit y to generalize well across different application domains al ong with impressive zero shot performance .
thus we pass user story issue pairs along with a brief description of the application domain to kdecoder only llms using a zero shot instruction prompt.
the prompt s instruc tions are as follows below you will find the description of an issue and a user story.
assess if the issue affects the functional ity and role covered in the user story.
return yes or no nothing else.
the full prompt is available online.
each user story uitogether with the m th llm define a characteristic function matchui m i with matchui m ij iff them th llm returns yes to the prompt above.
an ensemble or combination of classifiers is a widely utilized technique in classification learning which invol ves constructing a new classifier by integrating a set of base classifiers.
numerous studies have demonstrated that this a pproach significantly enhances the classification performan ce compared to individual classifiers see e. g. .
a comm onality among these studies is the utilization and combinatio n of traditional approaches.
to the best of our knowledge there is currently no research that explores ensemble metho ds combining the outputs of multiple decoder only llms.
our approach uses a non adaptive ensemble algorithm using majority voting .
the process of applying and lear ning weights e. g. as proposed in for each base model along with evaluating potential improvements is deferred to future research.
hence the user story uitogether with our kllms define the overall classification result for each issue by the chara cteristic function matchui i withmatchui ij iffk summationtext m 1matchui m ij ceilingleftbigk ceilingrightbig .
thus the set of corresponding issues is iui ij i matchui ij .
c. generation acceptance criteria for user stories are generally written either as natural language sentences or as semi structured gherkin scenarios.
these criteria serve as a foundation for developing and supporting acceptance tests.
the gherkin form at offers advantages over unstructured sentences by allowing for simpler automated text generation and ensuring traceabili ty from acceptance criteria to executable test cases .
the gherkin pattern consists of a brief description of the scena rio itself followed by a precondition given a trigger when and a result then .
an example of a simple gherkin scenario is scenario simple search given a web browser is on a search engine s page when the search phrase cake is entered then results for cake are shown match.txtto convert an issue ij iuiinto a gherkin style acceptance criterion we use a single llm this time the output is not suitable for a simple merging mechanism like majority votin g .
the prompt contains the instruction use the following issue listed under to generate one new acceptance criteri on in gherkin format given when then for the user story in .
along with the issue text ijand the user story ui.
we provide the full prompt online.
we refer to the set of generated ac for user story ui considering all issues in iui asauig.
an example of such an ac generation is shown in fig.
.
input preprocessed and matched issue i iui session not expire after new password reset.
initially the user will login in a browser then the go with another browser and changed the password for his account.
again he come back to his first browser but the application doesn t ask new password.
we need to get the new password from the user to login for different browsers.a output scenario ensure session expires in other browsers after password reset given i am logged in on browser a when i change my password on browser b then i should be prompted to log in again on browser a with the new password aoriginal issue issues fig.
gherkin scenario generated from issue d. evaluation the standard for software and requirement quality defines several characteristics for requirements to be complete consistent feasible comprehensible andable to be validated .
these criteria are supported by literature and even extende d .
in this paper we have addressed the following quality criteria so far completeness by suggesting additional and potentially yet unknown acceptance criteria for a user story feasibility by generating acceptance criteria from issues that have been solved already in other projects comprehensibility and ability to be validated by using gherkin as a template for acceptance criteria.
consistency demands that requirements are unique and do not conflict with or overlap with other requirements in the set.
we do not address the global check for conflict free and non overlapping conditions as it necessitates consideri ng the entire scope of all user stories together we only focus on on e user story at a time .
however we do address consistency generate.txt partially within the scope of the one user story under consideration.
to this end we use an llm to determine whether the generated acceptance criteria introduce any new requireme nts beyond those already known.
additionally we request that the generated acceptance criteria must contain some nontrivial and non obvious knowledge.
an example for a trivial requirement which we want to eliminate is depicted in fig.
.
user story with acceptance criteria as a logged in user i can view and sort my favorite products.
clicking on title a z sorts the titles alphabetically from a to z clicking on title z a sorts the titles alphabetically from z to a .
.
.
generated acceptance criterion scenario sort wishlist by product name given i am a logged in user when i choose to sort my wishlist by product name then my wishlist should be displayed in alphabetical order based on product name fig.
example for trivial acceptance criterion we prompt the model to assess the quality of all new acceptance criteria along with an explanation for the taken decision.
it contains the instruction the user story ui the existing acceptance criteria aui one newly generated acceptance criterion a auig and the issue ij iuifrom which awas generated.
the basic instruction is for the following user story listed under and the supplied existi ng acceptance criteria listed under te ll me if the new acceptance criterion listed as adds any unique novel or surprising insights and cann ot be considered as common knowledge.
your response label must be either relevant or irrelevant .
relevant means adds valuable and not common knowledge .
the full prompt is available online.
the model s response for fig.
was irrelevant .
the decision was explained by the already existing requirement of alphabetical sorting.
thus the newly generated acceptance crit erion does not introduce any new conditions.
we refer to all generated acceptance criteria the model deems relevant for uiasauir.
e. implementation as the issues do not carry a language field we employed automatic language detection utilizing the python package cld3 to identify issues written in english.
to identify and filter trivia phrases during preprocessing a supervised de ep learning model was trained on a balanced corpus that contain s evaluate.txt1 916phrases with an even distribution of trivia and non trivia phrases.
our objective in constructing the corpus was to analyze approximately random issues.
to achieve this we selected a random sample of issues from each of the seven e commerce related issue trackers described in section iv a2.
the issues were preprocessed according to the method outlined in section iii a except for the final step of filteri ng by trivia which was not applied.
after preprocessing issues remained with a total of 373lines of text.
each line was reviewed by expert e1 see section iv a3 and labeled for trivia non trivia.
the final balanced corpus was split with a ratio of for training and test data.
the best results were achieved by a method that integrates robustly optimized bert approach roberta from the transformer family and long short term memory lstm from the recurrent neural networks family.
this combined approach has been proven to provide better results compared to training a transforme r model independently for various nlp classification tasks s ee e. g. .
during experiments we trained and compa red bert roberta and xlnet models .
the best score was achieved by the combined roberta lstm model with an accuracy and f1 score of .
on the test data.
we provide the trained model online hence it can also be appli ed in other settings .
at this stage we have not conducted a thorough evaluation of the labeling process or the model s outcomes since the model serves merely as a component in the preprocessing phase.
instead we refer to the results of the evaluation of the entire process as detailed in section iv.
for the selection of llms in the matching process we focused on smaller open source models7and assessed the most popular models available for download from the ollama website .
these models were presented in ascent order of billion parameters phi3.
3b gemma 7b gwen2 7b mistral 7b llama3 8b llama3.
8b mistral nemo 12b phi3 14b gemma2 27b .
the best performance in our final llm ensemble was achieved using the following five models gemma2 7b mistral nemo 12b llama3 8b llama3.
8b and gemma2 27b .
to generate gherkin style acceptance criteria from issues we use openai s gpt turbo model .
to get close to deterministic results we set the temperature a parameter that controls the randomness of the model s output to .
the same model is also used to check generated ac afterwards for new and non trivial requirements compared to already existing ac.
iv.
e valuation and results we evaluated our approach within two different application domains.
in our primary domain e commerce we collected iningdata.csv 7we also evaluated some commercial gpt models but they demo nstrated comparatively suboptimal results.
real world user stories from three different projects.
additionally over issues from seven different issue trackers were mined.
to apply our results to a second domain we obtained user stories for a cms product created by a company based in the netherlands.
this dataset has been used in other research before and was originally created by lucassen et al.
.
we gathered data from two distinct cms issue trackers mining over 000issues.
a. primary domain e commerce we first describe the data collection followed by our evaluation methods.
user stories for the e commerce domain we gained access to user stories from three distinct industry specifi c closed source projects.
this is where our research started since one of the authors was involved in these projects and we wanted to find improvements for the way how these projects were carried out.
all projects specifically target the book industry in german speaking countries and are managed by different product owners.
therefore user stories are writ ten by different authors.
project a defines a complete set of requirements for a b2c focused online shop of a publishing house who aims to sell its own publications directly.
project b contains a partial set of requirements for a b2c focused online shop of a bookseller.
project c includes a subset of b2c and b2b requirements for an online bookstore supplemented by an e procurement module designed to provide information and automation for industrial customers.
since ac are optional not all user stories have some.
table i presents the number of user stories us we received by proje ct along with the individual distribution between user storie s with and without additional acceptance criteria ac .
we provid e the dataset online.
table i user stories by project project us with ac ratio project a project b project c total out of user stories along with their ac were written in german language.
to match them against the collected issues written in english user stories in german had to be translated.
for this purpose we used the api provided by deepl .
all user stories and ac were anonymized.
company names were replaced by neutral terms e. g. merchant or shop owner and contained urls removed.
ries 20e commerce.xlsx2 issues to collect a sufficiently large dataset of issues publicly accessible issue trackers were crawled.
we employ ed data supplied by the platform builtwith to identify relevant e commerce systems with a certain market penetrat ion and analyzed this list in a top down manner.
we looked for systems with publicly accessible issue trackers containin g a certain amount of issues.
as of august 3rd when we started our research and accessed builtwith the ranking of the projects utilized was woocommerce magento prestashop opencart and nopcommerce out of total systems listed.
a crawler was utilized to download and copy all issues that met the following criteria to a local database the issue s state is set to closed to capture only issues that have been reviewed by the developers.
the issue is not labeled with cannot reproduce duplicate needs update invalid refactoring or test .
given that all the issue trackers of interest offered an api and supported the application of filters the process was straightforward.
as described in section iii a we only downloaded the caption description and assigned labels o f each issue not making use of any attached discussion or other fields.
with this approach over issues could be collected that were created between june and july .
for this work we only considered artifacts written in the english language.
as the issues do not carry a language field we employed automatic language detection utilizing t he python package cld3 which identified issues as being written in english.
moreover we eliminated issues ba sed on the following criteria the issue is a pull request not a bug report or feature request.
this type was identified by urls beginning with pull or descriptions starting with this issue is automatically created based on existing pull request .
the issue was detected as a duplicate.
our database contained more than one issue with exactly the same title and description.
in this case only the issue with the earliest creation date was kept.
table ii presents the projects whose issue trackers were crawled along with the total number of collected and the final count of issues remaining after preprocessing.
we provide the full dataset of issues including both the original and preprocessed text online.
evaluation procedure since we could not compare our results to existing approaches we had to include a manual evaluation step at the end to determine the quality of our results.
hence we had to limit the number of user stories and issues used in the evaluation to a feasible amount.
we commerce.xlsxtable ii data collected from issue trackers e commerce project issued downloaded issues remaining magento2133 nopcommerce27 opencart313 prestashop431 shopware5520 shopware6615 woocommerce743 total evaluated our approach on a random sample of out of user stories and 500out of54 396preprocessed issues.
for this sample a total of matching user story issuepairs were determined.
for all pairs ac were automatically generated see sec.
iii c and evaluated see sec.
iii d .
f ig.
presents the resulting number of ac per user story.
number of acnumber of user stories fig.
number of generated ac by user story e commerce the average number of newly generated ac was .
the highest number of ac generated for an individual user story reached .
we assume that this elevated figure is attribute d to the fact that the associated user story includes specifica tions related to the accurate presentation of prices inclu ding international tax rules which is a very complex field.
we took a random sample of ac for every user story with more than generated ac and all generated ac for stories with at most generated ac for manual inspection by four independent experts.
in total ac for user stories wer e reviewed.
experts e1 and e2 are seasoned professionals in the e commerce sector with over years of project experience and years in agile project management.
expert e3 is a certified professional scrum master with additional certi fication in professional agile leadership and seven years of experience.
expert e4 has years of working experience in the software industry as developer enterprise architec t agilecoach people manager and principal consultant with mult iple projects both from the e commerce and cms domain .
every expert reviewed the results independently and determined whether an acceptance criterion constituted a val id addition to the business scope of the user story described edge cases or covered other non obvious scenarios.
ac that met the aforementioned conditions were tagged as approved .
table iii presents the results.
table iii ac approval by expert e commerce e1 e2 e3 e4 approved ac declined ac approval rate we consider an ac as accepted by the experts if it receives positive assessments from at least three out of four evaluators.
according to this definition of the generated acs were approved by the experts.
we offer the annotations as a downloadable dataset.
to ensure the reliability of our annotations we calculated the agreement rate between all annotators as outlined by table iv.
table iv agreement rate of experts e commerce e1 e2 e3 e4 e1 .
.
.
.
e2 .
.
.
.
e3 .
.
.
.
e4 .
.
.
.
average .
.
.
.
on average there was an .
consensus among all experts.
we calculated cohen s kappa a commonly utilize d metric for evaluating inter rater reliability .
despi te the high agreement between the raters cohen s kappa returned a relatively low value of .
suggesting moderate inter r ater reliability .
the phenomenon of high agreement but low kappa value is known as kappa paradox .
consequently gwet s ac1 was computed as another paradox resistant indicator to provide a valid assessment of the inter rater reliability.
gwet s ac1 yielded a value of .
indicating substantial agreement .
a complete example of a user story its existing acceptance criteria along with a newly generated and manually approved criterion is displayed in fig.
.
in addition fig.
presents a counterexample of a generated acceptance criterion that received approval from the autom ated assessment but was rejected by all the experts.
b. secondary domain cms to evaluate the generalizability of our method in a later stage of our research we applied it to the second domain of cms.
20e commerce.xlsxuser story as a customer i would like to register as a private user in the webshop.
original acceptance criteria the user must enter at least the mandatory fields for successful registration.
the user will be notified if he forgets to enter mandatory fields.
the user must confirm the e mail address.
the user is logged in after confirmation.
the user can log in and out with his data as soon as the e mail has been confirmed.
newly generated acceptance criterion scenario register as a private user during checkout and proceed to confirmation page given i am a new customer and i am at the checkout page when i complete the registration process as a private user then i should be redirected to the checkout confirmation page instead of the account site fig.
user story enriched with new relevant acceptance criterion e commerce user story as a punchout user i want to order bundle titles in basket split for v at differences all over the system.
original acceptance criteria bundles can only be ordered together.
it should not be possible to delete only one part of bundles.
it should not be possible to change the amount for only one part of bundles.
if the print part is deleted the online part is also deleted .
changing the amount of print part also changes the amount of the online part.
newly generated acceptance criterion scenario ensure correct total price calculation with tax f or multiple units of a product given the tax rate is set to when the system calculates the total price including tax then the total price should be exactly .
fig.
user story with new acceptance criterion rejected by all experts e commerce we used all user stories from a dataset that was originally created by lucassen et al.
.
all user stories came withou t additional ac.
we provide the user stories for download sinc e the original link is not available anymore.
to identify relevant issue trackers we visited the cms usage statistics of builtwith and conducted a search fo r publicly accessible issue trackers that offered a certain n umber of issues along with an api for downloading.
to capture a broad spectrum of available cms we chose to examine issues from one system located in the top tier and another situated in the lower tier.
as of august 14th builtwith ranked ries 20cms.xlsxmoodle17on position and umbraco18on position out of total systems listed.
to download and preprocess the issues for both cmss we reused the same mechanisms as outlined in section iv a2.
table v displays the total number of issues collected and the final count of issues remaining after preprocessing for b oth projects.
we provide the complete dataset of issues featuri ng both their original and preprocessed text.
table v data collected from issue trackers cms project issued downloaded issues remaining moodle1133 umbraco215 total we again selected a random sample of issues to maintain consistent parameters with those used for the prim ary domain.
the matching mechanism detailed in section iii b resulted in pairs of user stories and issues.
following t he methodology discussed in section iii c ac were generated for all these pairs and evaluated automatically as describe d in section iii d. this way ac across of the user stories were found to be beneficial.
fig.
details the result ing number of acceptance criteria per user story.
number of acnumber of user stories fig.
number of generated ac by user story cms on average new acceptance criteria were generated.
the maximum number of acceptance criteria produced for a single user story was .
for manual evaluation a random sample consisting of up to ac per user story was selected for those user stories where there were more than ac generated otherwise all generated ac were considered resulting in user story ac pairs in total.
the evaluation within the cms domain was performed by three experts.
experts e1 and e4 from the e commerce domain also had significant experience in the cms domain.
hence we asked them again to evaluate our results for the cms domain.
furthermore an additional review was conducted by ms.xlsxexpert e5 a senior developer with years of development experience across various cms projects.
table vi presents the outcome of the individual manual evaluation.
table vi ac approval by expert cms e1 e4 e5 approved ac declined ac approval rate .
.
.
again we consider an acceptance criterion as accepted if it receives positive assessments from the majority of the expe rts specifically at least two out of the three evaluators.
following this approach of the generated acs were approved by the experts.
we provide the results of the expert s assessments as a downloadable dataset.
the agreement rate between all annotators is shown in table vii.
table vii agreement rate of experts cms e1 e4 e5 e1 .
.
.
e4 .
.
.
e5 .
.
.
average .
.
.
on average all experts reached a consensus of .
.
cohen s kappa yielded a value of .
suggesting moderate inter rater reliability.
gwet s ac1 calculated a value of .
indicating substantial agreement.
a complete example of a user story taken from the cms domain and enriched with a newly generated and approved criterion is displayed in fig.
.
user story as an editor i want to crop images so i can edit images easily without using photo editing tools and therefore i c an work more productive.
newly generated acceptance criterion scenario ensure cropping is centered on the image when an aspect ratio is set given i have uploaded an image in the grid image editor when i select a specific aspect ratio and initiate cropping then the cropping tool should automatically center the crop area on the image instead of starting at the top left corner fig.
user story enriched with new relevant acceptance criterion cms again we provide in fig.
a counterexample of an acceptance criterion that was generated and automatically appro ved but subsequently rejected by all experts.
20cms.xlsxuser story as an editor i want to crop images so i can edit images easily without using photo editing tools and therefore i c an work more productive.
newly generated acceptance criterion scenario ensure content properties with vary by culture set to true are accessible without exceptions given a content property is set to vary by culture as true when the online channel manager accesses this property then the system should allow access without throwing any exceptions fig.
user story with new acceptance criterion rejected by all experts cms v. d iscussion and future work we have introduced cruise ac as a novel approach to automatically utilize knowledge in issue trackers and enha nce user stories with additional acceptance criteria ac .
thi s way software development can be sped up significantly as the amount of missing or incomplete requirements is significant ly reduced.
our experiments show that most of the automaticall y generated criteria for such stories indeed add use ful information.
future work will concentrate on how to increase this number even more.
this includes usage of other llms having a higher number of parameters and evaluation of other prompt types.
another potential improvement could be assigning an d applying weights to llms during ensemble learning.
when running all user story issue pairs through five different models the matching performance demonstrates slow pro cessing speeds for extensive issue corpora.
in our testing e nvironment utilizing an nvidia geforce rtx3060 evaluating user stories against issues across different mode ls totaling prompt executions required approximat ely hours.
therefore we intend to assess whether a completel y new model can be trained from scratch using the output of our llm ensemble as training data aiming for similar accuracy but showing significantly improved performance.
since our approach is the first of its kind we could not compare our findings to existing results directly and had to assess their quality manually.
of course this process contains some limitations.
in either application domain diff erent experts reviewed the results to determine whether the ac could generally serve as a valuable addition to the user stor y. the experts did not take into account the scope of individual projects or the entirety of user stories and ac.
similarly w e did not evaluate the quality criterion of interstory confl ictfreeness during the assessment.
hence assessing our approach through a field study and within actual ongoing projects is essential to determine th e industrial applicability of cruise ac.
with a larger group of domain experts product owners stakeholders and develop ers we will be able to either validate our findings or gain importa nt insights for necessary adjustments.from the issues we collected we utilize only the title description and labels.
nevertheless other significant i nformation may be present.
the discussion surrounding an issue cou ld encompass or disclose vital aspects of a business requireme nt.
similarly we used closed issues only but did not consider w hy an issue has been closed.
maybe it was rejected by the project team because of pointless requirements which will lead to pointless acceptance criteria subsequently.
therefore w e plan to review our issue selection process and possibly consider issues with a corresponding code commit only.
to conclude our research advances the state of the art in requirements engineering by a new fully automated tool chai n that supports requirements engineers project managers a nd project teams by paving the avenue to crowd knowledge in available issue trackers.