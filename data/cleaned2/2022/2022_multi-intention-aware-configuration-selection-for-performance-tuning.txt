multi intention aware configuration selection for performance tuning haochen he hehaochen13 nudt.edu.cn national university of defense technology chinazhouyang jia jiazhouyang nudt.edu.cn national university of defense technology chinashanshan li shanshanli nudt.edu.cn national university of defense technology china yue yu yuyue nudt.edu.cn national university of defense technology chinachenglong zhou zhouchenglong15 nudt.edu.cn national university of defense technology chinaqing liao liaoqing hit.edu.cn harbin institute of technology shenzhen china ji wang wj nudt.edu.cn national university of defense technology chinaxiangke liao xkliao nudt.edu.cn national university of defense technology china abstract automaticconfigurationtuninghelpsuserswhointendtoimprove software performance.
however the auto tuners are limited by the huge configuration search space.
more importantly they fo cus only on performance improvement while being unaware ofother important user intentions e.g.
reliability security .
to re duce the search space researchers mainly focus on pre selecting performance relatedparameterswhichrequiresaheavystageof dynamically running under different configurations to build performancemodels.giventhatotherimportantuserintentionsare not paid attention to we focus on guiding users in pre selectingperformance related parameters in general while warning about side effectsonnon performanceintentions.wefindthattheconfigurationdocumentoften ifitdoesnotalways containsrichinformation about the parameters relationship with diverse user intentions but documents might also be long and domain specific.
in this paper we first conduct a comprehensive study on representative software containing configuration parameters andderivesixtypesofwaysinwhichconfigurationparameters may affect non performance intentions.
guided by this study we design safetune a multi intention aware method that preselectsimportantperformance relatedparametersandwarnsabout their side effects on non performance intentions.
evaluation ontarget software shows that safetune correctly identifies co first author corresponding author permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation onthe firstpage.copyrights forcomponentsof thisworkowned byothersthan the author s mustbehonored.abstractingwithcreditispermitted.tocopyotherwise or republish topostonserversortoredistributetolists requirespriorspecificpermission and or a fee.
request permissions from permissions acm.org.
icse may pittsburgh pa usa copyright held by the owner author s .
publication rights licensed to acm.
acm isbn ... .
parameters that are missed by state of theart tools but have significant performance impact up to .
x .
furthermore we illustrate eight representative cases to show that safetunecaneffectively preventreal w orldandcriticalside effects on other user intentions.
ccs concepts softwareanditsengineering extra functionalproperties.
keywords performance tuning user intention non performance property acm reference format haochenhe zhouyangjia shanshanli yueyu chenglongzhou qing liao jiwang andxiangkeliao.
.multi intention awareconfiguration selection for performance tuning.
in 44th international conference on software engineering icse may pittsburgh pa usa.
acm new york ny usa pages.
introduction configurationcanchangesoftwarebehaviorandthusenablecustomizationtomeetdifferentuserintentions.amongmanypossibleuserintentions improvingperformanceisoneofthemostcommon purposes.however modernsoftwaresystemsareoftenequipped with a large number of parameters e.g.
hdfs has parameters that are impractical to tune by hand.
though existing works haveappliedvarioustechniquestoperformautomaticconfigurationtuning theystillhavetwo major limitations.
first it is well known that their efficiency is extremely limited by the hugeconfiguration search space .
second we find that they only consider performance improvement whilebeingunawareof userintentionsotherthanperformance e.g.
reliability security .however oneconfigurationparameter may impact multiple user intentions at the same time.
for exam ple changing some parameters gain performance by sacrificingreliability .butusersofsafety criticalsystems e.g.
industrial ieee acm 44th international conference on software engineering icse authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa h. he z. jia s. li y. yu c. zhou q. liao j. wang and x. liao.
innodb flush log at trx commit controlsthebalance betweenstrictacidcompliance forcommit operations and higher performance... the default setting of is required for full acid compliance.
logs are written and flushedto disk at each transaction commit.
with a setting of logs are written and flushed to disk once per second.
you can achieve better performance bychangingthedefaultvalue butthenyoucan lose transactions in a crash.
figure configuration documents of mysql control systems may also intend to keep their systems reliable while improving performance.
in such cases the parameter that affectsthecorrespondingintentionsshouldbeverycarefullytuned.
to reduce the huge search space for those auto tuners many recentworkshavebeenproposedto pre selectimportantparameters.
they run dynamic performance experiments to measure performance changes with parameter value changes and use statisti cal or machine learning methods to select parameters that have significant impacts on performance.
though working in somescenarios theeffectivenessoftheirdynamicmethodsdepends strongly on both workloads and environment which often vary from case to case.
moreover these methods are hard to deploy due to the heavy performance experiments.
inthispaper weproposesafetune amulti intention awareapproach that provides tuning guidance including identifying performance related configuration parameters in general and warningabout potential side effects on other user intentions.
to the bestof our knowledge we are the first to propose multi intention aware parameter pre selection for performance tuning.
the in sight of safetune is that configuration documents often contain rich information about parameters relationship with multiple user intentions.
for example in fig.
the document of parameter innodb flush log at trx commit explainsifandhowtheparameteraffectsperformanceingeneral andwarnsaboutthepotential side effect losingatransaction ontheintentionofreliability.safetune leverages documents to understand the relationship between performance and other user intentions.
itisnon trivialforsafetunetoautomaticallyselectperformancerelated parametersand warnabout side effects.first howconfiguration parameters affect performance and cause side effects on non performance intentions is unknown.
second building a modelto learn information from documents which are written in natural language requires large scale training data but there is no such publicdataset.third theside effectinformationisusuallydescribed implicitly and documents can be very long and domain specific.
fortheexampleshowninfig.
expertknowledgeisrequiredto understand that lose transaction means hurting reliability in this context.
therefore we first conduct an empirical study to comprehensively understand how the configuration parameters can affect performance and cause side effects on non performance intentions suchasreliability.todeterminethegeneralresultfromthestudy wechoose13softwarefromfourcategories including7 349parameters asshownintable1.fromthisstudy weobtainthreeheuristics to precisely filter out parameters unrelated to performance andderive a categorization that contains six types of ways in which parameters can cause side effects on non performance intentions.
basedonthesefindings safetunepredictsthetuningguidance of a parameter for the given configuration document of the parameter.
in light of the last two challenges safetune takes two major steps we design a semi supervised data expansion approach whichautomaticallyexpandsthemanuallylabeledtrainingdataset.
we manually assign the type of side effect for parameters in a small scaletrainingdatasetduringthestudy.next safetuneusesassociationruleminingtechniquesinaprogressivemannertomine natural language patterns from the dataset then uses the patterns toenlargethisdatasetwithhighprecision.thisstepisnecessary becausemanuallyinspectingallparametersisextremelyexpensive.
safetune trains a learning based hierarchical model to capture important information from the document based on the expanded dataset and provide the final performance tuning guidance.
we evaluate safetune on software that has neither previously appeared before in this paper.
the results show that safetune can accurately identify performance related parameters and their side effects scoring .
.
in precision and .
.
in recall.
compared with the state of the art pre selecting method safetune can correctly find performance related parameters thataremissedbythemethod andsomeofthetheseparameters havehuge upto14.
x performanceimpacts.moreover safetune correctly covers out of performance related parameters.
the falsepositiverateis12.
.furthermore weconductacasestudy inwhichweapplysafetunewithastate of the artandpopular auto tuner ottertune whichhas1.1k githubstars.theresults show that safetune can help prevent eight side effects covering four types caused by ottertune thatlead to severe consequences.
our main contributions can be summarized as follows weconcludesixtypesofwaysinwhichperformance relatedparameterscanaffectnon performanceuserintentionsfrom anempiricalstudyof13 widelyusedopen sourcesoftware from four representative domains.
wedesignandimplementamulti intention awareandsemisupervised approach safetune to identify performancerelatedparametersandtheirside effects.alldataandsource code can be found in our public repository weevaluatesafetuneonthetargetsoftware.theresults showthatsafetunefinds22 26performance relatedparameters that have large performance impacts up to .
x but are missed by state of the art tools.
further we illustrate eight representative cases to show that safetune can effectively prevent real world and critical side effects on other intentions.
understanding performancerelated configuration tocomprehensivelyunderstandwhichconfigurationparameters affect software performance along with what side effects thoseperformance related parameters may have on non performance intentions weconductanempiricalstudyon7 349parametersfrom 13open sourcesoftwaresystems.fromthisstudy wefirstderive authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
multi intention aware configuration selection for performance tuning icse may pittsburgh pa usa table studied software and configuration parameters category software popularity params databasemysql .8k cassandra .8k mariadb .9k web serviceapache httpd .7k nginx .5k distributed servicehadoop common .8k mapreduce .8k apache flink .8k hdfs .8k keystone .4k nova .7k developer toolgcc .3k clang .8k total the number of configuration parameters.
githubstars three heuristic strategies to help filter out parameters unrelated to performance.
we then conclude six different types of ways in whichthoseperformance relatedparametersmaycauseside effects.
these findings are used to guide the design of safetune.
.
data collection we study the configuration documents of the software.
the configuration document explains the detailed semantics and their relationshipswithuserintentions e.g.
performance .thedocument has two unique advantages.
first it provides a general but com prehensive understanding of configuration parameters that doesnot rely on specific workloads then it contains multiple user in tentions e.g.
text in bold in fig.
.
we studied open source software systems from four different domains as shown in table .
these fourcategories arechosen fromthe mostpopular products provided by famous cloud vendors and are representative amonghighly configurablesoftwaresystems .
thesesoftwaresystemsare usuallylocatedinserver sideand accordingly have higher demands in terms of performance reli ability etc mature and widely used with at least .7k github stars highly configurable each has more than configuration parameters with well maintained configuration documents.
we collected configuration parameters and their documents from two mainsources theofficialwebsitesandtheconfigurationfiles e.g.
xml basedconfigurationfiles .eachofthecollecteddatapointisin theformof parametername description .wefilteroutparameters without description and finally collected parameters.
identifying performance related parameters.
to understand theside effectsofperformance relatedparameters wemanually studiedthedocumentationofconfigurationparameters.studying all parameters is extremely expensive accordingly we conclude threeheuristicstrategiestofilteroutparametersthathavenoimpactonthe performanceofsoftware.
parametersindicatingthe location of resources.
descriptions of these parameters contain phrases such as pathof port of address of and location of .
thesetypicallyhavelittleimpactonperformance.
parametersmarkedas unused or deprecated inthedocumentation.
parameters set for compatibility reasons.
these parameters are usuallydesigned to support old behavior in old versions of software.
pa rameters in this category are filtered by the keywords version compatibility and legacy .
we apply these heuristics to all parameters and filter out parameters.
note that these heuristics are set to quickly filter out some of parameters unrelated to performance so that the others still need to be further filtered out bysafetune.wethenrandomlysample1 ofthe6 278pa rameterstostudy.twoauthorswithatleastthreeyearsofresearch experience in configuration independently identified each parameteraseitherperformance relatedornotaccordingtoitsdescription.
once a disagreement occurred a third author was involved until a consensusisreached.finally weobtained525performance related parameters for further study.
.2side effects on non performance intentions westudythe525performance relatedparameterstounderstand the side effects they may cause.
we follow the same methodology as in the above section additionally to make the results moreconsistent the rest of the authors randomly review a fifth of theparameters studied in weekly meetings.
this process took more than400workinghoursandlastedforsixweeks.duringtheprocess we use the software quality model as the starting point and refine the classification by our domain knowledge some software qualities in this model may not be affected by performance related configurations .
finally we conclude six different types of ways in whichtheseperformance relatedparametersmaycauseside effects on non performance user intentions.
as a result we find that the majority .
of performance relatedparametershaveside effectsonnon performanceintentions.theseparameterscanaffectcommonuserintentions such as reliability security and functionality.
table shows thenumber of parameters falling into each type of side effects.
thisresult indicates a strong demand for tuning tools to warn aboutthese side effects for end users.
subsequently we describe each type and the criteria used to classify it in our study.
lowerreliability.
theseparametersimproveperformanceatthe costofdecreasingthelevelofreliability.forexample innodb flush log at trx commit controlstheacidlevelofmysql thevalue of ensures strict data protection by executing fsyncat every commit.changingthisvalueto improvestheperformanceby reducing the calls to fsyncat the risk of losing data during a power loss.
to avoid affecting user intention of reliability tuning toolsshould warn users about the risk associated with improving performance.
criteria to classify these parameters are usually related tothe waydata arepersisted tothe harddrive andfault tolerance policies and they are usually documented as replication level update interval write to disk etc.
lowersecurity.
theseparametersimproveperformanceatthe costofalowerlevelofsecurityprotection.forexample theparameterprivilegesmode inapachehttpdcontrolsthewayrequests are processed.
the value secure means that all requests are run inasecuresub process butwithmoreoverhead.whenchanging to fast requests are run in process speeding up the software but opening up the chance for malicious attackers to utilize the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa h. he z. jia s. li y. yu c. zhou q. liao j. wang and x. liao.
table side effects on non performance intentions type of side effects params params all lower reliability lower security reduced functionality lower performance for other workloads higher cost limited side effect total params number of parameters in the studied set.
params all number of parameters in the whole data set.
in process module to escalate privileges.
to avoid affecting user intentionregardingsecurity suchparametersshouldbewarnedabout.
criteria to classify theseparametersareusuallyrelatedtocommon security policies such as encryption authentication and privacy protection and they are usually documented as enable disable authentication enable disablessl whether akindofdata should be encrypted etc.
reducedfunctionality.
theseparametersimproveperformance at the cost of reduced functionality.
for example the parameteradl.feature.ownerandgroup.enableupn inhadoop controls whetheranadditionalprocessshouldbeperformedtoconvertusers andgroupsinfilestatus aclstatusresponsetoauser friendlyname.
disabling this function saves a large amount of computation as documented foroptimalperformance falseisrecommended however users intending to enable this function should be provided with warnings.
criteria to classify these parameters are usually documentedas enable disable afeature controloutput collect information of a component etc.
lower performance for otherworkloads .
these parameters can improve performance only for specific workloads run by some users andmayhurtothersrunbyotherusers.takingtheparameter max seeks for key in mariadb as an example it controls the estimated maximum cost for look ups on table s index.
decreasing the value makes mariadb prefer index scan than full table scan.
butthe indexscan isonlyfaster thanthefull tablescan whenthe costforindexlook upsislowinactual i.e.
lowcardinalityofthe index whichiscompletelyworkload dependent.ifanotheruser runsadifferentworkload theinappropriatevaluemaycausethe performance problem .
so these parameters should be tuned withcaution.
criteria to classify theseparameterstypicallycontrol the internal argument of a specific algorithm data structure and model and they are usually documented as threshold of ratio of upper lower bound of etc.
highercost.
theseparametersimproveperformanceatthecost ofconsumingmoresystemresources e.g.cpucores memory bandwidth .forexample dfs.image.parallel.threads inhdfssets thenumberofthreadsusedtoloadtheimage.ahighervalueofthis parameterresultsinhigherparallelismandreducedloadingtime whilemorecpucoresmaybeused.inamazonwebservices four more cpu cores for a 32gb memory instance can cost permonth.incaseswhereauser sbudgetorhardwareresources arelimited changingtheseparametersmaystillindirectlyaffectuser intentions e.g.
unexpected bill charges .
criteria to classify studied parameters un studied parametersexpanded parameterslearning based model forest 2perf.
related parameters side effectsdata expansion rule miningnlp preprocessing data balancing nlp rules ... side effectsperf.
unrelatedforest perf.
relatednecessary for production users necessary in offline training figure overview of safetune.
these parameters usually control the system resources allocated to thesoftware andtheyareusuallydocumentedas sizeofbuffer number of workers etc.
limitedside effects.
theseparametersimproveperformance withlimitedside effectonnon performanceintentions.someparametersimproveperformancebyapplyingcertainoptimizationstrategies.
for example when index merge in mysql is turned on mysql can better utilize index and read from a single tablerather than across multiple tables.
such optimization has a lim ited impact on the system thereby causing limited side effectson user intentions.
it is recommended for tuning tools to tunesuch parameters in the first place.
in other cases parameters inthis category may trade off other properties e.g.
floating pointprecision forperformance.
criteria to classify theseparameters usually control optimization strategies such as caching load balancing compression andtheyareusuallydocumentedas enable a kind of optimization whether to do optimization etc.
inrarecases oneparameterhasside effectsonmorethanone other user intentions.
we do not find any case that improving performance brings positive effects on other user intentions.
semi supervised dataset expansion given the side effects summarized in the study our goal is to build a model that can automatically identify the performance relatedparameters and warn about their side effects.
training a model togetinformationfromnaturallanguagerequiresdataatalarge scale.werefertotheconfigurationparametersandtheirside effect types labels astrainingdata hence safetunehassevenlabels includingsixside effectsandperformanceunrelatedparameters .
however thetrainingdataobtainedfromthestudyisinsufficient i.e.
doesnotexceed100forsometypes andmanuallabelingof the unstudied data is extremely expensive.
duringtheempiricalstudyprocessin wefindthatdescriptions of parameters of the same type share certain linguistic pat terns.
for example parameters that may lead to higher cost areusually documented like size of buffer or number of threads .
with these patterns we will be able to enlarge the dataset with less manual effort.
therefore we design a semi supervised data expansionapproachthatutilizesnaturallanguageprocessing nlp and association rule mining arm techniques to automatically minethepatterns i.e.
associationrules inaprogressivemanner to enlarge the amount of labeled data in the study.
as shown in authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
multi intention aware configuration selection for performance tuning icse may pittsburgh pa usa table the rule examples of each side effect types mined by safetune underlined words are those matched by rules .
side effect type rule example support confidence matched description lower reliability noun write noun level .
sets the current transaction s synchronization level.
lower security verb check noun security .857sets how deeply mod ssl shouldverifybefore deciding that the clients do not have a valid certificate .
reduced functionality noun level noun information .857verbosity of sql debugging information none everything.
lower performance for other workloads noun time adp for noun resource .
the time forwhich retry cache entries are retained.
higher cost verb set noun amount noun resource .923this value controlsthenumberofcachedirectives that the namenode will send over the wire in response to ... limited side effect verb enable noun optimization .
enablesor disables genetic query optimization .
the left part of fig.
the data expansion process contains three main steps first safetune uses nlp to pre process the manually studiedconfigurationdocumentsandnormalizeswordstohighlight the most informative words.
second it mines the pre processed documents to obtain a set of rules using arm.
with these rules it matchesconfigurationdocumentsthatarenotinvolvedinthestudy toincreasetheavailabletrainingdata.theabovetwostepsproceed iteratively until no configuration documents can be enlarged bythe rules.
at the third step safetune balances the data of each type of side effect to avoid over fitting to some types.
.
pre processing the goal of pre processing is to normalize words and highlight importantinformationinthedescriptionofparameters.pre processing contains three steps lemmatization reduction and substitution.
at the lemmatization step since we are not interested in the grammarfeaturesinthedocuments wetransformeachtokento its original form to eliminate third person or plural format effects for instance the word specified is transformed into specify .
inthereductionstep weremovethewordsthatarenotlikelyto convey useful information and retain the informative ones.
during our study we find that three kinds of words play an important role in deciding the possible side effects nouns which directly point outtheentitiesonwhichparameterswillhaveaneffect verbs whichareactionsrelatedtoparametersandtendtodirectlylead totheimpact adverbs adjective s whichdescribetheeffectsof parameter value changes.
we therefore extract the part of speech pos information of each word and retain words with pos of the types listed above.
in the substitution step we replace special words to prevent the model from being distracted by unrelated information.
forexample we replace the parameter names that appeared in the documentationwith config andreplacenumberswithafixed number.
moreover to highlight the semantic knowledge in thedocuments we replace words that appear in the synonyms list the full list can be fond in our public repository which is built upondomain specificresources .examplesofsynonyms areshownin criteria to classify in .
.forexample thewords commit update and sync are replaced with write since they havesimilarmeanings.we implementthepre processingpartusingspacy .weprovideanexampletodemonstratetheaboveprocess the description sets the current transaction s synchronization level will be converted to verb set adj current noun transaction noun write noun level .
.
mining association rules the goal of this step is to find the sub sequences that appear exclusively and frequently in descriptions of the specific type of sideeffect of performance related parameters.
these sub sequences are associationrules thatdistinguish different typesof side effect.
for the pre processed sentences obtained from .
we utilizefeat to mine association rules for each type of side effect.
safetuneutilizesitbyaddingthelabeltotheendofthedescription andminingthemostfrequentsub sequences rules co occurring withthelabel.forexample aruleminedbythealgorithmis noun write noun level whichisasub sequenceoftheexample above.
also safetune outputs the supportandconfidence of each association rule and they are defined as follows support rules i where the rule imatches the document of theithside effect and confidence support rules i where the rule imatches the document of any type of the side effect.
thesupportof therule iis defined as the number of occurrences of therulematching ithtypegiventhattheruleappears.moreover its confidence is the conditional probability that a document is the ith typeofside effectwhenmatchingthisrule.forexample therule above has a supportof 7andconfidence of .
which represents a strong signal of its side effect type i.e.
lower reliability .
table presents rule examples mined for each type.
in the mining stage safetune may obtain millions of rules.
as thissetmaycontainruleswithlowquality weretainonlytherules that aresub sequences ofother ruleswith thesame support since shorter rules are more general and are thusmore likely to expand moredata.moreover thisexpandedtrainingdatawillbedirectly usedtotrainthesafetunemodel.thus thesoundnessoftheexpandedtrainingdataisimportant.furthermore wedonotexpect theexpansionprocesstoexpandallparameterstothetrainingdata completeness .therefore wedropouttheruleswhose confidence s are lower than .
.
as we will show in .
with this level of confidence the data expansion method can achieve an optimal balance between precision and recall.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa h. he z. jia s. li y. yu c. zhou q. liao j. wang and x. liao.
.
expanding dataset progressively the goal of this step is to use rules mined from the studied data to matchconfigurationdocumentstothegreatestextentpossibleto enlarge the training data.
for parameters not involved in the study safetunepre processestheirdocumentsasin .
.safetunethen matches rules mined in the previous step to identify the candidate to be expanded.
note that one parameter document may match multiplerulesofdifferenttypes.safetunecalculatesthesumof matched rules confidence of each type respectively and take the labelwiththehighestscore.ifnoruleismatched theparameter will not be expanded.
if the two steps described in .
and .
areappliedonlyonce thedataexpandedmaystillbeinsufficient.
safetuneexpandsthedatasetinaprogressivemanner.theprocess terminates when there is no data remaining that can be expanded.
.
balancing data the goal of this step is to make the training data balanced in order toavoidthemodelbeingbiasedtowardsthemajorityclasses.afterthedataexpansionviarulesmatching theparametersthathaveno impact on the performance account for .
of the entire dataset whiletheperformance relatedparametersthatcause lowersecurity contain only .
.
this imbalance causes the model to be easilybiased towards the performance unrelated parameters.
to avoid thisbias safetuneover samplestheparametersintheminority typesofside effectstoensurethattheyarethesameasthenumber ofperformance unrelatedparameters.sincethesoundnessofthe expandeddataisourmainconcern weneedtolowertheprobability of incorporating false data.
borderline smote is a widely usedover samplingmethodforimbalanceddata.comparedwith other methods it can effectively avoid generating samples fromthe danger area i.e.
samples near the borderline of differentclasses .afterbalancingthetrainingdata safetuneappliesthe pre processingstepasin .1tothedatasettonormalizewords and highlight important information in the training set.
identifying performance related parameters and side effects in this section we introduce how safetune predicts the tuning guidance for configuration parameters.
as shown in the right part of fig.
safetune takes configuration documents that have been expanded and pre processed from the data expansion step as input thenoutputstuningguidanceincludingperformance related parameters and their side effects on non performance intentions.
randomforest rfforshort isanappropriatealgorithmfor thetextclassificationtask.itcanpreciselycapturethedifference between types of side effects and is more robust than a single decisiontree.itisalsomorelightweightandmoreinterpretablethandeeplearningmodelslikecnn.moreimportantly neuralnetworksusuallydemandmillionsofdatafortraining whichisnotaccessible forconfigurationdocuments.thelabelsofinputdatainourtask arehierarchical i.e.
level performance related unrelated level six different side effects only for performance related parameters .
however the classic rf algorithms do not account for hierarchical datasets.inspiredby webuildatwo levelhierarchicalrandom forestmodel asshowninthebottomrightpartoffig.
.rf 1isusedtoidentifytheperformancerelatedparametersfromunrelatedones.alltrainingdataareusedtotrainrf .moreover rf 2isusedto predictside effects amongthesixside effects fortheperformance relatedparameters whileonlytheperformance relatedparametersinthetrainingsetareusedtotrainrf .thelabelofthedatatobepredicted is decided by the multiplication of the probabilities given bythetworfs.forexample iftheprobabilitiesgivenbythetwo rfs of a configuration parameter are rf andrf then the parameter will be labeled as performance related since .
.
as well as the higher cost label .
.
.
which is greater than all the others .
rf requires embedding of the input documents written in natural language.
safetune embeds each parameter s document using tf idf a widely used method in information retrieval.
for its part tf idftreatseachdocumentasbag of words ignoringthe sequenceinformation.inourtask writedata and ...data.write... can express completely different meanings.
hence safetune considersatmostthreeconsecutivewords i.e.
unigram bigramand trigram when calculating the tf idf embedding.
note that the embeddingmaybesparse e.g.
000dimensions with1 990zeros and the rf algorithm only selects several dimensions each time to trainadecisiontree .thus safetuneappliesprincipalcomponentanalysis pca forthetf idfembedding.weensurethat the pcapreserves ofthe information fromthe initial tf idf embedding.
evaluation weimplementsafetunewithsklearn andrandomforest r .
all experiments are conducted on machines with a core intelxeon2.2ghzprocessor teslav100gpu 64gbram and1tbhard disk with ubuntu .
lts and python .
.
.
we evaluate the effectiveness of safetune by answering the following questions rq1 accuracy of predicting tuning guidance and data expansion.
howaccurateissafetuneinidentifyingperformance relatedparametersandpredictingtheirside effects onnon performanceintentions?howaccurateistheautomatically expanded data?
rq2 comparison between safetune and the stateof the arttool.
cansafetunecoverperformance related parameters that are identified by the existing tool?
can safetune identify performance related parameters that are missed by the existing tool?
rq3 user study on the effectiveness of safetune on helpingperformancetuning.
doestheexistingauto tuner producespotentialside effectsonotheruserintentions?can safetunehelpthetooltopreventthoseside effects?how severe are these side effects?
.
rq1 accuracy of predicting tuning guidance and data expansion to answer rq1 we evaluate the accuracy of safetune in identifyingperformance relatedparametersandpredictingtheirsideeffects.
to avoid over fitting we conduct experiments on software thatareneitherstudiednorincludedinthetrainingset.sincesafetune automatically expands the training set we also evaluate the accuracy of the expanded data.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
multi intention aware configuration selection for performance tuning icse may pittsburgh pa usa table precision and recall in predicting performance related parameters and their side effects softwaresafetune safetune w o exp.
safetune ideal pr se pr se pr se preci.recallpreci.recallpreci.recallpreci.recallpreci.recallpreci.recall postgresql .
.
.
.
.
.
.
.
.
.
.
.
squid .
.
.
.
.
.
.
.
.
.
.
.
spark .
.
.
.
.
.
.
.
.
.
.
.
overall .
.
.
.
.
.
.
.
.
.
.
.
pr effectivenessofpredictingperformance relatedparameters.
se effectivenessofpredictingside effects.
precis.
precision.
w o exp.
onlyusingstudieddata to train safetune.
ideal replacing labels of expanded data may contain incorrect ones in the training dataset with manually checked labels.
.
.
accuracy of tuning guidance.
we evaluate safetune on postgresql squid and apache spark .
these software are not included in our study but are also popular at least 1k githubstars and from different domains written in different programming languages.
thus we believe they can provide sufficient generality.
the three software have and parameters respectively.
we follow the same methodology as in .
to manuallylabeltheparametersandusethemasthetestset.weusethe 292studiedparameters notincludingtheabovethreesoftware as the initial training set.
safetune then expands the training set and obtain pieces of training data.
each item in this datasetisintheformof parametername description embedded labellevel labellevel where labellevel 1is one of the two values performance related performance unrelated andlabellevel 2is one of lower reliability lower security reduced functionality lower performance for other workloads higher cost limited side effects .
last safetune is trained with this dataset.
to measure the accuracy of predicting performance related parameters pr for short in table we use precision and recall.
to assess the accuracy of predicting side effects se for short in table we calculate the averaged precision and recall of each type i.e.
micro precision recall of six side effects to measure safetuneasawhole.safetuneappliesdataexpansiontoimprove the accuracy.
to evaluate the usefulness of this component weremove it using only the initial parameters as the trainingset and conduct experiments with identical test data to draw a comparison.
this is denoted as safetune w o exp.in table .
result and analysis.
first safetune can identify performancerelatedparameterswithaprecisionof85.
andarecallof67.
.
the false negatives occur because many of them contain technical terms in documents that are difficult for safetune to understand.
forexample ssl ecdh curve isdocumentedas setsthecurvetouse for ecdh but this does not explain that ecdh is an agreementprotocolthatallowstwopartiesto establishasharedsecret which affects performance.
worse yet these technical terms rarely appear in the dataset.
the false positives occur mainly because someexpressionsmisleadsafetune.forexample thedocumentof spark.eventlog.overwrite is whether to overwrite any existing files but whether or not overwrite is performed does not affect performanceinthiscase howevertheword write misleadssafetune into identifying the parameter as related with persisting data to disk thereby affecting performance.
moreover technical terms are one of the main causes of false positives.table4demonstratestheresultsofpredictingside effectsonthe non performance intentions of these performance related parameters.
overall safetune can reach a precision of .
and a recall of .
.
these false positives occur because many parameters haveverycomplexlogicdescribedinthelongdocument makingit challenging even for human to identify the type of side effect.
for example inpostgresql wal level controls thelevelofinformation written to the wal this parameter is falsely identified as lower reliability but all levels of wal can ensure the necessary infor mation needed to recover from a crash or immediate shutdown reliability .
higher levels is only used to support extra functionalities e.g.
logicaldecoding .itmakeschallengingforsafetuneto distinguishsuchsubtlelogic.anotherreasonisthatsomeexpert knowledgecannotbepreciselycapturedbysafetune.thefalse negatives occur mainly because the descriptions may miss context.
for example cpu tuple cost is described as sets the planner s estimate of the cost of processing each row during a query however the context of this description is that the planner is a component that will choose the quickest query plan while the cost is a workload dependentargumentofthechoosingalgorithm.without thiscontext safetunewillfailtoidentifyitas lowerperformance other user .
the 6th 9thcolumns of table show the results after removingthedataexpansioncomponentfromsafetune.withoutthis dataexpansion safetunecannotfullylearnfeaturesinparameter documents i.e.
the precision drop by .
.
and the recall drop by .
.
respectively.
therefore data expansion is es sentialforsafetune.
inconclusion theresultindicatesthatsafetunecanachievegoodprecisionandacceptablerecallinpre selecting performance related parameters and predicting side effects.
.
.
accuracy of data expansion.
safetune uses data expansion to enlarge training data.
thus the quality of enlarged data mayaffect the effectiveness of the final tuning guidance provided by safetune.
therefore we also evaluate the correctness of the data expandedbytheexpansionmethod.toachievethis weneedthe groundtruthofthesedata.wethereforemanuallylabelall7 parameters and cross check them in the same way as described in .
.thisprocesstook700 workinghoursandlasted10weeks.
wemakeallthesedatapubliclyavailableintherepository.notethat thismanualworkisonlyneededinthispapertoevaluatesafetune but not for users of safetune.
we use precision to measure the correctnessofthedataexpandedbytheexpansionstep alongwithexpansionratetomeasuretherateofthedatathatcanbecorrectly authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa h. he z. jia s. li y. yu c. zhou q. liao j. wang and x. liao.
table precision and expansion rate of the expanded data data label precision expansion rate lower reliability .
.
lower security .
.
reduced functionality .
.
lower performance for other workloads .
.
consuming more resource .
.
limited side effect .
.
performance unrelated .
.
overall .
.
expanded to all the unlabeled data expansion rate means all theunlabeleddatacanbecorrectlyexpanded .moreover weuse averagedprecisionandexpansionratetomeasuretheoverallresult.
furthermore weevaluatetheimpactoftheincorrectly expanded data on safetune.
thus we replace the labels of expanded data in the training set in .
with manually annotated labels ground truth andkeep otherexperimental settings thesame.
we denote the model trained by this data set as safetune idealin table .
as described in safetune only keeps rules for which the confidenceishigherthanagiventhresholdtoimproveprecision.
therefore weevaluatetheinfluenceofdifferentthresholds from .30to0.
ontheprecisionandexpansionrateoftheexpanded data.
another interesting question is that of how much studied labeled data we need to conduct the expansion.
obviously it is lessusefuliftheexpansionapproachrequiresamajorityofstudied dataandcanonlyexpandtheremainingminority.therefore we evaluatetheinfluenceofproportionontheprecisionandexpansion rate of the expanded data.
note that in our evaluation all data are manually labeled to provide the ground truth thus we can simulateanyproportion pofstudieddataagainstthosethatneed tobeexpanded.foreach p weapplytheapproachin 3toexpand the remaining pdata.
this process is repeated times to eliminatetheoccasionalitycausedbytherandomsampling.weuse averagedprecisionandexpansionratetomeasuretheremaining pexpanded data.
result and analysis.
table shows the precision and expansion rate of the expanded data of each type of side effects.
safetune performs well in expanding the performance unrelated parameters and those that may cause higher cost.
for the remaining types likelower reliability andlower security the number of parameters in these types are fewer than in the initially studied data set and thus do not have many distinct features compared with other types.the resultoftheimpact onsafetuneofthose incorrectlyexpanded data is shown in the last four columns in table .
theincorrectly expanded data cause at most .
.
degradation to precision comparing the safetune withsafetune idealseries without this data expansion approach however the precision will reduce significantly.
moreover with the expansion we can reduce expensive manual effort by about .
means manual free .
thisgreatlyoutweighsthedrawbackoftheincorrectlyexpanded data.
theresultofchoosingaproperthresholdforruleconfidenceand proportionofstudieddataisshowninfig.
.first fig.3ashows0.
.
.
.
.
.
.
.
.
.
.
.8precision a confidence threshold0.
.
.
.
.
.
.
.
.
.
.
.
expansion rate b proportion p ofstudied data figure the influenceof twomodel argumentson theprecision and expansion rate of the expanded data.
the precision and expansion ratechanges against different thresholdvalues.asexpected theprecisionincreasesastheconfidence threshold of the mined rules increases while the expansion rateis the opposite.
as described in safetune honors precision ratherthanexpansionrate.whenthethresholdincreasesfrom0.
to .
the precision does not increase while suffering a expansion rate drop of .
this means that about parameters cannot be automatically expanded but the precision improvement is small.
we therefore set the confidence threshold as .
in safetune.
fig.
3b shows the averaged precision and expansion rate of dif ferent proportions pof studied data.
it is shown that generally withincreasingdata studied theprecisionoftheminedrules will dropslightlywhiletheexpansionratewillincrease.thisisbecause varietyincreasesalongsideincreasingstudieddata meaning that morerulescanbegeneratedandmoreunlabeledparameterscanbe expanded.thisincreases expansionratebutalso thelikelihoodof mistakes.
thus we use p .
since safetune honors precision.
.2rq2 comparison with state of the art tool we compare safetune with a state of the art tool for selectingimportantparametersbyrunningperformanceexperimentsand choosing parameters that lead to significant performance changes via machine learning techniques.
this work opens up their results which include the top n important parameters in total in postgresql and cassandra that they predicted.
we thereforeevaluate safetune on these two software to compare with this work .thetwosoftwarehave252and117configurationparameters respectively.
we train safetune on the same dataset doesnot include postgresql as in .
but excluding cassandra.
to obtain the ground truth of performance related parameters in the twosoftware wemanuallylabeltheparametersinthesameway as .
.
note that this manual work is only for the evaluation but is not needed for users of safetune.
notethattheexistingwork predictstheperformance related parameters via concrete performance experiments.
for its part safetune is based on configuration documents.
to prove thatthe performance related parameters predicted by safetune dohave impacts on performance we run performance tests underdifferent parameter values we further measure the performanceimpact by the factor of performance change before and after theparameter value change.
we collect the performance tests from popularbenchmarks including tpc c h tlp stress nosqlbench andca stress .eachtestisrepeatedlyrun10 timestoobtainstableresults.werefertotheperformanceasthe tail latency mean throughput and query execution time.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
multi intention aware configuration selection for performance tuning icse may pittsburgh pa usa table6 partofperformance relatedparametersmissedby state of the art tool full result in public repository .
parameter missed workload chg. metric pg.
enable sort tpc h.q17 .6xexe.
time ca.
native transport max concurrent ca stress.w .5xtail lat.
ca.
hinted handoff throttle in kb ca stress.w .7xtail lat.
pg.
enable nestloop tpc h.q2 .4xexe.
time pg.
enable indexscan tpc h.q13 .6xexe.
time chg. performancechangebeforeandafterparameterchange pg postgresql ca cassandra query execution time tail latency.
result andanalysis.
experimental resultsshow that safetune can identify performance related parameters that are missed bythe existing work .
among the parameters show significant performance impacts up to .
x in ourperformance testing.
table shows the top parameters that have large performance impacts on the two software.
for example changing enable sort from1to0causestheexecutiontimeoftpc h.q17to degradefrom19.1secondsto279seconds .
x .however thisparameterneverevenappearsintherank listoftheexistingwork .
this occurs because enable sort only affects queries that both contain group by andorder by operations buttheworkloadused by this work does not contain that.
another interesting thing isthatthetop rankedparameter fsyncgivenbythethiswork only has .
xperformance impact and achieves rank during our testing.
the reason is similar to the above.
note worthily safetune gets this result without any heavy performance experiments theexistingwork consumes3 750machinehours .theperformancetestinginourevaluationcostabout700machinehours while safetune only consumes two hours for the one time effort training step and less than seconds for the prediction step.
safetune can successfully cover out of .
parameters that are given by the existing work .
in total safetune produces false positives precision .
and misses out of parameters recall .
that are manually confirmed from the documents to be performance related.
most of the false pos itives are parameters that require a long description to explainthe domain knowledge behind the parameter rather than what turningtheparameteronoroffwillaffect.theexplanationsmay also containphrases that appear frequentlyin performance related parameters therebymisleadingsafetune.forexample turning onzero damaged pages only reports a warning performanceunrelated but its description explains a lot why this warning happens.
the three cases that the existing work identifies but that are missed by safetune are commitlog segment size in mb which controls commitlog file segments this requires strong domainknowledge to understand but there are rare similar cases in the trainingset.
compaction throughput mb per sec whosedescriptionis toobrieftobeunderstoodbysafetune.
default statistics target whose description contains too many performance unrelated explanations that distract safetune.
note that both this existing work and our evaluation are limitedbytheworkload.someparametersdonottriggersubstantial performance change under the selected workload.
for example max logical replication workers controlsmaximumworkersalogical replicationtransactioncanuse.thisparameteraffectsperformanceonlywhenpostgresqlisinareplicationprocess butthisworkloadisnotincludedinanyoftheselectedbenchmarks.intheevaluation we use richer types of workloads in the evaluation and thus we observe more performance related parameters than this work .
inconclusion safetunecanidentifymanyperformance related parameters with large performance impacts that the state of art tool failstodetect andcoveringmostofthoseidentifiedbythis tool.
also safetune is more efficient and lightweight.
.
rq3 user study safetune can help tuning tools e.g.
ottertune bestconfig avoid potential side effects on other user intentions.
to illustratetheeffectivenessof safetune weconductauserstudy on one of the auto tuners and manually validate the result.
amongthesepubliclyavailableauto tuners ottertuneisthemostpopular with1.1k githubstars.ottertunesupportsmysqlandpostgresql thus we run ottertune in these two software and apply safetune trained in .
to check if safetune can warn about potential side effects.furthermore toprovethatthoseside effectsdohave severe consequences we manually validate if the correspondinguser intentions are violated.
in the case study we simulate four users who leverage ottertune to improve performance with their non performance intention shown in the end user a military communication service provider who is obligated to preserve data reliably.
high reliability user b free service provider who uses free cloud instances with limited resources.
low cost resource userc system administratorwho isresponsible formonitoring unexpected behavior of the database.
functionality userd socialnetworkapplicationproviderwhofacesmanydifferentuserrequests.
goodperformance mostworkloads result and analysis.
overall safetune warns about eight sideeffects coveringfourtypes excluding lowersecurity and limited side effect ottertunedoes nottouchanysecurityrelatedparameters on other user intentions caused by ottertune.
we discuss how the intentions of user a d are violated in detail and put the other four cases in the public repository.
forusera fsyncisturnedoffbyottertuneduringtuning itis documented as while turning off fsync is often a performance benefit this can result in unrecoverable data corruption in the event of a power failure or system crash.
although the workload performance improved by after tuning by ottertune the database becomes unreliable.
as shown in fig.
a we simulatean occasional power loss when postgresql is serving requests normallybyissuing kill 9tothe postgres serverprocessand clearthesystemcache whichwouldnotsurviveduringapowerloss.
after restarting the process we observe that user a s data iscorrupted yellow redtext .thisisbecause byturningoffthis parameter postgresql will only persist data once the buffer is full.
wealsoobservedthatwhen fsyncisturnedon simulatedpower loss never causes data corruption.
by applying safetune this parameter is clearly warned about this reliability impact.
for user b innodb buffer pool size is increased from 128mb to .4gb by ottertune as shown in fig.
b .
this is because using the large innodbbuffer more data can be cached improving the performance.
but user buses mysql in a free cloud virtual machine.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usah.
he z. jia s. li y. yu c. zhou q. liao j. wang and x. liao.
a lower reliability b higher cost c reduced functionality d lower performance other user start mysql with default configuration innodb buffer pool size 128m bash top p run ottertune and startup mysql with the configuration suggested by ottertune innodb buffer p ool size .4g bash top p more cost usd month for single node ecs.hfc7.xlarge show the data files mysql is monitoring performance schema on mysql select from performance schema.file instances limit run ottertune and startup mysql with the configuratio n suggested by ottertune performance schema off then user may want to monitor the status of data files via mysql select from performance schema.file instances limit reduced functionality performance schema monitoring grhv not work startup postgresql with the default configuration fsync on bash .
tpcc run.lua tpc c which is write intensive bash kill then restart postgres ql clear cache to force readin g from disk.
postgres select from test table limit disk intel p4510 ssd with disk failure guard run ottertune and startup postgresql with the configuration suggested by ottertune fsync off bash .
tpcc run.lua tpc c which is write intensive bash kill then restart postgres ql clear cache to force readin g from disk.
postgres select from test table limit data corruption startup mysql with the default configuration innodb flush method fsync bash .
tpcc run.lua user a tpc c workload mysql source tpch query .sql user b tpc h workload run ottertune and startup mysql with th e configuratio n suggested by ottertune innodb flush method o direct bash .
tpcc run.lua .36x faster for tpc c workload user a mysql source tpch query .sql .09x performance drop for tpc h workload user b figure4 side effectsonotherintentionscausedbyottertune without the aid of safetune.using a large amount of memory leads to extra budget of per month dependingonthecloudprovider .suchaconsequenceis warned about through the prior use of safetune.
for user c ottertunesuggeststurningoff performance schema becauseby so the performance improves by .
this parameter enables mysqlmonitoringonvariousentities includingevents opened files statusinformation etc.
usercmonitorsunexpectedbehavior e.g.
toomanycontentionsondatafiles usingthisfunctionality.
however after turning it off as shown in fig.
c any monitoring action i.e.
monitoring which files are being opened by how many entities does not work hurting user c s initial intention.
user disaffectedby innodb flush method .asshowninfig.
d after runningottertune thisparameteristunedfrom fsynctoo direct.
theformervalueallowseachwritefirsttouchthekernel scache and followed by a fsyncsystem call.
since mysql implements bufferingitselfespeciallyforwrite thekernellevelcachingmay conflict with mysql s buffering.
the latter value causes mysql to bypass the kernel cache.
thus if user duses the configuration suggestedbyottertune thewriteworkload greentextinfig.
d canbe improvedby .however userdisfacing manykinds of users i.e.
workload .
as the red text in fig.
d shows the read performance degrades dramatically under this configuration.
the reason lies in the ability of the kernel cache to keep more hot data in memory thereby increasing read speed.
in conclusion auto tuners may cause criticalside effects on other intentions safetune is complementary to them which helps to prevent bad consequences.
related work configuration tuning.
some works aim to improve software performance by tuning configurations.
they can be classified into model based measurement based search based and learning based methods.
these tools tune the parameters using certain heuristics and measure software performancetobuildamodelthatcanfindthefastestconfiguration.
however they only consider the performance impacts of configurations meaning that they may cause side effects such as reducing reliability.
safetune can help to support these tools this can be done both by reducing the search space and warning about the side effects to prevent severe consequences.
pre selecting performance related parameters.
some works target on per selecting important parameters to accelerate the configurationtuningprocess.theyuseperformanceexperimentstody namicallyselectparametersthathaveasignificantinfluenceonper formanceusingstatistical ormachinelearning techniques.
similarly theseworksfocusonlyon theperformanceofsoftware and pay no attention to other users intentions.
while safetunecovers theirtargetsand isalso awareofmulti intentions.
itfully leverages the document of parameters to predict the performancerelated parameters and potential side effects.
understandingrelationshipbetweenperformanceandconfiguration.
some works target understanding the relationship betweenperformanceandconfigurationparameters.agroupofworks has endeavored to understand the relationship from code via static ordynamiccodeanalysis .whiletheycannotcapturethe authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
multi intention aware configuration selection for performance tuning icse may pittsburgh pa usa side effects of configuration parameters from code but safetune leverages documents thus taking multiple intentions into consideration.theothergroupofworksminesusefulinformationrelatedto configuration to help both developers and users improve software performance.
some works mine configuration documents to detect performancebugs andothersmineperformanceconstraints of configurations to prevent users from performance misconfigurations .comparedwithalltheseworks safetunehasadifferent focus it utilizes documents to obtain multi intentions of configuration parameters to pre select performance related parameters and warn about potential side effects.
many works focus on the nonfunctionalpropertiesandfeatureinteractionsofsoftwareproduct lines spl configuration .
safetune focuses on runtimeconfigurations whicharedifferentfromsplfeatures.thespl tools usually rely on expert knowledge from developers as input to ensure non functional properties.
the run time configurations are tuned by users so it is hard to provide such input.
discussion abilityofgeneralization.
thesixtypesofside effectsonnonperformanceintentionsareconcludedfromthestudiedsoftware.to make safetune as generalizedas possible weselected widelyused open sourcesoftware systemsfrom four representativecategories as targets.
while our evaluation in .
and .
shows that safetune can achieve good results on un studied software we still cannot claim that our approach is able to be generalized to all softwaredomains.safetuneleveragesconfigurationdocumentsto predict tuning guidance.
thus the tuning guidance that safetune provides relies on the quality of the configuration documents ofthe target software systems.
we expect following improvements indocuments explainthecontextofparameters functionality tell user what will result in by changing parameter values split the description and additional information e.g.
recommen dations constraints into different paragraphs.
our future work willextendsafetunebyusingmoreinformation i.e.
sourcecode asadditional inputand newtechniquesto furtherunderstandthe side effects on non performance intentions.
effectivenessonreducingthesearchspacefortuning.
safetune may produce many performance related parameters e.g.
occupying .
of all parameters in .
for performance tuning directlyusingthemmaystillmakethesearchspacebigduringtuning.
however the parameters suggested by safetune are labeled with side effects thus many of the parameters may not be actually tuned during tuning when given some of other user intentionsas input .
in fact there are only a small proportion .
of all parametersin .
ofperformance relatedparametersthathave limited or no side effects.
also we argue that safetune identifies performance related parameters in general and independent of workload.souserscanfurtherchooseparametersaccordingtotheirworkload.ourfutureworkswillfocusonautomaticallyidentifying workloads affected by a given performance related parameter.
triggering conditions of the side effects.
tuning parameters withside effectsmaynotnecessarilyviolateuserintentions.the triggeringconditionsmaycomefromproductionworkloads system environment and the values of other parameters.
for instance ifuser aof .
turns off fsync but he she has battery backed ram in the event of power failure the intention of high reliability wouldnotbeviolated.safetuneisnotabletoextractalltriggering conditions while existing tools may help extract some conditions.
and we claim safetune warns about potential sideeffects on other user intentions.
conclusion toimproveperformance manyworksautomaticallypre selectand tune configuration parameters but only for specific workloads andareunawareofotheruserintentions.wearguethattheconfiguration document contains rich information and can be leveraged to pre select important parameters while retaining other nonperformanceintentions.weconcludesixtypesofnon performanceside effectoftheperformance relatedparametersfromanempiricalstudyon13softwaresystems.basedonthefindings wedesignand implement safetune to predict the tuning guidance.
experiments showthatsafetunecanidentify22 26performance relatedparameters that have substantial performance impacts but are missed by state of the art tools.
moreover safetune can help auto tuners to prevent eight potentialside effectsthat have severe consequences.