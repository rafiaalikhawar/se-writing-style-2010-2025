repairing brain computer interfaces with fault based data acquisition cailin winston university of washington seattle washington usa cailinw cs.washington.educaleb winston university of washington seattle washington usa calebwin cs.washington.educhloe n winston university of washington seattle washington usa chloewin cs.washington.educlaris winston university of washington seattle washington usa clarisw cs.washington.edu cleah winston university of washington seattle washington usa cleahwin gmail.comrajeshpnr a o university of washington seattle washington usa rao cs.washington.eduren just university of washington seattle washington usa rjust cs.washington.edu initial calibration sessioninitial calibratio n sess ion regular bci usage datagenerated test casesfault based task distribution repaired neural decoding modelrecalibration sessionrecalibration sessionrepaired neural decoding modelinitial calibration session regular bci usage datapartial oracles corrective heuristicsgenerated test casesfault based task distributionfault based tasktt distribution repaired neural decodin g modelrecalibrati sessio nrecalibration sessio nrepaired neural decodin g modelexample neural decoding model in a bcimodelneural signal recorded with eegpredicted hand gesture example output slicepredicted hand gestureclosed hand example input sliceinput neural signalartifact from eye blinking example partial oraclemodel executionfault occurrence sudden transition from open to closed example corrective heuristicssudden transition from open to closedcompleted test case add missing intermediate stateclinician brain computer interface bci user domain expert clinician or bci developer repaired neural decoding modelslice functionsrecalibration sessionbaseline neural decoding modelregular bci usage datacharacteristic of bci usage task performed by bci user corrective heuristicsgenerate d test casesttbaseline neural decoding modelpartial oraclesslice functions figure proposed end to end methodology for repairing bcis left and a concrete example for a motor decoding bci right .
abstract brain computerinterfaces bcis decoderecordedneuralsignals from the brain and or stimulate the brain with encoded neural signals.bcisspanbothhardwareandsoftwareandhaveawiderange ofapplicationsinrestorativemedicine fromrestoringmovement through prostheses and robotic limbs to restoring sensation and communication through spellers.
bcis also have applications in diagnostic medicine e.g.
providing clinicians with data for detecting seizures sleep patterns or emotions.
despite their promise bcis have not yet been adopted for longterm day to dayusebecauseofchallengesrelatedtoreliabilityand robustness which are needed for safe operation in all scenarios.
ensuringsafeoperationcurrentlyrequireshoursofmanualdata collection and recalibration involving both patients and clinicians.
however data collection is not targeted at eliminating specificfaultsinabci.thispaperpresentsanewmethodologyforchar acterizing detecting andlocalizingfaultsinbcis.specifically it permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may pittsburgh pa usa association for computing machinery.
acm isbn ... .
slice functions as a method for localizing faults to characteristic patterns in theinput data or relevanttasks performed bythe user.
through targeted data acquisition and retraining the proposed methodologyimprovesthecorrectnessofbcis.weevaluatedthe proposed methodology on five bci applications.
the results show that the proposed methodology precisely localizes faults and can significantly reduce the frequency of faults through retraining basedontargeted fault baseddataacquisition.theseresultssuggest that the proposed methodology is a promising step towards repairing faulty bcis.
ccs concepts softwareanditsengineering correctness softwareverification software safety.
keywords brain computerinterface neuraldecoding partialtestoracles fault localization acm reference format cailinwinston calebwinston chloenwinston clariswinston cleah winston rajeshpnrao andren just.
.repairingbrain computerinterfaces with fault based data acquisition.
in 44th international conference on software engineering icse may pittsburgh pa usa.
acm newyork ny usa 12pages.
ieee acm 44th international conference on software engineering icse icse may pittsburgh pa usa winston et al.
introduction brain computerinterfaces bcis aresystemsthatenablecommunicationbetweenthebrainandhardware byrecordingneural signalsfromthebrainand orstimulatingthebrain.bydecoding recordedneuralsignals neuraldecoding orencodingneuralsignalsforstimulation neuralencoding bciscanrestorelostfunc tionorevenenhancenormalfunction.forexample bcissuchas neuroprosthetic limbs have restored motor function in individuals with muscle impairments or spinal cord injury.
through neural decoding bciscanalso serveimportant diagnosticpurposes such as detecting seizures sleep stages and emotion.
becauseofthecloseinteractionbetweenbcisandthebrain itis critical to ensure their safety and correctness.
unfortunately bcis can exhibit faulty behavior with decoded intentions subsequently referred to as tasks that can be a impossible for a prosthetic to execute b undesirable for the user e.g.
wavering movements or c unsafe e.g.
rapidmotionoftheprostheticthatcouldharm theuserorabystander .thesearereferredtoas faults.typically bcis arefine tuned during acalibration sessionwith the prospective user ideally to eliminate such faults.
however data shifts can occur during use thereafter due to the non stationarity of brain signalsanddifferingenvironmentalconditionsnotaccountedfor during the controlled calibration sessions.
as a result faults which were eliminated during initial calibration may reoccur.
to subsequentlyeliminatethesefaults furtherrecalibrationofthemodelor improved data pre processing is required which may involve conductingadditionalexperimentstocollectneuraldatawhileusers performtasks.identificationoftasksabciperformspoorlyonis solely based on user reports which may not be comprehensive.
tothebestofourknowledge nomethodologyexistsforcontinuously testing bcis based on a partial specification of correctness and subsequently localizing and repairing discovered faults.
we propose a methodology for testing and repairing bcis based onexpert definedpartialtestoracles partialspecificationofcorrectness correctiveheuristics datatransformationfunctions and slice functions for fault localization figure .
for a given class of bcis a domain expert such as a clinician or bci developer defines partial test oracles detect faults during bci usage.
correctiveheuristics transformfaultymodeloutputsbymapping implausible output values to plausible ones.
slice functions slice and classify bci inputs and outputs.
together these enable repairing faulty bcis through targeted data acquisition informed by fault localization.
specifically detectedfaults are localized to co occurring input or output slices.
inputslices correspond to characteristics of bci usage such as the individual usingthe bci environmental settings andthe qualityof the pre processed data that the underlying neural decoding model ingests.
output slices correspond to tasks which are the various actionsthatausercanperformwiththebci.clinicianscanthen acquire data by targeting tasks co occurring with faults.
to repair thebci theunderlyingneuraldecodingmodelisretrainedusing theacquireddata.localizingfaultstoinputslicesmayalsobeused e.g.
toimprovethepre pr ocessingoftheneuralsignaltoeliminate faultsstemmingfromartifactsinthatsignal.notethatcorrective heuristicstransformfaultymodeloutputs toaidlocalizingfaultstotasks.thisisdistinctfromrepairingabci whichinvolvestargeteddata acquisition based on a task distribution and model retraining in an attempt to reduce the likelihood of faults occurring.
as an example consider a bci that predicts hand gestures from neuralsignals.adomainexpertmaydefineapartialtestoraclethat identifies sudden transitions between hand positions as faults a corrective heuristic function that corrects a sudden transition fault by smoothly interpolating between the hand positions and slicefunctions that classify the various hand gestures.
if instances of suchsudden transitionfaultsoccurmorefrequentlyforslicesoftheheuristicallytransformedoutputthatcorrespondtoaclosedgesture i.e.
the fault is localized to the closed gesture task clinicians and users would be recommended to collect additional data for this task.furthercalibrationofthegesturepredictionmodelcanreduce the number of sudden transition faults.
the domain expert may alsodefineaslicefunctionthatclassifiesinputslicesthatcontain artifacts from eye blinking a characteristic interference in eegdata .
if faults are localized to these input slices bci developers couldbeaskedtoimprovepre processingtoeliminatesuchartifacts.
weevaluatedtheproposedmethodologyonfivebciapplications.
the results show that partial test oracles can detect faults in bcis faultlocalizationcanidentifyinputandoutputslicescooccurring with faults and targeted fault based data acquisition can significantly reduce the frequency of faults in bcis.
the keycontribution of thispaper is anend to end human inthe loop methodology for repairing deployed bcis.
specific contributions include a classification of bci applications and faults section .
a novel application of partial test oracles and fault localizationtobcis enablingtargetedfault baseddataacquisition to repair faulty bcis section .
a validation of the proposed methodology using five bci applications demonstrating that faulty bcis can be successfully repaired post deployment sections and .
background .
brain computer interfaces manybcisinvolvetranslatingneuralsignals whicharerecorded from the brain and reflect a person s intended action task into control signals e.g.
for a prosthetic limb in a paralyzed person for an avatar in an augmented or virtual reality environment for rehabilitationtherapy orfornon medicalapplicationssuchasbraincontrolledgaming.
abcihascomponentsforsignalacquisition signalprocessingandfeatureextraction andtranslationofthese signals into a meaningful output through neural decoding.
neural signaling in the brain utilizes electrical impulses communicated between neurons.
this electrical activity can be measured through avarietyoftechniques rangingfromhighlyinvasiveprocedures involvingbrainimplantstononinvasivemethodssuchaselectroencephalography eeg .
the signal is often recorded as a 2d array capturing time and input channels streams of input from electrodesplacedonspecificplacesonthescalp e.g.
eeg orwithinthebrain e.g.
intracorticalrecordings .therecordedbrainactivitycan beaffectedbyartifacts suchaslinenoisefromexternalelectrical impulses and movement related artifacts.
the brain signal can alsobeweakandmixedduetosignalpropagationthroughbiologicaltissuebeforemeasurement.signalprocessingandfeatureextraction aretypicallyusedtoreducenoiseandextracttask relevantfeatures 1870repairing brain computer interfaces with fault based data acquisition icse may pittsburgh pa usa brain computer interfaces input modality intended use control mechanism prediction scope electroencephalography eeg noninvasive method of collecting time series multichannel electrical data from surface of the brainmagnetoencephalography noninvasive but bulky method of collecting timeseries magnetic data from surface of the brain electrocorticography invasive method of collecting time series multichannel electrical data from surface of the brain more precisely than eegintracortical neural recording invasive method of collecting high resolution time series data from small neuronal populationsrestorative diagnostic treatment movement restoration restore user s ability to control movement of limb communication decode intended speech sensory restoration stimulate brain to evoke sensations expected based on external sensorsdeep brain stimulation treatment option for parkinson s disease that involves stimulation of deep brain structures epilepsy prediction predicts seizures based on neural activity and alerts user upon predictionactive decode neural patterns evoked by user e.g.
by imagining a movement reactive decode neural reaction to stimulus e.g.
by selectively focusing on a particular character passive detects unintentional changes in neural activity e.g.
during distraction continuous outputs real valued states such as position or velocitydiscrete outputs discrete states such as stage of sleep figure classification of brain computer interfaces fromthedata.evenwithsuchprocessing noiseoftenpersistsin the signal and can result in faults.
theprocessedneuraldataisthentranslatedintoadesiredoutput using a neural decoder.
while some neural decoders are handcraftedmodelswithhighlyinterpretableparameters otherdecoders utilizeclassicalmachinelearningmethodsand morerecently deep neural networks that can model complex patterns in data with less manualparametertuning.thetypeofdecoderisdeterminedbased on the application and the complexity of the neural data.
neural decoders are often trained from hand labeled datasets collectedfromstudieswithsev eralparticipants.however before deployingsuchmodelstoadevice suchasaprosthetic acalibration sessionisrequiredwiththeindividualuser duetothevariability ofneuralsignalsacrossindividuals .inthissession neuraldata is collectedwhilethe individualperforms orimagines performing certaintasks.forexample forahandprosthetic anindividualmay be asked to move their hand in specified directions and grasp anitem.
the model is calibrated on the neural data that is collected whiletheuserperformsthesetasks sothatitcanaccuratelydecode the neural data and predict the true intention of the individual.
.
challenges in deploying bcis there are multiple challengesassociated with deploying accurate bcis.onechallengeistheneedforextensivedatacollectionandtrainingoftheneuraldecoder.inthesuccessfuloperationofany bci two systems are at play the neural decoder and the user sbrain.
while the neural decoder learns neural patterns that cor respond to specific user states the user s brain adapts to controlthe bci.
consider a motor bci whose goal is to perform move ments desired by the user.
first the neural decoder is calibrated .
neural activity is recorded while the user imagines various movements imaginationisrequiredwhentheindividualisparalyzedorotherwiseunabletophysicallyperformthedesiredtask .thisrequireshoursofexperimentsintheclinic withtheuser performing many tasks that the bci would be expected to perform.
the data must also be manually labeled and annotated in some applications andthismaybeerror prone.aneuraldecoderisfit to this data.
next the user begins using the bci and learning how to control it.
if faults persist further calibration may be required.
anotherchallengeisthatincurrentbciapplications itishardto monitorandcharacterizefaultsafterdeployment.ifabciperforms poorly a usermayreportfailurescenarios whichaclinicianmay use to prescribe additional data collection sessions.
faults that arenotreported arenot necessarilyaccountedfor and thusitis hard to assess the performance and safety of the device.
.
software testing and debugging recognizing theneed fora methodologyfor identifyingand repairing faults in bcis post deployment we explore the applicabilityof existing software testing constructs to this emerging domain.
partial test oracles which encodea partial specification of correct behavior have been extensively used to automate software testing for complex systems e.g.
.
while some partial test oraclesspecifywhichpropertiesofasystem soutputmustholdfor any input others specify such properties with respect to a giveninput or set of inputs.
in our use case partial test oracles test a property of neural decoding model executions.
softwaredebuggingfortraditionalsoftwaresystems asopposed tolearnedmlmodels involveslocalizingafaulttoitsrootcause in the program s source code as well as repairing that fault.
the software engineering research community has developed a variety of approaches to aid and automate software debugging.
for example statistical fault localization approaches aim to rank program elementsbytheirsuspiciousness .similarly programslicingapproaches aim toidentifyslicesof aprogramof interest based on slicing criteria e.g.
derived from data or control flow properties.
informationaboutafault srootcausecanthenbeusedtorepairthefaultysystem.thekeydifferencebetweenourapplica tionofsuchdebuggingtechniquesandtheapplicationtotraditional software systems is the focus on data as opposed to programs.
classification of bci applications and faults prior work has classified bcis based on system characteristics and target usersand tasks e.g.
.
sincedifferences inbcis have implications on the ability to define partial test oracles correctiveheuristics and slice functions we expand upon existing classifications of bci applications and additionally classify bci faults.
.
classification of bci applications our classification focuseson four key dimensionsalong which bci applications can be classified figure .
prediction scope bcis varyin their prediction scope.
bcis may predict continuous outputs e.g.
position and velocity for motor decoding bcis or discrete outputs e.g.
stages of sleep .
1871icse may pittsburgh pa usa winston et al.
table classification of bci faults.
category fault description implication bci application s inputvalidation artifact a signal noise from irrelevant motor or eye movementinterference with neural signal input to decoder temporal validation temporal inconsistency ti flickering in decoder predictions undesirable behavior md oe cc fn ss illegal transition it impossible improbable transition between predicted statesimpossible undesirablebehavior md ss rapid motion rm improbably large change in prediction undesirable unsafe behavior cc fd consistency multimodal inconsistency mm disagreement between predictions by decoder and by auxiliary modelpotentially incorrect prediction ss domainknowledge out of bounds ob impossible prediction impossible behavior cc evaluate d bci applications .
md motor decoding oe observe or execute classification ss sleep stage classification cc cursor control fn field navigation.
inputmodalities bcisusevarioustypesofinputmodalities i.e.
types of neural data analyzed .
these range from noninvasive techniques such as magnetoencephalography and electroencephalography eeg toinvasivebutmoreprecisetechniquessuchasintracortical neural recordings and electrocorticography.
despite differences in techniques most modalities yield time series data that are occasionally multi channel.
specific features such as frequency componentsofsignalsoraveragefiringrates maybecomputedfromraw data and used to predict states such as intended movement.
controlmechanism bcisvaryintheircontrolmechanisms i.e.
how a user interacts with the bci.
some motor bcis require users to actively control their neural patterns through imagination to signaltheirintendedmovement.otherbcisdetectspecifictypes of neural activity that are evoked upon sensory stimulation.
in this way suchbcismaybeabletodetectwhethertheuserisselectively focusing on an object such as a character in a speech decoding bci.
still other bcis may detect changes in the neural activity that are not intentionally modulated by the user.
intendeduse bcisvaryintheirintendeduse.somearerestorative aimingtoprovidesensoryormotorfunction.othersarediagnosticor treatment centered.examples ofthe lattercategoryinclude deep brain stimulation which stimulates deep regions of the brain andhasbeenfoundtomitigatesymptomsofparkinson sdisease and epilepsy and epilepsy predictors that may alert the user upon prediction of a seizure .
.
classification of bci faults we classify bci faults into four non disjoint categories summarized in table input validation temporal validation consistency across modalities and models and domain knowledge violation.
categorizing faults in such a way motivates our methodology in which faults are detected through partial test oracles section .
inputvalidation neuraldata canbenoisy duetomuscle movementandelectricalinterference.carefulpre processingandfeature extraction to remove the resulting artifacts in the input data is critical.
since the inputs that a model sees during training likely have few artifacts due to controlled experimental conditions artifacts remaining in the input data due to faulty pre processing are a particular concern for regular usage of the bci after deployment.
temporal validation model output may be temporally incorrect.
in some applications for example the output class should notchange toorapidly betweencertain statesor within asmall range of the output space.
indeed one of the challenges in developing prostheticsisproducingsmoothlimbmovementwhenoperating in free space or when precisely grasping small objects .
furthermore certainstatetransitionsareinvalidorimprobable due to physiological constraints.
thus even though the neural decoder itselfmaybetime independentandmayhavenoconstraintsonthe validity between disjoint predictions of the model temporal faults can occur since the model is utilized in a time dependent context.
consistency ifpresent auxiliarydatasuchasrespiration heart rate or movement may be utilized to enforce consistency between theauxiliaryinformationandtheneuraldecoder spredictions.furthermore some bcis utilize multiple models or data from different modalities of recording neural signal to make predictions.
for suchbcis theoutputsacrossthesemodelsormodalitiesmustbeconsistent.
for example the presence of an artifact in the pre processed data must be consistent across different recording modalities.
domainknowledge domainknowledgeabouttheexpectedbehavior of a system can aid testing.
for example there may be physical constraints on limb positions such as invalid finger positions for a handgraspingbci andtherecouldbepatternsinmodeloutputthat areknowntobeimprobablebasedondomainknowledge.knowledgeofanindividualuser shealthconditionsanddailyactivities may also be applied to enforce constraints.
repairing bcis with fault based data acquisition thissectiondetailstheproposedmethodologydepictedinfigure1.
sections4.
.3describepartialtestoracles correctiveheuristics andslicefunctions andsection4.4detailshowthesecomponents are used for targeted fault based data acquisition and repair.
.
detecting faults with partial test oracles ourmethodologyusespartialtestoraclesasameanstotestbcis and detect faulty outputs of the underlying neural decoding model.
the behavior and expected output of a neural decoder usually cannotbepreciselyspecified whichmakespartialoraclesespecially suitable for testing.
these oracles capture domain knowledge of a partialspecificationofabci specifically whatpropertiesofthe neural decoder output violate necessary conditions.
1872repairing brain computer interfaces with fault based data acquisition icse may pittsburgh pa usa partialtestoraclesforinputvalidation softwareandhardware systemsusuallyhavedefinedpreconditionsthatmustbemetfor validexecution.insoftwaresystemsforexample thesepreconditionscanbeexpressedthroughassertions.inthecontextofbcis inputvalidationissimilartosuchpreconditions ifpre processed neuraldataisdissimilartothetypeofdataadecoderwastrained on the decoder cannot be expected to produce valid output.
artifacts that occur in neural data due to unrelated movement and interferencewiththeneuraldatacollectionareoftenremovedbysignalprocessingbeforethedataispassedthroughtheneuraldecoder.
partial test oracles can be defined to capture cases in which these artifacts do not get removed from the data input to the de coder.
these cases can then be later analyzed and used to either improvethesignalprocessingstepsorimprovethegeneralizability and robustness of the decoder.
partial test oracles for temporal validation partial test oracles canalsocaptureneuraldecoderfaultsthataretemporal.oraclesfor temporal faults utilize ideas from metamorphic testing in that previousmodeloutputisconsideredwhentestingsubsequentmodel output.metamorphicrelationsareuseful forexample fordetecting illegal transitions in model output.
partial test oracles for consistency partial test oracles can detect inconsistencies between different models or across different modalities ofneural recording.for example asimpler precise auxiliary modelthatacceptsthesameinputasaneuraldecoder orrelated data can be used to identify faults in the neural decoder s output.
partialtestoraclesfordomainknowledge test oracles canalso capture faults based on domain knowledge of the likelihood of various events.
for example clinicians may have noticed in experiments that a certain state transition in the model output space isextremelyunlikelyinnaturalexecutionorthataparticularposition is physically impossible or unsafe.
such experience based constraints can be defined in form of a partial test oracle.
.
transforming implausible to plausible model outputs with corrective heuristics while partial test oracles can detect faulty predictions correctingthesepredictionsischallengingbecausethecorrectoutputis unknown as is the user s activity during regular usage of the bci that resulted in the fault occurring.
ourmethodologyusescorrectiveheuristicsthattransformfaulty predictionsbymappingimplausibleoutputvaluestoplausibleones.
a different corrective heuristic is defined for each type of fault.
for example a corrective heuristic may transform an illegal transition by changing the faulty prediction to the previously predicted state ortoastatethatisreachablefromthepreviousstate.similarly a corrective heuristic may transform an out of bounds coordinate to thenearest in boundcoordinate.while thereisno guaranteethatthe resulting value is itself correct it is at least plausible.
corrective heuristics may utilize auxiliary information such asastatetransitionprobabilitymatrixlearnedonagroundtruth dataset whileothersmaygeneratecorrectionsbasedontheneural decoder s predictions on surrounding data points.
corrective heuristicsforneuraldecodersarespecifictoafaultinaspecificbci application but they do share some common characteristics.
first unlikelabelingfunctionsusedforweaksupervision correctiveheuristicsonlyapplytofaultypredictions.second sincebcisoperate on time series data i.e.
neural signals over time corrective heuristicsrelyonpreviouspredictions.forexample acorrective heuristic for illegal state transitions may assume that the previous decoder predictions were correct and may select the most common recently predicted state as the plausible output.
while corrective heuristicscan transform individual faulty predictions they do not truly repair the neural decoding model itself and hence cannot be expected to generalize to long term bci usage.consequently ourmethodology usescorrectiveheuristicsto improvefaultlocalizationbutnotasastandalonesolutiontorepair.
.
localizing faults with slice functions ourmethodologyusesslicefunctionstolocalizeadetectedfault toco occurringinputslicesandoutputslices.guidedbydomain knowledge theseslicefunctionscapturecharacteristicsoftheinput and map outputs to tasks given a stream of neural decoder model executions.forapplicationswithdiscreteoutput outputclassescan be directly mapped to tasks for applications with continuous output the output is discretized into bins which correspond to tasks.
while output slices are directly related to tasks that the user might perform during daily usage of the bci input slices are relatedtosubtlercharacteristicssuchasdataartifacts environment settings or characteristics of the user.
localizing faults to input slices enablespossible refinement oftasks e.g.
performinga task in a particular environment setting and improvement of bci components such as pre processing e.g.
artifact removal .
thispaperstudiestheeffectivenessoflocalizingfaultstobothinputandoutputslicesbutonlyusestheoutputslices tasks toguide targeted data acquisition by generating a fault based task distribution.
we conjecture that faults localized to input slices can informbci developers aboutnecessary improvements of data processing components.
we leave a deeper exploration as future work.
.4retraining with fault based data acquisition our methodology uses fault based data acquisition that is focused oneliminatingspecificfaults.simplyretraininganeuraldecoder on heuristically corrected data or randomly sampling data is insufficient.
first heuristically corrected data when directly used for retraining wouldbeinherentlynoisy.second non targeteddataacquisition is inefficient because faults are not uniformly distributed across tasks.
targeted fault based data acquisition by contrast yields a more focused training dataset.
dataacquisitionisthestandardmethodfortrainingandrecalibrating bcis for users needs.
however the traditional approach to data acquisition is not targeted at eliminating particular faults.
for example auser sreportthatthebcisometimesrapidlyswitchesbe tweenacquiringandreleasingmorethanonceforasinglegrasping task has an unknown root cause and cannot be easily addressed.
using partial test oracles corrective heuristics and slice functions ourmethodologycomputesacoincidencedistributionoftasks based on fault occurrences from past bci usage.
this computed distributionoftasksmayindicatethataparticulartask e.g.
astage ofacquiringorgrasping tendstocoincidewithfaultsmoreoften and thus requires more training data to inform the model s predictionsforthatfaultytask.whiletheexampleofsimplegraspcontrol 1873icse may pittsburgh pa usa winston et al.
table summary of bci applications used for evaluation.
bci applicationinputmodalityoutputpredictioncontrolmechanismintendedusedecodermodel performancemetric motordecoding md eeg one of hand postures active restorative lstm classification accuracy observe or execute classification oe eeg observation or execution active restorative svm classification accuracysleep stage classification ss eeg one of four sleep stages passive diagnostic rf classification accuracycursor control cc snr 2d cursor position active restorative wcd mean squared error field navigation fn snr 2d position in field active diagnostic neural net mean squared error snr single neuron recordings svm support vector machine rf random forest classifier wcd weiner cascade decoder.
has a small set of tasks bcis that control a wider range of handgestures perform a larger set of tasks.
the more tasks a bci performs the more important itis to acquire training data according to a task distribution to effectively target and eliminate faults.
the output slice functions are applied to the heuristically correctedmodeloutputstodetermineamoreaccuratetaskdistribution e.g.
an illegal state or out of bounds prediction cannot be directly mapped to a task .
the task distribution is then used to retrain the underlying model.
evaluation approach section proposes a methodology for detecting and repairing bci faults.toevaluatetheefficacyoftheindividualcomponentsofthis methodology we studied the following three research questions rq1 can partial test oracles precisely detect bci faults?
rq2 cancorrectiveheuristicsaccuratelytransformfaulty model outputs?
rq3 can bci faults be localized to input and output slices?
to evaluate the efficacy of bci repair via targeted fault based data acquisition we answer the following two research questions rq4 can fault based data acquisition and model retraining repair bci faults?
rq5 are corrective heuristics or fault localization sufficient on their own?
to answer our research questions we selected different neural decodingbciapplications summarizedintable2 .eachdecoder uses neural data eeg or single neuron recordings in some model species human monkey or rat to decode an aspect of behavior motionorsleep .weusedpubliclyavailablelabeleddatasetsand existing implementations of neural decoding models.
we split each ground truth labeled dataset into a training set for initial training and calibration an observation set to simulate regularusage anacquisitionsetthatcanbesampledfromtosimulate clinical data acquisition and a testing set for evaluating perfor mance.
we generally split each dataset based on a ratio.for the field navigation application we observed during initialexploration that of the data had substantially lower qualitythan the rest we discarded the data.
the baseline model of the cursorcontrolapplicationhadafaultfrequencyveryclosetozero whichwouldhaverendereditasnotsuitableforourevaluation.we discarded of the training data still leaving the cursor control applicationwithasubstantiallylowerfaultfrequencythanallother applications .
wefirsttrainedeachneuraldecoderonthetrainingsettoachieve a baseline model.
we then made predictions on the observation setusingthe baselineneuraldecoder simulatingregular usageofthe bciandcapturingfaultoccurrences.weusedthecollectedfaultstoperformsomemethodofrepairandre assesstheperformance.the modelperformancewasalwayscomputedonthetestingset.fortheresultsonperformanceandfaultfrequency werantentrials using different splits of the dataset and averaged the results.
.
selected bci applications we selectedfive neural decoderapplications aiming at a representativeselectionbasedontheclassificationinsection3.
.
specifically weselectedbothdiscrete outputandcontinuous output decoding bci applications those that use either eeg or singleneuron recording snr as the input modality both active and passive bcis and both restorative and diagnostic bcis.
selecting bcis that vary along the four dimensions enables us to more comprehensivelyevaluateourproposed methodology.for example bcis with discrete output classes allow for testing output validity based onstatetransitionviolation whilethosewithcontinuousoutput spacerequireassertionsonthemagnitudeandrateofchangeofthe output and also make defining accurate corrective heuristics more challenging.
furthermore classical ml models usually operate on manuallyengineeredfeatures whiledeepneuralnetworksdonot requiresuchfeatureengineering andthismayhaveimplications on the ability to repair faults.
.
.
eeg motor decoding md .
weusedtheeegmotormovement imagery dataset from physionet to train an lstm based neural decoder to classify three fist positions.
eeg data was recorded from electrodes placed in precise locations on the scalp while participants closed their left fist rightfist or neitherbased on the location of a cursor on a screen.
this decoder has immediateapplicationsinahandprostheticthatmustdecodethe user s intention to open or close a particular fist to grasp an object.
.
.
observation or execution classification oe .
in this application asupportvectormachine svm modelwasusedtoclassify betweenactionobservationandmotorexecutionofthesittostandaction .eegandelectromyography emg datawerecollected while participants were shown a video stimulus of someone performingthesittingtostandingtask actionobservation givena rest period and then asked to execute that task motor execution .
the data collected while executing the action was processed to extract movement related cortical potentials before being classi fied.
this decoder has applications in motor prosthesis because distinguishingtheintentofausertoperformanactionvs.apassive thought or observation of an action is critical for correctness.
1874repairing brain computer interfaces with fault based data acquisition icse may pittsburgh pa usa table corrective heuristics for bci faults.
fault bci application s description of corrective heuristic temporal inconsistency oe ss select the most common state predicted by the decoder on surrounding data points cc fn compute the average of decoder predictions on surrounding data points illegal transition md sample from state transition probabilities learned on training dataset ss select a state predicted by decoder on previous data point rapid motion fn compute the mean of the most recent outputs or closest possible output multimodal inconsistency ss compute the most common state predicted by the decoder on previous data points out of bounds fn compute the mean of the most recent outputs or the closest in bounds value md motor decoding oe observe or execute classification ss sleep stage classification cc cursor control fn field navigation.
.
.
sleep stage classification ss .
for application diversity we selected a passive diagnostic bci which classifies sleep wake stages into five possible outcomes.
we used the sleep edf dataset containingwhole nightpolysomnographiceegrecordingsanda random forest classifier to classify between stages .
such a bci can help monitor and detect abnormalities in individuals sleep patterns that could signify underlying medical conditions.
.
.
cursor control cc .
in this continuous decoding application awienercascadedecoderpredictsthex andy coordinatesof acursorona2dscreencontrolledbyamonkeyphysicallymanipu latingamanipulandum.weusedadatasetthatcontainedsingle cellrecordingsfrom52neuronsinthebrainandwasacquiredfromthe kording lab .
the ability to control a digital cursor with one s mind has significant implications for individuals with impaired mobility and communication skills.
.
.
field navigation fn .
thefinalapplicationinvolvedusing a deep neural network to predict the x and y coordinates of arat navigating towards rewards on a platform .
we utilized anotherdatasetfromthekordinglab whichcontainssingle cell recordingsfromtherat shippocampus apartofthebraininvolved inmemory.suchmotormovement relatedbciapplicationshave practical applications for developing prostheses.
.
partial test oracles we defined partial test oracles for each of the five bci applications.
most of these oracles are stateful i.e.
state is maintained across multiple executions of the decoder model and are similar to metamorphic relations .
given each new model execution a partial testoraclespecifieswhatexecutionsamongthecurrentandpast consecutive model executions are faulty if any.
.
.
eeg motor decoding md .
inthisapplication weidentified illegal state transition andtemporal inconsistency faults both of whichfallunderthecategoryoftemporalvalidation.first based ontheexperimental setupforthisapplication itisimpossiblefor the participant to directly switch between having their left fistclosed and right fist closed and thus transitions between these states can be considered illegal.
furthermore due to the presence of noise in the input eeg signals and limitations of the baseline decoder the model s prediction may flicker rapidly between statesover a period of time instead of consistently remaining in a certain state for a reasonable amount of time temporal inconsistency .
.
.
observation or execution classification oe .
fortheobserveor execute classification application we focused on a temporal inconsistencyfault anindividualcannotrapidlyswitchbetween action observation and motor execution since they remain in each state for a non trivial period of time and thus the output of the decoder should not flicker between those states.
.
.
sleep stage classification ss .
for the sleep stage classificationapplication wecoverthreefaults ofwhichtwofallintothe category of temporal validation.
we identified an illegal transition faultasitisphysiologicallyimpossibletotransitionbetweencertain stages of sleep anda temporal inconsistency fault because individuals remain in one stage of sleep for an extended period of time.
the third partial test oracle for the multimodal inconsistency fault identified inconsistencies between the neural decoder s output and theoutputofabinaryclassifierthatclassifieswhetherthebciuser is awake or sleeping based on auxiliary data including respiration body temperature and emg data.
.
.
cursor control cc .
for the cursor control application we identifiedtwodifferenttemporalfaults temporalinconsistencyand rapidmotion.first thebcicanmakemultiplefaultypredictions of position values that change significantly in a short period oftime temporal inconsistency when the cursor movement should be smooth.
second the bci can consecutively predict two position values whose distance exceeds a given threshold rapid motion when the cursor should move at a slower pace.
.
.
field navigation fn .
for the field navigation application wedefinedthreefaults.first thebcicanmakean outofbounds prediction incorrectlypredictingapositioncoordinatethatliesoutside the field.
this is an example of a violation of domain knowledge.
second wedetected temporalinconsistency faultsinthisapplication the position in the field cannot change too rapidly due to physical limitations to rat movement.
third we defined the rapid motion fault as predictions with unreasonable sudden jumps.
.
corrective heuristics and slice functions wedefinedcorrectiveheuristicsforeachofthefivebciapplications.
table summarizes these heuristics and the faults they apply to.
1875icse may pittsburgh pa usa winston et al.
table frequency of bci faults detected by partial test oracles.
precision is the percentage of correctly detected faulty outputs givengroundtruth.
forcontinuous outputapplicationstheprecisionisgenerallyunknowablewithoutdefininganepsilonuptowhich model outputs are considered equal for some faults such as out of bounds ob however precision is guaranteed to be .
bci application fault precision frequency motor decoding md temporal inconsistency ti .
illegal transition it .
observe or execute classification oe temporal inconsistency ti .
sleep stage classification ss temporal inconsistency ti .
illegal transition it .
multimodal inconsistency mm .
cursor control cc temporal inconsistency ti .
rapid motion rm .
field navigation fn temporal inconsistency ti .
rapid motion rm .
out of bounds ob .
for each of the five bci applications we defined slice functions for capturing discrete input and output slices given a stream of neuraldecodermodelexecutions.forthethreeapplicationswith discrete output motor decoding observe or execute classification and sleep stage classification we defined output slice functions that map output classes to tasks.
for both the cursor control and the field navigation application we defined output slice functions toclassifythedirectionofmovementofthecursorortherat respectively.
for the cursor control application we additionally defined output slice functions to classify the position mapping each coordinate to a quadrant subspace of the screen of the cursor.
both the cursor control application and the field navigation application additionally utilized functions that capture input slices.
wedefinedtwoslicesbasedonpropertiesofthefiringactivityof single neurons.
the hypoactivity andhyperactivity slice functions detectwhentheneuralsignaloveranentiretimebinisbelowor above certain thresholds respectively.
.
retraining and evaluating repair whilethemotordecodingandfieldnavigationneuraldecoders usedneuralnetworksandcouldbeefficientlyretrainedbyincrementallytrainingonnewdata theotherthreedecodersusedtraditional ml models and required retraining with a concatenation of the initial and new training data.
to acquire the new training data we sampled data points from the acquisition dataset.
to assess the effectiveness of our methodology for repairing bcis we compared both fault frequency and overall prediction performance of a repaired model to the baseline model.
we specifically assess whether different data acquisition strategies lead to significant differences.
evaluation results .
rq1 can partial test oracles precisely detect bci faults?
since faults are detected through partial test oracles we computed precisionasthepercentageofcorrectlydetectedfaults basedon ground truth out of all faults detected by an oracle.precisionofbcifaultdetectionviapartialtestoracles according to table the oracle capturing inconsistency with the auxiliary model multimodalinconsistency hasthegreatestprecision followedbytheoraclescapturingillegaltransitions astheyidentify statesofthedecoderthatarecertainlyincorrect.whiletheother oracles have lower precision they can be fine tuned to improve precision.
a test oracle that detects temporal inconsistency for example canbehardtodefine asonemustfine tunethewindow sizeofmodelexecutionstoconsideratatimetodetermineinconsistency.however weobserveinsection6.5thatoracleswithlower precision are still valuable in improving decoder performance.
prevalenceofbcifaults accordingtotable4 themostprevalent faults detected by partial test oracles across all the applications are illegaltransitionandtemporalinconsistency.thisisnotsurprising because neural decoders process temporal data that varies in very specific ways across time.
furthermore the prevalence of all faults indicatesthatthere ispotentialforimprovingthe performanceof neural decoders by eliminating faults.
.
rq2 can corrective heuristics accurately transform faulty model outputs?
we evaluated the efficacy of each corrective heuristics based on ground truth labels.
specifically we compared model accuracy beforeandafterapplyingthecorrectiveheuristicstothebaseline neuraldecoderpredictions.notethattheperformanceforthecursor controlandfieldnavigationapplicationsismeasuredusingmean squarederror forwhichlowerisbetter.thebaselineisthefaulty neural decoding model that was initially trained for regular bciusage.
figure gives the results and shows that out of bci applicationsdemonstratedasignificantimprovementinaccuracy after applying the corrective heuristics.
the accuracy of the motor decoding model decreased but the difference was not significant.
.
rq3 can bci faults be localized to input and output slices?
in order to test whether faults can be localized to input and output slices we compared the distributions of input and output slices 1876repairing brain computer interfaces with fault based data acquisition icse may pittsburgh pa usa ti it motor decoding00.
.
.
.
.2baseline corrected ti obs exec classif.
.
.
.
.
.
ti it mm sleep stage classif.
.
.
.
.
.
ti rm cursor control05101520 ti rmob field navigation00.
.
figure efficacy of corrective heuristics.
an asterisk indicates a significant difference paired two sample t test pvalue .
.
note that for mean squared error lower is better.
ti it n motor decoding00.
.
.
.
.
.
.6left fist rest right fist ti n obs exec classif.
.
.
.
.
.
.
.6action obs.
motor exec.
ti it mm n sleep stage classif.
.
.
.
.
.
.
.6stage stage stage rem wake ti rm n cursor control00.
.
.
.
.
.
.6downward leftward rightward upward quadrant quadrant quadrant quadrant ti ob rm n field navigation00.
.
.
.
.
.
.6downward leftward rightward upward a output slices.
ti rm n cursor control00.
.
.
.
.
.
.6hyperactivity hypoactivity ti rm ob n field navigation00.
.
.
.
.
.
.6hyperactivity hypoactivity b input slices.
figure localizing faults to specific output slices top and input slices bottom .
different faults on the x axis with n referringtonofault exhibitdifferentdistributionsofco occurring slices.alldistributionsarenormalizedto1 butslicesmayco occur.
conditionedonwhetheraparticulartypeoffaultoccurred.weused a chi squared test of independence on the relationship between thepresenceofagiventypeoffaultandthedistributionofinput and output slices respectively.
figure 4showsthat mosttypesof faultsexhibit distinctdistributions of input and or output slices for both compared to the distributions of other faults and no fault in a given application.
for example temporalinconsistency faultsin the motordecoding applicationcoincidewithinstancesoftherestingtask whereasillegal transition faults almost never occur during resting chi squared testofindependence p .
.inthiscase theillegaltransitionfaultcanbelocalizedtoataskdistributionprimarilycomprisedofthe non resting tasks.the sameobservation holdsfor theobserve orexecute classification with only one type of fault.
the distribution oftasksbeingsimultaneouslyperformedduringfaultoccurrenceis significantlydifferentthantheno faultdistribution chi squared test of independence p .
when temporal inconsistency faults occur abciuserismorelikelytobeobservinganaction.inthis case temporalinconsistencyfaultscanbelocalizedtoadistribution skewed towards the observation task.
overall our results show that for most types of faults in the five bci applications there is a statistically significant association between fault occurrence and slice distribution.
.
rq4 can fault based data acquisition and model retraining repair bci faults?
to evaluate our proposed methodology for fault based data acquisitionandrepair wetrainedtheunderlyingneuraldecoderondata acquired based on the computed fault based task distributions for all five bci applications.
we measured repair success for each type offaultinisolationaswellasforalltypesoffaultscombined.specifically we computed the change in the number of fault occurrences after training.
although individual types of faults can co occur eachfaultrepresentsauniqueissue.therefore whenmeasuringrepair success for all types of faults combined we sum the fault occurrencesofeachindividualtypeoffault asopposedtocounting unique faulty model outputs .
table gives the overall results and shows that retraining the underlyingneuraldecodingmodelafterfault baseddataacquisition canreducethenumberoffaults.forexample fortheobserve orexecuteclassificationapplication trainingondataacquiredthrough a task distribution yields a statistically significant improvement overthebaselineandovertrainingondataacquiredthroughthe natural task distribution.
for other applications we did not observe such a statistical significant reduction and we conjecture three reasons.
first the acquisitiondatasetislimited beingonlyone tenthoftheoriginal dataset.
since we acquired data by selecting a fixed number of datapointsfromthisalreadylimitedacquisitiondataset thereislessroomforthetaskdistributiontoshowasignificanteffect comparedtothenaturaldistribution.second sinceweusepreviouslycollecteddatasets wecannotacquirenewdatabasedonthetaskdistribution butinsteadsimulatedataacquisitionbysamplingfromaportion oftheexistingdatasetthatthemodelhasneverseen.fault based data acquisition in a real calibration session may be more targeted.
third thecorrective heuristicsthat wedefined forthis evaluation may not be accurate enough to produce accurate task distributions.
we wishto explorethese further infuture work andcarrying out a user study may provide additional insights.
fault based data acquisition can achieve a reduction in faults.
however asecondaryconcernisthatretrainingmustsimultaneouslyensurethataccuracy orrelatedmeasureofperformancesuchasmean squarederror doesnotsignificantlydegrade.weevaluatethisbycomputingthechangeinaccuracyafterretrainingondataac quiredthroughfaultlocalization.wefoundthattherewasasignifi cantincreaseinaccuracyforthemotordecodingapplication andno significant change for the other applications suggesting that faultbaseddata acquisition can repair bcis without degrading accuracy.
1877icse may pittsburgh pa usa winston et al.
table5 repairingbciswithfault baseddataacquisition.
foreachapplication weseektoeliminateeitherasinglefaultorallfaults combined.
we compare the number of faults averaged over trials before retraining baseline after retraining with data acquired based onthenaturaldistributionoftasks afterbernoulli andafterretrainingwithdataacquiredbasedonafault baseddistributionoftasks after fault localization w corrections .
we also compare to simply applying corrective heuristics after corrections and fault based data acquisition without applying corrective heuristics first after fault localization w o corrections .
comparison to baseline p .
p .
p .
.
comparison to bernoulli sampled task distribution p .
p .
p .
bci application fault baselineafter bernoulliafter faultlocalizationw correctionsaftercorrectionsafter faultlocalizationw o corrections eeg motor decoding temporal inconsistency .
.
.
.
illegal transition .
.
.
.
all faults combined .
.
.
.
.
observation or execution temporal inconsistency .
.
.
.
classification all faults combined .
.
.
.
.
sleep stageclassificationtemporal inconsistency .
.
.
.
illegal transition .
.
.
.
multimodal inconsistency .
.
.
.
all faults combined .
.
.
.
.
bci cursor control temporal inconsistency .
.
.
.
rapid motion .
.
.
.
all faults combined .
.
.
.
.
field navigation temporal inconsistency .
.
.
.
rapid motion .
.
.
.
out of bounds .
.
.
.
all faults combined .
.
.
.
.
.
rq5 are corrective heuristics or fault localization sufficient on their own?
section6.2established theeffectivenessoffault localizationbased onheuristicallycorrectedmodeloutputs usedtocomputeatask distributionfordataacquisitionandmodelretraining.thismethod requires both corrective heuristics to correct faulty predictions and fault localization to inform data acquisition.
here we explore whether either of these components suffices.
in other words wetestwhethereithertrainingonheuristicallycorrectedpredictions without a fault based distribution or localizing faults to tasks without correcting faulty predictions would confer performance improvements.
the two right most columns in table show the results for these two alternative approaches.
first we discuss the results of directly retraining the neural decoder on heuristically corrected faults without assuming a faultbased task distribution.
as shown in table we observe that train ing on heuristically corrected faults decreased the number of faults forthemotordecodingapplication.however wealsoobserveda significantincreaseinthenumberoffaultsfor3outof5applications.weattributethistotworeasons.first theamountofthedata the decoder model is trained on is dependent on the number of detectedfaults.intheapplicationsthatwetested faultfrequency is overall low and training on this small number of specific data points likely causes the model to overfit.
second since corrections are based on heuristics training on them could bias the model especially if there are few corrected datapoints to retrain on.
we concludethatwhilecorrectiveheuristicsareausefultoolforcorrectingindividualpredictions trainingonthecorrecteddatapoints is insufficient for repairing the underlying decoder.next wediscusstheeffectivenessoffault baseddataacquisition withouttheuseofcorrectiveheuristics.insection6.
corrective heuristicswereusedasameansforweaklycorrectingmodelpredictions in order to accurately determine the task being performed.
however correctingmodelpredictionswithimpreciseheuristics maynotresultinamoreaccuratetaskdistribution.totestwhether effective fault localization could be achieved without corrective heuristics wecomputedthenumberoffaultswhenretrainingon fault basedacquireddatabutwithoutapplyingcorrectiveheuristics to model predictions first.
we found that removing corrective heuristics significantly decreased the number of faults only for illegal transition faults in the sleep stage classification application.
for all other faults and applications the results of this approach arecomparabletoorsignificantlyworsethantheresultsoffaultbaseddataacquisitionwithcorrectiveheuristicsapplied.weconclude that corrective heuristics are an important component in the methodology to compute an accurate fault based task distribution.
threats to validity externalvalidity weselectedfivebciapplicationsforevaluating theapplicabilityofourproposedmethodologyforrepairingbcis post deployment.thecomprehensivenessandrepresentativeness ofthisselectionaffectsexternalvalidity butweaimedforadiverse set of applications by considering the different dimensions for classifying bcis section .
additionally our methodology assumesthat neural decoder model predictions can be mapped to a sufficientlylargenumberoftasksforfine grainedfaultlocalization.we argue that this assumption is satisfied in practice bcis such asneuroprostheses indeed perform a variety of tasks.
for example handposturecanbeclassifiedintomorethan40types andsince 1878repairing brain computer interfaces with fault based data acquisition icse may pittsburgh pa usa bcis are an emerging technology advances will likely results in an even greater number of supported postures.
construct validity our evaluation used existing labeled datasets to simulate real world bci usage.
these datasets were collected in a rigid and non naturalistic experiment settings.
for example in the eeg motor decoding application participants opened and closed their fists on cue but during real world usage these actions wouldbenaturalistic.asaresult ourefficacymeasuresofpartial oracles correctiveheuristics andslicefunctionscouldbespecific tothenon naturalisticsetting.arelatedconcernisthatourmeasures for fault occurrence and frequency may be specific to the experimental setting and are not accurate measures for faults that will occur during real world usage.
likewise faults that doappear in an experimental setting may not occur during real world usage.
however manyofthesefaultssuchastemporalinconsistencydo occurinotherml basedcontrolsystems .thus whilemostbci researchhasreportedonoverallmodelperformance asopposed to reporting on fault occurrences it is reasonable to expect that these faults do occur in bcis as well.
internalvalidity athreattointernalvalidityismodeloverfitting which could prevent our evaluation from properly isolating the effectofretrainingbasedonagiventaskdistribution.recallthatour evaluationusedexistingdatasetsandretrainedmodelsonsmall fixedsetsofnewlyacquireddata.thereisariskofoverfittingtotheinitialtrainingdataand ortothenewlyacquireddata whichcould worsen model performance.
this however would likely underestimatetheefficacyoffault baseddataacquisitionbecausereal world data acquisition would not be subject to the same restrictions.
related work there are three avenues of closely related work methods for improving the performance of bcis applications of software testingresearchtomachinelearningsystems and miscellaneous work combining bcis and software engineering.
optimizingbciperformance priorworkhassoughttoimprove thedatacollectionmethodologyforbcisthroughemergingtechnologies or novel sampling techniques.
for example virtual reality has been applied to more realistically simulate the surroundingenvironment of a bci user .
active class selection acs has also been previously explored as a means for more efficient dataacquisition for bcis.
a combination of entropy and the inverse ofclassaccuracyhasbeen appliedtomotorimageryforchoosing classes that are informative and in need of improved accuracy .
data acquisition through acs has been combined with transfer learning in an application to a bci .
by contrast instead of the general goal of increasing accuracy of neural decoding predictions ourstatedgoalistorepairspecificfaultsasreportedbyusers.addi tionallyinsteadofapplyingasophisticatedsamplingalgorithm we optforamoresoftware testing orientedandhuman in the loop approach with partial test oracles defined by domain experts.
software testing and ml systems the problems encountered whentestingbcisaresimilartothoseencounteredwhentesting other data driven ml systems.
for example prior work has shown that neural network accuracy can be improved through fault local ization by localizing errors to specific neurons in the network andthatfairnessandaccuracycanbeimprovedbylocalizingerrorstoinfluentialdatapoints .machinelearninghasalsobeen appliedtoimprovedebuggingtechniquesfortraditionalsoftware systems e.g.
.
software engineering and bcis other work has sought to apply software engineering to bcis.
application areas have included writing comprehension anddebuggingofcode .theapplication of software engineering research to bcis has been proposed with a particular emphasis on self adaptive systems reacting to inputs where those inputs are now neural signals .
conclusion this paper explores the application of software testing and debugging methods to the emerging field of brain computer interfaces bcis .
specifically it proposes a human in the loop methodology for testing and repairing bcis post deployment.
the evaluationbased on five bci applications shows that partial test oracles can indeed detect faultsin bcis corrective heuristics and slice functions can localize faults to specific data slices in both the input andoutputspaces and fault baseddataacquisitioncanreduce the fault frequency while maintaining model accuracy.
overall the results suggest that the proposed methodology is a promising step towards more accurate and safer bcis.