neural basedtestoraclegeneration a large scale evaluation and lessonslearned soneya bintahossain sh7hv virginia.edu university ofvirginia usaantoniofilieri afilieri amazon.com amazonwebservices usamatthewb.dwyer matthewbdwyer virginia.edu university ofvirginia usa sebastianelbaum selbaum virginia.edu university ofvirginia usawillem visser vissie amazon.com amazonwebservices usa abstract defining test oracles is crucial and central to test development but manualconstructionoforaclesisexpensive.whilerecentneuralbased automated test oracle generation techniques have shown promise their real world effectiveness remains a compelling questionrequiringfurtherexplorationandunderstanding.thispaper investigatestheeffectivenessoftoga arecentlydevelopedneuralbased method for automatic test oracle generation.
toga utilizes evosuite generatedtestinputsandgeneratesbothexceptionand assertionoracles.ina defects4j study togaoutperformedspecification search andneural basedtechniques detecting57bugs including unique bugs not detected by other methods.
to gain a deeper understanding of its applicability in real world settings we conductedaseriesofexternal extended andconceptualreplication studies oftoga.
in a large scale study involving real world java systems .5k test cases and 51k injected faults we evaluate toga s ability to improve fault detection effectiveness relative to the stateof the practice and the state of the art.
we find that toga misclassifies the type of oracleneeded ofthe time and that when it classifies correctly around of the time it is not confident enough to generate any assertion oracle.
when it does generate an assertion oracle more than of them are false positives and the true positive assertions only increase fault detection by .
relative to prior work.
these findings expose limitations of the state of the art neural based oracle generation technique provide valuable insights for improvement and offer lessons for evaluating future automatedoracle generation methods.
ccsconcepts softwareanditsengineering softwaretestinganddebugging computing methodologies neural networks .
partof theworkwas donewhileinterning at amazon web services esec fse december san francisco ca usa copyright heldby theowner author s .
acm isbn .
neural test oracle generation toga evosuite mutation testing acm reference format soneya binta hossain antonio filieri matthew b. dwyer sebastian elbaum and willem visser.
.
neural based test oracle generation a large scaleevaluationandlessonslearned.in proceedingsofthe31stacm jointeuropeansoftwareengineeringconferenceandsymposiumonthefoundations of software engineering esec fse december san francisco ca usa.
acm new york ny usa 13pages.
.
introduction testing is the standard method for validating that a program meets its requirements.
to test a program a test input is passed to the program and its output is judged by a test oracle that asserts a propertyoftheexpectedprogrambehavioronthegiveninput .
a test suite is comprised of a set of input oracle pairs called test cases.
the key value of a test suite lies in its ability to detect faults.
fault detection relies on the choice of good test inputs to ensure thatanyfaultystatementsareexecuted and foreachinput atest oraclethatcandetecterrorstatesintroducedbyfaultsandjudge themagainst necessary conditions for correctness .
a rich literature on test adequacy metrics exists to assess the fault exposure ability of test inputs and a growing literature existsontheimportanceof strong test oraclesfor faultdetection .
unfortunately manual development of high quality test suites is extremely costly time consuming and error prone .
consequently researchers have focused on methods for automating the generation of test cases.
they have been particularly successful in developing a range of cost effective methods for generating high quality test inputs .automaticallygeneratingeffectivetestoracleshas proven more challenging and many of these techniques have used eitherimplicitoracleswhichusechecksenforcedbytheruntime system such as null pointer dereference exceptions differential oracles which compare the output of two programs or program versions against eachother ormetamorphic whichcheckfor knownrelationsbetweenmutationoftheinputsandcorresponding changes ofthe outputs .
to unleash their full potential test generation techniques must go beyondimplicit differential and metamorphicoracles pairing test inputs with input value specific oracle assertions that capture intended program behavior.researchers haveexplored the useof thiswork islicensedunderacreativecommonsattribution4.0international license.
esec fse december3 san francisco ca usa soneyabintahossain antonio filieri ma t thewb.dwyer sebastian elbaum andwillem visser naturallanguageprocessing nlp andpatternmatchingtechniques togeneratetestoraclesbasedoncodecommentsandtextdocumentation .suchtechniquesareabletoinfer assertion oraclesthat check actual program output against expected output andexception oracles that capture intended exceptional behavior of theprogramundertest.morerecentlyneuraltechniqueshavebeen appliedtogeneratetestoraclesusingatransformer basedmodel that learns from the method under test and developer written test cases .followingonthiswork thetoga neuralbased test oracle generator was recently found to outperform prior work in detecting real faults.
we explain toga in detail in but briefly given a method under test a test prefixwhich is a code fragment that includes the test input and a sequence of operations to drive theprogram under test into a desired execution state and optional documentation strings toga predicts whether an exceptionoracleoranassertionoracleshouldbegenerated andinthe lattercase itgeneratesthepredicatewithintheassertionoracle.on astudyperformedonthe defects4j benchmark consistingof bugs from java applications toga was reported to outperformotherneural basedassertiongenerationtechniques by detecting bugs of which unique bugs not detected by any othercompeting techniques.
whiletheoriginalevaluationoftogawasfocusedmostlyon thedefects4j benchmark inthiswork wesettoevaluateitseffectiveness on larger benchmarks and with perspectives and methods that more closely resemble those of industrial practice.
to this end we conduct a series of three external replications of toga with the objectives of validating its original fault detection findings characterizingits precision i.e.
the frequency of generating correct oracles measuring the fault detection power of the generated correct oracles and broadening our understanding of its generalizabilityto awider setofprograms.
to distinguish our research questions rq from those in the toga paper we subscript