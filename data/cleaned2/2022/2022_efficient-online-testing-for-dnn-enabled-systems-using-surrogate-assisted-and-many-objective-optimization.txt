efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization fitash ul haq university of luxembourg luxembourg fitash.ulhaq uni.ludonghwan shin university of luxembourg luxembourg donghwan.shin uni.lulionel briand university of luxembourg luxembourg university of ottawa ottawa canada lionel.briand uni.lu abstract withtherecentadvancesofdeepneuralnetworks dnns inrealworld applications such as automated driving systems ads for self drivingcars ensuringthereliabilityandsafetyofsuchdnnenabledsystemsemergesasafundamentaltopicinsoftwaretesting.
oneoftheessential testingphasesofsuchdnn enabledsystems isonline testing where the system under test is embedded into a specificandoftensimulatedapplicationenvironment e.g.
adriving environment and tested in a closed loop mode in interaction with theenvironment.however despitetheimportanceofonlinetesting for detecting safetyviolations automaticallygenerating newand diversetestdatathatleadtosafetyviolationspresentsthefollowing challenges there can be many safety requirements to be considered atthe sametime running ahigh fidelity simulator is often very computationally intensive and the space of all possibletestdatathatmaytriggersafetyviolationsistoolargeto be exhaustively explored.
in this paper we address the challenges by proposing a novel approach called samota surrogate assisted many objective testing approach extending existing many objective search algorithms for test suite generation to efficiently utilize surrogate modelsthat mimic the simulator but are much less expensive to run.
empirical evaluation results on pylot an advanced ads composed of multiple dnns using carla a high fidelity driving simulator showthatsamotaissignificantlymoreeffectiveand efficientatdetectingunknownsafetyrequirementviolationsthan state of the art many objective test suite generation algorithms andrandomsearch.inother words samotaappearstobeakey enabler technology for online testing in practice.
ccs concepts software and its engineering empirical software validation search based software engineering.
keywords dnn testing online testing many objective search surrogateassisted optimization self driving cars this work is licensed under a creative commons attribution international .
license.
icse may pittsburgh pa usa copyright held by the owner author s .
acm isbn .
reference format fitashulhaq donghwanshin andlionelbriand.
.efficientonline testing for dnn enabled systems using surrogate assisted and manyobjective optimization.
in 44th international conference on software engineering icse may21 pittsburgh pa usa.
acm newyork ny usa pages.
introduction giventherecentachievementsofdeepneuralnetworks dnns inmanyapplications includingimageclassification andobject detection they areincreasingly usedinautonomous systems such as automated driving systems ads for self driving cars.
therefore ensuring the reliability of dnn enabled systems des insuchcontextsemergesasafundamentaltopicinsoftwaretesting.
as discussed by haq et al .
dnn testing has two distinct phases offline testing where dnns are tested as individual units based on test datasets obtained without involving the dnns under test andonlinetesting wherednnsareembeddedintoaspecificapplicationenvironment e.g.
adrivingenvironment oftensimulated given its safety critical nature and tested in a closed loop mode in interaction with the application environment.
in other words onlinetestingisapriorimorerealisticandconsidersthatpredictionsgeneratedbythednnswhenobservinganenvironmentstate attimetimpacttheenvironmentstatesafter t.forexample only online testing can observe the accumulation of minor prediction errors over time eventually causing a critical safety violation e.g.
colliding with a pedestrian .
however despite the importance of online testing for detecting safety violations automatically generating new and diversetestdatathatleadstosafetyviolationsentailsseveralchallenges.first there can be many safety requirements often independentfrom each other to be considered at the same time.
second running a high fidelity simulator to check safety violations is typically computationally intensive the higher the fidelity of a simulator the more time it takes to simulate which directly impacts the cost of online testing.
third the space of all possible test data that may trigger safety violations is too large to be exhaustively explored.
contributions.
to address the above challenges we propose a novelapproach calledsamota surrogate assistedmany objective testingapproach thatcombinestwodistincttechniques manyobjective search to effectively achieve many independent objectives i.e.
causingsafetyviolations withinalimitedtimebudget and surrogate assisted optimization to efficiently search for critical test data using surrogate models that mimic the simulator toacertainextent butarecomputationallymuchlessexpensive.in ieee acm 44th international conference on software engineering icse icse may pittsburgh pa usa fitash ul haq donghwan shin and lionel briand particular followingstate of the artsurrogate assistedoptimizationalgorithms samotausestwosearchphases global search withglobalsurrogatemodels that exploresthesearchspace bycapturingtheglobaloutlineofthefitnesslandscapeusingglobal surrogate models and local search with local surrogate models thatexploitsthe local details around promising areas found by the globalsearch.wealsoimprovethelocalsearchperformanceusinga novel clustering basedapproachthatgeneratesonelocalsurrogate model for test data belonging to the same promising area.
though samota can be applied to any des that should be verifiedwithonlinetesting weevaluatedtheefficiencyandeffectivenessoftheapproachinthecontextofads.specifically weuse carla a high fidelity driving simulator and pylot an advanced dnn enabled ads dads composed of multiple dnns capable of various tasks such as traffic light detection traffic sign detection object tracking and object classification.
more than computinghoursofexperimentalresultsshowthatsamotaissignificantly more effective and efficient at detecting unknown safety violationsthanstate of the artmany objectivetestsuitegeneration algorithms and random search within the same time budget.
the contributions of this paper are summarized as follows samota a novel approach to automatically and efficiently generate test data for online testing by carefully combining many objective search and surrogate assisted optimization anextensiveempirical evaluationofsamota in termsof efficiencyandeffectiveness anditscomparisonwithstateof the art alternatives and random search a publicly available replication package of the evaluation including the implementation of samota see section .
.
significance.
inmanycyber physicaldomains itisclearlyimportant to identify potential safety violations in a des through online testing involvingahigh fidelitysimulatorintheloop especially when there are complex interactions between the system and its environment.samotaprovidesanefficientandeffectiveonline testing approach using surrogate models while considering many safetyrequirementsatthesametime.itisapracticalenablerforthe online testing of complex des in realistic contexts.
our research is also an important step towards the scalable testing of des a very active research area in software testing.
paper structure.
the rest of the paper is organized as follows.
section2providesbackgroundinformationonsearch basedtestingandsurrogatemodels.section3formalizestheproblemoftestsuite generation for the online testing of des.
section positions our workwithrespecttorelatedwork.section5describesourapproach.
section evaluates our approach in the context of ads.
section concludes the paper.
background .
search based testing search based software testing sbst is arguably one of the most successful fields in software testing research.
the key idea is to recast a testing problem as an optimization problem by properly defining fitness functions considering the objectives of the testing problem.forexample panichellaetal .
recastedtheproblem of test suite generation for branch coverage as a many objectiveoptimization problem where the objectives are to cover individual branchesand thefitnessfunction foreachobjective estimatesthe likelihoodofcoveringabranch.toefficientlyachieveeachobjective individuallyasmuchaspossible panichellaetal .
introduced a many objectivesearch algorithm named mosa that is tailored for test suite generation.
later abdessalem et al .
presented analternativealgorithmformany objectivetestsuitegeneration namedfitest byextendingmosatodynamicallyreducethesize ofpopulationsduringthesearchandthusimprovesitsefficiency.
both mosa and fitest are carefully designed for the test suite generation problem by considering many objectives at the same timeandareknowntobeeffectiveinthisapplicationcontext .
.
surrogate models evolutionaryalgorithms eas havebeensuccessfullyappliedto manycomplexengineeringproblems .however thefitnessfunction evaluation of such complex problems often involves computationally expensive simulations or calculations .
to address this issue manyresearchershaveinvestigated surrogatemodels thatcan replacethecomputationallyexpensivefunctionevaluationswith muchlessexpensiveapproximations.amongthem webrieflyintro ducethemostwidelyusedsurrogatemodeltypes i.e.
kriging polynomial regression radial basis function networks and their ensemble .
.
.
kriging.
kriging alsoknownasgaussianprocessregression is one of the most widely used surrogate models since the 1970s.
similar to regression analysis it predicts the value of a function as a combination of linear functions using a stochastic process.
while it provides the error value for each prediction it is relatively more time consumingfor training than other surrogate models.
.
.
polynomial regression.
as a form of statistical regression analysis polynomialregressionmodelstherelationshipbetween theindependentvariable xandthedependentvariable yintheform ofnthdegreepolynomialin x.thoughitissimpleandintuitive the existenceof afewoutliers canseverely distorttheapproximation in nonlinear problems .
.
.
radial basis function network.
aradialbasisfunctionnetwork is an artificial neural network that consists of three layers input hidden and output layers.
radial basis functions are used as activationfunctions andtheoutputofthenetworkisaweighted sum of radial basis functions.
it is known to provide both computational efficiency and reasonable training accuracy .
.
.
ensemble.
though many surrogate models have been studied thereisnosinglesurrogatemodelthatconsistentlyperforms well for all problems .
to mitigate the issue the ensemble of different surrogate models can be considered.
specifically givenan ensemble model mcomposed of member models m1 ... mk the final output of mfor an input x denoted with ym x is the weightedsumofall kmemberoutputsas ym x summationtext.1k i 1wi ymi x where ymi x istheoutputof miforxandwiisaweightfor ymi x .
followinggoeletal .
wiisdefinedas wi summationtext.1k j 1ej ei k summationtext.1k i 1eiwhere eiis the training error of mi.
anotheradvantageofusingensemblemodelsisthatwecaneasilycomputethe uncertainty ofapredictionofanensemblemodel.
812efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization icse may pittsburgh pa usa specifically the uncertainty of ym x denoted with m x i sd e fined as m x maxi j ymi x ymj x fori j ... k andi j. in other words the uncertainty is calculated using the maximumdifferencebetweentheoutputsofthe kmembermodels.
problem definition inthissection weprovideageneralbutpreciseproblemdescription regarding test suite generation for des in the context of online testing.
we use dads dnn enabled ads as an example of des but the description can easily be generalized to all des.
inonlinetesting thedadsundertestareembeddedinto adrivingenvironment ofteninaloopwithasimulatorduetothehigh cost and risk associated with the real world testing of vehicles.
using a simulator also enables the generation of various driving scenariosusingthesimulator scontrollableattributes.inasimu lator the dads receives sensor data e.g.
an image capturing adriving scene generated by the simulator and produces controlcommands e.g.
steering angle throttle and brake to drive theego vehicle.
since the control commands actually drive the ego vehicle being simulated in online testing predictions generated by the dnns of the dads at time timpact the sensor data to be generated after t. therefore it is essential to run the simulator for a specific driving scenario and check if a safety violation occurs.
the goal of online test suite generation fordadsis to generate a minimalsetofdrivingscenariosthatcausethesystemundertest to violate as many safety requirements as possible.
morespecifically let sbeadrivingscenariothatdefinestheroad topology weather condition and the trajectory of other mobile ob jects e.g.
other vehicles and pedestrians in a virtual environment.
thedetaileddefinitionof s i.e.
thedefinitionoftestinputspace can vary depending on the configurable attributes of the simulator.
byembeddingadads dintoasimulatorandrunningitfor s at timet the simulator generates d s sensor data it such as an image capturingthedrivingscene status vs ttakenbythefront facing camera mounted on the ego vehicle s dashboard.
by taking it d producescontrols d it stt act brt wherestt act andbrtrepresent steering acceleration and braking commands respectively.
the simulator then updates vs t 1by taking into account d it .
for each vs t wecanverifyifasafetyrequirementisviolatedornot.for example regardingthesafetyrequirementoflane keeping i.e.
theegovehicleshouldbeinthecenterofthelane wecanmeasurethedistanceoftheegovehiclefromthecenterofthelanein v s t.ifthe distanceislargerthanacertainthreshold thesafetyrequirementis violated.ingeneral let rbeasetofsafetyrequirementsand r vs t be the degree of the violation for a safety requirement r rin vs t. we say that dviolatesrinsifr vs t rfor anytduring the simulation time of s where ris a threshold for r. though that may not be possible test suite generation attempts to generate aminimal set of test scenarios tsthat satisfies r vs t rfor all r rfor some test scenarios s ts.
testsuite generationfor dads inonline testingentails several challenges.
first the test input space is too large to be exhaus tively explored because there are many attributes having many optionsthatcan beselectedforgeneratinga certainscenario.for example roadtypehasmultipleoptions suchasstraight curved and cross junction.
second there are many safety requirements usually independent of each other.
for example complying with traffic lights is independent from keeping the center of a lane.
this furtherincreasesthecomplexityoftheproblem.third runninga simulatorforascenarioisoftentime consumingduetotheintensivecomputationsrequiredtodynamicallyupdatemobileobjects andrenderdrivingscenesin virtualworlds withhighfidelity for example inourcasestudy onescenarioexecutioninonlinetesting takes minutes.
fourth depending upon the accuracy of thesystemundertest itmaybeinfeasibletofindascenariocausing violationsforsomesafetyrequirements.consideringalimitedtime budget ifsuchinfeasibilityisobservedatruntime itisessentialtodynamicallyandefficientlydistributecomputationresourcestothe othersafetyrequirements.lastbutnotleast dnnsindadsare oftendevelopedbyathirdparty withexpertiseinml whodoes not provide access to internal information of the dnns.
therefore online testing should be conducted in a black box manner without relying on internal information.
toaddressthechallengesmentionedabove asdetailedinsection we suggest combining two distinct techniques many objectivesearchalgorithmstoeffectivelyachievemanyindependentobjectives i.e.
causingsafetyviolations withinalimitedtime budgetand surrogatemodelsthatmimicthesimulator tothe extentpossible whilebeingcomputationally muchlessexpensive.
furthermore since it is black box this approach is dnn agnostic e.g.
itdoesnotmakeanyassumptionsaboutthednnarchitecture.
related work .
online testing for dnn enabled systems in recent years online testing for dnn enabled systems des has attracted more attention especially in the context of ads.
gambi et al .
presented asfault a tool for automatically generating road networks based on a genetic algorithm to test if theegovehicleundertestkeepsthecenterofthelanewhiledriving inasimulatedenvironment.majumdaretal .
presentedparacosm a language and tool to systematically define and generate test scenarios for autonomous driving simulations.
they used a fuzzing basedtestinputgenerationstrategytoachievehighcombinatorial coverage for the attribute values that define the test input space.
tuncali et al .
presented sim atav a testing framework to generates test cases using covering arrays and requirements falsification methods for autonomous vehicle with machine learning components.
seymour et al .
presents an empirical study in whichtheygeneratedtestcases usingmetamorphicandequivalent partitioning techniques to test dads in black box settings.
riccio and tonella presented deepjanus a search based approach to generate similar input pairs which causes the dads under test with a focus on lane keeping to mispredict for one input and work finefortheotherinput.despitethissignificantbodyofwork no existing study focuses on performing efficient online testing for des with many objectives requirements using surrogate models.
one notable exception is the study of abdessalem et al .
as theyusedmlmodels i.e.
decisiontrees tobetterguidethesearch process towards promising areas for efficient online testing for vision based dads.
nevertheless their approach is inherently differentfrom ourssince theirmodelsare notsurrogate models that can replace the computationally expensive fitness evaluations with 813icse may pittsburgh pa usa fitash ul haq donghwan shin and lionel briand much less expensive approximations but classification models that help focus the search on the critical test input space.
furthermore they used the classification models outside the search algorithm i.e.
nsga ii to reduce the search space whereas we use surrogate models inside the searchalgorithm to calculate fitness scores withoutusingexpensivesimulators.infact theirapproachisbased on learnable evolutionary search whereas our approach is basedonsurrogate assistedoptimization .therefore thetwo approachesareorthogonal meaningthatonecaneasilycombine thetwoapproachestogether forexample onecanusesamota insteadofnsga iifortheapproachofabdessalemetal .
and iteratively reduce the search space using decision trees while reducing the execution time of fitness evaluations using surrogate models in the main search algorithm.
.
surrogate assisted optimization addressingcomputationallyexpensiveoptimizationproblemsusing surrogatemodels seesection2.2fordetails hasbeenwidelystudied in the field of surrogate assisted optimization .
among many studies zhou et al .
presented a pioneering idea of combining global and local surrogate models to accelerate evolutionary optimization.
specifically they used global surrogate models to filter some promising individuals and utilizedlocal surrogate models that represent the local fitness landscapein the vicinity of the individual to accelerate convergence.
theexperimental results on multimodal benchmark functions and a real worldaerodynamicshapedesignproblemshowedthattheideaof combining global and local searches yields significant savings in computational cost when compared to alternatives.
followingupontheideaofcombiningglobalandlocalsearches wang et al .
additionally used the prediction uncertainty of globalsurrogatemodelstoselectcandidatesforactualfitnessevaluations.
by providing the actual fitness scores of the most uncertain candidates itmaximizestheinformationgainofthesurrogatemodels making them more accurate faster.
recently liu et al .
alsoexperimentallyconfirmedthatusingthemostuncertaincandidates in addition to the best predicted candidates was a promising strategyforsolvingbenchmarkproblemswithupto30dimensions.
however no existing study addresses surrogate assisted optimization combining global and local surrogate models applied to the problem of test suite generation for des online testing.
surrogate assisted many objective search for test suite generation thissectionprovidesasolutiontotheproblemoftestsuitegenerationfordads describedinsection3 bycombiningmany objective search and surrogate models.
in the following subsections we first describehowmany objectivesearchcanbeusedfortheproblem of test suite generation for dads.
we then present our novel algorithm for surrogate assisted many objective search.
.1test suite generation using many objective search as describedin section2.
mosa andfitest havebeen introducedinthecontextofsoftwaretestingtomaximallycover individual test targets e.g.
branches .
therefore we can apply thealgorithmstoourproblembycarefullydefiningasetofcorresponding test targets objectives and fitness functions.
based on the problem definition in section we can define test objectives as violations of safety requirements.
specifically for a set of safety requirements r r1 ... rn and a dads d the objectives to be achieved by a many objective search algorithm areri vs t riforalli ... nwhereri vs t isthedegreeof violationofdforasafetyrequirement riinscenariosattimetand riis a violation threshold pre defined by domain experts for each requirement ri.inotherwords thesetofobjectivesisdefinedas o o1 ... on whereoiisri vs t rifori ... n. usingthesetofobjectives wecanapplymosaorfitestwhose pseudo code is presented in algorithm .
it takes as input a setof objectives o o1 ... on a population size ps and a set of thresholdse r1 ... rn it returns an archive i.e.
a test suite athat aims to maximally achieve individual objectives in o. algorithm many objective search for test suite generation input set of objectives o population size ps set of error threshold e output archivea 1archivea 2set of uncovered objectives u o 3set of test cases p initialpopulation ps 4whilenot stopping condition do 5set of test cases q generateoffspring p 6set of test cases w calculatefitnesssim p q 7a u updatearchive a w e o 8p generatenextgen w u 9returna the algorithm begins with initializing a a set of uncovered objectivesu andasetoftestcases i.e.
testscenariosinourcontext pofthesizeps lines1 .untilthestoppingcriterionismet e.g.
a predefined computational time budget is exhausted the algorithm repeatsthefollowing generatinganewsetoftestcases qusing genetic operators from pusingcrossover andmutation line generating another set of test cases wby merging pandqand calculatingtheirfitnessscoresbyexecutingasimulatorforevery candidates in w line updating aanduusingwandesuch thatuexcludes the objectives that are covered achieved by w foreandaincludesthetestcasesfrom a w whicharebestat achieving the covered objectives line and generating thenext generation pfromwconsidering uusingselection line .
the algorithm ends by returning a line .
the main differences between mosa and fitest are in the initialpopulation function line3 andthe generatenextgen function line8 mosainitializes pasasetofrandomlygeneratedtestcases and keeps p ps typicallypsis set to o whereas fitest uses an adaptive random generation technique to promote initial diversity and keeps reducing p as u decreases.
.
surrogate assisted many objective search algorithm1appearstobesuitableforsolvingtheproblemoftest suite generation for dads for online testing.
however iteratively 814efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization icse may pittsburgh pa usa evaluatingthefitnessscoresofcandidatetestscenariosusingsimulationsmaytakeaprohibitiveamountoftime preventingthegener ationofaneffectivetestsuitewithinareasonabletimebudget.toaddress this we present a novel algorithm called surrogate assisted many objective testsuite generationalgorithm samota that extends algorithm to effectively utilize surrogate models.
following state of the art surrogate assisted optimization algorithms samota usesthe ideaofiterating twosearch phases namely globalsearch and localsearch.
briefly speaking globalsearch withglobalsurrogatemodels first exploresthesearch space by capturing the global outline of the fitness landscape and then local search with local surrogate models exploitsthe promisingareasfoundbytheglobalsearch.onlythebestpredictedtest cases that are found through cooperation between global and local search are evaluated through expensive simulations whose results will be used to build more accurate surrogate models in the next iteration thus iteratively finding morepromising test cases.
this search process continues until the computational budget is exhausted.
since it is usually difficult to accurately approximate the whole search space relying on global surrogate models only such cooperation between global and local search is more effective at achieving the search objectives .
the details of global and local searches will be provided in .
.
and .
.
respectively.
inadditiontoapplyingthestate of the art surrogate assisted optimization algorithms to the important software engineering problemoftestsuitegeneration weaddressitslimitationsinour context.
we observed that these algorithms generate either too many local surrogate models that tend to degrade performance or only one local surrogate model that cannot accurately capture the local fitness landscape of individual promising areas.
to addressthe issues we introduce a novel clustering based approach that generatesonelocalsurrogatemodelperclustercomposedoftest cases thatbelong tothe same promisingarea.
before wemove on to the details we first provide an overview of samota below.
similar to algorithm samota whose pseudo code is shown inalgorithm2 takesasinputasetofobjectives o apopulationsize ps andasetoferrorthresholds e plusthemaximumnumbersof iterations for global search gmaxand local search lmax as stopping criteria for global and local search the percentage of test casesto be used for training local surrogate models the minimum numberoftestcasesinacluster cmforlocalsearch andadatabase dthat keeps all test cases already evaluated by the simulator if any samotathenreturnsanarchive aasinalgorithm1andthe databasedupdated during the execution.
the updated database can be used as input for future execution.
the algorithm begins with initializing a the set of uncovered objectivesu andthesetoftestcases pofsizeps lines1 .forthe initializationof pwhilepromotingdiversity anadaptiverandom generation technique is used.
the fitness scores of the test cases inpare then computed by executing a simulator line and updatesaanduusingpandesuchthatuexcludestheobjectives that are covered achieved by pwith respect to the given error thresholdseandaincludes the test cases from a p which are bestatachievingthecoveredobjectives line5 .thealgorithmalso updatesdtoincludepsincethesimulatorisexecutedforalltest casesinp line6 .untilthestoppingcriterionismet thealgorithm repeats the surrogate assisted global search lines and thealgorithm samota input set of objectives o population size ps set of error thresholds e max iteration for global search gmax max iteration for local search lmax percentage of test cases for local search minimum number of test cases in cluster cm databased output archivea updated database d 1archivea 2set of uncovered objectives u o 3set of test cases p initialpopulation ps 4p calculatefitnesssim p 5a u updatearchive a p e o 6d updatedatabase d p 7whilenot stopping condition do 8set of test cases tg gs d u p s gmax e 9set of test cases tg calculatefitnesssim tg 10a u updatearchive a tg e o 11d updatedatabase d tg 12set of test cases tl ls d u lmax cm 13set of test cases tl calculatefitnesssim tl 14a u updatearchive a tl e o 15d updatedatabase d tl 16returna d surrogate assisted local search lines .
for the global search the algorithm generates the set of test cases tgthat are expected tosatisfyuwithrespectto eusingalgorithm gs line8 detailed in .
.
calculates the fitness scores of the test cases in tgby executing the simulator to generate the set of test cases tgthat alsocontainstheiractualfitnessscores line9 andupdates a u anddusingtg as done for p lines .
for the local search the algorithm repeats the same procedures as for the global search except that it generates the set of test cases tl that are expected to better satisfy uthan tg with respect to eusing algorithm ls line detailed in .
.
.
the algorithm ends by returning a andd line .
note that tg and tl decrease as u decreases resultinginfurtherreducingthenumberofexpensiveexecutions of the simulator.
.
.
gs global search .
thisalgorithmaimstoexplorethesearch space using global surrogate models for uncovered objectives.
it basicallyusesthesamesearchframeworkasalgorithm1andreturns the besttest case for each uncovered objective in terms of the fitness score predicted by the global surrogate model trained usingallthetestcasesinthedatabase.recallthattheresultingtest caseswill beevaluatedusing thesimulator line9 inalgorithm2 to calculate their actual fitness scores and the database will beupdated to include the test cases with their actual fitness scores leading to more accurate surrogate models in the next iteration ofgs.
to further improve the accuracy gsadditionally finds and returnsthe mostuncertain testcaseforeachuncoveredobjective basedontheuncertaintyofthesurrogatemodelpredictions which 815icse may pittsburgh pa usa fitash ul haq donghwan shin and lionel briand canbemeasured forexample accordingtothemagnitudeofthe disagreementamongtheoutputsofthemembersofanensemble surrogate model as explained in section .
.
specifically the gsalgorithm algorithm3 takesasinputthe databased the set of uncovered objectives u the population size ps the maximum number of iterations gmax and the set of error thresholdse it returns a set of resulting test cases tgfound by global surrogate models trained using d. tgconsists of the most promising test case for each uncovered objective u uand the most uncertain test case for each u leading to tg u .
algorithm gs global search input databased set of uncovered objectives u population size ps max iteration gmax set of error thresholds e output set of test cases tg 1set of global surrogates mg trainglobals d u 2set of best test cases tb 3set of most uncertain test cases tn 4integer counter i 5set of test cases p initialpopulation ps 6whilei gmaxdo 7set of test cases q genoffspring p 8set of test cases w calcfitnessgs p q m g 9 tb tn u update tb tn w u e 10p generatenextgen w u 11i i 12return tb tn thealgorithmbeginswithtrainingthesetofglobalsurrogate modelsmg one per an uncovered objective in u using all the test casesind line1 .thealgorithmtheninitializesthesetofbesttest cases tb the set of most uncertain test cases tn the counter i and the set of test cases pof sizeps lines .
while i gmax the algorithm repeats the following steps generate the offspring q fromp line7 generatethesetoftestcases wbymergingpand qand predicting their fitness scores using mgwhile recording the uncertainty of individual predictions line update tb tn and usuchthat tbincludesthebesttestcasefrom tb wforeachu u tnincludesthemostuncertaintestcasefrom tn wforeachu u anduexcludestheobjectivescoveredby tb line9 generate the next generation pfromwforu line and increase iby line .
the algorithm ends by returning tg tb tn line .
note that each global surrogate model should be able to provide theuncertaintyofindividualpredictionsinadditiontopredicted fitnessscores.anensemblemodelalreadysatisfiestherequirement asthedisagreementamongtheoutputsoftheensemblemembers can be used to measure uncertainty see section .
for more de tails .
following the widely used surrogate models in the area of surrogate assisted optimization we combine kriging polynomialregression andradialbasisfunctionnetworkmodelsinto anensemblesurrogatemodelforglobalsearchtoaccuratelyprovidefitnessscorepredictionsandeasilycalculatetheuncertainty of individual predictions.
figure illustration of clustering based local surrogate model generation .
.
ls local search .
this algorithm aims to exploit promising areas found by the global search using local surrogate models.
for each promising area for each uncovered objective it finds and returns the best predicted test case based on a single objectivesearch.
since inexpensive surrogate models are used for fitness evaluations we can use population based optimization algorithms such as genetic algorithm rather than single state optimization algorithms to increase the search performance.
an important challenge is how to train a local surrogate model that accurately captures the local fitness landscape of a certain area.
anapproachproposedbyzhouetal .
buildsalocalsurrogate modelusingthe mnearestdatapointsinthedatabaseforeachof the top individuals in terms of their actual fitness scores in the database.
while each surrogate model can intuitively represent the local fitness landscape in the vicinity of a good individual the number of the surrogate models can be an issue especiallyconsideringthegrowthofthedatabase becausethelocalsearch shouldbeiteratedforeachindividualanduncoveredobjectiveto findthebesttestcase.anotherapproachproposedbywangetal .
builds one local surrogate model for all top individuals at once.
while this is clearly better than the former solution in termsofnumberofsurrogatemodels thetop individualscanbe toowidespread making thesurrogatemodelunable toaccurately capture the localfitness landscape.
to address the limitations of existing approaches in our context weintroduceaclustering basedapproachforlocalsurrogatemodel generation which combines the benefits of the two approaches described above by limiting the number of surrogate models while avoidingthecombinationoftopindividualsthataretoofaraway from each other.
our approach once again first selects the top individuals.butitthenclusterstheselectedindividualsbased ontheirvicinityinthefitnesslandscape.basedontheclustering results our approach builds one local surrogate model for each cluster.takingfigure1asasimpleuni dimensionalexamplewhere the dots denote all test cases in the database and the red circles indicate the clusters generated for thetop test cases.while the individualsarewidespreadinthefitnesslandscape alocalsurrogate modelisbuiltbasedonthetestcasesineachcluster toallowthe local search to exploit the best candidates located in a specific area.
for clustering test cases we use hierarchical density based spatial clustering of applications with noise hdbscan with an optional parameter specifying the minimum number of data points in each cluster.
one can select the minimum number if the minimum amount of training data is already known for a 816efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization icse may pittsburgh pa usa certain surrogate model type to be used otherwise the default value of provided by hdbscan can be used.
algorithm ls local search input databased set of uncovered objectives u max iteration lmax percentage for training surrogate models minimum number of test cases in cluster cm output set of test cases tl 1set of test cases tl 2foreachobjectiveu udo 3set of clusters c generateclusters d u c m 4foreachcluster set of test cases p cdo surrogate model mu trainlocal p test case tb null integer counter i whilei lmaxdo set of test cases q genoffspring p set of test cases w calcfitnessls p q m u tb updatebestpredicted tb w p generatenextgen w i i tl tl tb 15return tl algorithm4presentsthepseudo codeforlocalsearch including our clustering based local surrogate model generation.
it takes as input the database d the set of uncovered objectives u the maximumnumberofiterations lmax thepercentageoftestcasesin dtobeusedfortraininglocalsurrogatemodels andtheminimum numberof datapoints inacluster cm it returnsa setoftest cases tlthatareexpectedtobethebestatsatisfying uaccordingtolocal surrogate models.
note that tlmay contain multiple test cases for oneobjectiveiftherearemultiplepromisingareasforoneobjective.
algorithm begins with initializing a set of test cases tl line .
for each uncovered objective u u the algorithm finds the best test cases possibly many if there are many promising areas to be added into tl lines .
specifically the algorithm generates clusters withtheminimumnumberoftestcases cmineachcluster fromthetop testcasesin d1foru line3 trainsalocalsurrogate model for each cluster lines and finds the best predicted test case tbusing the local surrogate model lines .
the algorithm ends by returning tl line .
unlikegs lsdoes not use the uncertainty of surrogate models predictions.
therefore considering computationally efficiency we canuseanyofthenon ensemblemodelsdescribedinsection2.
.we will show how to find the best configurationfor ls including the surrogatemodeltype inourempiricalevaluation seesection6.
.
empirical evaluation thissectionreportstheempiricalevaluationofourapproachfor efficientdnntestingwhenappliedtoanopen sourcedads.specifically we investigate the following research questions 1ifthenumberofthetop testcasesin dislessthancm thenthetop cmtestcases indare used.rq1 what is the best configuration for ls?
rq2 howdoalternativeapproachesfareintermsoftesteffectiveness?
rq3 how do alternative approaches fare in terms of test efficiency?
rq1 aims to find the best configuration for lsbefore we investigatetheeffectivenessandefficiencyofsamota.asexplainedin .
.
weproposeanewclustering basedapproachforbetterlocal surrogate model generation in ls.
however compared to existing approaches we need to assess our clustering based approach in terms of the effectiveness of ls.
furthermore its impact may vary depending on the types of surrogate models e.g.
kriging polynomialregression andradialbasisfunctionnetwork .toanswer these questions we compare the combinations of surrogate model generation approachesand surrogatemodel typesin termsof the abilityof lstofindthemostcriticaltestinputsforagiventimebudget.
notice that we do not investigate the best configuration for gs since this has already been investigated in existing studies and we will therefore rely on reported results.
using the best configuration for lsresulting from answering rq1 rq2 and rq3 aim to investigate the effectiveness and ef ficiency of samota respectively in comparison to naive approaches that do not use surrogate models such as mosa fitest and random search with archive .
to answer rq2 we investigate howmanysafetyviolationsarefoundbytestsuitesgeneratedusingdifferentapproachesgivenatimebudget.toanswerrq3 we investigatehowquicklytargetsafetyviolationsarefoundbytest suitesgeneratedusingdifferentapproaches.theanswerswillshow howeffectiveandefficientsamotacanbebyadaptingtheidea of surrogate assisted optimization.
we conducted our evaluation on ubuntu .
running on intel i9 9900k cpu with rtx ti gb and gb memory.
.
case study subjects we use pylot a publicly available dads as our case study subject.toenablesimulation basedtesting wealsousecarla a high fidelity open source simulator for ads.
pylot is a dads for developing and testing autonomous vehicle components e.g.
perception prediction planning on the carla simulatorandreal worldvehicles .givenadrivingenvironment either simulated or real it drives the ego vehicle by controlling itsacceleration braking andsteeringaccordingtoinputdatadynamically collected though sensors e.g.
camera and lidar .
to achieve this it consists of multiple components providing various functions of an autonomous vehicle such as traffic light detection lane detection and object tracking.
for each component pylot provides the implementations of state of the art approaches based on pre trained dnns.
for example ssd single shot detector i s used for object detection while sort simple online and realtime tracking and deepsort enable obstacle tracking.
carla is an open source simulator based on the unreal engine designed to support training development and validation ofads.carlaprovideshand crafted high fidelityvirtualmaps having various static environments such as different road types e.g.
straights and curves different sizes of buildings different 817icse may pittsburgh pa usa fitash ul haq donghwan shin and lionel briand shapesoftrees anddifferentpositionsfortrafficlights.suchconfigurableattributescanbeusedtodefinethetestinputspaceofdads.
inourevaluation weconsiderasmanyconfigurableattributesas possible road type start end point on maps the presence of other vehiclesinfront same oppositelane othervehicletypes vehicle speed the densityofpedestrians thepresenceoftreesandbuildings time of day and weather condition.
to avoid invalid scenario generation e.g.
theroadtypeis straight whilethestart pointona map is at the start of a curve road we use additional pre defined constraintsontheattributevalues.moredetailsareprovidedinthe supporting materials .
consideringthecapabilityofcarlatocomputerelatedmetrics e.g.
thedistancebetweenvehicles weusethefollowingsix safety requirementsforpylot followthecenterofthelane avoid collisionwithothervehicles avoidcollisionwithpedestrians avoid collision with static objects e.g.
traffic signs abide by traffic rules e.g.
traffic lights and reach the destination within a given time.
more details about the requirements and their implementationsare provided in the supporting materials.
we selected the combination of pylot and carla as our case study subject since pylot is an advanced dnn based ads composed of multiple autonomous driving components pylot isdesigned to be easily usable in simulated environments createdby carla and both are publicly available.
while apollo 2is another dads one could rely on in our investigation we do not use it because of compatibility issues e.g.
not compatible with thelatest version of carla and incomplete implementations e.g.
its camera perception module is not available .
.
rq1 best configuration for local search .
.
setup.
to answer rq1 we generate a set of test cases by executing lsusing different configurations and measure the local search effectiveness lse of the test set.
since lsaims to return a set of test cases that are expected to be the best at satisfying the given search objectives i.e.
violating safety requirements by predicting the fitness scores of the test cases the lseof a test set can be measured by its actualfitness scores for all objectives.
specifically wemeasurethe lseofasetoftestcases taslse t summationtext.
o omax t tf t o o whereois a set of objectives and f t o is the normalized actualfitnessscoreofatestcase t tforanobjective o o. in other words we calculate the maximum actual fitness scoreachievedwhenrunningalltestcasesin tforeachobjective inoand average these scores across all objectives.
regarding the lsconfigurations we consider the combinations of surrogate model types and generation approaches.
surrogatemodel types include kriging kg polynomial regression pr and radial basis function network rf a st h e ya r e the most widely used in the literature .
for rf we set thenumberofneuronsinthehiddenlayerto10sinceitgavethe best accuracy at predicting the fitness scores of test cases in our preliminary evaluation.
similarly we set the degree of polynomial models for pr to based on our preliminary evaluation.
regarding surrogatemodelgeneration asalreadydiscussedin .
.
there arethreedifferentapproachesforasetofdatapoints i.e.
testcases with actual fitness scores build one surrogate model using all distribution of lsevalues for different ls configurations thedatapoints buildonesurrogatemodelforeachdatapoint anditsneighbors and buildonesurrogatemodelforeachcluster afterclustering the data points.
the first and second approaches i.e.
allandneighbors come from existing work while thethirdapproachisnewlyproposedinthispaper.however we decided to exclude the second approach because it generates toomany surrogate models to process as the number of data pointsprovided to lsincreases duringtheexecution ofsamota.
asa result we consider a total six configurations i.e.
the combination of3surrogatemodeltypesand2surrogatemodelgenerationap proaches .
for simplicity an lsconfiguration is denoted by xy wherex rf pr kg refers to the surrogate model type and y al cl refers to the surrogate model generation approach i.e.
allandclustering .
for example kgcldenotes the configuration thatuseskrigingandthe clustering approachformodelgeneration.
to runls we need to set its inputs the database d the set of target objectives u the maximum number of iterations lmax the percentage of data points in dto be used for training local surrogatemodels andtheminimumnumberofdatapointsina clustercm.togeneratediversetestscenariosin d weuse4 way combinatorial coverage for all the attributes used to define the test input space resulting in d .
we select lmax based on our preliminary evaluations since increasing lmaxabove no longer significantly increases the predicted fitness scores ofthe test cases generated by ls.
we select following the recommendationsofarecentpaper .forcm weusethedefault value of provided by hdbscan .
toaccountforrandomnessin ls werepeattheexperiment20 times.
we apply the non parametric mann whitney u test t o assess the statistical significance of differences in lseacrossls configurations.
since we statistically test five hypotheses for each lsconfiguration aswecomparethesix lsconfigurationspairwise we use a level of significance .
.
by applying the bonferroni correction to reduce the risk of type errors.
we also measurevargha and delaney s aab tocapture the effect sizeofthedifference whichcanbetypicallycharacterizedassmall medium and large when the aabvalue exceeds .
.
and .
respectively.
note that aab abaand aab aba .
means there is no statistical difference between the two compared configurations.
.
.
results.
figure shows the distribution of the lsevalues forthesix lsconfigurations.theorangebarandthegreentriangle in the middle of each box represent the median and the average 818efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization icse may pittsburgh pa usa table statistical comparison results forls configurations ab p value aabab p value aab rfclrfal0.
.78rfclkgcl0.
.
rfalpral0.
.70prclpral0.
.
prclrfal0.
.78kgalpral0.
.
rfalkgal0.
.54kgclpral0.
.
kgclrfal0.
.69prclkgal0.
.
rfclpral0.
.90prclkgcl0.
.
rfclprcl0.
.50kgclkgal0.
.
rfclkgal0.
.
respectively.
table additionally shows the results of statistical comparisonsbetweendifferent lsconfigurations.thecolumns a andbindicatethetwoconfigurationsbeingcompared.thecolumns p valueand aabindicate the statistical significance and effect size respectively when comparing aandbin terms of lse.
let us first compare the two surrogate model generation approaches i.e.
alandcl for the same surrogate model type.
in figure2 forallsurrogatemodeltypes the clapproachseemsbetter than the alapproach.
in table given a level of significance .
wecanseethatthedifferencebetween clandalforthe same surrogate model type is statistically significant in all cases.
furthermore the aabvalueisalwaysgreaterthan0.
meaning thatclis largely better than alin terms of lse.
in particular the differencebetween prclandpralisextreme p value .000and aab .
.thisisbecausethe alapproachyieldsoutliersbyconsidering all data points at once thus making the surrogate models especiallypr inaccurate whereasthe clapproachdoesnotthanks to clustering.
as a result for the same surrogate model type using theclapproachisclearlybetter showingthepracticalusefulness of our clustering approach in local surrogate model generation.
therankingofthesurrogatemodeltypes basedontheiraveragelsevalues over runs is rfcl prcl andkgcl respectively.
however with .
the differences between them are all insignificant meaning that it does not make a difference in terms of lse whether rfcl prcl orkgclisused.nevertheless theresults donotimplythatthereisnosignificantdifferenceamongrf pr andkgforallproblems.ifpossible inpractice itisbetterforengineerstodeterminethebestsurrogatemodeltypefor lsbefore runningsamota.whileitrequiresadataset dcontainingdiverse testcaseswithactualfitnessscores suchadatasetcouldbeavailableifthesystemundertestalreadywentthroughsystemtesting andthetestresultsregardingsafetyrequirementswererecorded.
otherwise one can opt for rfclas it is known to provide both computational efficiency and reasonable training accuracy .
in our evaluation we therefore use rfclfor the remaining rqs.
to conclude the answer to rq1 is that our clustering based approach cl for surrogate model generation is significantly better than the existing approach al in all cases but there is no practical difference overall between different surrogate model types.
in practice itisthereforebettertoexperimentallydeterminethebestlocal surrogatemodeltypeforagivensystemundertest whilerelying onclfor surrogate model generation.
otherwise rfclcan be the default option when this is not possible.table statistical comparison results for different search approaches ab p value aabab p value aab mo fi .
.
si mo .
.
fi rs .
.
se mo .
.
si fi .
.
si rs .
.
se fi .
.
se rs .
.
mo rs .
.
si se .
.
.
rq2 test effectiveness .
.
setup.
toanswerrq2 wegenerateatestsuiteusingsamota anditsalternatives e.g.
mosaandfitest forafixedtimebudget and measure the test effectiveness te of the test suite defined as the proportion of safety requirements that are violated when runningthetestsuiteoverthetotalnumberofsafetyrequirements.
teranges between and where higher values are desirable.
for samota if we have a database that keeps test cases and their actual fitness scores computed in previous testing sessions thedatabasecanbeprovidedasinput seealgorithm2 .though samota canstart without it providing a non emptydatabase as an initial input can boost the effectiveness of samota by improvingtheaccuracyofsurrogatemodelsearly.tobetterunderstand this we use two configurations i.e.
samota starting with an emptydatabase samota e andsamotastartingwithaninitial database samota i .
for the initial database we use way combinatorial coverage based on all the attributes used to define the test input space to generate diverse test cases as we did for rq1.
as alternatives to samota we use mosa and fitest astheyarethestate of the artmany objectivetestsuitegeneration algorithms.
we also use random search rs that randomly generatestest casesfor eachiteration asa baseline.similar tomosa and fitest we use an archive in rs so that it keeps the best at satisfyingindividualobjectivesinthearchiveuntilthesearchends the resulting archive is a test suite generated by rs.
rs will provideinsightintohoweasythesearchproblemisandwillhelpus evaluatetheimpactofusing advanced searchalgorithms suchas mosa fitest and samota on test effectiveness.
theinitialpopulationsizeofmosa fitest andsamotaisthe number of objectives.
to be consistent in terms of population size wesetthenumberofnewlygeneratedtestcasesateachiterationof rstobethenumberofobjectives.fortheotherparameters suchas mutation and crossover rates in mosa fitest and samota e i we adapt the default values used by fraser and arcuri .
to account for randomness in all approaches we repeat the experiment times.
for each run we use the same budget of two hours as we found that it was long enough to converge in our preliminaryevaluation.weapplythemann whitneyutest to assess the statistical significance of differences in teamong approaches.
since we statistically test four hypotheses for eachapproach as we compare rs mosa fiteset samota e andsamota i pairwise we use a level of significance .
.
by applying the bonferroni correction as we did for rq1.wealsomeasurevarghaanddelaney s aab tocapture the effect size of the difference.
819icse may pittsburgh pa usa fitash ul haq donghwan shin and lionel briand figure distribution of tevalues for different search approaches .
.
results.
figure3showsthedistributionof tevaluesachieved by rs mosa mo fitest fi samota e se and samota i si over20runs.again theorangebarandthegreentriangleinthe middle of each box represent the median and average respectively.
table2 whoseformatisthesameastable1 presentstheresultsof statisticalcomparisonsbetweendifferentapproaches.noticethat some safety requirements may never be violated and therefore absolutetevalues cannot be interpreted we use these values only for comparison purposes.
overall the results show that samota i is the best in terms of the average tevalue for runs.
with a level of significance .
thedifferencebetweensamota iandsamota eisinsignificant p value .
butthedifferencesbetweensamotai e and the others are all significant with large effect sizes.
this meansthat byleveragingsurrogatemodels samotacanbesignificantlymoreeffectivethanthestate of the arttestsuitegeneration approaches and random search in terms of revealing unknown safety violations within a reasonable time budget.
interestingly thedifferencesbetweenmosaandrsandbetween fitsetandrsareinsignificant p valuesare0.229and0.
respectively meaning that mosa and fitest are notsignificantly better than rs in terms of te.
a detailed analysis of the results shows that this is because the two hour time budget is not enough for mosa and fitest to evaluate and evolve candidate test cases many times on average across runs only around five generationswerecompletedduringeachrunofmosaandfitest.in contrast samota went through more than generations using global and local surrogate models within the same time budget and therefore yielded significantly higher tevalues than mosa andfitestasaresult.thisalsoconfirmsthatthesurrogatemodelsofsamotaaresufficientlyaccuratetoeffectivelyguidethesearch towards test cases that cause safety violations.
however we would expectthedifferencebetweensamotaandmosaorfitestto diminish with a much longer time budget allowing them to go throughmanymoregenerations.nevertheless suchascenariois unrealistic in practice as samota is likely to remain significantly more effective than its alternatives for practical time budgets.
anotherinterestingresultisthatthereisnostatisticaldifference betweensamota iandsamota e meaningthatprovidingan initial database in samota does not lead to a significant improvementindetectingsafetyviolations.thisimpliesthatsamotacan generate good enough test suites even without an initial database figure test efficiency for different search approaches animportancepracticalconsideration.inrq3 wewillfurthercompare samota i and samota e in terms of test efficiency i.e.
how fast safety violations are detected .
toconclude theanswertorq2isthat inourcontext samota is significantly more effective than other many objective search algorithmstailoredfortestsuitegeneration.furthermore samotacanachieveacceptabletesteffectivenesswithoutaninitialdatabase.
.
rq3 test efficiency .
.
setup.
to answer rq3 we use the same approaches and setupsasinrq2 i.e.
samota i e mosa fitest andrs .we generateatestsuiteusingeachapproachandmeasureits execution timetoachieve specific tevalues i.e.
... 6asthere are six safety requirements in total .
to account for randomness as we did in rq2 we repeat the experiment20times.noticethatwecannotcalculatetheaverage executiontimefor20runstoachieveaspecific tevaluebecause not all runs necessarily achieve such tevalue even for te .
therefore we compute how the average tevalues for runs vary over time from 20min to 120min in steps of 20min.
.
.
results.
figure shows the relationship between the executiontimeandtheaverage tevaluesfor20runsacrossallapproaches.
for example rs is always at the bottom meaning that on average rs achieves the lowest tevalues compared to the others over the same time period.
comparingsamota iandsamota e wecanseethatsamotai achieves higher tevalues than samota e for the first minon average butthisdifferencevanishesafter80min.thisisbecause thesurrogatemodelsofsamota earerelativelyinaccurateinthe beginning asnoinitialdatabasewasprovided buttheygetmore accurateovertimeasthedatabasegrows.suchgrowthalsoexplains whymosaachievesahigheraverage tevaluethansamota e after 20min and why this trend is reversed after 80min.
comparing samota i e and alternatives samota i is always at the top meaning that it is always faster than the alternativesto achieve the same level of test effectiveness.
this is the same forsamota e exceptforthefirst40 minwhereitisslowerthan mosa for the reason provided above.
to conclude the answer to rq3 is that samota is more efficientthanalternativetestsuitegenerationapproachesusingmany objectivesearchassoonasitssurrogatemodelsbecomesufficiently accurate.aninitialdatabasecanboosttheefficiencyofsamota 820efficient online testing for dnn enabled systems using surrogate assisted and many objective optimization icse may pittsburgh pa usa in the initial search phase and allow it to surpass other techniques right from the start.
.
threats to validity sinceweuseaspecificdes i.e.
pylot coupledwithasimulator i.e.
carla external validity is our main challenge here.
however pylotandcarlaarerespectivelyrepresentativeofadvanced dads and high fidelity driving simulators in terms of accuracy fidelity and performance .
furthermore no other realistic dads coupled with a high fidelity simulator is publicly available atthispoint whichisindeedanimpedimenttofurtherexperiments on this topic.
note that such experiments would likely be highly computationally intensive giventhatittookmorethan300computinghoursinourcase.nevertheless furtherexperimentswith different des and high fidelity simulators would be required to strengthen the generalizability of our results.
we want to remark that the applicability of samota is not limitedtoaspecificdessincenoneofthealgorithms assumes specificdesproperties.aslongastherearemanysafetyrequirements possibly independent from each other for a des under testandthefitnessevaluationforeachrequirementisexpensive samota would show promising results as compared to the other algorithms that do not use surrogate models.
.
data availability the replication package of our experiments including the implementation of search algorithms simulator and the details of the experimental setup is available on figshare .
conclusion in this paper we present samota a novel approach to effectively and efficiently generate test data for dnn enabled systems in the context of online testing.
in essence it provides a strategy to effectivelycombinesurrogate assistedoptimizationandmany objective search.
empirical evaluation results on an advanced dnn enabled ads with a high fidelity driving simulator show that samota is significantly more effective and efficient with a large effect size than the state of the art many objective test suite generation algorithms and random search.
aspartoffuturework weplantofurtherinvestigateandexplain the safety violations detected by our approach for example wecan derive association rules between the test scenario attribute values and the resulting safety violations using association rule mining algorithms .
we also plan to increase the number of case studies by using high fidelity simulators in the domain of autonomousdrones suchaspedra andairsim toincrease the generalizabilityof our results.