towards automated detection of unethical behavior in open source software projects hsu myat win southern university of science and technology china mail.sustech.edu.cnhaibo wang southern university of science and technology china wanghb2020 mail.sustech.edu.cnshin hwei tan concordia university canada shinhwei.tan concordia.ca abstract given the rapid growth of open source software oss projects ethical considerations are becoming more important.
past studies focused on specific ethical issues e.g.
gender bias and fairness in oss .
there is little to no study on the different types of unethical behavior in oss projects.
we present the first study of unethical behavior in oss projects from the stakeholders perspective.
our study of github issues provides a taxonomy of types of unethical behavior guided by six ethical principles e.g.
autonomy .
examples of new unethical behavior include soft forking copying a repository without forking and self promotion promoting a repository without self identifying as contributor to the repository .
we also identify types of software artifacts affected by the unethical behavior.
the diverse types of unethical behavior identified in our study call for attentions of developers and researchers when making contributions in github and point to future research on automated detection of unethical behavior in oss projects.
from our study we propose etor an approach that can automatically detect six types of unethical behavior by using ontological engineering and semantic web rule language swrl rules to model github attributes and software artifacts.
our evaluation on github issues github repositories shows that etor can automatically detect unethical behavior with .
average true positive rate up to true positive rate .
this shows the feasibility of automated detection of unethical behavior in oss projects.
ccs concepts social and professional topics codes of ethics software and its engineering software maintenance tools open source model .
keywords ethics in software engineering open source software projects corresponding author permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than the author s must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
esec fse december san francisco ca usa copyright held by the owner author s .
publication rights licensed to acm.
acm isbn .
.
.
.
reference format hsu myat win haibo wang and shin hwei tan.
.
towards automated detection of unethical behavior in open source software projects.
in proceedings of the 31st acm joint european software engineering conference and symposium on the foundations of software engineering esec fse december san francisco ca usa.
acm new york ny usa pages.
introduction with the increasing popularity of open source software oss development ethical considerations have become an important yet often neglected topic within the research community.
for example the incident where researchers investigated the feasibility of stealthily introducing vulnerabilities in oss by making hypocrite commits commits that deliberately introduce critical bugs into code has provoked active discussion among the linux community researchers and other oss developers .
the linux developers argued that making hypocrite commits is not ethical and wastes developers time in reviewing invalid patches .
more importantly this incident has revealed an attack on the basic premise of oss itself i.e.
the fact that anyone can contribute to the code and any oss project is susceptible to a similar incident .
indeed unethical behavior committed by oss contributors might lead to broken trust between the oss community and the contributor whereas unethical software development might lead to loss of funding reputation or other resources of the oss organization involved.
despite the importance of understanding the unethical issues by stakeholders individuals who participated or are interested in the oss project and can either affect or be affected by the oss project most studies on unethical behavior in oss projects mainly focus on the common types of unethical behavior such as gender bias fairness in the code review process and software licensing .there is little to no study that investigates the important question what kind of behavior is considered unethical by stakeholders in oss projects?
.
without understanding the definition of unethical behavior from the perspective of the stakeholders of oss projects incidents similar to the hypocrite commits experiments are bound to reoccur.
prior studies stress the importance of considering ethical issues in oss projects by using various examples and referring to ethical principles .
unfortunately a study revealed that instructing participants to consider the acm code of ethics does not affect their ethical decision making in software engineering tasks .
a similar argument has been made in ai ethics which calls for practical methods to translate principles into practice .
hence we argue that it is not enough to merely observe the occurrence of unethical behavior via several examples in oss projects it is muchesec fse december san francisco ca usa hsu myat win haibo wang and shin hwei tan more important to systematically study their characteristics and design practical tools that can automatically detect unethical behavior by presenting evidences using data in oss projects to stakeholders.
to bridge the gaps between general ethical principles and oss practices we present the first study of the types of unethical behavior in oss projects from stakeholders perspectives.
note that we conduct a cross domain study because it allows us to capture the dynamics of collaboration and community interactions which are essential considerations in ethical evaluations.
specifically our study aims to answer the research questions below rq1 how do stakeholders in oss projects define unethical behavior and what are the types of unethical behavior?
to understand the definition of unethical behavior from the perspective of the stakeholders of oss projects by referring to ethical principles we study the diverse types of unethical behavior their characteristics and the corresponding ethical principles that drive these unethical behavior in oss projects.
rq2 given the type of unethical behavior what are the oss project artifacts that are affected by the unethical behavior?
to guide our design of a tool that can automatically identify unethical behavior in oss projects we study the affected software artifacts i.e.
artifacts in which the stakeholders claimed to violate ethical principles for each type of unethical behavior.
our study leads to a taxonomy of types of unethical behavior in oss projects including s1 no attribution to the author in code s2 soft forking s3 plagiarism s4 license incompatibility s5 no license provided in public repository s6 uninformed license change s7 depending on proprietary software s8 self promotion s9 unmaintained project with paid service s10 vulnerable code api s11 naming confusion s12 closing issue pr without explanation s13 offensive language s14 no opt in or no option allowed and s15 privacy violation.
six of them have not been studied s2 s6 s8 s9 s11 s12 .
inspired by our study we propose ethic detec tor etor an automatic detection tool based on ontological engineering a description of entities and their properties relationships and behaviors and semantic web rule language swrl rules to model software artifacts.
in short we made the following contributions study.
to the best of our knowledge we conducted the first study of unethical behavior in oss projects from the stakeholders perspective.
our study of github issues prs from projects revealed types of unethical behavior with six new ones.
our study also revealed the diversity of the affected software artifacts.
our benchmark containing issues with various types of unethical behavior lays the foundation for future automated approaches for detecting unethical behavior.
technique.
we propose etor a novel ontology based tool that automatically detects unethical behavior in oss projects.
we model github attributes using ontologies and design swrl rules to check for unethical behavior in various artifacts.
evaluation.
our evaluation on github issues prs from repos shows that etor can automatically detect issues with .
true positive rate on average.
background and related work ethical principles.
prior work on ethical principles in oss projects mainly studied six aspects accountability attribution autonomy informed consent privacy and trust .accountability means that an individual is accountable for their actions.
attribution e.g.
copyright means giving credit to authors when the credit is due.
autonomy allows an individual to decide plan and act to achieve their goals.
in oss projects individuals inherently have autonomy because they can choose which tasks to perform but may gain or lose autonomy once they agree to participate.
informed consent is an agreement between the individual and the institution maintaining ethical values such as autonomy.
privacy is a right of a stakeholder on what information another stakeholder can obtain and communicate to others.
trust refers to expectations between people through goodwill.
web ontology language owl is a standard ontology language endorsed by the w3c to construct an owl knowledge model .
it is a semantic web language designed to model rich and complex knowledge about things groups of things and relations between things.
knowledge expressed in owl can be exploited by computer programs e.g.
to verify the consistency of that knowledge or to make implicit knowledge explicit.
thus we design our tool based on ontology engineering.
semantic web rule language swrl is a language that combines owl and rule markup language ruleml which can be used to express horn like rules and logic .
swrl rules are used to infer new knowledge regarding the individual instance by chains of properties.
we choose to model the unethical behavior in oss projects using swrl because its expressiveness is well suited for modeling unethical behavior that involves different github attributes and diverse types of software artifacts and it has been widely used to model concepts such as privacy for medical data and access control policy .
related work.
prior work studies focus on multiple aspects of ethical concerns for several domains.
ethical concerns in software engineering research.
several studies focus on ethical concerns for empirical studies in software engineering.
badampudi conducted a study about the reports of the ethical considerations in software engineering publications .
andrews et al.
illustrated some of the common approaches to encourage ethical behavior and their limits for demanding ethical behavior between researchers duty and their publishing as well as the companies and individuals integrity.
singer et al.
introduced their work as a practical guide to ethical research involving humans in software engineering.
our study is complementary to these studies as the types of unethical behavior discovered in our study point to potential violations of ethical principles that software engineering researchers should consider when assessing automated tools involving oss projects.
studies on ethical concerns in oss.
mikkonen et al.
highlight the persistence of protestant ethic values in free oss foss communities.
yet their emphasis is on foss motivation with less attention to reducing unethical behavior acts like license violations.
on the other hand some existing studies of oss projects focus on issues related to gender bias fairness of the code review process similar code in stack overflow and github and software licensing .
studies relating to gender bias in github aim to address the obstacles in improving gender diversity.
meanwhile a study of a large industrial open source ecosystem openstack shows that unfairness is startingtowards automated detection of unethical behavior in open source software projects esec fse december san francisco ca usa to be perceived as an issue in oss .
several studies investigated code clones between code snippets from stack overflow and projects on github and found a considerable number of non trivial clones .
although these studies also explored how github stakeholder s reference code was copied or adapted from stack overflow answers without giving proper credit to the authors who wrote the code they did not consider the scenario where the stakeholder of the code snippets used in github is the same as the owner of the code in stack overflow in this case credit is not needed .
several techniques have been proposed for the automated detection of license incompatibility .
while our study identifies license incompatibility as an unethical behavior it includes more diverse types of issues related to licensing e.g.
missing license and uninformed license change .
nevertheless all existing studies on ethical concerns in oss projects only focus on a few aspects of ethical principles and they did not conduct analysis of the diverse types of ethical violations in oss projects in github.
study of unethical behavior in oss to address the two research questions introduced in section we conducted a study of unethical behavior in oss projects.
figure gives an overview of our study.
stakeholders discussions rq1 unethical behaviour types github contents rq2 affected artifacts github contentsunethical behaviour taxonomy figure overview of our study on unethical behavior.
.
study methodology .
.
data collection.
we built a crawler that searches github issues using the keyword ethic concepts related to unethics and synonyms for un ethical i.e.
unprofessional unfair right proper and principle via the github api.
our crawler identifies issues prs of projects submitted by stakeholders.
due to github api s results restriction we used pygithub and github api to perform targeted searches using keywords along with issue creation year i.e.
results for each keyword year combination stayed below records since .
we then manually checked the results to exclude issues that do not have a clear description or are unrelated to ethical behavior e.g.
issues that mentioned ethic but only updated terms and conditions1 .
after manually filtering irrelevant issues we obtained issues.
.
.
deriving initial keywords based on ethical principles.
before analyzing the github issues we reviewed ethical principles from prior studies and identified six ethical principles guiding the action of stakeholders in oss projects including accountability attribution autonomy informed consent privacy and trust i.e.
we exclude welfare because it is related to fair wages which is generally not discussed in our studied issues .
we use these six underlying ethical principles and their corresponding ethical guidelines as guidance for merging relevant we first refer to the six principles and their corresponding guidelines.
for example keywords such as copy and plagiarism belong to the same ethical guideline to respect copyright for s1 no attribution to the author in code s2 soft forking and s3 plagiarism as they are all related to giving proper credits to the authors but we separate them into different types as they involve different degrees of copying copying entire repository in soft forking versus copying texts in plagiarism .
based on the ethical principles and guidelines we obtain the initial keywords e.g.
copy and plagiarism shown in table .
table ethical guidelines and keywords ethical guideline keywords to respect copyright copy plagiarism credit fork to help individuals make informed consent decisions easier via licensinglicense to avoid license violation proprietary closed source to respect expectations between people through goodwillpromote advertise promotion to be responsible for the project maintenance maintain support pay purchase to avoid fraudulent activities malware vulnerable hacking to be responsible for naming name to be responsible for explaining public actionsunfair to avoid offensive language offensive to allow individuals to choose which tasks to performopt in option to protect the right of an individual of personal informationprivacy .
.
data analysis.
after getting the initial keywords we manually analyzed the discussions using thematic analysis an approach for identifying patterns or themes within data.
specifically the first two authors of the paper perform five steps we carefully read and analyzed all discussions in the issue to understand what stakeholders discussed about and how they described unethical behavior we coded the key sentences and phrases in each issue by highlighting sections of text and coming up with shorthand labels or codes e.g.
licenses to describe their content.
we reread the related key sentences and their surrounding context discussions to generate initial codes.
new codes can be added when reading the discussions.
after reading the discussions we collate together the key phrases into groups identified by codes.
these codes allow us to have a condensed overview of the main points and common recurring phrases.
from initial codes we reviewed and aggregated codes with similar meanings into groups e.g.
importance of informed consent to derive themes.
themes are generally broader than codes.
with the initial set of themes in the prior step we reviewed all themes to merge similar themes e.g.
promoting informed consent through licensing and mitigating license violations we finalized the themes by providing clear definitions.
to reduce research bias steps to were conducted independently by the first two authors of the paper.
both authors are ph.d. students with more than two years of research experience and over years of coding experience.
the first author had taken a computer ethics course while the second author had experience in oss development.
after independent analysis the two authors meet to resolve conflicts and finalize themes in step .
specifically esec fse december san francisco ca usa hsu myat win haibo wang and shin hwei tan there are cases with divergent themes for types of unethical behavior.
subsequently our month study resulted in identifying types of unethical behavior with ethical guidelines.
attribution informed consent accountability autonomy privacy trust to respect copyright to allow individuals to choose which tasks to perform to help individuals make informed consent decisions easier via licensing to avoid license violation to protect the right of an individual of personal informationto be responsible for the project maintenance to avoid the fraudulent activities to be responsible for naming to be responsible for explaining public actions to avoid offensive languageto respect expectations between people through goodwill s1 no attribution to the author in code stakeholder fails to give credit properlyafter copyingcode s2 soft forking stakeholder does not give credit to the forked repoorhard fork after copyingrepo s3 plagiarism stakeholder copies many words or the entire productregardless ofgiving credit s4 license incompatibility repo includes source code or text file carrying different licensetypes s5 no license provided in public repository public repo does not have any license and stakeholders request for it to support transparency s6 uninformed license change license has changed without notice s7 depending on proprietary software oss project relies on closed sourcesoftware s9 unmaintained project with paid service repo is not maintained althoughit hasa paidservice s10 vulnerable code api stakeholder provides vulnerable code api s11 naming confusion developer provides the name which has a conflict of interest with other organization or individuals such as giving same package name already used in python command line interface s12 closing issue pr without explanation contributor does notprovidereasonableexplanation ofclosingissue pr s13 offensive language stakeholder uses offensivelanguage in thesoftware artifacts s14 no opt in or no option allowed product system does not provide user the option to choose from e.g.
withdrawing from usingtheproductwithoutnegative consequence s15 privacy violation software still collected data although users were specifically opt out via consent and or personal dataleaksregardless oftheoption opt in out providedornot s8 self promotion stakeholder promotes their service product or repo without mentioning they are contributors to this service figure taxonomy of unethical behavior in oss projects.
.
rq1 types of unethical behavior figure shows the types of unethical behavior in our study.
boxes on the left e.g.
attribution describes the ethical principle behind each type whereas the grey heading for the boxes on the right e.g.
to respect copyright includes the ethical guidelines and the contents present the related types of unethical behavior.
six of the types have not been previously studied i.e.
s2 s6 s8 s9 s11 s12 .table types and affected artifacts for unethical behavior typeissues affected software artifacts s1 source code configuration files api project script s2 projects s3 source code data ui project s4 legalese source code readme contributing.md configuration files image os website s5 legalese s6 99changelogs s7 apis s8 pr issue comments s9 release histories s10 source code apis s11 product names source code ui data script s12 pr issue comments pr issue code reviews s13 uis product names source code readme contributing.md website s14 uis software features source code configuration files s15 source code apis uis software features configuration files website total finding the types of unethical behavior in oss projects are diverse types identified in our study with six new ones we explain the ethical guidelines and the corresponding types of unethical behavior below to respect copyright.
there are three types of unethical behavior related to copyright described below s1 no attribution to the author in code.
this issue occurs when the stakeholders fail to give proper credit after copying code .
an example for s1is it is unethical not to credit or at the least point out that these features are inspired by... .
s2 soft forking.
this issue occurs if the copied item is a repository and the copied repository has not been forked.
although github encourages forking for social coding a copied repository should acknowledge the original repository by creating an official fork .
an example discussion for s2is unauthorised copy of... unethical ... you must delete this repo and fork from the original... .
s3 plagiarism.
plagiarism occurs if the stakeholders copy texts non source code or the entire product regardless of giving credit or not .
an example discussion for s3is interactive book should be free of plagiarism.
by replicating the content used by... unethical .
.
in this example the repository of an interactive book is unethical because the book uses copied texts from several websites.
to help individuals make informed consent decisions easier via licensing.
there are three types of unethical behavior related to licensing described below s4 license incompatibility.
it occurs if the repository includes source code or text files carrying different license types than the project s license because stakeholders must ensure license compatibility of the repository.
example for s4is to continue distributing when we know they have incompatible licenses is unethical .
.
s5 no license provided in public repository.
this issue occurs if the public repository does not have any license and the automated detection of unethical behavior in open source software projects esec fse december san francisco ca usa stakeholders request for it because licenses state the official permissions to use a repository and project owners should provide them if the oss is public for greater transparency.
an example comment fors5is the repository is public which implies an intent of being open source but no license is specified making review of the code an issue...people get...at the end of the day but they are funding this stuff instead of the... developers.
that s unethical but legal.
.
s6 uninformed license change.
due to transparency concerns oss developers should inform the stakeholders about the license change via changelog or pr prior to changing the license.
s6occurs if the contributors fail to do so.
an example for s6is normally license change are announced in some form of pr or announcement or discussion and none of that has taken place...i find this silent change unethical .
.
to avoid license violations .
stakeholders must obey the oss license agreement and avoid integrating prohibited licenses that cause violations in license dependency chains .
s7 depending on proprietary software.
this issue occurs if the oss project relies on closed source software because oss projects should be fully open sourced.
an example comment for s7is since ... is fully open source software i believe depending on closed source software is unethical .
to respect expectations between people through goodwill .
trust is an ethical principle that refers to respecting expectations between people through goodwill.
the following type of unethical behavior may lead to broken trust among stakeholders in oss projects s8 self promotion.
this issue occurs when the stakeholder advertises their repository by suggesting to incorporate it into another repository without mentioning that they are contributors or owners of the artifact .
this goal of the stakeholder is to attract attention to their less well known repository to increase its popularity.
an example comment for s8is i strongly advise against migrating to lib2...seeing him leverage his notability and following to promote and increase the adoption of lib2 ... which he just released a few days ago is unethical ...failing to disclose that you are promoting your own package here is a bad .
in this example an external not affiliated with the eslint repository user who is the owner of the lib2 library opens a pr in the eslint repository to suggest replacing the chalk library with lib2 to promote their own library.
to mitigate this issue a contributor of eslint later suggested the user to disclose the fact that they are promoting their own library.
to be responsible for the project maintenance.
project owners especially those who offer paid services should actively maintain their projects.
if the project owners would to discontinue their technical support they should inform the users before asking them to pay for the service.
s9 unmaintained project with paid service.
this issue occurs if the project repository is not actively maintained when it has a paid service.
it is unethical because the project owner is responsible for providing support to paid users who reported the bugs and fixing the bugs within a reasonable time.
an example for s9 i just bought the pro version and now i m having this same problem...definitely unethical .
.
in this example the user who has paid for the open source app reported the failure in using themes a functionality that is only available for paid users but the app is no longer maintained.
to avoid fraudulent activities.
as a code of conduct in oss stakeholders should be aware of malicious activities.
s10 vulnerable code api.
the issue occurs when stakeholders or a project is involved in malicious activities e.g.
contributing malicious code api or leaving an unfixed vulnerability in the code .
an example comment for s10is given that itext .
.
has...unfixed security vulnerability ...continuing to release it is unethical .
in my opinion itext .
.
should be replaced by openpdf.
.
in this example the user suggested replacing itext which has unfixed vulnerability with another library openpdf where the vulnerability has been fixed.
another example for s10is the hypocrite commits incident mentioned in section .
to be responsible for naming.
stakeholders are responsible for all software artifacts that they own including the selected names.
s11 naming confusion.
this issue occurs when it involves the stakeholders duty to give unique names for their artifacts e.g.
packages variables and libraries .
project owners should identify unique names before using the names.
an example for s11is there is already a package click for creating command line interfaces.
i am using coreapi package which ... import click package ... your library does not have a style component and python throws an error...this kind of behavior for a company... unethical .
in the above example a user complained that the developers of the click integration django library select the same package name as the click package causing an error when using the package due to naming conflicts.
to be responsible for explaining public actions.
owners of oss projects should explain each decision made for supporting users.
s12 closing issue pr without explanation.
this occurs when an issue pr has been closed without providing any explanation because all stakeholders are expected to receive reasonable explanations for informational fairness .
an example for s12is it s a bit unfair to just close something without explaining why?...i don t understand why this despite several closed issues all saying the same thing isn t being implemented .
to avoid offensive language.
stakeholders should encourage respectful environment in oss projects by avoiding offensive language because words with offensive language might represent unethical behavior .
prior study stated that hate speech offensive words might not be a criminal offense but can still be harmful .
s13 offensive language.
this occurs if the stakeholders or part of the project uses offensive language including but not limited to insults arrogance entitlement unprofessional and similar forms of offensive communication .
an example for s13 is rename the scroll of genocide to something else...it was never a good or ethical name...it is not merely systemic and deliberate mass murder...but state enacted systemic destruction neglect and december san francisco ca usa hsu myat win haibo wang and shin hwei tan suppression of entire schools of culture science literature truth of everything that makes us human .
in this example the stakeholder thinks that using the word genocide to name a scroll in the game is unethical because the word promotes intentional destruction of human beings.
to allow individuals to choose which tasks to perform.
based on the autonomy ethical principle stakeholders of oss should have the freedom to choose the tasks to perform.
s14 no opt in or no option allowed.
this occurs if the system does not provide options e.g.
withdrawing from using the product .
for example no option is available for uninstalling the third party library.
we focus on issues with no option or no opt in because they provide stronger protections than opt out .
an example comment for s14is there should be an option if someone wants to completely remove ... from the system...i think it s unethical to not provide an easy way for a program to be uninstalled .
to protect the right of an individual of personal information .
the privacy of stakeholders of oss should be protected.
s15 privacy violation.
this occurs in oss projects under two common scenarios if the software still collects data despite opting out via consent and if there exist personal data leaks regardless of the options opt in out .
example for s15is form submitted even if opt in checkbox is unchecked...signing people up when they haven t opted in is a major enough bug that it renders the plugin useless or at least unethical .
table presents the number of issues we found for each type of unethical behavior.
the type and issues columns represent the types of unethical behavior and the number of issues we found in github respectively.
overall our study identifies types of unethical behavior where the most common types of unethical behavior are related to copyright s1 s2 and s3 and licensing s4 s5 s6 and s7 .
as our study shows that illegal copying of code s1 or copying the entire repository s2 or copying texts s3 are common in oss projects we hope to raise awareness to stakeholders of oss projects that such behavior is considered unethical.
finding the most common types of unethical behavior in oss are issues related to copyright and licensing .
.
rq2 affected software artifacts .
.
identifying software artifacts.
we define affected software artifacts as objects in software repositories that violate ethical principles.
to derive the set of affected software artifacts we started with the categories from the taxonomy of prior study .
then we categorized the artifacts we found in our study based on the categories.
after removing categories with no artifact found we obtained eight categories source code script configuration database data image prose legalese and other.
for the prose category i.e.
plain text files we only found two concrete types i.e.
readme contributing.md and changelog so we separated them into two categories.
as the category other in prior study is too broad we split it into new categories based on aforementioned steps in thematic analysis external application programming interface api user ui project release history software feature product name operating system os website pr issue code review pr issue comment.
we derive pr issue code review and pr issue comment based on prior work .
our newly introduced categories aim to preserve the hierarchy of artifacts project software feature source code .
for cases .
both authors meet to discuss the issues labeled with different categories to resolve any disagreement.
finally we obtained affected software artifacts project software feature source code external api legalese product name release history ui configuration file pr issue code review pr issue comment readme contributing.md changelog data image os website and script i.e.
source code in languages executed by an interpreter .
as several artifacts are more difficult to understand we clarify below project the affected artifacts involve more than one type of artifact within the entire repository.
software feature functional or non functional system requirements .
an example is the ability to unsubscribe a service.
source code source files excluding scripts binary code and build code that belong to the current repository internal .
external api api from third party external library or service.
legalese licenses copyright notes or patents.
product name the product project or app name.
finding the unethical behavior in oss projects affects many different types of software artifacts our study found types .
the third column in table presents the affected artifacts for each unethical behavior.
each number in the column denotes the number of github issues with a certain type of artifact e.g.
projects means that there are issues where s2is affected by projects .
theoretically one issue might discuss multiple artifacts but we found that each issue only discusses one artifact because developers prefer discussing ethical concerns for one type of artifact in one issue and some categories are hierarchical e.g.
project includes multiple types of artifacts .
overall table shows that source code is still the most common type of artifact for unethical behavior i.e.
it affects eight types of unethical behavior .
finding source code is the most common type of affected artifacts affects eight types of unethical behavior .
tool design our study reveals the existence of diverse types of unethical behavior in oss projects and they usually involve diverse software artifacts.
the diversity and the complexity of the rules governing the ethics related activities in github motivate the need for a modeling approach that can abstract this complexity and facilitate its automatic detection.
in section .
we describe how we model unethical behavior using swrl rules.
in section .
we explain the architecture of etor that uses swrl rules for automatic detection.
.
modeling via swrl rules we propose using swrl rules to represent unethical behavior in an oss project together with the publicly available data in github.
swrl rules allow us to model affected software artifactstowards automated detection of unethical behavior in open source software projects esec fse december san francisco ca usa table github attributes and types for auto detection attribute type description ghrepository main class licensefile ghcontent repo s license file readmefile ghcontent readme file filecount int of files in repo filecontent ghcontent file s content commitcountbypath int of commits for specific file path commitbypath ghcommit commit for file path fork ghrepository fork of a repo forkcount int of forks of repo contributor ghuser stakeholder taking part in github repo pullrequestcountbycommit int of prs which contain specific commit latestrelease ghrelease the last release in github history ghuser a github user identified by username user string github username ghissue a github issue that describes a bug or a feature.
issuemessagebody string description of issue issueowner ghuser stakeholder who reports an issue ghcommit the code changes in a commit.
commitcodechange string code change in commit ghcontent the content including source code of a file and its location file path .
contentcount int of contents stored in file s content content string content path string file path pathcount int of file paths ghrelease a latest release is represented by the published date of the release publisheddate date date of release in github history as hierarchies of classes and properties capturing the relationships between affected software artifacts and stakeholders.
table shows github attributes used in our modeling.
the columns under attribute and type explain each attribute and its type.
we model each oss project as ghrepository .
by referring to the github repositories api we selected data properties e.g.
latestrelease andlicensefile that belong to a ghrepository by excluding properties that are irrelevant for unethical behavior e.g.
avatar url that points to the icon for a repository .
apart from ghrepository we introduce six classes to model data properties of a repository ghuser ghcommit ghcontent ghissue ghpullrequest ghrelease .
while github users ghuser usually play different roles in oss projects we only model contributors users who are official contributors of a repository and issue owners users who report an issue .
for modeling ghissue we reuse the same convention in github by modeling a pr ghpullrequest as a subclass of ghissue i.e.
github issue search api will search for issues and prs essentially treating a pr as a type of github issue .
figure shows the owl ontology for our model where ghrepository is the main class and the arrows denote the relationships between the classes.
specifically ghissue ghpullrequest represents the subclass relations whereas other arrows denote hasa relations e.g.
ghissue ghuser means that each issue has a user who reports the issue .
.
automatic detection of unethical behavior we designed etor to auto detect six types.
we excluded nine types because they involve artifacts e.g.
product names software features that are difficult to automatically isolate from other artifacts i.e.
no opt in or no option allowed privacy violation naming confusion and offensive language they require sophisticated analysis of configuration files api or source code i.e.
plagiarism depending on proprietary software and vulnerable code api their detection requires advanced natural language processing i.e.
closing issue pr without explanation as it requires automatically checking if the explanation for closing the pr issue exists and approaches for license incompatibility exist so we exclude it not to duplicate effort.
figure our ontology of unethical behavior in oss projects figure overall architecture of etor gh denotes github .
table swrl rules ghissue ?i isissuemessagebody ?i ?b swrlb contains ?b isweblink ?b ?w isissueowner ?i ?u1 openstream ?w ?s swrlb booleannot contains ?s ?u1 isfilecount ?r ?fc swrlb greaterthan ?fc isfilecontent ?r ?ffct iscontentcount ?ffct ?ffctc swrlb greaterthan ?ffctc iscontent ?ffct ?ffcc issimilarcode ?ffcc ?s swrlb booleannot contains ?ffcc ?w s1 ?i ghrepository ?r1 ghrepository ?r2 swrlb issimilarcode ?r1 ?r2 isforkcount ?r1 ?fc swrlb greaterthan ?fc isfork ?r2 null s2 ?r2 ghrepository ?r isfilecount ?r ?fc swrlb greaterthan ?fc islicensefile ?r null isreadmefile ?r ?rmf iscontentcount ?rmf ?rmcc swrlb greaterthan ?rmcc iscontent ?rmf ?c swrlb booleannot contains ?c s5 ?r ghrepository ?r isfilecount ?r ?fc swrlb greaterthan ?fc islicensefile ?r ?lf iscontentcount ?lf ?fctc swrlb greaterthan ?fctc iscontent ?lf ?c ispathcount ?lf ?pc swrlb greaterthan ?pc ispath ?lf ?p iscommitcountbypath ?r ?ctp swrlb greaterthan ?ctp iscommitbypath ?r ?cl iscommitcodechange ?cl ?cc swrlb contains ?cc swrlb booleannot contains changelog ?cc ispullrequestcountbycommit ?r ?prc swrlb lessthan ?prc s6 ?r ghissue ?i isissuemessagebody ?i ?b swrlb contains ?b isweblink ?b ?r2 swrlb notequal ?r1 ?r2 isissueowner ?i ?u swrlb booleannot iscontributor ?r1 ?u swrlb booleannot contains ?b iscontributor ?r2 ?u s8 ?i ghrepository ?r islatestrelease ?r ?lr ispublisheddate ?lr ?d durationgreaterthan .
?d years isfork ?r null isfilecount ?r ?fc swrlb greaterthan ?fc isreadmefile ?r ?rm iscontentcount ?rm ?rmcc swrlb greaterthan ?rmcc iscontent ?rm ?c swrlb contains ?c isweblink ?c ?l openstream ?l ?s swrlb contains ?s in app purchase s9 ?r overview of etor .figure presents the overall architecture of our automatic detection tool etor.
etor supports detection of unethical behavior for two levels including repository denoted as repo esec fse december san francisco ca usa hsu myat win haibo wang and shin hwei tan and github issue pull request we denote an issue as issue and a pull request as pr .
given a repo or an issue pr and the type of unethical behavior etype to be checked the etor relies on its set of swrl rules for its detection and produces as output whether there is a violation of etype in the given input.
apart from github attributes in table that can be detected using the github api our swrl rule reasoner uses two additional components for its detection license detector that checks for licenses at the repository level and code similarity checker that identifies similar code.
supported types .etor supports six types of unethical behavior.
we describe the swrl rules for all supported types in table .
we next describe how etor checks each supported type.
s1 no attribution to the author in code .
etor checks if an issue or a pr has a stack overflow link representing a reference code and the code snippet copied from stack overflow cites the reference link.
although there can be many resources from which stakeholders copy the reference code etor only check for stack overflow links because we learned from our study and from existing work that contributors are required to give credit to copied code snippets in stack overflows as they are protected by the cc by sa creative commons license and to support other online resources e.g.
github links we need to automatically extract the original reference code requires parsing web pages of different formats and identify the appropriate license for the code snippet requires detecting the license for partial code which is beyond the scope of this paper .
given an issue pr etor checks if a comment bin the issue prposted by a stakeholder u1contains the stack overflow link w we use regular expression to extract w .
etor reports a potential violation if u1is not the owner of the stack overflow comment the code snippets from stack overflow are found in one of the files in the repository f with at least similarity copyright law permits the use of up to of work without permission and wis not found in f. s2 soft forking .
given two repositories r1andr2 etor compares the contents of all source files in the two repositories to check if one repository is a soft fork the repository has the same content but it is not listed as an official fork of another repository of another repository.
specifically we use ac2 to detect the similarities between files.
ac2 is a source code plagiarism detection tool that has been widely used by graders to detect plagiarism within a group of assignments.
we select ac2 because it supports many programming languages e.g.
c c java and php it can be run in a local environment without connection to remote servers and it is quite robust as it incorporates multiple algorithms found in the literature.
etor reports a violation if it detects similarity between r1andr2 and r2is not in the fork list of r1.
s5 no license provided in public repository.
given a repository r etor detects the repo level license by checking if it exists in the license file in the main directory of r we check only in the main directory to avoid mistakenly finding api license or package license or readme.md file with license information we use the list of licenses provided by github for repo level license detection .
etor reports a potential violation if no license is found after searching for the two files.
s6 uninformed license change .
we consider a change to be uninformed if it is not announced in the changelog.md or the license change is not done via pr.
given a repository r etor checksif the repo level license has been changed by extracting commit lists of the license file and checking if commit changes include license updates.
if the license changes occur in more than one commit we ignore the first commit as it is the initial license creation etor checks whether the changes have been announced in the changelog.md by checking whether the changelog.md mentions license information.
if license information is not found etor checks the pr count for the commit pullrequestcountbycommit .
if the count is less than one etor marks it as a potential violation.
s8 self promotion .
we consider self promotion to be the scenario where a contributor uopens a github issue pr where the content of the issue pr includes links to another repository in github to promote their own repository.
given an issue prforr1as input etor first checks that the issue princludes a link lto another repository r2 and identifies the stakeholder uwho opens the issue pr.
then it reports a violation if r1is not r2 uis not a contributor of r1 i.e.
uis an outsider for r1 and uis a contributor of r2.
to reduce false positives etor also checks if lincludes specific keywords that usually indicate that the contributor is sharing the link lfor demonstration purposes e.g.
instead of promoting a repository library issues pull commit tree releases blob and runs .
s9 unmaintained android project with paid service .
this type checks whether an android project offered paid service in google play but stopped actively maintaining the github repository.
on average apis are updated per month and of app updates have at least one update within days .
based on this frequency of app updates we define an unmaintained android project to be an android project where the latest update is released less than .
year.
given a repository ras input etor first checks for unmaintained android projects by examining whether the latest release date d ofris less than .
year and ris an original repository not forked from other repositories .
then it checks whether the app offers a paid service by identifying the google play link lfrom r and searching for the in app purchase .
evaluation we applied etor on github issues and prs of github repositories to address the following research questions rq3 how many unethical issues can etor detect in oss projects?
rq4 what are the accuracy and efficiency of etor in its detection?
by counting the number of unethical issues in oss projects rq3 provides a rough estimation of the prevalence of each type of unethical behavior in oss projects.
for rq4 we measure the accuracy and efficiency of etor using the following metrics true positive tp etor classifies an unethical behavior as a potential violation and it is a true violation.
false positive fp etor incorrectly classifies an unethical behavior as a potential violation and it is a false violation.
time the average time taken in seconds to detect a type of unethical behavior across all the evaluated repositories issues.
selection of projects issues.
as there is no prior benchmark for evaluating the detection of unethical behavior we construct a dataset by crawling github.
our goal is to select the most recent popular most stars and most forks oss projects and the github issues prs from oss projects for evaluation.
we first obtain the listtowards automated detection of unethical behavior in open source software projects esec fse december san francisco ca usa table number of issues detected and tp fp rate type unethical issues true positive false positivetime s repos or issues total repos or issues total repos or issues total s1 no attribution to the author in code issues issues issues .
s2 soft forking repos repos repos .
s5 no license provided in public repository repos repos repos .
s6 uninformed license change repos repos repos .
s8 self promotion issues issues issues .
s9 unmaintained android project with paid service repos repos repos .
average .
.
of the top oss projects we first get the top projects with the greatest number of stars and then the top projects with the greatest number of forks created last year .
after eliminating duplicated projects there are github issues prs of projects in our evaluation set.
as soft forking requires two repositories as input we obtain the pair of repositories repo repo by getting repo 1from the top projects first from most stars subsequent from most forks from the initial list of projects.
from these projects our crawler automatically identifies repo 2by searching github for projects with similar names using the name of repo 1as the query.
at this step our crawler found only out of the projects that have repositories with similar names.
for each of these projects our crawler retrieves the first repositories from the search results as repo leading to a total of projects for evaluating soft forking.
example .
we are researchers conducting research on mining software repositories.
may we know the license for the repo?
github also encourages us to have a license for public repos under licensing a repository github docs .
we would like to highlight this as a transparency concern.
ethical considerations.
before getting feedback from stakeholders we obtained irb approval from our institution to maintain the ethical integrity of research.
moreover calling out stakeholders for violations of unethical behavior could potentially lead to similar ethical concerns in prior work .
therefore we choose to evaluate etor by manually inspecting the reported issues and reporting only the types of unethical behavior with high accuracy based on our manual analysis .
additionally to avoid violating ethical principles as in the hypocrite commits incident as shown in example we explicitly mentioned in each reported issue that we are researchers conducting research on mining software repositories.
furthermore to reduce author bias in manual tp fp classification a non author labels each issue independently.
all experiments are conducted on a machine with intel r core tm i7 cpu .
ghz and gb ram.
implementation.
we use prot g .
.
for the ontology model.
our crawler uses pygithub and github api for querying github.
.
rq3 number of detected issues table summarizes the results of our evaluation.
the type column denotes the types of unethical behavior detected by etor whereas the second column is of the form x ywhere xrepresents the number of repositories issues with the unethical behavior detectedandydenotes the total number of repositories issues in our evaluation dataset.
overall etor has successfully detected at least one violation for all types of unethical behavior that we studied.
as our evaluation dataset is different from the study dataset and we have observed the occurrences of unethical behavior in both datasets this indicates that different types of unethical behavior are prevalent in oss projects .
table also shows that no license provided in public repository is the most common type among the six types of detected issues.
this means that a relatively high percentage of the evaluated repositories are missing license files around of the evaluated repositories if we exclude the false positives .
for the issue level detection we observe that no attribution to the author in code and self promotion are the most common ones among all evaluated issues prs.
this indicates that contributors of oss projects tend to forget to give credit to the author in their copied code snippets or promote their own repositories without mentioning they are contributors to the repositories .
.
rq4 accuracy and efficiency of etor accuracy.
to evaluate the effectiveness of etor two raters one author and one non author who is an undergraduate cs student working as a part time student assistant independently inspect its output.
specifically for each violation reported by etor each rater determines if the violation is a true positive tp or a false positive fp .
the initial cohen s kappa was .
which indicates a high level of agreement.
the two raters then meet to resolve any disagreement to reach cohen s kappa of .
.
the true positive and false positive columns in table show the results for the inspection.
on average the tp rate is .
and the fp rate is .
.
for repository level detection although etor can only detect a small number of violations for soft forking it can detect these unethical issues with high accuracy fp rate .
as we consider a repository a soft fork only if all the contents of the two repositories are the same similarity this design decision may lead to fewer violations being found but increase the accuracy of its detection.
in future it is worthwhile to study the effect of the similarity threshold on the accuracy of its detection.
for issue level detection etor can detect s1 with reasonable accuracy fp rate .
efficiency.
the time column in table shows the average time taken to detect an unethical behavior.
overall the average time to analyze a repository is .
.
seconds and the average time taken to analyze an issue is .
.
seconds.
this indicates that etor can detect a type of unethical behavior relatively fast .
we also observe that soft forking is the most time consuming type toesec fse december san francisco ca usa hsu myat win haibo wang and shin hwei tan detect because etor needs to check for code similarities for all source files within the repository.
reasons behind inaccurate detection.
we review etor s reported fps manually.
etor reports the highest fp rate for selfpromotion .
recall that etor checks that a stakeholder stopens an issue pr iat repository r1 and includes the other repository r2 link l .
a true self promotion only occurs if stdid not mention about being a contributor of r2.
we need to manually verify this condition by reading the comments written in natural language.
hence fps may occur if stmentioned that they are contributors ofr2 e.g.
i am working on a project called the ... in comment or stwanted to ask for suggestion in using r1forr2 e.g.
i d like to try your ... module in a non mmdetection repo .
in no attribution to the author in code three reasons exist no actual copying occurs but a link exists e.g.
the stack overflow link was mentioned as