Efficient Incident Identification from Multi-dimensional Issue
Reports via Meta-heuristic Search
Jiazhen Gu∗†
School of Computer Science
Fudan University
Shanghai, ChinaChuan Luo∗
Microsoft Research
Beijing, ChinaSi Qin
Bo Qiao
Microsoft Research
Beijing, China
Qingwei Lin‡
Microsoft Research
Beijing, ChinaHongyu Zhang
The University of Newcastle
NSW, AustraliaZe Li
Yingnong Dang
Microsoft Azure
Redmond, USA
Shaowei Cai
Institute of Software
Chinese Academy of Sciences
Beijing, ChinaWei Wu
University of Technology Sydney
Sydney, AustraliaYangfan Zhou
School of Computer Science
Fudan University
Shanghai Key Laboratory of
Intelligent Information Processing
Shanghai, China
Murali Chintalapati
Microsoft
Redmond, USADongmei Zhang
Microsoft Research
Beijing, China
ABSTRACT
In large-scale cloud systems, unplanned service interruptions and
outages may cause severe degradation of service availability. Such
incidents can occur in a bursty manner, which will deteriorate user
satisfaction. Identifying incidents rapidly and accurately is critical
to the operation and maintenance of a cloud system. In industrial
practice, incidents are typically detected through analyzing the
issue reports, which are generated over time by monitoring cloud
services. Identifying incidents in a large number of issue reports is
quite challenging. An issue report is typically multi-dimensional: it
has many categorical attributes. It is difficult to identify a specific
attribute combination that indicates an incident. Existing methods
generally rely on pruning-based search, which is time-consuming
given high-dimensional data, thus not practical to incident detec-
tion in large-scale cloud systems. In this paper, we propose MID
∗Jiazhen Gu and Chuan Luo contributed equally to this work and share the first
authorship of this work.
†This work was performed when Jiazhen Gu was visiting Microsoft Research as a
research intern.
‡Qingwei Lin is the corresponding author of this work.
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than ACM
must be honored. Abstracting with credit is permitted. To copy otherwise, or republish,
to post on servers or to redistribute to lists, requires prior specific permission and/or a
fee. Request permissions from permissions@acm.org.
ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
©2020 Association for Computing Machinery.
ACM ISBN 978-1-4503-7043-1/20/11. . . $15.00
https://doi.org/10.1145/3368089.3409741(Multi-dimensional Incident Detection), a novel framework for iden-
tifying incidents from large-amount, multi-dimensional issue re-
ports effectively and efficiently. Key to the MID design is encoding
the problem into a combinatorial optimization problem. Then a
specific-tailored meta-heuristic search method is designed, which
can rapidly identify attribute combinations that indicate incidents.
We evaluate MID with extensive experiments using both synthetic
data and real-world data collected from a large-scale production
cloud system. The experimental results show that MID significantly
outperforms the current state-of-the-art methods in terms of ef-
fectiveness and efficiency. Additionally, MID has been successfully
applied to Microsoft’s cloud systems and helped greatly reduce
manual maintenance effort.
CCS CONCEPTS
•Software and its engineering →Search-based software en-
gineering .
KEYWORDS
Incident detection, emerging issue, meta-heuristic search, effective
combination, problem identification
ACM Reference Format:
Jiazhen Gu, Chuan Luo, Si Qin, Bo Qiao, Qingwei Lin, Hongyu Zhang, Ze Li,
Yingnong Dang, Shaowei Cai, Wei Wu, Yangfan Zhou, Murali Chintalapati,
and Dongmei Zhang. 2020. Efficient Incident Identification from Multi-
dimensional Issue Reports via Meta-heuristic Search. In Proceedings of the
28th ACM Joint European Software Engineering Conference and Symposium
292
ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
on the Foundations of Software Engineering (ESEC/FSE ’20), November 8–
13, 2020, Virtual Event, USA. ACM, New York, NY, USA, 12 pages. https:
//doi.org/10.1145/3368089.3409741
1 INTRODUCTION
Cloud computing has surged into popularity in recent years. Many
software services are deployed on large-scale cloud systems, includ-
ing Amazon AWS [ 22], Microsoft Azure [ 35], and Google Cloud [ 13].
These cloud systems serve millions of users around the world on a
24/7 basis. High service availability is hence critical to such systems.
Failures are inevitable to large-scale systems [ 31]. Despite tremen-
dous reliability engineering efforts that have been put to mitigate
the influences of failures, cloud systems may still experience un-
planned interruptions and outages. Such incidents can severely
degrade system performance, and in turn, have negative conse-
quences on service availability. They may lead to severe economic
loss [ 3]. It is hence of great importance to pinpoint such incidents
in a timely manner, before it deteriorates user satisfaction.
In common industrial practice ( e.g., that in Microsoft Azure [ 35]),
cloud systems generally monitor the performance indicators ( e.g.,
CPU utilization and I/O latency [ 1]) of the computing components.
The computing components are typically virtual machines (VMs),
including full-virtualization ones and lightweight virtualized con-
tainers. When the monitored indicators exhibit anomalous values,
the categorical attributes describing the related information of the
anomalous VM (including a timestamp, the location, the OS version
and the hardware type) are recorded in an issue report . Thus, a set
of issue reports of a cloud system is essentially multi-dimensional,
time series data .
In practice, when an incident occurs, the number of issue reports
under a particular attribute combination may increase dramatically
at a certain time. Such an attribute combination can effectively
characterize an incident. For example, if an incident occurs in a
data center D1in Australia, many issue reports containing the same
“DataCenter” and “Country” values ( i.e.,D1andAustralia ) would be
reported. Therefore, the attribute combination {DataCenter = “ D1”,
Country = “ Australia ”} can indicate the incident. Such an attribute
combination is called effective combination in this paper. Such ef-
fective combinations can help locate the incident and analyze its
root cause. In this regard, incident localization is typically solved by
identifying effective combinations of attributes from issue reports.
However, such a task is very challenging. Existing methods
(e.g., [28,42]) generally resort to search-based approaches. However,
an issue report typically contains tens of attributes and thousands
of values to indicate VM properties including locations, VM con-
figurations, and software versions. The high dimension of the data
will instantly lead to a combinatorial explosion: the searching space
grows exponentially. As a result, these search-based methods are
prohibitively time-consuming. They are not practical to identify
real-world incidents for a cloud system. Furthermore, as a large
complicated system, a typical cloud system frequently encounters
failures. Although reliability engineering techniques can maintain
its availability, issue reports (associated with failures) are conse-
quently huge in volume. As a result, the related issue reports of an
incident are usually hidden in tremendous issue reports generated
in daily operation, due to the bursty nature of an incident. Locating
such reports is a quite challenging task.In this paper, we propose MID (Multi-dimensional Incident De-
tection), an efficient and flexible framework to identify incidents in
huge-volume, multi-dimensional issue reports in large-scale produc-
tion cloud systems. Unlike existing search-based approaches, MID
encodes the incident identification problem into a combinatorial op-
timization problem. This allows MID to solve it with meta-heuristic
searching, which is tailored as an efficient algorithm. To this end,
we specifically design a two-mode ( i.e., greedy mode and random
mode) meta-heuristic search framework. On one hand, the greedy
mode intends to approximate the optimal results guided by the
information entropy in a greedy manner. On the other hand, the
random mode helps avoid the local optimum by adding random per-
turbation to the search process. In this way, MID can automatically
find effective combinations rapidly. To evaluate the effectiveness
and efficiency of MID, we conduct extensive experiments on both
synthetic data and real-world data collected in real-world produc-
tion cloud systems in Microsoft. The experimental results verify
the success of MID.
The main contributions of this work are highlighted as follows.
(1)We propose MID, a tool that efficiently identifies effective
combinations from high-dimensional issue reports. MID can
greatly reduce human efforts in identifying incidents in large-
scale cloud systems.
(2)Unlike traditional pruning-based search method, MID em-
ploys a meta-heuristic search method, which is particularly
suitable to identify incidents in large-scale cloud systems in
a rapid manner. Such a meta-heuristic approach can shed
light to other maintenance tasks of cloud systems which
require prompt analysis of tremendous structured data.
(3)We have successfully applied MID to Microsoft’s production
cloud system, which helped improve system reliability and
customer experience.
2 PRELIMINARIES AND MOTIVATIONS
The research described in this paper is motivated by requirements of
real-world cloud system maintenance in Microsoft. In this section,
we first describe incidents in large scale cloud system. Then, we
use a motivating example to illustrate the problem formulation on
identifying incidents based on multi-dimensional issue reports. In
the end, the challenges are discussed.
2.1 Incidents in Large Scale Cloud System
Infrastructure as a service (IaaS) in cloud computing paradigm allo-
cates or releases the resources according to requirements, thereby
eliminating the overhead of procuring traditional computing infras-
tructure, and thus gains popularity in recent years. As more and
more companies come to a cloud system, achieving high service
availability is critical but challenging for cloud providers. Related
incidents caused by major feature changes, configuration mistakes,
hardware failures, or software bugs may lead to SLA (service level
agreement) violations, and cloud providers would suffer a great
amount of financial loss. For example, Amazon AWS would return
10% and 30% of credits if the monthly uptime percentage is less
than 99.99% and 99.0%, respectively [21].
In the cloud, millions of customer VMs are hosted in world-wide
distributed physical servers. That is, the impact would be great
293Efficient Incident Identification from Multi-dimensional Issue Reports via Meta-heuristic Search ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
04-0104-0204-0304-0404-0504-0604-0704-0804-0904-104008001,2001,600
Country = Australia
DataCenter = DC3
Version = 1.0
Time# Issues
(a) Time series under the effective combi-
nation04-0104-0204-0304-0404-0504-0604-0704-0804-0904-100.20.40.60.8·105
Country = Australia
Time# Issues
(b) Time series under a simple attribute
combination
Figure 1: An example of incident
when incidents happen. In order to minimize the negative customer
experience and potential financial loss, engineers need to correctly
identify the incident with a reduced problem space and isolate the
problem in a timely manner. As such, some significant incidents
can be thus eliminated before becoming catastrophic.
In current practice of Microsoft, however, this process is man-
ually done by running ad-hoc queries on issue reports and then
looking for the effective combinations that characterize incidents
with pivoting tools ( e.g., Excel Pivot Table). Since issue reports may
contain a lot of attributes and values, it is rather labor-intensive and
time-consuming. Based on our survey, we found that it often takes
tens of hours for an engineer to identify possible incidents. There-
fore, an automated and accurate incident identification approach is
crucial and essential for cloud systems in improving service avail-
ability.
2.2 Motivating Example
Table 1 shows an example of a set of issue reports collected from
Microsoft Azure. We omit related details for confidential reasons. In
Table 1, each entry is an issue report, which consists of a timestamp
indicating when the issue is captured and a set of attributes to
characterize a VM. For example, the first entry describes the location
information, hardware type, software type, and customer affiliation,
etc of a VM and this VM has a performance issue ( e.g., high I/O
latency, multiple reboots) captured at 00:32, April 1. Therefore, a
set of issue reports can be treated as multi-dimensional, time-series
data.
Given a specific attribute combination ( e.g., {Country=“Australia”,
DataCenter=“DC1”}), we can obtain a time series by counting the
number of issue reports in this combination within a time window
(e.g., an hour, a day). As introduced in Section 1, when an incident
happens, the volume number could suddenly increase in the time
series. In Figure 1(a), a real incident was detected in April, 2019. It
is shown that the volume of issue report in {Country = “Australia”,
DataCenter=“DC3”, Version=“1.0”} was suddenly increased to 1500
from 200 at April 9th. However, this attribute combination can be
easily lost in the background noisy issues. Figure 1(b) illustrates the
time series under the attribute combination {Country = “Australia”}
in the same time window. Note that the total volume of issue reports
in Australia region is stable, so that the real incident is difficult to
be identified. As a comparison, the attribute combination {Country
= “Australia”, DataCenter=“DC3”, Version=“1.0”} that characterizes
the incident is referred to as the effective combination .
Issue ReportsEncodingSearch SpaceMeta-heuristicSearchingEffective CombinationsIncident Clustering
IncidentsFigure 2: An overview of MID
2.3 Challenges
While it is a promising way to detect incidents by identifying ef-
fective combinations from issue reports, we have identified the
following two challenges to achieve high performance in incident
identification for a large-scale cloud system:
•Huge search space : In the cloud system, a large volume
of issue reports are received everyday. As the substantial
increase on the scale and complexity, these issue reports
commonly have more than 40 attributes and thousands of
possible values, leading to an explosive number of attribute
combinations. Such a huge search space makes it difficult in
accurate identification.
•High efficiency requirement : Infrastructure problems must
be responded to at ever-increasing speeds, particularly when
an incident impacts customer experience. Hence the pro-
posed approach has to meet the high efficiency requirement
for the maintenance of cloud systems.
3 OVERVIEW
As discussed before, current state-of-the-art approaches for incident
identification are based on the pruning-based search framework [ 28,
42], which works in a branch-and-bound manner [ 5] with pruning
techniques. However, the pruning-based search framework has a
severe limitation that it could become ineffective and inefficient
when dealing with extremely huge search space, which can be
observed in Section 5.
Motivated by the great demand from the maintenance of cloud
systems, we propose MID (Multi-dimensional Incident Detection),
a framework to automatically identify effective combinations from
multi-dimensional issue reports. Different from the state-of-the-art,
pruning-based approach that may incur exponential time complex-
ity,MID is a novel framework that employs meta-heuristic search
and is both efficient and effective.
Figure 2 presents the overall framework design of MID. The
workflow of MID mainly consists of three parts: encoding, meta-
heuristic searching, and incident clustering. In the encoding part,
MID processes the given set of issue reports, so as to encode the
incident identification problem into a combinatorial optimization
294ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
Table 1: An example of a set of issue reports from a cloud system
Time Country DataCenter Disk Hardware Version Customer ClinetOS ...
2019-04-01 00:32 USA DC1 SSD Dell 1.0 A Inc. Linux ...
2019-04-01 05:11 Australia DC3 SSD Dell 1.1 B Inc. Win7 ...
2019-04-01 04:45 USA DC2 HDD Dell 1.0 Company X Linux ...
2019-04-02 14:32 India DC6 HDD Lenovo 5.0 Company Y Win8.1 ...
2019-04-02 13:24 Australia DC3 SSD Dell 1.2 B Inc. Win8.1 ...
2019-04-03 08:53 Australia DC3 SSD Lenovo 5.1 B Inc. Linux ...
2019-04-03 12:05 UK DC1 Hybrid Hp 3.0 Company Z Linux ...
problem. In the meta-heuristic search part, MID employs a novel
two-mode search algorithm to solve the encoded combinatorial op-
timization problem. The effective combinations found by the search
algorithm are further fed into a clustering algorithm that summa-
rizes similar results, in order to minimize human inspection efforts.
Finally, the clustering results are reported as the incidents detected
from issue report. The key steps shown in Fig 2 are summarized as
follows:
Encoding : As the example shown in Section 2, incident identifica-
tion can be conducted through identifying effective combinations
from issue reports, which is formulated as the combinatorial opti-
mization problem. In the encoding part, we introduce the search
space and the objective function, both of which are the essential
components of a combinatorial optimization problem [ 6]. The de-
tails of the encoding procedures as well as the objective function
design are described in Section 4.1.
Meta-heuristic Searching : In order to solve the encoded combina-
torial optimization problem, a novel two-mode search algorithm is
designed to effectively search for effective combinations. The algo-
rithm leverages information entropy [ 7] as the scoring function [ 44]
and takes into account both efficiency and diversity. Section 4.2
presents such a meta-heuristic approach.
Incident Clustering : Since several different effective combinations
may reflect the same incident, a summary of the searching results is
necessary to avoid duplication and thus reduce human inspection
efforts. Hence, a distance-based clustering algorithm is designed to
group the effective combinations based on the corresponding time-
series data. Then each cluster is reported as an incident detected
from issue reports. The details are introduced in Section 4.3.
4 IMPLEMENTATION DETAILS
In this section, we introduce the technical details of MID.
4.1 Encoding
In this subsection, we encode the problem of identifying effective
combinations as a combinatorial optimization problem. In particular,
we first introduce the search space as below, and then describe the
objective function.
4.1.1 Necessary Notations and Search Space. First of all, we give
necessary notations of this work here. Given a set of issue reports
D(an example of a set of issue reports is presented in Table 1), an
issue report can be regarded as an entry in D, and is associated with
a timestamp indicating when the issue is captured. The notation A
is used to denote the set of all attribute s inD:A={a1,a2,··· ,an},
where ai(1≤i≤n)is the i-th attribute in Dandnis the number ofattributes in D. For each attribute ai, there is a value setVi, which
consists of all possible values of ai:Vi={v1
i,v2
i,··· ,vmi
i}, where
vk
i(1≤k≤mi)is the k-th possible value for attribute aiandmi
is the number of possible values for attribute ai.
An attribute aiand one of its possible values vk
ican construct a
tuple t=(ai,vk
i). For each attribute ai, we can construct a set of
such tuples Ti={ai}×Vi, which consists of all pairs of aiand its
possible value. Then the set of all possible tuples can be expressed
asT=Ðn
i=1Ti. Hence an attribute combination scan be defined as
a subset of T, which contains at most one tuple from any Ti.
Therefore, the entire search space Sis a set of attribute combina-
tions, which can be formally defined as below:
S={s∈P(T)|∀Ti: card(s∩Ti)≤1} (1)
In the above equation, P(T)denotes the power set1ofT, and
the cardinality constraint guarantees that each attribute can be
involved at most once in the attribute combination.
4.1.2 Objective Function. For a combinatorial optimization prob-
lem, besides the search space, we also need to define the objective
function to measure the quality of a solution ( i.e., an attribute com-
bination). However, in our context, there is no straightforward
objective function to meet the requirement, which urgently calls
for designing a proper objective function.
Given an attribute combination C, as described in Section 2.2
we can obtain a corresponding time series under C. Recalling that
the goal of identifying incidents is to find effective combinations
whose corresponding time series on the number of issues exhibit
significant increasing trends, the objective function should be de-
signed to quantify the significance of increasing trends from the
time series data under different attribute combinations. Hence, in
order to evaluate the significance of the increasing trend, it is advis-
able to measure the change of the number of issues before and after
the change point ( i.e., the point at which the incident occurs). The
more significant the change, the greater the impact of the incident.
On the other hand, the severity of the incident should also be taken
into account, which can be measured by the total number of issues
under the attribute combination.
Inspired by Fisher distance [ 14], we propose the following score:
R(x)=pa(x)lnpa(x)
pb(x)(2)
In Equation 2, xdenotes the change point; ptdenotes the ratio:
pt=VX t
Vt, where VX tdenotes the total number of issues under
the current attribute combination during a time period tandVt
1https://en.wikipedia.org/wiki/Power_set
295Efficient Incident Identification from Multi-dimensional Issue Reports via Meta-heuristic Search ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
denotes the total volume of issues during the time period t; in the
meanwhile, b(x)anda(x)denote the time periods before and after
change point x, respectively; therefore, pb(x)andpa(x)are the ratios
before and after the change point, respectively.
Equation 2 not only considers the change ratio of the number
of issues throughpa(x)
pb(x), but also emphasizes the global impact of
the attribute combination through pa(x). For example, given two
attribute combinations, we can obtain two corresponding time
series; when those two time series exhibit the same change radio,
the one with greater global impact will have larger R(x)value. In
this paper, we call this score Fisher Value .
In order to calculate the Fisher Value ,MID needs to find the
change point in a time series. In addition, to improve the efficiency
ofMID, it is vital to rapidly calculate the Fisher Value for a given
time series. Hence, MID adopts the Bottom-up segmentation algo-
rithm [ 2], which is designed to perform fast change point detection.
It starts with many change points and successively deletes the
less significant ones. Specifically, this algorithm first traverses the
whole time series and finds all change points. The complexity of
this algorithm is O(nlogn)(nis the number of samples in the given
time series), which meets the purpose of MID.
Since the Bottom-up segmentation algorithm may detect more
than one change point, among all change points, denoted as X, the
maximum Fisher Value is selected as the objective function ffor a
given attribute combination:
f=max
x∈XR(x) (3)
As a result, for a given attribute combination C, we can calculate
C’s objective function through Equation 3.
Based on the search space S(defined in Section 4.1.1) and the ob-
jective function f(defined in Section 4.1.2), the task of the encoded
combinatorial optimization problem is to find attribute combina-
tions with large values of objective function.
4.2 Meta-heuristic Searching
It is recognized that meta-heuristic search is a powerful paradigm
for efficiently solving combinatorial optimization problems [ 17].
The general workflow of a meta-heuristic search algorithm is first
to 1) generate an initial solution, i.e., an initial attribute combination
(usually an empty set), and then to 2) iteratively modify the current
attribute combination in order to obtain attribute combinations
with larger value of the objective function.
Before introducing the details of the meta-heuristic algorithm
adopted in MID, we first present the search operators and the scoring
function, which are essential components of meta-heuristic search.
4.2.1 Search Operators. As discussed before, the search process
is to iteratively modify the current attribute combination, so we
need to design a number of search operators to modify the current
attribute combination in each iteration. Apparently, it is advisable
to design search operators to cover commonly-used set operations,
including addition ,deletion andmodification . Moreover, since each
element in an attribute combination is a tuple, consisting of an
attribute and its value, the modification operator should be con-
ducted on either the attribute or the value. As a result, given thecurrent attribute combination C, we propose four search operators
as follows:
•Adding Tuple Operator ( AT): This operator is to add an tuple
(a′,v′)∈{( aadd ,vadd)∈T|∀(a,v)∈C:aadd,a}toC;
•Swapping Value Operator ( SV): This operator is to swap
an tuple(aswp ,vswp) ∈ Cwith another tuple (a′,v′) ∈
{(aswp ,v′swp) ∈Tswp|vswp,v′swp}, so that the two
swapped tuples have the same attribute ( i.e.,aswp=a′);
•Swapping Tuple Operator ( ST): This operator is to swap
an tuple(aswp ,vswp) ∈ Cwith another tuple (a′,v′) ∈
{(a′swp ,v′swp)∈T|∀(a,v)∈C:a′swp,aswp};
•Deleting Tuple Operator ( DT): This operator is to delete an
tuple from C.
Clearly, the proposed four search operators are capable of trans-
ferring Cinto any attribute combination in a limited number of
steps. Hence we use these search operators to conduct the search
process.
4.2.2 Scoring Function. Scoring function is a fundamental compo-
nent in meta-heuristic search [ 44]. In particular, scoring function is
used to guide the search direction, and is strongly related to search
operators. As described before, the search operators are designed
to select one tuple to be added, deleted or swapped to modify the
current attribute combination. In order to obtain more effective
attribute combinations, MID requires a scoring function to quantify
the gain of selecting a specific tuple.
However, there is no explicit scoring function that can be directly
used in our context. In order to address this issue, we design a new
scoring function based on the concept of information entropy [7].
The entropy is defined as the negative logarithm of the probability.
Specifically, given an attribute aiand the set of its values Vi, the
entropy for a value vk
i∈Vi, denoted as E(vk
i), can be calculated as
the following equations:
P(vk
i)=count(vk
i)
Í
vj
i∈Vicount(vj
i)(4)
E(vk
i)=−P(vk
i)lnP(vk
i) (5)
In Equation 4, count(vk
i)denotes the number of issue reports
containing attribute aiwith value vk
i. Hence, the entropy of at-
tribute ai, denoted as E(ai), is the sum of the entropy of its all
possible values in Vi:
E(ai)=Õ
vk
i∈ViE(vk
i)=−Õ
vk
i∈ViP(vk
i)lnP(vk
i) (6)
It is widely recognized that a tuple or an attribute value with
larger value of entropy indicates they are more informative and
more worthy of being selected. Also, inspired by the great success
of information entropy in a broad range of applications, such as
communications [ 40] and machine learning [ 37],MID prefers to
select a tuple or an attribute value with larger value of entropy.
4.2.3 Two-Mode Search Framework. Given the search space S(de-
fined in Section 4.1), MIDconducts the search process and iteratively
produces attribute combinations. Specifically, during each iteration,
MID works between two modes: the greedy mode and the random
296ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
Algorithm 1: Two-mode Meta-heuristic Search Frame-
work
Input: Total Tuple Set T
Output: Effective Combination Set EC
1EC←∅;
2C←∅;
3while no termination criterion is met do
4 ifC is an effective combination then
5 EC←EC∪{C};
6 ifwith probability p then
7 C←Random_Mode( T,C);
8 else
9 C←Greedy_Mode( T,C);
10return EC;
mode. In the greedy mode, MID aims to obtain more effective at-
tribute combinations in a greedy manner. In the random mode, MID
tends to explore the search space using randomized strategies.
The two-mode meta-heuristic framework underlying MID is out-
lined in Algorithm 1. In the beginning, MID initializes the set of
found effective combinations EC(i.e., the candidate result set) as
empty set, and also initializes the current attribute combination C
as empty set. Then MID conducts the search process in an iterative
manner until the termination criterion is met (Lines 3-10). In each
iteration, MIDfirst verifies whether or not Cis an effective combina-
tion (the details of effective combination verification are described
in Section 4.2.4). If Cis an effective combination ( i.e.,Ccharacter-
izes an incident), MID adds Cto set EC. Then MID works between
the random mode and greedy mode to modify the current attribute
combination C, in order to find more effective combinations. In
particular, with probability p(pis a parameter), the framework
works in random mode, and with probability 1−p, it conducts the
search in greedy mode.
4.2.4 Effective Combination Verification. In each iteration, for the
current attribute combination C,MID first obtains the time series
under C, and then calculates its value of the objective function ( i.e.,
Equation 3). If the set ECis empty or C’s value of the objective
function is larger than the minimum value of the objective function
among all effective combinations in EC, then MID considers that C
characterizes an incident and would add CintoEC.
4.2.5 The Greedy Mode. In the greedy mode, MID aims to find ef-
fective combinations with large values of objective function. To this
end, in the greedy mode, MID prefers to select the tuple with the
largest value of entropy, i.e., the most informative tuple (described in
Section 4.2.2). However, a severe issue of meta-heuristic search algo-
rithms is that they suffer from the cycling problem [ 34] – revisiting
a solution ( i.e., an attribute combination) that has been processed
recently. Inspired by the success of the tabu mechanism [ 10], we
design a forbidden strategy to avoid revisiting recently-processed
tuples, in order to make the search process more effective. Partic-
ularly, in the greedy mode MID maintains a forbidden list, which
records the recently selected tuples, and does not allow to select the
forbidden tuples even they have large values of entropy. In addition,MIDemploys the BMS (Best from Multiple Selections) algorithm [ 4],
to further improve the effectiveness of the search process.
4.2.6 The Random Mode. In the greedy mode, MID prefers to mod-
ify the current attribute combination in a greedy manner according
to the entropy. In fact, it is of key importance to strike a balance be-
tween greediness and diversification during the search process [ 17].
More specifically, if the meta-heuristic search biases too much to
the greediness, the search process would be easily stagnated, lead-
ing to very poor practical performance [ 27]. Hence, it is critical
to enhance the diversification behavior of MID. To this end, we
integrate a random mode, which tends to explore the search space
and diversify the search direction into MID, in order to balance the
greediness and the diversification.
Specifically, in the random mode, MID first chooses one feasible
search operator randomly at uniform, where “feasible” means that
the selected operator would not cause Cinto abnormal status. For
example, when Cconsists of only 1 tuple, applying the DT operator
would make Cbecome an empty set, so the DT operator is not fea-
sible in this case. After an search operator is selected, MID modifies
Cusing the selected search operator.
4.3 Incident Clustering
Given the effective combinations found by the meta-heuristic search
part, many effective combinations may characterize the same inci-
dent. For example, suppose the real incident is caused by the VMs
of Company K, which is only deployed in Australia. Then the time
series of both (Customer = “Company K”, Country = “Australia”) and
(Customer = “Company A”, ClientOS =“Linux”, Country = “Australia”)
may reflect the same increasing trend. Under such circumstances,
both attribute combinations are considered as effective combina-
tions, and are added to the result set. Although the results can
directly guide further human inspection, the duplicated results can
lead to repetitive work of engineers. Thus, we need to minimize
such human effort.
We notice that typically effective combinations characterizing
the same incident may share: 1) similar contents, and 2) similar
time series with the same change point. Thus we use the Jaccard
distance [ 24] to measure the similarity of effective combinations.
In order to measure the similarity of time series, we use the cosine
similarity [ 18] of the cumulative version of the time series ( i.e., sum
values over time as time increases). Specifically, for combination
C1,C2, and the corresponding time series t1,t2, the distance is
d(C1,C2)=(J(C1,C2)+cos(t1,t2))/2, where Jcalculates the Jaccard
distance and coscalculates the cosine similarity of the cumulative
version of time series.
Then we can apply a hierarchical clustering algorithm [ 33] on
the effective combinations. The advantage of this algorithm is that
it can automatically decide the number of clusters according to the
distance threshold d. If the distance of two combinations are smaller
than d, then these combinations are considered as describing the
same incident. Finally, each cluster of combinations are considered
as an incident, and the combination with the largest objective func-
tion value in each cluster will be reported to the support team for
further investigation.
297Efficient Incident Identification from Multi-dimensional Issue Reports via Meta-heuristic Search ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
5 EVALUATION
In this section, we evaluate the performance of by answering the
following research questions.
RQ1: Can MID achieve better performance than other methods?
RQ2: How does MID perform on real production data?
RQ3: How do different parameter settings impact the perfor-
mance of MID?
5.1 Experimental Setup
5.1.1 Datasets. We use diverse types of datasets to evaluate the
effectiveness and the efficiency of MID.
Production Datasets A and B: The production datasets are col-
lected during the second half of 2019 from Microsoft Azure, a large-
scale IaaS cloud system which serves millions of customers world-
widely. We use a total of 12 datasets (from A1 to A6 and from B1
to B6) that include issue reports describing various issues such as
high I/O latency and VM rebooting. For each dataset, the number
of issue reports ranges from 50 thousand to 70 thousand. For each
issue report, the number of attributes varies from 40 to 50, and
the total number of possible values ranges from 8 thousand to 20
thousand.
Synthetic: Besides the real production datasets, we gather a series
of synthetic data to evaluate the effectiveness of MID. First, we gen-
erate a dataset over a 30-day period with Nissue reports every day.
Excluding timestamp, each issue report has iattributes, and each
attribute has jpossible values. For each issue report, the attribute
values are generated randomly. In this way, we create one synthetic
dataset with totally 30×Nissue reports, and iandjare parameters
to control the size of search space. Then we manually inject an inci-
dent into the synthetic dataset as follows. We first randomly select
an attribute combination Eas the effective combination and a day
dfrom day 15 to day 25 as the day when the incident occurs. Then
we increase the number of issue reports containing combination
Eby a random value ( e.g., between 30 and 50), for each day after
dayduntil the 30-th day in the synthetic dataset. In this way, we
generate a synthetic dataset with one injected incident. Similarly,
we can generate synthetic dataset with two incidents.
5.1.2 Experimental Preliminaries. All experiments are conducted
on a server with Intel(R) Xeon(R) CPU E5-2665 @ 2.4GHz 2.39GHz
(2 processors) and 256GB Memory. In our experiments, for MID,p
is set to 0.2, and dis set to 0.5. In addition, the effect of different
parameter settings is discussed in Section 5.4.
5.1.3 Competitors. In order to demonstrate the effectiveness and
the efficiency of MID, we compare MID against the current state-of-
the-art approach called iDice [28]. In addition, we also implement
different meta-heuristic search methods under the MID framework
as additional competitors to show the advantage of the proposed
two-mode search algorithm.
•iDice [28] is the current state-of-the-art approach for mining
attribute combinations to characterize incidents from issue
reports. iDice is a pruning-based search algorithm, which
adopts several pruning strategies to reduce the search space,
so as to mine effective combinations from issue reports.
•NSGA-2 [8] is a widely-used meta-heuristic algorithm. It
generates offsprings using a specific type of crossover andmutation, and then selects the next generation according to
nondominated-sorting and crowding distance comparison.
•MOEA/D [47] is an evolution algorithm based on decompo-
sition. It leverages evolutionary operators to combine good
solutions of neighbouring problems thus allowing for nice
convergence properties.
•Random Search (RS) is a baseline approach [ 38], which applies
random selection to sampling a set of attribute combinations
from the search space Srandomly at uniform.
5.2 RQ1: Performance Comparison
In order to answer RQ1, we evaluate the performance of MID and
its competitors using synthetic datasets with one and two incidents.
We adopt three metrics ( i.e.,Precision (P),Recall (R) and F-score (F))
to measure the performance of MID and its competitors.
P=TP
TP+FP,R=TP
TP+FN,F=2×Precision×Recall
Precision +Recall(7)
where TP(true positive) is the number of correctly reported at-
tribute combinations. FP(false positive) is the number of wrongly
reported attribute combinations. FN(false negative) is the number
of effective combinations not reported. Precision measures the accu-
racy of detected effective combinations, while Recall measures how
many effective combinations are found among all effective combi-
nations. F-score considers both Precision andRecall , and the higher
the values, the better the detection performance. We also measure
the execution time (in CPU seconds) to evaluate the efficiency.
As the experimental setup described, we generate a series of
synthetic issue reports with different numbers of attributes ( i.e.,
i=10,20,30,40,and50). Specifically, each generated report con-
tains 1000 records every day ( N=1000 ), and each attribute has
8 values ( j=8). For simplicity, we use pattern “ IssueNumber -i”
to represent a specific dataset, where IssueNumber is the number
of issues injected to the dataset, and iis the number of attributes.
During the evaluation, we randomly generate datasets with dif-
ferent sizes, perform the detection and calculate the performance
measures. Each experiment is performed 100 times.
The results are shown in Table 2. For datasets with one injected
incident, we can find that MID achieves the highest F-Score in all
datasets. Moreover, besides the Recall of One-10 and the Precision
of One-30, MID outperforms all other methods on all three perfor-
mance measures.
It is worth noting that iDice performs well on the One-10 dataset.
Since pruning-based search can deal with small scale dataset, it is
not surprising that iDice, based on pruning search, can efficiently
process the One-10 dataset, the smallest scale dataset in our ex-
periments. However, when the attributes increase from 10 to 20,
the performance of iDice is significantly affected. When the search
scale grows, the pruning strategies adopted by iDice may incor-
rectly prune important attribute values because of the noisy data,
thus leading to the low Recall . Moreover, since iDice traverses all
remaining attribute combinations, many reported results can only
identify issues with much smaller impact than injected incident,
thus leading to the low Precision . This phenomenon reflects that the
pruning search method employed by iDice can hardly work well
298ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
Table 2: Evaluation results on synthetic datasets
DatasetMID iDice NSGA-2 MOEA/D RS
P R F P R F P R F P R F P R F
One-10 0.97 0.97 0.97 0.85 1.00 0.92 0.87 0.87 0.87 0.80 0.89 0.84 0.50 0.35 0.41
One-20 0.92 0.88 0.90 0.26 0.35 0.30 0.85 0.82 0.83 0.38 0.76 0.50 0.22 0.28 0.25
One-30 0.76 0.83 0.80 0.25 0.31 0.28 0.77 0.77 0.77 0.32 0.75 0.45 0.25 0.27 0.26
One-40 0.71 0.75 0.73 0.23 0.30 0.26 0.66 0.73 0.70 0.23 0.71 0.34 0.24 0.21 0.22
One-50 0.70 0.81 0.75 0.18 0.22 0.20 0.70 0.72 0.71 0.24 0.72 0.36 0.23 0.16 0.19
Two-10 0.99 0.90 0.95 0.69 0.84 0.75 1.00 0.51 0.68 0.98 0.70 0.82 0.49 0.26 0.34
Two-20 0.92 0.81 0.86 0.31 0.34 0.32 1.00 0.55 0.71 0.88 0.63 0.73 0.36 0.21 0.27
Two-30 0.82 0.77 0.79 0.32 0.26 0.29 0.99 0.55 0.71 0.62 0.56 0.59 0.36 0.19 0.25
Two-40 0.73 0.72 0.72 0.25 0.22 0.23 0.98 0.42 0.59 0.52 0.54 0.53 0.28 0.14 0.19
Two-50 0.76 0.76 0.76 0.21 0.19 0.23 0.92 0.45 0.60 0.56 0.55 0.55 0.22 0.11 0.15
Table 3: Average execution time on synthetic datasets
DatasetTime (s)
MID iDice NSGA-2 MOEA/D RS
One-10 7.13 5.62 10.45 11.35 12.50
One-20 8.01 21.81 11.82 13.46 24.15
One-30 8.68 41.01 13.31 14.82 35.15
One-40 9.50 98.43 15.39 16.88 44.83
One-50 9.86 177.99 17.20 18.60 57.07
Two-10 7.4 10.77 10.99 12.99 14.92
Two-20 9.13 29.15 13.02 15.44 27.98
Two-30 10.03 57.69 15.23 17.24 40.61
Two-40 10.69 136.41 18.09 19.05 52.93
Two-50 11.48 204.37 20.76 20.65 67.97
when the problem becomes much more complicated ( i.e., the total
attribute combinations increase from 810−1to820−1).
On the other hand, the performance of NSGA-2 and MOEA/D
are not as susceptible to the complexity of the problem as iDice.
The performance of NSGA-2 is stable on all datasets. Although the
Precision of MOEA/D degrades when the attributes increase from
10 to 20, MOEA/D achieves satisfying Recall on all datasets.
Similarly, for the synthetic datasets with two incidents, meta-
heuristic search approaches ( i.e.,MID, NSGA-2 and MOEA/D) per-
forms better than iDice when the dataset has at least 20 attributes.
Among meta-heuristic search approaches, MIDachieves the highest F-
Score on all synthetic datasets with two incidents. Besides, it is
worth noting that NSGA-2 achieves very high Precision , but a lower
Recall than MOEA/D. The reason is that the evolution process of
NSGA-2 is more greedy than that of MOEA/D, leading to the results
that the identified incidents by NSGA-2 are not as diversify as that
by MOEA/D.
In addition, we also compare the execution time of different ap-
proaches. The results are shown in Table 3. Apart from the dataset
One-10, MID runs much faster than iDice on all datasets. It is worth
noting that the execution time of MID slowly grows as the num-
ber of attributes increases. However, the execution time of iDice
increases rapidly with the number of attributes. The experimental
results indicate both the effectiveness and efficiency of MID.
5.3 RQ2: Performance on Real Data
In order to answer RQ2, we use real production issue reports col-
lected from Microsoft Azure. Since large-scale issue reports lead
to a huge number of attribute combinations (over 240), it is veryTable 4: Number of detected incidents on real datasets
Dataset# Incidents
MID iDice NSGA-2 MOEA/D RS
A1 13 8 4 6 4
A2 18 12 3 4 2
A3 13 - 2 3 3
A4 16 9 7 13 4
A5 17 - 1 3 2
A6 22 20 4 8 4
B1 10 9 5 6 3
B2 5 6 3 3 3
B3 9 - 4 10 1
B4 15 10 4 5 1
B5 7 8 3 4 3
B6 5 5 4 3 0
Table 5: Execution time on real datasets
DatasetTime (s)
MID iDice NSGA-2 MOEA/D RS
A1 473.3 4221.1 1863.4 3584.5 900.1
A2 497.4 61934.6 1597.6 2660.9 898.2
A3 483.6 - 1207.6 1942.6 932.6
A4 477.2 56342.1 1911.6 3559.2 898.3
A5 513.5 - 1213.7 2003.0 903.6
A6 464.7 16101.3 2045.0 4279.3 851.4
B1 579.4 5180.7 2161.5 3929.4 730.4
B2 579.1 13855.0 1583.0 2760.9 734.3
B3 595.5 - 1780.3 3459.8 705.7
B4 537.8 13776.5 2028.5 3990.4 802.1
B5 561.9 12536.0 1211.6 3214.8 795.3
B6 544.4 14346.9 1152.3 2756.2 777.5
difficult to manually identify and verify all effective combinations
in these issue reports. In other words, we lack ground truth about
the incidents in these data, so we do not compare Precision and
Recall . We ask support engineers to manually check the results
and then we compare the number of incidents instead of effective
combinations found by each method. For example, suppose the
result contains 3 effective combinations characterizing the same
incident, we consider that 1 incident is found. We also measure the
corresponding execution time.
The results are shown in Table 4 and Table 5. For datasets A3,
A5 and B3, iDice does not accomplish the incident identification
process within 36 hours, so the corresponding results are marked
with notation ’-’. We can find that MID finds most incidents on 9 of
12 datasets. As for the rest 3 datasets, the results of MID are much
close to the best ( i.e.,MID finds 1 incident less on datasets B2, B3 and
299Efficient Incident Identification from Multi-dimensional Issue Reports via Meta-heuristic Search ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
0.10.20.30.40.50.60.70.80.90.10.20.30.40.50.60.70.80.9
Random Prob.F-score
(a) Performance under different random
search probabilities0.10.20.30.40.50.60.70.80.90.10.20.30.40.50.60.70.80.9
ThresholdF-score
(b) Performance under different clustering
thresholds
Figure 3: Performance of MID under different parameters
B5). Considering that MID runs much faster than other methods, as
shown in Table 5, we can conclude that MID is capable of effectively
identifying incidents in a timely manner for real production data.
It is worth noting that MOEA/D finds more incidents than NSGA-
2, while it runs slower. These results indicate that MOEA/D is capa-
ble of generating more diverse results, while NSGA-2 can quickly
find valid results, which are also consistent with the experiments on
synthetic datasets. On the other hand, the two-mode search frame-
work adopted in MID can take care of both speed and diversity
through working in both greedy and random mode, thus resulting
in satisfying performance.
It is also worth noting that the execution time of iDice varies
significantly on different datasets. For example, the execution time
on A1 is 4221 seconds, while that on A2 grows over 60k seconds.
iDice even runs for more than 36 hours on three datasets. This
phenomenon is caused by the pruning strategies adopted by iDice.
When iDice prunes a lot of attribute combinations, the rest attribute
combinations can be traversed relatively fast. However, if the prun-
ing strategies do not work well, iDice has to traverse a huge amount
of attribute combinations, leading to unacceptable execution time.
5.4 RQ3: Effect of Different Parameter Settings
MID introduces two parameters, i.e., the random probability pto
control the two-mode search strategy (described in Section 4.2.3),
and the distance threshold dused by the clustering algorithm (de-
scribed in Section 4.3). Different values of these parameters may
lead to different results. For example, if pis too small, MID may
be stuck in local optimum and cannot find the attribute combina-
tion with large value of objective function. On the other hand, if
dis too large, MID may incorrectly cluster effective combinations
describing different incidents.
To understand the impact of different parameter settings on the
results, we evaluate the F-score ofMID with different parameter set-
tings on the Two-50 synthetic dataset, which is the largest-scale and
most complicated synthetic dataset. Figure 3(a) shows the perfor-
mance under different settings of pwhen dis set to 0.5 ( d’s default
value). We can find that the F-score is stable when the random prob-
ability is small ( i.e., less than 0.6). When the random probability
is larger than 0.6, the F-score starts to drop because MID mainly
conducts random search and thus becomes hard to find an effec-
tive combinations. These results also confirm the effectiveness of
entropy-based greedy search used in MID. To summarize, the resultsshow that when the random probability is properly set, MID is able
to achieve satisfying results.
Figure 3(b) shows the performance under different settings of
dwhen pis set to 0.2 ( p’s default value). Although it seems the
performance is sensitive to d, in fact the F-score ofMID is mainly
affected by the dramatic change of Precision . When dis small, al-
though Recall is stable, different effective combinations describing
the same incident are not clustered together. Hence, it is not sur-
prising to cause low Precision when dis small, and thus to affect the
F-score . Asdincreases, the clustering algorithm effectively clusters
combinations, so the F-score increases. When dis large, different
incidents may be incorrectly clustered together, which leads to the
performance degradation.
5.5 Threats to Validity
We have identified the following threats to validity:
Validation on real-world dataset : A production cloud system could
receive a large number of issue reports over time. In addition, the
large number of issue reports indicates a huge number of attribute
combinations. Therefore, it is very costly for engineers to manually
label the effective combination for each incident. Currently, in
RQ2 we only compare the number of identified incidents and the
corresponding execution time with other approaches on real issue
reports collected from Microsoft Azure. In future work, we plan to
build a real-world dataset that contains ground truth data about
effective combinations and incidents, in order to better evaluate
different approaches.
Diversity of the datasets : While we have applied MIDto real-world
issue reports and confirmed its effectiveness in practice, we only
exploit data that was collected from Microsoft Azure. In the future,
we will evaluate the proposed MID on a variety of datasets from
other systems and services.
6 CASE STUDIES
Currently, MID has been integrated into Microsoft Azure, a large-
scale cloud system, to improve the service availability by spotting
incidents in a timely manner. In this section, we share the practical
experience of its efficiency and effectiveness in identifying real-
world incidents with two cases. Due to sensitivity, some critical
details ( e.g., customer and version information) are omitted and
anonymized.
Microsoft values customers. To achieve high service availability,
its cloud system utilizes a backend system to monitor key perfor-
mance metrics ( e.g., latency, reboots) of each serving VM at every
Xminutes. As such, the system would automatically file an issue
report when the performance metric value is greater than a pre-
defined threshold. In each issue report, the serving VM is character-
ized by many properties ( e.g., location, hardware type, and software
version, customer affiliation, etc) with a timestamp, and the issue
report can thus be treated as multi-dimensional time-series data.
Based on domain knowledge, issue reports are typically bucketized
with many crucial attribute combinations at a certain granularity
(e.g., region name + storage-client name). Then, anomaly detectors
are implemented on these combinations to identify incidents, with
respect to the volume of issues reports in each bucket. When inci-
dents are detected, corresponding production teams would further
300ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
09-21 09-22 09-23 09-24 09-25 09-26 09-270.20.40.60.81
Time# Issues (normalized)
Australia
DAgentHostPlugin=’Compute-os.1.4’
GAgentHostPlugin=’G-os.1.7’
PAgentHostPlugin=’P-os.1.9’
(a) A platform-related incident09-21 09-22 09-23 09-24 09-25 09-26 09-270.20.40.60.81
Time# Issues (normalized)
Europe
US
DAgentHostPlugin=’Compute-os.1.4’
GAgentHostPlugin=’G-os.1.7’
PAgentHostPlugin=’P-os.1.9’
(b) Same incident on different regions
Figure 4: Examples for a multi-region incident
reduce the problem scope by manually investigating other combi-
nations so that engineers can quickly fix the problem and bring the
service back to normal.
With substantial increase on the scale and high availability re-
quirement of cloud service, however, the above approach is not
effective. On the one hand, the scope of selected combinations has
to be large because it would be impossibly difficult to monitor thou-
sands of time-series resulting from fine-granularity combinations.
As a consequence, some incidents can be easily lost within the back-
ground noisy issue reports and no clear burst can be detected in
the overall trend of all issues. On the other hand, there would be a
lot of repetitive incidents because these interconnected buckets are
considered separately, leading to the subsequent ad-hoc and manual
investigation process rather labor-intensive and time-consuming.
When a considerable number of incidents come, support engineers
may still be expected to have some sleepless nights.
To solve this problem, we have deployed MID in Microsoft Azure
to automatically identify incidents from thousands of issues re-
ports filed by the backend system. In last 6 months, our statistics
showed that more than 30 incidents per month from MID are ac-
knowledged by production teams. Among engineers that we have
talked with, we note that MID not only improves their efficiency
(saving 10 hours on average), but also enables to identify a couple
of incidents that are difficult to be detected using conventional
approaches. In the following, we depict two representative cases
to illustrate the effectiveness in improving system reliability and
customer experience.
6.1 Case 1: Detecting Platform-Related
Incidents
Oftentimes, it is observed that the volume of issue reports under a
region-level could suddenly increase at a certain point of time. Such
an incident may be due to major feature changes of the cloud host
agents. Actually, this kind of problem can impact many regions
as the problematic agent software rolls out, but our engineers are
continuously distracted by repetitive alerts.
Under the circumstances, MIDis effective to isolate issues among
many different attributes, and thus accelerates diagnosis. Figure 4(a)
shows a platform-related incident detected by MID in September,
2019. Based on the reported effective combination, engineers rapidly12-29 12-30 12-31 01-01 01-020.20.40.60.81
Time# Issues (normalized)
US
EC
Region=’US’
Customer=’G Inc’
SubscriptionId=’3dxx-xxxx-xx9d’
(a) A silent incident02-15 02-16 02-17 02-18 02-190.20.40.60.81
Time# Issues (normalized)
US2
EC
Region=’US2’
Customer=’C Inc’
SubscriptionId=’10xx-xxxx-xxe9’
(b) A silent incident
Figure 5: Examples for silent incidents
draw a conclusion that inconsistent contact among different host
agent software resulted in the incident. Such a platform-related
issue may impact many regions as the problematic agent software
rolls out. Figure 4(b) shows the volume of issue reports in different
regions within the same time window. It is noted that the volume
number in Region Europe and US suddenly increased on September
26th and 27th, respectively. Previously, engineers have to investi-
gate these repetitive incidents, separately. By implementing MID,
the platform-related incidents can be pinpointed, and thus the effi-
ciency of troubleshooting is significantly improved.
6.2 Case 2: Detecting Silent Incidents
Unlike the platform-related incidents, some incidents are hard to be
detected if solely counting the volume of issue reports at a coarse
granularity ( e.g., region). There are millions of customer VMs hosted
in Microsoft Azure. When some VMs are suffering performance
degradation, these cases may bury in noisy issue reports and thus
cannot be easily localized by conventional approaches. In other
words, such incidents do not cause alarms by the anomaly detectors.
These incidents are called silent ones .
As a comparison, MID performs well on detecting such silent
incidents. Two examples are presented in Figure 5. Figure 5(a) de-
picts an incident that was detected by MID on January, 2020, where
the effective combination (EC) consists of a specific customer (G
Inc.) with a specific subscription ID in Region US. Our engineer
further found the above customer deployed only one VM under
this subscription in this region. Due to an improper setting, this
VM had a very small size disk but ran too many tasks. As a result,
the VM was continuously impacted by the increase of I/O latency.
Note that, while the performance of this VM was suddenly dropped
on January 2nd, the volume of issue reports in region US did not
have significant change. One similar example is illustrated in Fig-
ure 5(b), which was detected by MID in February 2020. In this case,
the volume of issue reports in region US2 was even reduced when
the incident happened. However, MID can effectively identify these
silent incidents that engineers in support teams may neglect, and
thus improve customer experience.
301Efficient Incident Identification from Multi-dimensional Issue Reports via Meta-heuristic Search ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA
7 RELATED WORK
7.1 Incident Identification
MID identifies incidents through searching effective combinations
from structured issue reports. Issue reports record detailed infor-
mation about runtime issues, and can be of great value for incident
(also called emerging issues in other work) detection and identifi-
cation [16, 26, 28, 29, 42, 45].
Linet al. [28] proposed iDice, which mines attribute combina-
tions to characterize emerging issues within issue reports. iDice
is a pruning-based search method, which employs manually cus-
tomized strategies to reduce the search space, so that iDice is not
appropriate to deal with large-scale, high-dimensional issue reports
from cloud systems. In contrast, MIDemploys meta-heuristic search
to automatically detect dynamic emerging issues from large-scale
issue reports in a timely manner.
One key functionality of MID is incident detection ( i.e., anom-
aly detection) on time series data. Anomaly detection is also a
critical task with lots of efforts from both industrial practition-
ers and academic researchers [ 19,32,41,48]. Specifically, there
is a body of work focusing on anomaly detection in key perfor-
mance indicators (KPIs) in order to monitor systems and identify
incidents [ 9,23,25,30,46]. For instance, Li et al. [46] propose
ROCKA, a robust and rapid time series clustering algorithm to
cluster KPIs for anomaly detection. Xu et al. [46] employ Varia-
tional Auto-Encoder (VAE), an unsupervised approach to monitor
periodic KPIs in Web applications. However, designing KPIs is labor-
intensive and requires domain expertise, especially for large-scale,
complex cloud systems. In contrast, MID focuses on automatically
identifying attribute combinations that characterize incidents from
high-dimensional issue reports.
It is worth noting that there is a body of work that conducts
issue detection with user review data [ 11,12,43]. Gao et al. [ 11]
proposed IDEA, which uses a topic modeling algorithm to interpret
topics in user reviews and detects emerging issues for online apps.
However, user reviews in cloud systems are not as valuable as
those for online apps. In cloud services, there is a gap between
the problem perceived by users and real issues. Compared with
user reviews, issue reports in cloud systems contain more detailed
information related to real incidents.
7.2 Meta-heuristic Search
Meta-heuristic search is an efficient and effective technique for solv-
ing computationally-hard combinatorial optimization problems. It
has shown effectiveness in solving a diverse range of research di-
rections, such as search-based software engineering [ 15], machine
learning [ 20], mathematical logic [ 39], and computer aided verifica-
tion [ 36]. In practice, compared to conventional systematic search
which is involved in exponential time complexity, meta-heuristic
is able to provide a sufficiently good solution to combinatorial
optimization problems quickly [ 17]. Our work, which uses meta-
heuristic search to efficiently detect incidents in cloud systems, also
fits the theme of search-based software engineering [15].
8 CONCLUSION
Timely and effectively identifying incidents is critical for the main-
tenance of cloud systems. In this paper, we propose MID, a novel,meta-heuristic based approach to the problem. Based on the specific-
tailored two-mode search algorithm, MIDis capable of rapidly identi-
fying effective combinations that characterize incidents from large-
scale, multi-dimensional issue reports. The experimental results
demonstrate that our approach MID performs better than the cur-
rent state-of-art method on both synthetic datasets and production
datasets collected from Microsoft Azure. Furthermore, our indus-
trial practice also validates the effectiveness of MID. For future
work, we plan to further improve MID to make it capable of identi-
fying more types of system issues ( e.g., anomaly patterns) through
integrating different kinds of objective functions.
ACKNOWLEDGMENTS
Gu and Zhou’s work is supported by the National Natural Science
Foundation of China (Grant No. 61672164). Hongyu Zhang’s work
is supported by ARC DP200102940.
REFERENCES
[1]Giuseppe Aceto, Alessio Botta, Walter de Donato, and Antonio Pescapè. 2013.
Cloud monitoring: A survey. Computer Networks 57, 9 (2013), 2093–2115. https:
//doi.org/10.1016/j.comnet.2013.04.001
[2]Samaneh Aminikhanghahi and Diane J. Cook. 2017. A survey of methods for
time series change point detection. Knowledge and Information Systems 51, 2
(2017), 339–367. https://doi.org/10.1007/s10115-016-0987-z
[3]Chetan Bansal, Sundararajan Renganathan, Ashima Asudani, Olivier Midy, and
Mathru Janakiraman. 2020. DeCaf: Diagnosing and Triaging Performance Issues
in Large-Scale Cloud Services. In Proceedings of the 42nd International Conference
on Software Engineering: Software Engineering in Practice, ICSE (SEIP) 2020 . To
appear.
[4]Shaowei Cai. 2015. Balance between Complexity and Quality: Local Search for
Minimum Vertex Cover in Massive Graphs. In Proceedings of the 24th International
Joint Conference on Artificial Intelligence, IJCAI 2015 . AAAI Press, 747–753. http:
//ijcai.org/Abstract/15/111
[5]Jens Clausen. 1999. Branch and bound algorithms-principles and examples.
Department of Computer Science, University of Copenhagen (1999), 1–30.
[6]William J. Cook, William H. Cunningham, William R. Pulleyblank, and Alexander
Schrijver. 1997. Combinatorial Optimization . Wiley.
[7]Thomas M. Cover and Joy A. Thomas. 2006. Elements of information theory (2.
ed.). Wiley. http://www.elementsofinformationtheory.com/
[8]Kalyanmoy Deb, Samir Agrawal, Amrit Pratap, and T. Meyarivan. 2002. A fast
and elitist multiobjective genetic algorithm: NSGA-II. IEEE Transactions on
Evolutionary Computation 6, 2 (2002), 182–197. https://doi.org/10.1109/4235.
996017
[9]Rui Ding, Qiang Wang, Yingnong Dang, Qiang Fu, Haidong Zhang, and Dongmei
Zhang. 2015. YADING: Fast Clustering of Large-Scale Time Series Data. Pro-
ceedings of the VLDB Endowment 8, 5 (2015), 473–484. https://doi.org/10.14778/
2735479.2735481
[10] Ding-Zhu Du and Panos M. Pardalos (Eds.). 1999. Handbook of Combinatorial
Optimization . Springer. https://doi.org/10.1007/978-1-4757-3023-4
[11] Cuiyun Gao, Jichuan Zeng, Michael R. Lyu, and Irwin King. 2018. Online
app review analysis for identifying emerging issues. In Proceedings of the
40th International Conference on Software Engineering, ICSE 2018 . ACM, 48–58.
https://doi.org/10.1145/3180155.3180218
[12] Cuiyun Gao, Wujie Zheng, Yuetang Deng, David Lo, Jichuan Zeng, Michael R.
Lyu, and Irwin King. 2019. Emerging app issue identification from user feedback:
experience on WeChat. In Proceedings of the 41st International Conference on
Software Engineering: Software Engineering in Practice, ICSE (SEIP) 2019 . IEEE /
ACM, 279–288. https://doi.org/10.1109/ICSE-SEIP.2019.00040
[13] Google. 2019. Google Cloud. https://cloud.google.com/
[14] Jiawei Han, Micheline Kamber, and Jian Pei. 2011. Data Mining: Concepts and
Techniques, 3rd edition . Morgan Kaufmann. http://hanj.cs.illinois.edu/bk3/
[15] Mark Harman. 2007. The Current State and Future of Search Based Software
Engineering. In Proceedings of the International Conference on Software Engineer-
ing, ICSE 2007, Workshop on the Future of Software Engineering, FOSE 2007 . IEEE
Computer Society, 342–357. https://doi.org/10.1109/FOSE.2007.29
[16] Shilin He, Qingwei Lin, Jian-Guang Lou, Hongyu Zhang, Michael R. Lyu, and
Dongmei Zhang. 2018. Identifying impactful service system problems via log
analysis. In Proceedings of the 2018 ACM Joint Meeting on European Software
Engineering Conference and Symposium on the Foundations of Software Engineering,
ESEC/SIGSOFT FSE 2018 . ACM, 60–70. https://doi.org/10.1145/3236024.3236083
302ESEC/FSE ’20, November 8–13, 2020, Virtual Event, USA J. Gu, C. Luo, S. Qin, B. Qiao, Q. Lin, H. Zhang, Z. Li, Y. Dang, S. Cai, W. Wu, Y. Zhou, M. Chintalapati and D. Zhang
[17] Holger H. Hoos and Thomas Stützle. 2004. Stochastic Local Search: Foundations &
Applications . Elsevier / Morgan Kaufmann.
[18] Anna Huang. 2008. Similarity measures for text document clustering. In Proceed-
ings of NZCSRSC 2008 , Vol. 4. 9–56.
[19] Chengqiang Huang, Geyong Min, Yulei Wu, Yiming Ying, Ke Pei, and Zuochang
Xiang. 2017. Time series anomaly detection for trustworthy services in cloud
computing systems. IEEE Transactions on Big Data (2017).
[20] Frank Hutter, Holger H. Hoos, Kevin Leyton-Brown, and Thomas Stützle. 2009.
Journal of Artificial Intelligence Research (JAIR). J. Artif. Intell. Res. 36 (2009),
267–306. https://doi.org/10.1613/jair.2861
[21] Amazon Web Services Inc. 2019. Amazon Compute Service Level Agreement.
https://aws.amazon.com/compute/sla/
[22] Amazon Web Services Inc. 2019. Amazon Web Service. https://aws.amazon.com/
[23] Nikolay Laptev, Saeed Amizadeh, and Ian Flint. 2015. Generic and Scalable
Framework for Automated Time-series Anomaly Detection. In Proceedings of
the 21th ACM SIGKDD International Conference on Knowledge Discovery & Data
Mining, KDD 2015 . ACM, 1939–1947. https://doi.org/10.1145/2783258.2788611
[24] Michael Levandowsky and David Winter. 1971. Distance between sets. Nature
234, 5323 (1971), 34–35. https://doi.org/10.1038/234034a0
[25] Zhihan Li, Youjian Zhao, Rong Liu, and Dan Pei. 2018. Robust and Rapid Clus-
tering of KPIs for Large-Scale Anomaly Detection. In Proceedings of the 26th
IEEE/ACM International Symposium on Quality of Service, IWQoS 2018 . IEEE, 1–10.
https://doi.org/10.1109/IWQoS.2018.8624168
[26] Meng-Hui Lim, Jian-Guang Lou, Hongyu Zhang, Qiang Fu, Andrew Beng Jin
Teoh, Qingwei Lin, Rui Ding, and Dongmei Zhang. 2014. Identifying Recurrent
and Unknown Performance Issues. In Proceedings of the 2014 IEEE International
Conference on Data Mining, ICDM 2014 . IEEE Computer Society, 320–329. https:
//doi.org/10.1109/ICDM.2014.96
[27] Jinkun Lin, Chuan Luo, Shaowei Cai, Kaile Su, Dan Hao, and Lu Zhang. 2015.
TCA: An Efficient Two-Mode Meta-Heuristic Algorithm for Combinatorial Test
Generation (T). In Proceedings of the 30th IEEE/ACM International Conference
on Automated Software Engineering, ASE 2015 . IEEE Computer Society, 494–505.
https://doi.org/10.1109/ASE.2015.61
[28] Qingwei Lin, Jian-Guang Lou, Hongyu Zhang, and Dongmei Zhang. 2016. iDice:
problem identification for emerging issues. In Proceedings of the 38th International
Conference on Software Engineering, ICSE 2016 . ACM, 214–224. https://doi.org/
10.1145/2884781.2884795
[29] Qingwei Lin, Hongyu Zhang, Jian-Guang Lou, Yu Zhang, and Xuewei Chen.
2016. Log clustering based problem identification for online service systems. In
Proceedings of the 38th International Conference on Software Engineering, ICSE
2016. ACM, 102–111. https://doi.org/10.1145/2889160.2889232
[30] Dapeng Liu, Youjian Zhao, Haowen Xu, Yongqian Sun, Dan Pei, Jiao Luo, Xiaowei
Jing, and Mei Feng. 2015. Opprentice: Towards Practical and Automatic Anomaly
Detection Through Machine Learning. In Proceedings of the 2015 ACM Internet
Measurement Conference, IMC 2015 . ACM, 211–224. https://doi.org/10.1145/
2815675.2815679
[31] Michael R Lyu et al .1996. Handbook of software reliability engineering . Vol. 222.
IEEE computer society press CA.
[32] Minghua Ma, Shenglin Zhang, Dan Pei, Xin Huang, and Hongwei Dai. 2018.
Robust and Rapid Adaption for Concept Drift in Software System Anomaly
Detection. In Proceedings of the 29th IEEE International Symposium on Software
Reliability Engineering, ISSRE 2018 . IEEE Computer Society, 13–24. https://doi.
org/10.1109/ISSRE.2018.00013
[33] Oded Maimon and Lior Rokach (Eds.). 2010. Data Mining and Knowledge Discovery
Handbook, 2nd ed . Springer. http://www.springerlink.com/content/978-0-387-
09822-7[34] Wil Michiels, Emile H. L. Aarts, and Jan H. M. Korst. 2007. Theoretical aspects of
local search . Springer. https://doi.org/10.1007/978-3-540-35854-1
[35] Microsoft. 2019. Microsoft Azure. https://azure.microsoft.com/
[36] Aina Niemetz, Mathias Preiner, and Armin Biere. 2016. Precise and Complete
Propagation Based Local Search for Satisfiability Modulo Theories. In Proceedings
of the 28th International Conference on Computer Aided Verification, CAV 2016
(Lecture Notes in Computer Science) , Vol. 9779. Springer, 199–217. https://doi.org/
10.1007/978-3-319-41528-4_11
[37] J. Ross Quinlan. 1986. Induction of Decision Trees. Machine Learning 1, 1 (1986),
81–106. https://doi.org/10.1023/A:1022643204877
[38] Günther F. Schrack and Mark Choit. 1976. Optimized relative step size random
searches. Mathematical Programming 10, 1 (1976), 230–244. https://doi.org/10.
1007/BF01580669
[39] Bart Selman, Hector J. Levesque, and David G. Mitchell. 1992. A New Method
for Solving Hard Satisfiability Problems. In Proceedings of the 10th National
Conference on Artificial Intelligence , William R. Swartout (Ed.). AAAI Press / The
MIT Press, 440–446. http://www.aaai.org/Library/AAAI/1992/aaai92-068.php
[40] Claude E. Shannon. 2001. A mathematical theory of communication. ACM
SIGMOBILE Mobile Computing and Communications Review 5, 1 (2001), 3–55.
https://doi.org/10.1145/584091.584093
[41] Md Amran Siddiqui, Alan Fern, Thomas G. Dietterich, Ryan Wright, Alec The-
riault, and David W. Archer. 2018. Feedback-Guided Anomaly Discovery via
Online Optimization. In Proceedings of the 24th ACM SIGKDD International Con-
ference on Knowledge Discovery & Data Mining, KDD 2018 . ACM, 2200–2209.
https://doi.org/10.1145/3219819.3220083
[42] Yongqian Sun, Youjian Zhao, Ya Su, Dapeng Liu, Xiaohui Nie, Yuan Meng, Shiwen
Cheng, Dan Pei, Shenglin Zhang, Xianping Qu, and Xuanyou Guo. 2018. HotSpot:
Anomaly Localization for Additive KPIs With Multi-Dimensional Attributes. IEEE
Access 6 (2018), 10909–10923. https://doi.org/10.1109/ACCESS.2018.2804764
[43] Lorenzo Villarroel, Gabriele Bavota, Barbara Russo, Rocco Oliveto, and Massim-
iliano Di Penta. 2016. Release planning of mobile apps based on user reviews.
InProceedings of the 38th International Conference on Software Engineering, ICSE
2016. ACM, 14–24. https://doi.org/10.1145/2884781.2884818
[44] Yiyuan Wang, Shaowei Cai, and Minghao Yin. 2017. Local Search for Minimum
Weight Dominating Set with Two-Level Configuration Checking and Frequency
Based Scoring Function. Journal of Artificial Intelligence Research (JAIR) 58 (2017),
267–295. https://doi.org/10.1613/jair.5205
[45] Rongxin Wu, Ming Wen, Shing-Chi Cheung, and Hongyu Zhang. 2018. Change-
Locator: locate crash-inducing changes based on crash reports. In Proceedings of
the 40th International Conference on Software Engineering, ICSE 2018 . ACM, 536.
https://doi.org/10.1145/3180155.3182516
[46] Haowen Xu, Wenxiao Chen, Nengwen Zhao, Zeyan Li, Jiahao Bu, Zhihan Li, Ying
Liu, Youjian Zhao, Dan Pei, Yang Feng, Jie Chen, Zhaogang Wang, and Honglin
Qiao. 2018. Unsupervised Anomaly Detection via Variational Auto-Encoder for
Seasonal KPIs in Web Applications. In Proceedings of the 2018 World Wide Web
Conference, WWW 2018 . ACM, 187–196. https://doi.org/10.1145/3178876.3185996
[47] Qingfu Zhang and Hui Li. 2007. MOEA/D: A Multiobjective Evolutionary Algo-
rithm Based on Decomposition. IEEE Transactions on Evolutionary Computation
11, 6 (2007), 712–731. https://doi.org/10.1109/TEVC.2007.892759
[48] Xu Zhang, Qingwei Lin, Yong Xu, Si Qin, Hongyu Zhang, Bo Qiao, Yingnong
Dang, Xinsheng Yang, Qian Cheng, Murali Chintalapati, Youjiang Wu, Ken Hsieh,
Kaixin Sui, Xin Meng, Yaohai Xu, Wenchi Zhang, Furao Shen, and Dongmei
Zhang. 2019. Cross-dataset Time Series Anomaly Detection for Cloud Systems.
InProceedings of the 2019 USENIX Annual Technical Conference, USENIX ATC
2019, Dahlia Malkhi and Dan Tsafrir (Eds.). USENIX Association, 1063–1076.
https://www.usenix.org/conference/atc19/presentation/zhang-xu
303