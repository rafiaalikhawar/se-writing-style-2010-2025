Automatic Extraction ofCause-Effect-Relations from
Requirements Artifacts
Julian Frattini
julian.frattini@bth.se
Blekinge Instituteof Technology
Karlskrona, SwedenMaximilian Junker
maximilian.junker@qualicen.de
QualicenGmbH
Munich,Germany
MichaelUnterkalmsteiner
michael.unterkalmsteiner@bth.se
Blekinge Institute ofTechnology
Karlskrona, SwedenDaniel Mendez
daniel.mendez@bth.se
Blekinge Instituteof Technologyand fortiss GmbH
Karlskrona, Sweden
ABSTRACT
Background: The detection and extraction of causality from natu-
rallanguagesentenceshaveshowngreatpotentialinvariousfields
ofapplication.Thefieldofrequirementsengineeringiseligiblefor
multiple reasons: (1) requirements artifacts are primarily writtenin natural language, (2) causal sentences convey essential context
about the subject of requirements, and (3) extracted and formal-
ized causality relations are usable for a (semi-)automatic transla-tion into furtherartifacts, such as testcases.
Objective: Weaimatunderstandingthevalueofinteractivecausal-
ityextractionbasedonsyntacticcriteriaforthecontextofrequire-
mentsengineering.
Method:Wedevelopedaprototypeofasystemforautomaticcausal-
ityextractionandevaluateitbyapplyingittoasetofpubliclyavail-
ablerequirementsartifacts,determiningwhethertheautomaticex-
traction reduces the manual effort of requirements formalization.
Result:During the evaluation we analyzed 4457 natural language
sentences from 18 requirements documents, 558 of which were
causal (12.52%). The best evaluation of a requirements document
providedanautomaticextractionof48.57%cause-effectgraphson
average, which demonstratesthe feasibility of the approach.
Limitation: Thefeasibilityoftheapproachhasbeenproveninthe-
orybutlacksexplorationofbeingscaledupforpracticaluse.Eval-
uatingtheapplicability oftheautomatic causalityextractionfora
requirementsengineer is left forfuture research.Conclusion: A syntactic approach for causality extraction is viable
forthecontextofrequirementsengineeringandcanaidapipelinetowardsanautomaticgenerationoffurtherartifactsfromrequire-mentsartifacts.
CCSCONCEPTS
â€¢Computing methodologies â†’Rule learning ;â€¢Software and
its engineering â†’Genetic programming.
Permission to make digital or hard copies of all or part of this work for personal or
classroomuseisgrantedwithoutfeeprovidedthatcopiesarenotmadeordistributed
for profit or commercial advantage and that copies bear this notice and the full cita-
tiononthefirstpage.Copyrightsforcomponentsofthisworkownedbyothersthanthe author(s) must be honored. Abstracting with credit is permitted. To copy other-
wise,orrepublish,topostonserversortoredistribute tolists,requires priorspecific
permission and/or a fee. Request permissions frompermissions@acm.org.
ASE â€™20,September21â€“25,2020, VirtualEvent,Australia
Â©2020 Copyrightheld by the owner/author(s).Publicationrights licensed to ACM.
ACMISBN 978-1-4503-6768-4/20/09...$15.00
https://doi.org/10.1145/3324884.3416549KEYWORDS
causality extraction, natural language processing, pattern match-
ing, requirementsartifacts
ACM Reference Format:
Julian Frattini, Maximilian Junker, Michael Unterkalmsteiner, and Daniel
Mendez.2020.AutomaticExtractionofCause-Effect-RelationsfromRequire-
ments Artifacts. In 35th IEEE/ACM International Conference on Automated
Software Engineering (ASE â€™20), September 21â€“25, 2020, Virtual Event, Aus-
tralia.ACM,NewYork,NY,USA,12pages.https://doi.org/10.1145/3324884.3416549
1 INTRODUCTION
The detection of semantic relations in natural language text has
proventobeanaspectofthefieldofinformationextractionwhich
hasgreatpotentialformanyareasofapplicationasoutlinedbythe
SemEval 2010 task set [14][27][20].
Theautomaticextractionofcausalrelationsfromlargecorporaof
naturallanguagetexthasprovenusefultomanyfieldsofresearch.Some examples for these fields of research are healthcare, where
causalrelationsbetweensymptomsanddiseasesyieldinsightsfordiagnostics[15],andeconomy,wherefinancialrelationscanbede-
rived fromanalysing stock reports[4].
These domain-specific examples limit the scope of an automatic
phrase extraction method to causal relations but they in turn in-crease their precision, as specific semantic structures and lexical
cuephrasesreoccurindomain-specifictexts.Automaticextractionofcausalrelationsisespeciallyapplicableindomainswherecausal
relations are explicitly stated.
One field of research that is often overlooked in this context, butshares the qualifying attributes to excel in automated recognition
andextractionofcausalrelations,isrequirementsengineering.Ar-
tifacts in requirements engineering are predominantly written innatural language [28] and describe conditions of a system in sen-
tencesconveyingacausalityrelation.Thiscanbeseenintheexam-
ple"Ifregistrationisnotsuccessfulanaudibleandvisualindicationshall be provided." [7], where the relation between the unsuccess-
ful registration and the audible and visual indication is expressed
in a causal sentence.Furthermore, the implementation of a system based on require-
ments engineering artifacts needs to be validated by determining
whether the defined requirements are fulfilled. Tests of various
granularity are usually a formalized version of specific require-ments.Manuallytransformingnaturallanguagerequirementsinto
5612020 35th IEEE/ACM International Conference on Automated Software Engineering (ASE)
formalizedtestcasescanbeatediousanderror-pronetask,asnatu-
rallanguageoftenlacksspecificityandcontainsambiguousphras-ing, which may be interpreted in more than one way.
Approaches to minimize ambiguity in natural language require-
ments exist in the form of controlled natural language [10][17],
whichcanbeeasilyreusedforfurtherformalization[22]orgener-
ating executable scenarios from requirements [13] among others.
Thoughcontrollednaturallanguageposesclearadvantagesforfor-
malizationtechniques,itisstillunderrepresentedinrequirements
engineeringinpractice.Forthisreasonwedonotassumeanyform
of control on the natural language requirements.
Anautomaticrecognitionandextractionofcausalrelationsinnat-
ural language requirements texts can mitigate the problem of am-biguity by reducing the manual work necessary for transformingcausal relations conveyed by sentences into formalized notation.
Above that recent studies have shown that an automatic test gen-
eration from cause-effect graphs are effective and viable [25][24].Our proposed system fills the gap between natural language re-
quirementsartifactsandcause-effectgraphs:theautomaticextrac-
tion of causal relationsmay be used in a pipeline to automaticallygenerate test cases from natural language requirements artifacts.
Our contribution is threefold: first, we introduce a causality pat-
ternstructurethatisbasedonthesyntacticratherthantheseman-ticstructureofasentence.Thisstructureisspecifiedincrementally
to prevent over-fitting. Second, we present an interactive, online
machine learning framework that tailors the causality patterns to
itsinput,thereforeadaptingtoanygivencontext.Third,weevalu-
atetheframeworkbyanalysingasetofpubliclyavailablerequire-mentsartifactsandassessthesystemâ€™scapabilitytoautomatically
extract cause-effect graphs from causal sentences.
FollowingRoelWieringaâ€™sdesignscienceapproach[29]ourworkrelies on the problem investigation observed in practice in the in-
dustry,whererequirementsengineeringexpertsatQualicenGmbH
identified a need for an automatic extraction of causal relationsfrom natural language requirements. Our contribution covers the
treatmentdesignandprovidesapreliminaryevaluationofthepro-
totypical implementation.
The rest of this paper is structured as follows: Section 2 covers re-
lated work in the field of automatic extraction of causal relations.Section 3 introducesthe usedconcepts and Section 4 presentsourapproach in detail, which is evaluated in Section 5. A conclusion
isdrawn in Section 6 alongside considerations for futurework.
2 RELATED WORK
Automaticextractionofcausalrelationsfromnaturallanguagetexts
istypicallysplitintotwocategories[1]:non-statisticaltechniquesthatrelyonpatternmatchingandstatisticaltechniquesthatutilize
machine learning for classification of sentences.Early approaches attempted an automatic causality detection by
matching sentences to manually defined lexico-syntactic patterns.
Ahighlycited,earlyworkbyGirjuetal.[12]investigatedaspecific
pattern <NP
1VP NP2>, where NP represented a noun phrase and
VPaverbphrase.Asetofsemanticconstraintsonthethreepattern
elementsfilteredthematchingsentencesandallowedforacausal-
itydetectionviaaspecific,semanticranking.Otherpattern-based
approaches include [4], which utilizes a hierarchy of templates toincrease the granularity of patterns.
Another popular approach consists of feature-based classification
methods,wherecausalityisdetectedbasedonsyntactic,semanticor lexical features. A recent approach by Ayyanar et al. [2] based
the classification on grammar tags of specific elements of a sen-tence as well as the distance between the causally related nouns.
Other approaches on classification via features and decision trees
are [3], where syntactic patterns were manually generated andthenusedtotrainadecisiontreeforthedetectionofcausality,and
[11], a refinement of [12] by adding a decision tree for causality
detection.Rinketal.achievedthebestresultfortheSemEval2010task8chal-
lenge of detecting causality [1]. Their proposed framework com-
bines graphical patterns consisting of syntactic, semantic and lex-icalconstraintswithabinaryclassifiertoidentifycausallyrelated
events in sentences [21].
Prominentdomainsforapplicationofcausalityextractionareques-tion answering [11], the medical domain [15], and economics [4].
The technique can be utilized in the context of requirements and
software engineering to reuse extracted cause-effect graphs forotherdownstreamartifacts.Oneexampleofthisistointegratean
automatic extraction algorithm into a pipeline for automatic test
case generation: As test cases are the validation of a built systemandthisvalidationisbasedonthecontextdescribedintherequire-
mentsartifacts[26],anautomaticpipelineforformalizingnatural
languagerequirementsartifactsintotestcasesprovidesviablesup-
port for the software engineering process [19].
Research on the steps of automatically transforming cause-effectgraphs into decision tables [25][24] exists as well as transforming
decision tables into test suites[23].
Other possible fields of application include traceability link recov-ery,wheretheextractedsemantic,causalrelationcouldaddtothe
processing of natural language requirements [16]. The extracted
cause-effectgraphprovidesadditionalsemanticinformationonre-lations in the requirements and might add to the precision of link
recovery.
Butmostoftheexistingapproachesoncausalityextractionarenoteligibletothecontextofrequirementsengineeringforthreemajor
reasons:
(1) Causalrelationsdescribedinrequirementsartifactsarerarely
connected in an obvious semantic manner
(2) Semantic causality extraction is based on large corpora of
natural language text, which is often not available in therequirements engineering phase
(3) Theextractedcausalrelationisoftenlimitedtoawordpair,
omittinginformationofthecausalsentencevitalforreusingthe extracted cause-effect graph
Tailoring causality extraction for requirements engineering is ex-
ploredinamorerecentapproachbyFischbachetal.[8],wheretest
casesareautomaticallygeneratedfromacceptancecriteria.Theus-ageofpredefined,manualpatternsbasedonthedependencystruc-
ture of sentences specifies their approach on the artifact type of
user stories, which is avoided in our approach to ensure a greatergeneralizability.
Ourapproachiseligibletoextractcause-effectgraphsfromcausal
562sentences in requirements engineering by dealing with the afore-
mentioned flaws of existing approaches as follows:
(1) Causal relations are detected via syntactic and lexical at-
tributes
(2) The online learning approach continuously improves the
causalitydetectionwithouttheneedforalargetrainingcor-pusbeforehand
(3) Specificphraseextractionmethodsarecapableofextracting
an arbitrary portion of a sentence rather than only a single
word.
Thisapproachcanbeappliedtorequirementsengineeringaswell
asany other domain.
3 CONCEPTS
Thissectionintroducesandformalizesallconceptsusedinthecon-
text of the implementation.
3.1 Foundation
Sentences. We denote sentences as ğ‘ âˆˆğ‘†, where S is the set of
all sentences, called the corpus, and a sentence s can be causal or
non-causal.
Causality. Causalsentencescontainacausality ğ‘âˆˆğ¶.Weintro-
ducethefollowingpredicatetoexpressthecausalityofasentences:
Predicate Explanation
causality(s, c) ğ‘âˆˆğ¶is the causality of sentence ğ‘ âˆˆğ‘†
A causal sentence and its conveyed causality is illustrated in the
following example:
Sentence The application is terminated when the x-
button is pressed.
Causality the x-button is pressed =â‡’The application is
terminated
Therelationofcausalityisreducedtoitsmostsimpleform,consist-
ing of a cause- and an effect-phrase. Extracting these two phrases
fromthe sentence is subject to the causality extraction.
3.2 Formalization
Structure. A sentence written in natural language can be pro-
cessed by natural language processing (NLP) tools in order to de-rivesyntacticandsemanticinformationaboutthesentence.Asen-
tence can be structured in two ways: by constituency or depen-
dency.Aconstituencyparsergroupsadjacentwordsintogrammat-ical units and builds a tree structure, where the root node repre-
sentsthefullsentence.Adependencyparseralsoconstructsatree
structure,butinthiscasetheinnernodesofthetreearenotchunksgrouping words or other chunks into units, but rather the words
itself. A word ğ‘¤
1is the parent node of a word ğ‘¤2ifğ‘¤2is semanti-
cally dependent of ğ‘¤1. The root node of the semantic structure is
the root dependency, which is usually the sentenceâ€™s predicate.Elementaltotheidentificationofcausalsentencesinourapproach
is the syntactic structure, which will be denoted as ğ‘¡âˆˆğ‘‡and ap-
plicable to the following predicates:
structureOf(s,t) ğ‘¡âˆˆğ‘‡is the structureof sentence ğ‘ âˆˆğ‘†Internal Representation. A sentence ğ‘ âˆˆğ‘†is formalized by NLP
tools into an internal representation. This internal representationof sentences consistsof the following aspects:
â€¢Words: each word contained in the sentence in order of ap-pearance with a corresponding part-of-speech-tag indicat-
ing the wordsrole within the sentence
â€¢Constituency structure: adjacent words clustered together
to chunks of words which represent a specific grammatical
unit
â€¢Dependency structure: semantic relations of words to each
other
An example for a sentence formalized into the internal represen-
tation is given in Figure 1. The tree-structure composed of grey
nodesrepresentstheconstituencystructure,whereeachnodecon-
tains its constituent tag. The list of white nodes represents the
wordsofthesentenceannotatedwiththeirrespectivepart-of-speech-
tag.Thelinesconnectingthewordnodesrepresentthedependencystructure, where each label on the connection represents the de-pendency relation type.
StructuralEquivalence. Thepremiseofourapproachisthatsim-
ilarlystructuredcausalsentencesalsohavetheircause-andeffect-
phraseslocatedatsimilarpositionswithinthesentence.Thispremise
will be explained in detail in Section 4.2. Two tree-like structures
are equivalent if both structures contain the same nodes in the
same order. Furthermore, a structure ğ‘¡
1âˆˆğ‘‡is the subtree of a
structureğ‘¡2âˆˆğ‘‡whenğ‘¡1contains all nodes in the same order as
ğ‘¡2andpotentiallymore,butnotnecessarilytheotherwayaround.
We introduce the following predicate:
subtree(ğ‘¡1,ğ‘¡2)structureğ‘¡1âˆˆğ‘‡isa subtree of structure ğ‘¡2âˆˆğ‘‡
For example, the structure depicted in Figure 2 is a subtree of thestructure in Figure 3, but not a subtree of structure in Figure 4.
Hence:ğ‘ ğ‘¢ğ‘ğ‘¡ğ‘Ÿğ‘’ğ‘’(ğ‘¡
1,ğ‘¡2)but notğ‘ ğ‘¢ğ‘ğ‘¡ğ‘Ÿğ‘’ğ‘’(ğ‘¡1,ğ‘¡3), because ğ‘¡3lacks a
node with the tag SBAR as the firstchild of the rootnode.
Cause-Effect Graphs. Cause-effect graphs are used to represent
thecausality,whichasentenceconveys,inaformalized,graphical
notation [5]. In our approach we limit the extent of cause-effect
graphs to their most simple form, consisting of two nodes, one
representing the cause and one the effect of the causality relation.Cause-effectgraphswillbedenotedas ğ‘”âˆˆğºandareapplicableto
the following predicate:
conveys(g, c) CEGğ‘”âˆˆğºconveys causality ğ‘âˆˆğ¶
For every causal sentence there exists a cause-effect graph thatconveys itscausality:
âˆ€ğ‘ âˆˆğ‘†,âˆƒğ‘âˆˆğ¶:ğ‘ğ‘ğ‘¢ğ‘ ğ‘ğ‘™ğ‘–ğ‘¡ğ‘¦ (ğ‘ ,ğ‘)â†’âˆƒğ‘”âˆˆğº:ğ‘ğ‘œğ‘›ğ‘£ğ‘’ğ‘¦ğ‘ (ğ‘”,ğ‘)
Note that the cause-effect graph is not necessarily equivalent tothe causality. Ensuring that a cause-effect graph extracted from asentence actually represents the causality of that sentence is the
center of the challenge of correct causality extraction.
3.3 Phrase Extraction Methods
Other attempts at causality extraction covered the part of phrase
extraction by selecting certain semantic elements from the sen-tence, for example taking the two noun phrases NP
1and NP 2of
the sentence. Introducing phrase extraction methods is necessary
563Figure 1: Internalrepresentation of a natural languagesentence formalizedvia constituency and dependencyparsing
Figure 2: Syntactic sentence structure
ğ‘¡1ofsentence ğ‘ 1
Figure 3: Syntactic sentence structure
ğ‘¡2of sentence ğ‘ 2Figure 4: Syntactic sentence structure
ğ‘¡3ofsentence ğ‘ 3
forourapproachfortworeasons:first,toprovideindependenceof
semantic information, the extraction of phrases must be based onsyntactic or lexical information. Second, the extent of the phrase,
whichrepresentsapartofthecausality,shallbearbitrarytoensure
thatthecausalitypatternsmeettheneedsfortherequirementsen-gineering process. An example from the prominent SemEval 2010
Task 8 set of annotated sentences isthe following sentence [14]:
Sentence The current view is that the chronic inflamma-
tioninthedistalpartofthestomachcausedby
Helicobacter pylori infection results in an in-
creased acid production from the non-infectedupper corpus region of the stomach.
Causality infection =â‡’inflammation
The causality relation annotated in the SemEval 2010 set of sen-
tences is semantically correct, but causality detection algorithmstrimmed to identifying causal relations of this type are restrictedto ignore a lot of data in comparable sentences. Without claimingto define the borders of causality in a linguistic or philosophical
scope, it is feasible to expect a more encompassing phrase from a
causality phrase extraction method, for example as follows:
Sentence The current view is that the chronic inflamma-
tioninthedistalpartofthestomachcausedbyHelicobacter pylori infection results in an in-creased acid production from the non-infected
upper corpus region of the stomach.
Causality Helicobacter pylori infection =â‡’chronic in-
flammation in the distal part of the stomach
Thecontextofcausalityextractioninrequirementsengineeringis
to extract phrases from a natural language requirements artifact
564that can be reused to generate test cases, possibly even automat-
ically. The information value of an extracted causality is highest
when the extraction is not limited to the two events in a causal
relation represented by a single word, but includes all relevant in-formation like participating actors and conditions. This becomesevidentinthefollowingexample,whereasentencefromthePURE
dataset of requirements artifacts [7] is annotated by a causality,
which only takes into account the connected events:
Sentence If registration is not successful an audible and
visual indication shall be provided.
Causality registration =â‡’indication
Thecausalrelationoftheregistrationandtheindicationisevident,
but vital information is lost in the extraction process. This vital
information is necessary to more precisely define the initial situa-
tion and the expected result of described context. In contrast, the
followingcause-andeffect-phrasewouldprovidethenecessaryin-formationfor later processing, like a test case generation:
Sentence If registration is not successful an audible and
visual indication shall be provided.
Causality registration is not successful =â‡’an audible
and visual indication shall be provided
Anphraseextractionmethod ğ‘’âˆˆğ¸isaprocessthat,whenapplied
to a sentence ğ‘ âˆˆğ‘†, returns a specific phrase from this sentence.
The extracted phrase is a substring of the sentence. An phrase ex-
tractionmethodisdefinedasfollows:forasentenceswithcausal-ityc,theapplicationofthephraseextractionmethodonswillyielda cause-effect graph g. The following predicate is introduced for
phraseextraction methods ğ‘’âˆˆğ¸:
extracts(e, s,g) Phrase extraction method ğ‘’âˆˆğ¸ex-
tracts cause-effect graph ğ‘”âˆˆğºfrom
sentenceğ‘ âˆˆğ‘†
AphraseextractionmethodisgeneratedasoutlinedinAlgorithm1.
In the simplified case of cause-effect graphs for this approach thecause-effectgraphgonlycontains2nodesn,oneforthecauseand
one for the effect.
Algorithm 1 Generate phrase extraction method ğ‘’âˆˆğ¸for causal
sentenceğ‘ âˆˆğ‘†with causality ğ‘âˆˆğ¶
Require: ğ‘ âˆˆğ‘†, cause-effect graph ğ‘”âˆˆğºwhere causality(s, c)
fornodeğ‘›âˆˆğ‘”do
find phrase of n in s
find nodes in the syntactic structure of s, which parent the
phrase of ncreate selector of these nodes and add selector to e
end forreturnğ‘’, where extracts(e, s, g) holds
Theresultingphraseextractionmethodworksbyselectingspe-
cific nodes within a sentence and combining all word nodes, thataredirectorindirectchildrenoftheselectednode,together.Multi-
word expressions are handled by selecting parenting nodes of the
sentence structure, which cover the full expression.IncaseofthesentencedescribedaboveandshowninFigure1,thephrase extraction method extracting the cause-phrase would se-
lect the node S under the node SBAR, which transitively parentsall word nodesof which thecause-phrase consists.Thephrase ex-
tractionmethodextractingtheeffect-phrasewouldselectthenodeNPandVP,whicharedirectchildrenoftherootnode,andcombine
their word nodes to the effect-phrase.
3.4 Causality Patterns
A causality pattern combines the recognition of a causal sentence
with extraction of a cause- and effect-phrase from this unknown
sentence.Thisconnectionisbasedonthegrammaticalequivalenceto a previously known and processed causal sentence example. A
causality pattern consistsof three elements:
â€¢Signature:asubtreeofasyntacticsentencestructure,which
is the indicator forcompliance to a sentence
â€¢Phraseextractionmethod:analgorithm,whichextractsthe
cause- and effect-phrase when applied to a sentence
â€¢Accepted sentences: a list of all causal sentences, that arecomplianttothepatternandapplicablebyitsphraseextrac-tion method
The signature associated with a causality pattern is similar to the
syntactic structure ğ‘¡âˆˆğ‘‡of a sentence, as it represents a sub-tree
of a syntactic structure.
The following predicates are introduced:
signatureOf(p, t) ğ‘¡âˆˆğ‘‡isthe signatureof the pattern ğ‘âˆˆğ‘ƒ
compliant(p, s) sentenceğ‘ âˆˆğ‘†iscomplianttopattern ğ‘âˆˆğ‘ƒ
extractionOf(p, e) ğ‘’âˆˆğ¸is the phrase extraction method of
patternğ‘âˆˆğ‘ƒ
applicable(p, s) sentenceğ‘ âˆˆğ‘†is applicable by the pattern
ğ‘âˆˆğ‘ƒ
accepted(p, s) sentenceğ‘ âˆˆğ‘†is accepted by the pattern
ğ‘âˆˆğ‘ƒ
Generation. A causality pattern can be generated from a causal
sentenceandamanuallycreatedcause-effectgraph.Thesignature
is extracted from the sentenceâ€™s syntactic structure to represent
its grammatical structure, and the phrase extraction methods are
generated from the elements of the cause-effect graph, which are
located within the sentence. The generation and maintenance isfurtherexplainedinSection4.2.Theacceptanceofasentencebya
pattern is determined by evaluating compliance and applicability,
which are explained next.
Compliance. Compliance between a sentence and a pattern de-
termines,whetherthesentencebelongstothegrammaticalequiv-
alenceclasswhichthepatternrepresents.Asentenceiscompliant
toapatternifandonlyifthesignatureofthepatternisasubsetof
the sentence structure. Thisis formally expressed as:
âˆ€ğ‘ âˆˆğ‘†,âˆ€ğ‘âˆˆğ‘ƒ,âˆƒğ‘¡
1,ğ‘¡2âˆˆğ‘‡:ğ‘ ğ‘–ğ‘”ğ‘›ğ‘ğ‘¡ğ‘¢ğ‘Ÿğ‘’ğ‘‚ğ‘“ (ğ‘,ğ‘¡1)âˆ§
ğ‘ ğ‘¡ğ‘Ÿğ‘¢ğ‘ğ‘¡ğ‘¢ğ‘Ÿğ‘’ğ‘‚ğ‘“ (ğ‘ ,ğ‘¡2)âˆ§ğ‘ ğ‘¢ğ‘ğ‘¡ğ‘Ÿğ‘’ğ‘’(ğ‘¡1,ğ‘¡2)â†’ğ‘ğ‘œğ‘šğ‘ğ‘™ğ‘–ğ‘ğ‘›ğ‘¡ (ğ‘,ğ‘ )
Our approach explores an incremental signature: the patternâ€™s
signature consists of as many nodes necessary, such that the fol-lowing two conditions hold:
â€¢The patternâ€™s signature is a subtree to the structure of all
accepted sentences
565Figure 5: Signature ğ‘¡ğ‘2of a hypotheticalpattern ğ‘2
â€¢The patternâ€™s signature is not a subtree to the structure of
all non-causal sentences and causal sentences of different
patterns.
Thiscanbevisualizedwhenreviewingexistingexamples:assume
sentenceğ‘ 2with structure ğ‘¡2visualized in Figure 3 is causal and
sentenceğ‘ 3with structure ğ‘¡3visualized in Figure 4 is not causal.
Then a pattern ğ‘2would minimally require a signature ğ‘¡ğ‘2as vi-
sualized in Figure 5 to differentiate the two sentences. Since ğ‘¡ğ‘2is
a subtree of ğ‘¡2, sentence ğ‘ 2is compliant to pattern ğ‘2. Sentence ğ‘ 3
is not compliant to pattern ğ‘2, becauseğ‘¡ğ‘2is not a subtree of ğ‘¡3.
Note that the pattern ğ‘2would also differentiate between ğ‘ 2and
ğ‘ 3if it had a the signature ğ‘¡1shown in Figure 2, but this signature
would not be minimal because it contains more nodes than neces-
sary.Theconditionsensurethatonlysentencesofsimilarsyntactic
sentencestructurearecomplianttoapatternandthereforeeligible
to be accepted.
Applicability. Applicabilityofasentencebyapatterndetermines,
whether the phrase extraction methods of the pattern extract the
desiredcause-effectgraph.Asentenceisapplicablebyapatternif
thephraseextraction method associated with thepattern extracts
thecause-andeffect-expressionsfromthesentencethatconveyits
causality relation. This isformally:
âˆ€ğ‘âˆˆğ‘ƒ,âˆ€ğ‘ âˆˆğ‘†,âˆƒğ‘’âˆˆğ¸,âˆƒğ‘âˆˆğ¶,âˆƒğ‘”âˆˆğº:ğ‘ğ‘ğ‘¢ğ‘ ğ‘ğ‘™ğ‘–ğ‘¡ğ‘¦ğ‘‚ğ‘“ (ğ‘ ,ğ‘)âˆ§
ğ‘ğ‘œğ‘›ğ‘£ğ‘’ğ‘¦ğ‘ (ğ‘”,ğ‘)âˆ§ğ‘’ğ‘¥ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘¡ğ‘–ğ‘œğ‘›ğ‘‚ğ‘“ (ğ‘,ğ‘’)âˆ§ğ‘’ğ‘¥ğ‘¡ğ‘Ÿğ‘ğ‘ğ‘¡ğ‘ (ğ‘’,ğ‘ ,ğ‘”)
â†’ğ‘ğ‘ğ‘ğ‘™ğ‘–ğ‘ğ‘ğ‘ğ‘™ğ‘’ (ğ‘,ğ‘ )
Acceptance. Asentenceisacceptedbyapatternifthesentenceâ€™s
structure is compliant to the patternâ€™s signature and the sentenceisapplicable by the patterns phrase extraction method.
âˆ€ğ‘ âˆˆğ‘†,âˆ€ğ‘âˆˆğ‘ƒ:ğ‘ğ‘œğ‘šğ‘ğ‘™ğ‘–ğ‘ğ‘›ğ‘¡ (ğ‘,ğ‘ )âˆ§ğ‘ğ‘ğ‘ğ‘™ğ‘–ğ‘ğ‘ğ‘ğ‘™ğ‘’ (ğ‘,ğ‘ )â†’ğ‘ğ‘ğ‘ğ‘’ğ‘ğ‘¡ğ‘’ğ‘‘(ğ‘,ğ‘ )
4 IMPLEMENTATION
ThisSectiondescribestheimplementationofconceptsandthefunc-
tionality of the pattern-based machine learning algorithm, which
will then be evaluated in the following chapter. We invite fellow
researchers to inspect and use our implementation [9] for furtherstudies.
4.1 SystemArchitecture
Thecause-effect recognition system (cerec) provides an interface
whichallowsfortwooperations: training,wherethesystemispro-
videdwithasentenceandadesiredcause-effectgraph,whichcon-
veysthesentenceâ€™scausality.Herethesystemisinducedtocreatea new causality pattern for the sentenceâ€™s syntax, if it does not
already exist. When using the operation testingthe system is pro-
videdonlywithasentence.Ifthesentenceiscausalanditssyntac-
tic structure is already covered by a causality pattern, the system
willattempttogenerateacause-effectgraphfromthesentenceus-
ing the phrase extraction methods associated with the pattern. If
a sentence is not correctly processed â€“ meaning that a causal sen-
tenceiseithernotrecognizedascausaloranon-causalwrongfullyrecognizedascausalâ€“providingamanualcorrectionwillresultin
a training operation to generate a new or adapted pattern.
Thecause-effect recognition is the core of the cerec system and
tasked with the maintenance of pattern correctness, which is indetail explained in Section 4.2. This system contains three major
elements:
â€¢NLPunit:usedtoformalizenaturallanguagesentencesinto
the internal representation mentioned in Section 3.2
â€¢CommandGenerator :usedtogeneratephraseextractionmeth-
ods mentioned in Section 3.3
â€¢database of patterns: contains all generated causality pat-
terns,whereeachpatternhasthestructuredescribedinSec-
tion 3.4
Furthermore, the cerec system keeps track of all discovered non-causal sentences: as non-causal sentences are not associated with
any pattern, they are stored by the system directly, which is ofimportance for the maintenance of pattern correctness, later de-
scribed in Section 4.2. We use the OpenNLP and Maltparser [18]
for the NLP unit.
4.2 Maintenanceof Pattern Correctness
Principles of Maintenance. In order to ensure the correctness of
thedatabaseofpatterns,asetofprinciplesmustbeupheld.Theseprinciples formalize how the training data â€“ both causal and non-causalsentencesâ€“constructstheknowledgedatabaserepresented
by the existing patterns.
The most basic principle is the core assumption of the syntactic
cause-effect recognition approach: causal sentences of syntacticsimilarityarelikelytohavetheircausalphraseslocatedatthesame
position within the sentence, which is the foundation of pattern-baseddetectionandextractionalgorithms[11][12][8].Thesecausal
phrases are therefore retrievable by the same phrase extraction
methods. Thisderivation can be denoted as follows:
âˆ€ğ‘ âˆˆğ‘†,âˆƒğ‘âˆˆğ¶,âˆƒğ‘âˆˆğ‘ƒ:ğ‘ğ‘ğ‘¢ğ‘ ğ‘ğ‘™ğ‘–ğ‘¡ğ‘¦ (ğ‘ ,ğ‘)âˆ§ğ‘ğ‘œğ‘šğ‘ğ‘™ğ‘–ğ‘ğ‘›ğ‘¡ (ğ‘,ğ‘ )â†’
ğ‘ğ‘ğ‘ğ‘™ğ‘–ğ‘ğ‘ğ‘ğ‘™ğ‘’ (ğ‘,ğ‘ )
Thisprinciplejustifiestohavesentencesofsimilarsyntacticstruc-
tureacceptedbythesamecausalitypattern.Allacceptedsentences
of a pattern are compliant to the signature of a pattern and there-
foresharesyntacticsimilarities.Thismakesitlikelyforthephraseextraction methods associated with the pattern to extract the cor-
rect cause-effect graph.
The second principle is that every already discovered non-causal
sentencemustbenon-complianttoeverypattern,whichformallytranslates to:
âˆ€ğ‘âˆˆğ‘ƒ,âˆ€ğ‘ âˆˆğ‘†,Â¬âˆƒğ‘âˆˆğ¶:ğ‘ğ‘ğ‘¢ğ‘ ğ‘ğ‘™ğ‘–ğ‘¡ğ‘¦ (ğ‘ ,ğ‘)â†’Â¬ğ‘ğ‘œğ‘šğ‘ğ‘™ğ‘–ğ‘ğ‘›ğ‘¡ (ğ‘,ğ‘ )
566Toensurethatalreadydiscoverednon-causalsentencesarenot
compliant to a newly introduced pattern, each signature must be
specified in a way to comply to both principles of maintenance.
Theprocessofachievingthiswillbetechnicallyexplainedinnext
section and brought into context in section thereafter.
Signature Specification. An important process for the mainte-
nance of pattern correctness in regard to incremental patterns isthe specification of a patternâ€™s signature. The incremental nature
of the signature, which defines the grammatical class of each pat-
ternandisusedtodetermineasentenceâ€™scompliancetoit,derivesthat the structure consists only of as many nodes such that it ful-
fillsall principles of maintenance.
The overall goal of the machine learning algorithm is to identify
all sentences, which are applicable to the same phrase extractionmethod. To ensure that as many sentences as possible are identi-
fiedbytheirrespectivecausalitypatterns,thepatternâ€™sidentifying
signature must be minimal in size of nodes: each additional node
risksthatasentence, which would beapplicable bythe phraseex-traction method of the causality pattern, is not compliant to the
patternanymore,becauseonenodeofthesentenceâ€™sstructuredif-
ferentiates itfrom the patternâ€™s signature.
The specification process is applied when a sentence is compliant
to a pattern, but the sentence is not applicable to the patternâ€™sphraseextractionmethod,thereforeviolatingthefirstprincipleofmaintenance. A sentence which is compliant to a pattern but not
applicablebyitsphraseextractionmethodwillbereferredtoasan
intruder, because the sentence is falsely compliant to the pattern.
An intruder can be causal ornon-causal:
â€¢Causal intruders are compliant to a pattern but the phraseextraction method of the pattern does not extract the de-siredcause-effect graph
â€¢Non-causal intruders are compliant to a pattern, althoughthey should never be
Anintrudercanonlybedetectedifhisactualcausalityisprovided.
Knowing the actual causality of a sentence requires semantic do-mainknowledge andmustbeprovided bya human, eitherbefore-
hand when preparing training samples or as an correction during
the online usage of the system. If an intruder is detected, the pat-ternâ€™s signature must be more specific in order to prevent the pat-
ternâ€™s compliance to the intruder. This correction improves the
causality detection and extraction of the cerec system in provid-ing furtherdata forthe machine-learning algorithm.
Thespecificationofthesignaturecantaketwoforms:inthemost
generalform,additionalnodesareaddedtothepatternâ€™sstructure.
These nodes are taken from the set of accepted sentences, in or-
der to maintain compliance of the accepted sentences. The algo-rithm specifically searches for a position in the signature whereall accepted sentences contain the same node while the intruding
sentenceisdifferent.Thisnodeisidentifiedasandifferentiatorbe-
tween the accepted sentences and the intruder. Adding the differ-entiatortothepatternâ€™ssignaturewillmaintainthecomplianceto
the accepted sentences, while revoking the compliance to the in-
truder. During this process the patternâ€™s signature incrementallyreconstructsthe structureof the accepted sentences.
The other form of specifying a signature is enforcing additionalconstraintsoncertainnodesofthepatternâ€™ssignature.Theimple-mentation explored in our approach uses lexical constraints: ex-plicitly causal cue phrases like "because" or "if" are highly eligi-
bleindicatorsfordifferentiatingbetweensyntacticallysimilar,but
causallydifferentsentences.Alexicalconstraintaddedtoanodeofthepatternâ€™ssignaturemeansthatanysentence,thatiscompliant,
mustalsocontainthisspecifickeywordasawordnodetransitively
parented by the node, to which the constraint isapplied.
Whenasignaturespecificationprocessistriggered,alleligibledif-
ferentiatingspecificationsarelistedandorderedbydegreeofpreci-sion.Aspecificationismoreprecisewhenthechangestothesigna-tureareminimal,whichreducestheriskoflaterdisregardingsen-
tences, which would be accepted but are not compliant anymore
due to an overfitting of the signature. The most precise specifica-tion is applied.
Training causal Sentences. When training a causal sentence in
thecerecsystem,asentencealongsideacause-effectgraph,whichconveysitscausalityrelation,isgiven.Thefirststepofthesystemis to check if any existing pattern is compliant to the given sen-
tence.
Ifnopatternisfound,thenthegivensentencestructureisnoveltothesystemandneedstobeestablished.Anewpatternisgenerated
in the following steps: first, an identifying signature is associated
with the pattern. Following the nature of the incremental signa-
tures,thissignatureinitiallyconsistsjustoftheminimalrepresen-
tation of the structure of its first accepted sentence: the root nodeofthesentenceâ€™sstructure,whichisanS-nodeidentifyingthetree
as structure of a sentence.
WithjustthisminimalS-nodeasasignaturethenewpatternwould
violate the second principle of maintenance, as all previously dis-
covered non-causal sentences would be falsely compliant to the
pattern, since every sentenceâ€™s structure is rooted in the S-node.
Thisisovercomebyapplyingthespecificationalgorithmdescribed
intheprevioussection:thepatternâ€™ssignatureisspecifiedagainsteverypreviouslydiscoverednon-causalsentence,untilnonon-causalsentenceiscomplianttothenewpatternandthereforethesecond
principle upheld.
Next, a phrase extraction method is tailored to retrieve the cause-effectgraphthatconveysthesentenceâ€™scausalityrelationfromthe
sentence. This is done by dynamically constructing an algorithm
asdescribedinSection3.3.Inalaststepthegivensentenceisaddedasanacceptedsentencetothenewpattern,asthissentenceâ€™saffil-
iation with the pattern isconfirmed.
Thetrainingalgorithmisdifferentwhenanexistingpatternisfound
to which the causal sentence is compliant. Two cases are possiblefrom here: if the sentence is also applicable to the phrase extrac-
tionmethodassociatedwiththepattern,thenthiscausalsentenceis already covered by the cerec system and correctly recognized.
Thesentenceisaddedtotheacceptedsentencesofthepatternand
adds no new pattern to the database.If the sentence is not applicable to the phrase extraction method
associated with the pattern, to which the sentence is compliant,
then the sentence violates the first principle of maintenance: thesentenceiscomplianttoapattern,butnotapplicablebyitsphrase
extraction methods.
567Thisisresolvedbyspecifyingthepatternagainsttheintrudingsen-
tence and creating a new pattern for the causal intruder. The re-
sultwillbetwopatternswithverysimilarstructuresassociatedto
them, but different enough to differentiate the accepted sentences
of the original pattern from the intruding sentence. The new pat-tern will be provided with a specific phrase extraction method to
preserve the firstprinciple of maintenance.
Trainingnon-causalSentences. Whentrainingacausalsentence
in the cerec system, only a sentence is given. The first step of the
systemisagaintocheckifanyexistingpatterniscomplianttothe
given sentence.
Ifnopatternisfound,thenthenon-causalsentenceiscorrectlydis-carded.Thecerecsystemaddsthesentencetoitslistofnon-causal
sentences for furtherprocessing.
If a pattern is found, to which the sentence is compliant, then thesecond principle of maintenance is violated. This is resolved by
specifying the structure of the compliant pattern against the non-
causal intruder. The specification process results in the incremen-
taladditionofnodesorconstraintstothepatternâ€™ssignature,until
the intruding sentence is no longer compliant to the pattern andthe second principle of maintenance therefore upheld.
5 EVALUATION
Thepurposeofthefollowingpreliminarystudyistoprovethefea-
sibility of the causality recognition and phrase extraction methodbased on syntactic similarities. For this, we use the cerec systemasdescribedinSection4withlexicalconstraintsandtrainasetof
requirementsartifacts containing natural language sentences.
5.1 Design
A publicly available dataset Acontaining requirements artifacts
ğ‘âˆˆğ´was selected for the evaluation of the implemented ap-
proach. The obvious choice is the SemEval 2010 Task 8 dataset
[14],whichisoftenusedfortheevaluationofcausalityextractionapproaches because causal sentences are already annotated. How-
ever, the annotated causal phrases are limited to pairs of events,
predominantlytwonouns,insemanticallycausalrelation.Ourpro-posedalgorithmworksonthedataset,butevaluatingitseffective-
ness by detecting causally related noun-pairs defeats the purpose
of tailoring the proposed algorithm to requirements engineering.Instead we used the PURE dataset of public requirements docu-
ments[7][6]andmanuallyannotatedthe18availableartifactsfor
evaluation.Onlyfullnaturallanguagesentenceswereregarded,asthesearesubjecttoourapproach.The18datasetscollectivelycon-
tained 4457 sentences, 558 of which (12.52%) are causal.
Toassessourapproachweformulatedthefollowingresearchques-
tions:
â€¢RQ1:Howeffectiveisthealgorithminautomaticallydetect-
ingandextractingcausalrelationsinasinglerequirementsdocument?
â€¢RQ2:Howeffectiveisthealgorithminautomaticallydetect-ingandextractingcausalrelationsinasinglerequirementsdocument with previoustraining?
To evaluate the effectiveness of the algorithm, the system will be
fully trained : a dataset will be randomly ordered and provided tothe system sentence by sentence in a trainingoperation. The sys-
temwillperformthisoperationandevaluatetheprocesswithoneof the following flags:
â€¢creationsuccessful/failed(crea+/crea-):acausalsentencehasnot been accepted by an existing pattern. The creation of a
new pattern is attempted
â€¢recognition successful (rec+): a causal sentence is accepted
by an existing pattern and the causal relation has been ex-
tracted accordingly
â€¢specificationsuccessful/failed(spec+/spec-):asentencehas
been compliant to an existing pattern, but not applicable
to its phrase extraction method, so a pattern specification
process to restore the principles of maintenance has beenattempted
â€¢discardingsuccessful(disc+):anon-causalsentencehasnotbeen accepted by an existing pattern
â€¢deflection successful/failed (defl+/defl-): a non-causal sen-
tence has been compliant to an existing pattern, so a pat-
tern specification process to restore the principles of main-tenance hasbeen attempted
The eight flags compose the containing set F:
ğ¹={ğ‘Ÿğ‘’ğ‘+,ğ‘‘ğ‘–ğ‘ ğ‘+,ğ‘ğ‘Ÿğ‘’ğ‘+,ğ‘ğ‘Ÿğ‘’ğ‘âˆ’,ğ‘ ğ‘ğ‘’ğ‘+,ğ‘ ğ‘ğ‘’ğ‘âˆ’,ğ‘‘ğ‘’ğ‘™ğ‘“+,ğ‘‘ğ‘’ğ‘™ğ‘“âˆ’}
The full training process simulates the expected user interaction
withthesystem:whilewritingnaturallanguagesentencesofare-
quirementsdocument,thesystemattemptstodetectacausalityinevery sentence upon its completion. If a causal sentence is recog-
nizedandthecausalphrasesareextractedcorrectly,theprocessis
flagged as rec+. If the causal sentence is not recognized, the inter-
acting user can manually provide the cause- and effect-phrase of
thesentenceandtrainthesystembyprovidingthecausalrelation
alongsidethesentence.Thisinformationisusedforatrainingpro-cessanduponsuccesswillgenerateanewpattern,whichflagsthe
process as crea+. Should this process fail for any reason, the pro-
cess is flagged as crea-. Should the algorithm detect the causality
of a sentence but extract a cause- and effect-expression that doesnot align with the userâ€™s perception of the conveyed causality, he
can manually correct the cause- and effect-expression of the sen-tence, which will be used for a specification process as described
inSection4.2,asthesentenceisseeminglycomplianttoapattern
but not applicable by its phrase extraction method.If the specification succeeds, the run is flagged as spec+â€“ other-
wisespec-. If a non-causal sentence is non-compliant to any pat-
tern, the sentence is correctly discarded, which is flagged as disc+.
Ifthe non-causal sentence is wrongfully compliant to a pattern, a
specification algorithm has to be performed again to deflect theintruder,butwiththeexceptionthatnonewpatterniscreatedforthenew,non-causalsentence.Ifthespecificationsucceeds,therun
is flagged as defl+â€“ otherwise defl-. The overall training process
isillustratedinFigure6.Hereprocessesarewritteninround-edge
boxes and can resultin success or failure.
568Figure 6: Decision diagram on the trainingprocess
5.2 Measures
Thedistributionofoccurringflagsallowstoevaluatetheeffective-
nessofthealgorithm.Weintroducethenotation ğ‘›ğ‘“(ğ‘)asthenum-
beroftrainingprocessesoftheartifact ğ‘âˆˆğ´taggedwithaspecific
flagğ‘“âˆˆğ¹.
Thesystemâ€™staskistwofold:the detection ofacausalrelationina
sentence,whichisequivalenttoaclassificationaseithercausalor
non-causal,andthe extraction ofacause-effectgraphfromacausal
sentence. Both tasks are evaluated using the precision, recall andf-scoremeasures.
Incaseofdetection,truepositivecasesareallprocessedsentencesflaggedas rec+,spec+,and spec-,sincethesearethecases,wherea
causalsentenceiscomplianttoanexistingpattern.TherecallvalueofthistaskiscalculatedasdescribedinEquation1andrepresents,how many of the causal sentences were classified as such.
ğ‘Ÿğ‘’ğ‘ğ‘ğ‘™ğ‘™(ğ‘)=ğ‘…(ğ‘)=ğ‘›
ğ‘Ÿğ‘’ğ‘+(ğ‘)+ğ‘›ğ‘ ğ‘ğ‘’ğ‘+(ğ‘)+ğ‘›ğ‘ ğ‘ğ‘’ğ‘âˆ’(ğ‘)
ğ‘›ğ‘(ğ‘)(1)
Incaseofextraction,truepositivecasesareallprocessedsentences
flagged as rec+. The recall value of this task is calculated as de-
scribed in Equation 2 and represents, from how many sentences
the cerec system automatically and correctly extracted the cause-
effect-graph, hence it is also referred to as recognitionrate.
ğ‘Ÿğ‘’ğ‘ğ‘ğ‘™ğ‘™(ğ‘)=ğ‘…(ğ‘)=ğ‘›ğ‘Ÿğ‘’ğ‘+(ğ‘)
ğ‘›ğ‘(ğ‘)(2)
5.3 RQ1: Effectiveness ofthe algorithm
without training
The study of RQ1 simulates the use of the system in an environ-
ment without any previous training, which means that no causal-
ity patterns exist at the start of the evaluation. Table 1 shows theresults of the measures on the requirements artifacts on the left
side.
Figure 7: Recall trend inrelation to ğ‘›ğ‘(ğ‘)
Twomajorinsightscanbederivedfromtheresultsofthisstudy:
first,theoverallnumberofcausalsentencesisdirectlyproportion-atetotherecognitionrate.Therecallofartifactswithmorecausal
sentences tends to be higher as indicated in Figure 7. The relationbetweennumberofcausalsentencesandrecognitionrateisdueto
the nature of the machine learning approach, where an increased
numberoftrainingdataprovidesmorepatterns,whichthesystemcan learn and reuse fordetection and extraction later.
Thesecondinsightisthatalsothenumberofcausallinguisticpat-
terns used is directly proportionate to the recognition rate. Thiscan be observed when comparing the results of the two artifacts
phinandqheadache with each other: even though they contain al-
most the same amount of causal sentences, qheadache presents
a significantly higher precision and recall in both detection and
extraction. Investigating the resulting patterns yields that the re-
peateduseofacausallinguisticpattern"If<S>,<NP><VP>."gen-eratedapatternwiththesignatureshowninFigure8.Oncethepat-
tern was established by manually annotating the first occurrence
569Artifact a n(a)nc(a) RQ1: withoutprevious training RQ2: withprevious training
Detection Extraction Detection Extraction
PRF1PRF1PRF1PRF1
blitdraft 671989.1343.1558.1575.015.7826.08100.021.0534.78100.021.0534.78
cctns 1832887.520.032.5584.6115.7126.5100.014.2825.0100.07.1413.33
dii 4010.00.00.00.00.00.00.00.00.00.00.00.0
eirene 5206681.5737.5751.4574.3124.5436.984.7333.6348.1583.4730.644.78
eirene fun 61614094.053.7168.3693.448.5763.995.8148.9964.8395.4444.8561.03
ertms 2234290.2944.2859.4285.9129.0443.41100.023.838.46100.019.0432.0
gammaj 203 30.00.00.00.00.00.066.6666.6666.6650.033.3340.0
gemini 3921233.333.336.0633.333.336.0666.6616.6626.6650.08.3314.28
getreal 9920.00.00.00.00.00.00.00.00.00.00.00.0
keepass 1914691.345.6560.8686.6628.2642.62100.036.9553.96100.023.9138.59
microcare 398100.020.033.33 0.00.00.0100.012.522.22 0.00.00.0
peering 1311360.018.4628.2327.274.617.89100.023.0737.5100.015.3826.66
peppol 6568171.8717.0327.5456.458.6414.9895.4510.3718.787.53.456.65
phin 1841472.7211.4219.7540.02.855.3386.8447.1461.1154.548.5714.81
qheadache 10714100.058.5773.87100.045.7162.74100.042.8560.0100.035.7152.63
tcs 5483465.6212.3520.7945.05.299.4767.3918.2328.755.8811.1718.62
themas 1782897.9167.1479.6697.0146.4262.8100.031.4247.82100.021.4235.29
video search 80791.6631.4246.883.3314.2824.39100.014.2825.0100.014.2825.0
Table 1: Performance of automaticcausalitydetection and extraction
Figure8:Signatureofthemostprominentpatterngenerated
fromthe qheadache requirements artifact
of this linguistic pattern, all comparable sentences were compli-
antandalsoapplicablebythegeneratedphraseextractionmethod.
Sentenceslike"Ifthefilewascorrectlyupdated,thereisnooutput."
and "If the game is not saved, a dialog box is displayed that asks
to the player if he wants to save the game." are compliant to thepattern and the phrase extraction method generated the correct
cause- and effect-phrase, therefore successfully automatizing the
causality recognition and extraction forthese sentences.
The consequence of the two insights are discussed in the conclu-
sion.
5.4 RQ2: Effectiveness ofthe algorithm with
previous training
The study of RQ2 simulates the use of the system in an environ-
ment with previous training, which means that causality patternsalreadyexistatthestartoftheevaluation.Tosimulatethis,eachoftherequirementsartifactswastestedasinRQ1,butonlyafterthe
system has been previously trained with all other artifacts before-
hand, effectively starting the training with all patterns extracted
from the other artifacts. The results are shown in Table 1 on the
right side.
Compared to the results of RQ1, the effect of previous training
of the cerec system is not entirely positive: the precision has in-creased partially, which means that more of the compliant sen-
tenceswereactuallycausalandrecognizedsuccessfully.Thiscomes
atthecostofapartiallydecreasedrecall,whichmeansthatlesssen-
tenceswerecomplianttopatternsingeneral.Intotalthesechanges
result in no overall improvement of the f-score compared to RQ1.
The training beforehand established a large set of patterns based
on a corpus vastly outnumbering the sentences contained by the
artifact under test. These patterns have undergone a multitude
of specification processes as described in Section 4.2, which ac-
counts for the increase in precision of the overall algorithm. On
theotherhand,theincreasedspecificityofpatternscauseslesssen-
tences of the artifact under test to be compliant. This represents
that the specification process is focused on preventing false posi-
tives, hence reducing the recall.
The evaluation of RQ2 shows that the system does not yet profit
from an increased beforehand training, which leaves room for im-provingthescalabilityoftheapproach.Reevaluatingthefocuson
precision by balancing the specification process more in favor of
recall is to be explored in future approaches.
Itisworthmentioningthatthelackofimprovementinrecallwhen
performingRQ2incontrasttoRQ1isfurtherrootedinthefactthat
the evaluation was performed on a very heterogeneous set of re-
quirements,writtenbydifferentauthorsfromdifferentdomains.A
570commontemplateorguidelineforwritingrequirementswasmost
probablyabsent,whichwouldhaveincreasedthesimilarityoflin-guistic causality patterns and therefore the recognition rate. The
evaluationwasfromthisperspectiveperformedunderworst-case
conditionswithartifactsthatarebiasedagainstalearningsystemthat relies on consistency and patterned expressions, which miti-
gates the benefit fromprevious training.
6 CONCLUSION
6.1 Limitations
Twomajorlimitationsrestrictthegeneralizabilityofourstudyap-
proach:first,theapproachisrestrictedtorecognizingandextract-
ing a simplified form of cause-effect-graphs, consisting only of a
cause- and a effect-phrase, when in reality conveyed causalities
may be a lot more complex. Regarding arbitrarily complex cause-effect graphs as formalized causalities improves the applicability
of the causality recognition and extraction approach, but may im-
pose a challenge on the cerec system in terms of the recognitionrate.
Secondly, the study only investigates the theoretic capability of
anautomaticcausalityextractionsystemwhiledisregardinganac-tualimplementationinpractice.FollowingRoelWieringaâ€™sdesign
scienceapproach[29],theprocessframedas scalinguptopractice,
whichcoverstreatmentvalidation,implementationandimplemen-
tationevaluation,isstillrequiredinordertoexplorethesensitivityof oursolution proposal to the practical context.
Further limitations include the exclusive focus on intersentential
causalityandthatpatternsâ€™signaturesarerestrictedtolexico-syntactic
structures, which disregards the semantic component of causality.
The implication of these limitations for the detection and extrac-
tionofcausalrelationsfromnaturallanguagerequirementsispart
of an ongoing study.
6.2 Discussion
Though the range of recall values peaks at a promising 48.57%,
some artifacts are evaluated with a recognition rate of 0.0%. Thedeviationofsuccessinrecognitionleadstotwoobservations:first
ofall,theproposedcerecsystemlacksinmaturityandhasstilldif-ficulties in maintaining a consistent level of causality recognition.
Possible improvements presented in Section 6.3 may improve the
robustnessof the approach.Secondly, some requirements artifacts are more eligible for an au-
tomatic causality recognition and extraction. Two major factors
influence the applicability of a syntactic causality recognition ap-proach:
(1) Numberofcausalsentences:ahighernumberofcausalsen-
tencesincreasesthenumberofcausalitypatterns,whichare
directly proportionate to the recognition rate
(2) Recurringlinguisticcausalitypatterns:reusingformulations
for conveying causal relations increases the probability ofpattern compliance and phrase extraction method applica-
bility
Thesederivationsareespeciallyinterestingwhenbringingthepro-
posed approach of automatic causality recognition in relation touserinteraction:encouragingtocomplytothederivedrecommen-dations may drastically increase the usage of causal sentences as
wellastherecognitionrateofthecerecsystem,furtherbenefiting
the automatized requirements formalization.
6.3 Futurework
Apart from the future work of overcoming the mentioned limita-
tions by utilizing the derivations outlined in the discussion, otheraspects of the an automatic causality extraction approach are eli-
gible for furtherinvestigation.
Thesignatureofacausalitypatterndoesnotonlyconsistofasub-
tree of a syntactic sentence structure, but may apply additionalconstraintstoincreasethespecificityofthesignature.Thepossibil-
itiesofdifferentconstraintsandtheirinfluenceontherecognitionrate may yield interesting results on the relation between causal
sentences an specific semantic, syntactic and lexical attributes.
Furthermoreanintegrationofthecausalityrecognitionandextrac-tion system into a full pipeline dedicated to automatically gener-
ating artifacts like test cases from natural language requirements
documents may be of interest for validating the context, in whichthe cerec system is supposed to be used. Research in this direc-
tion approaches the application of the causality recognition and
extractionandmaygenerateactualvaluefortherequirementsen-gineering phase as well as other downstream phases.
Lastly,thepotentialofthesyntacticpatternsmightbeutilizedwith
different semantic relationships: as the patterns used in our ap-proach simply associate a lexico-syntactic structure to a phrase
extractionmethodretrievingcertainpartsofthesentence,thealgo-
rithmcouldbetailoredtowardsanysemanticrelationandcontext.
This may initiate a discussion about the degree of connection be-
tweensemanticrelationsandthesyntacticstructureofsentences.Overall, the results presented in Section 5 prove, that the isolatedprocessofautomaticcausalityextractionbasedonlexico-syntactic
patterns holds great potential with an recognition rate of up to
48.57%,supportingourconfidenceintheviabilityofthisapproach
for the requirements engineering context.
ACKNOWLEDGMENTS
We would like to acknowledge that this work was supported by
the KKS foundation through the S.E.R.T. Research Profile project
atBlekingeInstituteofTechnology.WewouldfurtherliketothankDiegoMarmsolerandthereviewersofthispaperfortheirvaluable
feedback.
REFERENCES
[1] NabihaAsghar.2016. Automaticextractionofcausalrelationsfromnaturallan-
guage texts:a comprehensive survey. arXivpreprintarXiv:1605.07895 (2016).
[2] Raja Ayyanar, George Koomullil, and Hariharan Ramasangu. 2019. Causal Re-
lation Classification using Convolutional Neural Networks and Grammar Tags.
In2019 IEEE 16thIndia Council InternationalConference (INDICON) .IEEE,1â€“3.
[3] Eduardo Blanco, Nuria Castell, and Dan I Moldovan. 2008. Causal Relation Ex-
traction.. In Lrec.
[4] Ki Chan and Wai Lam. 2005. Extracting causation knowledge from natural lan-
guage texts. InternationalJournal of IntelligentSystems 20, 3 (2005), 327â€“358.
[5] WilliamRElmendorf.1973. Cause-effectgraphsinfunctionaltesting. IBMPough-
keepsie Laboratory.
[6] Alessio Ferrari. [n.d.]. PURE: publicly available datasets.
https://zenodo.org/record/1414117#.X0pItDVCRPY. Accessed: 2020-03-21.
571[7] Alessio Ferrari, Giorgio Oronzo Spagnolo, and Stefania Gnesi. 2017. Pure: A
dataset of public requirements documents. In 2017 IEEE 25th International Re-
quirementsEngineering Conference (RE) . IEEE,502â€“505.
[8] JannikFischbach,MaximilianJunker,AndreasVogelsang,andDietmarFreuden-
stein. 2019. Automated Generation of Test Models from Semi-Structured Re-
quirements.In 2019IEEE27thInternationalRequirementsEngineeringConference
Workshops (REW) .IEEE, 263â€“269.
[9] Julian Frattini. [n.d.]. Source code of the cerec system.
https://zenodo.org/record/4009160#.X0zuUYtCRPY. Accessed: 2020-08-31.
[10] Norbert E Fuchs and Rolf Schwitter. 1995. Controlled natural language for re-
quirements specifications. (1995).
[11] RoxanaGirju.2003. Automaticdetectionofcausalrelationsforquestionanswer-
ing.InProceedingsoftheACL2003workshoponMultilingualsummarizationand
question answering-Volume 12 . Association for Computational Linguistics, 76â€“
83.
[12] Roxana Girju, Dan I Moldovan, et al. 2002. Text mining for causal relations.. In
FLAIRSconference. 360â€“364.
[13] Michal Gordon and David Harel. 2009. Generating executable scenarios from
natural language. In International Conference on Intelligent Text Processing and
ComputationalLinguistics .Springer, 456â€“467.
[14] Iris Hendrickx, Su Nam Kim, Zornitsa Kozareva, Preslav Nakov, Diarmuid O
SÃ©aghdha, Sebastian PadÃ³, Marco Pennacchiotti, Lorenza Romano, and Stan Sz-
pakowicz. 2010. Semeval-2010 task 8: Multi-way classification of semantic rela-
tionsbetweenpairsofnominals.In Proceedingsofthe5thInternationalWorkshop
on SemanticEvaluation .AssociationforComputational Linguistics, 33â€“38.
[15] Christopher SG Khoo, Syin Chan, and Yun Niu. 2000. Extracting causal knowl-
edge from a medical database using graphical patterns. In Proceedings of the
38th Annual Meeting on Association for Computational Linguistics . Association
forComputational Linguistics, 336â€“343.
[16] RaÃºl LapeÃ±a, Jaime Font, Carlos Cetina, and Ã“scar Pastor. 2018. Exploring new
directions in traceability link recovery in models: The process models case. In
InternationalConferenceonAdvancedInformationSystemsEngineering .Springer,
359â€“373.
[17] AlistairMavin,PhilipWilkinson,AdrianHarwood,andMarkNovak.2009. Easy
approachtorequirementssyntax(EARS).In 200917thIEEEInternationalRequire-
ments Engineering Conference . IEEE,317â€“322.
[18] Joakim Nivre, Johan Hall, and Jens Nilsson. 2006. Maltparser: A data-driven
parser-generator for dependency parsing.. In LREC, Vol.6. 2216â€“2219.[19] AmitParadkar,Kuo-ChungTai,andMladenA.Vouk.1997. Specification-based
testing using cause-effect graphs. Annals of Software Engineering 4, 1 (1997),
133â€“157.
[20] MartaRecasens,LluÃ­sMÃ rquez,EmiliSapena,MAntÃ²niaMartÃ­,MarionaTaulÃ©,
VÃ©ronique Hoste, Massimo Poesio, and Yannick Versley. 2010. Semeval-2010
task 1: Coreference resolution in multiple languages. In Proceedings of the 5th
International Workshop on Semantic Evaluation . Association for Computational
Linguistics, 1â€“8.
[21] BryanRink,CosminAdrianBejan,andSandaHarabagiu.2010. Learningtextual
graph patterns to detect causal event relations. In Twenty-Third International
FLAIRS Conference.
[22] Matt Selway, Georg Grossmann, Wolfgang Mayer, and Markus Stumptner.
2015. Formalising natural language specifications using a cognitive linguis-tic/configuration based approach. Information Systems 54 (2015), 191â€“208.
[23] Mamta Sharma et al. 2010. Automatic generation of test suites from decision
table-theory and implementation. In 2010 Fifth International Conference on Soft-
wareEngineering Advances .IEEE,459â€“464.
[24] Hyun Seung Son, R Young Chul Kim, and Young B Park. 2014. Test case gener-
ation from cause-effect graph based on model transformation. In 2014 Interna-
tional Conference on Information Science & Applications (ICISA) .IEEE,1â€“4.
[25] Praveen RanjanSrivastava, ParshadPatel,andSiddharthChatrola.2009. Cause
effect graph to decision table generation. ACM SIGSOFT Software Engineering
Notes34, 2 (2009), 1â€“4.
[26] Mark Utting, Alexander Pretschner, and Bruno Legeard. 2012. A taxonomy of
model-based testing approaches. Software testing, verification and reliability 22,
5 (2012), 297â€“312.
[27] Marc Verhagen, Roser Sauri, Tommaso Caselli, and James Pustejovsky. 2010.
SemEval-2010Task13:TempEval-2.In Proceedingsofthe5thinternationalwork-
shop on semanticevaluation .57â€“62.
[28] StefanWagner,DanielMÃ©ndezFernÃ¡ndez,MichaelFelderer,AntonioVetrÃ²,Mar-
cos Kalinowski, Roel Wieringa, Dietmar Pfahl, Tayana Conte, Marie-ThereseChristiansson, Desmond Greer, et al. 2019. Status quo in requirements engi-neering:Atheoryandaglobalfamilyofsurveys. ACMTransactionsonSoftware
Engineering and Methodology (TOSEM) 28, 2 (2019), 1â€“48.
[29] Roel J Wieringa. 2014. Design science methodology for information systems and
softwareengineering . Springer.
572