Interval Change-Point Detection
for Runtime Probabilistic Model Checking
Xingyu Zhao
Heriot-Watt University
Edinburgh, U.K.
xingyu.zhao@hw.ac.ukRadu Calinescu
University of York
York, U.K.
radu.calinescu@york.ac.ukSimos Gerasimou
University of York
York, U.K.
simos.gerasimou@york.ac.uk
Valentin Robu
Heriot-Watt University
Edinburgh, U.K.
v.robu@hw.ac.ukDavid Flynn
Heriot-Watt University
Edinburgh, U.K.
d.flynn@hw.ac.uk
ABSTRACT
Recent probabilistic model checking techniques can verify relia-
bilityandperformancepropertiesofsoftwaresystemsaffectedby
parametric uncertainty. This involves modelling the system be-
haviour using interval Markov chains, i.e., Markov models with
transition probabilities orrates specified as intervals. These inter-
vals can be updated continually using Bayesian estimators with
imprecise priors, enabling the verification of the system properties
of interest at runtime. However, Bayesian estimators are slow to
reacttosuddenchangesintheactualvalueoftheestimatedparam-
eters, yielding inaccurate intervals and leading to poor verification
results after such changes. To address this limitation, we introduce
anefficientintervalchange-pointdetectionmethod,andweinte-
grateitwithastate-of-the-artBayesianestimatorwithimprecise
priors.Ourexperimentalresultsshowthattheresultingend-to-end
Bayesian approach to change-point detection and estimation of
interval Markov chain parameters handles effectively a wide range
ofsuddenchangesinparametervalues,andsupportsruntimeprob-
abilistic model checking under parametric uncertainty.
CCS CONCEPTS
â€¢Software and its engineering â†’Software verification and
validation ;â€¢Computersystemsorganization â†’Reliability ;â€¢
Mathematicsofcomputing â†’Bayesiancomputation ;Metro-
polis-Hastings algorithm.
KEYWORDS
Change-point detection, interval Markov chains, Bayesian infer-
ence,impreciseprobability,probabilisticmodelchecking,runtime
verification, interval model checking
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
on the first page. Copyrights for components of this work owned by others than ACM
mustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,orrepublish,topostonserversortoredistributetolists,requirespriorspecificpermissionand/ora
fee. Request permissions from permissions@acm.org.
ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia
Â©2020 Association for Computing Machinery.
ACM ISBN 978-1-4503-6768-4/20/09...$15.00
https://doi.org/10.1145/3324884.3416565ACM Reference Format:
Xingyu Zhao, Radu Calinescu, Simos Gerasimou, Valentin Robu, and David
Flynn. 2020. Interval Change-Point Detection for Runtime Probabilistic
Model Checking. In 35th IEEE/ACM International Conference on Automated
SoftwareEngineering(ASEâ€™20),September21â€“25,2020,VirtualEvent,Aus-
tralia.ACM, New York, NY, USA, 12 pages. https://doi.org/10.1145/3324884.
3416565
1 INTRODUCTION
Detectingsuddenchangesintheparametersofasoftwareorsoft-
ware-controlledsystemhasaplethoraofimportantapplications.For
a system undergoing development, such changes may correspond
todefectsbeingintroducedinthecodebase,andknowingthetime
when the changes occurred can help identify and remove these
defects. For a running system, sudden parameter changes may
correspond to faults in a system component such as a disk drive
storingasystemdatabase,orasensorusedbyarobot.Alternatively,
they may be due to violations of service-level agreements by third-
partycomponentssuchasapubliccloudservice,ortocyberattacks,ortoenvironmentalchangessuchasasuddenincreaseintherateof
requests received by a web server. In all these scenarios, detecting
thechangesupportstheidentificationofitscause,theanalysisofits
impact on the system, and (if needed) the mitigation of this impact.
Given these benefits, numerous change-point detection (CPD)
methods have been developed to estimate the time of such sudden
changesandthenewvaluesoftheaffectedparameters.Thesemeth-
ods have been successfully used in domains ranging from software
engineering [ 20,25] to medicine [ 38] and finance [ 46], and are
described in multiple surveys, e.g., [1, 17, 42, 44].
Inthispaper,wefocusonself-adaptivesystemswhoseclosed-
loopsoftwarecontrollersuse probabilisticmodelcheckingofMar-
kovian models at runtime [11,13,29] to re-verify the satisfaction of
non-functional requirements as new observations of the unknown
modelparametersareobtained[ 9,30].Consequently,theprompt
detectionofsuddenchangescancontributetothetimelyidentifica-
tionofrequirementviolationsandsupportadaptationtorecover
from such violations.
Our paper introduces an interval Change-Point Detection (iCPD)
method that complements existing CPD methods by efficientlysolving an important and previously unexplored variant of theproblem. The key distinguishing features of iCPD (and thus the
main contributions of our paper) are summarised below:
1632020 35th IEEE/ACM International Conference on Automated Software Engineering (ASE)
ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia Zhao et al.
(1)Tothebestofourknowledge,iCPDisthefirstmethodthattack-
les the detection of sudden changes in systems affected by para-
metric uncertainty and verified through the probabilistic model
checking of interval Markov chains . Interval Markov chains
are Markov models whose transition probabilities (for discrete-
time Markovchains) and transitionrates (for continuous-time
Markov chains) are expressed as intervals due to the epistemic
and/or aleatory uncertainty affecting the corresponding system
parameters.Examplesofsuchparametersincludethesuccess
probability of a web service invocation and the measurement
rate of a sensor, as incomplete knowledge and parametric vari-
ability often mean that these can only be estimated correctly
using intervals such as [0.92,0.95]and[6sâˆ’1,7.5sâˆ’1], respec-
tively. The use of point estimates for these parameters masks
theiruncertainty[ 6];forMarkovmodels,thiscanleadtohighly
inaccurateverificationresultsthatmayendorseinvalidsoftware
engineering decisions [12, 39].
(2)iCPDisintegratedwitharecentlydeveloped Bayesianestimator
with imprecise priors [45], and computes new intervals of priors
for this estimator after each sudden change detected in themonitored transition parameter (i.e., probability or rate) of a
Markovchain.Bayesianestimatorswithimprecisepriors(also
calledrobustBayesianestimators )[6]associateintervalswiththe
uncertainparametersofasystem;theyuseintervalsaspriors,
and their posteriors are also intervals.
(3)ItsintegrationwitharobustBayesian estimatorenablesiCPD
todecideinconstanttimewhetheranewsystemobservation
(correspondingtoastatetransitionintheMarkovchain)should
trigger the full CPD analysis, which is computationally more
expensive.ThislightweightdecisionmechanismmakesiCPD
particularlysuitedforonlineuse,andismissingfromtraditional
CPD methods.
(4)Used in conjunction, iCPD and the robust Bayesian estima-
tor[45]formanend-to-endBayesianapproachtochange-point
detectionandestimationofintervalMarkovchainparameters.
The approach supports the effective runtime probabilistic model
checking of systems affected by parametric uncertainty.
Westructuredtherestofthepaperasfollows.Section2provides
therequiredbackgroundonprobabilisticmodelcheckingandrobustBayesianestimators.OuriCPD change-pointdetectionmethodand
its integration with a robust Bayesian estimator are described in
Section 3, and their effectiveness is evaluated in Section 4. Finally,
Section 5compares iCPDto existingCPD methods,and Section6
summarises the paper and suggests areas of future work.
2 PRELIMINARIES
2.1 Probabilistic model checking
Probabilistic modelchecking (PMC) is aformal technique forveri-
fying the correctness, reliability, and performance of systems char-
acterisedbystochasticbehaviour[ 3,36],wherethisbehaviouris
modelled by Markov chains. Formally, a Markov chain is a tuple
ğ‘€=(ğ‘†,ğ‘ 0,ğ›¿), whereğ‘†is a finite set of states, ğ‘ 0âˆˆğ‘†is the initial
state, and ğ›¿is a state-transition function defined as:
â€¢ğ›¿:ğ‘†Ã—ğ‘†â†’[0,1]for discrete-time Markov chains (DTMCs),
withğ›¿(ğ‘ ğ‘–,ğ‘ ğ‘—)=ğ‘ğ‘–ğ‘—giving the probability of transition between
statesğ‘ ğ‘–,ğ‘ ğ‘—âˆˆğ‘†, and/summationtext.1
ğ‘ ğ‘—âˆˆğ‘†ğ›¿(ğ‘ ğ‘–,ğ‘ ğ‘—)=1;â€¢ğ›¿:ğ‘†Ã—ğ‘†â†’Râ‰¥0for continuous-time Markov chains (CTMCs),
withğ›¿(ğ‘ ğ‘–,ğ‘ ğ‘—)=ğ‘Ÿğ‘–ğ‘—givingtherateoftransitionbetweenstates
ğ‘ ğ‘–,ğ‘ ğ‘—âˆˆğ‘†.
PMCsupportstheverificationofdiscrete-timeproperties(e.g.,
successful completion probability of a protocol) using DTMCs, and
of continuous-time properties(e.g., expected execution timeof an
application, or energy consumption ofa device) using CTMCs. To
this end, the states of Markov models are labelled with atomic
propositions thathold in thosestates, and theproperties to verify
are expressed in temporal logics over these atomic propositions,
e.g., probabilistic temporal tree logic (PCTL) [ 8,33] for DTMCs
andcontinuousstochasticlogic(CSL)[ 2,4]forCTMCs.Efficient
PMCalgorithmsareavailable,andareimplementedbywidelyused
probabilistic model checkers such as PRISM [37] and Storm [21].
Recent advances in PMC [ 12,18,19,40] support the verifica-
tion ofinterval Markov chains [35]. In these models, the transition
probabilitiesofDTMCsandthetransitionratesofCTMCscanbe
specified as intervals, enabling the representation of parametric
uncertainty for the modelled systems. Accordingly, the verification
of interval Markov chains with automated tools such as Prism-
PSY[18]andFACT[ 12]yieldsvalueintervalsforthereliabilityand
performance properties of the verified system.
2.2 Robust Bayesian estimation of interval
Markov chain parameters
Building on the theory of imprecise probability with sets of priors
(IPSP)[43],recentresearchhasintroducedarobustBayesianesti-
mator [45] for the transition parameters of interval Markov chains.
This IPSP estimator supports the use of imprecise prior knowledge
intheBayesianlearningprocess,andprovidesboundedestimates
on transitionparameters. Due tospace constraints, weonly detail
theoperationoftheIPSPestimatorforagenerictransitionprobabil-
ityğ‘ğ‘–ğ‘—between states ğ‘ ğ‘–andğ‘ ğ‘—of an interval DTMC (iDTMC); the
changesneededtousetheestimatorforanintervalCTMC(iCTMC)
transition rate are mentioned at the end of the section.
Given a DTMC (ğ‘†,ğ‘ 0,ğ›¿)and a state ğ‘ ğ‘–âˆˆğ‘†, the outgoing tran-
sitionsfrom ğ‘ ğ‘–followamultinomialdistribution withparameters
given by the probabilities ğ›¿(ğ‘ ğ‘–,Â·)of these transitions. As such, if
weobserve ğ‘›ğ‘–ğ‘—transitionsfrom ğ‘ ğ‘–toastate ğ‘ ğ‘—outofğ‘›ğ‘–outgoing
transitions from ğ‘ ğ‘–(a scenario labelled â€˜dataâ€™ in the equations be-
low),thebinomiallikelihoodforthisscenariois(byomittingthe
combinatorial factor that will be cancelled in the Bayes formula):
Pr(data|ğ‘ğ‘–ğ‘—)=ğ‘ğ‘›ğ‘–ğ‘—
ğ‘–ğ‘—(1âˆ’ğ‘ğ‘–ğ‘—)ğ‘›ğ‘–âˆ’ğ‘›ğ‘–ğ‘—, (1)
whereğ‘ğ‘–ğ‘—=ğ›¿(ğ‘ ğ‘–,ğ‘ ğ‘—). As usual, for mathematical convenience in
Bayesian inference, the IPSP estimator uses a conjugate prior distri-
bution for the above likelihood function, i.e., a beta distribution of
ğ‘ğ‘–ğ‘—, thusensuring thatthe posterioris alsobeta distributed.How-
ever, unlike point estimators that use the posterior mean as anapproximation for the value of
ğ‘ğ‘–ğ‘—(e.g., [24]), the IPSP estimator
can,morerealistically,operatewith imprecisepriorknowledge ob-
tained, for instance, from a group of experts or derived from noisy
historical data.
164Interval Change-Point Detection for Runtime Probabilistic Model Checking ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia
TheIPSPestimatorusesthecanonicalparameterisation Beta/parenleftbigğ‘›(0)
ğ‘–,
ğ‘(0)
ğ‘–ğ‘—/parenrightbigofthebetadistribution,1whichallowsanintuitiveinterpre-
tation ofğ‘(0)
ğ‘–ğ‘—as the â€œbest prior guessâ€, and of ğ‘›(0)
ğ‘–as the size of an
imaginary sample on which the prior estimation ğ‘(0)
ğ‘–ğ‘—is based [ 43].
However, instead of point values for the two prior parameters, the
IPSP estimator operates with prior intervals
/bracketleftbig
ğ‘›ğ‘–(0),ğ‘›ğ‘–(0)/bracketrightbig
,/bracketleftbig
ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)/bracketrightbig
(2)
forğ‘›(0)
ğ‘–andğ‘(0)
ğ‘–ğ‘—, respectively. Accordingly, the lower and upper
boundsfor ğ‘(ğ‘›ğ‘–)
ğ‘–ğ‘—,theposteriorofinterestafter ğ‘›ğ‘–observationsof
outgoing transitions from state ğ‘ ğ‘–of the iDTMC, can be calculated
in constant time as [43]:
ğ‘ğ‘–ğ‘—(ğ‘›ğ‘–)=â§âªâªâªâª â¨
âªâªâªâªâ©ğ‘›ğ‘–(0)ğ‘ğ‘–ğ‘—(0)+ğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–(0)+ğ‘›ğ‘–,ifğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–â‰¥ğ‘ğ‘–ğ‘—(0)
ğ‘›ğ‘–(0)ğ‘ğ‘–ğ‘—(0)+ğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–(0)+ğ‘›ğ‘–,otherwise
ğ‘ğ‘–ğ‘—(ğ‘›ğ‘–)=â§âªâªâªâª â¨
âªâªâªâªâ©ğ‘›ğ‘–(0)ğ‘ğ‘–ğ‘—(0)+ğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–(0)+ğ‘›ğ‘–,ifğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–â‰¤ğ‘ğ‘–ğ‘—(0)
ğ‘›ğ‘–(0)ğ‘ğ‘–ğ‘—(0)+ğ‘›ğ‘–ğ‘—
ğ‘›ğ‘–(0)+ğ‘›ğ‘–,otherwise(3)
The IPSP robust estimator [ 45] is generic to Bayesian inference
in canonical exponential families [ 43], where the Gamma-Poisson
setup is typically applied (cf. Proposition 5.4 and Example 5.5 in [ 7,
pp.266â€“277]). Thus, IPSP can be applied to iCTMC transition rates
by replacing the beta priors with gamma priors.
3 INTERVAL CHANGE-POINT DETECTION
3.1 Problem definition
Our iCPD method is applicable to systems modelled by interval
Markov chains whose transition parameters are associated with
systemparametersaffectedbysuddenchanges.GivensuchasystemandanintervalMarkovchainthatmodelsitsbehaviour,weassume
that:
(1)Thesystem ismonitored andall theevents thatcorrespond to
statetransitionswithintheMarkovchain(and,foriCTMCs,the
timingoftheseevents)arerecorded.Examplesofsuchevents
include the invocation of a method, the receipt of a database
query, and the failure or repair of a server.
(2)The intervals for the transition probabilities or rates of the
interval Markov chains are continually updated using the IPSP
robust estimator from Section 2.2.
The information required to detect sudden changes in the prob-
abilityğ‘ğ‘–ğ‘—of transitioning between states ğ‘ ğ‘–andğ‘ ğ‘—of an iDTMC
consists of the sequence of observations ğ‘œ1,ğ‘œ2,...,ğ‘œğ‘›ğ‘–of all events
corresponding to the outgoing transitions from state ğ‘ ğ‘–, where
âˆ€ğ‘˜=1,2,...,ğ‘›ğ‘–,ğ‘œğ‘˜=/braceleftBigg
1,if theğ‘˜-th transition is to state ğ‘ ğ‘—
0,otherwise(4)
1i.e., a parameterisation in which the shape parameters ğ›¼andğ›½of the common
parameterisation Beta(ğ›¼,ğ›½)are replaced by ğ‘›(0)
ğ‘–=ğ›¼+ğ›½andğ‘(0)
ğ‘–ğ‘—=ğ›¼/(ğ›¼+ğ›½),
where the superscript â€˜ (0)â€™ reflects the fact that these values represent the knowledge
before any observation is available.Themonitoringwindow ,definedas ğ‘¤=ğ‘›ğ‘–foraniDTMC,maybe
fixed (in which case only the most recent ğ‘›ğ‘–observations are used)
or may include all observations since the monitoring began.
Given this information, the interval change-point detection prob-
lem for an iDTMC transition probability ğ‘ğ‘–ğ‘—is to determine:
(1)whetherthevalueof ğ‘ğ‘–ğ‘—experiencedasuddenchangewithin
the monitoring window ğ‘¤;
(2)if the answer to(1) is positive, the time step from {1,2,...,ğ‘›ğ‘–}
when the change occurred;
(3)if the answer to (1) is positive, new prior intervals (2) for the
robust IPSP estimator of ğ‘ğ‘–ğ‘—.
Theintervalchange-pointdetectionproblemforaniCTMCtran-
sition rate ğ‘Ÿğ‘–ğ‘—is definedsimilarly. In thiscase, the systemmonitor
needstoalsorecordthesojourntimes ğ‘¡1,ğ‘¡2,...,ğ‘¡ğ‘›ğ‘–thatthesystem
spent in state ğ‘ ğ‘–prior to undertaking each of the ğ‘›ğ‘–outgoing tran-
sitions given by observations (4), and the monitoring window is
defined as ğ‘¤=/summationtext.1ğ‘›ğ‘–
ğ‘˜=1ğ‘¡ğ‘˜.
3.2 The iCPD method
Fig. 1 shows a generic window of ğ‘¤=ğ‘›ğ‘–observations (4) for an
iDTMC,wheretheshadedcirclescorrespondtotransitionsfrom
stateğ‘ ğ‘–to stateğ‘ ğ‘—, and the empty circles correspond to transitions
fromğ‘ ğ‘–to other states than ğ‘ ğ‘—. Assuming that the transition proba-
bilityğ‘ğ‘–ğ‘—undergoes a sudden change from ğ‘ğ‘–ğ‘—=ğ‘toğ‘ğ‘–ğ‘—=ğ‘within
this time window; we use a random variable ğ‘¥to denote the un-
known change point in the sequence, and ğ‘(ğ‘¥)=/summationtext.1ğ‘¥
ğ‘˜=1ğ‘œğ‘˜and
ğ‘€(ğ‘¥)=/summationtext.1ğ‘›ğ‘–
ğ‘˜=ğ‘¥+1ğ‘œğ‘˜todenotethenumberoftransitionsfrom ğ‘ ğ‘–toğ‘ ğ‘—
beforeandafterthetimestep ğ‘¥,respectively.Ananalogousnota-
tion can be defined for a transition rate ğ‘Ÿğ‘–ğ‘—of an iCTMC changing
suddenly from ğ‘Ÿğ‘–ğ‘—=ğ‘toğ‘Ÿğ‘–ğ‘—=ğ‘within the time window; in this
case, we have ğ‘(ğ‘¥)=/summationtext.1ğ‘¥
ğ‘˜=1ğ‘œğ‘˜ğ‘¡ğ‘˜andğ‘€(ğ‘¥)=/summationtext.1ğ‘›ğ‘–
ğ‘˜=ğ‘¥+1ğ‘œğ‘˜ğ‘¡ğ‘˜. Given
the parametric uncertainty associated with systems modelled byinterval Markov chains, not only the change time
ğ‘¥but also the
precise values of ğ‘andğ‘are unknown. The following proposition
definesaBayesianestimatorforthesevalues(thisisaformalisation
of a known result, e.g., presented only for DTMCs in [25]).
Proposition3.1. Givenapriorjointdistribution ğ‘“(ğ‘,ğ‘,ğ‘¥)forthe
unknown values ğ‘andğ‘of an interval Markov chain parameter, and
for the unknown time ğ‘¥when the parameter value changes from ğ‘to
ğ‘,the(marginal)estimatesforthethreeunknownsaregivenbythe
posterior joint distribution
ğ‘ğ‘(ğ‘¥)(1âˆ’ğ‘)ğ‘¥âˆ’ğ‘(ğ‘¥)ğ‘ğ‘€(ğ‘¥)(1âˆ’ğ‘)ğ‘¤âˆ’ğ‘¥âˆ’ğ‘€(ğ‘¥)ğ‘“(ğ‘,ğ‘,ğ‘¥)âˆ«âˆ«âˆ«
ğ·ğ‘ğ‘(ğ‘¥)(1âˆ’ğ‘)ğ‘¥âˆ’ğ‘(ğ‘¥)ğ‘ğ‘€(ğ‘¥)(1âˆ’ğ‘)ğ‘¤âˆ’ğ‘¥âˆ’ğ‘€(ğ‘¥)ğ‘“(ğ‘,ğ‘,ğ‘¥)dğ‘dğ‘dğ‘¥
(5)
for an iDTMC, where ğ·=[0,1]Ã—[0,1]Ã—{1,2,...,ğ‘¤}, and
ğ‘ğ‘(ğ‘¥)ğ‘’âˆ’ğ‘ğ‘¥ğ‘ğ‘€(ğ‘¥)ğ‘’âˆ’ğ‘(ğ‘¤âˆ’ğ‘¥)ğ‘“(ğ‘,ğ‘,ğ‘¥)âˆ«âˆ«âˆ«
ğ·ğ‘ğ‘(ğ‘¥)ğ‘’âˆ’ğ‘ğ‘¥ğ‘ğ‘€(ğ‘¥)ğ‘’âˆ’ğ‘(ğ‘¤âˆ’ğ‘¥)ğ‘“(ğ‘,ğ‘,ğ‘¥)dğ‘dğ‘dğ‘¥(6)
for an iCTMC, where ğ·=[0,âˆ) Ã— [0,âˆ) Ã— [0,ğ‘¤].2
2We use Lebesgue-Stieltjes integration in (5),(6)and throughout the rest of the paper,
to cover in a compact way both discrete and continuous prior distributions ğ‘“, as these
integrals naturally reduce to sums for discrete distributions.
165166Interval Change-Point Detection for Runtime Probabilistic Model Checking ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia
ğ‘“ğ‘‹(ğ‘¥|data) =ğ¿ğ‘‹(ğ‘¥;data)/summationtext.1ğ‘›ğ‘–
ğ‘¥=1ğ¿ğ‘‹(ğ‘¥;data),whereğ¿ğ‘‹(ğ‘¥;data) = (11)
ğ‘(ğ‘¥)ğ‘(ğ‘¥)(ğ‘¥âˆ’ğ‘(ğ‘¥))ğ‘¥âˆ’ğ‘(ğ‘¥)ğ‘€(ğ‘¥)ğ‘€(ğ‘¥)(ğ‘›ğ‘–âˆ’ğ‘¥âˆ’ğ‘€(ğ‘¥))ğ‘›ğ‘–âˆ’ğ‘¥âˆ’ğ‘€(ğ‘¥)
ğ‘¥ğ‘¥(ğ‘›ğ‘–âˆ’ğ‘¥)ğ‘›ğ‘–âˆ’ğ‘¥.
Proof.ForaniDTMCtransitionprobability,theMLEsfor ğ‘and
ğ‘areË†ğ‘=ğ‘(ğ‘¥)
ğ‘¥andË†ğ‘=ğ‘€(ğ‘¥)
ğ‘¤âˆ’ğ‘¥, so the likelihood (7) becomes:
ğ¿ğ‘‹(ğ‘¥;data) =ğ‘ƒğ‘Ÿ(data|ğ‘¥)=
/parenleftBigğ‘(ğ‘¥)
ğ‘¥/parenrightBigğ‘(ğ‘¥)/parenleftBig
1âˆ’ğ‘(ğ‘¥)
ğ‘¥/parenrightBigğ‘¥âˆ’ğ‘(ğ‘¥)/parenleftBigğ‘€(ğ‘¥)
ğ‘›ğ‘–âˆ’ğ‘¥/parenrightBigğ‘€(ğ‘¥)/parenleftBig
1âˆ’ğ‘€(ğ‘¥)
ğ‘›ğ‘–âˆ’ğ‘¥/parenrightBigğ‘›ğ‘–âˆ’ğ‘¥âˆ’ğ‘€(ğ‘¥)(12)
Additionally,withnopriorknowledgeofwherethechangepoint ğ‘¥
is, we need to assume a discrete uniform distribution ğ‘“ğ‘‹(ğ‘¥)for it:
âˆ€ğ‘¥âˆˆ{1,2,...,ğ‘›ğ‘–},ğ‘“ğ‘‹(ğ‘¥)=1/ğ‘›ğ‘–. (13)
Theposterior (11)cannowbeobtainedbyusingthelikelihood (12)
(aftersimplealgebraicmanipulations)andtheprior (13)in(5),with
the Lebesgue-Stieltjes integration rewritten as a summation. /square
To estimate the univariate posterior distribution (11), iCPD uses
theMarkovchainMonteCarlo(MCMC)methodwiththeMetropolis-
Hastings algorithm (whose presentation is out of the scope here,
but is available in [23]). This yields an MCMC sample sequence
/angbracketleftğ‘¥1,ğ‘¥2,...,ğ‘¥ğ‘˜/angbracketright (14)
for the change point ğ‘¥, and from this iCPD computes a sample
sequence
/angbracketleftğ‘1,ğ‘2,...,ğ‘ğ‘˜/angbracketright=/angbracketleftbiggğ‘€(ğ‘¥1)
ğ‘›ğ‘–âˆ’ğ‘¥1,ğ‘€(ğ‘¥2)
ğ‘›ğ‘–âˆ’ğ‘¥2,...,ğ‘€(ğ‘¥ğ‘˜)
ğ‘›ğ‘–âˆ’ğ‘¥ğ‘˜/angbracketrightbigg
(15)
for the unknown transition probability ğ‘. Note that computing the
lattersequenceinthiswayisfarmoreefficientthanusingGibbs
sampling(ifwetreat ğ‘asanunknown)toobtain ğ‘ğ‘–,1â‰¤ğ‘–â‰¤ğ‘˜,from
a conditional probability distribution given ğ‘¥ğ‘–.
GiventheMCMCsamplesequences (14)and(15),iCPDcomputes
the change point as
Ë†ğ‘¥=/summationtext.1ğ‘˜
ğ‘–=1ğ‘¥ğ‘–
ğ‘˜(16)
and calculates the following new IPSP prior intervals (2):
/bracketleftBig
ğ‘›ğ‘–(0),ğ‘›ğ‘–(0)/bracketrightBig
=[ğ‘¤âˆ’max{ğ‘¥1,ğ‘¥2,...,ğ‘¥ğ‘˜},ğ‘¤âˆ’min{ğ‘¥1,ğ‘¥2,...,ğ‘¥ğ‘˜}]
/bracketleftBig
ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)/bracketrightBig
=[min{ğ‘1,ğ‘2,...,ğ‘ğ‘˜},max{ğ‘1,ğ‘2,...,ğ‘ğ‘˜}](17)
Thesecalculationscanbeprecededbyaneliminationofanyoutliers
that might be present in the sequences (14) and (15).
iCPD performs calculations similar to (12)â€“(17)for an iCTMC
transition rate. These calculations treat ğ‘andğ‘as rates, start from
the likelihood function (8)to compute the univariate likelihood
function
ğ‘ƒğ‘Ÿ(data|ğ‘¥)=/parenleftbiggğ‘(ğ‘¥)
ğ‘¥/parenrightbiggğ‘(ğ‘¥)
ğ‘’âˆ’ğ‘¥Â·/parenleftbiggğ‘€(ğ‘¥)
ğ‘¤âˆ’ğ‘¥/parenrightbiggğ‘€(ğ‘¥)
ğ‘’âˆ’ğ‘€(ğ‘¥),(18)and yield prior rate intervals/bracketleftBig
ğ‘Ÿğ‘–ğ‘—(0),ğ‘Ÿğ‘–ğ‘—(0)/bracketrightBig
instead of the prior
probability intervals/bracketleftBig
ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)/bracketrightBig
in (17).
4Retrospective IPSP estimation â€“ The IPSP estimates
/bracketleftBig
ğ‘ğ‘–ğ‘—(Ë†ğ‘¥),ğ‘ğ‘–ğ‘—(Ë†ğ‘¥)/bracketrightBig
,/bracketleftBig
ğ‘ğ‘–ğ‘—(Ë†ğ‘¥+1),ğ‘ğ‘–ğ‘—(Ë†ğ‘¥+1)/bracketrightBig
,...,/bracketleftBig
ğ‘ğ‘–ğ‘—ğ‘›ğ‘–,ğ‘ğ‘–ğ‘—ğ‘›ğ‘–/bracketrightBig
(19)
afterthechangepoint (16)areretrospectivelycorrected.5Tothis
end, the IPSP estimator is reapplied to the observations ğ‘œË†ğ‘¥+1,ğ‘œË†ğ‘¥+2,
...,ğ‘œğ‘›ğ‘–using the new priors (17), and the corrected interval esti-
mates are used to retrospectively revise and re-analyse the interval
Markov chain under verification. This is often essential in order to
establishtheimpactthatthesuddenchangehasalreadyhadonthe
modelledsystem,e.g.,duetoadditionalenergythatmayhavebeen
used or (as we will show in Section 4) loss of throughput between
the change point and its detection time.
4 EVALUATION
4.1 Research questions
We evaluated our iCPD approach by performing extensive experi-
ments to address the following research questions.6
RQ1 (Accuracy): How accurately does iCPD detect points of
change in various scenarios? We carried out experiments to as-
sess the ability of iCPD to detect a wide range of changes.
RQ2 (Configurability): How easy is to configure iCPD to op-
eratewithdifferenttrade-offs? Weassessedtheeaseofcalibrat-
ing iCPD to operate with data window sizes and triggering sen-
sitivitiesthatsupportdifferentneedsintermsofdetectionspeed
and/or trade-offs between false positives and false negatives.
RQ3 (Efficiency:) What are the computational overheads of
iCPD?SincewedevisediCPDfortheruntimedetectionofchange
points in the transition parameters of interval Markov chains,
we measured its overheads across a range of configurations and
parameter-change scenarios.
RQ4 (Verification support): How effectively does iCPD sup-
porttheaccuratePMCofsystem-levelpropertiesatruntime?
We examined the effect of using iCPD to continually update inter-
val Markov chain parameters, supporting the runtime PMC of key
system properties.
4.2 Evaluation methodology
Ourexperimental setupcomprisesawide rangeofninescenarios
in which each scenario corresponds to a sequence of observations
ğ‘œ1,ğ‘œ2,...,ğ‘œğ‘›ğ‘–for the unknown transition parameter (probability
ğ‘ğ‘–ğ‘—orrateğ‘Ÿğ‘–ğ‘—foriDTMCand iCTMC,respectively)instrumented
with changes representing four classes of change patterns com-
monly studied in related research [ 15,28]. In particular, we used
thefollowingpatterns:(i) Stepwhereasuddenchangecausesthe
5We only describe this step for an iDTMC transition probability, as its application to
an iCTMC transition rate is entirely similar.
6Note that a direct comparison of the iCPD accuracy, efficiency, etc. with those of
existing CPD approaches is not possible because, by tackling change-point detection
for point estimates of system parameters, these CPD approaches solve a different
problem than iCPD .
167ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia Zhao et al.
parameter value to increase instantaneously; (ii) Squarethat ex-
tends the Steppattern with another sudden change indicating a
recovery of the parameter to its original value; (iii) Rampthat rep-
resentsagradualorsteepchangetotheparametervalue;and(iv)
Fixedwheretheparametervalueremainsconstantfortheduration
of the scenario (to assess whether iCPD produces false positives).
To answer RQ1â€“RQ3, for each scenario we firstly define an un-
knownchange point ğ‘¥(as ground truth) and the unknown actual
(ground truth) transition parameter values ğ‘andğ‘before and after
thechangepoint ğ‘¥,respectively.Allthisinformationis ğ‘¢ğ‘›ğ‘˜ğ‘›ğ‘œğ‘¤ğ‘› to
iCPD. Then, for iDTMCs we generate the sequence of observations
ğ‘œ1,ğ‘œ2,...,ğ‘œğ‘›ğ‘–by sampling from two Binomial distributions whose
probabilities are ğ‘andğ‘, respectively. Similarly, the sequence of
observationsforiCTMCsissampledfromtwoexponentialdistribu-
tionswhosemeantimeissetto1
ğ‘and1
ğ‘,respectively.Finally,we
run the scenario by providing to iCPD the observations in order as
described in Section 3.2.
We answer RQ4 using the CTMC model of an embedded system
fromtheareaofautonomousunderwatervehicles(AUV)adapted
from[16,31].TheAUVisdeployedonanoceanicsurveillancemis-
sion, and the successful mission completion requires the continual
verificationoftheCTMCmodeltoensurecompliancewithapair
of reliability and performance requirements. The AUV is equipped
with several on-board sensors whose operating rates are unknown
andcouldpotentiallyvaryduetosensorfailureordegradationin
operating rate. We combine our iCPD with the probabilistic model
checker Prism-PSY [ 18] and evaluate the extent to which iCPD can
detect abrupt changes in sensor rates and update the transition
parameters of theCTMC, thus supporting the promptsystem re-
configuration due to the violation of mission requirements.
All experiments were run on a Windows 10 Pro 64 bit machine
withIntel1.80GHzi7-8550UCPUand16GBRAM.Thesourcecode,
Markov models, data used for the experimental evaluation and the
full experimental results are publicly available at https://github.
com/x-y-zhao/iCPD.
4.3 Results and discussion
RQ1(Accuracy). Fig. 3 shows the estimated iCPD transition prob-
ability interval for the unknown transition probability ğ‘ğ‘–ğ‘—over
nine iDTMC scenarios instrumented with the following change
patterns:(A)bigstep,(B)mediumstep,(C)smallstep,(D)square
representing a normal recovery, (E) square representing a quick
recovery,(F)steepramp,(G)gradualramp,(H)earlybigstepand
(I) fixed. Table 1 presents the configurations used for each scenario
including the change pattern and the (unknown) actual values for
both the change point ğ‘¥and the transition probability ğ‘ğ‘–ğ‘—, along
with iCPD-related analysis results, i.e., the estimated change point
Ë†ğ‘¥,thetriggerpoint ğ‘¥ğ‘¡andthetotalcomputationalcost(bothrepre-
sentingthetiminginformationofiCPDâ€™sruntimeanalysis).Fig.4
shows the approximated posterior distributions of ğ‘¥andğ‘derived
from MCMC sampling corresponding to the scenarios from Fig. 3.
In scenario A (Fig. 3A, row A in Table 1), i.e., the big step ğ‘ğ‘–ğ‘—
change from ğ‘=0.3t oğ‘=0.7 at change point ğ‘¥=500, we
observe that the interval width of the IPSP estimator (the solid
green and purple lines) continually decreases as new observations
are made signifying no prior-data conflict. At observation ğ‘œ690(thevertical blue line), iCPD detects the change that occurred at ğ‘œ500
causinga prior-dataconflict (10).This detectiontriggerstheCPD
analysis(Step 3inSection3.2)whichutilisestheinformationupto
the triggering point to approximate the posterior distribution of ğ‘¥
(Fig. 4A#1) concluding that the change happened at Ë†ğ‘¥=504 (the
yellow vertical line), which is very close to the actual change point
ğ‘¥=500. Similarly, iCPD approximates the posterior distribution of
ğ‘(Fig. 4A#2) and uses (17) to estimate the new IPSP prior intervals/bracketleftBig
ğ‘›ğ‘–(0),ğ‘›ğ‘–(0)/bracketrightBig
=[165,322],/bracketleftBig
ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)/bracketrightBig
=[0.508,0.740]which
capture the unknown transition probability ğ‘=0.7. Starting from
theestimatedchangepoint Ë†ğ‘¥=504andthenewIPSPpriorintervals,
iCPD uses observations ğ‘œ504,...,ğ‘œ690to execute the retrospective
IPSPestimation(Step 4inSection3.2)andrefinetheIPSPinterval
(dashedlineslabelledâ€œretrospectedâ€andshowingretrospectively
corrected lower and upper bounds in Fig 3A). For completeness,
thedottedlines show thetransition probability interval estimated
bythe IPSPestimator withoutthe CPDcapability (cf.Section 2.2).
Clearly,thechangeisnotdetectedandasignificantnumberofnew
observationsisneededbeforetheestimatedintervalenclosesthe
updated transition probability.
The scenario shown in Fig. 3B corresponds to a medium step
change of the unknown transition probability ğ‘ğ‘–ğ‘—from 0.3 to 0.5.
iCPD detects the change and triggers the iCPD analysis ( ğ‘¥ğ‘¡=
976). As expected, the change is detected later than the big step
changeinscenarioA,becausetheterm ğ‘›ğ‘–ğ‘—/ğ‘›ğ‘–needsmoredata(and
consequently more time) after the change point to accumulate to a
levelthatleadstoapositivedegreeofprior-dataconflict,i.e. Î”(ğ‘›ğ‘–)>
0in(10).SimilarlytoscenarioA,theestimatedchangepoint Ë†ğ‘¥=492
is very close to the actual change point ğ‘¥=500 (Fig. 4B#1) and the
new IPSP prior interval/bracketleftBig
ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)/bracketrightBig
=[0.492,0.527]captures
the new unknown transition probability ğ‘=0.5 (Fig. 4B#2).
Incontrasttothepreviousstepchanges,thesmallstepchange
in scenario C (Fig. 3C) does not trigger the iCPD analysis. This
behaviour occurs because as new observations are made, the term
ğ‘›ğ‘–ğ‘—/ğ‘›ğ‘–is asymptotic to the upper bound of the IPSP estimated
intervalğ‘ğ‘–ğ‘—(0)=0.4â€“butveryunlikelytoexceedit(because ğ‘›ğ‘–ğ‘—/ğ‘›ğ‘–
also averages the data collected before ğ‘¥which is concentrated on
ğ‘=0.3). Hence, no prior-data conflict is detected in (10).
InscenarioD(Fig.3D),iCPDcorrectlydetectedbothchangescor-
respondingtothenormalrecoverypatterntriggeringtheiCPDanal-
ysis atğ‘¥ğ‘¡=623 andğ‘¥ğ‘¡=1358 and accurately estimating change
pointsË†ğ‘¥=499 (Fig. 4D#1) and Ë†ğ‘¥=896 (Fig. 4D#3), and the new
IPSPpriorintervals(Fig.4D#2andFig.4D#4)).AlthoughscenarioE
(Fig.3E)followsasimilarsquarepattern,thequickrecoverypre-
vents iCPD from identifying the prior-data conflict and triggering
the analysis. We evaluate in RQ2 how adjusting the iCPD hyper-
parameters,cf.(3)and(9),canincreasetheiCPDâ€œsensitivityâ€and
enable the detection of small and ephemeral changes.
ThesteepandgradualrampscenariosinFigs.3Fand3G,respec-
tively, demonstrate the competency of iCPD to cope adequately
withthisclassofchanges.Morespecifically,iCPDperformsparticu-
larlywellinthesteeprampscenariotriggeringtheiCPDanalysisat
ğ‘¥ğ‘¡=750andcalculatingcloseapproximationsofthechangepoint
Ë†ğ‘¥=545 (Fig. 4F#1) and new IPSP prior intervals (Fig. 4F#2). The
gradualrampscenarioismoredifficultduetothe(unknown)smaller
168Interval Change-Point Detection for Runtime Probabilistic Model Checking ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia
Table 1: Configurations and iCPD results over nine iDTMC scenarios. In all scenarios, the IPSP prior parameters are set to
[ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)]=[0.2,0.4]and[ğ‘›(0),ğ‘›(0)]=[10,300]. The scenario ID is associated with the corresponding subfigure in Fig 3
(Notationsâ€“ ğ‘¥:changepoint; ğ‘¥ğ‘¡:iCPDtriggerpoint; Ë†ğ‘¥:iCPDestimatedchangepoint; ğ‘˜/ğ‘™:ratioofacceptedsamplesoverthetotal
number of MCMC trials; /angbracketleftğ‘¥1,...,ğ‘¥ğ‘˜/angbracketright: MCMC sample sequence of the change point; /angbracketleftğ‘1,...,ğ‘ğ‘˜/angbracketright: sample sequence of transition
probability ğ‘; N/A: iCPD not triggered).
IDPattern (unk.) actual values iCPD analysis
# ğ‘ğ‘ ğ‘¥ ğ‘¥ğ‘¡Ë†ğ‘¥ ğ‘˜/ğ‘™ /angbracketleftğ‘¥1,...,ğ‘¥ğ‘˜/angbracketright/angbracketleftğ‘1,...,ğ‘ğ‘˜/angbracketrighttime (ms)
AStep (big) 0.3 0.7 500 690 504 1733/5k Fig. 4A#1 Fig. 4A#2 445
BStep (medium) 0.3 0.5 500 976 492 2578/5k Fig. 4B#1 Fig. 4B#2 414
CStep (small) 0.3 0.4 500 N/A
DSquare (normal recovery) 0.3 0.7 500, 900 623, 1358 499, 896 1571/5k, 4169/10k Fig. 4D#1,3 Fig. 4D#2,4 392, 810
ESquare (quick recovery) 0.3 0.7 500, 600 N/A
FRamp (steep) 0.3 0.7[500,600] 750 544 3987/10k Fig. 4F#1 Fig. 4F#2 790
GRamp (gradual) 0.3 0.7[500,900] 1003 651 4046/10k Fig. 4G#1 Fig. 4G#2 862
HStep (big and early) 0.3 0.7 100 131 93 2082/5k Fig. 4H#1 Fig. 4H#2 402
IFixed 0.3 0.3 N/A 800 (man.) N/A 3386/5k Fig. 4I#1 Fig. 4I#2 398
slopewhichentailsmoretimetoreachthefinalvalueandcomplete
the change. Since ramp changes (especially those with a gradual
structure)donotbydefinitionconstitutesuddenchanges[ 1,42],
the observed behaviour is expected and does not violate the statis-
tical modelunderpinning iCPD. Extending iCPD with support for
moreaccurateanalysisoframpchangesisplannedforfuturework.
InscenarioH(Fig.3H),weexaminedhowthetimingofachange
affects the iCPD accuracy by introducing early in the execution
(ğ‘¥=100), the same big step change as in scenario A. The esti-
matedchangepoint Ë†ğ‘¥=93(Fig.4H1)isfairlyaccurate.Duetothe
significantlysmallernumberofobservationsavailableduringthe
iCPD analysis step ( ğ‘¥ğ‘¡=131), the new IPSP prior interval is unsur-
prisinglywidercomparedtothatfromscenarioA.Eventhoughthechangeoccursearly,theendofthescenariofindstheIPSPestimator
alone (i.e., without change-point detection capability) incapable to
adapt its interval to include the new parameter value (dotted lines
in Fig. 3H). This result once more shows the usefulness of iCPD.
Finally, we consider the scenario where the unknown transition
parameter value is fixed throughout the scenario (Fig. 3I). As ex-
pected, the IPSP interval keeps decreasing and no iCPD analysis is
triggered.EnforcingiCPDtorunattheendofthescenarioresulted
inanearlyuniformposteriordistributionof ğ‘¥(Fig.4I#1)signifying
the â€œhigh uncertaintyâ€ for the location of the change point. Hence,
we have evidence that iCPD is not affected by false positives.
We provide a similar set of scenarios for iCTMCs on our project
webpage at https://github.com/x-y-zhao/iCPD that demonstrate
very similar results. Given these experimental results, we have suf-
ficientevidencetoconcludethatiCPDcansupportthedetection
of sudden changes in the transition parameters of iDTMCs and
iCTMCunderseveralchangepatternsandsteertheestimationof
new IPSP prior intervals that enclose the new parameter value.
RQ2 (Configurability). The sensitivity of the iCPD triggering
Eq.(9)canbeconfiguredeitherbymodifyingthepriorparametersof
theIPSPestimatorin (2)orbyassigningdifferentimportancelevels
to observations ğ‘œ1,ğ‘œ2,...,ğ‘œğ‘¤based on temporal conditions. To
answerthisresearchquestionandassesswhetheriCPDcansupportthe detection of small and/or transient changes, we evaluated how
iCPD performs under different sensitivity configurations.
First, we introduced a sliding time window based on which
iCPDdiscardsoldobservationsandoperatesusingonlyobserva-
tionsfallingwithinthistimewindow.WeevaluatediCPDenhanced
withatimewindowinscenarioCthatincludesasmallstepchange
(cf. row C in Table 1) and for which the standard iCPD did not
detectaconflict(cf.Fig3C).Usingatimewindowofsize500,this
iCPD variant detected the prior-data conflict at ğ‘¥ğ‘¡=924 triggering
the iCPD analysis and calculating new IPSP prior intervals that
include the updated transition probability (Fig 5A). By consider-
ing the 500 most recent observations, the term ğ‘›ğ‘–ğ‘—/ğ‘›ğ‘–in (10) is
influenced more by these observations leading to a positive degree
of prior-data conflict. Similar reasoning has been applied in [ 15]
which assigns ageing information to observations.
Second, we specified narrower IPSP prior intervals by setting
[ğ‘ğ‘–ğ‘—(0),ğ‘ğ‘–ğ‘—(0)]=[0.25,0.35]and[ğ‘›(0),ğ‘›(0)]=[5,150]and evalu-
ated iCPD in scenario E (row E in Table 1) that corresponds to
a quick recovery. Compared to the iCPD configuration used in
RQ1, under which both changes in scenario E were missed (Fig. 3),
thenarrowerIPSPpriorintervalsenablediCPDtodetectthefirst
changedespiteitsshortduration(occurringinobservations ğ‘œ500â€“
ğ‘œ600) and accurately estimate the change point ( Ë†ğ‘¥=498). Given the
sparse observations about the new unknown transition parameter
after the first change ğ‘ğ‘–ğ‘—=0.7, the new IPSP prior intervals are
unsurprisingly wider than usual; this finding aligns with our re-
sultsinscenarioH,cf.Fig.3H.ThewideIPSPpriorintervalsand
sparse observations are the primary reasons causing iCPD to miss
thesecondchange(i.e.,therecovery).CPDusingsparseinforma-
tion is widely acknowledged as a very challenging problem [ 1,42].
Investigating how iCPD can handle more accurately changes of
this type is part of our future work.
Finally, we evaluated an iCPD variant that employs both a time
window and narrower IPSP prior intervals using scenario I (cf.
Fig3).Althoughinthisscenariothevalueoftheunknowntransi-
tion parameter isfixed (and since noprior-data conflict occurs no
iCPDanalysisshouldbetriggered),thisiCPDvariantisprovenvery
169170171172Interval Change-Point Detection for Runtime Probabilistic Model Checking ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia
CPD-agnosticIPSPestimator,showingthatalthoughtheintervalsof
both estimators typically become narrower with new observations,
the CPD-agnostic estimator is in most scenarios unable to adapt
its interval to include the new parameter value. We also performed
experiments with varied numbers of MCMC trials, showing that
moreMCMCtrialsleadtobetterestimatesofthechangepoint Ë†ğ‘¥,
thusconformingtotheBayesianpractice[ 23].Finally,weenable
replicationbymakingallexperimentalresultspubliclyavailableon
our project webpage https://github.com/x-y-zhao/iCPD.
Externalvalidity threatsmightchallengethegeneralisabilityof
our findings to other types of systems and processes; thus, we miti-
gate these threats asfollows. Since iCPD requires the sequence of
observations ğ‘œ1,...,ğ‘œğ‘›ğ‘–asdefined in (4),we limitthisthreat byde-
visingiCPDtoworkinrunningsystemsenhancedwithclosed-loop
controls (e.g.,MAPE-K [ 34]), whichinclude a monitorcomponent
that continually monitors the system and records data about its
behaviour. Another threat might occur if the sensitivity level ofiCPD is inapplicable for the target system. We mitigated this by
demonstratinghowconfiguringtheiCPDhyper-parameters(e.g.,
IPSP estimator prior intervals, monitoring window ğ‘¤size) enables
achieving the desired trade-off between false positives and falsenegatives. Finally, to further reduce the risk that iCPD might be
difficult to use in practice, we validated it both using iDTMCs and
iCTMCs, and showed in RQ4 how it can be integrated with the
probabilisticmodelcheckerPrism-PSYtoverifykeysystemprop-
erties (cf. Fig. 2). Nevertheless, additional experiments are needed
to establish further the generalisability of iCPD in interval Markov
chains modelling software systems other than those used in our
evaluation.
5 RELATED WORK
CPDanalysishasbeenwidelystudiedandsuccessfullyappliedin
manyareas,includingsoftwareengineering[ 20],climatechange[ 5]
and medicine [ 38]. From the numerous types of CPD solutions
developed by this research (likelihood ratio methods, kernel-based
methods,etc.â€“see[ 1]forasurvey),iCPDfallsintothecategoryof
hierarchicalBayesianmodels (HBMs)[ 17],i.e.,CPDmethodsthat
rely on MCMC techniques to calculate change-point posteriors.
However, existing HBM methods employ MCMC each time a
new data point becomes available, which is too computationallyexpensive for online analysis. This is also true about [
25], which
â€“ to the best of our knowledge â€“ is the only other project that
hastackledCPDfor(discrete-time)Markovchainparameters.In
contrast,iCPDusealightweighttriggertodecidewhenthisMCMC-
based CPD analysis is needed, and can therefore be much more
efficiently used for online CPD.
Additionally, current HBM methods (including [ 25]) compute
point estimates for parameters affected by sudden changes. Asemphasised in [
6], point estimates of (uncertain) parameters can
rarely be justified in practice. Unlike these methods, which it com-
plements, iCPD focuses on interval CPD, computing new intervals
of priors that support the robust Bayesian estimation of the uncer-
tain parameters after the detected change point.
Bayesian methods to learn the transition parameters of Markov
chains at runtime have been proposed in [ 24,27], and a light-
weight adaptive filter is introduced in [ 28] to reduce noise andprovide smooth estimates. However, those approaches do not con-
sider change-points explicitly, and need a relatively long time to
makeaccurateestimatesaftersuddenchanges.Inaddition,theseap-proaches yield point estimates that can be affected by unquantified
and potentially significant errors. The work in [ 12] is the first to
synthesise bounds for unknown transition probabilities of DTMCs,
basedonthefrequentisttheoryofsimultaneousconfidenceinter-
vals. The only Bayesian approach to computing bounded estimates
forPMCthatweareawareofis[ 45].OuriCPDbuildsonthisrobust
Bayesian estimatorand, tothe bestof ourknowledge, isthe first
that provides CPD analysis for PMC with interval Markov models.
6 CONCLUSION & FUTURE WORK
Weintroduced iCPD,an end-to-endBayesianapproach tochange-
pointdetectionandestimationofintervalMarkovchainparameters.
iCPDenablesthequantitativeverificationofsystemsaffectedbyparametric uncertainty [
14], as using point estimates for the pa-
rametersofthesesystemshidesthisuncertainty[ 6]andcanlead
tohighlyinaccurateverificationresultsthatmayendorseinvalid
software engineering decisions [10, 12].
Ourexperimentalevaluationcomprisingscenariosinstrumented
withchangesfromfourwidelystudiedclassesofchangepatterns
showed that (i) iCPD can detect different types of changes accu-rately and efficiently; (ii) adjusting the iCPD hyper-parameters
can enable achieving different trade-offs between false alarms and
missed changes; and (iii) iCPD supports the effective runtime PMC
of systems affected by parametric uncertainty. As future work, we
plan to extend iCPD with support for other patterns of change
(e.g.,waves,triangles),andtoinvestigateprincipledmechanisms
of eliciting the IPSP priors.
ACKNOWLEDGMENTS
ThisworkissupportedbytheUKEPSRC(throughtheOffshoreRo-
boticsforCertificationofAssets[EP/R026173/1]anditsPRFproject
COVE) and the Assuring Autonomy International Programme.
REFERENCES
[1]Samaneh Aminikhanghahi and Diane J. Cook. 2017. A survey of methods for
time series change point detection. Knowledge and Information Systems 51, 2
(2017), 339â€“367. https://doi.org/10.1007/s10115-016-0987-z
[2]AdnanAziz,KumudSanwal,VigyanSinghal,andRobertBrayton.1996. Verifying
continuoustimeMarkovchains.In ComputerAidedVerification (LNCS),Rajeev
Alur and Thomas A. Henzinger (Eds.), Vol. 1102. Springer Berlin Heidelberg,
269â€“276. https://doi.org/10.1007/3-540-61474-5_75
[3]ChristelBaierandJoost-PieterKatoen.2008. Principlesofmodelchecking.M I T
press.
[4]Christel Baier, Joost-Pieter Katoen, and Holger Hermanns. 1999. Approximative
Symbolic ModelChecking ofContinuous-Time MarkovChains. In CONCURâ€™99
Concurrency Theory (LNCS), Jos C. M. Baeten and Sjouke Mauw (Eds.), Vol. 1664.
Springer,Berlin,Heidelberg,146â€“161. https://doi.org/10.1007/3-540-48320-9_12
[5]Claudie Beaulieu, Jie Chen, and Jorge L Sarmiento. 2012. Change-point analysis
as a tool to detect abrupt climate variations. Philosophical Transactions of the
RoyalSocietyA:Mathematical,PhysicalandEngineeringSciences 370,1962(2012),
1228â€“1249.
[6]James O Berger, ElÃ­as Moreno, Luis Raul Pericchi, M JesÃºs Bayarri, JosÃ© M
Bernardo, Juan A Cano, JuliÃ¡n De la Horra, Jacinto MartÃ­n, David RÃ­os-InsÃºa,
BrunoBetrÃ²,etal .1994. AnoverviewofrobustBayesiananalysis. Test3,1(1994),
5â€“124. https://doi.org/10.1007/BF02562676
[7] Jose M. Bernardo and Adrian F. M. Smith. 1994. Bayesian theory. Wiley.
[8]Andrea Bianco and Luca de Alfaro. 1995. Model checking of probabilistic and
nondeterministic systems. In Foundations of Software Technology and Theoretical
Computer Science (LNCS), P. S. Thiagarajan (Ed.), Vol. 1026. Springer Berlin
Heidelberg, 499â€“513. https://doi.org/10.1007/3-540-60692-0_70
173ASE â€™20, September 21â€“25, 2020, Virtual Event, Australia Zhao et al.
[9]Radu Calinescu, Marco Autili, Javier CÃ¡mara, Antinisca Di Marco, Simos Gerasi-
mou, Paola Inverardi, Alexander Perucci, Nils Jansen, Joost-Pieter Katoen, Marta
Kwiatkowska, et al .2017. Synthesis and verification of self-aware comput-
ing systems. In Self-Aware Computing Systems. Springer, 337â€“373. https:
//doi.org/10.1007/978-3-319-47474-8_11
[10]RaduCalinescu,MilanÄŒeÅ¡ka,SimosGerasimou,MartaKwiatkowska,andNicola
Paoletti.2018. Efficientsynthesisofrobustmodelsforstochasticsystems. Journal
ofSystemsandSoftware 143(2018),140â€“158. https://doi.org/10.1016/j.jss.2018.05.
013
[11]RaduCalinescu,SimosGerasimou,KennethJohnson,andColinPaterson.2017.
Usingruntimequantitativeverificationtoprovideassuranceevidenceforself-
adaptivesoftware.In SoftwareEngineeringforSelf-AdaptiveSystemsIII.Assurances.
Springer, 223â€“248.
[12]RaduCalinescu,CarloGhezzi,KennethJohnson,PezzÃ©Mauro,YasminRafiq,and
Giordano Tamburrelli. 2016. Formal verification with confidence intervals to
establish quality of service properties of software systems. IEEE Transactions on
Reliability 65, 1 (2016), 107â€“125. https://doi.org/10.1109/TR.2015.2452931
[13]RaduCalinescu,CarloGhezzi,MartaKwiatkowska,andRaffaelaMirandola.2012.
Self-adaptivesoftwareneedsquantitativeverificationatruntime. Communication
of the ACM 55, 9 (2012), 69â€“77. https://doi.org/10.1145/2330667.2330686
[14]RaduCalinescu,RaffaelaMirandola,DiegoPerez-Palacin,andDannyWeyns.2020.
Understanding Uncertainty in Self-adaptive Systems. In 1st IEEE International
Conference on Autonomic Computing and Self-Organizing Systems.
[15]Radu Calinescu, Yasmin Rafiq, Kenneth Johnson, and Mehmet Emin BakÄ±r. 2014.
Adaptive model learning for continual verification of non-functional properties.
InProc.ofthe5thACM/SPECInt.ConferenceonPerformanceEngineering (ICPE
â€™14). ACM, New York, NY, USA, 87â€“98. https://doi.org/10.1145/2568088.2568094
[16]RaduCalinescu,DannyWeyns,SimosGerasimou,MuhammadUsmanIftikhar,
Ibrahim Habli, and Tim Kelly. 2018. Engineering trustworthy self-adaptive
softwarewithdynamicassurancecases. IEEETransactionsonSoftwareEngineering
44, 11 (Nov. 2018), 1039â€“1069. https://doi.org/10.1109/TSE.2017.2738640
[17]BradleyP.Carlin,AlanE.Gelfand,andAdrianF.M.Smith.1992. Hierarchical
Bayesian analysis of change-point problems. Journal of the Royal Statistical
Society:Series C(Applied Statistics) 41,2(1992), 389â€“405. https://doi.org/10.2307/
2347570
[18]Milan CeÅ¡ka, Petr PilaÅ™, Nicola Paoletti, LuboÅ¡ Brim, and Marta Kwiatkowska.
2016. PRISM-PSY:PreciseGPU-acceleratedparametersynthesisforstochastic
systems. In Tools and Algorithms for the Construction and Analysis of Systems
(LNCS), Marsha Chechik and Jean-FranÃ§ois Raskin (Eds.), Vol. 9636. Springer,
Berlin, Heidelberg, 367â€“384. https://doi.org/10.1007/978-3-662-49674-9_21
[19]Souymodip Chakraborty and Joost-Pieter Katoen. 2015. Model checking of open
intervalMarkovchains.In AnalyticalandStochasticModellingTechniquesand
Applications (LNCS),MarcoGribaudo,DanieleManini,andAnneRemke(Eds.),
Vol.9081. Springer, Cham, 30â€“42. https://doi.org/10.1007/978-3-319-18579-8_3
[20]DavidDaly,WilliamBrown,HenrikIngo,JimOâ€™Leary,andDavidBradford.2020.
The use of change point detection to identify software performance regressions
in a continuous integration system. In Proc. of the ACM/SPEC International Con-
ference on Performance Engineering (ICPE â€™20). ACM, New York, NY, USA, 67â€“75.
https://doi.org/10.1145/3358960.3375791
[21]Christian Dehnert, Sebastian Junges, Joost-Pieter Katoen, and Matthias Volk.2017. A Storm is coming: A modern probabilistic model checker. In Computer
AidedVerification(LNCS),RupakMajumdarandViktorKunÄak(Eds.),Vol.10427.
Springer, Cham, 592â€“600. https://doi.org/10.1007/978-3-319-63390-9_31
[22]Therese M. Donovan and Ruth M. Mickey. 2019. MCMC diagnostic approaches.
InBayesian Statistics for Beginners. Oxford University Press, Oxford. https:
//doi.org/10.1093/oso/9780198841296.003.0014
[23]Therese M. Donovan and Ruth M. Mickey. 2019. The white house problem
revisited: MCMC with the Metropolisâ€“Hastings algorithm. In Bayesian Statistics
for Beginners. Oxford University Press, Oxford. https://doi.org/10.1093/oso/
9780198841296.003.0015
[24]Ilenia Epifani, Carlo Ghezzi, Raffaela Mirandola, and Giordano Tamburrelli. 2009.
Modelevolutionbyrun-timeparameteradaptation.In Proc.ofthe31stInterna-
tionalConferenceonSoftwareEngineering (ICSEâ€™09).IEEE,Washington,DC,USA,
111â€“121. https://doi.org/10.1109/ICSE.2009.5070513
[25]Ilenia Epifani, Carlo Ghezzi, and Giordano Tamburrelli. 2010. Change-point
detection for black-box services. In Proc. of the 18th ACM SIGSOFT International
Symposium on Foundations of Software Engineering (FSE â€™10). ACM, New York,
NY, USA, 227â€“236. https://doi.org/10.1145/1882291.1882326
[26]Michael Evans and Hadas Moshonov. 2006. Checking for prior-data conflict.
Bayesian Analysis 1, 4 (2006), 893â€“914. https://doi.org/10.1214/06-BA129
[27]AntonioFilieri,CarloGhezzi,andGiordanoTamburrelli.2012. Aformalapproach
to adaptive software: Continuous assurance of non-functional requirements.Formal Aspects of Computing 24, 2 (2012), 163â€“186. https://doi.org/10.1007/
s00165-011-0207-2
[28]Antonio Filieri, Lars Grunske, and Alberto Leva. 2015. Lightweight adaptive
filteringforefficientlearningandupdatingofprobabilisticmodels.In Proc.ofthe
37thInternational ConferenceonSoftware Engineering (ICSEâ€™15).IEEE, Florence,Italy, 200â€“211. https://doi.org/10.1109/ICSE.2015.41
[29]A. Filieri, G. Tamburrelli, and C. Ghezzi. 2016. Supporting self-adaptation via
quantitative verification and sensitivity analysis at run time. IEEE Transactions
onSoftwareEngineering 42,1(2016),75â€“99. https://doi.org/10.1109/TSE.2015.
2421318
[30]Simos Gerasimou, Radu Calinescu, and Alec Banks. 2014. Efficient runtime
quantitativeverificationusingcaching,lookahead,andnearly-optimalreconfigu-
ration. In Proceedings of the 9th international symposium on software engineering
for adaptive and self-managing systems. 115â€“124.
[31]Simos Gerasimou, Radu Calinescu, Stepan Shevtsov, and Danny Weyns. 2017.
UNDERSEA:anexemplarforengineeringself-adaptiveunmannedunderwater
vehicles. In IEEE/ACM 12th International Symposium on Software Engineering for
Adaptive and Self-Managing Systems. Buenos Aires, Argentina, 83â€“89. https:
//doi.org/10.1109/SEAMS.2017.19
[32]SimosGerasimou,RaduCalinescu,andGiordanoTamburrelli.2018. Synthesis
ofprobabilistic modelsforquality-of-service softwareengineering. Automated
Software Engineering 25, 4 (2018), 785â€“831. https://doi.org/10.1007/s10515-018-
0235-8
[33]HansHanssonandBengtJonsson.1994. Alogicforreasoningabouttimeand
reliability. FormalAspectsofComputing 6,5(Sept.1994),512â€“535. https://doi.
org/10.1007/BF01211866
[34]JeffreyOKephartandDavidMChess.2003. Thevisionofautonomiccomputing.
Computer 36, 1 (2003), 41â€“50.
[35]Igor O. Kozine and Lev V. Utkin. 2002. Interval-valued finite Markov chains.
ReliableComputing 8,2(2002),97â€“113. https://doi.org/10.1023/A:1014745904458
[36]Marta Kwiatkowska, Gethin Norman, and David Parker. 2004. Modelling and
verification of probabilistic systems. Mathematical Techniques for Analyzing
Concurrent and Probabilistic Systems. CRM Monograph Series 23 (2004), 93â€“215.
[37]Marta Kwiatkowska, Gethin Norman, and David Parker. 2011. PRISM 4.0: Verifi-
cation of probabilistic real-time systems. In Computer Aided Verification (LNCS),
Ganesh Gopalakrishnan and Shaz Qadeer (Eds.), Vol. 6806. Springer, Berlin, Hei-
delberg, 585â€“591. https://doi.org/10.1007/978-3-642-22110-1_47
[38]Siqi Liu, Adam Wright, and Milos Hauskrecht. 2018. Change-point detection
methodforclinicaldecisionsupportsystemrulemonitoring. ArtificialIntelligence
in Medicine 91 (2018), 49 â€“ 56. https://doi.org/10.1016/j.artmed.2018.06.003
[39]Colin Paterson and Radu Calinescu. 2020. Observation-Enhanced QoS Analysis
ofComponent-BasedSystems. IEEETransactionsonSoftwareEngineering 46,5
(2020), 526â€“548. https://doi.org/10.1109/TSE.2018.2864159
[40]KoushikSen,MaheshViswanathan,andGulAgha.2006. Model-checkingMarkov
chains in the presence of uncertainties. In Tools and Algorithms for the Con-
structionandAnalysisofSystems (LNCS),HolgerHermannsandJensPalsberg
(Eds.), Vol. 3920. Springer, Berlin, Heidelberg, 394â€“410. https://doi.org/10.1007/
11691372_26
[41]Stepan Shevtsov and Danny Weyns. 2016. Keep It SIMPLEX: Satisfying multiple
goals with guarantees in control-based self-adaptive systems. In Proc. of the 2016
24th ACM SIGSOFT Int. Symp. on Foundations of Software Engineering (FSE 2016).
ACM, New York, NY, USA, 229â€“241. https://doi.org/10.1145/2950290.2950301
[42]CharlesTruong,LaurentOudre,andNicolasVayatis.2020. Selectivereviewof
offline change point detection methods. Signal Processing 167 (2020). https:
//doi.org/10.1016/j.sigpro.2019.107299
[43]Gero Walter and Thomas Augustin. 2009. Imprecision and prior-data conflict
in generalizedBayesian inference. Journal ofStatistical Theoryand Practice 3, 1
(2009), 255â€“271. https://doi.org/10.1080/15598608.2009.10411924
[44]S Zacks. 1983. Survey of classical and Bayesian approaches to the change-point
problem:fixedsampleandsequentialproceduresoftestingandestimation. In
Recentadvancesinstatistics.Elsevier,245â€“269. https://doi.org/10.1016/B978-0-
12-589320-6.50016-2
[45]Xingyu Zhao, Valentin Robu, David Flynn, Fateme Dinmohammadi, Michael
Fisher, and Matt Webster. 2019. Probabilistic model checking of robots deployed
in extreme environments. In Proc. of the 33rd AAAI Conference on Artificial
Intelligence, Vol. 33. Honolulu, Hawaii, USA, 8076â€“8084. https://doi.org/10.1609/
aaai.v33i01.33018066
[46]Xiaoqian Zhu, Yongjia Xie, Jianping Li, and Dengsheng Wu. 2015. Change point
detection for subprime crisis in American banking: From the perspective of risk
dependence. International Review of Economics & Finance 38 (2015), 18 â€“ 28.
https://doi.org/10.1016/j.iref.2014.12.011
174