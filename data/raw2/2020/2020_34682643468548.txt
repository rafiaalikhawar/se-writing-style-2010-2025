Timelyand Accurate Detection ofModelDeviationin
Self-AdaptiveSoftware-IntensiveSystems
YanxiangTong
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing,China
tongyanxiang@gmail.comYiQinâˆ—
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing,China
yiqincs@nju.edu.cnYanyanJiang
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing, China
jyy@nju.edu.cn
ChangXu
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing,China
changxu@nju.edu.cnChunCaoâˆ—
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing,China
caochun@nju.edu.cnXiaoxing Ma
StateKey Lab forNovelSoftware
Technology, NanjingUniversity
Nanjing, China
xxm@nju.edu.cn
ABSTRACT
Control-based approaches to self-adaptive software-intensive sys-
tems(SASs)arehailedfortheiroptimalperformanceandtheoretical
guaranteesonthereliabilityofadaptationbehavior.However,in
practicetheguaranteesareoftenthreatenedbymodeldeviations
occurred at runtime. In this paper, we propose a Model-guided
DeviationDetector (MoD2) for timely and accurate detection of
model deviations. To ensure reliability, a SAS can switch a control-
based optimal controller for a mandatory controller once an un-
safe modeldeviationisdetected. MoD2achievesboth high timeli-
nessandhighaccuracythroughadeliberatefusionofparameter
deviation estimation, uncertainty compensation, and safe region
quantification. Empiricalevaluation withthree exemplarsystems
validatedtheefficacyofMoD2(93.2%shorterdetectiondelay,39.4%
lowerFNrate,and25.2%lowerFPrate),aswellasthebenefitsof
the adaptation-switchingmechanism (abnormalrate droppedby
29.2%).
CCSCONCEPTS
â€¢Software and its engineering â†’Software verification and
validation ;â€¢Social and professional topics â†’Software selec-
tion andadaptation.
KEYWORDS
Self-Adaptive Software,ControlTheory,ModelDeviation
ACM Reference Format:
YanxiangTong,YiQin,YanyanJiang,ChangXu,ChunCao,andXiaoxingMa.
2021. Timelyand Accurate Detection ofModel Deviation in Self-Adaptive
Software-Intensive Systems. In Proceedings of the 29th ACM Joint European
âˆ—Corresponding author.
ESEC/FSE â€™21, August 23Å›28,2021, Athens,Greece
Â©2021 Copyright heldby theowner/author(s).
ACM ISBN 978-1-4503-8562-6/21/08.
https://doi.org/10.1145/3468264.3468548Software Engineering Conference and Symposium on the Foundations of Soft-
wareEngineering(ESEC/FSEâ€™21), August 23Å›28, 2021,Athens, Greece. ACM,
NewYork, NY, USA, 13pages.https://doi.org/10.1145/3468264.3468548
1 INTRODUCTION
Controltheoryhasbeenincreasinglyadoptedindevelopingself-
adaptivesoftware-intensivesystems[ 56,59].Indesigningacontrol-
based self-adaptive system (control-SAS for short), developers first
identifyanominalmodel(e.g.,alineartime-invariantmodel)ofthe
subject system (a.k.a. the managedsystem, or the plantincontrol
jargon), andthen designa managingsystem(a.k.a. the controller in
control jargon) based on the identified model with some (feedback)
control mechanisms suchas Proportional-Integral-Derivativecon-
trolorModelPredictiveControl.Theadvantageofthisapproach
is that the control mechanisms have well-established mathemat-
ical foundations that theoretically guarantee the optimality and
reliabilityofthe resultingSAS [ 25,47,65].
However, software-intensive systems behave differently from
physical devices to which control theory is usually applied. The
behavioral patterns of the former are more dynamic and uncer-
tain than the latter. During its execution, a managed software-
intensivesystemâ€™sbehavioroftendeviatesfromtheidentifiednom-
inalmodel[ 10,25,49].Thismodeldeviation ,ifgoesbeyondacertain
region,willinvalidatethetheoreticalguaranteesandthreatenthe
safety ofthe whole system[ 9,17,46,65].
Such problem of model deviation has been acknowledged in
theliterature,buttoourknowledgenosatisfactorysolutionwas
given[10,11,23,44,49,60].Usingrobustcontrollers[ 11,44]can
mitigatetheproblembytoleratingslightdeviationsatthecostof
lessoptimalityandmorecomplexityincontrollerdesign,butthe
problemitself remains.Some authorsproposed to monitorsystem
outputs and rebuild the controller through system re-identification
oncetheoutputsviolatesomespecifiedcriteria[ 10,23,49].How-
ever, this approach is less sensitive in that model deviations could
have happened much earlier than their manifestation as abnormal
outputs. It is crucial to report dangerous deviations as early as pos-
siblebeforetheycausedisastrousconsequences.Slidingwindow-
based model deviation detection approaches [ 12,23,35] require
extensivedomainknowledgeandhumaneffortstotunetheirpa-
rameters. The emerging learning-based approaches [ 17,57] reduce
This work is licensed under a Creative Commons Attribution 4.0 Interna-
tional License.
168
ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
thedependenceondomainknowledgeandhumanefforts,butare
not speedy andaccurateenough,as to be showninSection 5.
Analternativewayistomonitorthemanagedsystemâ€™smodel
parameter values directly, which could save the time that a model
deviation propagates to the managed systemâ€™s abnormal output.
Since the nominal modelâ€™s parameter values are unobservable, one
haveto calculatethesevaluesbasedontheobservableinputs and
outputs. However, both internal uncertainty (e.g., process noise)
andexternaluncertainty(e.g.,measurementerror)[ 19,64]would
leadtoaninaccuratecalculation.Slidingwindowcouldalleviatethe
impact of measurement error to some extent, but it is less effective
inhandlingslightmodeldeviation,andstillfacestheproblemof
manually tunedparameters.
In this paper, we propose the Model-guided DeviationDetector
(MoD2)tosupporttimelyandaccuratemodeldeviationdetection
forcontrol-SASs.ThekeyintuitionofMoD2isto estimatethenom-
inal modelâ€™s parameter values. Unlike most existing works that
treat the nominal modelâ€™s parameter as a deterministic variable,
MoD2 describes the parameter as a stochastic variable. The identi-
fiedvalueisnowconsideredastheparameterâ€™smeanvalue,andwe
additionallyidentifytheparameterâ€™svariance.Byleveragingthe
knowledge of the parameterâ€™s distribution, MoD2 uses Bayesian
estimation to achieve an effective estimation of its value. MoD2
also integrates two lightweight techniques, namely uncertainty
compensation and safe region quantification, to further improve
its accuracywithoutsacrificingtoomuchtimeliness.
Based on MoD2, an adaptation-supervision mechanism is imple-
mentedtoalleviatetheimpactofmodeldeviationwithadual-track
adaptionstrategy.Themechanismusesasupervisionlooptoguard
the adaptation loop of a control-SAS. Once MoD2 detects model
deviation, our mechanism will switch the control theory-based op-
timalcontrollerforamandatorycontrollerthatensuresthemanda-
toryrequirementsbutmayscarifysomesystemutilization.When
modeldeviationdisappears,theSAScanswitchbacktotheoptimal
controlleragain.
WeevaluateourapproachonthreerepresentativeexemplarSAS
systems, namely, SWaT [ 8], RUBiS [ 18], and video encoder [ 50].
We compare MoD2â€™s performance with two baseline approaches
(i.e.,aslidingwindow-baseddetector[ 23],andanSVM-basedde-
tector [17]). The results show the effectiveness of MoD2 which
achieves 93.3% shorter detection delay, 39 .4% lower FN rate, and
25.2% lower FP rate, as well as the usefulness of MoD2-based
adaptation-supervisionmechanism byreportinga29 .2%lowerab-
normal rate.
Intheremainderofthispaper,section 2givesthenecessaryback-
ground and discussesthe motivationof ourwork. Then,section 3
introducestheadaptation-supervisionmechanism,andsection 4de-
tails our MoD2 with three main techniques.Next,section 5shows
the experimental evaluation of our approach. Finally, section 6
discussesthe relatedwork, andsection 7concludes the paper.
2 BACKGROUNDAND MOTIVATION
In this section, we firstintroducethe background ofcontrol-SASs,
with a motivating example of Secure Water Treatment testbed
(SWaTforshort)[ 8].Thenwediscusstheimpactofmodeldeviation
onself-adaptivesystemsasthelimitationofexistingapproachesinhandling model deviation. Next, we introduce Bayesian estimation
and Kalman filter for estimating model parameter values. We then
discuss our scope and assumptions in addressing the problem of
modeldeviation.
2.1 Control-BasedSelf-AdaptiveSystems
In recent years, control-based self-adaptive systems[ 16,23,25,26,
56,59,63] became a research hotspot for its lessburden on the de-
velopersâ€™mathematicalandsoftwareknowledgetodesignad-hoc
self-adaptation solutions. Filieri et al. first propose a methodol-
ogy (i.e., the push-button method [ 23]) to implement control-SASs,
whichincludesasystematicdatacollectionandmodelfittingproce-
dure (a.k.a., system identification [48]) and a control theory-guided
controller designing procedure (a.k.a., controller synthesis ). The
identificationprocedureenablestheautomaticconstructionofan
approximatemodelforthemanagedsystem,andthesynthesized
controller provides theoretical guarantees to the derived managing
systemâ€™sbehaviorincontrolling adaptation.
Specifically,insystemidentification,control-SASsassumethat
the managed systemâ€™s behavior can be captured by aquantitative
nominalmodel toimproveproductivityandcopewithinfinitekinds
of environmental dynamics. A nominal model describes the rela-
tionship between the managed systemâ€™s output, the controllerâ€™s
output, and the environmental input. Many types of nominal mod-
els[52]havebeenproposedtosupportself-adaptationinvarious
scenarios, including linear time-invariant system [ 4,35,61], linear
time-varyingsystem[ 37],andnonlineartime-invariantsystem[ 11].
Incontrollersynthesis,control-SASsleveragevariouscontrol-
theoretical techniques to design the optimal controllers for various
scenarios. Two of the most prevailing techniques are proportional-
integral-derivative (PID) control [ 24,44,60], and model predictive
control [4,5,49,51]. A controllerâ€™s workflow resembles the con-
ventionalself-adaptationmechanismthatconsistsofcontinuous
adaptation loops of monitoring, analyzing, planning, and executing.
A controllerâ€™s behavior should be subject to the control properties,
forexample,theSASOproperties(i.e.,stability,accuracy,settling
time,andovershoot)[ 36].
Here,weusetheSWaTsystemtoexplaintheconceptsofcontrol-
SASs. SWaT is a fully operational scaled-down water treatment
plant that produces doubly-filtered drinking water. SWaT consists
offivewater-processingtanks,aswellasthepipesconnectingthose
tanks.Thein-comingvalveandout-goingvalveofeachtankcanbe
controlled remotely. The objective of a self-adaptive SWaT system
istoenablesafe(e.g.,nooverfloworunderflowinanyofthetanks)
andefficient(e.g.,maximumcleanwaterproduction)waterfiltering
underdifferentenvironmentalsituations(e.g.,theinitialwaterlevel
ofthe five tanksandthe in-coming water flowof the firsttank).
Tobuildsuchaself-adaptiveSWaTsystemfollowingthecontrol-
SASs methodology, we can use the following linear time-invariant
systemto describe the SWaT insystemidentification.
/braceleftBigg
/vecğ‘¥(ğ‘˜)=ğ´Â· /vecğ‘¥(ğ‘˜âˆ’1) +ğµÂ· /vecğ‘¢(ğ‘˜âˆ’1)
ğ‘¦(ğ‘˜)=ğ¶Â· /vecğ‘¥(ğ‘˜)(1)
where(ğ‘˜)denotes a serial number of the adaption loop. For the
variables, /vecğ‘¥(ğ‘˜)describes SWaTâ€™s current running state (i.e., the
in-comingandout-goingwaterofthefivetanks), /vecğ‘¥(ğ‘˜âˆ’1)describes
169Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
thehistoricalstate, ğ‘¦(ğ‘˜)describesthesystemâ€™soutputvalue(i.e.,
themeasuredwaterlevelsoffivetanks),and /vecğ‘¢(ğ‘˜âˆ’1)describesitsre-
ceivedcontrolsignal(i.e.,thevalvesâ€™openingtimeinanadaptation
loop).
The parameters in Equation 1, includingğ´,ğµ, andğ¶, are identi-
fied for thesystem since theirvalues cannot be measured directly.
Eachoftheseparametersrepresentsaspecificdynamicalfeatureof
SWaT.Specifically, ğ´representsthesystemâ€™sdelayproperty,which
describes the interval between the time when a controller requests
to turn on/off a valve and the time when the valve is turned on/off.
ğµrepresents the systemâ€™s controllability, which describes the influ-
enceofturningon/offavalveuponthesystemâ€™srunningstate. ğ¶
representsthesystemâ€™sobservability,whichdescribesthemapping
betweeneachtankâ€™sin-comingandout-goingwaterflowandthe
measuredwater level.
Based on the identified parameter values, SWaTâ€™s developers
provide a suite of well-designed controllers to enable the systemâ€™s
adaptation to different environmental situations. These controllers
leverage both control-theory and rule-based domain knowledge to
guide the control strategies of various valves. Concretely, there are
a total of six controllers. Four control the in-coming and out-going
valvesofoneortwotanks,respectively.Twocontrollerscontrolthe
generalwatertreatmentprocedureandcoordinatewiththeother
four.
Controltheoryguaranteestheself-adaptiveSWaTsystemsub-
jectingtothecontrolproperties.Forexample,thewaterinalltanks
shouldneitheroverflownorunderflow(i.e.,subjecttonoovershoot
property). Meanwhile, the water level in all tanks should reach the
desired level quickly (i.e., subjecting to low settling time property),
inorder to maximizeSWaTâ€™s cleanwater production.
2.2 Model Deviation in Control-Based
Self-AdaptiveSystems
Modeldeviation underminescontrol-SASs.Modeldeviationisthe
mismatchbetweenthenominalmodelâ€™sidentifiedparametervalues
and its actual values at runtime. The occurrence of model devia-
tion may invalidate the theoretical guarantees provided by control
theory and could potentially cause the abnormal behavior of a
control-SAS.
Letusconsidertworeal-worldcasesofmodeldeviationinSWaT.
The first one is reported by Adepu et al. that network attacks
could cause SWaTâ€™s abnormal behavior [ 1]. For instance, if the
controllerâ€™s signal of turning on a valve is blocked or tampered
with,thevalvesâ€™openingtimewillbechangedaccordingly.Then,
whenthecontrolledtankâ€™swaterlevelexceedsanalarminglevel,
the corresponding controller will still control the valves according
to the unchanged ğµvalueandcause tankoverflow.
Inthesecondcase,thephysicalconditionofSWaTâ€™spipesand
valves will also lead to model deviation. For example, physical
abrasion[ 21]maywearthevalvesandresultinthechangeofwater
flowrate(i.e.,systemâ€™scontrollabilityfeature ğµ).Whenacontroller
still controls the valves based on the unchanged ğµvalue, the water
flowintothetankwillbesmallerthanwhatthecontrollerexpected
andmaycause the tankto underflow.Lotsofself-adaptivesystemresearchersacknowledgetheexis-
tence of model deviation, and propose different solutions. In push-
button-method[ 23],Filieriet.alfirstidentifymodeldeviation,ad-
dressitbymonitoringsystemoutputs,andrebuildthecontroller
through system re-identification. Some other works [ 10,24,49]
alsorelyonre-identificationtohandlemodeldeviation.Somere-
searchersfocusonimprovingthecontrollerâ€™srobustnesstotolerate
slight deviations[ 11,44].
Thesesolutionshavetheirownlimitations.Fortherobuststrength-
ening approaches, model deviation does cause the controller de-
signed by field experts to behave abnormally, in our previous moti-
vating example of SWaT. We cannot simply assume that developer-
designed controllers could overcomemodel deviation as in[ 11,44].
Forthe re-identification approaches, it istooslow to be effective
since model deviations could have happened much earlier than
theirmanifestationasabnormaloutputs(Kanget.alreportthatit
takesaround5minutesforadetectedattacktofailSWaTâ€™sexecu-
tion[42]).Thelatency betweenmodeldeviationâ€™soccurrenceand
its observable consequences make it crucial to report dangerous
deviationsas early as possible.
As we discussed in Section 1, the challenge is to balance the
detectionâ€™s timeliness and accuracy. Existing works fail to bal-
ance this in detecting model deviation. For the sliding window-
based approaches that have been exploited long by self-adaptive
researchers[ 12,23,35],theirperformancelargelydependsonman-
ual or empirical settings (e.g., size of the sliding window-based
andthethresholdformonitoredsystemâ€™soutputvalues).Itoften
requires extensive domain and mathematical knowledge for an ap-
propriate setting, which is impossible for non-experts. For those
newly-proposedlearning-basedapproaches[ 17,57],theyusually
combine multiple test results for improving their detection accu-
racy, which prolongs their detection delay. Whatâ€™s more, these ap-
proachesoftenrequirebinarytrainingsets,thepositiveinstancesof
whichcanhardlybepreparedsincethemanagedsystemâ€™sbehavior
undermodeldeviation isunpredictable.
OurMoD2addressesthechallengeabovefollowingtheguidance
of the nominal model. First, MoD2 fundamentally decreases its
detection delay by deriving the nominal modelâ€™s parameter values
withBayesianestimation.Second,MoD2improvesitsestimation
accuracyanddetectionaccuracywithtwosupportingtechniques,
namely, uncertaintycompensationand saferegion quantification.
Third, MoD2 further reduces the time overhead of its estimation
anddetectionbyKalmanfilterandprobability-basedquantification,
respectively.
2.3 BayesianEstimationandKalmanFilter
Bayesianestimation [ 29]enables one to estimate anunobservable
parameter value (the value of ğµ(ğ‘˜)in our case). To improve its
accuracy, the approach requires a priori information about the pa-
rameterâ€™sdistribution(i.e.,meanvalueandvarianceofallcollected
ğµvalues insystemidentification). Bayesianestimation works inan
iterativemanner.Ineachiteration,wefirstcomputea priordistribu-
tionoftheconcernedparameterthatmatchesthepastobservations
and the identified distribution. Then, the prior is combined with
the current observationsto obtain a posterior distribution which is
reportedas the currentestimationvalue.
170ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
ManagedÂ 
SystemNominalÂ 
ModelsÂ 
ğ›¼áˆºğ‘˜áˆ»
ğ‘¢áˆºğ‘˜áˆ» ğ‘¦ à´¤ ğ‘¦áˆºğ‘˜áˆ»Environment
Optimal
ControllerMandatoryÂ 
Controllerğ‘¢ğ‘˜ ğ›¼áˆºğ‘˜áˆ» ğ‘¦áˆºğ‘˜áˆ»
Adaptation
loop
ManagedÂ 
SystemRunningÂ 
EnvironmentDesignÂ Time
ControlÂ Theory
Controlâ€
SASsMoD2
SwitcherAdaptationâ€
supervisionUncertaintyÂ 
compensationSafeÂ regionÂ 
quantificationParameterÂ deviationÂ 
estimation
SupervisionÂ 
loopğ‘¦à´¤:desiredÂ managedÂ systemâ€™sÂ outputÂ Â Â Â Â Â Â Â Â Â  ğ‘¢ğ‘˜:measuredÂ controllerâ€™sÂ outputÂ Â Â Â Â Â Â Â Â Â  ğ‘¦ğ‘˜:measuredÂ managedÂ systemâ€™sÂ outputÂ Â Â Â Â Â 
ğ‘ğ‘˜, ğ‘¤ ğ‘˜, ğ‘£ áˆº ğ‘˜ áˆ» : compensatedÂ Â environmentalÂ uncertainty
ğ‘¤ğ‘˜
ğ‘£ğ‘˜
Figure 1:Overview ofMoD2-based adaptation-supervisionmechanism
In Bayesian estimation, one has to calculate the prior and poste-
rior distributions in every iteration, which brings a considerable
overhead. Kalman filter reduces this overhead by deriving the cur-
rentpriorandposteriordistributionsthroughupdatingtheprevious
distributions.Specifically,Kalmanfilterusesarecursivefactor ğ¾
(also called Kalman gain) to approximate the relationship of the
prior/posteriordistributionsfromtwoormultipleconsecutiveit-
erations.Whensuchrelationshipislinearorcanbeapproximate
linearly,Kalmanfiltercouldproduceanaccurateandfastestimation
ofthe concernedparameter.
2.4 OurScopeandAssumptions
Duetothevariousapplicationscenariosofself-adaptivesystems,
theproposed MoD2hasitsscope andassumptions forease ofdis-
cussion and presentation. We delineate our scope based on ex-
istingworkandinheritpre-existingassumptionsfromotherself-
adaptation or control theory research. Notice we only give our
assumptionsandclarifytheirrealistichere.WewilldiscussMoD2â€™s
limitationsbrought bytheseassumptions inSection 4.4.
Nominalmodel . In this work, we focus on linear time-invariant
system(LTIsystemforshort).LTIsystemisoneofthemostwidely-
used models among self-adaptation researchers [ 35,49,60], and
has been successfully appliedindifferentsubjects[ 4,61].
Modeldeviation . We focus on two types of model deviation, dis-
cretebehaviorandinaccurateenvironmentalinteraction,following
the two reported cases in our motivating example of SWaT. One
occurs when a controller produces its control signals (e.g., block
or tamper with the instruction to open the valves) and the other
occurs when the managed system receives the control signals (e.g.,
water flowchanging dueto physical abrasion).
Basedonthetwotypesofmodeldeviation,inthiswork,wefocus
onthedeviationofthemanagedsystemâ€™scontrollabilityfeatures
(i.e., the parameter ğµ) and assume that the managed systemâ€™s delay
and observability features (i.e., parameter ğ´andğ¶) are compara-
tively stable. Recent literatures [ 1,2,41] report and validate the
deviation ofthe controllability features.
Wealsoassumethat ğµ(ğ‘–)isaunaryparameterforeaseofpre-
sentation.Nevertheless,ourapproachcanbeappliedtoamultinary
parameter.Environmental uncertainty . Environmentaluncertaintyisthe
known unknown information at runtime [ 4,20]. As a result, one
has to model the target uncertainty first before addressing it. In
thispaper,weassumethattheenvironmentaluncertaintycanbe
described by a linear time-invariant model or a normal distribu-
tion. The former is a widely used approach in describing uncertain
environmentalinputbythecontroltheory[ 13,62],andthelatter
is a typical setting for describing uncertaintyâ€™s influence among
self-adaptive systems[ 19,64].
3 ANADAPTATION-SUPERVISION
MECHANISM
To address the problem of model deviation, this paper proposes an
adaptation-supervisionmechanismtosupervisetheexecutionof
control-SASsasshowninFigure 1.Intuitively,weaddedanewpar-
allelsupervisionloop toacontrol-SAS.Thesupervisorcontinuously
monitorstheadaptationloop.Whenmodeldeviationisdetected,
thesupervisorimmediatelyÅ‚fallsbackÅ¾toasafer(butlessefficient)
mandatorycontrollerandrecoverstothemaincontrolloopafter
successfulmodelre-identification.
The supervisor consists of three major components: a model-
guided deviation detector (MoD2, which is this paperâ€™s primary
focus),amandatorycontroller,andaswitcher.Underlinedblocks
inFigure 1denotethesenewlyaddedcomponents.
In the adaption-supervision mechanism, we first require the
system designer to provide a mandatory controller that guarantees
minimalsystemfunctionality(i.e.,mandatoryrequirements)even
on nominal-model deviation. Mandatory controllers have been
extensively studied by the community of control-SASs, e.g., by
adoptingarchitectural-guided[ 27]orgoal-driven rules[ 58].
Withbothcontroltheory-basedoptimalcontrollerandmanda-
torycontroller,the switchercoordinatesthemontheMoD2.The
switcher immediately changes the adaptation loop from using the
optimal controller to using the mandatory controller on model
deviation to reduce the unpredictable influences to a minimum.
The switcher is also responsible for consistently conducting model
re-identificationandturningbacktotheoptimalcontrollerwhen
the abnormal situation has disappeared (e.g., the network attack of
171Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
SWaTwasblockedbyafirewall).Theswitchercanbeimplemented
following the pushbuttonmethod[ 23].
Therefore,thedesignofanefficientandeffectivemodel-deviation
detector (our MoD2)should be the key point.
4 MOD2:MODEL-GUIDED DEVIATION
DETECTOR
Thethreemajortechnicaldesigns(andcontributions)ofthepro-
posedMoD2are:
(1)MoD2directlyestimatesthenominalmodelâ€™sparametervalues
by modeling the nominal modelâ€™s parameter ğµas atime-
variant stochastic variable ğµ(ğ‘˜). In contrast with existing
work,whichismostlybasedontheobservableoutputs ğ‘¦(ğ‘˜),
this white-box approach accelerates the model-deviation
detection andimproves the accuracy.
(2)MoD2compensatesenvironmentaluncertainty inthenominal
modelbyintroducingcompensationtermstoreducethecon-
sequences of measurement errors, yielding improved model-
deviation estimation accuracy. MoD2 adopts the Kalman
filter,afastBayesianestimator,toaccelerateitsestimation
onthe parametervalues.
(3)MoD2directly quantifies the nominal modelâ€™s theoretical safe
regionwithout the need for calibrating an empirical thresh-
old based on execution traces of the managed system. By
usingthenecessaryconditionsunderwhichmodeldeviation
canmakethecontrollerbehaveabnormally,MoD2directly
(and thus timely) reports model deviation with sufficient
probabilisticconfidence.
Thesetechnical details are elaboratedas follows.
4.1 ParameterDeviation Estimation
Wefirstdescribetheconcernedmodelparameter ğµasatime-variant
stochasticvariable ğµ(ğ‘˜):
ğµ(ğ‘˜)=ğµ(ğ‘˜âˆ’1) +ğœ”Â· (Ëœğµâˆ’ğµ(ğ‘˜âˆ’1)) +ğ‘(ğ‘˜) (2)
where: (1) The parameterâ€™s deviation is described as the sudden
changes of centripetal force ğœ”that driveğµ(ğ‘˜)away from identi-
fiedËœğµ. (2) The parameterâ€™s inherent fluctuation is described as a
random walk procedure, the step of which subjects to a normal
distribution ğ‘(ğ‘˜). If the system is free from model deviation (i.e.,
ğœ”=0),thevarianceof ğ‘(ğ‘˜)equalstothevarianceof ğµ(ğ‘˜),which
can be acquiredalongwiththe identification of Ëœğµ.
CombiningEquation 1andEquation 2enablesMoD2toestimate
thevalueof ğµ(ğ‘˜)inaBayesianapproach.Specifically,inthe ğ‘–-th
adaptationloop,apriordistributionof ğµ(ğ‘–)iscomputedthatfitsthe
previousposteriordistribution ğµ(ğ‘–âˆ’1)andidentifiedvarianceof
ğ‘(ğ‘˜), according to Equation 2. Then, MoD2 calibrates the posterior
distribution of ğµ(ğ‘–)by updating the prior distribution of ğµ(ğ‘–)with
the current observation (i.e., /vecğ‘¥(ğ‘–âˆ’1),/vecğ‘¢(ğ‘–âˆ’1), andğ‘¦(ğ‘–)), according
to Equation 1.
Notethatwemightnotbeabletoobservethevalueofsystem
state/vecğ‘¥(ğ‘–)directlyinsomecases.WealsouseBayesianestimation
toestimate /vecğ‘¥(ğ‘–)â€™svalue.Inthissituation,eachiterationofBayesian
estimationhastwosteps. MoD2firstestimates /vecğ‘¥(ğ‘–âˆ’1)â€™svalue by
treatingthepreviousestimated ğµ(ğ‘–âˆ’1)asanobservation.Then,theobtained /vecğ‘¥(ğ‘–âˆ’1)isusedtoestimatethecurrentparametervalue
ğµ(ğ‘–).
4.2 UncertaintyCompensation
Due to various environmental uncertainties, a direct estimation
ofğµ(ğ‘–)â€™svalueisusuallyinaccurate.Toreduceuncertainty-based
errorsintheestimationsof ğµ(ğ‘–),werefinethenominalmodelby
compensating for environmental uncertainty and accelerate our
estimationwiththe Kalman filter.
Usingcompensationtermstorefineanominalmodelisawidely-
usedtechniqueinthecontroltheorycommunity[ 30].However,one
has to carefully design the effective compensation terms. Here, we
introducethreedifferentcompensationterms.Oneisthemeasured
environmental input ğ‘(ğ‘˜), which can be used to posterior calibrate
ourestimated ğµ(ğ‘–)â€™svalue.Weusealineartime-invariantmodelto
describe the influence brought byenvironmental input. The other
two compensation terms, ğ‘¤(ğ‘˜)andğ‘£(ğ‘˜), capture the influences of
measurement errors on the managed systemâ€™s internal state and
external behavior, respectively. According to our assumptions, we
depictğ‘¤(ğ‘˜)andğ‘£(ğ‘˜)as normal distributionof variance ğ‘Šandğ‘‰.
Then, the nominal model (Equation 1) is refined with three com-
pensation terms, as follows.
/braceleftBigg
/vecğ‘¥(ğ‘˜)=ğ´Â· /vecğ‘¥(ğ‘˜âˆ’1) +ğµ(ğ‘˜) Â· /vecğ‘¢(ğ‘˜âˆ’1) +ğ›¾Â·ğ‘(ğ‘˜) +ğ‘¤(ğ‘˜)
ğ‘¦(ğ‘˜)=ğ¶Â· /vecğ‘¥(ğ‘˜) +ğ‘£(ğ‘˜)(3)
whereğ›¾is the coefficient of the linear model that describes ğ‘(ğ‘˜).
Thevalueof ğ›¾whichisacquiredduringsystemidentificationalong
withothermodelparameters.
BasedonEquation 3,MoD2furtheralleviatestheimpactofmea-
surementerrorbytransformingthenominalmodeltodifference
equations.Intheoriginalnominalmodel,themeasurementerror
onparametervalues(e.g., ğ´)ismultipliedbyothervariables(e.g.,
/vecğ‘¥(ğ‘˜âˆ’1)).Asaresult,alargevariablevaluewouldamplifythemea-
surement error and make the following estimation less accurate.
MoD2 uses the difference equation to address the impact of this
multiplier effect. If the managed systemâ€™s behavior is free from
severechanges,avariableâ€™svaluesintwoconsecutiveadaptation
loopsshouldnotdifferalot[ 14,55],andthedifferenceequationcan
thus alleviate the multiplier effect. Otherwise, it could be easier for
us to detect. In this paper, we use Î”ğ‘£ğ‘ğ‘Ÿ(ğ‘˜)to denote the difference
between variable ğ‘£ğ‘ğ‘Ÿâ€™s values in the ğ‘˜-th and(ğ‘˜âˆ’1)-th adapta-
tion loop (i.e., Î”ğ‘£ğ‘ğ‘Ÿ(ğ‘˜)=ğ‘£ğ‘ğ‘Ÿ(ğ‘˜) âˆ’ğ‘£ğ‘ğ‘Ÿ(ğ‘˜âˆ’1)). Thus the difference
equations ofthe nominalmodelare listedas follows.
/braceleftBigg
Î”/vecğ‘¥(ğ‘˜)=ğ´Â·Î”/vecğ‘¥(ğ‘˜âˆ’1) +ğµ(ğ‘˜) Â·Î”/vecğ‘¢(ğ‘˜âˆ’1) +ğ›¾Â·Î”ğ‘(ğ‘˜) +ğ‘¤(ğ‘˜)
Î”ğ‘¦(ğ‘˜)=ğ¶Â·Î”/vecğ‘¥(ğ‘˜) +ğ‘£(ğ‘˜)
(4)
Notice that if the controllerâ€™s control signal keeps unchanged,
thedifferenceequationsareineffectivesincetheestimated ğµwill
beeliminatedbymultiplyingzero( Î”/vecğ‘¢(ğ‘˜âˆ’1)=/vecğ‘¢(ğ‘˜) âˆ’ /vecğ‘¢(ğ‘˜âˆ’1)=
0). In this situation, we use the original nominal model to estimate
ğµ(ğ‘˜)â€™svalueinstead ofthe difference equations.
With those compensation terms introduced, it would be ex-
tremelytime-consumingtoperformtheoriginalBayesianestima-
tion.MoD2acceleratesitsestimationbyusingKalmanfilter[ 43,45],
172ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
a more efficient linear quadratic estimation approach. Conceptu-
ally, Kalman filter works by updating the prior distribution of ğµ(ğ‘–)
with the latest observation only (i.e., /vecğ‘¥(ğ‘–âˆ’1),/vecğ‘¢(ğ‘–âˆ’1), andğ‘¦(ğ‘–)),
insteadof re-calculatingthepriori withall historicalobservations
(i.e.,/vecğ‘¥(0)Å›/vecğ‘¥(ğ‘–âˆ’1),/vecğ‘¢(0)Å›/vecğ‘¢(ğ‘–âˆ’1), andğ‘¦(0)Å›ğ‘¦(ğ‘–)). MoD2â€™s Kalman
filter parameter estimation also follows an iterative manner as the
original Bayesian estimation. However, it can give a more accurate
normal distribution of the estimated parameters by filtering the
effectsofcompensation terms (i.e., ğ‘(ğ‘–),ğ‘¤(ğ‘–),andğ‘£(ğ‘–)).
4.3 SafeRegionQuantification
Once the distribution of ğµ(ğ‘–)is estimated, MoD2 has to check
whetheritsuffersmodeldeviationornot.Wecombinethenominal
model listed in Equation 4with a theoretical safe region and use a
cumulativedistributionfunctiontocalculatetheprobabilitythat
ğµ(ğ‘–)â€™sactualvalueexceedsthesaferegion.Unlikeexistingworks
thatuseamanualorempiricalthreshold,MoD2â€™ssaferegionrepre-
sentsthenecessaryconditionunderwhichthecontrollerâ€™sbehavior
is guaranteed by control theory. As a result, MoD2 would distin-
guishthe normal executions fromthe abnormalones even though
theexecutionshavenotbeenempiricallyexploredandmakesits
detection more accurate.
Itisthecontrol theory,which helps developersdesign the orig-
inal controllers, that shapes the safe regions for the derived con-
trollers. A controllerâ€™s safe region can be captured by either formal
analysis or experimental study. For PID and MPC controllers, their
saferegioncanbetheoreticallyderivedbyfrequencyresponseanal-
ysis [38,40] and linear matrix inequality [ 31], respectively. How to
captureatheoreticalsaferegionisoutofourscope.Ifitisextremely
hard to capture the theoretical saferegionofa complex controller,
we will turn back to empirical study or statistic analysis on the
execution traces. Formally, parameter ğµâ€™s safe region Î˜ğµcan be
defined as the interval between a lower bound Î˜ğ¿
ğµand an upper
boundÎ˜ğ‘ˆ
ğµ.
Given a controllerâ€™s safe region Î˜ğµ,ğµ(ğ‘–)â€™s cross-border detec-
tion can still be inaccurate due to the estimation error of ğµ(ğ‘–)â€™s
value. Most existing works combine possible results in different
adaptationloopstoimprovetheiraccuracy,whichinevitablydelays
their detection. MoD2â€™s estimated distributions of the parameter
value naturally combines the past observations and avoid using
multi-timedetections.
MoD2 uses a probability-based approach to detect ğµâ€™s deviation
with a confidence interval ğ¶ğ¼. The probability that ğµ(ğ‘–)â€™s value
falls within the safe region [ğœƒğ¿
ğµ,ğœƒğ‘ˆ
ğµ]can be calculated by a cumula-
tive distribution function, as shown in Equation 5, whereğ‘“ğµ(ğ‘˜)(ğ‘¥)
isğµ(ğ‘˜)â€™sprobability densityfunction. Particularly, the estimated
ğµ(ğ‘–)â€™s distribution in our case is subject to a normal distribution
(i.e.,ğµ(ğ‘–) âˆ¼ğ‘(ğœ‡(ğ‘–),ğ‘ƒ(ğ‘–))). If the derived probability Ë†ğ‘(ğ‘–)exceeds
a confidence interval ğ¶ğ¼, MoD2 will report model deviation and
trigger the switchingofadaptation.
Ë†ğ‘(ğ‘˜)=âˆ«ğœƒğ¿
ğµ
ğœƒğ‘ˆ
ğµğ‘“ğµ(ğ‘˜)(ğ‘¥)ğ‘‘ğ‘¥ (5)
MoD2 also uses an active detector to handle the situation when
the optimal controller produces no control signal by using hypoth-
esis testing to reveal possible model deviation. We use normaldistributiontodepictthevariationproperties(e.g.,residuals)ofthe
managedsystemâ€™soutputwhennocontrolsignalcomesanddetect
model deviation by checking whether the measured variation is
consistent withthe pre-identifieddistribution.
4.4 Discussions on MoD2
Assumptions and limitations . In Section 2.4we listed our as-
sumptionsinMoD2design.Now,wediscussthelimitationsbrought
bytheseassumptions,aswellasthepossiblesolutionstofreeour
approach from theseassumptions.
First,weassume thatthe managedsystemâ€™snominalmodelis
describedasaLTImodel.Ourapproachcanbedirectlyextended
to other types of nominal models since the three major techni-
caldesignsofMoD2areindependentofthetypesofthenominal
model. Other types of models might make Kalmar filter less ef-
fective due to their more complicated forms. However, extended
Kalman filter [ 43] would alleviate this by supporting non-linear or
time-variant nominalmodels.
Second,weassumethatthedeviatedparameteristhecontrol-
lability parameter (i.e., ğµ) only, and the parameter has a unary
description. Since our parameter estimation on ğµ(ğ‘˜)requires no
more than the identified value of the other two parameters (i.e., ğ´
andğ¶), MoD2 can also be extended to detect model deviation on
one ofthese two parameters. However,detectingmodeldeviation
on multiple parameters is challenging and remains open. As we
explainedpreviouslythat ğµâ€™sunarydescriptionisfortheeaseof
discussion only, MoD2 can be applied to a multi-unary parameter.
In fact, in our later experiments, we already run MoD2 to detect
modeldeviation onbinary parameters(withsubjectSWaT [ 8]).
Third,weassumethatthecompensateduncertaintytermscan
bedescribedinnormaldistributions.Thoughnormaldistribution
can be applied to most types of uncertainties reported by recent
literature [ 19,64],our approach can adaptto other typesof uncer-
tainty models by estimating model parameter value using other
filters,such as particlefilter.
Parameterasstochasticvariable . Tothebestofourknowledge,
all existing works treat the nominal modelâ€™s parameter as a de-
terministic variable. Different from these pieces of works, MoD2
considerstheconcernedparameterasastochasticvariable,whichis
the key to the estimation in our approach. Besides the parameterâ€™s
mean value derived through system identification, we addition-
ally use the parameterâ€™s variance to make our estimation robust in
handling the parameterâ€™s inherentfluctuation.
Leveragingtheparameterâ€™svariancedoesnotbringasignificant
burden to our approach. In fact, during system identification, such
varianceinformationisoncecollectedbuteventuallyoverlooked.
In system identification, the parameterâ€™s value is derived based
on a collection of execution traces of the managed system. Since
different traces could infer different candidate parameter values,
linear regression is introduced to predict a parameter value that
best fits all execution traces. Conventional system identification
onlyreportsthisfittedvalue,andthecandidatevaluesaresimply
discarded.However,whenthenominalmodelâ€™sparameteristreated
as a stochastic variable, those candidates actually reflect the inher-
ent inflection of the parameter. As such, in our MoD2, the previous
fittedvalueisconsideredasthemeanvalueoftheparameter,and
173Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
Table 1:Test configurations
configs envğ’Š parağ’Š deviation
SWaTâˆ’
&
SWaT+
ğ·input extracted from a real-world
testbed [8]original settings of the valves from
existingliterature[ 8,17]injecting manipulation disturbancetothe systemâ€™s
valves according to [ 21]
Example:frictionfactorvalueofthe
valvesExample: in-coming or out-going wa-
ter rates ofthe valvesExample: envğ’…that changes the friction factor
value from 0.0 to arandomvalue in (0.0, 0.35)
SWaT+
ğ´input extracted from a real-world
testbed [8]originalsettingsfromexistinglitera-
ture[8,17]injectingnetworkattackstothesystemâ€™sinternal
communications according to [ 17]
Example:frictionfactorvalueofthe
valvesExample: in-coming or out-going wa-
ter rates ofthe valvesExample: parağ’…thattamperswithavalveâ€™scontrol
signal from 0(closed)to 1(open)
RUBiSâˆ’
&
RUBiS+userrequeststreamgenerated based
on tworeal-world workloads [ 6,7]original settings in RUBiS from exist-
ing literature[ 54]injectingattackstothesystemâ€™ssettingsthatmis-
matches the running environmentaccording to [ 3]
Example: an array of the time inter-
vals ofuser requestsExample:workingstateoftheservers Example: parağ’…that changes serversâ€™ working
stateâ€™svalue from Å‚lowFidelityÅ¾to Å‚highFidelityÅ¾
Encoderâˆ’
&
Encoder+video streams based on published
dataset[23]original settings in video encoder
from existingliterature[ 23]introducing differenttypes ofvideostreams
Example: road traffic videostreams Example: parameter values of the im-
agecompressionalgorithmExample: envğ’…that replaces road traffic video
streams withadvertisement videostreams
the distances between the candidate values and the fitted value are
quantizedas the parameterâ€™s variance (i.e., ğ‘„).
5 EXPERIMENTS
We evaluatetheeffectiveness andusefulness of MoD2andMoD2-
basedadaptation-supervision mechanism (and a Python implemen-
tation1) onthree representative subjectsystems.
Our comparison baselines are SWDetecter [ 12] (the model de-
viationdetectionapproachinthepush-bottommethod[ 23])and
LFM[17],whichisoneofthelatestabnormaldetectionapproaches
for self-adaptive systems.
Particularly,we study the following tworesearchquestions:
RQ1Can MoD2 timely and effectively detect model deviation for
self-adaptivesystems?
RQ2HowusefulisMoD2-basedadaptation-supervisionmechanism
in termsofavoidingabnormal self-adaptationbehavior?
5.1 Experiment Setup
5.1.1 ExperimentalSubjects. Weselectedthreeprevalentsubject
systemsfromthecommunityofself-adaptivesystems.Eachsubject
is provided with a control theory-derived controller and a manda-
tory controller, both of which are either given by the subjectâ€™s
developers orimplementedfollowing existing works.
â€¢SWaT,a watertreatmenttestbedwedescribedinSection 2.
Theoriginalcontroltheory-derivedcontrollerisinherited
fromtheprogrammablelogiccontrollersin[ 17].Themanda-
torycontroller(developedfollowing[ 27,58])keepsthetank
water level between upper andlower alarm levels locally.
â€¢RUBiS, a web auction system (studied in [ 11,44,54]) that
can adapt to workload/network changes by adjusting the
number of servers to satisfy quality-of-service levels. The
1https://github.com/tongyanxiang/MoD2original control theory-derived controller (from the push-
button method [ 23]) is tuned for high system utilization
and low response time. The mandatory controller from [ 44]
guaranteesin-timeresponseandmaintainsaffordablesystem
utilization.
â€¢Video encoder , a video compression and streaming system
(studiedin[ 49Å›51])thatcanadaptivelychangecompression
parameterstobalancethethroughoutandvideoquality.The
original control theory-derived controller (also from [ 23])
adjusts the compressionparametersto achieve smooth and
high-resolution video streams. The mandatory controller
(also developed following [ 27,58]) keeps a no-lagging video
streambydecreasing thecompressionparametervaluesac-
cordingly.
5.1.2 Test Configurations. We conducted the experiments on pre-
defined test configurations and compare MoD2 to SWDetecter and
LFMoveraseriesof testconfigurations (configurationsforshort).
Givenasubjectsystem,eachconfigurationisasimulatedsystem
runthatconsistsofatmostonemodeldeviation.Aconfiguration
isnegativeif it contains no modeldeviation. Otherwise, a configu-
rationthatcontainsone modeldeviation iscategorizedas positive.
Since the subjectâ€™s controllability features (i.e., the value of ğµ)
cannot be directly manipulated, we simulate model deviation re-
sulted from discrete behavior by changing the subjectâ€™s parameter
values,andinaccurateenvironmentalinteractionbychangingits
environmental inputs.
Specifically,aconfigurationisdenotedbyaquintuple of (ğ‘’ğ‘›ğ‘£ğ‘–,
ğ‘’ğ‘›ğ‘£ğ‘‘,ğ‘ğ‘ğ‘Ÿğ‘ğ‘–,ğ‘ğ‘ğ‘Ÿğ‘ğ‘‘,ğ‘¡),inwhichğ‘’ğ‘›ğ‘£ğ‘–andğ‘’ğ‘›ğ‘£ğ‘‘denotetheinitialand
deviatedenvironmentalinput, ğ‘ğ‘ğ‘Ÿğ‘ğ‘–andğ‘ğ‘ğ‘Ÿğ‘ğ‘‘denotetheinitial
and deviated model parameters, and ğ‘¡denotes the time point of
model deviation. Initially, the subject and its running environment
are reset with the initial parameters ğ‘ğ‘ğ‘Ÿğ‘ğ‘–andğ‘’ğ‘›ğ‘£ğ‘–. At time point
ğ‘¡, the model parameter is changed to ğ‘ğ‘ğ‘Ÿğ‘ğ‘‘and the environmental
input is changed to ğ‘’ğ‘›ğ‘£ğ‘‘. For a negative configuration, ğ‘ğ‘ğ‘Ÿğ‘ğ‘–=
174ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
Table 2:ComparisonofMoD2andSWDetector
SWaTâˆ’& SWaT+RUBiSâˆ’& RUBiS+Encoderâˆ’& Encoder+
MTD(s) FN(%)FP(%)MTD(s) FN(%)FP(%)MTD(s) FN(%)FP(%)
MoD2 40.11 0.0 0.0 0.30 0.0 0.3 0.00 2.0 3.0
SWDetector( ğœƒ=3ğœ)274.92 94.093.3365.00 4.010.0 0.00 40.046.5
SWDetector( ğœƒ=6ğœ)OT 100.0 0.0 355.74 1.5 5.5 0.01 1.0 2.5
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
200
400
600
800output value y(k)
 network attack 1
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
200
400
600
800
physical abration
700
 800
 900
 1000
 1100
 1200
 1300
 1400
200
400
600
800
network attack 2
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
0.0
0.2
0.4estimated B1(k)
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
0.0
0.2
0.4
700
 800
 900
 1000
 1100
 1200
 1300
 1400
0.0
0.2
0.4
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
time(s)
0.0
2.5
5.0
7.5estimated B2(k)
900
 1000
 1100
 1200
 1300
 1400
 1500
 1600
time(s)
âˆ’0.6
âˆ’0.5
âˆ’0.4
âˆ’0.3
âˆ’0.2
700
 800
 900
 1000
 1100
 1200
 1300
 1400
time(s)
âˆ’0.6
âˆ’0.4
âˆ’0.2
0.0
0.2
model deviation injection
 MoD2's detection
 SWDetector's detection
 LFM's detection
 abnormal behavior appearance
Figure 2:Acasestudyon three positive configurations
ğ‘ğ‘ğ‘Ÿğ‘ğ‘‘andğ‘’ğ‘›ğ‘£ğ‘–=ğ‘’ğ‘›ğ‘£ğ‘‘for the entire execution. For a positive
configuration, ğ‘ğ‘ğ‘Ÿğ‘ğ‘–/ğ‘’ğ‘›ğ‘£ğ‘–is changed to a different ğ‘ğ‘ğ‘Ÿğ‘ğ‘‘/ğ‘’ğ‘›ğ‘£ğ‘‘at
timeğ‘¡.
Our criteria for creating configurations followed existing works.
ThenegativeconfigurationsforSWAT( SWaTâˆ’)andRUBiS( RUBiSâˆ’)
cover most settings in existing works [ 8,54], and the negative con-
figurations for VideoEncoder ( Encoderâˆ’) are created based on [ 23]
(wecannotcoveritsincetheoriginaldatasetsarenotavailable).The
positive configurations cover most reported model-deviated set-
tings in SWAT ( SWaT+
ğ·andSWaT+
ğ´) [17] andRUBiS ( RUBiS+) [3].
VideoEncorderâ€™s positive configurations ( Encoder+) were designed
byour-ownsincenoexistingsettingsavailable.Eachgroupincludes
200differentconfigurations.Table 1describesourconfigurations
indetail.
5.1.3 Evaluation Criteria. We measure the timeliness by the mean
timedelay(MTD,i.e.,theaverageintervalbetweenthedeviation
pointandthedetectionpointofapositiveconfiguration).Notice
thatweonlyconsiderthecorrectly-detectedpositiveconfigurations
inMTD.
We measure the accuracy by the false-negative rate (FN rate,
i.e., the percentage of positive configurations that are falsely de-
tectedtobenegative)andthefalse-positiverate(FPrate,i.e.,the
percentageofnegativeconfigurationsthatarefalselydetectedtobe
positive). Noticing that each positive configuration can be divided
intoanegativepart(i.e.,executionbeforethetimepointofmodel
deviation)andpositivepart(i.e.,executionafterthetimepointofmodeldeviation).FPalsoaccountsforthepositiveconfigurations
that are falsely detectedintheir negative parts.
We measure the usefulness by the positive configurationâ€™s ab-
normalrate(i.e.,theratioofasubjectsystemâ€™sabnormaloperation
time to its suffered model deviation time). The abnormal operation
timeismeasuredasthetimeduringwhichthesubjectsystemvi-
olatesanycontrolproperties(e.g.,overshootofthewaterlevelin
SWaT) or fails to fulfill its mandatory requirements (e.g., overflow
orunderflowinSWaT).Themodeldeviationtimeismeasuredas
thesubjectsystemâ€™sexecutiontimeafterweinjectmodeldeviation.
Notice that a positive configuration may never violate any control
property, as we discussed in Section 2, model deviationis a neces-
sary condition, not a sufficient condition, to the systemâ€™s abnormal
behavior.
5.1.4 Experiment Procedure. We conducted all the experiments on
an ECS server of Alibaba Cloud with 8 CPUs and 16GB of memory.
Toanswer RQ1,wecomparethreeapproachesâ€™achievedMTD,
FNrate,andFPrateondifferentconfigurationsets.Wefirstcom-
pare the performance of MoD2 against SWDetector on SWaTâˆ’,
SWaT+
ğ·,RUBiSâˆ’,RUBiS+,Encoderâˆ’,Encoder+.Wethencompare
the performance of MoD2, SWDetector, and LFM on SWaT+
ğ´, since
LFM is proposed to address the challenges of attack-induced ab-
normal behavior only. The SWDetector is set with two different
thresholds ( ğœƒ=3ğœorğœƒ=6ğœ), which are two of the suggested
settings in[ 53].
175Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
Table 3:ComparisonofMoD2â€™sperformancewith differentamountsofidentification traces
SWaTâˆ’&SWaT+RUBiSâˆ’&RUBiS+Encoderâˆ’&Encoder+
identificationerror MTD(s) FN(%)FP(%)identificationerror MTD(s) FN(%)FP(%)identificationerror MTD(s) FN(%)FP(%)
20% [-2.5%, 3.8%] 40.21 0.0 0.0 [-26.6%, 11.7%] 0.30 0.0 0.3 [1.2%, 6.4%] 0.00 2.0 3.0
40% [-1.3%, 2.5%] 40.17 0.00.0 [-20.2%, 6.4%] 0.30 0.00.3 [-3.4%, 0.5%] 0.00 2.03.0
60% [0.0%, 1.3%] 40.21 0.0 0.0 [-4.5%, 19.9%] 0.30 0.0 0.3 [0.2%, 6.1%] 0.00 2.0 3.0
80% [0.0%, 1.3%] 40.21 0.00.0 [-1.3%, 7.4%] 0.30 0.00.3 [-0.2%, -0.2%] 0.00 2.03.0
100% [0.0%, 0.0%] 40.11 0.0 0.0 [0.0%, 0.0%] 0.30 0.0 0.3 [0.0%, 0.0%] 0.00 2.0 3.0
Table 4:Comparisonoftheabnormal rates w/woadaptation-supervisionmechanisms
original MoD2-based SWDetector-based( ğœƒ=3ğœ)SWDetector-based( ğœƒ=6ğœ)
SWaT 14.0%(162.45s) 0.0% (0.00s) 10.6%(114.35s) 7.1% (71.32s)
RUBiS 61.1%(1953.00s) 2.0% (60.30s) 11.1%(398.10s) 10.6%(386.40s)
videoencoder 16.2%(2.92s) 0.4% (0.08s) 6.6% (1.19s) 0.1% (0.02s)
Wealsostudytheimpactofsystemidentification,whichcould
produce various identification values required by MoD2 (i.e., ğ›¾,
ğ‘Š,ğ‘‰).WecomparetheperformanceofMoD2withtheidentified
valuesfrom differentamountsofdata (20Å›100%,step of20%).
Toanswer RQ2,wecomparethreesubjectsâ€™abnormalrateondif-
ferentconfigurationsetswithandwithoutMoD2-basedadaptation-
supervision. We also implemented and evaluated two SWDetector-
based adaptation-supervision mechanisms to studythe role of our
proposedMoD2.Wemeasuretheabnormalrateon SWaT+
ğ´,RUBiS+,
andEncoder+respectively.
5.2 Experiment Results
RQ1(effectiveness) Table2showstheperformanceofMoD2and
SWDetector for the three subjects. Considering detection timeli-
ness, MoD2â€™s detecting time for model deviation varies in different
subjects.ThereportedMTDis40 .11secondsforSWaT,0 .30seconds
forRUBiS,and0 .00secondsforvideoencoder.Whencomparing
with SWDetectors, MoD2â€™s achieved MTD is 185 .66ğ‘ smaller on
averageforthesubjects.WenoticethatthetwoSWDetectorsreport
similardetectiondelayforsubjectvideoencoder.Thisisbecause
ourinjectedmodeldeviationwouldproduceaseverechangeofthe
managedsystemâ€™s output,which favorsthe SWDetectorâ€™smonitor-
ingonthe outputvalues.
Asfordetectionaccuracy,MoD2achievesgoodFNandFPrate
in detecting model deviation. Generally, the average FN rate of
MoD2 is 0.7% (0.0%Å›2.0%) and the average FP rate of MoD2 is 1 .1%
(0.0%Å›3.0%). We notice that for SWaT, the reported FN and FP rate
are zero. For RUBiS, MoD2â€™s reported FN rate is zero and FP rate is
0.3%whichiscausedbytheactivedetector.MoD2reportsa3 .0%
FN rate and a 2 .0% FP rate for video encoder. This is caused by the
differencebetweentheselectedinitialestimatevarianceofmodel
parametervalueandits true value.
ComparingwithSWDetectorsofdifferentsettings,MoD2â€™sFN
rate is averagely 39 .4% lower ( âˆ’1.0%Å›100.0%), and its FP rate is
averagely 25 .2% lower( âˆ’0.5%Å›93.3%). Whenthe SWDetectoruses
thebestsettingonly(i.e.,thewindowsize ğ‘¤ğ‘ is28,andthethreshold
ğœƒis6ğœ),MoD2â€™sFNrateisaveragely33 .5%lower ( âˆ’1.0%Å›100.0%),
anditsFPrateisaveragely1 .6%lower( âˆ’0.5%Å›5.2%).Wenoticethat
MoD2â€™saccuracyisslightlylowerthanSWDetectorsonthesubject
ofVedioEncoder.Inthissubject,theinjectedmodeldeviationwouldimmediatelycauseseverechangesinthemanagedsystemâ€™soutput,
whichfavors the slidingwindow-based approach. MoD2 sacrifices
its accuracy in detecting such noticeable model deviations slightly
(1.0% lower FN rate and 0 .5% lower FP rate) in exchange for its
accuracy in detecting covert model deviations (50 .8% higher FN
rateand2.7% higher FPrate).
Table 5:ComparisonofMoD2,SWDetector,and LFM
SWaT+
ğ´
MTD(s) FN(%)FP(%)
MoD2 11.15 0.0 0.0
LFM 886.45 1.00.5
SWDetector( ğœƒ=3ğœ)84.60 85.0 84.0
SWDetector( ğœƒ=6ğœ)1.06 37.5 0.0
Table5gives the experimental results on dataset SWaT+
ğ´(i.e.,
thepositiveconfigurationsbyinjectingattackstoSWaTsystem).
Basically,MoD2outperformstheotherthreeapproaches(including
the SWDetectors of different settings) interms of detection timeli-
ness and detection accuracy. MoD2 successfully detect all model
deviationsinaquiteshorttime(averagely11 .15seconds)withno
falsealarm.Thelearning-basedLFMapproachalsoachievesagood
detection accuracy. However, it requires much longer time (886 .45
seconds,78.5timeslongerthanMoD2â€™s)towork.Thereasonfor
LFMâ€™s large detection delay is that the accuracy of the trained clas-
sifier should be above a threshold of 85% to avoid false alarms. For
SWDetector witha bettersetting(i.e., ğœƒ=6ğœ),althoughitreports
theshortestdetectiontime(1.06seconds)andnofalsealarm,itfails
todetect37.5%positive configurations,whichistheworst among
the comparedapproaches.
Tobetter demonstrate MoD2â€™s effectiveness in detectingmodel
deviation, we also perform a detailed study on the positive con-
figurations that the baseline approaches fail to give a timely and
accurate detection. We list three of those positive configurations
in Figure 2. The first and the third configurations are gained by
injectingnetworkattackstoSWaT,andthesecond oneisderived
byinjectingmanipulationdisturbancetoSWaTâ€™svalves.Foreach
oftheconfigurations,welistthemeasuredoutputvalue ğ‘¦(ğ‘˜)(inthe
firstlinechart)andMoD2â€™sestimatedparametervalues ğµ(ğ‘˜)(inthe
176ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
last twoline charts,corresponding tothe two argumentsin ğµ(ğ‘˜)).
Weusedifferentmarkedlinestodenotethetimeofmodeldeviation
injection,thetimeofMoD2â€™sdetection,thetimeofSWDetectorâ€™s
detection,thetimeofLFMâ€™sdetection,andthetimeabnormalbe-
havior appeared respectively. For the time of MoD2â€™s detection,
we also mark it on the corresponding ğµğ‘–(ğ‘˜)â€™s line chart, indicating
whichargument exceedsits safe region.
Forthefirstconfiguration,allofthethreeapproachessuccess-
fullydetectmodeldeviation.However,LFMrequireslongertime
since it has to gather multiple testing results to give an accurate
detection.SuchhighdetectiondelaymakesLFMâ€™sdetectionunfeasi-
blesinceSWaTâ€™sexecutionhasalreadybrokenthecontrolproperty
(i.e.,stabilityproperty)bythetimeitreports.Forthesecondcon-
figuration, SWDetectorâ€™s detection is too slow to be effective since
the monitored output value shows no difference from the negative
configuration in the early stages. For the third configuration, both
SWDetector and LFM fail to detect model deviation. Their miss-
ing detections are reasonable since this model deviation has not
causedsevereconsequencesinSWaTâ€™sexecutiontilltheendofthe
executiontrace.However,accordingto[ 17],thismodeldeviation
willeventuallycauseSWaTâ€™sabnormalbehavioriftheexecutionis
prolongedfrom 30 minutesto 60 minutes.
Table3comparesMoD2â€™sperformancewithdifferentamountsof
tracesforidentification.Wealsolistedthevariationoftheidentified
values(i.e.,identificationerror)usedbyMoD2.Generally,changing
the amount of identification traces has a limited impact on MoD2â€™s
effectiveness. The mean detection delay fluctuates in a small range
(40.17ğ‘ Å›40.21ğ‘ forSWaT,0.30ğ‘ Å›0.30ğ‘ forRUBiS,and0 .00ğ‘ Å›0.00ğ‘ for
video encoder) as the used amount of identification traces changes.
MoD2withdifferentamountsofidentificationtracesreportsexactly
thesameFNandFPrate.Table 3revealsMoD2â€™sstableperformance.
In summary, MoD2 can detect model deviation with low detection
delay(average 13.47seconds)andgoodaccuracy( 0.8%FNrateand
1.0%FPrate).Comparingwiththebaselineapproaches,MoD2achieves
asmaller detectiondelay(average 185.66secondsor 93.2%smaller),
as well as a better accuracy ( 39.4%lower FN rate and 25.2%lower FP
rate).
RQ2 (usefulness) Table4comparesthethreesubjectsâ€™abnor-
mal rates on different positive configuration sets with different
adaptation-supervision mechanisms. For the subjects with our
MoD2-based mechanism, the average abnormal rate is 1 .2% (0.0%Å›
2.0%).Comparingwiththesubjectswithoutourmechanisms(de-
noted asoriginal), the abnormal rates drop 29 .2% (14.0%Å›59.1%) on
average.Thisresultvalidatestheusefulnessofourapproachinalle-
viating the impact of model deviation. Particularly, our mechanism
achieves a zero abnormal rate for SWaT system (i.e., prevent all
model-deviation-caused severe consequences), while the abnormal
rate without our mechanism is 14 .0%. So even if SWaTâ€™s optimal
controllers are carefully designed and implemented by the field
experts,onecannotassumethatthecontrollersâ€™robustnesscould
handle allcasesofmodeldeviation [ 17].
Wealsolisteachsubjectsâ€™abnormaloperationtimealongwith
theirsufferedabnormalrates.Eachsubjectaveragelysuffers706.12
seconds abnormal operation time in each configuration without
MoD2. In other words, the corresponding control-SASs fail to pro-
vide any guarantees on the subject systemsâ€™ behavior in nearly
11.77 minutes. Notice that the aforementioned abnormal operationtime could be longer if model deviation has not been appropri-
atelyaddressed,sincetheexecutionwecollectedonlylastsfor30
minutes.
Comparing with the two SWDetector-based mechanisms, the
resultsreflecttheimportanceofourMoD2inguardingthesubjectsâ€™
adaptation. Specifically, MoD2-based mechanism achieves 6 .5%
lower abnormal rate (3 .0%Å›8.9%), as well as 141 .77 seconds shorter
abnormaloperationtime.WebelievethatMoD2ismoreeffective
inprotecting control-SASs.
TheresultdisplayedinTable 4canalsopartlyreflectthecorrect-
ness of detecting model deviation based on estimated parameter
values. The abnormal rate with supervision indicates the output
abnormalities prevented by our detection (1 .2% on average), which
echoesthelowFNrateofMoD2.Theabnormalratewithoutsuper-
visionwouldimplythelowFPrateofMoD2,andthataverage30 .4%
of the experimental subjectsâ€™ execution time suffers abnormalities.
In summary, Our MoD2-based adaptation-supervision mechanism
canalleviatetheimpactofmodeldeviationonthemanagedsystem.
With the support of our mechanism, the abnormal rate averagely
drops by29.2%comparing the original control-SASs and averagely
dropsby6.5%comparingthe SWDetector-based mechanism.
5.3 Threatsto Validity
One major concern on the validity of our empirical conclusions
istheselectionofevaluationsubjects.Weonlyusethreesubjects
as the managed systems. This might harness the generalization of
our conclusions. A comprehensive evaluation requires a full under-
standingof themanaged systems,as wellas theirsuitable control
theory-derivedcontrollers.Thisrequirementrestrictsourchoice
of possible experimental subjects. Nevertheless, we believe that
our selected subjects are representative of their different platforms
(including network systems and cyber-physical systems) and ar-
chitectures (including single controller and multiple controllers).
Moreover, all of the selected subjects are widely used by other self-
adaptationresearchersastheirexperimentalsubjectsormotivating
systems.
Another concern is about injecting model deviations in the posi-
tiveconfigurations.Sincewecannotdirectlymanifestthesubject
systemâ€™scontrollabilityfeatures,wecanonlymodifyitsparameters
or inputs to simulate model deviation. This might make our experi-
mental settings less realistic. To address this problem, we carefully
design the injected model deviations. For SWaT, the model devi-
ationisbasedonthereportedphysicalabrasion[ 8]andnetwork
attacks [17]. For RUBiS, the model deviation is designed accord-
ingtoreportedfailuresinwebservicesystems[ 3].Andforvideo
encoder, we use real-world video streams to simulate the model
deviation.
6 RELATED WORK
Controltheoryhasbeenwidelyexploitedtoimplementself-adaptive
systems for their theoretical guarantees. Some pieces of related
workusecontrol-theoreticaltechniquestorefinetheirarchitecture-
based system model for the managed system. For example, Checiu
et al. use a server request model to describe the behavior of an
adaptive web service system [ 15]. Filieri et al. use discrete-time
Markov chain model to depict service-oriented applications [ 22].
177Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
Some others use control-theoretical techniques to guide the design
ofthemanagingsystem.Konstantinosetal.[ 4]proposetheCobRA
framework for designing self-adaptive web-services, which uses
model predictive control to guide the adaptation strategy of the
managing system. Gabriel et al. [ 54] combine control-SASs and
traditional architecture-based SASs by introducing discrete-time
MarkovchainintheirPLAadaptationframework.Differentfrom
thesepiecesofwork,thefocusofMoD2isnotdesigningthemanag-
ingsystembutprovidingself-adaptationassurancesinthepresence
ofmodeldeviation.Inotherwords,ourworkcanberegardedasan
complementaryforthembyalarmingtheirmanagingsystemthe
occurrence ofmodeldeviation.
Model deviation has received the attention of self-adaptation re-
searcherssincecontrol-SASsemerged.Accordingtocontroltheory,
theprecision ofthenominalmodelincontrol-SASsdirectlydeter-
mines the effectiveness of the derived managing systems. Baresi
et al. propose using a grey-box discrete-time feedback controller
tosupportrobustself-adaptationthatcanovercomeslightmodel
deviation [ 11]. Filieri et al. use continuous learning mechanisms to
keepthenominalmodelupdatingatruntime[ 24].Maggioetal.use
Kalmanfiltertorevisetheidentifiednominalmodelbyupdatingits
statevalues[ 49].Comparingwiththesepiecesofworks,ourMoD2-
based mechanism concentrates on the model deviation that would
cause the managing system to violate control properties, as well
as the managed system behaving abnormally. Together with these
works that address slight deviation of the model parameters, we
can achieve model-deviation-free self-adaptation forcontrol-SASs.
The key component of our proposed mechanism is a timely and
accuratedetectorformodeldeviation,whichissimilartotheworks
onabnormaldetection.Manyresearcheffortshavebeencontributed
to both control theory community and self-adaptation community.
Window-based approachis themost-widely used abnormaldetec-
tionapproachincontroltheoryarea[ 32],whichissimilartothe
compared SWDetector approach in Section 5. Ozay et al. propose a
set-membershipapproach todetectproperty violationsoccurring
inthecontrolsystem[ 33,34].Forself-adaptationresearchers,Jiang
et al. derive invariants by observing messagesexchanged between
systemcomponentsforroboticsystems[ 39].Chenetal.proposean
SVM-basedmethodtodetectnetworkattackstoSWaTsystem[ 17].
Qinetal.usecontextinformationtorefinethederivedinvariants
and combine multiple testing results to improve the accuracy of
abnormal detection [ 57].
Aswe discussedinSection 2,the majordifference betweenour
MoD2 and these approaches is that we directly estimate the values
of nominal modelâ€™s parameters instead of monitoring the systemâ€™s
output values. By doing so, we reduce the delay time for model
deviation detection.
Environmental uncertainty has always been a challenge for self-
adaptationresearchers. Most of these works focus onuncertaintyâ€™s
impactonthemanagedsystemâ€™sstate.Esfahanietal.identifyinter-
naluncertaintyandexternaluncertaintyandproposeaprobability-
based approach to assess both the positive and negative conse-
quences of uncertainty [ 20]. Ghezzi et al. propose an adaptation
frameworktomanifestnon-functionaluncertaintyviamodel-based
development [ 28]. Angelopoulos et al. also use Kalman filter to
alleviateuncertaintyâ€™simpactontheestimatedstatesoftheman-
aged systemâ€™s nominal model [ 4]. MoD2â€™s handling of uncertaintyfollows these works. However, the focus of our MoD2 is on the
uncertaintyâ€™s impact on the nominal modelâ€™s parameters, which is
addressedbyour parameterdeviation estimationtechnique.
7 CONCLUSION
In this paper, we present an adaptation-supervision mechanism
withtheadditionof supervisionloop foralleviatingtheimpactof
model deviation in control-SASs. The key to our mechanism is a
noveldetector,MoD2,whichcombinesdifferenttechniques,includ-
ingparameterdeviationestimation,uncertaintycompensation,and
safe region quantification, to balance the detectorâ€™s timeliness and
accuracy. We conduct experiments to show the effectiveness of
MoD2andtheusefulnessofMoD2-basedadaptation-supervision
mechanism.
ACKNOWLEDGMENTS
Theauthorswouldliketothanktheanonymousreviewersfortheir
comments. This work is supported by Key-Area Research & Devel-
opmentProgramofGuangdongProvince(Grant#2020B010164003),
NaturalScienceFoundationofChina(Grants#62025202,#61932021,
#61902173), and Natural Science Foundation of Jiangsu Province
(Grants#BK20190299).
REFERENCES
[1]Sridhar Adepu and Aditya Mathur. 2016. An investigation into the response of a
watertreatmentsystemtocyberattacks.In Proceedingsof17thIEEEInternational
SymposiumonHighAssuranceSystemsEngineering .IEEE,141Å›148. https://doi.
org/10.1109/HASE.2016.14
[2]Cristina Alcaraz and Stephen Wolthusen. 2014. Recovery of structural controlla-
bilityforcontrolsystems.In InternationalConferenceonCriticalInfrastructure
Protection . Springer, 47Å›63. https://doi.org/10.1007/978-3-662-45355-1
[3]Nadia Alshahwan and Mark Harman. 2011. Automated web application testing
usingsearchbasedsoftwareengineering.In Proceedingsofthe26thIEEE/ACM
International Conference on Automated Software Engineering . IEEE, 3Å›12. https:
//doi.org/10.1109/ASE.2011.6100082
[4]KonstantinosAngelopoulos,AlessandroPapadopoulos,VÃ­torSilvaSouza,and
John Mylopoulos. 2016. Model predictive control for software systems with Co-
bRA. InProceedings of the 11th International Symposium on Software Engineering
forAdaptiveandSelf-ManagingSystems .IEEE,35Å›46. https://doi.org/10.1145/
2897053.2897054
[5]KonstantinosAngelopoulos,AlessandroPapadopoulos,VÃ­torSilvaSouza,and
John Mylopoulos. 2018. Engineering self-adaptive software systems: From re-
quirementstomodelpredictivecontrol. ACMTransactionsonAutonomousand
AdaptiveSystems 13,1 (2018), 1Å›27. https://doi.org/10.1145/3105748
[6]MartinArlittandTaiJin.2000. Aworkloadcharacterizationstudyofthe1998
world cup web site. IEEE Network 14, 3 (2000), 30Å›37. https://doi.org/10.1109/65.
844498
[7]MartinArlittandCareyWilliamson.1996. Webserverworkloadcharacterization:
The search for invariants. ACM SIGMETRICS Performance Evaluation Review 24,
1 (1996), 126Å›137. https://doi.org/10.1145/233008.233034
[8]KaungMyatAung.2015. Securewatertreatmenttestbed(SWaT):anoverview.
SingaporeUniversityofTechnology and Design (2015).
[9]AbhijitBadwe,RavindraGudi,RohitPatwardhan,SirishShah,andSachinPat-
wardhan.2009. Detectionofmodel-plantmismatchinMPCapplications. Journal
ofProcessControl 19,8(2009),1305Å›1313. https://doi.org/10.1016/j.jprocont.2009.
04.007
[10]SaeidBarati,FerencBartha,SwarnenduBiswas,RobertCartwright,AdamDuracz,
Donald Fussell, and et al. 2019. Proteus: Language and runtime support for
self-adaptive software development. IEEE Software 36, 2 (2019), 73Å›82. https:
//doi.org/10.1109/MS.2018.2884864
[11]LucianoBaresi,SamGuinea,AlbertoLeva,andGiovanniQuattrocchi.2016. A
discrete-time feedback controller for containerized cloud applications. In Pro-
ceedings of the 24th ACM SIGSOFT International Symposium on Foundations of
SoftwareEngineering . 217Å›228. https://doi.org/10.1145/2950290.2950328
[12] Michele Basseville and Igor Nikiforov. 1993. Detectionof abruptchanges: theory
and application . Vol. 104. https://doi.org/10.5555/151741
[13]Mogens Blanke, Michel Kinnaert,Jan Lunze, Marcel Staroswiecki, and Jochen
SchrÃ¶der. 2006. Diagnosis and fault-tolerant control . Vol. 2. Springer. https:
178ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece Yanxiang Tong, YiQin,Yanyan Jiang,Chang Xu,Chun Cao, andXiaoxingMa
//doi.org/10.1007/978-3-540-35653-0
[14]YuriyBrun,GiovannaDiMarzoSerugendo,CristinaGacek,HolgerGiese,Holger
Kienle, Marin Litoiu, and et al. 2009. Engineering self-adaptive systems through
feedbackloops. In SoftwareEngineeringforSelf-AdaptiveSystems .Springer,48Å›70.
https://doi.org/10.1007/978-3-642-02161-9_3
[15]Laurentiu Checiu, Bogdan Solomon, Dan Ionescu, Marin Litoiu, and Gabriel
Iszlai.2011. Observabilityandcontrollabilityofautonomiccomputingsystems
forcomposedwebservices.In Proceedingsofthe6thIEEEInternationalSymposium
on Applied Computational Intelligence and Informatics . IEEE, 269Å›274. https:
//doi.org/10.1109/SACI.2011.5873012
[16]XingChen,ShihongChen,YunMa,BichunLiu,YingZhang,andGangHuang.
2019. An adaptive offloading framework for Android applications in mobile
edge computing. Science China Information Sciences 62, 8 (2019), 1Å›17. https:
//doi.org/10.1007/s11432-018-9749-8
[17]YuqiChen,PoskittChristopher,andJunSun.2018. Learningfrommutants:Using
code mutation to learn and monitor invariants of a cyber-physical system. In
Proceedingsofthe39thIEEESymposiumonSecurityandPrivacy .IEEE,648Å›660.
https://doi.org/10.1109/SP.2018.00016
[18]OW2 Consortium et al .2008. Rubis: Rice university bidding system. URL
http://rubis. ow2. org (2008).
[19]MÃ¡rio de Castro and Ignacio Vidal. 2019. Bayesian inference in measurement
errormodelsfromobjectivepriorsforthebivariatenormaldistribution. Statistical
Papers60,4 (2019), 1059Å›1078. https://doi.org/10.1007/s00362-016-0863-7
[20]NaeemEsfahani,EhsanKouroshfar,andSamMalek.2011. Taminguncertainty
in self-adaptive software. In Proceedings of the 19th ACM SIGSOFT Symposium on
the Foundations of Software Engineering and 13th European Software Engineering
Conference . 234Å›244. https://doi.org/10.1145/2025113.2025147
[21]OresteFecarotta,RiccardoMartino,andCristinaMorani.2019. Wastewaterpump
controlundermechanicalwear. Water11,6(2019),1210. https://doi.org/10.3390/
w11061210
[22]Antonio Filieri, Carlo Ghezzi, Alberto Leva, and Martina Maggio. 2011. Self-
adaptive software meets control theory: A preliminary approach supporting
reliabilityrequirements.In Proceedingsof26thIEEE/ACMInternationalConference
on Automated Software Engineering . IEEE, 283Å›292. https://doi.org/10.1109/ASE.
2011.6100064
[23]AntonioFilieri,HenryHoffmann,andMartinaMaggio.2014.Automateddesignof
self-adaptive software with control-theoretical formal guarantees. In Proceedings
of the 36th International Conference on Software Engineering . 299Å›310. https:
//doi.org/10.1145/2568225.2568272
[24]Antonio Filieri, Henry Hoffmann, and Martina Maggio. 2015. Automated multi-
objectivecontrolforself-adaptivesoftwaredesign.In Proceedingsofthe10thJoint
Meeting on Foundations of Software Engineering . 13Å›24.https://doi.org/10.1145/
2786805.2786833
[25]Antonio Filieri, Martina Maggio, Konstantinos Angelopoulos, NicolÃ¡s Dâ€™Ippolito,
Ilias Gerostathopoulos, Andreas Berndt Hempel, and et al. 2015. Software engi-
neering meets control theory. In Proceedings of the 10th International Symposium
on Software Engineering for Adaptive and Self-Managing Systems . IEEE Press,
71Å›82.https://doi.org/10.1109/SEAMS.2015.12
[26]Antonio Filieri, Martina Maggio, Konstantinos Angelopoulos, NicolÃ¡s Dâ€™ippolito,
IliasGerostathopoulos,AndreasHempel, and etal.2017. Controlstrategies for
self-adaptive software systems. ACM Transactions on Autonomous and Adaptive
Systems11,4 (2017), 1Å›31. https://doi.org/10.1145/3024188
[27]DavidGarlan,S-WCheng,A-CHuang,BradleySchmerl,andPeterSteenkiste.
2004. Rainbow: Architecture-based self-adaptation with reusable infrastructure.
Computer 37,10(2004), 46Å›54. https://doi.org/10.1109/MC.2004.175
[28]Carlo Ghezzi, Leandro Sales Pinto, Paola Spoletini, and Giordano Tamburrelli.
2013. Managing non-functional uncertainty via model-driven adaptivity. In
Proceedings of the 35th International Conference on Software Engineering . IEEE,
33Å›42.https://doi.org/10.1109/ICSE.2013.6606549
[29]Jayanta K Ghosh, Mohan Delampady, and Tapas Samanta. 2007. An introduction
to Bayesian analysis: theory and methods . Springer Science & Business Media.
https://doi.org/10.1007/978-0-387-35433-0
[30]GrahamGoodwin,StefanGraebe,andMarioSalgado.2001. Controlsystemdesign .
https://doi.org/10.5555/557291
[31]JornGruber,DanielRamirez,TeodoroAlamo,andEduardoCamacho.2011. MinÅ›
Max MPC based on an upper bound of the worst case cost with guaranteed
stability. JournalofProcessControl 21,1(2011),194Å›204. https://doi.org/10.1016/
j.jprocont.2010.11.016
[32]FredrikGustafssonand FredrikGustafsson. 2000. Adaptivefiltering and change
detection. Vol. 1. Citeseer. https://doi.org/10.1002/0470841613
[33]Farshad Harirchi, Zheng Luo, and Necmiye Ozay. 2016. Model (in)validation
andfaultdetection forsystemswithpolynomialstate-space models. In American
ControlConference . IEEE, 1017Å›1023. https://doi.org/10.1109/ACC.2016.7525048
[34]Farshad Harirchi and Necmiye Ozay. 2018. Guaranteed model-based fault detec-
tionincyberphysicalsystems:Amodelinvalidationapproach. Automatica 93
(2018), 476Å›488. https://doi.org/10.1016/j.automatica.2018.03.040
[35]Zhijian He, Yao , Enyan Huang, Qixin Wang, Yu Pei, and Haidong Yuan. 2019.
Asystemidentificationbasedoracleforcontrol-cpssoftwarefaultlocalization.InProceedings of the 41st International Conference on Software Engineering . IEEE,
116Å›127. https://doi.org/10.1109/ICSE.2019.00029
[36]Joseph Hellerstein, Yixin Diao, Sujay Parekh, and Dawn Tilbury. 2004. Feedback
control of computing systems . Wiley Online Library. https://doi.org/10.1002/
047166880X
[37]EmilioIncerto,MircoTribastone,andCatiaTrubiani.2017. Softwareperformance
self-adaptationthroughefficientmodelpredictivecontrol.In Proceedingsofthe
32nd IEEE/ACM International Conference on Automated Software Engineering .
IEEE,485Å›496. https://doi.org/10.1109/ASE.2017.8115660
[38]Rolf Isermann. 2013. Digital control systems . Springer Science & Business Media.
https://doi.org/10.1007/978-3-642-86420-9
[39]HengleJiang,SebastianElbaum,andCarrickDetweiler.2013. Reducingfailure
rates of robotic systems though inferred invariants monitoring. In Proceedings of
IEEE/RSJInternational ConferenceonIntelligentRobotsandSystems .IEEE, 1899Å›
1906.https://doi.org/10.1109/IROS.2013.6696608
[40]Michael Johnson and Mohammad Moradi. 2005. PID control . Springer. https:
//doi.org/10.1007/1-84628-148-2
[41]Raphael Jungers, Atreyee Kundu, and Maurice Heemels. 2017. Observability
andcontrollabilityanalysisoflinearsystemssubjecttodatalosses. IEEETrans.
Automat. Control 63, 10 (2017), 3361Å›3376. https://doi.org/10.1109/TAC.2017.
2781374
[42]Eunsuk Kang,Sridhar Adepu, DanielJackson, and AdityaMathur. 2016. Model-
based security analysis of a water treatment system. In Proceedings of the 2nd
InternationalWorkshoponSoftwareEngineeringforSmartCyber-PhysicalSystems .
IEEE,22Å›28. https://doi.org/10.1145/2897035.2897041
[43]Youngjoo Kim and Hyochoong Bang. 2018. Introduction to Kalman filter and
itsapplications. IntroductionandImplementationsoftheKalmanFilter 1(2018),
1Å›16.https://doi.org/10.5772/intechopen.80600
[44]Cristian Klein, Martina Maggio, Karl-Erik Ã…rzÃ©n, and Francisco HernÃ¡ndez-
Rodriguez. 2014. Brownout: Building more robust cloud applications. In Pro-
ceedings of the 36th International Conference on Software Engineering . 700Å›711.
https://doi.org/10.1145/2568225.2568227
[45]QiangLi,RanyangLi,KaifanJi,andWeiDai.2015. Kalmanfilteranditsappli-
cation.In Proceedingsofthe8thInternationalConferenceonIntelligentNetworks
and IntelligentSystems . IEEE,74Å›77. https://doi.org/10.1109/ICINIS.2015.35
[46]DanLing,YingZheng,HongZhang,WeidongYang,andBoTao.2017. Detection
ofmodel-plantmismatchinclosed-loopcontrolsystem. JournalofProcessControl
57(2017), 66Å›79. https://doi.org/10.1016/j.jprocont.2017.06.008
[47]Marin Litoiu, Mary Shaw, Gabriel Tamura, Norha Villegas, Hausi MÃ¼ller, Holger
Giese, and et al. 2017. What can control theory teach us about assurances in
self-adaptivesoftwaresystems? In SoftwareEngineeringforSelf-AdaptiveSystems
III.Assurances . Springer, 90Å›134. https://doi.org/10.1007/978-3-319-74183-3
[48]LennartLjung.1999. Systemidentification. Wileyencyclopediaofelectricaland
electronics engineering (1999), 1Å›19. https://doi.org/10.1007/978-1-4612-1768-
8_11
[49]Martina Maggio, AlessandroVittorio Papadopoulos,Antonio Filieri, andHenry
Hoffmann.2017. Automatedcontrolofmultiplesoftwaregoalsusingmultiple
actuators. In Proceedings of the 11th Joint Meeting on Foundations of Software
Engineering . 373Å›384. https://doi.org/10.1145/3106237.3106247
[50]Martina Maggio, AlessandroVittorio Papadopoulos,Antonio Filieri, andHenry
Hoffmann.2017. Self-adaptivevideoencoder:Comparisonofmultipleadaptation
strategiesmadesimple.In Proceedingsof12thIEEE/ACMInternationalSymposium
on Software EngineeringforAdaptive andSelf-Managing Systems .IEEE,123Å›128.
https://doi.org/10.1109/SEAMS.2017.16
[51]Claudio Mandrioli and Martina Maggio. 2020. Testing self-adaptive software
with probabilistic guarantees on performance metrics. In Proceedings of the 28th
ACM Joint Meeting on European Software Engineering Conference and Symposium
ontheFoundationsofSoftwareEngineering .1002Å›1014. https://doi.org/10.1145/
3368089.3409685
[52]Claudio Menghi, Shiva Nejati, Lionel Briand, and Yago Isasi Parache. 2020.
Approximation-refinementtestingofcompute-intensivecyber-physicalmodels:
Anapproachbasedonsystemidentification.In Proceedingsofthe42ndInterna-
tional Conference on Software Engineering . IEEE, 372Å›384. https://doi.org/10.
1145/3377811.3380370
[53]DouglasMontgomery.2020. Introductiontostatisticalqualitycontrol . JohnWiley
& Sons.https://doi.org/10.1002/9781119528425
[54]Gabriel A Moreno, Javier CÃ¡mara, David Garlan, and Bradley Schmerl. 2015.
Proactiveself-adaptationunderuncertainty:aprobabilisticmodelcheckingap-
proach.In Proceedings ofthe10th JointMeeting on Foundations ofSoftware Engi-
neering. 1Å›12.https://doi.org/10.1145/2786805.2786853
[55] Alexander Palm, Andreas Metzger, and Klaus Pohl. 2020. Online reinforcement
learning for self-adaptive information systems. In Proceedings of the 32nd In-
ternationalConferenceonAdvancedInformationSystemsEngineering .Springer,
169Å›184. https://doi.org/10.1007/978-3-030-49435-3_11
[56]Tharindu Patikirikorala, Alan Colman, Jun Han, and Liuping Wang. 2012. A
systematic survey on the design of self-adaptive software systems using control
engineering approaches. In Proceedings of the 7th International Symposium on
179Timely andAccurateDetectionof Model Deviationin Self-Adaptive Software-Intensive Systems ESEC/FSE â€™21, August 23Å›28, 2021,Athens,Greece
SoftwareEngineeringforAdaptiveandSelf-ManagingSystems .IEEE,33Å›42. https:
//doi.org/10.1109/SEAMS.2012.6224389
[57]Yi Qin,Tao Xie, ChangXu, Angello Astorga, and JianLu. 2019. CoMID: Context-
BasedMultiinvariantDetectionforMonitoringCyber-PhysicalSoftware. IEEE
TransactionsonReliability 69,1 (2019), 106Å›123. https://doi.org/10.1109/TR.2019.
2933324
[58]Mazeiar Salehie and Ladan Tahvildari. 2012. Towards a goal-driven approach to
action selection in self-adaptive software. Software: Practice and Experience 42, 2
(2012), 211Å›233. https://doi.org/10.1002/spe.1066
[59]StepanShevtsov,MihalyBerekmeri,DannyWeyns,andMartinaMaggio.2017.
Control-theoretical software adaptation: A systematic literature review. IEEE
Transactions on Software Engineering 44, 8(2017), 784Å›810. https://doi.org/10.
1109/TSE.2017.2704579
[60]StepanShevtsovandDannyWeyns.2016. Keepitsimplex:Satisfyingmultiple
goals with guarantees in control-based self-adaptive systems. In Proceedings
of the 24th ACM SIGSOFT International Symposium on Foundations of Software
Engineering . 229Å›241. https://doi.org/10.1145/2950290.2950301[61]Stepan Shevtsov, Danny Weyns, and Martina Maggio. 2019. SimCA *: A Control-
theoreticapproachto handleuncertaintyinself-adaptivesystemswith guaran-
tees.ACMTransactions on Autonomousand AdaptiveSystems 13,4 (2019), 1â€“34.
https://doi.org/10.1145/3328730
[62]SilvioSimani,CesareFantuzzi,andRonaldJonPatton.2003. Model-basedfault
diagnosis techniques. In Model-based Fault Diagnosis in Dynamic SystemsUsing
IdentificationTechniques .Springer,19â€“60. https://doi.org/10.1007/978-1-4471-
3829-7_2
[63]HuiSong,AmitRaj,SaeedHajebi,AidanClarke,andSiobhÃ¡nClarke.2013. Model-
basedcross-layermonitoringandadaptationofmultilayersystems. ScienceChina
InformationSciences 56,8(2013),1â€“15. https://doi.org/10.1007/s11432-013-4915-5
[64]Guojun Wang andSiva Sivaganesan.2013. Objective priors forparameters in a
normal linear regression with measurement error. Communications in Statistics-
Theory and Methods 42, 15 (2013), 2694â€“2713. https://doi.org/10.1080/03610926.
2011.608476
[65]Xiaoyun Zhu, Mustafa Uysal, Zhikui Wang, Sharad Singhal, Arif Merchant,
Pradeep Padala, and et al. 2009. What does control theory bring to systems
research? ACM SIGOPS Operating Systems Review 43, 1 (2009), 62â€“69. https:
//doi.org/10.1145/1496909.1496922
180