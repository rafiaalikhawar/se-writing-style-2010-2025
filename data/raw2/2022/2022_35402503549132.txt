Code,/Q_uality,and Process Metrics in
Graduated and Retired ASFI Projects
S,tefan Stănciulescu
sstanciulescu@ucdavis.edu
Universityof California, Davis
USALikang Yin
lkyin@ucdavis.edu
Universityof California, Davis
USAVladimirFilkov
vﬁlkov@ucdavis.edu
Universityof California, Davis
USA
ABSTRACT
Recentworkonopensourcesustainabilityshowsthatsuccessful
trajectories of projects in the Apache Software Foundation Incuba-
tor (ASFI) can be predictedearly on, using aset ofsocio-technical
measures. Because OSS projects are socio-technical systems cen-
teredaroundcodeartifacts,wehypothesizethatsustainableprojects
may exhibitdiﬀerentcode andprocess patternsthan unsustainable
ones,andthatthosepatternscangrowmoreapparentasprojects
evolveovertime.Herewestudiedthecodeandcodingprocesses
ofover200ASFIprojects,andfoundthatASFIgraduatedprojects
have diﬀerent patterns of code quality and complexity than retired
ones.Likewiseforthecodingprocesses–e.g.,featurecommitsor
bug-ﬁxing commits are correlated with project graduation success.
We ﬁnd that minor contributors and major contributors(who con-
tribute<5%,respectively>=95%commits)associatewithgraduation
outcomes, implying that having also developers who contribute
fewer commits are important foraproject’s success.
ThisstudyprovidesevidencethatOSSprojects,especiallynascent
ones, can beneﬁt from introspection and instrumentation using
multidimensionalmodelingofthe whole system, including code,
processes,andcodequalitymeasures,andhowtheyareintercon-
nectedover time.
CCS CONCEPTS
•Software and its engineering →Open source model .
KEYWORDS
Open Source Sustainability; Code Quality
ACMReferenceFormat:
S,tefanStănciulescu,LikangYin,andVladimirFilkov.2022.Code,Quality,
and Process Metrics in Graduated and Retired ASFI Projects. In Proceedings
ofthe30thACMJointEuropeanSoftwareEngineeringConferenceandSympo-
siumontheFoundationsofSoftwareEngineering(ESEC/FSE’22),November
14–18, 2022, Singapore, Singapore. ACM, New York, NY, USA, 12pages.
https://doi.org/10.1145/3540250.3549132
1 INTRODUCTION
Open Source Software (OSS) project sustainability is of key im-
portancetoourdigitalsocietyinfrastructure.Successfulandsus-
tainable OSS dominates the Internet (e.g., Apache, Linux, Android,
ESEC/FSE ’22,November 14–18, 2022, Singapore, Singapore
©2022 Copyright held by the owner/author(s).
ACM ISBN978-1-4503-9413-0/22/11.
https://doi.org/10.1145/3540250.3549132Mozilla, Chromium, and LibreOﬃce),andis reportedly usedin 98%
ofenterprises1.Theblockbusterprojectsnotwithstanding,formany
other OSS projects, especially nascent ones, becoming sustainable
andlaterremainingonatrajectorytolong-termsustainabilityis
an ongoing issue.
The consequencesof apopular OSS project gettingoﬀthat tra-
jectory can be disastrous, as recent worldwide cybersecurity in-
cidentslikelog4jhavedemonstrated[ 28,44].Inresponsetosuch
incidents in software security, a meeting in January 2022 at the
USWhiteHouse,2betweengovernmentandprivatesectorstake-
holders, resulted in a statement recognizing OSS maintainability
andsustainabilityasissuesofnationalimportance,andcallingto
actiontoidentify"sustainablemechanisms"tomaintainthemost
important OSS projects. But what are the characteristics of sustain-
able OSS projects, and how can they be leveraged into sustainable
mechanismsforproject maintenance?
We know that in spite of concentrated programmer labor, many
opensourceprojectsfailandareabandoned.CoelhoandValente
have studied over 100 GitHub projects and identiﬁed diﬀerent rea-
sons for OSS failure, including low number of developers involved,
lowengagement,andotherreasons.[ 8].Toincreasetheirvisibil-
ity and chances of success many projects join foundations, like
the Apache Software Foundation (ASF), which provide common
standards and guidance in exchange for higher community unifor-
mity.Thepopularityandhighstandardsoffoundationsupported
projects can contribute to their continued sustainability, by attract-
ing a steady supply of programmer eﬀort. ASF in particular serves
as an example that has been successfully churning out popular
andhighqualityprojectsforyears.Itsincubator,andtheApache
Way,3has served many nascent projects, graduating those that
demonstrated a track record toward sustainability, and retiring
others.
Moreover, OSS projects come in diﬀerent shapes and sizes. This
diversity is there from the beginning, when nascent projects are
initiated, and continues throughout their life trajectory, and for
some, into their eventual sustainable regime. That every project
mayhaveadiﬀerentstoryandtrajectoryisinlinewithcontingency
theoryandorganizationalmanagementstudies[ 14].Recognizing
this,modern software engineeringresearchis doingawaywith the
"rulesofthumb",andtheone-size-ﬁts-allsolutionsandreplacing
themwithdeeperandmoremeaningfulbespokesolution,where
thecontextandtheecosystemenvironmentaresigniﬁcantdeter-
minants of project sustainability [ 21,52]. These research eﬀorts
1https://www.pcmag.com/archive/survey-98-percent-of-companies-use-open-
source-29-percent-contribute-back-253661
2https://www.whitehouse.gov/brieﬁng-room/statements-releases/2022/01/13/
readout-of-white-house-meeting-on-software-security/
3https://www.apache.org/theapacheway/
Thiswork islicensedunderaCreativeCommonsAttribution4.0Interna-
tional License.
495
ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
havebeneﬁtedfromtheavailabilityoflarge-scalerepositoriesof
project traces and developer behaviors. The most promising of
them have combined multiple diﬀerent types of data, including
traces andcommunication activities, surveys and developer inter-
views, and used modeling at both software engineering and social
and governance levels [ 51,52]. Recent work on open source sus-
tainability focusedbothontechnical factors[ 36,37,41]andsocial
factors[17,47,49,52], andhasdemonstratedthebeneﬁtsofusing
socio-technical networks to forecast project graduation success in
theApacheSoftwareFoundationIncubator(ASFI)[ 21,52].Those
studiesfoundthatdiﬀerentpatternsofsocialinteractionsanddiﬀer-
ent socio-technical behavior mediate diﬀerential success outcomes,
inparticularwithrespectto sustainabilitymetrics.
Where the evidence is scant, however, is where we ﬁnd the next
natural research direction: to connect sustainability to the way the
softwareartifactsarecreated,especiallythecode.Itstandstoreason
thatbecausecodeistheproductofcoding,asocialprocess,andthe
processofcodingisinterleavedwithactivitiesofthesocio-technical
system representing the project, a connection, even if indirect,
existsamongthem.Infact,sincetheinitialpostulationofConway’s
law[9],ithasbeenamplyestablishedthatthesoftwareprojectsocio-
technical structure in commercial projects is associated with the
organization[ 33]andquality[ 6]ofthe software artifacts created.
A Motivating Example. We take a look at two diﬀerent yet
similar projects from ASF. Apache Celix is a framework to develop
modularsoftwareapplications.Itgraduatedfromtheincubatorafter
almost four years, while having only four code contributors and a
bitover300commits.Itsapproachwastohaveaconsistentlong-
term activity, without high intensity development periods. On the
other spectrum is SpamAssassin , a well-known anti-spam platform
developed for more than 20 years. SpamAssassin was highly active
during its incubation period, had many contributors, and averaged
over 150 commits per month. It graduated much faster from the
incubator,likelyalsodueto its previouswellestablishedcodebase
and community. Bothprojects were and still are successful, both
graduated from the incubator, but had very diﬀerent trajectories
both at code level andat processlevel.
Our contributions. Guided by the above, and the prior work
showingthatthenotionofOSSsustainability,intheASFIncubator
senseofatrajectoryleadingtoself-reliancehasstrongconnections
to aproject’s socio-technical structure,we hypothesize that:
Code,thecodingprocess,andprojectquality(e.g.,graduation
in ASFI) are associated with project sustainability in a way that
can be quantitativelymeasured.
Thefollowingquestions,then,arisenaturally:isthecodeandthe
developmentprocessinsustainableprojectsperceptiblydiﬀerent
than in those that are not sustainable? Is the code quality in the
former any diﬀerent than in the latter? To eﬀectively answer these
questionsonewouldneedguidingtheoriesconnectingorganiza-
tional behavior to outcomes, and data of code, process, and quality,
togetherwithdata ofprojectsustainabilityoutcomes.
Here,weanalyzeadatasetofsourcecodeanddigitaltracesfrom
the repositories of 200+ ASFI projects, that have been judged to beonthepathtosustainability,i.e.,retiredornot.Weextractedsoft-
ware metrics for code, process, and quality, and studied the metric-
spacediﬀerencesbetweengraduatedandretiredASFIprojectsat
individual metric level, metrics over time, and in models of sustain-
ability.We foundthe following:
•Graduated and retired projects are diﬀerent in their code
(graduated have less code per author, and less directories
perauthor),processes(graduatedcommitmoreanddelete
more), and quality (graduated have more complexcode and
more test code);
•Graduatedandretiredprojectsfollowdiﬀerenttrajectories
once they enter the incubator. Some projects are somewhat
better equipped to graduate fast, while others strive for a
moreconstantbutlesscommit-heavyactivity.Finally,retired
projectsaremorelikelytohaveahigherburdenpercontribu-
torduetohavingfewercontributors,anincreasingcodebase
size,andbeing less likely to attract newcontributors;
•Anincreaseinthefollowingmetricsincreasestheoddsof
graduation: lines of code, major and minor contributors,
featurescommits,correctivecommits,mediumcomplexity
(11-25 McCabe) functions,and very largefunctions.On the
ﬂip side, the increase in the following metrics decreases the
odds: top level directories, avg. ﬁles modiﬁed per commit,
very large ﬁle sizes, andcode duplicationpercentage.
This paper isa ﬁrst step showing that it ispossible to associate
sustainabilitywithcode, quality andprocess metrics. Ourmotiva-
tion goesbeyondASFI asmanymore projects failoutsideofASFI,
therefore, maintaining projects with large code bases may be more
pertinenttothem.OurreplicationpackageisavailableonZenodo.4
2 BACKGROUNDAND THEORY
In this section, we summarize the underlying mechanism of the
ApacheSoftwareFoundationIncubator,therelatedworkonOSS
sustainability, and the concepts on code complexity and quality
measures. We alsointroduce the relevantcontingency theory.
2.1 ApacheSoftwareFoundationIncubator
Apache Software Foundation Incubator (ASFI),5is a project incuba-
tor thatprovides a deterministic pathfor in-the-wild OSS projects
to attract highly skilled developers, regulate working behaviors,
and further joining Apache community. During the incubation,
theprojects’long-termgoalistobecomeself-sustainable,i.e.,the
project’scommunitycanself-governitselftosustainitsactivityand
productivity over time. To help incubating projects achieve such
levelofsustainability,ASF,diﬀerentfrommostOSSfoundations,
provideseachincubatingprojectwithin-depthmentorshipfrom
senior ASF committers. The incubation process often takes several
months,andwhentheproject’scommunityis readyforexitingthe
incubator, all contributors have the obligations to vote for either
graduation and retirement; if the decision from the community
ispositive,thentheASFcommitteewilladditionallyevaluatethe
projects’progressoncontributordiversity,attractivenesstonew
contributors, and community building. If all goes well, the project
will be graduated, otherwise retired. There is a tenet in Apache
4https://zenodo.org/record/6374071
5https://incubator.apache.org/
496Code, /Q_uality, andProcessMetrics in GraduatedandRetiredASFI Projects ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore
Community, and that is ‘Community Over Code’. The belief is that
if good care is taken of the community, good code will emerge
from it. Based on such belief, projects in ASFI are encouraged to
build a diverse and meritocratic-based community, though there is
little explicit emphasis on code quality or new features to be devel-
oped.Previous workhas foundthat thereare strongrelationships
between code qualityandproject’s progress[ 1,48].
2.2 OSSSuccess & Sustainabilityvis-a-visCode
OSS success has been studied from various angles, though there
isstillnouniversalagreementonthedeﬁnitionofsuccessinOSS
projects [ 10,25,40]. Some researchers use metrics from the user’s
perspective to measure OSS success, e.g., project downloads, usage,
popularity, licenses[ 7,31,43]. Others use project-centered metrics,
e.g.,thenumberofissues,commitfrequency,activedevelopers[ 25].
Coelho et al. surveyed 118 developers and found that projects
failfor several reasons[ 8]: lowinterest fromdevelopers, lowcode
maintainability,andnewerprojectsovertakingtheoriginalprojects.
Furthermore, they discover that failed projects are less likely to
follow best practices (e.g., provide contributing guidelines), and
failedprojectsaremoresimilartolesspopularprojects.Acodebase
with highcomplexity and manycodedependenciesrequiresmore
eﬀortstomaintainortodevelopnewfeatures.Codecomplexitycan
also increase due to low code ownership[ 6], developer turnover
oracceptingexternalcontributors’code[ 16].Sachsuseddevelop-
ers’commentstopredictaproject’ssuccess[ 39]byanalyzingthe
interactionsbetweenindividualsasagroup,basedonSYMLOG,a
bodyofsocialpsychologytheories[ 2].Theyﬁndthatdevelopers’
personas do not increase the accuracy of traditional metrics-based
methodsfor predictingaproject’s success.
Code quality is an important non-functional requirement in
a project’s lifecycle. Nagappan et al. show that organizational
metrics fare better than traditional metrics in predicting faults
inOSS projects[ 33].Other researchhasshownthat codeandpro-
cess metrics can be useful for detecting code smells[ 29], design
issues[20,32],predictingdefects[ 36]orﬁndingvulnerabilities[ 42],
which can be useful in understanding a project’s evolution and
potentialissues.
Although related, OSS sustainability and OSS success are two
diﬀerentconcepts.Oneprojectcanbesuccessfulandnotsustain-
able and the most recent log4jvulnerability [ 28] is a convincing
evidence: a well-known and widely used OSS project, but barely
maintained by a group of only four non-paid developers. Xia et
al. used GitHub related metrics (pull requests, issues, etc) to pre-
dict the healthof a project[ 50]. Compared toprevious work, they
achievehighaccuracy(<10%errorrate)bytuningtheirmodelsand
parameters,andshowthattheycanaccuratelypredictmanyhealth
indicators for the next 1, 3, 6, and 12 months. More recently, Yin et
al. showed that socio-technical factors (mostly social and techni-
cal networks) can be used to forecast the incubation sustainability
outcomeforASFincubatorprojects[ 52].Theyﬁndthatahigher
numberofnodesinthesocialnetworksispositivelycorrelatedwith
graduation, whereas the number of nodes in the technical network
(code and developers’ coding behavior) is negatively associated
with graduation for minor projects. Ghapanchi studied project sus-
tainability over time based on two metrics: defect rate velocity andfeatureenhancementrate[ 18].Theyfoundthatahigherbug-ﬁxing
and feature enhancement rate, together with an increase in the
frequencyofreleaseshelpswithlongtermsustainability.Incom-
parison, we use comprehensive source code and coding process
analysis, allowing us to be broader in our analysis by including
code quality metrics. Izquierdo et al. studied how OSS projects
evolve in the Eclipse incubator [ 19]. They use product and code
related metrics to gauge their maturity. They ﬁnd that modeling
projects that went through the incubator remain stable throughout
their lifecycle, indicating that they do not grow and are not able
to attract new contributors. As the end result of OSS software is
producing useful software, we expect that project sustainability is
associatedwithitscodecharacteristics.However,tothebestofour
knowledge,there is nostudyarticulatingtheassociation between
projectsustainabilityandcode,process,andquality metrics.
2.3 ContingencyTheory
ASFI projects, regardless of size, naturally form an organization
withinternalrules,specialregulations,andexclusivepersonpower.
Structural contingency theory argues that organizations cannot be
fully eﬀective without the necessary structural support [ 14]. More-
over,thereisnosingleorganizationalstructurethatisbestﬁttedfor
everyorganization[ 46].Thus,toanorganization,themosteﬀective
structureiscontingentuponitsinternalandexternalcontext.Ac-
cording to Ruekert et. al. [ 38], organizational performance is a mix
ofmanyfactors,including:structure,people,technology,strategy
and culture. Organizations with better ﬁt will achieve higher levels
of performance. In a nutshell, the structural contingency theory
claimsthat‘onesizedoesnotﬁtall’,andthateﬀectiveperformance
depends on many factors [ 53]. In the speciﬁc case of ASFI projects,
the context of a project is multi-dimensional, including commu-
nications among contributors, seniority of the contributors, and
programming languages being used to build the project. Therefore,
it is likely that the association between code quality and sustain-
abilityiscontingent uponthosecontextvariables.
3 RESEARCH QUESTIONS
InthispaperwebuildonthepreviousworkofYinetal.[ 52]and
study metrics complementary to their socio-technical ones. Our
focusisoncode,process,andqualitymetricstoexplore howwrit-
ingcodediﬀersacrossASFIprojects.Wehypothesizethatretired
projects will exhibit diﬀerent code complexity, process patterns,
andqualitymeasures thangraduatedprojects.
To have actionable insights intoprojects evolution and sustain-
ability, we consider them in a multi-dimensional space of our met-
rics. Understandingprojects in such aspacecangive usaglimpse
intoprojects’similaritiesanddiﬀerences.Evenifprojectscanbe
similar in terms of codebase size (measured by the number of ﬁles)
and project size (measured by the number of active developers),
we expect that projects can diﬀer in many ways: they may diﬀer
in some process related aspects such as commit frequency, change
size, commit types, or the ability of attracting new contributors.
As predicted by the contingency theory, projects that successfully
progressedtobeself-sustainablecangothroughdiﬀerenttrajectory
underdiﬀerentcontext,andthesameholdsforretiredprojectsthat
theyfailtomaintainsustainabilityduetovariouscontext.Therefore,
497ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
236 Git 
Repositories 
on GitHubCode 
Metrics
Process 
Metrics
Regression Models 
(GLM and GLMM)Projects 
Email 
ArchivesData 
Extraction
Code 
Quality 
MetricsGraduated and 
Retired projects 
ASF project listData Cleanup and 
Preprocessing 
Remove Outliers
Tokei
SokratesRust tool
Figure1:Diagramshowingtheoverallprocessforcollecting
and analyzing the data. GLM: generalized linear regression
model, GLMM: generalized linear mixed-eﬀects regression
model.
insuchacomplexmulti-dimensionalspace,itisofimportanceto
demonstrate that there is suﬃcient variance to capture diﬀerences
and similarities between graduated projects and retired projects.
Thus, we ask:
RQ1: How do graduated and retired projects diﬀer across our
code, process, and quality metrics? How are the metrics related
pairwise?
Next we turn to the temporal evolution of code, process, and
qualitymetrics.Inasocio-technicalsystem,feedbackfromoneside
to another side takes time, especially in the circumstance of the
OSSprojectwherepeoplecanworkfromdiﬀerenttimezones.As
predictedbythecontingencytheory,thecontextofprojectsisof
importancetotheorganization,andthecontextischangingover
time.Therefore,code,process,andqualitymetrics’evolutionare
ideally to be studied temporally, which has been shown to perform
betterthanstaticmetrics for predictingbuggy code[ 36]. We ask:
RQ2: Are project trajectories of graduated and retired ASFI
projectsdiﬀerent,alongour code,process,andqualitymetrics?
Finally,weputthemetricstogetherinamodelofprojectgrad-
uation. This question aims at exploring how well can our code
metricsassociatewithgraduationfromtheincubator.Weexpect
theassociationbetweenqualityandsustainabilitycanbeidentiﬁed
whilecontrolling the context,thus we ask:
RQ3:Whatarethecode,process,andqualitymetricsdetermi-
nants of whether a project is graduated versus retired? Are they
diﬀerentfor diﬀerentprogramminglanguages?
4 DATA AND METHODS
Inthissection,wepresentthedatacollectionprocessandthemeth-
odsusedinthe study.Figure 1presents the overallprocess.
4.1 Data Collection
We use the Apache Software Foundation podlings.xml ﬁle,6for
a complete project list. It contains the project meta-data: project
name, incubation start and end date, and current status: graduated,
retired,orincubating.Intotal,thelistcontained328projects,outof
which,236haveaGitrepositoryonGitHub.Therestoftheprojects
are either SVNbased orwe were not able to locate their repository,
thusweexcludethem.Finally,wecloneall236Gitrepositoriesfrom
6URLto the podlings.xmlﬁle , downloaded June2021Apache’s GitHub organization.7To collect the metrics from the Git
repositoriesandthemailingarchives,webuiltatoolinRustthat
extractsdatafromrepositoriesanddownloadsthemailingarchives.
It then launches two other popular tools: tokeifor extracting code
size metrics (ﬁles, blanks, lines, code, comments),8andSokrates
for calculating code quality metrics,9and collects their output. For
each Git repository, we extract all commits and organize them into
monthlybatches,called incubationmonths ,basedontheirdate.A
project’s incubation months are computed for each month from
their entry into the incubator (start date) and until they exit the
incubator(enddate).Ifaprojectenterstheincubatoron2006-10-15
and leaves the incubator on2007-01-26, then the ﬁrst incubation
monthrunsfrom2006-10-15until2006-10-31,thesecondincubation
monthrunsfrom 2006-11-01 until 2006-11-30,and so on,until the
incubation month #4 which runs from 2007-01-01 until 2007-01-26.
Notethattheﬁrstandlastmonthmayhavelessdata.Thisallows
us tomore easilyalign withthe mailingarchives which are stored
per calendar month.
We analyze the commits and extract process metrics for each
incubationmonth.Tocollectcodemetricsandcodequalitymetrics,
wecheckouttherepositoryatthelastcommitinthatrespective
incubationmonthandrunthetoolsonthesourcecode.OurRust
tool computesthe numberof directories and rootlevel directories
and extracts process metrics. We use tokeito extract code size
metrics.tokei’soutputprovidesthesemetricsforeachprogramming
languagethatitﬁndsintheproject,whichallowsustoalsoidentify
andrecordthe dominantprogramming language,i.e. theonethat
hasthemostlinesofcodeforeachincubationmonth.Tosmooththe
data forsmaller projects, if in a particularincubation month there
have been no commits, we reuse the code metrics values from the
previousmonth.Iftherehasbeennoactivityintheﬁrstincubation
month, we initialize allcode andprocessmetrics to 0.
For the classiﬁcationofcommitsintochangetypes, weusethe
classiﬁer from [ 15], and use the available generated model into
which we feed all the commits’ messages.10The output is a list
withallcommitsandtheirclassiﬁcationlabel:feature,corrective
(ﬁxing a bug), perfective (improving the code), non-functional (not
relatedtosourcecode,e.g.,documentation),orunknown(unsure
howtoclassify). We aggregatethisasasum of commitsthat have
the same label, for eachincubationmonth andproject.
Tomeasurediﬀerencesintheirdevelopmentprocess,wecom-
pute for each incubation month a selection of several popular met-
rics[6,19,20,36]fromtheproject’sGitrepository:numberofcom-
mits(excludingmergecommits),averagecommitsperdeveloper,
number of commit active days, ﬁles added, ﬁles deleted, ﬁles modi-
ﬁed, average number of ﬁles modiﬁedper commit,churn (added+
deletedlines),minorcontributors (thosethatprovidelessthan5%
ofcommits),majorcontributors(those thatprovide 95%ormore
of commits), new contributors (those that are ﬁrst time commit
contributors), number of emails. For code metrics, we record the
number of ﬁles, lines, comments, blanks, and code (sloc), project
root level directories, andtotal number of directories.
7https://github.com/apache/abdera/
8https://github.com/XAMPPRocky/tokei
9https://www.sokrates.dev/
10https://github.com/gesteves91/fasttext-commit-classiﬁcation
498Code, /Q_uality, andProcessMetrics in GraduatedandRetiredASFI Projects ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore
For the emails, we download the devmailing list archives for
each project and each incubation month.11We focus on direct and
explicitcommunicationbetweendevelopers,thereforewecountthe
numberofemailsthatarenotJIRA-relatedemails,butwekeepthose
JIRA emails containing "Commented" in the subject. We ignore
other kind of JIRA emails (e.g., new issue, issue resolved, issue
assigned, etc.). We then extract a set of the developers’ emails that
sent or replied to an email (emails_dev), and the number of emails.
In amonth withnoemails, thesemetrics have avalueof0.
We useSokrates toextract a numberof metricsrelated tofunc-
tions, ﬁle sizes, McCabe complexity metrics at function level, code
duplication,andtestsforeachincubationmonth.WhileSokrates
is not the most obvious choice, due to the fact that our dataset
exhibits a large number of programming languages, Sokrates is, to
thebestofourknowledge,oneofthefewtoolsthatcanperform
such widespread sourcecode analyses.
Our datasets,Rscripts, andtoolsare available onZenodo.12
4.2 Models
To analyze how graduation is associated with code, processes, and
codequality,we use GeneralizedLinear Regression (glm),andGen-
eralizedMixedEﬀect Regression(glmer)models[ 4].We chosethe
latter to account for potential random eﬀects introduced by dif-
ferentprogramminglanguages.WeuseRandthe glmerfunction
fromthelme4package[ 5]tobuildthemodels.Weﬁrstcleanupthe
data by removing a number of projects that have either no activity
or have incomplete data. From the total 236 Git repositories, we
eliminate 18 projects, resulting in 5365 observations across 184
graduated and 34 retired projects. We further remove the top 3% of
the outliers, resultingin5245 observations.
For each incubation month we record the most prevalent pro-
gramming language in terms of code, and we use that as a random
eﬀect. We build three regression models: a) the base model, b) the
base plus the process metrics, c) and the base plus process metrics
plus code quality metrics. The goal is to observe how the addition
ofprocessandcodequalitymetricsassociatewithpredictingthe
outcome-graduationorretirement.Webuildthesethreemodels
fortwodatasets:a glmmodelusingonlytheJava-basedprojects
(whicharethemajorityoftheprojectsinthedataset),anda glmer
model that includes all the projects and uses the programming
languageasarandomeﬀect.Recallthatwearealsointerestedin
understanding if programming languages play a role in predict-
ing the outcome. Next, we check for multicolinearity using the
Variance Inﬂuence Factor (VIF) using the check_multicolinearity
function from the performance R package[ 24]. Values below 5 indi-
cate that multicolinearity is not signiﬁcant. We use two pseudo R2
valuestoreportthemodel’sgoodnessofﬁt,usingthe r2_nakagawa
functionfromthesame performance Rpackage.ThemarginalR2
represents the variance solely described by the ﬁxed eﬀects, and
theconditionalR2representsthevarianceintroducedbybothﬁxed
and random eﬀects in the model[ 34]. For creating the results table,
we use the SjPlot package[ 23] to create an HTML table, which we
then convert to Latex. The table shows the dependent variables
(Predictors),theOdds-Ratio(avalue>1hasapositiveeﬀect,and<1
11http://mail-archives.apache.org/mod_mbox/
12https://zenodo.org/record/6374071hasanegative eﬀect on graduation) andPvalues. The probability
deﬁnition of odds-ration is: /u1D45D/u1D45F/u1D45C/u1D44F=/u1D45C/u1D451/u1D451/u1D460_/u1D45F/u1D44E/u1D461/u1D456/u1D45C
1+/u1D45C/u1D451/u1D451/u1D460_/u1D45F/u1D44E/u1D461/u1D456/u1D45C. For example,
an odds-ratio of 1.8 means the probability of success is 64% higher
withaunitincreaseinthe selectedvariable.
4.3 VariablesofInterest
Formodeling,we use23 independent variablesrepresentative of
software metrics split intothree categories:
§1code:linesofsourcecodewithoutcomments(SLOC),number
ofdirectories, number oftoplevel directories .
§2process:majorcontributors ,minorcontributors ,newcontribu-
tors-thenumberofauthorsthathavenotcontributedbeforethe
currentincubationmonth, ﬁlesadded -thenumberofﬁlesaddedin
this incubation month, ﬁles deleted - the number of ﬁles deleted in
this incubation month, avg. ﬁles modiﬁed per commit - the average
numberofﬁlesthatweremodiﬁedinacommit-itexcludesﬁles
that were added or deleted, only those that existed and were modi-
ﬁed,active days - the number of days in an incubation month that
had at least one commit, number of emails ,corrective - the number
of commits that ﬁxed a bug or an issue, features- the number of
commitsthataddedsomefeature, perfective -thenumberofcom-
mits that enhanced (e.g., performance) the code, non functional -
the number of commits that were not code related, for example
addingdocumentation, and incubationmonth .
§3quality:testcodeSLOC -thisprovidesaproxyforhowmature
a project is and its quality assurance, the ratio between test SLOC
and SLOC as a percentage - a small value represents a project with
few tests and weak code coverage, number of functions that have a
mediumriskcomplexity(McCabeindexbetween11-25) -functions
should have a small cyclomatic complexity in order to be more
easily maintained andtested, number of functions that have avery
highriskcomplexity(McCabeindex>50) - verycomplex functions
are indicators of bugs hotspots due to being very diﬃcult to test,
numberofverylargeﬁles(>1000SLOC) -largeﬁleshavebeenshown
tobemorelikelytocontainfaults[ 35],requiremoreeﬀortsfrom
developerstounderstandandmanage,andmakethecodelessread-
able,numberofverylargefunctions(>100SLOC) -largefunctions
requireextraeﬀorttomaintainandmakecodelessreadable[ 30],
number oflines ofcode for the most complex function .
5 RESULTS
In this section, we present the analysis results and summarise our
ﬁndingsfor eachresearch question.
5.1 RQ1:Howdo graduatedandretiredprojects
diﬀer across ourcode,process,andquality
metrics?Howarethemetrics related
pairwise?
Ourdataset consistsof5365monthlysnapshotsfrom218projects
(acrossalltheirincubationmonths).Amongthe218projects,184are
graduatedand34areretiredprojects.Table 1showsthedescriptive
statisticsofour data acrossall23 metrics.
In contrast to Yin et al.[ 52], here we focus on the properties
of the code, process, and code quality metrics. Graduated and re-
tired projects distinguish themselves in several ways. First, one
499ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
Table 1: Descriptive statistics of graduated projects and re-
tired projects. The mean, median and st. deviation values
are computed over all incubation months. Authors are de-
veloperswhomadechanges,thoughtheydidnotnecessarily
commit thosechanges.
184 graduatedprojects 34retiredprojects
mean median st.dev mean median st.dev
SLOC 123431.66 66219.00 200938.97 89866.66 37513.00 145736.58
Commits 50.36 22.00 90.96 11.39 2.00 23.70
Directories 435.19 222.00 583.98 311.33 176.00 316.17
Top LevelDirectories 10.31 8.00 10.26 9.53 8.00 7.22
IncubationMonths 15.98 12.00 13.42 24.71 21.00 17.82
Authors 5.69 3.00 7.88 1.52 1.00 1.96
MajorContributors 2.92 3.00 2.18 1.29 1.00 1.36
Minor Contributors 2.73 0.00 6.73 0.21 0.00 0.85
NewContributors 1.65 0.00 3.72 0.37 0.00 1.03
Files Added 172.45 18.00 807.46 56.27 0.00 432.19
Files Deleted 131.30 3.00 735.82 37.94 0.00 379.24
Files 957.01 609.00 1077.36 807.78 371.00 1227.41
AvgFiles Modiﬁedper Commit 5.72 3.33 11.78 5.26 1.49 23.14
Active Days 10.64 9.00 8.55 3.83 2.00 5.38
Emails 131.88 63.00 217.79 42.48 16.00 79.04
Corrective 11.60 5.00 18.56 2.47 0.00 5.65
Features 14.07 6.00 25.52 3.27 0.00 7.04
Perfective 23.34 9.00 53.25 5.41 1.00 11.98
NonFunctional 0.86 0.00 1.83 0.17 0.00 0.59
Number offunctions 3570.97 2350.00 3934.19 2768.23 1384.50 3888.07
Test/MainLinesofCode Percentage 47.43 27.56 126.30 32.87 23.41 36.01
#Functions/wMcCabe Index 11-25 81.81 47.00 107.22 52.74 24.00 63.94
#Functions/wMcCabe Index >51 2.47 0.00 5.41 0.82 0.00 1.69
VeryLargeFileSize Count 6.89 1.00 21.97 3.40 1.00 4.69
VeryLargeFunctionSize Count 17.17 5.00 32.10 9.74 3.00 15.41
Code Duplication Percentage 16.38 12.69 14.92 16.93 13.63 15.69
Most Complex FunctionLOC 305.67 134.00 1193.30 178.81 120.00 156.75
requirement for graduating from the incubator is to attract new
contributorstotheprojects.Ourdataindicatesthatretiredprojects
are on average much less likely to attract new contributors during
their incubation period, and have fewer main contributors. Second,
projects have diﬀerent code and process characteristics. Graduated
projects have more SLOC, but retired have more SLOC per con-
tributor. Similarly for directories. And while retired projects are
smallerinsize,theymodifyonaverage5.2ﬁlespercommit.Gradu-
ated projects modify on average 5.7 ﬁles per commit, but they are
muchlargerandhavemoreﬁles.Thus,wecanarguethatretired
projects have a diﬀerent committing style, a consequence, possibly,
of less stringent rules on how to make changes. Furthermore, re-
tiredprojectsseemtodeletesigniﬁcantlyfewerﬁles.Third,there
are diﬀerences from a code quality perspective. Graduated projects
seemtobemorecomplex,havingmorelargeﬁles(>1000LOC),and
almost twice the average of the number of very large functions
(>100LOC)whencomparedtoretiredprojects.Perhapsinlinewith
that, graduatedprojectsexhibitmore test code thanretiredones.
RQ1Summary: Graduatedandretiredprojectsdiﬀeren-
tiatethemselvesthroughtheircode(graduatedhaveless
codeperauthor,andlessdirectoriesperauthor),processes
(graduated commit more and delete more), and quality
(graduatedhave more complex code andmore test code).
5.2 RQ2:Areproject trajectoriesofgraduated
andretiredASFIprojects diﬀerent, along
ourcode,process,andqualitymetrics?
We ﬁnd that the average incubation time over all projects is 18
months, with the average for graduated projects being 16 months,and for retired projects 24 months. Retired projects stayed on aver-
age 8months longerin theincubator than graduated projects. We
observethatanumberofprojectsthatstaylongintheincubator,
stillmanagetograduate—28graduatedprojectsstayed36ormore
monthsintheincubatorandstillgraduated,whereas16ofthe34
retiredprojectsstayedatleast36monthsintheincubator.Afeasible
reasonforthisdiﬀerenceisthatonaverage,retiredprojectsmay
needlonger timeto develop, andget theappropriate accommoda-
tion for that. Yin et al.[ 52] found that while the shorter time spent
inincubationisacharacteristicofmanygraduatedprojects,that
byitself isnot avery goodpredictorof graduation.
5.07.510.0
5 10 15 20 25
Incubation MonthActive DaysIncubating > 24 months 
051015
5 10 15 20 25
Incubation MonthActive DaysIncubating <= 24 months 
graduated retired
Figure 2: The number of commit-wise active days per incu-
bation month. An active day is a day that had at least one
commit. On the left are projects incubating for 24 months
or more, on the right projects that spent 24 months or less
in the incubator. For readability reasons, we show only the
ﬁrst24months ofdata.
On the other hand, projects that stay shorter in the incubator
seemtodosobecausetheyarebetterequippedtograduatefrom
the start (see Fig. 3, right plot), and even increase their average
8101214
5 10 15 20 25
Incubation MonthAvg. Commits per ContributorIncubating > 24 months 
051015
5 10 15 20 25
Incubation MonthAvg. Commits per ContributorIncubating <= 24 months 
graduated retired
Figure 3: Average number of commits per developer metric.
Leftplotshowsprojectsthatwereintheincubatorformore
than24monthsandrightplotforprojectsthatspentless24
months or less in the incubator. For readability reasons, we
show onlytheﬁrst24months ofdata.
500Code, /Q_uality, andProcessMetrics in GraduatedandRetiredASFI Projects ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore
numberofcommitsperdeveloperintheﬁrstfewincubationmonths.
Figure2showsthenumberofactivedaysineachincubationmonth.
Retiredprojectsstartwithonlyﬁvedaysofcommitactivityamonth
(for projects incubating <= 24 months), and that decreases towards
noactivityafter20monthsofincubation.Similarly,retiredprojects
in projects that are in the incubator for at least 24 months, have
a linear decrease of activity, reaching less than four active days
aroundmonth22intheincubator,whereasgraduatedprojectstend
to average 8-10active daysper incubationmonth for longer period
of times. It is clear that graduated projects have a more steady
commit-activity throughout the incubation month, which might
be one of the main factors for a more successful long-term project
development.
graduatedretired
1 3 10
major contributors
graduatedretired
1 3 10 30
minor contributors
graduatedretired
1 3 10 30
new contributors
Figure 4: Major, minor, and new contributors (log-scale) in
graduated andretired projects.
Along commit activity, we want to understand what kind of
contributorscontributetoaproject.Wedeﬁnethreetypesofcon-
tributors: 1) major contributors, those that commit 95% or more of
the total commits; 2) minor contributors, those that contribute less
than5%ofthetotalcommits,and3)newcontributors,thosethat
are ﬁrst time contributors (have not contributed before). Figure
4shows that graduated projects are capable of attracting a few
newcontributors,whereasretiredprojectsarelesslikelytodoso.
Analyzingtheminor/majorcontributorsthroughouttheincubation
period, we observe a linear increase for both minor and major con-
tributors in graduated projects, and the opposite in retired projects.
Graduated projects are likely more capable to recruit new develop-
ersandretainexistingones(indicatedalsobythenewcontributors
metric).Interestingly,minorcontributorsseemtobemoreprevalent
ingraduatedprojectsthaninretiredprojects.Fromasustainabil-
ity perspective, minor contributors could become committers and
maintainers ofthe project.Thus, projectsand maintainers should
considerattractingandprovidingguidancetominorcontributors
as awayofexpandingthe project’s community.
Next,wefocusonunderstandingtherelationshipbetweendevel-
opers and ﬁles. We compute the ratio between the number of ﬁles
and the number of contributors, which provides us with a measure
of development eﬀort. Figure 5shows two plots: on the left, we see
the ratio between the number of ﬁles and number of contributors,
whereasontherightweseeevolutionofthecodebasesizeinterms
of SLOC. We observe that retired projects’ size increases in the
ﬁrst18monthsoftheincubation,andtheratioofﬁles/contributors200400600
5 10 15 20 25
Incubation MonthRatio between number of files and contributorsRatio between number of files and contributors
50000100000150000
5 10 15 20 25
Incubation MonthLines of codeLines of code
graduated retired
Figure 5: Plots showing the ratio between ﬁles and number
ofdevelopers(left)andtheevolutionofthecodesize(right)
forall218 projects.
increaseslinearlyaswell.Thatmeansthatwhileretiredprojects’
codebase is increasing, the number of contributors decreases or
staysthesame.Inotherwords,retiredprojectsdonotseemtobe
able to sustain their development eﬀorts due to fewer contributors.
Inthecaseofgraduatedprojects,weseetheratioofﬁles/developer
alsoincreasing,butbeingquitelowerthanthoseofretiredprojects.
This indicates that graduated projects, while bigger in size, are
more capable of attracting or retaining developers to cope with the
increaseofthe codebase’ssize.
Projects evolve diﬀerently from a process perspective also, lead-
ing to diﬀerent outcomes. Graduated projects exhibit a higher
numberofcommitsperdeveloper,havemorecommitactivedays
throughout the incubation, recruit more new contributors, and are
abletoincreaseandsustaintheiractivityintheﬁrstfewmonths
in the incubator. They also communicate more via emails. These
projects have a diﬀerent approach to working once they enter the
incubator. In projects that incubate for a shorter period of time,
retiredprojects arelessactivefrom thestart,and becomeinactive
(commit-wise) towards month 22 of the incubation period. Projects
thatareabletohavemorecommitactivitythroughouteachmonth,
are more able to keep ongoing the development. Previous work by
Yin et al.[ 52]showed thatthe number of commitsand the devel-
oper network are correlated with graduation. We further ﬁnd that
not only the number of commits is relevant, but also how often
and what kind of changes happen. Projects should also keep an
eye ontheir code quality andcomplexity, in additiontogrooming
long-termandshort-term contributors.
Case Study. From the data we collected, we posit that there are
diﬀerent incubation strategies. Some projects have a a short but
highintensitydevelopmentperiod,andthereforetheygraduatefast.
Forexample,SpamAssassinspent7monthsintheincubatorand
had an average of 173 commits per month from 5.8 contributors.13
AnotherexampleisSparkwhichspent9monthsintheincubator
averaging272commitspermonthfrom35contributors.14These
were clearlyunderintense andsustaineddevelopment.
Other projects strive to keep an ongoing activity despite the
fewer commits and email exchanges. Apache Celix is a framework
13https://github.com/apache/SpamAssassin
14https://github.com/apache/spark
501ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
to develop modular software applications.15The project incubated
for45months,hadfourcontributorsand308commits.However,for
39monthstherewassomeactivityintheproject,eitherviacommits
orviaemails.Theprojectisstillactiveandunderdevelopmentafter
its graduation. An opposite example is Weex,16a framework for
building Mobile cross-platform high performance UIs. Weex spent
55 months in the incubator and had a very high commit activity
for the ﬁrst 12 months (>3500 commits). From month 39 to month
55, there was almost no activity (only 35 commits in total) and
developers faced issues in graduating, which ultimately meant that
theprojecthadtoberetired.Afteritsretirement,itmovedunder
alibaba’s open source organization, and continued to be developed.
Theseprojectsforgedtheirownpathandevolvedindiﬀerentways.
Assuch,thereisnoexactonewayaprojectmaygo;insteadthey
needtoconstantlyadaptandadjustbasedontheircurrentprocesses,
code,andothersocio-technical factors.
RQ2Summary: Graduated and retired projects follow
diﬀerenttrajectoriesoncetheyentertheincubator.Some
projects are better equipped to graduate fast, while others
strive foramore constantbutlesscommit-heavyactivity.
Finally, retired projects are more likely to have a higher
burdenpercontributorduetohavingfewercontributors,
anincreasingcodebasesize,andbeinglesslikelytoattract
newcontributors.
5.3 RQ3:Whatarethecode,process,and
qualitymetrics determinantsofwhethera
project isgraduatedversus retired? Are
theydiﬀerentfordiﬀerentprogramming
languages?
In the previous RQs we examined metrics pairwise and in rela-
tionshiptoASFsustainability.Tostudytherelationshipbetween
sustainability and code quality, in the presence of multiple other
metrics,weusegeneralizedlinearandmixedeﬀectslogisticmodels.
We have 25 diﬀerent programming languages in our data set, with
a large spread of the number of projects using a speciﬁc language,
from160projectsinJavato1projectusingCVX.AsJavaisthepre-
dominant programming language used by ASF incubator projects,
we ﬁrst provide insights from projects that use Java as the primary
programming language, and then we compare the models built on
onlyJavaprojectstomodelsonallprojectsprogramminglanguages
intheASFincubator.Inthefollowingwepresentthosetwostudies.
Java Projects. The results of the ﬁrst study, on all Java projects
areshowninTable 2.Thethreeregressionmodelsarepredicting
thebinaryoutcomeofgraduationorretirement,theﬁrstusingbase
(code)metrics,thesecondaddsprocessmetricstothebase,andthe
thirdisthefullmodel,withallcode,process,andqualitymetrics.
This allows us to understand the contribution of the diﬀerent met-
ricsgroupstotheeﬃcacyofthemodels.Wewillusethefullmodel
for explainingthe details.
Incodemetrics,asexpected,moreSLOCincreasestheoddsof
graduationby15%.Thetopleveldirectorynumberisinteresting
15https://github.com/apache/celix
16https://github.com/apache/incubator-weexas it is signiﬁcant and negative, implying 21% lower odds. This
is consistent with the notion that less complex code is easier to
maintainandthusneedsfewerpeople.Asacontrol,havingahigher
value for the incubation month decreases graduation substantially
(41% lower odds),as discussedearlierinRQ2.
In process metrics, major contributors is positively and signif-
icantly associated with graduation, yielding 84% increased odds;
thatis,havingmoremajorcontributorsthatcontribute95%ormore
of the total commits, the more likely it is to graduate (i.e., to be-
come ASF sustainable). The eﬀect of minor contributors is small
(5%increaseinodds)butsigniﬁcant.Priorworkhasshowntheyare
valuable.Theyoftenpicklowhangingfruitissuestoﬁx,orwork
on the code for their own needs. In the long term, some of those
minor contributorsare given commit access and the possibilityto
jointhe project,enabling aproject’s long-termsustainability.
Code usually evolves through diﬀerent kind of changes, includ-
ingaddingﬁles,removingﬁles,ﬁxingbugs,addingnewfeatures,
creating documentation or performing re-factorings. We use the
numberofaddedﬁlesandthenumberofdeletedﬁlestosimulate
the dynamics of the code evolution from a ﬁle organization per-
spective. The model shows that there is a small negative eﬀect
(3% decrease in odds) and borderline signiﬁcant for projects that
delete more ﬁles during their incubation period. Moreover, we ﬁnd
that the average number of ﬁles modiﬁed per commit has a sig-
niﬁcant negative eﬀect on graduation, lowering the odds by 6%.
Ideal changes should of course be small and well documented in
a commit. When the code is complex with many dependencies,
asisthecasewithgraduatedprojectsonaverage,itislikelythat
more ﬁles would have to be modiﬁed per commit. This could be
attributed to code dependencies, less scrutiny over how to commit
changes,ordevelopers experimenting more withthe code.
We also ﬁnd that two types of commit changes are associated
withgraduation:correctivecommits,whichﬁxbugsandissues,and
featurecommits,whichthataddnewfeatures,haveasigniﬁcant
positive eﬀectongraduation,eachadding7-8% to the odds.
In code quality metrics, ﬁrst, having a higher number of ﬁles
with more than 1KLOC has a sizeable negative eﬀect (19% drop
in the odds) associated with graduation. One possible reason for
this is the fact that large ﬁles are more diﬃcult to maintain and
test, and to collaborate on. On the other hand, projects that have a
higher number offunctions of very large size (>100LOC) are more
likely to be self-sustainable, by almost the same odds diﬀerence.
This is somewhat surprising and merits further study. Given the
verbosityoftheJavalanguage,wewouldexpectthatsimplyhaving
more functions (modularity) of reasonable sizes is important, from
themaintenance,programcomprehension(readability),andtesting
perspective.Whilesometimescodeclonesarenotconsideredharm-
ful[22],many othertimescloned codeleads to more maintenance
eﬀort due to the need of ﬁxing the code in multiple places. The
model showsthat themoreduplicatedcodeaproject has,theless
likelyitistograduate.Finally,andsurprisinglytestLOC/codeLOC
does not appear to be signiﬁcant for sustainability.
AllProjects. We performed a second study on all projects after
excluding nine projects that solely use a certain language (i.e., we
eliminateprojectswhosedominantcodinglanguageisonlyused
bythem).Thereweusedageneralizedlinearmixedeﬀectmodel,
withprogramminglanguage astherandomeﬀect.Theresultsare
502Code, /Q_uality, andProcessMetrics in GraduatedandRetiredASFI Projects ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore
Table2:SummaryofthreeGLMmodelsforJava-basedprojects.Dueto codeanddirectories beinghighlycorrelated,weremoved
thedirectories variable.Similarly,we removed the most complex functionLOC variable.
Base Base,Processes Base,Processes, Quality
Predictors Odds Ratios p Odds Ratios p Odds Ratios p
Intercept 0.83 0.378 3.49 <0.001 1.85 0.120
SLOC 1.22 <0.001 1.11 0.001 1.15 0.004
#TopLevel Directories 0.79 <0.001 0.80 <0.001 0.79 0.001
Incubation Month 0.48 <0.001 0.63 <0.001 0.59 < 0.001
#Major Contributors 1.82 <0.001 1.84 < 0.001
#Minor Contributors 1.06 0.0121.05 0.022
#NewContributors 0.97 0.151 0.98 0.227
#Files Added 1.02 0.372 1.02 0.245
#Files Deleted 0.96 0.010 0.97 0.047
Avg.FilesModiﬁedper Commit 0.95 0.016 0.94 0.004
#Emails 0.96 0.011 0.96 0.052
#Corrective 1.08 <0.001 1.07 0.001
#Features 1.08 <0.001 1.08 <0.001
#Perfective 1.00 0.963 0.98 0.453
#Non Functional 0.99 0.557 0.99 0.757
Test/Main LinesofCode Percentage 1.01 0.713
#Functions /wMcCabe Index 11-25 1.10 0.002
#Functions /wMcCabe Index >51 1.01 0.408
Very LargeFile Size Count 0.81 < 0.001
Very LargeFunction Size Count 1.18 < 0.001
Code DuplicationPercentage 0.85 < 0.001
Observations 3795 3795 3795
R2Tjur 0.116 0.185 0.239
showninTable 3.Therandomeﬀectassumesalargeportionofthe
variance in the full model (84.4% conditional vs. 15.4% marginal) as
expectedduetotheoversizedimportanceofprogramminglanguage
choiceonallaspectofcode,process,andquality.
We note that the results are qualitatively very similar as the
resultsononlyJavaprojects.Thisisnotunexpectedsince76%of
theprojectsareJavaprojects,andthusthepropertiesoftheJava
projectscarryover.Still,theremainingprojectsdoshowsigniﬁcant
congruence with Table 2. It did occur to us to contrast our metrics
betweenfunctionalandimperativelanguages.Unfortunatelywe
didnothaveenoughexamplesofprojectsusingtheformerinorder
to ﬁtamodelsuccessfully.
RQ3Summary: We ﬁnd that an increase in the follow-
ing increasestheoddsof graduation:linesof code, major
and minor contributors, features commits, corrective com-
mits,mediumcomplexity(11-25McCabe)functions,and
verylargefunctions.Ontheﬂipside,theincreaseinthe
following decreases the odds: top level directories, avg.
ﬁlesmodiﬁedper commit,very large ﬁlesizes,and code
duplicationpercentage.6 DISCUSSION
Westartwithacaveataboutregressionandcausality.Whenmodels
are well ﬁtted and confounds are accounted for, multiple regres-
sion can quantify directional eﬀects (e.g., variable x on variable y)
and thus, methodologically go beyond mere symmetric correlation.
Hence the standard language used: "the eﬀect of changing variable
xis thatvariabley willchange", etc.However, thisisnot toimply
any strictcausalityrelationship,temporalor otherwise.Moreover,
quasi-experimentalstudieslikeoursthatdonotrelyonrandomized
groupassignmenthaveingenerallowerdiscoverypowerthanwell
designedrandomizedtrials[ 27].
We found that the coeﬃcients of some code quality and process
measuresareconsistentacrossdiﬀerentprojects,whilesomeoth-
ers are not. E.g., the number of major contributors are positively
associated with project sustainability. It suggests that increased
number of champions in technical contributions is a signal for
project sustainability. As for the design implication, we suggest
thatOSSmaintainersshouldhelpcreateapositivefeedbackloopfor
allcontributors,givingmoreownershipandresponsibility,while
at the same time oﬀering the ﬂexibility to choose what features
to work on, and contribute to the project’s long-term vision[ 12].
We also ﬁnd that the number of corrective commits are positive
across projects, suggesting that the presence of explicit corrective
message contained in commits may aid project sustainability. Such
503ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
Table 3:Summary ofthree GLMM models forallprojects.The marginalR2ismuch smaller than forthe Java-based models.
Base Base, Processes Base, Processes, Quality
Predictors Odds Ratios p Odds Ratios p Odds Ratios p
Intercept 0.69 0.491 21.31 <0.001 60.25 <0.001
SLOC 1.21 <0.001 0.93 0.129 0.98 0.759
#Directories 1.27 <0.001 1.22 0.002 1.15 0.045
#Top Level Directories 0.67 <0.001 0.63 <0.001 0.65 <0.001
Incubation Month 0.53 <0.001 0.73 <0.001 0.70 <0.001
#MajorContributors 2.15 <0.001 2.21 <0.001
#Minor Contributors 1.09 <0.001 1.09 <0.001
#NewContributors 0.98 0.269 0.98 0.264
#Files Added 1.00 0.764 1.01 0.675
#Files Deleted 0.96 0.001 0.96 0.003
Avg. Files ModiﬁedperCommit 0.93 0.001 0.92 <0.001
Active Days 1.35 0.015 1.30 0.036
#Emails 0.97 0.078 0.98 0.179
#Corrective 1.06 0.001 1.05 0.005
#Features 1.06 <0.001 1.06 <0.001
#Perfective 1.00 0.969 1.00 0.903
#NonFunctional 1.03 0.138 1.03 0.159
Test/Main Lines of CodePercentage 1.04 0.079
#Functions /wMcCabe Index11-25 1.01 0.772
#Functions /wMcCabe Index>51 1.01 0.446
Very Large File Size Count 0.90 <0.001
Very Large Function Size Count 1.19 <0.001
CodeDuplicationPercentage 0.87 0.004
Most ComplexFunction LOC 0.73 <0.001
Observations 4970 4970 4970
Marginal R2/ Conditional R2 0.097/ 0.539 0.213/ 0.689 0.154/ 0.844
resultsuggestscorrectivemessagesdonotmaketheprojectlook
bad,theymayinsteadsignalagreenlightonthesustainabilityof
the project: corrections are encouraged. Moreover, we found the
average ﬁle modiﬁed per commit, among all process measures, has
the most negative eﬀect on project’s sustainability. Along with the
evidencethatthenumberofﬁlesthatcontainmorethan1000LOC,
andthefunctioncomplexitybeingnegative,wesuggestthatacom-
mit should only contain the ﬁles that are required for that speciﬁc
change, and to consider modularizing and refactoring large ﬁles
and complex functions to reduce maintenance and development
costs[3,11,35].
The fact that code duplication is negatively associated with sus-
tainability makes sense:duplicated code is apain to maintain and
givesrisetotechnicaldebt[ 13,26,45].Checkingforduplicatedcode
and speciﬁcally assigning resources to refactor such code clones
should be prioritized at diﬀerent stages throughout the project’s
evolution. If possible at all, avoiding the practice is good advice
that willlower the maintenanceeﬀortslateron.
Weweresurprisedtoﬁndthatthenumberofverylargefunctions
increasestheoddsofgraduationasverylargefunctionsarediﬃcult
to maintain. This can beneﬁtfrom further study.7 THREATS TO VALIDITY
InternalValidity. Collectingcodequalitydataonprojectsinvolv-
ing a large number of diﬀerent programming languages is diﬃcult.
Although we found no evidence of this in spite of spot checking,
one internal threat to our study remains: that the Sokrates tool
may not correctly collect and compute diﬀerent metrics (e.g., com-
plexitymetricsarenotcomputeduniformlyacrossprogramming
languages, due to the intricate diﬀerences between them). Like-
wise, the commit classiﬁer might not be as accurate on our commit
dataset as in the original study[ 15], even though it was trained on
morethan5,000commitsyieldinggoodaccuracy.Thisisacceptable
forourscope,asﬁndingthebestcommitclassiﬁerisoutofscope
for this work. In our modelingwe use the programming language
as a random eﬀect to control for any eﬀects introduced by the
programming language. While most of the projects have suﬃcient
recorded data (e.g., commits), some repositories had no history
(e.g., Guacamole), were an umbrella project for several projects
(MyFaces), or had too few observations to make any meaningful
conclusions.Thus,weexcludedsuchprojectsand alsoeliminated
those projects that have the majority of code written in Lua, Go,
Erlang,CSS,C#,Kotlin,Autoconfduetobeingtoofewprojectsthat
use theselanguages,andthus havingvery fewobservations.
504Code, /Q_uality, andProcessMetrics in GraduatedandRetiredASFI Projects ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore
External validity. We carefully validated our hypotheses and
answered our research questions based on the ASF Incubator data.
GeneralizationbeyondASFprojectsmightbediﬃcult,duetothe
speciﬁcframeinwhichASFincubatingprojectsevolve.Anyfurther
generalizationtoprojectsbeyondASFmustbemadewithcare.Our
aim was to provide evidence that these systems require complex
analysis involving multiple perspectives, including the source code
andthe processes.
8 CONCLUSION
Motivatedby priorwork onOSSsuccess,health,and sustainability,
anddrivenbycontingencytheory,wehypothesizedthatthereis
alink between project graduationand code,process, and quality
metrics of software in ASF incubator projects. In this paper, we
presentedtheﬁrststudyknowntousassociatingcode,processand
quality with OSS sustainability. We ﬁnd that while retired projects
have a slightly higher cyclomatic complexity when adjusted for
projectsize,theirretirementdoesnotseemtobeassociatedwith
bugs, complexity or technical debt. We ﬁnd that both major con-
tributors and minor contributors (though less signiﬁcant) play a
positiveroleinincreasingthesustainabilityofOSSprojects.Among
the process and quality factors, the ﬁle size, function size, function
complexityseemtobemostnegative,suggestingkeepingworkﬂow
simpleandconciseisofimportancetosustainability.Weconsolidate
thoseﬁndingsintotakeawaysforpractitioners.Thinkingahead,we
hope to generalize our modelto projectsoutside Apache Software
Foundation and develop tools for instrumenting general GitHub
projectsto helpthemonthe trajectories to sustainability.
ACKNOWLEDGEMENT
We are grateful to the National Science Foundation for funding
this project, under GCR Grant #2020751. We thank the FSE 2022
reviewers for theirconstructive comments.
REFERENCES
[1]DimitriosAthanasiou,AriadiNugroho,JoostVisser,andAndyZaidman.2014.
Test Code Quality andItsRelation to Issue Handling Performance. IEEE Transac-
tions onSoftware Engineering 40,11 (2014),1100–1125. https://doi.org/10.1109/
TSE.2014.2342227
[2]Robert Freed Bales. 2017. Social Interaction Systems: Theory and Measurement .
Routledge. https://doi.org/10.4324/9781315129563
[3]Rajiv D. Banker, Srikant M. Datar, Chris F. Kemerer, and Dani Zweig. 1993.
Software Complexity and Maintenance Costs. Commun. ACM 36, 11 (nov 1993),
81–94.https://doi.org/10.1145/163359.163375
[4]Douglas Bates, Martin Mächler, Ben Bolker, and Steve Walker. 2015. Fitting
Linear Mixed-Eﬀects Models Using lme4. Journal of Statistical Software 67, 1
(2015), 1–48. https://doi.org/10.18637/jss.v067.i01
[5]Douglas Bates, Martin Mächler, Ben Bolker, and Steve Walker. 2015. Fitting
Linear Mixed-Eﬀects Models Using lme4. Journal of Statistical Software 67, 1
(2015), 1–48. https://doi.org/10.18637/jss.v067.i01
[6]Christian Bird, Nachiappan Nagappan, Brendan Murphy, Harald Gall, and
Premkumar Devanbu. 2011. Don’t Touch My Code! Examining the Eﬀects of
Ownership on Software Quality. In Proceedings of the 19th ACM SIGSOFT Sympo-
siumandthe13thEuropeanConferenceonFoundationsofSoftwareEngineering .
4–14.https://doi.org/10.1145/2025113.2025119
[7]Hudson Borges, Andre Hora, and Marco Tulio Valente. 2016. Understanding
the Factors That Impact the Popularity of GitHub Repositories. In 2016 IEEE
InternationalConferenceonSoftwareMaintenanceandEvolution(ICSME) .IEEE,
334–344. https://doi.org/10.1109/ICSME.2016.31
[8]JailtonCoelhoandMarcoTulioValente.2017. WhyModernOpenSourceProjects
Fail. InProceedings of the 2017 11th Joint meeting on Foundations of Software
Engineering (ESEC/FSE 2017) . 186–196. https://doi.org/10.1145/3106237.3106246
[9]Melvin E Conway. 1968. How do committees invent. Datamation 14, 4 (1968),
28–31.[10]Kevin Crowston, Hala Annabi, and James Howison. 2003. Deﬁning Open Source
SoftwareProject Success. (2003).
[11]Frank DeRemer and Hans H Kron. 1976. Programming-in-the-large versus
programming-in-the-small. IEEETransactionsonSoftwareEngineering 2(1976),
80–86.
[12]Edson Dias, Paulo Meirelles, Fernando Castor, Igor Steinmacher, Igor Wiese, and
Gustavo Pinto.2021. What Makes a Great Maintainer of Open Source Projects?.
In2021IEEE/ACM43rdInternationalConferenceonSoftwareEngineering(ICSE) .
982–994. https://doi.org/10.1109/ICSE43902.2021.00093
[13]Georgios Digkas, Mircea Lungu, AlexanderChatzigeorgiou, and ParisAvgeriou.
2017. The Evolution of Technical Debt in the Apache Ecosystem. In European
ConferenceonSoftwareArchitecture(ECSA) .Springer,51–66. https://doi.org/10.
1007/978-3-319-65831-5_4
[14]Lex Donaldson. 2001. The Contingency Theory of Organizations . Sage.https:
//doi.org/10.4135/9781452229249
[15]Geanderson E dos Santosand EduardoFigueiredo.2020. Commit Classiﬁcation
usingNaturalLanguageProcessing:ExperimentsoverLabeledDatasets..In CIbSE.
110–123.
[16]Matthieu Foucault, Marc Palyart, Xavier Blanc, Gail C. Murphy, and Jean-Rémy
Falleri.2015. ImpactofDeveloperTurnoveronQualityinOpen-SourceSoftware.
InProceedingsofthe201510thJointMeetingonFoundationsofSoftwareEngineering
(ESEC/FSE) . 829–841. https://doi.org/10.1145/2786805.2786870
[17]Santiago Gala-Pérez, Gregorio Robles, JesúsM González-Barahona, and Israel
Herraiz.2013. IntensiveMetricsfortheStudyoftheEvolutionofOpenSource
Projects:CasestudiesfromApacheSoftwareFoundationprojects.In 201310th
WorkingConferenceonMining Software Repositories(MSR) .IEEE, 159–168. https:
//doi.org/10.1109/MSR.2013.6624023
[18]Amir Hossein Ghapanchi. 2015. Predicting software future sustainability: A
longitudinal perspective. Information Systems 49 (2015), 40–51. https://doi.org/
10.1016/j.is.2014.10.005
[19]Javier Luis Cánovas Izquierdo, Valerio Cosentino, and Jordi Cabot. 2017. An
Empirical Study on the Maturity of the Eclipse Modeling Ecosystem. In 2017
ACM/IEEE 20th International Conference on Model Driven Engineering Languages
andSystems(MODELS) .IEEE,292–302. https://doi.org/10.1109/MODELS.2017.19
[20]YueJiang,BojanCukic,TimMenzies,andNickBartlow.2008. ComparingDesign
and Code Metrics for Software Quality Prediction. In Proceedings of the 4th
InternationalWorkshoponPredictorModelsinSoftwareEngineering(PROMISE) .
11–18.https://doi.org/10.1145/1370788.1370793
[21]Mitchell Joblin and Sven Apel. 2021. How Do Successful and Failed Projects
Diﬀer? A Socio-Technical Analysis. ACM Trans. Softw. Eng. Methodol. 31, 4,
Article67(2021), 24pages. https://doi.org/10.1145/3504003
[22]Cory J Kapser and Michael W Godfrey. 2008. “Cloning considered harmful” con-
sidered harmful: patterns of cloning in software. Empirical Software Engineering
13,6 (2008), 645–692. https://doi.org/10.1007/s10664-008-9076-6
[23]Daniel Lüdecke. 2021. sjPlot: Data Visualization for Statistics in Social Science .
https://CRAN.R-project.org/package=sjPlot R package version 2.8.10.
[24]Daniel Lüdecke, Mattan S. Ben-Shachar, Indrajeet Patil, Philip Waggoner, and
Dominique Makowski. 2021. performance: An R Package for Assessment, Com-
parisonandTestingofStatisticalModels. JournalofOpenSourceSoftware 6,60
(2021), 3139. https://doi.org/10.21105/joss.03139
[25]Sang-Yong Tom Lee, Hee-Woong Kim, and Sumeet Gupta. 2009. Measuring open
source softwaresuccess. Omega37,2 (2009), 426–438. https://doi.org/10.1016/j.
omega.2007.05.005
[26]Aversano Lerina and Laura Nardi. 2019. Investigating on the Impact of Software
ClonesonTechnicalDebt.In 2019IEEE/ACMInternationalConferenceonTechnical
Debt (TechDebt) . IEEE,108–112. https://doi.org/10.1109/TechDebt.2019.00029
[27]Tony Liu,Lyle Ungar, and KonradKording. 2021. Quantifying causality in data
sciencewithquasi-experiments. NatureComputationalScience 1,1(2021),24–32.
[28]Log4j Project. 2022. https://logging.apache.org/log4j/2.x/ . Accessed: 2022-03-10.
[29]RaduMarinescu.2004. DetectionStrategies:Metrics-BasedRulesforDetecting
DesignFlaws.In Proceedingsofthe20thIEEEInternationalConferenceonSoftware
Maintenance (ICSM) . IEEE, 350–359. https://doi.org/10.1109/ICSM.2004.1357820
[30]RobertCMartin.2009. Cleancode:ahandbookofagilesoftwarecraftsmanship .
Pearson Education.
[31]VishalMidhaandPrashantPalvia.2012. FactorsaﬀectingthesuccessofOpen
SourceSoftware. JournalofSystemsandSoftware 85,4(2012),895–905. https:
//doi.org/10.1016/j.jss.2011.11.010
[32]NaouelMoha,Yann-GaëlGuéhéneuc,LaurenceDuchien,andAnne-Francoise
LeMeur.2009. DECOR:AMethodfortheSpeciﬁcationandDetectionofCode
andDesignSmells. IEEETransactionsonSoftwareEngineering 36,1(2009),20–36.
https://doi.org/10.1109/TSE.2009.50
[33]Nachiappan Nagappan, Brendan Murphy, and Victor Basili. 2008. The Inﬂuence
ofOrganizational StructureonSoftwareQuality:AnEmpirical CaseStudy.In
ACM/IEEE 30th International Conference on Software Engineering (ICSE) . IEEE,
521–530. https://doi.org/10.1145/1368088.1368160
[34]ShinichiNakagawaandHolgerSchielzeth.2013. Ageneralandsimplemethodfor
obtainingR2from generalizedlinearmixed-eﬀectsmodels. MethodsinEcology
and Evolution 4,2 (2013), 133–142.
505ESEC/FSE ’22, November14–18, 2022,Singapore, Singapore S ,tefanStănciulescu,Likang Yin, andVladimirFilkov
[35]Thomas J. Ostrand, Elaine J. Weyuker, and Robert M. Bell. 2004. Where the
BugsAre. ACMSIGSOFTSoftwareEngineeringNotes 29,4(2004),86–96. https:
//doi.org/10.1145/1013886.1007524
[36]FoyzurRahmanandPremkumarDevanbu.2013. How,andWhy,ProcessMetrics
Are Better. In 2013 35th International Conference on Software Engineering (ICSE) .
IEEE,432–441.
[37]CobraRahmaniandDeepakKhazanchi.2010. AStudyonDefectDensityofOpen
SourceSoftware.In 2010IEEE/ACIS9thInternationalConferenceonComputerand
InformationScience . IEEE,679–683. https://doi.org/10.1109/ICIS.2010.11
[38]Robert W Ruekert, Orville C Walker Jr, and Kenneth J Roering. 1985. The
organization of marketing activities: a contingency theory of structure and
performance. Journal ofmarketing 49,1 (1985), 13–25.
[39]Alexander Sachs. 2019. Predicting Repository Upkeep with Textual Personality
Analysis. Master’s thesis. Universityof Waterloo.
[40]Charles M Schweik. 2013. Sustainability in open source software commons:
Lessons learned from an empirical study of sourceforge projects. Technology
Innovation ManagementReview 3,1 (2013).
[41]Raed Shatnawi and Wei Li. 2008. The eﬀectiveness of software metrics in identi-
fyingerror-proneclassesin post-releasesoftwareevolution process. Journalof
systems and software 81, 11 (2008), 1868–1882. https://doi.org/10.1016/j.jss.2007.
12.794
[42]Yonghee Shin, Andrew Meneely, Laurie Williams, and Jason A Osborne. 2010.
EvaluatingComplexity,CodeChurn,andDeveloperActivityMetricsasIndicators
ofSoftwareVulnerabilities. IEEETransactionsonSoftwareEngineering 37,6(2010),
772–787. https://doi.org/10.1109/TSE.2010.81
[43]ChandrasekarSubramaniam,RaviSen,andMatthewLNelson.2009. Determi-
nants of open source software project success: A longitudinal study. Decision
Support Systems 46,2 (2009), 576–585. https://doi.org/10.1016/j.dss.2008.10.005
[44]TheMITRECorporation.2022. CVE-2021-44228. https://cve.mitre.org/cgi-bin/
cvename.cgi?name=CVE-2021-44228 . Accessed:2022-03-10.
[45]EdithTom,AybükeAurum,andRichardVidgen.2013.Anexplorationoftechnical
debt.Journal of Systems and Software 86, 6 (2013), 1498–1516. https://doi.org/10.
1016/j.jss.2012.12.052[46]Andrew H Van de Ven and Robert Drazin. 1984. The concept of ﬁt in contingency
theory.TechnicalReport.MinnesotaUnivMinneapolisStrategicManagement
ResearchCenter.
[47]BogdanVasilescu,KellyBlincoe,QiXuan,CaseyCasalnuovo,DanielaDamian,
Premkumar Devanbu, and Vladimir Filkov. 2016. The Sky Is Not the Limit:
Multitasking Across GitHub Projects. In Proceedings of the 38th International
Conference on Software Engineering (ICSE) . 994–1005. https://doi.org/10.1145/
2884781.2884875
[48]Carmine Vassallo, Fabio Palomba, Alberto Bacchelli, and Harald C. Gall. 2018.
Continuouscodequality:arewe(really)doingthat?.In Proceedingsofthe33rd
ACM/IEEE International Conference on Automated Software Engineering (ASE) .
790–795. https://doi.org/10.1145/3238147.3240729
[49]JingWu,Khim-YongGoh,andQianTang.2007. InvestigatingSuccessofOpen
SourceSoftwareProjects:ASocialNetworkPerspective. ICIS2007Proceedings
(2007), 105.
[50] TianpeiXia,WeiFu,RuiShu,andTimMenzies.2020. Predictingprojecthealth
for open sourceprojects(using the DECART hyperparameteroptimizer). arXiv
preprint arXiv:2006.07240 (2020).
[51] Likang Yin, Mahasweta Chakraborty, CharlesSchweik, Seth Frey, and Vladimir
Filkov. 2022. Open Source Software Sustainability: Combining Institutional
Analysis andSocio-Technical Networks. AcceptedatCSCW 2022, arXivpreprint
arXiv:2203.03144 (2022).https://arxiv.org/pdf/2203.03144.pdf
[52]Likang Yin, Zhuangzhi Chen, Qi Xuan, and Vladimir Filkov. 2021. Sustainability
Forecastingfor ApacheIncubatorProjects.In Proceedings ofthe29th ACM Joint
Meeting on European Software Engineering Conference and Symposium on the
FoundationsofSoftwareEngineering(ESEC/FSE) .1056–1067. https://doi.org/10.
1145/3468264.3468563
[53]Yang Zhang, Bogdan Vasilescu, Huaimin Wang, and Vladimir Filkov. 2018. One
Size Does Not Fit All: An Empirical Study of Containerized Continuous Deploy-
ment Workﬂows. In Proceedings of the 2018 26th ACM Joint Meeting on European
SoftwareEngineeringConferenceandSymposiumontheFoundationsofSoftware
Engineering (ESEC/FSE) . 295–306. https://doi.org/10.1145/3236024.3236033
506