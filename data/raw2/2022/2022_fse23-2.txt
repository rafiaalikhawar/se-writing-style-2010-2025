Compatibility Issues in Deep LearningSystems:Problems and
Opportunities
Jun Wang
junwang@nuaa.edu.cn
Nanjing Universityof Aeronautics
and Astronautics,ChinaGuanping Xiao∗
gpxiao@nuaa.edu.cn
Nanjing Universityof Aeronautics
and Astronautics,ChinaShuai Zhang
shuaizhang@nuaa.edu.cn
Nanjing Universityof Aeronautics
and Astronautics,China
Huashan Lei
leihuashan@nuaa.edu.cn
Nanjing Universityof Aeronautics
and Astronautics,ChinaYepangLiu†
liuyp1@sustech.edu.cn
SouthernUniversityof Scienceand
Technology, ChinaYuleiSui
y.sui@unsw.edu.au
Universityof New SouthWales,
Australia
ABSTRACT
Deep learning (DL) systems are complex component-based sys-
tems, which consist of core program (code implementation and
data), Python (language and interpreter), third-party libraries, low-
level libraries, development tools, OS, and hardware environments.
Incompatibleinteractionbetweencomponentswouldcauseserious
compatibilityissues,substantiallyaﬀectingthedevelopmentand
deployment processes.Whattypes ofcompatibility issuesare fre-
quentlyexposed inDL systems? Whatare theroot causesofsuch
issues and how do developers /f_ix them? How far are we from auto-
maticallydetectingand/f_ixingDLcompatibilityissues?Although
therearemanyexistingstudiesonDLbugs,thecharacteristicsof
DL compatibility issues have rarely been systematically studied
and the above questions remain largely unexplored. To /f_ill this gap,
weconductthe/f_irstcomprehensiveempiricalstudytocharacterize
compatibilityissuesinDLsystems.Throughanalyzing352DLcom-
patibilityissuesclassi/f_iedfrom3,072postsonStackOver/f_low,we
presenttheirtypes,manifestationstages,andsymptoms.Wefur-
ther summarize the root causes and common /f_ixing strategies, and
conduct a tool survey on the current research status of automated
detectionandrepairofDLcompatibilityissues.Ourstudyallows
researchers and practitioners to gain a better understanding of DL
compatibilityissuesandcan facilitate future tooldevelopment.
CCS CONCEPTS
•Software and its engineering →Software defect analysis ;
Softwarelibrariesandrepositories ;•Generalandreference
→Empirical studies .
∗GuanpingXiao is the corresponding author.
†YepangLiuisaﬃliatedwiththeDepartmentofComputerScienceandEngineering
and the ResearchInstituteof TrustworthyAutonomous Systemsat SUSTech.
Permissionto make digitalor hard copies of allorpart ofthis work for personalor
classroom use is granted without fee provided that copies are not made or distributed
forpro/f_itorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthe/f_irstpage.Copyrights forcomponentsofthisworkownedbyothersthanthe
author(s)mustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,or
republish,topostonserversortoredistributetolists,requirespriorspeci/f_icpermission
and/or a fee. Request permissions from permissions@acm.org.
ESEC/FSE ’23, December 3–9, 2023, San Francisco, CA,USA
©2023 Copyright heldby the owner/author(s). Publicationrightslicensed to ACM.
ACM ISBN 979-8-4007-0327-0/23/12...$15.00
https://doi.org/10.1145/3611643.3616321KEYWORDS
deeplearning,compatibilityissues,empirical study
ACMReference Format:
JunWang,GuanpingXiao,ShuaiZhang,HuashanLei,YepangLiu,andYulei
Sui. 2023. Compatibility Issues in Deep Learning Systems: Problems and
Opportunities. In Proceedings of the 31st ACM Joint European Software Engi-
neering Conference and Symposium on the Foundations of Software Engineer-
ing (ESEC/FSE ’23), December 3–9, 2023, San Francisco, CA, USA. ACM, New
York, NY, USA, 13pages.https://doi.org/10.1145/3611643.3616321
System libraries CUDA/cuDNN
macOS Linux
GPU CPU TPUPycharm GCC Bazel
Windows
HardwareOSDevelopment ToolLow-level LibraryThird-party LibraryCore Program
Python
from keras.layers import Dense
from keras.models import Sequential
import tensorflow as tf
import numpy as np Code Data
Caffe theano
Figure 1:Components ofDLSystems
1 INTRODUCTION
Withthecontinuousevolutionofdeeplearning(DL)technology,
numerousDL-relatedsoftwaresystemshavebeenubiquitouslypro-
duced and deployed, such as medical imaging [ 62], autonomous
driving cars [ 83], and various software engineering tasks [ 47,98,
112,118,132].Like traditional software [ 66,82,101,116], develop-
inganddeployingDLsystemsalsofacediﬀerenttypesofcompatibil-
ityissues,whichtendtotriggerunexpectedproblems,signi/f_icantly
obstructing the developmentanddeploymentprocesses.
As shown in Figure 1, DL systems are composed of several com-
plexandinterdependentcomponents,includingcoreprogram(code
implementationanddata),programminglanguage(mainlyreferred
to Python and its interpreter), third-party libraries (e.g., Tensor-
Flow,PyTorch,Numpy,andPandas),low-levellibraries(e.g.,CUDA,
cuDNN,drivers,andmanysystemlibraries),developmenttools(e.g.,
GCC, Bazel, and PyCharm), operating systems (OS, e.g., Windows,
Linux,andmacOS),andhardwareenvironments(e.g.,CPU,GPU,
and TPU). To satisfy the requirements of diﬀerent software and
476ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
DL Compatibility Issues
(352)
CORE-TPL 
(115, 32.7%)TPL-TPL
(88, 25.0%)TPL-LLL 
(59, 16.8%)TPL-Python
 (33, 9.4%)
CORE: Core Program,  TPL: Third-party Library,  LLL: Low-le vel Library,  DEV: Development Tool,  OS: Operating SystemTPL-DEV 
(10, 2.8% )TPL-OS 
(12, 3.4%)TPL-Hardware 
(22, 6.2%)LLL-Hardware
(5, 1.4% )Others 
(8, 2.3%)
Figure 2:TypesofCompatibility Issues inDLSystems
hardware environments, considering their frequently evolving ver-
sions,suchcomponentsarespeci/f_icandoftenincompatiblewith
each other. Thus, compatible component-to-component interac-
tions must be speci/f_ied inaccordance with certainconstraints to
make DL systemsrun normally.
On the one hand, APIs in third-party libraries are frequently
changing due to /f_ixing bugs, adding new features, and optimizing
codeimplementation[ 43].Thesecodingactivitiesmaybringserious
backward-breaking changes. One typical case is the change related
toAPIusage,which oﬀersaninterfacefordeveloperstodirectly
usea libraryfeatureinbuildingcoreprograms. Usingremovedor
renamedAPIs(e.g.,functiongettingremovedorrenamed)inthe
program willinevitablycause the collapse ofDL systems[ 129].
On the other hand, DL systems can only be built upon spe-
ci/f_icversionsofcomponents.Incompatibleversioncombinations
willcauseunexpectedissuesduringtheinstallationorexecution
of DL systems. For example, according to the oﬃcial installation
guide[102],thelow-levellibraryforperformingGPUcomputingof
TensorFlow-GPU 1.2 should be CUDA 8. If users choose CUDA 7.5,
noerrormessagewill appear intheTensorFlow installationstage.
However,thesystemwillthrowan ImportError duringexecution,
since the corresponding runtime CUDA /f_ile cannot be found, as
reported in a Stack Over/f_low (SO) post [ 10]. In addition, due to
API-breaking changes that occurred in the evolution of libraries,
the interaction between third-party libraries should also rely on
speci/f_ic combinationsofversions[ 124].
AlthoughcompatibilityissuesarecommonlyobservedinDLsys-
tems,theseissuesareoftenchallengingtolocateand/f_ix,especially
fortheonewhoisunfamiliarwiththeinteractionbetweendiﬀerent
components.Inparticular,whenthesystemthrowsanexceptionat
runtime,itisdiﬃcultforuserstodeterminewhethertherootcause
isinducedbytheincompatibilitybetweensoftwareandhardware
environments, the version mismatch between third-party libraries,
or the breaking-changed API of third-party libraries used in the
core program.
For example, another SO post reported that a developer tried
toperformtheobjectdetection/f_inetuningtutorialfromPyTorch
on a Linux laptop with a Nvidia GPU, but kept getting the TypeEr-
ror[27],i.e.,objectoftype<class‘numpy./f_loat64’>cannotbesafely
interpreted as an integer . Strangely, the error did not happen on his
home computer with the same OS and GPU environment a day
before.Hespentabout15hoursinvestigatingtherootcauseand
/f_inally realized that in a recent release (i.e., Numpy 1.18.0), the num
parameterin numpy.linspace() nolongeracceptsthe/f_loattype.
Hence,anyonewhouses pycocotools APIwithNumpy1.18.0will
encounterthesameerror.SimplydowngradingtheNumpyversion
to 1.17.4 solves this issue.Therefore,itispracticallyvaluabletostudythecharacteristics
of DL compatibility issues. Since DL systems have become more
andmorepopularandimportantnowadays,therearemanystud-
iesrelatedtodiﬀerentcomprehensivetaxonomiesofDLbugs[ 38,
39,45,46,67,68,70,122,125,127]. However, none of these studies
speci/f_icallyfocusontheanalysisofDLcompatibilityissues.Besides,
existingeﬀortshaveprimarilyconcentratedonanalyzingtheAPI
evolutionofPythonlibraries[ 44,91,128,129]andresolvingdepen-
dencycon/f_lictsinPythonprograms[ 42,64,84,111].Forexample,
Zhanget al.[129] analyzed the evolution patterns of six Python
frameworkAPIs(i.e.,TensorFlow,Keras,Scikit-learn,Pandas,Flask,
and Django) and compatibility issues caused by breaking-changed
APIs.Yeetal.[124]proposedatoolcalledPyEGothataimstoauto-
matically infer compatible versions of Python, third-party libraries,
and system libraries. However, these studies focus on a speci/f_ic
aspect of DL compatibility issues, but lack a comprehensive under-
standing of the prevalent types, symptoms, root causes, and /f_ixing
solutions ofcompatibilityissuesinDL systems.
To bridge this knowledge gap, in this paper, we conduct system-
aticstudyoncompatibilityissuesinDLsystems.First,wecollect
3,072 posts from the oﬃcial SO data dump using /f_ive tags (i.e., ten-
sor/f_low,keras,pytorch, caﬀe,and theano)related to the /f_ive most
discussedDLlibrariesonSOand12keywords(i.e.,compatibility,
version, evolution, exception, typeerror,attributeerror,importer-
ror, modulenotfounderror, runtimeerror, compatible, cuda, cudnn).
Then, we perform manual classi/f_ication on these posts to iden-
tifyDL compatibility issues (i.e., 352) and further investigate their
characteristics. Last, we conduct a tool survey to study the current
state of relevant research on automated detection and repair of DL
compatibility issues. Our work mainly focuses on answering the
following three researchquestions(RQs).
•RQ1.What types of compatibility issues are frequently exposed
inDL systems?
•RQ2.What are the root causes of DL compatibility issues and
howdo developers /f_ixthem?
•RQ3.How far are we from automatically detecting and /f_ixing
DL compatibilityissues?
In this paper,we make the following contributions:
•De/f_inition. Alistofcomponents(includingcoreprogram,Python,
third-party library, low-level library, development tool, OS, and
hardware) in DL systems, and the de/f_inition of DL compatibility
issues(Section 2).
•Empirical Study. We conduct the /f_irst empirical study of DL
compatibilityissuesbyanalyzing352issuesclassi/f_iedfrom3,072
SO posts (Sections 3and4).
•ToolSurvey. Wesurvey15toolsrelevanttodetectingand/f_ixing
DLcompatibilityissuesselectedfromthemostrecenteditions(18-
22)ofthetopSEconferences,i.e.,ICSE,FSE,andASE(Section 5).
477CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
•ImplicationsandSuggestions. Wecomparecompatibilityis-
sues in DL systems with those in traditional software systems
and provide implications and suggestions for researchers and
practitioners basedonour empirical /f_indings(Section 6).
•Datasets. Wereleasethereplicationdatasetwithadetailedin-
struction document ofDL compatibilityissues(Section 10).
2 DL COMPATIBILITYISSUES
DLSystem: Inthisstudy,wede/f_inea DLsystem asthecomposi-
tion of seven interdependent components,including coreprogram ,
Python,third-partylibrary ,low-levellibrary ,developmenttool ,OS,
andhardware , as depicted in Figure 1. Each component is brie/f_ly
describedas follows:
(1)Core Program (CORE): The core program (CORE) consists
of code implementation and data. Code implementation mainly
includes data processing, model de/f_inition, hyper-parameter set-
tings,andtheoptimizationtrainingprocess[ 88].Datastandsfor
the datasets usedinmodeldevelopmentanddeployment.
(2)Python:Python,theprogramminglanguageanditsinterpreter
environment, provides the syntax and runtime environment to
implement and execute the core program. For example, the core
program can be written in Python 2 or Python 3. In this study,
we consider Pythonasthemajor programming languageusedfor
implementingDL systems.
(3)Third-partyLibrary (TPL): TPLsprovideprede/f_inedfunctions
through APIs, which are used by developers to implement corre-
spondingfeaturesinthecoreprogramaswellasotherTPLs.For
example,DLframeworks(e.g.,TensorFlowandPyTorch)provide
the featuresto buildandoptimizeDL models.NumpyandPandas
oﬀer severaldataprocessingfunctions. Using APIsfromTPLscan
simplifyandaccelerate software development[ 109].
(4)Low-level Library (LLL): LLLs provide APIs to access hard-
ware andsystem resources, which are fundamental parts required
by several TPLs. For example, the GPU computing operations of
TensorFlow are performed through CUDA/cuDNN libraries [ 88].
Besides, system libraries (e.g., Glibc and Glibcxx) provide standard
C/C++ APIs and OS-speci/f_ic APIs for TPLs, since the low-level
implementationofmanyTPLs waswritten inC/C++ [ 124].
(5)Development Tool (DEV): DEVs are the tools used in develop-
mentanddeploymentprocesses,usuallyrelatedtobuilding/compiling,
executingactivities,etc.Forexample,Bazelistheoﬃcialtoolfor
buildingTensorFlowfrom source[ 36].
(6)Operating System (OS): OS provides the software computing
environment.CommonOSsinDLsystemsincludeWindows,Linux,
andmacOS.
(7)Hardware: Hardware provides the hardware computing envi-
ronment for DL systems [ 119]. Typical computing devices include
CPU,GPU,andTPU.
DLCompatibilityIssue: Basedontheabovede/f_inition,wede/f_ine
the DL compatibility issue as the incompatible interaction problem
between componentsinthe DL system.
3 METHODOLOGY
3.1 Data Collection
3.1.1 Stack Overflow Data. To study compatibility issues in DL
systems, we have collected data from Stack Over/f_low (SO), oneof the most popular question-answering sites concentrating on
programming-relatedquestions[ 121].PostsonSOarefrequently
updated.Thismaybringpotentialthreatstothereliabilityofour
/f_indings.Thus,weusedtheoﬃcialstackexchangedatadumpre-
leased at archive.org [33], which provides each separate part of the
whole SO website, including Posts,Users,Votes,Comments ,PostHis-
tory,PostLinks ,Tags,andPostLinks .
ThelatestSOdumpdatawaspublishedonJune6,2022,when
we started this work, and later updated on October 5, 2022. To
guarantee questions re/f_lect the latest issues that DL developers
and users encountered, we used the data released on October 5,
2022.Inourstudy,wedownloaded stackover/f_low.com-Posts.7z and
stackover/f_low.com-Tags.7z , which contain Posts.xml andTags.xml
respectively,as the raw data.
3.1.2 Data Collection Process. There are 23,020,127 question posts
in the collected SO dump data, spanning from July 2008 to October
2022.We de/f_inedthe following/f_ive rules as the criteria to sample a
small setas our classi/f_ication data:
Rule 1.The post is a question post. The /f_ield PostTypeId in
Posts.xml represents the type of a post: 1 for a question post and 2
for an answer post [ 121].
Rule 2.The post is still open for discussion. Some posts are
labeledasclosedduetoduplication,needingdetailsorclari/f_ication,
oroutoftopic.Thesepostsmaynothavesuﬃcientinformationfor
our analysis. To ensure the reliability of our study, we discarded
such closedposts.
Rule3.Theposthasanacceptedanswerandthescore(computed
by upvotes minus downvotes) of the post is no less than 3. Posts
with accepted answers indicate that the issues have been resolved,
as recognized by the original posters [ 41,67]. To further ensure
the quality and quantity of posts [ 68], we set a minimum score
threshold of3.
Rule4.Thepostcontainsatleastoneofthe/f_ivetags,i.e., tensor-
/f_low,keras,pytorch,caﬀe, andtheano. These /f_ive tags represent the
/f_ive most discussed DL libraries on SO, according to the number of
relatedposts.
Rule5.Thepost’stitleorbodycontainsat leastoneofthe12
keywords, i.e., compatibility ,version,evolution,exception,typeer-
ror,attributeerror ,importerror ,modulenotfounderror ,runtimeerror ,
compatible ,cuda, andcudnn. The /f_irst seven keywords are adopted
from [129], where the authors used them to search for compatibil-
ityissuesinGitHubrelatedtotheAPIevolutionofPythonTPLs.
Based on our domain knowledge in developing and testing DL
projects, we extend the keyword set by adding /f_ive new keywords,
i.e.,modulenotfounderror ,runtimeerror ,compatible ,cuda,cudnn.
Basedonthe above /f_iltering conditions, we developedPython
scriptstoautomaticallyextracttagsandpostsfrom Tags.xml and
Posts.xml /f_iles. Finally, 3,072 posts are collected for further manual
classi/f_ication, as showninTable 11.
3.2 DL Compatibility Issues Classi/f_ication
ToidentifyandcharacterizeDLcompatibilityissues,weperformed
aniterativemanuallabelingprocessbyfollowingthewidely-adopted
1Thesumofthenumberofpostsineachtagexceeds3,072becauseapostcanhave
multiple tags.
478ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
Table 1:Summary ofDatasetinOur Study
Tag TensorFlow KerasPyTorch CaﬀeTheano
#Posts 1,999 982 592 67127
#Comp. Posts 265 117 33 916
DL compatibility 
issue?
SO Posts
Iteration 1 Iteration 2 Iteration 3NoYes
UnknownType :
CORE-TPL
Stage :
Execution
Symptom :
Breaking
Solution :
Version Change 
(TensorFlow+)
Root Cause :
API Incompatibility
Figure 3:Classi/f_ication Process
open coding procedure [ 107], as shown in Figure 3. Two annota-
tors (i.e., co-authors of this paper), who are all familiar with DL
project development, spent /f_ive months on the classi/f_ication. In
eachiteration,athirdauthorparticipatedinthediscussiontosolve
the inconsistencies and /f_inally reached a consensus. To measure
theinter-rateragreementbetweentwoannotators,wecalculated
Cohen’skappacoeﬃcientforeachiteration[ 104].Theiterations
are as follows:
Iteration1. Forthe3,072posts,weanalyzedthreepartsinapost,
i.e.,thequestiondescriptions(includingcodesnippets,exception
information(e.g.,traceback)andtheattachedexternallinks),the
answers in the post, and the comments discussed by users. Two
annotatorsindependentlyinspectedthesesourcesofdataontheSO
website,which hasbetter readabilitythan the Posts.xml. Sincethe
onlinepostmaybefurtherupdated,wecomparedthelastmodi/f_ied
datesbetweentheonlinepostandtheextractedonefrom Posts.xml
to ensure consistency. If the dates are diﬀerent, we ignore the new
information(e.g.,newanswersorcomments)postedonthewebsite
after the last modi/f_ieddaterecordedin Posts.xml.
In this iteration, we /f_irst checked whether a post discusses a
DL compatibility issue, according to the de/f_initions described in
Section2.Speci/f_ically,wefocusedontheinformationrelatedtothe
version change of components, such as TPLs, LLLs, and Python. If
thereisnosuchinformation,wefurthercheckedwhethertheissue
wasinducedbyAPI evolution.
If a post is labeled as Yes, we further described corresponding
counterparts of the issues, i.e., the incompatible problem was in-
duced between which components, the manifestation stage of such
issue,andtheconsequentimpactontheDLsystem.Iftheposter
did not specify the version of the incompatible component, we
can infer the range of versions prior to the post submission time
byexaminingthe releasehistory onGitHubandthe Python-PyPI
repository. It is noted that the library in an issue could be diﬀerent
from the tag attached to the post since the tag is a general label
related to the discussion topic on SO. Besides, we also recorded
the solution posted by the accepted answer and described the root
cause based on our own understanding. If posts do not contain
suﬃcient information to be classi/f_ied as a compatibility issue or
not,welabelthemas Unknown .PostsrelatedtoAPImisuseand
usage query, general questions asking for code implementation to
aspeci/f_icfunction,andenvironmentcon/f_igurationissuesrelatedTable 2:Distribution ofStagesand Types
Type Installation Execution Total
CORE-TPL 0 115 115
TPL-TPL 5 83 88
TPL-LLL 3 56 59
TPL-Python 28 533
TPL-Hardware 1 21 22
TPL-OS 6 612
TPL-DEV 6 410
LLL-Hardware 2 3 5
Others 1 7 8
Total 52 300 352
tomissingrequireddependenciescausedbyforgettingtocon/f_ig-
ure/install necessary components but not due to version mismatch,
are labeledas No.
Wethencross-checkedthelabelingresultsandmainlycompared
theidenti/f_icationofcompatibilityissuesandtheirstageandimpact.
The valueofCohen’skappacoeﬃcient is0.89inthis iteration.
Iteration 2. In the second iteration, we independently relabeled
allpostsbasedonthepreliminaryclassi/f_icationfromthe/f_irstround.
In particular, we focused on the type of DL compatibility issues,
i.e., to determine which two components introduce the issue. To
further understand and identify the type, we created virtual en-
vironments using Conda [ 32], trying to reproduce the reported
issues,accordingtothegivenversionsofPythonandTPLs.Forthe
compatibilityissuesrelatedtoCOREandTPL,weused gitblame
to identify the commit on GitHub that introduced the API changes
andfurtherlabeledtheAPIevolutionpatternbyadoptingthetax-
onomyfrom[ 44].Notethatthereproductionprocesshelpsusto
matchtheincompatiblelibraryversionwiththespeci/f_icbreaking
changes thatwere introduced. For example, the codesnippet runs
normallyinversion V1,butcrashesinthesubsequentversion V2.
Byreproducing,weupdatedthelabelingresultsofDLcompatibility
issues,solutions,androotcauseswithmoredetailedinformation.
Misclassi/f_ied posts in the /f_irst iteration can be further veri/f_ied. The
valueofCohen’skappacoeﬃcient inthis iteration is0.92.
Iteration 3. In the last round, we focused on the labeling of
solutionsandrootcausesofDLcompatibilityissues.Speci/f_ically,
wefurthercheckedwhethertheproposedsolutioniseﬀectiveac-
cording to discussions posted by users and our reproducing results.
Since posts could have several answers, we concentrated on an-
alyzing those, whose submitted time is close to the issue posted
time. Due to the evolving versions of components, new answers
(solutions)areoftennotappropriatefortheoriginalissue,which
waspostedyearsago.We/f_inallysummarizedthesolutionsandroot
causes of the DL compatibility issues. The value of Cohen’s kappa
coeﬃcient is0.95for the last iteration.
After three iterations, we classi/f_ied 352 DL compatibilityissues
from 3,072 SO posts. Table 1depicts the distribution of the 352
issues in the set of SO posts. Note that the sum of the number of
posts isgreater than352,as apost can have more thanone tag.
4 ANALYSISRESULTS
4.1 RQ1: Types,Stages andSymptoms
4.1.1 Types. Basedontheclassi/f_icationprocessdescribedabove,
weclassi/f_ied the352compatibility issuesin DLsystemsinto nine
types, including CORE-TPL ,TPL-TPL,TPL-LLL,TPL-Python ,TPL-
Hardware ,TPL-OS,TPL-DEV,LLL-Hardware , andothers, as shown
inFigure 2.Eachissueislabeledasoneleafcategoryofourclassi/f_i-
cation taxonomy.Below,we willdiscuss eachtype indetail.
479CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
CORE: models.py
...
8     from  keras.layers.core  import  Dense,  Dropout,  Activation,  Merge,  Reshape
...
Traceback  (most  recent  call  last):
  File  "/Users/pengjuzhao/U dacity/MLND/entity ‐embedding ‐rossmann/test_model.py",  line  2, 
in <module>
    from  models  import  NN_with_EntityEmbedding
  File  "/Users/pengjuzhao/U dacity/MLND/entity ‐embedding ‐rossmann/models.py",  line  8, in 
<module>
    from  keras.layers.core  import  Dense,  Dropout,  Activation,  Merge,  Reshape
ImportError:  cannot  import  name  MergeTPL: Keras
Keras  API  version  in CORE:  1.2.2          Installed  Keras  version:  2.0.0 × 
Figure 4:CORE-TPL (backward-incompatible):#42823627
CORE: mnist_test.py
...
17      y = tf.matmul(h,  w2)  + b2
18
19      cross_entropy  = tf.nn.sigmoid_cross_entrop y_with_logits(labels=y_,  logits=y)
20      train_step  = tf.train.AdamOptimizer().minimize(cross_entropy)
...
Traceback  (most  recent  call  last):
    File  "mnist_test.py",  line  19,  in <module>
        cross_entropy  = tf.nn.sigmoid_cross_entropy_with_logits(labels=y_,  logits=y)
TypeError:  sigmoid_cross_entropy_with_logits()  got  an  unexpected  keyword  argument  'labels'TPL: TensorFlow
TF  API  version  in CORE:  1.0.0          Installed  TF  version:  0.12 × 
Figure 5:CORE-TPL (forward-incompatible):#42675391
(1)Core Program and Third-party Library (CORE-TPL): This is
the most common type (115/32.7%) of DL compatibility issues. De-
velopers usually use APIs from a speci/f_ic version of TPLs to imple-
ment the core program. If the installed version is diﬀerent from
the used one, compatibility issues are likely to occur, due to API
evolution [ 129]. According to a newer or older installed version
than the used one, CORE-TPL issues can be further classi/f_ied as
backward-incompatible (69) andforward-incompatible (46).
For example, Figure 4shows a backward-incompatible issue [ 8].
Theerroroccurredwhenimportingclass Mergefromkeras.layers.core .
This is because class Mergehas been moved to another module
since version 2.0 [ 50]. The same import statement can be executed
under version 1.2.2. On the contrary, Figure 5shows a forward-
incompatibleissue[ 7],inwhichanerrorappearedwhencallingTen-
sorFlowAPI tf.nn.sigmoid_cross_entropy_with_logits() with
parameter labelsinthecoreprogram.Theparameter labelswas
added in TensorFlow 1.0.0 [ 49], while the developer installed an
older version (e.g., 0.12). In addition, we found that the top /f_ive
TPLs ofCORE-TPL issues are TensorFlow (63), Keras (34), PyTorch
(6), Theano (3), andTorchText(2).
Finding1: CORE-TPL (32.7%)isthemostfrequenttypeofDL
compatibility issues. 60.0% of CORE-TPL issues are backward-
incompatible issues, and the remaining 40.0% are forward-
incompatible issues. Most (84.3%) of CORE-TPL issues are
relatedto TensorFlow(54.8%) andKeras (29.5%).
(2)Third-party Library and Third-party Library (TPL-TPL): is the
second most frequent type (88/25.0%). Developing Python TPLs
also relies on several other TPLs. The triggering factor of TPL-TPL
mainlylies in theinstallation of TPLs withincompatible versions.
Since TPLs are frequently evolving [ 91], it is often diﬃcult for
userstochoosecompatibleversions,especiallywhentheconstraint
condition(e.g., requirements .txt)isnotprovided[ 124].Wefound
the top four related TPLs of TPL-TPLissues are TensorFlow (67),
Keras (42), Numpy (9), and Theano (5). In particular, TensorFlow-
Kerasintroducesthemostissues(37),astheyhaveastrongversion
constraintandalarge userpopulation.
Kerasprovidesuser-friendlyAPIforbuildingneuralnetworks
andsupportsmultibackends[ 68],e.g.,TensorFlowandTheano.For
example,Figure 6showsacompatibilityissueinducedbyincom-
patible versions of Keras and TensorFlow. The exception occurred
insideKeraswheninvokingTensorFlowAPI tf.nn.leaky_relu()Traceback  (most  recent  call  last):
    File  "main.py",  line  176,  in <module>
        dcgan  = DCGAN()
    File  "main.py",  line  25,  in __init__
        self.discriminator  = self.build_discriminator()
    File  "main.py",  line  84,  in build_discriminator
        model.add(LeakyReLU(alpha=0.2))
    File  "/opt/libraries/anacond a2/lib/python2.7/site ‐packages/keras/models.py",  line  492,  in 
add
        output_tensor  = layer(self.outputs[0])
    File  "/opt/libraries/anacond a2/lib/python2.7/site ‐packages/keras/engine/topology.py",  line  
617,  in __call__
        output  = self.call(inputs,  **kwargs)
    File  "/opt/libraries/anacond a2/lib/python2.7/site ‐packages/keras/layers/
advanced_activations.py",  line  46,  in call
        return  K.relu(inputs,  alpha=self.alpha)
    File  "/opt/libraries/anacond a2/lib/python2.7/site ‐packages/keras/backend/
tensorflow_backend.py",  line  2918,  in relu
    x = tf.nn.leaky_relu(x,  alpha)
AttributeError:  'module'  object  has  no  attribute  'leaky_relu'TPL: Keras
TPL: TensorFlow
Installed  Keras  version:  2.1.3          Installed  TF  version:  1.2.1 × 
Figure 6:TPL-TPL: #48929098
Testing.py
1     from  keras.models  import  Sequential
2     from  keras.layers  import  Dense,  Dropout,  Flatten
3     from  keras.layers  import  Conv2D,  MaxPooling2D
4     from  tensorflow.python.keras.callbacks  import  TensorBoard
…
82      model.fit(x_train,  y_train,  batch_size=50,  epochs  = 3, callbacks=  [tensorboard])
Traceback  (most  recent  call  last):
    File  "c:/.../RPS  project/Testing.py",  line  82,  in <module>
        model.fit(x_train,  y_train,  batch_size=50,  epochs  = 3, callbacks=  [tensorboard])
    File  "C:\...\Python37\lib\site ‐packages\keras\engine\training.py",  line  1178,  in fit
        validation_freq=validation_freq)
    File  "C:\...\Python37\lib\site ‐packages\keras\engine\training_arrays.py",  line  125,  in fit_loop
        callbacks.set_model(callback_model)
    File  "C:\...\Python37\lib\site ‐packages\keras\callbacks.py",  line  68,  in set_model
        callback.set_model(model)
    File  "C:\...\Python37\lib\site ‐packages\tensorflow\pyth on\keras\callbacks.py",  line  1509,  in 
set_model
        if not  model.run_eagerly:
AttributeError:  'Sequential'  object  has  no  attribute  'run_eagerly'TPL: TensorFlowTPL: Keras
Keras.models.Sequential         tf.keras.callbacks.TensorBoard×  
Figure 7:TPL-TPL: #57718512
intheimplementationoflayer LeakyReLU [12].Thedeveloperin-
stalled TensorFlow 1.2.1 and Keras 2.1.3. However, the function
leaky_relu was added in TensorFlow 1.4 [ 51], resulting the At-
tributeError .Besides,themixeduseofAPIsfromKerasandtf.keras
(i.e.,theintegratedKerasAPIsinTensorFlow)couldalsobringcom-
patibilityissues[ 24],asshowninFigure 7.Kerasandtf.kerasare
notcompatible,astheimplementationoftf.kerasisnotidenticalto
the standalone Keras [ 22,23,28].
Finding 2: TPL-TPL(25.0%) is the second most common type
of DL compatibility issues. 76.1% of TPL-TPL issues are in-
ducedbetweenTensorFlowandotherTPLs,ofwhichKeras
accounts for 55.2%.
(3)Third-party Library and Low-level Library (TPL-LLL): 59 is-
suesare causedbyincompatible versions betweenTPLs and LLLs,
accounting for 16.8%. Among them, 41 issues are related to TPL-
CUDA/cuDNN. In particular, TensorFlow andCUDA, TensorFlow
andcuDNNintroduce25and15issues,respectively.Oneissueis
related to both. Unlike PyTorch which integrates CUDA/cuDNN
librariesinitsinstallationwheel[ 29],usingGPUforaccelerating
DL model training by TensorFlow requires users to install and con-
/f_igurerespectivecompatibleCUDA/cuDNNversionsaccordingto
theTensorFlowversions[ 102].Forexample,Figures 8and9illus-
trate two typical compatibility issues related to TensorFlow and
CUDA/cuDNN.Duringruntime,TensorFlowthrowsan ImportEr-
rorsincelibcudart .so.7.0can not be found [ 3]. This implies
that TensorFlow requires CUDA 7 to perform GPU computing, but
the installed CUDA version is 5.5. Besides, the cuDNN issue de-
picted in Figure 9describes that the version of cuDNN library that
TensorFlowcompiledagainst(i.e.,5.1.3)isincompatiblewiththe
con/f_iguredcuDNN library (i.e.,5.0.5)at runtime[ 5].
Finding3: TPL-LLL(16.8%)isthethirdmostfrequenttypeof
DLcompatibilityissues.69.5%ofLLLsareCUDAandcuDNN,
while the remaining 30.5% are related to Nvidia GPU drivers
andsystemlibraries (e.g.,glibc, libstdc++, andboost).
480ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
/etc/profile
...
     LD_LIBRARY_PATH=/usr/local/cuda ‐5.5/lib:/usr/local/cuda ‐5.5/lib64
...
Traceback  (most  recent  call  last):
    File  "multiply.py",  line  2, in <module>
        import  tensorflow  as  tf
     File  "/home/luohao/.usr/bin/pytho n2.7.10/lib/python2.7/site ‐packages/tensorflow/
__init__.py",  line  4, in <module>
         from  tensorflow.python  import  *
…
     File  "/home/luohao/.usr/bin/pytho n2.7.10/lib/python2.7/site ‐packages/tensorflow/python/
pywrap_tensorflow.py",  line  24,  in swig_import_helper
        _mod  = imp.load_module('_pywrap_tensorflow',  fp,  pathname,  description)
ImportError:  libcudart.so.7.0:  cannot  open  shared  object  file:  No  such  file  or  directoryLLL: CUDA ‐5.5
TPL: TensorFlow
TF  requires  CUDA  version:  7.0          Installed  CUDA  version:  5.5 × 
Figure 8:TPL-LLL: #33671372
I tensorflow/core/common_runtim e/gpu/gpu_device.cc:838] Creating TensorFlow device (/
gpu:0) -> (device: 0, name: Tesla K20m, pci bus id: 0000:02:00.0)
E tensorflow/stream_executor/c uda/cuda_dnn.cc:347] Loaded runtime CuDNN library: 5005 
(compatibility version 5000) but source was compil ed with 5103 (compatibility version 5100).  
If using a binary install, upgrade your CuDNN libra ry to match.  If building from sources, make 
sure the library loaded at runtime matches a compatible version spec ified during compile 
configuration.
F tensorflow/core/kernels/conv_ops.cc: 457] Check failed: stream->parent()-
>GetConvolveAlgorithms(&algorithms)LLL: CuDNN-5005 TPL: TensorFlow
TF requires cuDNN version: 5.1.3         Installed cuDNN version: 5.0.5× 
Figure 9:TPL-LLL: #41005249
pip3  install  torch==1.3.1+cpu  torchvision==0.4.2+cpu  ‐f https://download.pytorch.org/whl/
torch_stable.html
Could  not  find  a version  that  satisfies  the  requirement  torch==1.3.1+cpu  (from  versions:  0.1.2,  
0.1.2.post1,  0.1.2.post2)  ERROR:  No  matching  distribution  found  for  torch==1.3.1.+cpuPython: 3.8
TPL: PyTorch
PyTorch  version:  1.3.1          Python  version:  3.8 × 
Figure 10:TPL-Python: #58901682
I tensorflow/core/common_runtime/gpu/gpu_ device.cc:611] Ignoring gpu device 
(device: 0, name: GRID K520, pci bus id: 0000:00:03.0) with Cuda compute 
capability 3.0. The minimum required Cuda capability is 3.5. Hardware : GPUTPL: TensorFlow
TF requires CC>=3.5         GPU (GRID K520) with 3.0 CC × 
Figure 11:TPL-Hardware:#33651810
(4)Third-partyLibraryandPython(TPL-Python): Thereare33DL
compatibility issues caused by incompatibility between TPL and
Python,accountingfor9.4%.Forexample,Figure 10showsthatthe
developer trying to use pipto install PyTorch [ 25]. However, there
are no PyTorch wheels for Python 3.8 at the posted time, resulting
inpipbeingunableto/f_indacompatibledistributionforPyTorch.
In addition,using 32-bitPython to install 64-bit TPLwheels also
leadto compatibilityissues[ 9].
Finding 4: 9.4% of DL compatibility issues are related to
TPL-Python .
(5)Third-partyLibraryandHardware(TPL-Hardware): Among
the 352 issues, 22 issues are caused by the incompatibility between
TPL and hardware, accounting for 6.2%. For example, Figure 11
showsthattheminimumCUDAcapabilityrequiredbyTensorFlow
is 3.5 whilethe CUDAcapability of GRIDK520GPUis 3.0 [ 2]. Asa
result, the GPU device will be ignored and the model training will
be performedonCPU.The hardware types are CPU(11), GPU(8),
TPU(2),andRaspberryPi(1),whileTPLsarerelatedtoTensorFlow
(18), PyTorch (2), Theano (1), and Lasagne (1). Moreover, 50.0% (11)
ofTPL-Hardware issues are related to the incompatibility between
TensorFlow and CPU. This is mainly because starting with version
1.6, TensorFlow binaries were built with enabling the support of
AVXinstructionsbydefault[ 53],whichmaynotrunonolderCPU,
e.g.,Intel(R)Core(TM)2DuoCPUT5870[ 19],AMDAthlonDual
Core 4450e[ 13], andIntel(R)Pentium(R) 3556U[ 21].
Finding5: TPL-Hardware accountsfor6.2%ofDLcompati-
bility issues. 50.0% of TPL-Hardware issues are caused by the
incompatibility between TensorFlowandCPU.
(6)Third-party Library and Operating System (TPL-OS): 12 DL
compatibility issues are TPL-OS, accounting for 3.4%. Common OS
typesinthiscategoryaremacOS(5),Linux(3),Windows(3),and
Raspian Lite OS (1). We can observe from the example shown in
Figure12that, a symbol was missing in _cpu_feature_guard .so1     import tensorflow 
OSError: dlopen(/Users/blancoarnau/tensorflow-test/env/lib/python3.9/site-packages/
tensorflow/python/platform/../../core/platform/_cpu_feature_guard.so, 6): Symbol not found: 
__ZNKSt3__115basic_stringbufIcNS_11cha r_traitsIcEENS_9allocatorIcEEE3strEv
   Referenced from: /Users/b lancoarnau/tensorflow-test/env /lib/python3.9/site-packages/
tensorflow/python/platform/../../core/platform/ _cpu_feature_guard.so (which was built for 
Mac OS X 12.3)
   Expected in: /usr/lib/libc++.1.dylibOS: macOSTPL: TensorFlow
TF requires OS version: 12.3         Installed OS version: 11.0 × 
Figure 12:TPL-OS: #71174306
bazel  test  ‐c opt  ‐‐ //tensorflow/...  ‐//tensorflow/compiler/...  ‐//tensorflow/contrib/lite/...
ERROR:  error  loading  package  '': Encountered  error  while  reading  extension  file  'closure/
defs.bzl':  no  such  package  '@io_bazel_rules_closure//closure':  The  native  http_archive  rule  is 
deprecated.  load("@bazel_tools//tools/bu ild_defs/repo:http.bzl",  "http_archive")  for  a drop ‐in 
replacement.
Use  ‐‐incompatible_remove_native_http_archive=false  to  temporarily  continue  using  the  
native  rule.
...
INFO:  Elapsed  time:  0.088s
INFO:  0 processes.
FAILED:  Build  did  NOT  complete  successfully  (0 packages  loaded)
FAILED:  Build  did  NOT  complete  successfully  (0 packages  loaded)TPL: TensorFlow DEV: Bazel
TF  version:  r1.11          Bazel  version:  0.19.1+ × 
Figure 13:TPL-DEV:#53707068
when importing TensorFlow on macOS (11.0) [ 31]. This is because
the installedTensorFlowversionwasbuiltfor macOS 12.3.
Finding6: 3.4%ofDL compatibilityissuesare TPL-OS.
(7)Third-partyLibraryandDevelopmentTool (TPL-DEV): There
are10compatibilityissuesareclassi/f_iedas TPL-DEV,accountingfor
2.8%.Therespectivedevelopmenttoolsincludecompiler/building
tools (i.e., Bazel (4), GCC (2), and G++ (1)), IDE (i.e., Xcode (1) and
PySpark(1)),andother(e.g.,broswer(1)).Forexample,Figure 13
shows aTPL-DEV issue related to Bazel [ 17]. The developer at-
tempted to build TensorFlow r1.11 from source using Bazel but
failed,sincesomeBazelfeaturesthatTensorFlowusedhavebeen
deprecatedinBazelversionsnewer than0.18.1 (e.g.,0.19.1).
Finding 7: 2.8% of DL compatibility issues are related to
TPL-DEV.
(8)Low-level Libraryand Hardware(LLL-Hardware): Five issues
are classi/f_ied as LLL-Hardware , accounting for 1.4%. This cate-
gory mainly includes incompatibility between CUDA/cuDNN and
GPU. For example, CUDA 9 does not support GPU architecture
compute_20 andsm_20[11]. Nvidia Fermi M2090 is a GPU with
compute capability 2.0 that does not support cuDNN library [ 1].
Finding8: 1.4%ofDLcompatibilityissuesare LLL-Hardware .
(9)Others:Eachtypeinthiscategoryhasnomorethan/f_iveissues,
whicharerelatedto CORE-Python (2),LLL-LLL(4),OS-Hardware (1),
andDEV-Hardware (1).Forexample,postswiththeIDs#38546672
[4],#55261785[ 20],#51320027[ 14],and#69865825[ 30]forthefour
types, respectively.
Finding 9: DL compatibility issues can be also related to
CORE-Python ,LLL-LLL,OS-Hardware ,andDEV-Hardware .
Figure14showstheevolutionofDLcompatibilityissues.Over
time, all types of DL compatibility issues show an increasing trend.
Among these types, CORE-TPL, TPL-TPL, and TPL-LLL have re-
ceivedmoreattentionfromdevelopers.WiththeevolutionofDL
frameworks, API signatures and behaviors inevitably change to
accommodate new requirements, resulting in incompatible APIs
(CORE-TPL). Besides, the integration of diﬀerent TPLs when build-
ing DL systems often leads to version mismatches between the
librariesinvolved,causingmoreTPL-TPLissues.Moreover,TPL-
LLL issues have become more prevalent because DL systems often
require DL frameworks to interact with low-level libraries such
481CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
 CORE-TPL               TPL-OS
 TPL-TPL               TPL-DEV
 TPL-LLL               LLL-Hardware 
 TPL-Python               Others
 TPL-Hardware
2012 2014 2016 2018 2020 2022020406080100120Number of Issues
Year
Figure 14:Evolution ofDLCompatibility Issues overTime
as CUDA and cuDNN. This interaction is necessary to improve
training eﬃciency,but itcan introduce compatibilityissues.
4.1.2 Stages. We classi/f_ied the manifestation stage of DL compati-
bilityissuesintotwostages,as depictedinTable 2:
•Installation. The issueappeared intheprocess ofthe environ-
ment con/f_iguration of DL systems, such as selecting software
andhardware environments, andinstalling/compiling TPLs.
•Execution. The issue that appeared in the execution/running of
DL systems.
We observed that 300 issues appeared in the execution stage,
while only 52 issues were found in the installation stage. This indi-
catesthatmostDLcompatibilityissuesarenotexplicit,andoften
expose only at runtime. In particular, most of CORE-TPL (100%),
TPL-TPL(94.3%),TPL-LLL (94.9%), and TPL-Hardware (95.5%) oc-
curred during execution. In most cases, compatibility issues would
occur when CORE/TPLdynamically invokesotherTPLs’ APIs.
Onthecontrary,mostof TPL-Python (84.8%)and TPL-DEV (60.0%)
issues are manifested during the installation stage. For example, 28
TPL-Python issuesarerelatedtotheinstallationstage.GivenaTPL,
itssupportedPythonversionsareoftenlimited,especiallyforan
olderPythonversion(e.g.,2.7[ 6])orarecentlyreleasedPythonver-
sion (e.g., Figure 10). Moreover, the number of compatibility issues
related to TPL-OSis the same during installation and execution,
bothofwhichare6.For LLL-Hardware ,threeissuesoccurredinthe
executionstage,whileothertwooccurredduringinstallation.
Finding 10: Most (85.2%) of DL compatibility issues were
exposedduringtheexecutionstage. CORE-TPL (100%),TPL-
TPL(94.3%),TPL-LLL(94.9%),and TPL-Hardware (95.5%)are
prone to occur during execution, while TPL-Python (84.8%)
andTPL-DEV (60.0%) are likely to appear inthe installation.
4.1.3 Symptoms. We classi/f_ied the impact of compatibility issues
onDL systemsintothree categories:
•Breaking. Theissueledtothefailureofcomponentsattheinstal-
lation stage or the termination of the program during execution.
•Low Performance. The issue caused a low execution eﬃciency.
•UnexpectedBehavior. Theissueresultedinunexpectedresults
but the systemsdidnot throwan exception duringexecution.
Wefoundthat321DLcompatibilityissueshaveabreakingim-
pact on both the installation and execution stages. For example,
Figure12shows that the system encounters an OSErrorduring
execution. The large proportion of breaking impact on DL systems
showsthenecessityandurgencytodeveloptoolsfordetectingand
repairing such issues[ 106,124,129].Table 3:Distribution ofRoot Causesand Types
TypeAPIIncompatibilityUCVMCRL TotalVMCL VMLL
CORE-TPL 115 0 00115
TPL-TPL 0 77 6588
TPL-LLL 0 0 134659
TPL-Python 0 0 33033
TPL-Hardware 0 0 22022
TPL-OS 0 0 12012
TPL-DEV 0 0 10010
LLL-Hardware 0 0 505
Others 0 0 718
Total 115 77 10852352
Althoughthereareonlyafewcompatibilityissuesthatcauselow
performance (28) and unexpected behavior (3) to DL systems, their
impactisnotnegligible.FortheexampledisplayedinFigure 11,due
to theTPL-Hardware issue, the system will perform model train-
ingontheCPU.Thiswillsigni/f_icantlyimpactthemodeltraining
eﬃciency.Inaddition,APIevolutionmayleadtounexpectedbehav-
ior in the code implementation. For example, torch.arrange()
returnsatensoroftype/f_loatfor0.4.0whileitreturnsatensorof
type longfor 0.4.1[ 16].
Finding11: Most(91.2%)ofDLcompatibilityissueshavea
breakingimpactontheinstallationstageorexecutionstage
ofDL systems.
4.2 RQ2: Root Causes andSolutions
4.2.1 RootCauses. Weidenti/f_iedthefollowingthreerootcausesof
DL compatibility issues, including API incompatibility ,unsupported
component , andversion mismatch between compiled and runtime
libraries. Table3depicts the distribution of root causes of DL com-
patibility issuesacrossthe types.
(1)RootCause1:APIIncompatibility. TheDLcompatibilityissueis
causedbytheAPIevolutionbreakingtheforwardand/orbackward
compatibility. We canobservefrom Table 3that APIincompatibil-
ityisthemostcommonrootcausethatinducedDLcompatibility
issues(192/352).Accordingtotheinteractionbetweencomponents,
API incompatibility can be further divided into two subcategories:
versionmismatchbetweenCOREandlibraries’APIs (VMCL:115/192)
andversionmismatchbetweenlibraries’ APIs (VMLL: 77/192).
Finding 12: API incompatibility is the most common root
cause, accounting for 54.5%. Of which, 59.9% are caused by
VMCL and40.1% are inducedbyVMLL.
VersionMismatchBetweenCOREandLibraries’APIs(VMCL)
(115/192). It can be seen from Table 3that all the CORE-TPL issues
areintroducedbyVMCL.WefurtheranalyzedtheAPIevolution
pattern (adopted from [ 44]) in these issues, as shown in Table 4.
Note that in the table, we categorize the rename and relocated
patterns as part of the remove pattern. Speci/f_ically, RemoveAlias
(16.5%),RemoveModule (16.5%),AddParameter (9.6%),RemoveFunc-
tion(8.7%),RemoveClass (7.8%),and AddFuntion (7.0%)arethetop
six API evolution patterns, accounting for 66.1%. It is noted that
RemoveAlias is mainly found in the issues related to TensorFlow.
For example, in order to make APIs of TensorFlow 1.0 compati-
ble with TensorFlow 2.0, developers usually remove the original
alias and add a new one, such as changing tf.get_variable to
tf.compat.v1.get_variable [26]. In addition, although devel-
opers usually attempted to not breaking backward compatibility
whenchangingAPIs,theseAPIevolutionchangesintroduced38.3%
forward-incompatible issues,as mentionedinFinding1.
482ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
Table 4:APIEvolution Patterns inVMCL-Issues
Pattern Subpattern # Issues Percentage Total
ClassAddClass 5 4.3%
17 RemoveClass 9 7.8%
ChangeInheritance 3 2.6%
FunctionAddFunction 8 7.0%
24RemoveFunction 10 8.7%
ChangeReturnType 3 2.6%
ChangeReturnValue 3 2.6%
ParameterAddParameter 11 9.6%
23RemoveParameter 8 7.0%
AddParameterDefault 1 0.9%
MoveParameter 3 2.6%
ModuleAddModule 3 2.6%22RemoveModule 19 16.5%
AliasAddAlias 7 6.1%26RemoveAlias 19 16.5%
AttributeAddAttribute 2 1.7%2RemoveAttribute 0 0.0%
Others AddException 1 0.9% 1
Total 115 100.0% 115
Table 5:Distribution ofExceptions inVMCL andVMLL
Exception VMCL Exception VMLL
AttributeError 47AttributeError 38
ImportError 27ImportError 16
TypeError 23TypeError 13
ModuleNotFoundError 8RuntimeError 3
RuntimeError 2ValueError 2
Others 8NotImplementedError 2
Total 115Others 3
Total 77
Finding 13: The most common API evolution patterns re-
latedtoVMCLissuesare RemoveAlias (16.5%),RemoveModule
(16.5%),AddParameter (9.6%),RemoveFunction (8.7%),Remove-
Class(7.8%), and AddFuntion (7.0%).
VersionMismatchBetweenLibraries’APIs (VMLL)(77/192) .
Among the 192 issues, 40.1% are caused by VMLL, which is the
majorrootcauseof TPL-TPL.Thisismainlyduetotheindependent
development and design of diﬀerent libraries. The lack of standard-
ized speci/f_ications and limited testing also contribute to the issues.
Particularly, as mentioned in Finding 2, TensorFlow-Keras intro-
duced the most TPL-TPLissues, which are caused by VMLL, as the
examples shown in Figures 6and7. There are 17 TPL-TPLissues
relatedtothemixeduseofKerasandtf.keras.SinceTensorFlow2.0,
KerasbecomesthecoremoduleofTensorFlow[ 54].Toavoidthe
compatibility issues caused by the mixed use of Keras and tf.keras,
it is recommended to import all Keras API from TensorFlow, i.e.,
using tf.keras[ 55].
Besides, we further counted the exception type of issues caused
byAPIincompatibility(i.e.,VMCLandVMLL),asshowninTable 5.
Wefoundthat AttributeError ,ImportError ,andTypeError arethetop
three most frequent exception types in API incompatibility issues,
whichcon/f_irmsasimilar result from [ 129].
Finding 14: AttrituteError ,ImportError , andTypeError are
the top three exceptions causedbyAPI incompatibility.
(2)Root Cause 2: Unsupported Component (UC). 108 compati-
bilityissuesarecausedbyusingunsupportedcomponentstothe
installationand/orexecutionofDLsystems.UCisthesecondmost
common root cause that exists in all the types of DL compatibility
issuesexcept CORE-TPL .Wecan observe fromTable 3thatallthe
TPL-Python ,TPL-Hardware ,TPL-OS,TPL-DEV,LLL-Hardware , and
othersare caused by UC. Some components are only compatible
for speci/f_ic environments. For example, TensorFlow only supports
64-bit Python shown in Figure 10. Google TPU does not support
somegraph operations when using TensorFlow[ 15].
Finding15: 30.7%ofDLcompatibilityissuesarecausedby
UC, which is the second most common root cause. Besides,
UCisone ofthe root causes ofalltypes except CORE-TPL .Table 6:Distribution ofSolutions to APIIncompatibility
SolutionVMCLVMLL Totalforward backward
VersionChange 31 6 5794
Code ChangeChangeAPI 9 40 150
ChangeImport 8 22 1949
ChangeBuild 0 0 00
Table 7:Distribution ofSolutions to UCand VMCRL
Solution UCVMCRL Total
VersionChange 7652 128
Code ChangeChangeAPI 10 1
ChangeImport 00 0
ChangeBuild 15 0 15
(3)RootCause3:VersionMismatchBetweenCompiledandRuntime
Libraries (VMCRL). There are 52 (14.8%) DL compatibility issues
caused VMCRL. Among them, 46 issues are related to TPL-LLL,
while among the rest, /f_ive issues are TPL-TPLand one issues are
LLL-LLL. Compilation and execution are two separate processes,
whichareoftenconductedbydiﬀerentdevelopers,especiallyfor
the releases of TPL binaries. Thus, when executing a compiled
binary, it is diﬃcult to con/f_igure required libraries, if there is no
guidanceprovided.
Finding16: 14.8%ofDLcompatibilityissuesarecausedby
VMCRL, ofwhich88.5% are relatedto TPL-LLL.
4.2.2 Solutions. By analyzing the 352 issues, we identi/f_ied the
following two common /f_ixing strategies that developers often use
to solve DL compatibility issues, covering 330 issues. Note that
someissuescan be /f_ixedbymore thanone solution.
•VersionChange. Theissuewas/f_ixedbychangingtheversion
ofacomponent.
•CodeChange. Theissuewas/f_ixedbychangingthecode,mainly
including changing API, changing the import statement, and
changing the build/f_ile.
(1)Solutions to Root Cause 1. Table6shows the distribution of
solutions to DL compatibility issues caused by API incompatibility.
For VMCL, it can be observed that 31 forward-incompatible issues
were solved by changing the TPL version, while 17 issues were
repaired by changing the code (API and import statement). By
contrast, 62 backward-incompatible issues were /f_ixed by changing
the code, especially the API usage. The results are expected. It is
convenienttoupgradetheinstalledversiontothecorresponding
new version for the forward-incompatible issues. However, for the
backward-incompatibleissues, developers need to changethe API
usage if they want to use the new TPL version. Besides, for VMLL,
57issueswere/f_ixedbychangingtheversion,and20issuesgota
code /f_ix. This is because changing the incompatible TPL version is
easier thanchanging the code inaTPL for /f_ixing such issues.
Finding 17: For compatibility issues caused by VMCL, 67.4%
of forward-incompatible issues were /f_ixed by changing the
TPL version, while 89.9% of backward-incompatible issues
were repaired by changing the code. In addition, 74.0% of
issuescausedbyVMLLwere /f_ixedbyversionchange.
(2)Solutionsto Root Causes 2and 3.
Table7displays the distribution of solutions to UC and VMCRL.
76 UC-caused issues were repaired by changing the component
version, while 16 issues were /f_ixed by a code change, especially
changingthe build/f_iletorebuild/remake.Besides, allthe VMCRL-
causedissueswere/f_ixedbyaversionchange.Forexample,theC
483CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
Table 8:Library APIEvolution
Tool Extract Used API Extract TPLAPI MatchAPI Detect Changes RepairAPI
AexPy [44] ✓ ✓
PyCompat[ 129] ✓ ✓ ✓ ✓
DLocator [ 109] ✓ ✓ ✓
MLCatchUp[ 60] ✓ ✓ ✓ ✓
APIScanner[ 103] ✓ ✓
Relancer[ 131] ✓ ✓
Table 9:Detection andRepair ofDependencyCon/f_licts
Tool InferTPL InferPython InferLLL
PyEGo [124] ✓ ✓ ✓
DockerizeMe [ 63] ✓ ✓
SniﬀerDog[ 110] ✓
pipreqs[52] ✓
PyDFix[84] ✓
V2 [64] ✓
Watchman[ 111] ✓
PyCRE[42] ✓
smartPip[ 106] ✓
APIversionofNumpythatTensorFlowcompiledagainstis0xb,not
installed0xa [ 18]. Upgradingthe Numpy version/f_ixedthe issue.
Finding 18: Most (70.4%) of the issues caused by UC and all
VMCRL-induced issues were solved by changing the compo-
nent version.
5 RQ3: TOOL SURVEY
We conducteda toolsurveytostudy the currentresearchonauto-
matedaddressing DL compatibilityissues.
Tool Selection Criteria and Study Approach. We collected a
totalof1,779researchpapersfromthetopSEconferences,i.e.,ICSE,
ASE, and FSE, published in ACM Proceedings over the past /f_ive
years(18-22).Toensureup-to-dateinformation,wealsoincluded
the accepted papers of ICSE 2023, which were available on the
oﬃcial website prior to our submission.
•First,wereviewedthe1,779collectedpaperstoidentifypapers
thatmeetthefollowing/f_ilteringcriteria:(1)Thepaperintroduces
atoolspeci/f_icallydesignedtoaddressissuesrelatedto PythonAND
(dependency con/f_licts ORAPI evolution ORcompatibility issues ); (2)
The tool is readily available for download and use. Through this
process,we extractednine papers.
•Next,wecontinuedtheidenti/f_icationprocessbyexaminingthe
referencesandcitationsoftheninepapersobtainedinthe/f_irst
step, applying the same /f_iltering criteria. At this stage, we identi-
/f_iedadditional/f_ive papers andone tool.
•Finally,weextractedatotalof15tools,consistingof14papers
and one tool from GitHub. We classi/f_ied these tools into two
categories, i.e., library API evolution, detection and repair of de-
pendencycon/f_licts,asshowninTable 8andTable 9,respectively.
Twoauthorsindependentlyreviewedandidenti/f_iedallthepa-
pers.Theinter-rateragreementwasmeasuredusingCohen’skappa
coeﬃcient,whichexceeded95%aftertheirinspection.Incasesof
inconsistency,athirdauthorparticipatedinthediscussiontoreach
a consensus and /f_inalize the results. Besides, we also con/f_igured
andexecutedthesetoolsto evaluate theirfunctionality.
ToolSurveyResults. ThetoolslistedinTable 8thatarerelatedto
libraryAPIevolution,canbecategorizedintotwomainapproaches:
static and dynamic. The static approach involves establishing a
knowledge base of library API evolution histories using manual or
semi-automatictechniques.ThePythonprojectsourcecodeisthen
parsed to extract the invoked APIs through AST. The extracted
APIs are subsequently matched against the library APIs stored
in the prebuilt knowledge base. For example, MLCatchUp [ 60],DLocator[ 109],PyCompat[ 129],andAPIScanner[ 103]employthe
static method to identify deprecated APIs or APIs with breaking
changes in Python projects. Dynamic methods are used by tools
like AexPy [ 44] and Relancer [ 131]. AexPy uses dynamic re/f_lection
to infer the types, parameters, aliases, and inheritance, making
theAPIevolution knowledgebase morecomprehensive. Relancer
adopts an iterative approach by executing code snippets in Jupyter
NotebookanditerativelyrepairingdeprecatedAPIsbasedonthe
runtimeerrormessages.
Besides, tools (Table 9) for resolving dependency con/f_licts in
Pythonprogramscanbedividedintostaticanddynamicapproaches.
Inthestaticmethod,thedependencyrelationshipsbetweenlibraries
and their required versions are collected from platforms such as
thePython-PyPIrepositoryandLibraries.io.ToolslikePyEgo[ 124],
PyCRE[42],DockerizeMe[ 63],andWatchman[ 111]convertthis
collecteddataintoadependencyknowledgegraph.Theythenparse
theproject’sASTtoidentifytheresources(e.g.,APIs)utilizedby
libraries,andusetheseresourcesasqueryconditions.Bydesigning
appropriate traversal algorithms, they resolve the dependencies or
version con/f_licts of libraries in the project by traversing the knowl-
edge graph. smartPip [ 106] extracts version constraints between
TPLsfromaprebuiltknowledgebase.Theseconstraintsarethen
transformed into satis/f_iability modulotheories (SMT) expressions.
BysolvingtheseSMTexpressions,smartPipeﬀectivelyresolvesver-
siondependenciesbetweenTPLs.pipreqs[ 52]andSniﬀerDog[ 110]
adopt a diﬀerent approach. They /f_irst parse the project’s AST to
extracttheAPIsused.TheythencomparetheseAPIswiththeen-
tries in a prebuilt database to infer the corresponding TPLs used
intheproject.Dynamicmethodsarealsoemployedbytoolssuch
as V2 [64] and PyDFix [ 84]. V2 builds on DockerizeMe [ 63] and
uses runtimeerrormessages tonarrowdown the searchspacefor
candidate TPLs. PyDFix tackles dependency issues in large Python
projects by running the project’s build process (e.g., pip install
andpython setup .py)andanalyzingthedependencyerrorsfound
inthe buildlog.
Finding 19: Of the six tools related to library API evolu-
tion, none of them can fully realize the entire automation
process from detection to repair of DL compatibility issues
caused by API incompatibility. For the resolution of depen-
dency con/f_licts in Python programs, nine tools attempt to /f_ix
dependencycon/f_lictsinducedby TPL-TPL,butonlyafewof
them can infer the incompatibilities caused by the Python
interpreter versions and system libraries. Currently, none
of them can detect and /f_ix compatibility issues caused by
CUDA/cuDNN whichare commonly usedinDL systems.
6 DISCUSSIONSAND IMPLICATIONS
6.1 Comparisonwith TraditionalSoftware
Python Programs. In Python programs, compatibility issues arise
primarilyfromAPIincompatibility [ 44,129]anddependency con-
/f_lictsbetweenlibraries[ 42,124].SinceourstudyfocusesonPython-
basedDLsystems(asde/f_inedinSection 2),CORE-TPLandTPL-TPL
arethemostcommontypes(57.7%)ofcompatibilityissuesinthis
domain. DL systems, characterized by their data-driven nature, de-
mandsubstantialcomputationalresources(e.g.,GPUsandTPUs),to
484ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
expedite model training. DL frameworksrely heavily on low-level
libraries, particularly CUDAandcuDNN, totakeadvantageof the
computational capabilities of GPUs. As a result, compatibility is-
suescanarisebetweenDLlibrariesandtheunderlyingcomponents,
especiallywithinDLsystems.Notably,TPL-LLL,TPL-Hardware,
andLLL-HardwarearecommontypesinDLsystems,accounting
for 24.4% ofthe totalcompatibilityissues.
AndroidApplications. InAndroidapplications,compatibilityis-
sues are mainly related to variations in device/platform con/f_igu-
rations [113,115], evolutionary changes in the OS [ 80,117], and
callbackcompatibility[ 65].Similartoour/f_indings,compatibility
issues in Android occur during both the installation and execu-
tion/runtimestages[ 37].Duringinstallation,themajorityoffail-
uresareduetoapplicationsusinglibraryfunctionsthatarenotsup-
portedbytheunderlyingarchitecture.Meanwhile,runtimecrashes
often stem from API incompatibility at diﬀerent levels resulting
from OS evolution. There are signi/f_icant diﬀerences in compati-
bility issues between Android applications and DL systems. For
Android applications, compatibility issues are primarily caused by
fragmentation, where certain versions of the Android OS can only
runoncertaindevices.Ontheotherhand,inDLsystems,incompat-
ibilitywithhardwaredevicesoftenoccursduetoversionmismatch
between the DL framework and the underlying hardware (TPL-
Hardware).Anotherdiﬀerenceisthenatureofbreakingchanges.
InAndroid,breakingchangestypicallyresultfromtheevolutionof
theOS.Incontrast,DLsystemsexhibitgreaterindependenceatthe
OS level, with fewer dependencies on speci/f_ic OS versions. Besides,
the API changes are primarilydriven bylibrary evolution.
Web Applications. Compatibility issues in web applications en-
compass various aspects, including cross-browser compatibility
[82], and web API evolution-related compatibility [ 73,123]. The
/f_irsttypeisspeci/f_ictowebapplications.Inadditiontodisruptive
changes such as adding or removing methods and parameters, API
evolutioninwebapplicationsofteninvolvesissueslikeunsupported
request access and API access restrictions. These issues, speci/f_ic to
webAPI evolution,have not been observedinDL systems[ 96].
Others.Linuxsystemcompatibilityismainlyre/f_lectedinkernelver-
sioncompatibility[ 56],applicationversioncompatibility[ 89,95],
andsystemAPIcallcompatibility[ 34].Therootcauseofthesecom-
patibility issues often stems from the diﬀerences in the versions
ofthesecomponents.Tomaintainbackwardcompatibility,Linux
developersoftenchoosetorenameoldAPIs,e.g.,from vm86()to
vm86old() [34]. Besides, similar to DL systems, compatibility is-
sues in Java software systems mainly include API evolution and
componentcompatibility[ 69].However,Javasoftwaresystemsput
moreemphasisonmaintainingbackwardcompatibilityofcompo-
nents compared to our study, which considers both forward and
backward compatibility. In addition, the peculiarities of the Java
language, such as the explicit speci/f_ication of class and method
modi/f_iers [ 116], result in API evolution patterns that diﬀer from
thoseobservedinDL systems.
Insummary,compatibilityissuesinDLsystemsdiﬀerfromthose
intraditionalsoftwareduetotheiruniquecharacteristicsandre-
quirements. Generalizations about traditional software may not be
directlyapplicable to DL systems.6.2 Implications
EnsuringConsistencyBetweenAPIUsageandInstalledLi-
brary Versions . A large proportion of DL compatibility issues
are caused by API incompatibility, especially the CORE-TPL and
TPL-TPL(Findings1,2,and12).DLdevelopersshouldpayattention
to the consistency betweenthe used APIs and theinstalled library
version. In particular, when encountering exceptions such as At-
tributeError ,ImportError , andTypeError during execution (Finding
14),developersaresuggestedtoconsiderthepotentialcompatibility
issues. ForissuescausedbytheAPIinvocationbetweenTPLand
TPL, a common practice isto reinstallthe libraries thatsatisfy the
version constraints. We suggest using tools like PyEGo [ 124] to
resolve the versioncon/f_lictsbetween TPLs (Finding19).
Early Determination of Component Versions . Due to the data-
drivennatureofDL,thesesystemsrelyheavilyonhigh-performance
computingresources (e.g., GPUs) to accelerate the model training
process, resulting in a high proportion of TPL-LLL, TPL-Hardware,
and LLL-Hardware issues (Findings 3, 5, and 8). Such dependencies
often lead to breaking impact (Findings 10 and 11). Therefore, to
maintainthecorrectcon/f_igurationofDLsystems,developersshould
carefullyexaminetheoﬃcialdocumentstodeterminetheappro-
priate versions of components. For example, the tested compatible
versions of CUDA/cuDNN for diﬀerent TensorFlow versions [ 102],
thecompatibleversionsbetweenCUDA/cuDNNanddrivers[ 87],
andthe GPUarchitectures [ 94].
ChallengesinAutomatedDetectionandRepairofAPIEvolu-
tionIssues. (1)ConstructAPIMappings: Twotypesofmappings
need to be established. The /f_irstmapping is between the API calls
in the project and their corresponding de/f_initions in TPL. Current
approaches mainly rely on matching the API names. For example,
DLocator [ 109] formats all API calls into a fully quali/f_ied name for-
mat(i.e.,A.B.C.API_Name )torepresentthehierarchicalstructure
oftheentireAPIpath.Thegoalistoeliminatetheimpactofaliases
andallowforaccuratemappingtotheTPLAPI.However,thereare
twoproblemswiththisapproach.First,thePythonimportmech-
anismcancauseinconsistenciesbetweentheactualcallpathand
theactualAPIpathinthesourcecode,especiallyforcomplexDL
frameworks. For example, the API torch.loadin PyTorch version
1.5.0hastherealpath torch.serialization .loadinthesource
code.OtherAPIswiththesamenameinclude torch.hub.loadand
torch.jit.__init__.load .Thisinconsistencyleadstomultiple
matchresults.Second,complexDLframeworkslikePyTorch,which
havemanybuilt-inAPIscompiledinC/C++,oftenhavemultiple
overloadedAPIs.Forexample, torch.maxhasthree overloads in
PyTorch version 1.5.0 [ 90], making it challenging to determine the
correct mapping between the called API and its de/f_inition in the
TPL.Thesecondmappinginvolvesestablishingrelationshipsbe-
tween TPL APIs across diﬀerent versions to analyze API evolution.
MLCatchUp [ 60] creates this mapping manually because it isdiﬃ-
cult to automate. Mapping becomes particularly challenging when
TPLAPIsarerenamedorremoved.(2)RepairandVeri/f_ication:This
phaseaimstorepairandverifytheinvokedAPIsthathavebreaking
changes.However,automaticallyswitchingtoanotherAPIwhen
repairingaspeci/f_icAPIfailsisanon-trivialtask.Sequentialcode
executionmakesitdiﬃculttocontinuetherepairprocess.For ex-
ample, when Relancer [ 131] fails to repair the /f_irst encountered
485CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
API, it cannot continue to repair other APIs with breaking changes
inthe code snippet.
Challenges in Automated Detection and Resolution of In-
compatibleComponentVersions. (1)PythonInterpreterIden-
ti/f_ication:Inferringthespeci/f_icversionofthePythoninterpreter
is currently done using the Python standard libraries and syntax
featuresemployedinPythonprojects[ 124].However,thisapproach
becomes challenging when projects don’t use standard libraries or
when explicit syntax features are absent. (2) Low-level Library De-
pendencyIdenti/f_ication:Resolvingcompatibilityissuesthatarise
fromlow-levellibrariessuchasCUDA/cuDNN,whichdependon
speci/f_ic GPU hardware models, poses signi/f_icant diﬃculties and
mayrequirelow-levelcodedependenceanalysis[ 99,100].(3)OS-
speci/f_icDependencyIdenti/f_ication:Addressingcompatibilityissues
stemmingfrom TPL-OS interactionsisanon-trivialtask.
7 THREATS TO VALIDITY
Internal Threat . The main internal threat comes from the subjec-
tivebiasanderrorinthemanualclassi/f_icationandlabelingofDL
compatibility issues. We followed the open coding method in clas-
si/f_icationandconstantlyoptimizedtheclassi/f_icationaccordingto
theiterativerounds.Tominimizesubjectivebias,twoauthorsinde-
pendently classi/f_ied the posts, compared their results, and resolved
anyinconsistenciesthroughdiscussionwitha thirdauthoruntila
consensuswasreached.Besides,wetriedtoreproducethereported
issues to facilitate the classi/f_ication process. Moreover, the dataset
ispubliclyavailable for further investigation andreplication.
ExternalThreat. Ourdatasetissourcedexclusivelyfromthe SO,
without incorporating data from other sources. This poses a poten-
tial threat to the generalizability of our /f_indings. Besides, our study
reliesontheselectionof12keywordsto/f_ilterthedata.However,
this approach may inadvertently exclude relevant posts, thus in-
troducingapotentialbias.Toalleviatethisthreat,weselectedsix
commonkeywordsrelatedtoPythonprogramexceptions,which
coveredabout54.4%ofthe3,072posts.Moreover,theinclusionof
postsrelatedtoTheano,adiscontinuedDLlibrary,maylimitthe
applicabilityofourresults.However,thereareonly16compatibility
poststagged with Theano, which isa relativelysmallproportion.
8 RELATED WORK
EmpiricalStudyonDLBugs. ThecharacteristicsofvariousDL
bugs have been widely studied, e.g., DL bugs taxonomy [ 39,45,
67,68,86,108,127],cloudAPImisuse[ 105],DLjobfailures[ 125],
performanceissues[ 38,81],developmentanddeploymentfaults[ 40,
41,126], DL libraries and compiler bugs [ 46,70,79,93], and model
optimization bugs [ 57]. For example, Yang et al.[122] conducted
ananalysisofDLbugsonGithubandfoundthatcertainbugswere
the result of API evolution and incorrect con/f_igurations. Zhang
et al.[125] highlighted that API in DL frameworks can lead to
failuresinDLjobs.However,thesestudiesdidnotspeci/f_icallyfocus
oncompatibilityissues.Ourpapercomprehensivelyanalyzesthe
characteristics ofDL compatibilityissues.
Analysis of API Evolution in Python Libraries. Many studies
focusontheanalyzingAPIevolution[ 91,128,129],detectingand
evaluating API changes [ 35,44,60,103,109] in Python projects.
Zhangetal.[129]conductedthe/f_irstlarge-scaleand/f_ine-grainedstudy of the evolution patterns of Python libraries. Du et al.[44]
proposedAexPy,anAPI-model-basedapproachthatoutperforms
existing toolsindetecting breaking changes inPythonlibraries.
RepairingDependencyCon/f_lictsinPythonPrograms. Various
studieshavefocusedonautomatingthedetectionandresolution
ofdependencycon/f_lictsbetweenTPLsinPythonprojects[ 42,63,
64,84,106,110,111,124]. Thestate-of-the-art, PyEgo, proposedby
Yeetal.[124],automaticallyresolvescompatibilityissuesrelated
to the Pythoninterpreter,TPLs, andsystemlibraries.
CompatibilityIssuesinother SoftwareSystems. Compatibil-
ity issues have been widely studied in Android apps [ 37,65,66,
78,80,92,97,101,113,114,117]. Many studies focus on detect-
ing deprecated APIs [ 61,74,76,77,120], and developing tools to
resolve compatibility issues [ 48,58,59,72,75,115]. For example,
Zhaoet al.[130] proposed RepairDroid, a tool designed to address
three types of compatibility issues in Android apps: OS-induced,
device-speci/f_ic,andinter-callbackcompatibilityissues.Besides,the
continuous evolution of web APIs and client apps often leads to
compatibility issues related to API evolution and cross-browser
behavior[ 73,82,96,123].Furthermore,severalstudieshavebeen
conductedtoinvestigatecompatibilityissuesinotherdomains,such
as Linux [ 34,56,89,95], Java [69,116], C/C++ [ 71], and JavaScript
[85].Ourstudypresentsthe/f_irstcomprehensiveempiricalstudyof
compatibility issues in DL systems, distinguishing it from previous
researchontraditional software.
9 CONCLUSION
Inthispaper,weconductedthe/f_irstcomprehensiveempiricalstudy
tocharacterizecompatibilityissuesinDLsystems.Weidenti/f_ied
352 DL compatibility issues from 3,072 Stack Over/f_low posts. By
analyzing these issues, we proposed a taxonomy of DL compati-
bility issues and learned their manifestation stages and symptoms.
We further summarized three root causes and two common /f_ixing
strategies. Moreover, we conducted a tool survey to investigate
the current research state on automated detection and repair tools
for DL compatibility issues. We believe that this study can provide
researchers and practitioners with a better understanding of DL
compatibilityissuesandfacilitatefuture researchinrelated areas.
In the future, we plan to leverage the /f_indings to develop tools for
detecting andrepairing DL compatibilityissues.
10 DATA AVAILABILITY
The replication package and the dataset are publicly available at
https://doi.org/10.5281/zenodo.8207011 .
ACKNOWLEDGMENTS
Wethanktheanonymousreviewersfortheirvaluablecomments
andsuggestions.ThisworkwassupportedinpartbyNationalNatu-
ralScienceFoundationofChinaunderGrant62002163,NaturalSci-
enceFoundationofJiangsuProvinceunderGrantBK20200441,Aus-
tralianResearchCouncilunderGrantsDP210101348andFT220100391,
andtheNationalKeyResearchandDevelopmentProgramofChina
under Grant 2019YFE0198100. Any opinions, /f_indings, and conclu-
sionsorrecommendationsexpressed inthispublicationare those
of the authors and do not necessarily re/f_lect the views of the above
sponsoring entities.
486ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Jun Wang,Guanping Xiao, ShuaiZhang,Huashan Lei,YepangLiu, andYuleiSui
REFERENCES
[1]StackOver/f_low.com 32444016. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/32444016 .
[2]StackOver/f_low.com 33651810. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/33651810 .
[3]StackOver/f_low.com 33671372. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/33671372 .
[4]StackOver/f_low.com 38546672. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/38546672 .
[5]StackOver/f_low.com 41005249. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/41005249 .
[6]StackOver/f_low.com 42456461. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/42456461 .
[7]StackOver/f_low.com 42675391. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/42675391 .
[8]StackOver/f_low.com 42823627. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/42823627 .
[9]StackOver/f_low.com 43069519. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/43069519 .
[10]StackOver/f_low.com 44993098. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/44993098 .
[11]StackOver/f_low.com 48383846. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/48383846 .
[12]StackOver/f_low.com 48929098. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/48929098 .
[13]StackOver/f_low.com 49079990. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/49079990 .
[14]StackOver/f_low.com 51320027. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/51320027 .
[15]StackOver/f_low.com 52906186. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/52906186 .
[16]StackOver/f_low.com 53467011. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/53467011 .
[17]StackOver/f_low.com 53707068. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/53707068 .
[18]StackOver/f_low.com 53765453. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/53765453 .
[19]StackOver/f_low.com 53950186. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/53950186 .
[20]StackOver/f_low.com 55261785. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/55261785 .
[21]StackOver/f_low.com 56406862. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/56406862 .
[22]StackOver/f_low.com 57122907. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/57122907 .
[23]StackOver/f_low.com 57681910. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/57681910 .
[24]StackOver/f_low.com 57718512. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/57718512 .
[25]StackOver/f_low.com 58901682. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/58901682 .
[26]StackOver/f_low.com 59226533. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/59226533 .
[27]StackOver/f_low.com 59493606. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/59493606 .
[28]StackOver/f_low.com 59894720. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/59894720 .
[29]StackOver/f_low.com 65988678. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/65988678 .
[30]StackOver/f_low.com 69865825. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/69865825 .
[31]StackOver/f_low.com 71174306. 2023. Retrieved January 10, 2023 from https:
//stackover/f_low.com/questions/71174306 .
[32]Anaconda. 2023. Retrieved January 10, 2023 from https://www.anaconda.com/ .
[33]archive.org. 2023. stackexchange. Retrieved January 10, 2023 from https://
archive.org/details/stackexchange_20221005 .
[34]Mojtaba Bagherzadeh, Na/f_iseh Kahani, Cor-Paul Bezemer, Ahmed E Hassan,
Juergen Dingel, and James R Cordy. 2018. Analyzing a Decade of Linux System
Calls.EMSE(2018).
[35]WilsonBaker, MichaelO’Connor, SeyedRezaShahamiri,andValerioTerragni.
2022. Detect,Fix, and Verify TensorFlowAPI Misuses. In SANER.
[36] bazel.com. 2023. Bazel. Retrieved January10,2023 from https://bazel.build/ .
[37]HaipengCai,ZiyiZhang,LiLi,andXiaoqinFu.2019. ALarge-scaleStudyof
ApplicationIncompatibilitiesin Android.In ISSTA.
[38]Junming Cao, Bihuan Chen, Chao Sun, Longjie Hu, Shuaihong Wu, and Xin
Peng.2022. UnderstandingPerformanceProblemsinDeepLearningSystems.
InFSE.[39]Junjie Chen, Yihua Liang, Qingchao Shen, and Jiajun Jiang. 2022. Toward
UnderstandingDeepLearningFrameworkBugs. TOSEM(2022).
[40]Zhenpeng Chen, Yanbin Cao, Yuanqiang Liu, Haoyu Wang, Tao Xie, and Xu-
anzhe Liu. 2020. A Comprehensive Study on Challenges in Deploying Deep
LearningBased Software. In FSE.
[41]ZhenpengChen,HuihanYao,YilingLou,YanbinCao,YuanqiangLiu,Haoyu
Wang, and et al. 2021. An Empirical Study on Deployment Faults of Deep
LearningBased Mobile Applications. In ICSE.
[42]Wei Cheng, Xiangrong Zhu, and Wei Hu. 2022. Con/f_lict-aware Inference of
Python Compatible Runtime Environments with Domain Knowledge Graph. In
ICSE.
[43]DannyDigandRalphJohnson.2006. HowdoAPIsEvolve?AStoryofRefactor-
ing.SMR(2006).
[44]Xingliang Du and Jun Ma. 2022. AexPy: Detecting API Breaking Changes in
PythonPackages. In ISSRE.
[45]Xiaoting Du, Yulei Sui, Zhihao Liu, and Jun Ai. 2022. An Empirical Study of
FaultTriggers in DeepLearningFrameworks. TDSC(2022).
[46]Xiaoting Du, GuanpingXiao, andYulei Sui. 2020. Fault Triggers in theTensor-
FlowFramework:AnExperience Report. In ISSRE.
[47]XiaotingDu,ZhengZheng,GuanpingXiao,ZenghuiZhou,andKishorSTrivedi.
2021. DeepSIM: Deep Semantic Information-based Automatic Mandelbug Clas-
si/f_ication. TRel(2021).
[48]MattiaFazzini,QiXin,andAlessandroOrso.2019. AutomatedAPI-usageUpdate
for Android Apps. In ISSTA.
[49]GitHub.com. 2023. commit 76f7c02 of tensor/f_low. Retrieved Janu-
ary 10, 2023 from https://github.com/tensor/f_low/tensor/f_low/commit/
333dc32ﬀ79af21484695157f3d141dc776f7c02 .
[50]GitHub.com. 2023. commit 9a1b9ef of keras. Retrieved Janu-
ary 10, 2023 from https://github.com/keras-team/keras/commit/
d663fda862df1c831e7f93f1e3feb2e189a1b9ef .
[51]GitHub.com. 2023. commit c33da89 of tensor/f_low. Retrieved Janu-
ary 10, 2023 from https://github.com/tensor/f_low/tensor/f_low/commit/
7a8c63da365106048dc96aﬀddb39e2fdc33da89 .
[52]Github.com. 2023. pipreqs. Retrieved January 10, 2023 from https://github.com/
bndr/pipreqs .
[53]Github.com. 2023. Tensor/f_low 1.6.0. Retrieved January 10, 2023 from https:
//github.com/tensor/f_low/tensor/f_low/releases/tag/v1.6.0 .
[54]GitHub.com. 2023. TensorFlow 2.0.0. Retrieved January 10, 2023 from https:
//github.com/tensor/f_low/tensor/f_low/releases/tag/v2.0.0 .
[55]GitHub.com. 2023. TensorFlow 2.4.0. Retrieved January 10, 2023 from https:
//github.com/keras-team/keras/releases/tag/2.4.0 .
[56]Michael W.GodfreyandQiang Tu.2000. Evolution inOpenSource Software: A
Case Study. In ICSM.
[57]HaoGuan,YingXiao,LijiaYing,YepangLiu,andGuangdongBai.2023. ACom-
prehensive Study of Real-world Bugs in Machine Learning Model Optimization.
InICSE.
[58]Stefanus A Haryono, Ferdian Thung, Hong Jin Kang, Lucas Serrano, Gilles
Muller, Julia Lawall, and et al. 2020. Automatic Android Deprecated-API Usage
Updateby Learningfrom SingleUpdated Example. In ICPC.
[59]Stefanus A Haryono, Ferdian Thung, David Lo, Lingxiao Jiang, Julia Lawall,
HongJinKang, and et al.2022. AndroEvolve: AutomatedAndroid APIUpdate
With DataFlowAnalysis and VariableDenormalization. EMSE(2022).
[60]StefanusAHaryono,FerdianThung,DavidLo,JuliaLawall,andLingxiaoJiang.
2021. MLCatchUp: Automated Update of Deprecated Machine-learning APIs in
Python.In ICSME.
[61]Dongjie He, LianLi, Lei Wang, Hengjie Zheng, Guangwei Li,and Jingling Xue.
2018. Understanding and Detecting Evolution-induced Compatibility Issues in
Android Apps. In ASE.
[62]MohammadHesamHesamian,WenjingJia,XiangjianHe,andPaulKennedy.
2019. Deep Learning Techniques for Medical Image Segmentation: Achieve-
ments and Challenges. JDI(2019).
[63]Eric Horton and Chris Parnin. 2019. Dockerizeme: Automatic Inference of
EnvironmentDependencies for PythonCodeSnippets.In ICSE.
[64]Eric Hortonand ChrisParnin.2019. V2:FastDetection ofCon/f_igurationDrift
in Python.In ASE.
[65]HuaxunHuang,LiliWei,YepangLiu,andShing-ChiCheung.2018. Understand-
ingandDetectingCallbackCompatibilityIssuesforAndroidApplications.In
ASE.
[66]Huaxun Huang, Ming Wen, Lili Wei, Yepang Liu, and Shing-Chi Cheung. 2021.
CharacterizingandDetectingCon/f_igurationCompatibilityIssuesinAndroid
Apps. InASE.
[67]NargizHumbatova,GunelJahangirova,GabrieleBavota,VincenzoRiccio,An-
dreaStocco,andPaoloTonella.2020. TaxonomyofRealFaultsinDeepLearning
Systems. In ICSE.
[68]Md Johirul Islam, Giang Nguyen, Rangeet Pan, and Hridesh Rajan. 2019. A
ComprehensiveStudyonDeepLearningBugCharacteristics. In FSE.
[69] KamilJezekand JensDietrich.2017. API Evolutionand Compatibility:A Data
Corpus and ToolEvaluation. J.Object Technol. (2017).
487CompatibilityIssues in Deep Learning Systems: Problems andOpportunities ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
[70]Li Jia, Hao Zhong, Xiaoyin Wang, Linpeng Huang, and Xuansheng Lu. 2020.
AnEmpiricalStudyonBugs InsideTensorFlow. In DASFAA.
[71]Zhouyang Jia, Shanshan Li, Tingting Yu, Chen Zeng, Erci Xu, Xiaodong Liu,
and et al. 2021. DepOwl: Detecting Dependency Bugs to Prevent Compatibility
Failures. In ICSE.
[72]Maxime Lamothe, Weiyi Shang, and Tse-Hsun Peter Chen. 2020. A3: Assisting
Android API Migrations Using CodeExamples. TSE(2020).
[73]JunLi,YingfeiXiong,XuanzheLiu,andLuZhang.2013. HowDoesWebService
API Evolution Aﬀect Clients?. In ICWS.
[74]LiLi,TegawendéFBissyandé,YvesLeTraon,andJacquesKlein.2016. Accessing
InaccessibleAndroid APIs: AnEmpiricalStudy. In ICSME.
[75]Li Li, Tegawendé F Bissyandé, Haoyu Wang, and Jacques Klein. 2018. Cid:
Automating the Detection of API-related Compatibility Issues in Android Apps.
InISSTA.
[76]LiLi,JunGao,TegawendéFBissyandé,LeiMa,XinXia,andJacquesKlein.2018.
Characterising Deprecated Android APIs.In MSR.
[77]LiLi,JunGao,TegawendéFBissyandé,LeiMa,XinXia,andJacquesKlein.2020.
Cda: Characterising Deprecated Android APIs. EMSE(2020).
[78]Pei Liu, Yanjie Zhao, Haipeng Cai, Mattia Fazzini, John Grundy, and Li Li. 2022.
Automatically Detecting API-induced Compatibility Issues in Android Apps: A
ComparativeAnalysis (Replicability Study).In ISSTA.
[79]Zhihao Liu, Yang Zheng, Xiaoting Du, Zheng Hu, Wenjie Ding, Yanming Miao,
andetal.2022. TaxonomyofAging-relatedBugsinDeepLearningLibraries.In
ISSRE.
[80]Tarek Mahmud, Meiru Che, and Guowei Yang. 2021. Android Compatibility
Issue DetectionUsing API Diﬀerences.In SANER. 480–490.
[81]Tarek Makkouk, Dong Jae Kim, and Tse-Hsun Peter Chen. 2022. An Empirical
StudyonPerformance Bugs in DeepLearningFrameworks.In ICSME.
[82]AliMesbahandMukulRPrasad.2011. AutomatedCross-browserCompatibility
Testing.In ICSE.
[83]SajjadMozaﬀari,OmarYAl-Jarrah,MehrdadDianati,PaulJennings,andAlexan-
dros Mouzakitis. 2020. Deep Learning-based Vehicle Behavior Prediction for
Autonomous DrivingApplications:A Review. TITS(2020).
[84]SuchitaMukherjee, AbigailAlmanza,and CindyRubio-González.2021. Fixing
DependencyErrorsfor PythonBuild Reproducibility. In ISSTA.
[85]RomuloNascimento,AndreHora,andEduardoFigueiredo.2022. ExploringAPI
Deprecation Evolution in JavaScript.In SANER.
[86]AminNikanjam,MohammadMehdiMorovati,FoutseKhomh,andHoussem
BenBraiek.2022. FaultsinDeepReinforcementLearningPrograms:ATaxon-
omyand A DetectionApproach. ASE J(2022).
[87]Nvidia.com.2023. CUDACompatibility. https://docs.nvidia.com/deploy/cuda-
compatibility/index.html .
[88]HungVietPham,ShangshuQian,JiannanWang,ThibaudLutellier,Jonathan
Rosenthal, Lin Tan, and et al. 2020. Problems and Opportunities in Training
DeepLearningSoftwareSystems:AnAnalysis of Variance. In ASE.
[89]Andrey Ponomarenko and Vladimir Rubanov. 2011. Automatic Backward Com-
patibilityAnalysis of SoftwareComponentBinaryInterfaces. In CSAE.
[90]pytorch.org. 2023. torch.max. Retrieved June 14, 2023 from https://pytorch.org/
docs/1.5.0/torch.html#torch.max .
[91]Haowei Quan, Jiawei Wang, Bo Li, Xiaoning Du, Kui Liu, and Li Li. 2022. Char-
acterizing Python Method Evolution with PyMevol: An Essential Step Towards
Enabling ReliableSoftwareSystems. In ISSREW.
[92]Simone Scalabrino, Gabriele Bavota, Mario Linares-Vásquez, Michele Lanza,
and Rocco Oliveto. 2019. Data-driven Solutions to Detect API Compatibility
Issues in Android:AnEmpiricalStudy. In MSR.
[93]Qingchao Shen, Haoyang Ma, Junjie Chen, Yongqiang Tian, Shing-Chi Cheung,
and Xiang Chen. 2021. A Comprehensive Study of Deep Learning Compiler
Bugs.InFSE.
[94]Arnon Shimoni. 2023. Retrieved June 14, 2023 from https://arnon.dk/matching-
sm-architectures-arch-and-gencode-for-various-nvidia-cards/ .
[95]Pavel Shved and Denis Silakov. 2009. Binary Compatibility of Shared Libraries
Implemented in C++onGNU/LinuxSystems. In SYRCoSE.
[96]SMSohan,CraigAnslow,andFrankMaurer.2015. ACaseStudyofWebAPI
Evolution. In SERVICES .
[97]ZiheSong,YingfengChen,LeiMa,ShangjieLu,HongleiLin,ChangjieFan,and
et al. 2022. An Empirical Analysis of Compatibility Issues for Industrial Mobile
Games (Practical Experience Report). In ISSRE.
[98]Yulei Sui, Xiao Cheng, Guanqin Zhang, and Haoyu Wang. 2020. Flow2vec:
Value-/f_low-based PreciseCodeEmbedding. OOPSLA (2020).
[99]YuleiSuiandJinglingXue.2016. SVF:InterproceduralStaticValue-/f_lowAnalysis
in LLVM.In CC.
[100]Yulei Sui and Jingling Xue. 2018. Value-/f_low-based Demand-driven Pointer
Analysis for Cand C++. TSE(2018).
[101]Xiaoyu Sun, Xiao Chen, Yanjie Zhao, Pei Liu, John Grundy, and Li Li. 2022.
MiningAndroidAPIUsagetoGenerateUnitTestCasesforPinpointingCom-
patibilityIssues.In ASE.
[102]tensor/f_low.org. 2023. TensorFlow build guide. Retrieved January 10, 2023 from
https://www.tensor/f_low.org/install/source#tested_build_con/f_igurations .[103]Aparna Vadlamani, Rishitha Kalicheti, and Sridhar Chimalakonda. 2021.
APIScanner-TowardsAutomatedDetectionofDeprecatedAPIsinPythonLi-
braries. In ICSE-Companion .
[104]AnthonyJViera,JoanneM Garrett,et al .2005. UnderstandingInterobserver
Agreement: The KappaStatistic. Fammed (2005).
[105]ChengchengWan,ShichengLiu,HenryHoﬀmann,MichaelMaire,andShanLu.
2021. AreMachineLearningCloud APIsUsed Correctly?. In ICSE.
[106]ChaoWang,RongxinWu,HaohaoSong,JiwuShu,andGuoqingLi.2022. smart-
Pip: A Smart Approach to Resolving Python Dependency Con/f_lict Issues. In
ASE.
[107]Dinghua Wang, Shuqing Li, Guanping Xiao, Yepang Liu, and Yulei Sui. 2021.
AnExploratoryStudyofAutopilotSoftwareBugsinUnmannedAerialVehicles.
InFSE.
[108]Gan Wang, Zan Wang, Junjie Chen, Xiang Chen, and Ming Yan. 2022. An
EmpiricalStudyonNumerical Bugs in DeepLearningPrograms. In ASE.
[109]Jiawei Wang, Li Li, Kui Liu, and Haipeng Cai. 2020. Exploring How Deprecated
PythonLibraryAPIsAre(Not)Handled.In FSE.
[110]JiaweiWang,LiLi,andAndreasZeller.2021. RestoringExecutionEnvironments
of Jupyter Notebooks.In ICSE.
[111]Ying Wang, Ming Wen, Yepang Liu, Yibo Wang, Zhenming Li, Chao Wang, and
etal.2020. Watchman:MonitoringDependencyCon/f_lictsForPythonLibrary
Ecosystem.In ICSE.
[112]CodyWatson,NathanCooper, DavidNaderPalacio,KevinMoran,andDenys
Poshyvanyk.2022. ASystematicLiteratureReviewontheUseofDeepLearning
in SoftwareEngineering Research. TOSEM(2022).
[113]LiliWei,YepangLiu,andShing-ChiCheung.2016. TamingAndroidFragmenta-
tion:CharacterizingandDetectingCompatibilityIssuesforAndroidApps.In
ASE.
[114]Lili Wei, Yepang Liu, and Shing-Chi Cheung. 2019. Pivot: Learning API-device
Correlations to FacilitateAndroid Compatibility Issue Detection. In ICSE.
[115]LiliWei,YepangLiu,Shing-ChiCheung,HuaxunHuang,XuanLu,andXuanzhe
Liu. 2018. Understanding and Detecting Fragmentation-induced Compatibility
Issues for Android Apps. TSE(2018).
[116]LaerteXavier,AlineBrito,AndreHora,andMarcoTulioValente.2017.Historical
and Impact Analysis of API Breaking Changes: A Large-scale Study. In SANER.
[117]Hao Xia, Yuan Zhang, Yingtian Zhou, Xiaoting Chen, Yang Wang, Xiangyu
Zhang, and et al. 2020. How Android Developers Handle Evolution-induced
API Compatibility Issues: A Large-scale Study. In ICSE.
[118]GuanpingXiao,XiaotingDu,YuleiSui,andTaoYue.2020. Hindbr:Heteroge-
neous Information Networkbased Duplicate BugReport Prediction.In ISSRE.
[119]GuanpingXiao,JunLiu,ZhengZheng,andYuleiSui.2021. Nondeterministic
Impactof CPUMultithreading onTraining DeepLearningSystems. In ISSRE.
[120]GuoweiYang,JeﬀreyJones,AustinMoninger,andMeiruChe.2018. HowDo
Android Operating SystemUpdates ImpactApps?. In MOBILESoft .
[121]Xin-Li Yang, David Lo, Xin Xia, Zhi-Yuan Wan, and Jian-Ling Sun. 2016. What
Security Questions Do Developers Ask? A Large-scale Study of Stack Over/f_low
Posts.JCST(2016).
[122]Yilin Yang, Tianxing He, Zhilong Xia, and Yang Feng. 2022. A Comprehensive
Empirical Study on Bug Characteristics of Deep Learning Frameworks. IST
(2022).
[123]JerinYasmin,YuanTian,andJinqiuYang.2020. AFirstLookatTheDeprecation
of RESTfulAPIs: AnEmpiricalStudy. In ICSME.
[124]Hongjie Ye, Wei Chen, Wensheng Dou, Guoquan Wu, and Jun Wei. 2022.
Knowledge-BasedEnvironmentDependencyInferenceforPythonPrograms.
InICSE.
[125]RuZhang,WencongXiao,HongyuZhang,YuLiu,HaoxiangLin,andMaoYang.
2020. An Empirical Study on Program Failures of Deep Learning Jobs. In ICSE.
[126]Tianyi Zhang, Cuiyun Gao, Lei Ma, Michael Lyu, and Miryung Kim. 2019.
An Empirical Study of Common Challenges in Developing Deep Learning
Applications. In ISSRE.
[127]Yuhao Zhang, Yifan Chen, Shing-Chi Cheung, Yingfei Xiong, and Lu Zhang.
2018. AnEmpiricalStudyonTensorFlowProgramBugs.In ISSTA.
[128]ZejunZhang,YanmingYang,XinXia,DavidLo,XiaoxueRen,andJohnGrundy.
2021. UnveilingtheMysteryofAPIEvolutioninDeepLearningFrameworks:A
Case Studyof TensorFlow2.In ICSE-SEIP .
[129]Zhaoxu Zhang, Hengcheng Zhu, Ming Wen, Yida Tao, Yepang Liu, and Yingfei
Xiong.2020. HowDoPythonFrameworkAPIsEvolve?AnExploratoryStudy.
InSANER.
[130]Yanjie Zhao, Li Li, Kui Liu, and John Grundy. 2022. Towards Automatically
Repairing Compatibility Issues in Published Android Apps. In ICSE.
[131]Chenguang Zhu, Ripon K Saha, Mukul R Prasad, and Sarfraz Khurshid. 2021.
Restoring the Executability of Jupyter Notebooks by Automatic Upgrade of
Deprecated APIs.In ASE.
[132]Jianfei Zhu, Guanping Xiao, Zheng Zheng, and Yulei Sui. 2022. Enhancing
TraceabilityLink Recoverywith Unlabeled Data. In ISSRE.
Received 2023-02-02; accepted 2023-07-27
488