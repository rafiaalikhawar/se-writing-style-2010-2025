Push-Button Synthesis of Watch Companions for Android Apps
Cong Li
State Key Lab for Novel Software
Technology and Department of
Computer Science and Technology,
Nanjing University, Nanjing, China
congli@smail.nju.edu.cnYanyan Jiang
State Key Lab for Novel Software
Technology and Department of
Computer Science and Technology,
Nanjing University, Nanjing, China
jyy@nju.edu.cnChang Xu
State Key Lab for Novel Software
Technology and Department of
Computer Science and Technology,
Nanjing University, Nanjing, China
changxu@nju.edu.cn
ABSTRACT
Most Android apps lack their counterparts on convenient smart-
watch devices, possibly due to non-trivial engineering efforts re-
quiredinthenewappdesignandcodedevelopment.Inspiredby
the observation that widgets on a smartphone can be mirrored to a
smartwatch,thispaperpresentstheJigsawframeworktogreatlyal-leviatesuchengineeringefforts.Particularly,Jigsawenablesapush-
button development of smartphone‚Äôs companion watch apps by
leveragingtheprogrammingbyexampleparadigm,versionspace
algebra, and constraint solving. Our experiments on 16 popular
open-source apps validated the effectiveness of our synthesis algo-
rithm,aswellastheirpracticalusefulnessinsynthesizingusable
watch companions.
CCS CONCEPTS
‚Ä¢Softwareanditsengineering ‚ÜíSoftwaremaintenancetools ;
Application specific development environments .
KEYWORDS
Android apps, WearOS apps, program synthesis
ACM Reference Format:
CongLi,YanyanJiang,andChangXu.2022.Push-ButtonSynthesisofWatch
CompanionsforAndroidApps.In 44thInternationalConferenceonSoftware
Engineering (ICSE ‚Äô22), May 21‚Äì29, 2022, Pittsburgh, PA, USA. ACM, New
York, NY, USA, 12pages.https://doi.org/10.1145/3510003.3510056
1 INTRODUCTION
Smartwatch is a fast-growing market since Apple Watch‚Äôs first
release in 2015 [ 73]. It has been predicted that over 140 million
smartwatches will be shipped in 2021 [ 65], and the market share
of WearOS (an Android variant designed for smartwatches) will
increaseby72.8%in2022[ 64].Beinglightweightandconvenient,
smartwatches significantly reduce user‚Äôs efforts for performing
simple yet regular daily tasks, e.g., receiving notifications, making
aphonecall,andaddingaquicknote[ 25,37].WearOSalsoattracts
developers‚Äô attention: Every year, Google releases news and tutori-
alsonthedevelopmentofWearOSappsonAndroidDevSummit
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
on the first page. Copyrights for components of this work owned by others than ACMmustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,orrepublish,topostonserversortoredistributetolists,requirespriorspecificpermissionand/ora
fee. Request permissions from permissions@acm.org.
ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
¬© 2022 Association for Computing Machinery.
ACM ISBN 978-1-4503-9221-1/22/05...$15.00
https://doi.org/10.1145/3510003.3510056[27]; and Twitter, Spotify, Outlook, and Google-family app all have
official smartwatch counterparts on Google Play Store.
However,thereisaneasilyoverlookedgapbetweenthesmart-
phone developers and smartwatch (hereafter, watch) apps, making
the prospect of watch apps left far behind the smartphone. Specifi-
cally, watch apps speak a considerably different design language
from smartphone apps [ 25,28] due to limited screen space, per-
formance, and battery life. Porting an app to the watch platformrequires non-trivial engineering efforts [
15], including redesign-
ing user experiences and adaptation to watch APIs. Consequently,
thereareonly ‚àº4,000WearOSappsinGooglePlayStore[ 16],while
Android apps are ‚àº2.8 million. For a majority of apps, watch users
cannot exploit the convenience that a watch brings.
As a first exploratory work to bridge the gap, we observe that
an Android app‚Äôs watch counterpart could be automatically syn-thesized by mirroring smartphone widgets to a watch. In other
words, a watch app can be effectively regarded as a smartphone
app‚Äôscompanion which acts as a remote agent:
(1)When the on-watch companion app is active, it is always
synchronized with its associated smartphone app (running
inbackground).Thesynchronizationautomaticallymigrates
a subset of widgets on the Android app to the watch and
renders them in a watch-friendly GUI layout.
(2)Watch users can interact with the migrated widgets. All
actions(e.g.,clicks)performedonthewatcharedelegated
back to the background app on the smartphone, whose GUI
changes are kept synchronized with the watch companion.
Thisbridgingcansignificantlyreducetheengineeringeffortsre-
quiredfordevelopingwatchapps.Forthisgoal,thispaperpresents
a framework called Jigsaw for assisting developers in creating
such smartphone companion apps as easily as push-button. Jigsawleveragestheprogrammingbyexample[
30,32]paradigminwhich
developers annotate positiveandnegativewidgetexamples(wid-
getsshould/notbemirrored)overGUIlayoutdumps.Then,Jigsaw
automates all the rest by:
(1)synthesizing a widget selector ùë†, a small piece of domain-
specific language program (more precisely, a disjunction of
XPathsformatchingpathsonanXMLtree),thatgeneralizes
the developer‚Äôsannotations. ùë†takes anyGUI layouttree as
input and produces (selects) a subset of widgets that should
be mirrored on the watch screen.
(2)synthesizinganinstallablewatchcompanionapp(byinstan-tiatingatemplate)forcommunicationswiththesmartphone
and displaying mirrored widgets.
(3)injectingabackgroundserverstubtothesmartphoneappfor
monitoring GUI changes, applying the synthesized selector
17932022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
Version Space AlgebraPositive 
ExamplesNegative 
Examples
Android App App GUI Model
History Calculation
 
‚à®	

Widget Selector Synthesis Server Stub
applygrid synthesis: 
recompose as grid displaydelegate eventAndroid App Companion (Client)Widget Composition (Online) Widget Selection (Offline) Programming by Example
ss=
‚àÄw.r<rw
‚àÄw.0 ‚â§ c‚â§cw‚â§4
r=0‚àßc=0‚áì
Figure1:Jigsawoverview.Withdeveloper-annotatedexamplesontheGUImodel,JigsawforeachGUImodelstatesynthesizes
awidgetselector.Whenthesmartphoneapp‚ÄôsGUIlayoutchangesatruntime,itsassociatedwidgetselectorisactivatedtoselect
widgetstomirror,reorganizethemasagrid,andsendthemtothewatchclientfordisplay.Alluseractionsperformedonthewatch companion are delegated to the app.
ùë†
, and solving a grid system for appropriately positioning
selectedwidgetssuchthattherelativewidgetpositionson
the smartphone can also be preserved on the watch.
WeimplementedtheJigsawSDK(synthesizer,appserverstub,
and watch client template) for automating the development ofsmartwatch companion apps. We evaluated Jigsaw by creating
watch companions for 16 popular open-source Android apps (all
without a watch counterpart yet). The results are encouraging that
synthesizedwidgetselectorswellgeneralizeannotatedexamples
withhighprecisionandrecall,andselectedwidgetsareusefulin
helping users complete real-world user tasks.
Insummary,thispaper‚Äôsmajorcontributionisafirstexploratory
report on the possibility of automating the process of synthesizing
an Android app‚Äôs smartwatch companion. We also open-source
our prototype tool and other supplementary materials to facilitate
future research in this domain:
https://sites.google.com/view/jigsaw-wapp.
Therestofthepaperisorganizedasfollows.Wegiveanoverview
of JigsawandexplainourmethodologyinSection 2.TheJigsaw
approach and implementation details of Jigsaw SDK are presented
in Section 3. We describe the evaluation in Section 4and elaborate
on related work in Section 5. This paper is concluded in Section 6.
2 METHODOLOGY
The Jigsaw workflow is shown in Figure 1. Given annotated ex-
amples, Jigsaw produces aserver stub (includingthe synthesized
widget selector) for the smartphone app and an installable WearOS
APK. In this procedure, we identified two key problems1:
(1)Widgetselection :howtodeterminewhichwidgetsshould
be selected to mirror on the watch?
(2)Widgetcomposition :howto(re)composeselectedwidgets
to fit the watch screen?
The challenges and our methodology to mitigate them are ex-
plained below.
1Other issues are mainly related to engineering.2.1 Widget Selection: Programming by
Example Modulo App States
An Android app may contain hundreds of GUIs and thousands
of widgets, but the developer may like to provide only a limited
numberofannotatedexamples.Itisthusnotpracticaltosynthesize
a single widget selector that can generalize to all GUIs. This brings
our first challenge:
Challenge 1 .How to find a mechanism to effectively synthesize
widget selectors from only a few examples?
The first step towards effective widget selector synthesis is to
leverage the app‚Äôs GUI model to separately conduct program syn-
thesis for each app state, yielding smaller-scale program synthe-sisprobleminstances.Specifically,anapp‚ÄôsGUImodelisafinite
state machine in which homogeneous GUI layouts share the same
appstate2.Itistherebynaturaltosynthesizeforeachappstatea
separateselectorbecauseasingle,concisewidgetselectorhardly
generalizes well to drastically different GUI layouts. Furthermore,
appstateswithoutexamplescanbeassignedwithatrivialwidget
selectorthatselectsnowidget.Suchabsenceofexamplesusually
indicates that this app state may not have to be synchronized with
the watch companion.
Forexample,adeveloper(oradynamicanalysis[ 4,14,40,45,70,
74]) may provide Google Calculator [ 58] a GUI model consisting
oftwostates(Figure 1):CalculationandHistory.Widgetselector
synthesis is then conducted per state.
The simplified program synthesis sub-problems make the pow-
erful tool version space algebra [42] a tractable choice for widget
selector synthesis3. Particularly, we designed an automaton-based
domain-specific language (DSL) for describing a disjunction of
XPaths [72] denoted by directed graphs in which each edge is asso-
ciated with a widget selection constraint. Applying the selector to
any GUI layout tree yields a set of selected widgets. The synthesis
procedure roughly works as follows. For each positive example,
we construct its version space consisting of all possible selectors
that arecompatible with thispositive example. Then, weconduct
2Suchmodelscanbedefinedbydevelopersorautomaticallyextractedbasedonthe
Activity s/Fragment s or execution traces [4, 14,40,45,70,74].
3Assumingthateachappstatecorrespondstoadifferentwidgetselector,thesizeof
version space intersections grows exponentially with the number of examples.
1794
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. Push-Button Synthesis of Watch Companions for Android Apps ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
	


!*"(
	!'
	
		

+

!!

Figure 2: GUI layout for Google Calculator
intersection (generalization) of version spaces until no further gen-
eralization can be performed. Disjunction of the XPaths in the
remainder version spaces yields candidate widget selectors. We
filter out invalid selectors (that select negative examples) and rank
the candidate for a balanced simplicity and generalizability.
ForthemotivatingexampleofGoogleCalculator[ 58]inFigure 1,
the synthesized selector for Figure 1‚Äôs Calculation state is
/**/(id=main)/*/*/*
‚à®/**/(id=display )/*,
wherethefirstlineselectsthenumericandoperatorwidgetsand
thesecond lineselectsthe formulaand calculationresultwidgets.
Figure2displaystheGUIlayouttree.Jigsawsynthesizestwoin-
dependent XPaths because numeric and operator widgets sharethe
maincontainer, and the formula and calculation result share
thedisplaycontainer. We shall explain more about how a widget
selector works and is synthesized later in Section 3.
2.2 WidgetComposition:SolvingaGridSystem
The GUI layout on the phone is synchronized with the watch by
invokingthesynthesizedwidgetselectorwhenevertheapp‚ÄôsGUI
layoutchanges.Then,selectedwidgetsshouldbepositionedonthe
watchinadeveloper-friendlyway.Thisyieldsoursecondchallenge:
Challenge 2 .Howtoefficientlyassignboundboxesforon-watch
widgets to maximally preserve their relative positions at runtime?
Our widget composition follows the grid system, a classical and
widely used paradigm in graphic and GUI design [ 10,17,18,36,
54]. Specifically, a grid system is an ùëö√óùëõmatrix in which cells
arecontainersofwidgets(awidgetisallowedtooccupymultiple
adjacent cells). Given ùëõ(the number of columns) by the developer,
Jigsawsynthesizesaminimum ùëö√óùëõgridsuchthatforanypairof
selected(phone)widgets ùë§1‚â∫ùë§2(‚â∫denotestherelativerelationof
bound boxes, i.e., ùë§1is to the left/top of ùë§2),ùë§1‚â∫ùë§2is preserved
inthesynthesizedgrid.Weintentionallymadealltheseconstraints
linear, such that constraint solving for practical GUIs can be done
in milliseconds.
For the motivating example in Figure 1, Jigsaw created con-
straints to enforce the formula widget to be placed above all other
widgets, yielding our synthesized layout.3 PUSH-BUTTON SYNTHESIS OF WATCH
COMPANIONS FOR ANDROID APPS
3.1 Widget Selection: Selector Synthesis
Widgets and GUI layout . An Android app‚Äôs GUI snapshot is a
rooted tree (Figure 2) in which nodes are widgetsand edges denote
thedirectcontainingrelation.InaGUIlayouttree,branchnodes
are usually container widgets holding other widgets as children,
while leaf nodes display information and handle user events. This
paper defines a widget as a set of attribute-value pairs where each
pair denotes an attribute and its value.
Widget selection by examples . A widget is localized by its an-
cestors in the GUI layout tree. Therefore, this paper defines thewidget path for a widget
ùë§as the widget list in the shortest path
from the root container ùë§1toùë§ùëõ=ùë§in the GUI layout tree:
ùúî=[ùë§1,ùë§2,¬∑¬∑¬∑,ùë§ùëõ], whereùë§ùëñ‚àí1is the direct parent of ùë§ùëñfor all
1<ùëñ‚â§ùëõ.
Jigsawtakesdeveloperorend-userspecifiedpositiveandneg-
ative example sets ùê∏+andùê∏‚àí(elements of ùê∏+andùê∏‚àíare widget
paths)asinput4andsynthesizesa widgetselector,apieceofdomain-
specific language (DSL)program ùë†that accepts allexamples in ùê∏+
and rejects any example in ùê∏‚àí, i.e.,
(ùê∏+‚äÜ/dblbracketleftùë†/dblbracketright )‚àß(ùê∏‚àí‚à©/dblbracketleftùë†/dblbracketright=‚àÖ)
in which /dblbracketleftùë†/dblbracketrightdenotes all widget paths ùë†can accept.
Widget selectors . The syntax of widget selector ùë†is defined as a
disjunction of one or more XPaths ùë•:
Selector ùë†::=ùë•|ùë†‚à®ùë•
XPath ùë•::= /‚Ñì|ùë•/‚Ñì
Level Condition ‚Ñì::= (ùúë)|*|**
Condition ùúë::=attr op val |ùúë‚àßùúë
Attribute attr::=widget attribute, e.g., id
Operator op::=allowed operator, e.g., =
Attribute Value val::=attribute value
The semantics of ùë†(/dblbracketleftùë†/dblbracketright, all widget paths ùë†can accept) is defined
by/dblbracketleftùë†‚à®ùë•/dblbracketright=/dblbracketleftùë†/dblbracketright‚à™/dblbracketleftùë•/dblbracketright,where/dblbracketleftùë•/dblbracketrightdenotesallpossiblewidgetpaths
ùë•canaccept.Specifically,givenawidgetpath ùúî=[ùë§1,ùë§2,¬∑¬∑¬∑,ùë§ùëõ],
anXPath ùë•matchesùúî(ùúî‚àà/dblbracketleftùë•/dblbracketright)ifùúîcanbewrittenasaconcate-
nationof ùúî=ùúî1::ùúî2::¬∑¬∑¬∑::ùúîùëösuchthatthe ùëò-thlevelcondition
‚Ñìùëòinùë•=/‚Ñì1/‚Ñì2/¬∑¬∑¬∑/‚Ñìùëömatchesùúîùëòvia the following rules:
(1)‚Äúattr opval ‚Äùmatchesexactlyonewidgetonlyifthewidget‚Äôs
attribute attrsatisfies the attr op val condition.
(2)‚Äú*‚Äù matchesexactly onewidget no matterits attributes.‚Äú *‚Äù
can be regarded as an always-true op.
(3)‚Äú**‚Äù matches zero or more widgets. There is an additional
requirement that ùë•cannot end with ‚Äú **‚Äù.
For example,
ùë•=/*/(id=‚Äòformula‚Äô ‚àßtextstartswith ‚Äò1‚Äô)
accepts all 2-widget paths [ùë§1,ùë§2]ifùë§2‚Äôsidisformulaandtext
starts with ‚Äò1‚Äô. Another example is ùë•=/**/*for accepting all
widget paths. Since our definition of ùë•is a subset of the XPath
standard [72], we do not further formalize them.
4Obtaining examples are easy even for an end-user: one can provide a GUI tool for
letting the users mark for the positive/negative examples.
1795
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
vs=1 v2 v3 v4 vt=5 
 


	 
  


	
Figure 3: Graph representation of version space for widget
pathùúî=[decor,main,pad_basic,pad_numeric,digit _9].R e d
path derives XPath /**/id=pad _numeric/id=digit _9.
Version spaces . Thesynthesisalgorithmis basedonthe version
space algebra [42], in which each positive example
ùúî=[ùë§1,ùë§2,¬∑¬∑¬∑,ùë§ùëõ]‚ààùê∏+
is associated with its version space VS(ùúî)=ùê∫(ùëâ,ùê∏), a labeled
directed graph (with self-loops and parallel edges) for a conciserepresentation of all XPaths that can match
ùúî.I nùê∫(ùëâ,ùê∏), each
vertexùë£ùëñ‚ààùëâ={ùë£1,...,ùë£ùëõ}corresponds to ùë§ùëñ‚ààùúîand
ùê∏={(ùë£ùëñ,ùë£ùëó,**)|1‚â§ùëñ‚â§ùëó<ùëõ}‚à™
{(ùë£ùëñ,ùë£ùëñ+1,*)|1‚â§ùëñ<ùëõ}‚à™
{(ùë£ùëñ,ùë£ùëñ+1,‚Ñì)|‚Ñì‚ààLCond(ùë§ùëñ+1)‚àß1‚â§ùëñ<ùëõ}
where LCond(ùë§)isallpossiblelevelconditionsthatcanmatch ùë§.
Specifically, we found that the equality operator ( =) suffices for
widget companion synthesis in practice5, i.e.,
LCond(ùë§)={(/logicalandtext.1
ùúë‚ààùëÜùúë)|ùëÜ‚äÜCond(ùë§)}
Cond(ùë§)={attr=val|(attr,val)‚ààùë§}.
Given VS(ùúî)=ùê∫(ùëâ,ùê∏), there exists exactly one ‚Äúsource‚Äù vertex
ùë£ùë†‚ààùëâwithout incoming edge (not considering self-loops) and
one ‚Äúsink‚Äù vertex ùë£ùë°‚ààùëâof zero out-degree. Each ùë£ùë†‚Üíùë£ùë°path
corresponds toan XPath bymapping each labelon the edge as a
levelcondition ‚Ñì.Furthermore, ùê∫isacyclicifself-loopsareremoved.
Therefore,wecandefine X(ùê∫),allXPathsderivedfrom ùê∫,asthe
XPathsforall ùë£ùë†‚Üíùë£ùë°paths(withoutconsecutive **edges)in ùê∫.
Figure3displaystheversionspaceofadigitwidget
 inGoogle
Calculator.
Version spaces intersections . Intersecting two version spaces
ùê∫(ùëâ,ùê∏)andùê∫/prime(ùëâ/prime,ùê∏/prime)yieldsthegraphrepresentationofXPaths
thataresimultaneouslyacceptableto ùê∫andùê∫/prime.Theintersection
ùê∫/intersectionsqùê∫/primeis also a graph ùê∫/intersectionsq(ùëâ/intersectionsq,ùê∏/intersectionsq)where
ùëâ/intersectionsq={/angbracketleftùë£,ùë£/prime/angbracketright|ùë£‚ààùëâ‚àßùë£/prime‚ààùëâ/prime}
ùê∏/intersectionsq={(/angbracketleftùë¢,ùë¢/prime/angbracketright,/angbracketleftùë£,ùë£/prime/angbracketright,‚Ñì/intersectionsq‚Ñì/prime)|(ùë¢,ùë£,‚Ñì)‚ààùê∏‚àß(ùë¢/prime,ùë£/prime,‚Ñì/prime)‚ààùê∏/prime}
Intermsthat ‚Ñìmatchesùë£/primeand‚Ñì/primematchesùë£,theintersectionoflevel
conditions ( ‚Ñì/intersectionsq‚Ñì/prime) is defined by the conjunction of ‚Ñìand‚Ñì/prime:
(ùúë)/intersectionsq(ùúë/prime)=(ùúë‚àßùúë/prime), (ùúë)/intersectionsq*=(ùúë),
*/intersectionsq*=*, (ùúë)/intersectionsq**=‚ä•,
**/intersectionsq**=**, */intersectionsq**=‚ä•.
Itiseasytoverifythatthereisexactlyonesourcevertexandone
sink vertex in ùëâ/intersectionsq, and thus X(ùê∫/intersectionsq)is well-defined. Furthermore,
our intersection soundly captures the widgets paths acceptable to
5Versionspacealgebrasupportsotheroperators,e.g.,string startswith orcomparisons
withconstants[ 30].However,theseoperatorshaveonlylimitedmeritsinselecting
widgets.Algorithm 1: Widget selector synthesis
1Function SynthesizeSelector (ùê∏+,ùê∏‚àí)
2 Œ©‚Üê{ VS(ùúî)|ùúî‚ààùê∏+};
3while‚àÉùê∫1,ùê∫2‚ààŒ©.¬¨trivial(ùê∫1/intersectionsqùê∫2)do
4 ùê∫‚àó
1,ùê∫‚àó
2=argmax
ùê∫1,ùê∫2‚ààŒ©
¬¨trivial(ùê∫1/intersectionsqùê∫2)/barex/barex/braceleftbig
ùê∫‚ààŒ©|¬¨trivial(ùê∫1/intersectionsqùê∫2/intersectionsqùê∫)
‚à®(trivial(ùê∫1/intersectionsqùê∫)‚àßtrivial(ùê∫2/intersectionsqùê∫))/bracerightbig/barex/barex
+|X(ùê∫
1/intersectionsqùê∫2)|
max{|X(ùê∫1)|,|X(ùê∫2)|};
5 Œ©‚Üê/parenleftbigŒ©\{ùê∫‚àó
1,ùê∫‚àó
2}/parenrightbig‚à™{ùê∫‚àó
1/intersectionsqùê∫‚àó
2};
6return{ùë†=(ùë•1‚à®¬∑¬∑¬∑‚à®ùë•|Œ©|)|ùë•ùëñ‚ààX(ùê∫ùëñ),ùê∫ùëñ‚ààŒ©,
ùê∏+‚äÜ/dblbracketleftùë†/dblbracketright,ùê∏‚àí‚à©/dblbracketleftùë†/dblbracketright=‚àÖ};
XPathsinboth ùê∫andùê∫/prime,i.e.,forall ùë•‚ààX(ùê∫)andùë•/prime‚ààX(ùê∫/prime)that
/dblbracketleftùë•/dblbracketright‚à©/dblbracketleftùë•/prime/dblbracketright‚â†‚àÖ, there exists ùë•/intersectionsq‚ààX(ùê∫/intersectionsqùê∫/prime)such that
/dblbracketleftùë•/dblbracketright‚à©/dblbracketleftùë•/prime/dblbracketright=/dblbracketleftùë•/intersectionsq/dblbracketright.
Readers may refer to supplementary material for a brief proof.
Widgetselectorsynthesis . Synthesizing widget selectors is con-
ceptually simple by intersecting all version spaces
ùê∫(ùëâ,ùê∏)=/intersectionsqdisplay.1
ùúî‚ààùê∏+VS(ùúî).
Any XPath ùë•‚ààX (ùê∫)that is consistent with positive/negative
examplesisafeasibleselector.However,thesynthesisprocedure
should be carefully handled in practice because:
(1)The intersection of two graphs of ùëÇ(ùëõ)vertices can have
ùëÇ(ùëõ2)vertices. This is an exponential growth with the num-
ber of examples.
(2)Intersecting version spaces may yield useless, trivial ùê∫of
whom all derived XPaths are equivalent to /**/*, i.e.,
trivial(ùê∫)=/latticetop‚áî‚àÄùë•‚ààX(ùê∫)./dblbracketleftùë•/dblbracketright=/dblbracketleft/**/*/dblbracketright.
Thissuggeststhatwidgetsshouldbeseparatelyselectedwith
disjunction (‚à®).
Therefore,oursynthesisalgorithm(Algorithm 1)heuristicallyinter-
sects version spaces following existing literature [ 30]. Specifically,
we maintain a pool of version spaces Œ©, which initially contains
eachùúî‚ààùê∏+‚Äôs version space (Line 2). In each iteration (Lines 3‚Äì5),
we greedily intersect two version spaces that potentially yield a
minimal yet non-trivial intersection (Line 5). Among non-trivial in-
tersections, the preference score of (ùê∫1,ùê∫2)is calculated by letting
allùê∫‚ààŒ©to vote (Line 4). Particularly,
(1)ùê∫votesfor (ùê∫1,ùê∫2)if¬¨trivial(ùê∫1/intersectionsqùê∫2/intersectionsqùê∫),indicatingthat
ùê∫1/intersectionsqùê∫2makesitpossibletocontinueintersectingwith ùê∫in
next iterations.
(2)ùê∫votes for (ùê∫1,ùê∫2)iftrivial(ùê∫1/intersectionsqùê∫)‚àßtrivial(ùê∫2/intersectionsqùê∫),
indicatingthat ùê∫1/intersectionsqùê∫2doesnotaffectafterwardintersections
betweenùê∫and other version spaces.
(3)Ifmultiple ùê∫sharethesamenumberofvotes,weadditionally
considerthenumberofXPathsintheintersection(thelast
term, which is always ‚â§1).
Theintersectionisrepeateduntilallfurtherintersectionsaretrivial.
Finally,thesetofallwidgetselectorsthatcomplywiththeexamples
(Line 6) are returned as candidates.
1796
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. Push-Button Synthesis of Watch Companions for Android Apps ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Ranking candidate widget selectors . All candidates ùë†‚ààùëÜare
feasible selectors that are consistent with ùê∏+andùê∏‚àí. Among them,
we should choose a best selector that has the potential to general-
izetounseenGUIlayouts.Specifically,let Wbeallwidgetpaths
in the example GUI layout trees (either positive or negative), we
prefer selectors that are structurally simple following the Occam‚Äôs
razor [9] while can simultaneously select as many widget paths
intheexamplesaspossible,i.e.,maximizing |/dblbracketleftùë†/dblbracketright‚à©W|forbetter
generalizability. Therefore, we choose the best candidate
ùë†‚òÖ=argmin
ùë†‚ààùëÜ/parenleftBigg
complexity (ùë†)
maxùë†/prime‚ààùëÜcomplexity (ùë†/prime)‚àí/barex/barex/dblbracketleftùë†/dblbracketright‚à©W/barex/barex
maxùë†/prime‚ààùëÜ/barex/barex/dblbracketleftùë†/prime/dblbracketright‚à©W/barex/barex/parenrightBigg
as our synthesized widget selector, in which the complexity (ùë†=
ùë•1‚à®ùë•2¬∑¬∑¬∑‚à®ùë•ùëõ)=/summationtext.1
1‚â§ùëñ‚â§ùëõcomplexity (ùë•ùëñ), and complexity (ùë•)
for XPath ùë•is based on frequent patterns and anti-patterns of level
conditionsinXPaths.Eachpatternisasinglelevelcondition(e.g., *),
a consecutive level conditions (e.g., */*,**/(ùúë)), or a combination
(e.g., **/¬∑¬∑¬∑/*) associated with a positive/negative score. Readers
may refer to the supplementary material for all patterns.
3.2 Widget Composition: Grid Synthesis
Assigning widget coordinates . Given a set of selected widgets
ùëä, we assign each widget ùë§‚ààùëäa cell position (ùëüùë§,ùëêùë§)in the
ùëö√óùëõgrid,where ùëõisspecifiedbythedeveloperand ùëöisminimized
by the constraint solver. To preserve spatial locality, we produce
eachpairofwidgets ùë§,ùë§/prime‚ààùëäalinearconstraint ùúôùë§,ùë§/primethatifùë§
is tothe top/leftof ùë§/primeon thephone, ùë§should bepositioned inan
upper/left cell of ùë§/primeon the watch. Specifically,
ùúôùë§,ùë§/prime=row(ùë§,ùë§/prime)‚àßcol(ùë§,ùë§/prime)
row(ùë§,ùë§/prime)=‚éß‚é™‚é™‚é™‚é™‚é™ ‚é®
‚é™‚é™‚é™‚é™‚é™‚é©0‚â§ùëü
ùë§<ùëüùë§/prime<ùëö,ifb(ùë§)‚â§t(ùë§/prime)
0‚â§ùëüùë§‚â§ùëüùë§/prime<ùëö,ift(ùë§)‚â§t(ùë§/prime)<b(ùë§)<t(ùë§/prime)
0‚â§ùëüùë§=ùëüùë§/prime<ùëö,ift(ùë§)=t(ùë§/prime)‚àßb(ùë§)=b(ùë§/prime)
true, otherwise
col(ùë§,ùë§/prime)=‚éß‚é™‚é™‚é™‚é™‚é™ ‚é®
‚é™‚é™‚é™‚é™‚é™‚é©0‚â§ùëê
ùë§<ùëêùë§/prime<ùëõ,ifr(ùë§)‚â§l(ùë§/prime)
0‚â§ùëêùë§‚â§ùëêùë§/prime<ùëõ,ifl(ùë§)‚â§l(ùë§/prime)<r(ùë§)<l(ùë§/prime)
0‚â§ùëêùë§=ùëêùë§/prime<ùëõ,ifl(ùë§)=l(ùë§/prime)‚àßr(ùë§)=r(ùë§/prime)
true, otherwise
where functions t,b,l, andrdenote the top, bottom, left, and right
bound boxesof awidget, respectively. Forexample, thefollowing
constraints are produced for
 and
:
ùúôdigit _0,digit _9=true‚àß0‚â§ùëêdigit _0<ùëêdigit _9‚â§ùëõ
ùúôdigit _9,digit _0=0‚â§ùëüdigit _9<ùëüdigit _0<ùëö‚àßtrue.
We solve the conjunction of all above constraints
Œ¶ùëä=/logicalanddisplay.1
ùë§,ùë§/prime‚ààùëäùúôùë§,ùë§/prime
to obtain each widget‚Äôs grid position (ùëü,ùëê)with a minimized ùëö.I n
the example,
(ùëüdigit _9,ùëêdigit _9)=(2,2),(ùëüdigit _0,ùëêdigit _0)=(5,0).
Reflowingwidgets . Sometimes,constraintsolvingmayfailifthe
specified grid is too narrow (too small ùëõ). For example, selecting ùëò
widgets in a row requires ùëõ‚â•ùëòto preserve their relative positions.
Insuchacase,wefindtheminimum ùëõ/primetoyieldaSATand reflowtheùëö√óùëõ/primegrid toùëõcolumns by wrapping the overflowed columns
like the rendering of HTML divs[61].
Furthermore, a large widget may look better if it occupies multi-
plegridcellsonthewatch(e.g.,the calculationresultinFigure 1).
ConsideringthatGUIcompositionisreal-time,insteadofadding
further pressure to the constraint solver, we allow developers to
manually specify which widgets should span multiple columns.
Suchwidgetsareusuallyamustintheselection,andamissoften
leads to a synthesis error.
3.3 Prototype Implementation
We integrated the algorithms as Jigsaw SDK consists of ‚àº2,000
linesofPython, ‚àº2,000linesofKotlin,and ‚àº750linesofTypescript.
The SDK consists of three major components:
Thesynthesizer(JwSyn)implementsthewidgetselectorsynthe-
sisalgorithm(Section 3.1),inwhichexamplesarerepresentedby
annotatedUIAutomator[ 26]dumps.Observingthatalongchain
ofnestedcontainerwidgetsslowsdownthesynthesisprocedure
(which is common in practical dumps), JwSyn compresses the GUI
layout by removing container widgets with only one child. Consid-
ering that widget attributes except idcan only play a small role in
selection generalization, we implemented JwSyn as using the id
attribute only by default. However, users can also configure JwSyn
to open other attributes.
The server stub (JwStub) is a background service associated
with the phone app. JwStub privately maintains an internal ac-
tivity stack for GUI layout dumps. Delegated events are directly
invoked through interfaces like Activity#dispatchTouchEvent()
with InputManager beingbypassed(internallymaintainedGUIsare
notsenttotherenderingpipeline).TheservicemonitorsGUIlayout
changes, applies the synthesized widget selector, and invokes an
AndroidportofZ3[ 75]tosolveconstraintstocomposetheselected
widgets (Section 3.2). Finally, JwStub is kept alive by starting itself
in a detached thread to prevent being killed by the system‚Äôs task
manager.
The watch companion app template (JwCli) can be instantiated
withdesignatedappid,name,andicontoyieldaninstallablewatch
companion app (APK). JwCli contains code for communications
withtheserverstub,renderingcomposedwidgets6,andpushing
on-watchGUIevents(e.g.,clicksandtextinputs)backtotheserver
stub.DevelopersmayalsoaddNativeScript[ 55]CSSstylestothe
composed widgets in JwCli for pretty displaying of widgets.
4 EVALUATION
This section presents the quantitative evaluation and results of the
widgetselectionandcompositionprocess,followedbyacasestudy
of synthesized watch companions for practical usage scenarios.Specifically, we evaluate Jigsaw around the following research
questions:
RQ1(WidgetSelection)Iswidgetselectioneffective(wellgeneral-izingdeveloperannotatedwidgets)andefficient(completing
the synthesis within a reasonable amount of time)?
RQ2(WidgetComposition)Doeswidgetcompositionappropri-
ately place widgets on the watch screen of limited space?
6Widgets with dynamic contents (e.g., WebView) cannot be efficiently ported to the
resource-limited watch, and are rendered as ImageView s in JwCli at present.
1797
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
RQ3(CaseStudy)Canthesynthesizedcompanionsupportsimple
yetregularusertasksrelatedtotheapp‚Äôscorefunctionali-
ties?
4.1 Experimental Setup
Apps. Weevaluate Jigsaw using16 real-worldopen-sourceapps
whose userscan exploit a smartwatchto perform functionaltasks.
The first five apps, GoogleCalculator (GC), K9Mail (K9), An-
tennaPod(AP),Materialistic(MA),andAard2(AA),arefrom
frequentlyoccurringsubjectsintheevaluationofexistingAndroid-
app related research [ 1,12,31,70]. The other 11 are randomly
selectedpopularopen-sourceappsfromtheReading,Multimedia,
and Internet categories of F-Droid: FDroid (FD), NewPipe (NP),
Barinsta(BA),Twidere(TW),Slide(SL),RedReader(RR),News-
Blur (NB), and TrackerControl (TC), NiceFeed (NF), QuickDic
(QD), and RadarWeather (RW). We select these 11 apps based on
starsiftheyarehostedonGithub/Gitlabor installsiftheyotherwise
arereleasedonGooglePlayStore.Specifically,7/11selectedapps
have at‚â•1.2K stars and 1/11 have ‚â•50K installs at the time of writ-
ing this paper. We also included TrackerControl, NiceFeed, and
RadarWeatherbecausewebelievethatwatchcompanionswill
be a great plus for them. We evaluated the latest stable versions7of
all subjects by the time this paper was written. The supplementary
materials contain further information.
OurexperimentsmainlyconcernwhetherJigsawcaneffectively
automate thedevelopment of smartwatch companions. Wefound
thatnoneoftheexperimentalsubjectshasawatchcounterpartyet,
meaningthegapbetweensmartphoneappdevelopersandwatch
appsstillexists.WearguethatJigsawhasthepotentialtobridge
this gap for its ease of use: developing a watch companion only
requires annotating a few GUI layouts and injecting JwStub to the
app with only two lines of code. Thus, the rest of the evaluation
focuses on effectiveness and efficiency studies.
RQ1: widget selection . Widget selectors are synthesized on a
per-state basis. We identified 39 app states in which functionally
criticalwidgetsexistandcouldbemirroredtothewatchaslisted
in Table1. We specified a state by a set of state-unique widgets
(denotedby itsuniqueID),i.e., weconsidertheapp atthisstateif
all designated widgets are present. This idea follows DroidBot [ 45],
anddevelopersshouldhavenodifficultyinspecifyingstatesinthis
way.
ThenwedumpedoneGUIsnapshotforeachstateandcreatedthe
GUIsnapshot‚Äôscorrespondinghypotheticalwatchcompanion(GUI
layoutonthewatch)purelyonadeveloperbasis.Weannotatedthe
GUI snapshot for positive/negative widget examples to simulate
adeveloper.Weprovideda leastnumberofexamplesthatwefeel
sufficient for generalization from a human perspective. In total, we
provided155(3.97perstateonaverage)positive/negativeexamples.
Annotated GUI layouts and the GUI state information are the only
inputs to Jigsaw.
For a quantitative study of the effectiveness of our synthesis
algorithm, we further annotated each GUI layout‚Äôs ground truth
widgets to or not to be mirrored on the watch by following the
7Latest stable version denotes the developer‚Äôs suggested version on F-Droid by the
time of writing this paper.WearOSdesignprinciples[ 25]8.Weannotated505positivewidgets
and 1,234 negative widgets for the 39 states (1,739 ground truth
widgets in total). Widgets selected by the synthesized widget selec-
tor will be checked against the ground truth for precision, recall,
and F1 score.
Our ground truths for the experiments (examples, hypothetical
watchcompanions,andannotatedwidgets)areallsubjective,and
thestatistics (e.g.,precision) cannotdirectlyindicate theabsolute
effectivenessof Jigsaw.However,wearguethatahighprecision
strongly correlates to the high usefulness of Jigsaw in practice.
This isbecause ahigh precisionindicates that Jigsaw generalizes
well from at least one developer‚Äôs perspective.
RQ2: widget composition . Gridsynthesisisevaluatedasasep-
arate problem. Specifically, for each set of selected widgets (inanswering
RQ1), we created its ground-truth grid by manually
positioningeachwidgetinabest-lookingwaygiventheGUIlayout
screenshot and the column number ùëõ.
The similarity between a synthesized grid and the ground truth
ismeasuredbythedistributionofdistancesbetweeneachwidget
and its ground truth. For a widget ùë§being placed at (ùëüùë§,ùëêùë§)by
Jigsaw and its ground truth (ùëü‚àóùë§,ùëê‚àóùë§), we measure the Euclidean
distance
Œîùë§=/radicalBig
(ùëêùë§‚àíùëê‚àóùë§)2+(ùëüùë§‚àíùëü‚àóùë§)2
and collect the mean and standard deviation/parenleftBig
mean({Œîùë§}),std2({Œîùë§})/parenrightBig
for evaluating the effectiveness of grid synthesis.
Similartothestudyfor RQ1,differentdevelopersmayprovide
different ground truths. However, smaller mean and standard devi-
ation docorrelate tobetter grids whichlook likethe best-looking
of widgets.
RQ3: casestudy . To study the real-world applicability of synthe-
sizedwatchcompanions, wecreated57usertasks forthe16apps
to simulate real-world usages of a short piece of regular daily task
onthewatchcompanion(requiresafewGUIevents),aslistedin
Table2. The tasks are created by reading the app‚Äôs descriptions on
GooglePlayStoreandproposingthecorefunctionalitiesasifwe
were the developers.
We simulate a user who interacts with the smartwatch compan-
ion(synthesizedfromtheannotatedGUIstatesforanswering RQ1
andRQ2) for completing each task. We use the following strict
criteria for a task to be successfully performed:
(1)the synthesized widget selector does not miss any function-
ally important widget,
(2) the widgets are reasonably displayed on the watch,
(3) the state transition of the companion is correct, and(4) the corresponding goal of the task is accomplished.
All tasks are created independently of the synthesis results. Suc-
ceedingcasesstronglyindicatethatthesynthesizedwatchcompan-ionissuitableforsuchatask.Evenfailedcases(e.g.,theerroneously
mirrored button in Figure 4) may still be useful to a watch user.
Such cases may also be corrected by a developer with moderate
effort.
8Widget ID based XPaths in our implementation is expected to generalize well to
unseenGUIlayoutsofthesamestatebecause iddoesnotchangeoverindependent
runs. Thus, we did not further annotate GUI layouts to reduce human labor.
1798
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. Push-Button Synthesis of Watch Companions for Android Apps ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table 1: Effectiveness and Efficiency of Jigsaw. #Ex is the number of examples. #V/#E/#XP are the vertex, edge, and XPath
count in the synthesized widget selector. #Exp/#All is the expected and all widget count of our ground truth. T denotes time.
# App (State) #Ex.Selection (Offline) Composition (Online)
#V/#E (#XP) T (m)#Exp/#All Prec Rec F1T (ms) Mean Std2
1Aard2(Bookmarks) 1+,1‚àí6/25 (1) <0.01 4/251.001.001.008.940.00 0.00
2Aard2(Dictionaries) 2+,1‚àí14/66 (2) <0.01 12/42 1.001.001.0018.39 0.50 0.25
3Aard2(History) 1+,1‚àí6/25 (1) <0.01 8/371.001.001.0012.18 0.00 0.00
4Aard2(Word) 1+,0‚àí5/18 (1) <0.01 1/141.001.001.007.120.00 0.00
5AntennaPod (Discover) 1+,0‚àí8/42 (1) <0.01 12/40 1.001.001.0019.26 0.50 0.25
6AntennaPod (Episode) 4+,0‚àí35/198 (2) 0.15 7/811.001.001.0013.86 0.43 0.24
7AntennaPod (Episodes) 2+,1‚àí15/75 (2) <0.01 20/117 1.001.001.0036.74 1.00 0.00
8AntennaPod (Podcast) 6+,2‚àí31/116 (6) 0.06 16/26 1.001.001.0026.87 0.88 0.11
9AntennaPod (Detail) 3+,1‚àí23/117 (3) 0.02 11/98 1.001.001.0016.23 0.00 0.00
10Barinsta (Feed) 1+,0‚àí7/33 (1) <0.01 15/68 1.001.001.0053.11 0.00 0.00
11Barinsta (People) 7+,1‚àí49/231 (7) 0.76 12/52 1.001.001.0019.78 0.00 0.00
12Barinsta (Post) 3+,1‚àí15/54 (3) <0.01 3/301.001.001.0015.58 0.00 0.00
13FDroid (App Detail) 5+,0‚àí39/204 (4) 0.09 6/191.001.001.0010.87 2.17 1.81
14FDroid (Latest) 2+,1‚àí14/66 (2) <0.01 30/40 1.001.001.00480.97 0.00 0.00
15GoogleCalculator (Calculator) 3+,0‚àí17/68 (2) <0.01 21/38 0.901.000.95580.39 1.00 0.00
16K9Mail (Eamil) 4+,2‚àí33/185 (4) 0.31 4/181.001.001.009.710.00 0.00
17K9Mail (Inbox) 2+,0‚àí13/58 (2) <0.01 24/66 1.001.001.0049.62 0.00 0.00
18Materialistic (Main) 3+,1‚àí18/75 (3) <0.01 29/91 1.001.001.0064.35 3.0715.44
19Materialistic (Story) 5+,1‚àí35/166 (4) 0.02 11/32 0.911.000.9517.14 0.70 0.21
20NewPipe (Trending) 2+,1‚àí16/84 (2) <0.01 14/44 1.001.001.0024.10 0.00 0.00
21NewsBlur (Main) 4+,1‚àí24/100 (4) <0.01 12/54 1.001.001.0022.35 0.17 0.14
22NewsBlur (Stories) 3+,1‚àí18/75 (3) <0.01 21/93 0.861.000.9277.62 6.23 3.05
23NewsBlur (Story) 4+,1‚àí27/124 (4) <0.01 4/301.001.001.009.430.00 0.00
24NiceFeed (Entry) 3+,1‚àí20/91 (3) <0.01 3/111.001.001.0015.24 0.00 0.00
25NiceFeed (NewEntries) 2+,1‚àí14/66 (2) <0.01 14/27 1.001.001.0025.53 0.00 0.00
26NiceFeed (StarredEntries) 2+,1‚àí12/50 (2) <0.01 2/101.001.001.009.890.71 0.50
27QuickDic (Dictionary) 3+,2‚àí18/75 (2) <0.01 28/37 1.001.001.0051.00 1.9323.28
28QuickDic (Manager) 5+,0‚àí35/166 (3) <0.01 42/56 1.000.880.93128.43 6.4322.77
29QuickDic (Nav) 3+,0‚àí14/48 (2) <0.01 5/51.001.001.0011.40 0.00 0.00
30QuickDic (Word) 1+,0‚àí4/12 (1) <0.01 1/51.001.001.007.980.00 0.00
31RadarWeather (Weather) 4+,0‚àí26/117 (2) <0.01 6/320.671.000.8011.06 1.79 0.79
32RedReader (/r/art) 3+,1‚àí35/251 (2) 18.28 6/321.001.001.009.750.00 0.00
33RedReader (/r/askreddit) 2+,1‚àí20/126 (1) 0.44 22/85 1.000.920.9633.7512.41 38.70
34RedReader (Tags) 2+,1‚àí15/75 (1) <0.01 18/42 1.001.001.0027.0710.39 25.24
35Slide(ALL) 2+,0‚àí15/75 (2) <0.01 4/351.000.800.899.280.00 0.00
36Slide(Reddit) 3+,0‚àí22/108 (2) <0.01 3/461.001.001.008.790.67 0.22
37TrackerControl (Main) 3+,0‚àí22/108 (2) <0.01 21/36 1.001.001.0044.89 0.00 0.00
38Twidere (Feed) 5+,3‚àí36/175 (4) 0.04 14/54 1.000.930.9724.57 0.00 0.00
39Twidere (Tweet) 8+,6‚àí55/257 (5) 0.05 29/71 0.591.000.7464.40 3.8814.22
Summary 3+,1‚àí21.3/102.7 (2.6) 0.52515/1739 0.97240.98780.9771 53.271.40613.7750
Summary . Overall,theevaluationconsistsof39widgetselector
synthesisproblemsand57real-worldusertasksforthe16evaluated
apps.Fornon-deterministicstatisticaldata(e.g.,runningtime)in
RQ1andRQ2,wepresenttheaverageoverthreeruns.Determinis-
tic values (e.g., synthesis results) are confirmed to be deterministic
over all three runs. All experiments were conducted on a OnePlus
6T physical device and a WearOS Round Chin watch emulator (all
default settings). The host machine is a quad-core Intel i7-7700
desktop with 32GiB RAM running Ubuntu 20.04.1 LTS, with An-droid API 28. Detailed descriptions of the experimental subjects
(e.g.,annotatedwidgets,groundtruth,andsynthesizedselectors)
and results are included in the supplementary materials.4.2 Results for RQ1: Widget Selection
The ‚ÄúSelection‚Äù block of Table 1(in blue) displays the results of
this experiment. For each state, Jigsaw successfully returned anon-trivial widget selector (nonequivalent to
/**/*/) within 20
minutes (the ‚ÄúT‚Äù column). For most (28/39, 71.8%) cases, the syn-thesis completed in a few seconds. For nearly all (38/39, 97.4%)
cases, thesynthesis completed withinone minute. The mosttime-
consumingcase(‚Äú/r/art‚ÄùforRedReader)took18minutestosyn-
thesizeaconsiderablycomplexselectorof35verticesand251edges.
The intersected version spaces ( Œ©={ùê∫}) contain over 500K edges.
1799
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
Nevertheless, westill considerararecaseof 18minutes asafford-
able for developers because the synthesis is required only once for
an app state.
Applying the synthesized selectors to theGUI layouts yielded
515/1739selectedwidgets,where495(97.2%)aretruepositivesthat
are annotated in our ground truth. For most (30/39, 76.9%) GUI lay-
outs,theselectedwidgetsarecompletelyconsistentwiththeground
truth (F1 score = 1.0). For nearly all (36/39, 92.3%) GUI layouts, the
selector produced mostly correct results with the ground truth
with F1 score > 0.9. The precision exceeds 85% for all cases except
‚ÄúTweet‚Äùof Twidere(17/29,59%)and‚ÄúWeather‚Äùof RadarWeather
(4/6, 67%). For the ‚ÄúTweet‚Äù state, Jigsaw incorrectly selected invis-
ible splitters among other sibling widgets that should instead be
selected. Providing a negative example suffices for avoiding thisissue. For the ‚ÄúWeather‚Äù, the app developer failed to add any
id
attribute to the example widget‚Äôs container widgets9, and thus the
synthesized /*/*/*/*overly generally selected redundant sibling
widgets.
4.3 Results for RQ2: Widget Composition
The‚ÄúComposition‚ÄùblockofTable 1(ingreen)displaysourevalu-
ation results for RQ2. Grids are synthesized within a reasonable
amountoftime.Fornearlyall(36/39,92.3%)cases,widgetcomposi-
tion is less than 100ms (the ‚ÄúT‚Äù column), and for half (21/39, 53.8%)
cases,widgetcompositionisevenlessthan20ms.Selectingmore
widgetsonlargergridsgenerallyrequiresmoretime.Alongcompo-
sitiontime(>100ms)happensonthe‚ÄúDictionary‚Äùstateof QuickDic
(19widgets, ùëõ=4),the‚ÄúLatest‚Äùstateof FDroid(28widgets, ùëõ=4),
and ‚ÄúCalculator‚Äù state of GoogleCalc. (48 widgets, ùëõ=5). Such
issuescanbealleviatedbysofteningtheconstraints(e.g.,bysolving
the LP relaxation of the integer linear programming) or providing
the developer‚Äôs hint on widget placements. Furthermore, widget
composition runs in background (on the smartphone) and will not
block user interactions with the watch (but will incur little latency
on watch GUI updates).
Concerningtheconsistencywiththegroundtruth,allselected
widgets averagely shift 1.41 (Column Mean) cells from the ground
truthpositionwithavarianceof3.78(ColumnStd2).Inotherwords,
widgetsaveragely1.41gridsawayfromtheir‚Äúbest-looking‚Äùposi-
tions,butoccasionallypositionedinadrasticallydifferentway.For
over half (20/39, 51.3%) states, the shift is zero, i.e., we synthesized
exactly the best-looking grid.
Forthe‚Äúworst-looking‚Äùgridsthathave>10averagecellshifts,
wefurtheranalyzedtheircauses.Wefoundthatthe‚Äú/r/askreddit‚Äù
(12.41) and ‚ÄúTags‚Äù (10.39) states of RedReader were induced by
UIAutomatorwhichincorrectlysetthetopandbottomboundboxes
of widgets falling on screen boundaries to be 0.
WebelievethattheresultsinSections 4.2and4.3havedemon-
stratedtheeffectivenessandefficiencyof Jigsawwidgetselector
synthesis and widget composition. Figure 4displays a few succeed-
ing and failed cases. Regular grids look good on a watch screen
(Twidere-1,FDroid).However,sometimeswemayoverlygeneral-
ize the selection to including unintended widgets (Twidere-2 and
Materialistic). We argue that developers can easily remove them.
9This should be an accessibility bug according to the Android documentation [23].Table2:PracticalUsefulnessofCompanions.#Rq/#Evisthe
number of delegated/all events. Delay displays the averagetimedelay(ms)fordelegatedevents.LogandBWdenotethesize (KB) of generated logs and the bandwidth (KB/s) whenconducting a task, respectively.
# App (Task) Succ #Rq/#Ev Delay Log BW
1GC(Calc Without Del.) /check14/14 123.9 34.14.9
2GC(Calc With Del.) /check15/15 115.3 36.54.7
3GC(Clear Results) /check15/15 115.3 36.57.6
4FD(Explore Apps) /check1/4 99.074.119.3
5FD(Check App Info) /check6/10 99.8249.932.7
6FD(Install App) /check4/5 141.0134.933.2
7NP(Browse Trending List) /check1/2 147.0102.028.3
8NP(Open a Trending Video) /check2/3 220.0203.933.2
9TC(Browse Apps) /check1/4 92.041.611.1
10TC(Toggle Block Tracking) /check3/5 99.385.026.9
11BA(Browse All Feeds) /check1/4 202.0317.764.7
12BA(Open Feed Post) /check3/4 280.0976.0193.3
13BA(Check Account Info) /check4/5 188.5628.4138.7
14BA(Check Account Feed) /check4/5 252.81040.5211.9
15TW(Browse Timeline) /check1/3 161.0 59.612.6
16TW(Open Tweets) √ó3/4 142.0322.061.7
17TW(Open Retweets) /check4/5 132.0339.662.8
18TW(Browse Tweets Comm.) /check3/4 140.0165.646.6
19K9(Explore Inbox) /check1/2 32.038.38.7
20K9(Read Email) /check3/5 126.3204.637.8
21SL(Browse ALL Reddits) /check1/2 135.0153.931.6
22SL(Open Reddit) /check3/4 116.3168.363.7
23SL(Goto Next/Prev Reddit) /check5/6 129.0182.743.5
24RR(Browse Tags) /check1/2 63.0 3.41.2
25RR(Browse Art Reddits) /check3/5 104.3231.476.5
26RR(Open Reddit) /check3/4 196.7333.665.8
27MA(Explore Stories) /check1/2 109.0 21.15.7
28MA(Open Stories) √ó4/5 184.5829.3186.0
29MA(Check Comments) √ó3/8 69.334.27.2
30QD(Browse Dictionaries) √ó1/4 85.056.912.8
31QD(Download Dictionary) /check2/3 161.0 95.131.7
32QD(Open Dictionary) √ó4/6 84.813.42.4
33QD(Open Word) /check4/5 152.5 34.77.9
34QD(Return to Manager) /check6/6 65.543.27.8
35AA(See Histories) √ó1/1 25.012.23.4
36AA(See Bookmarks) /check1/1 80.011.72.8
37AA(Browse Dictionaries) √ó1/2 81.050.614.2
38AA(Disable Dictionary) /check2/4 134.5101.226.5
39AA(Open Word) /check3/3 84.743.78.3
40AA(Goto Next/Prev Word) /check4/4 206.8 45.610.3
41NB(Browse All Categories) /check1/2 98.034.87.4
42NB(Browse Category) /check3/4 82.0105.625.8
43NB(Go to Next Category) /check4/5 143.8107.718.2
44NB(Open Story) √ó4/5 113.2 84.718.1
45NF(Browse New Entries) /check1/3 131.0162.333.4
46NF(Goto Starred Entries) √ó4/4 ---
47NF(Browse Starred Entries) /check1/1 95.026.47.3
48NF(Open Entry) /check3/4 108.3159.247.7
49RW(Checkout Weather) /check1/1 94.021.24.9
50RW(Swipe to Next/Prev City) √ó2/2 ---
51AP(Navigate to Discover) √ó4/4 ---
52AP(Browse Episodes) /check1/3 91.069.912.3
53AP(Download Episode) /check3/4 215.0164.435.7
54AP(Explore Discover) /check1/4 130.0121.324.8
55AP(Open Episode) /check3/5 105.3141.435.2
56AP(Open Podcast) /check2/6 109.5 66.513.9
57AP(Open Podcast Detail) /check1/3 484.0 44.311.4
Summary 46/573.18/4.47 132.9164.236.0
4.4 Results for RQ3: Case Study
Table2presents the evaluation results. We use the synthesized
watch companion (using GUI states in Table 1) to complete the
case study. The experiment consists of 57 real-world user tasks
witheachlastinglongfor4GUIeventsonaverage.Amongthem,
1800
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. Push-Button Synthesis of Watch Companions for Android Apps ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Twidere-1 FDroid GoogleCalc. Twidere-2 Materialistic
Success Success SuccessFailure
incorrectly selected ‚Äú...‚ÄùFailure
failed to load WebView
Figure 4: Examples of Synthesized Watch Companions
Jigsaw synthesized watch companions successfully accomplished
most(46/57,80.7%)tasks.Consideringthatthecriteriaofsuccess
are strict (all functionally important widgets are mirrored, selected
widgetsarewellplacedonthewatch,andallstatetransitionsare
correct), the results are indeed promising.
Since the synthesized watch companion is lightweight (only
forcommunication),theaveragedelay(theround-triptimefrom
pressing a widget on a watch until the GUI is updated10) of nearly
half(19/46,41.3%)tasksis<100msandthebandwidthofsome(16/46,
34.8%) tasks are notably <10KB/s. For cases of delay >200ms and
bandwidth>50KB/s,wefoundthatthemainsourceisJigsawSDK‚Äôs
simpletreatmentfor ImageView -likewidgets.Thistreatmentsimply
dumpsthepixelsofsuchwidgets,causingalargedatatransmission
(especially pixel dumps of WebViews) in communication, but this
can be alleviated by a more strict resolution adaptation.
We also summarize the failures cases as follows:
(1)Incorrectstaterepresentation (2/11).Weerroneouslyidentified
themulti-tabGUIinQuickDicasthesamestateanddisplaysincorrectsetofwidgets.Developersshouldhavenodifficulty
in annotating correct GUI states.
(2)Missed widgets (2/11). Our evaluation follows strict crite-
riathatwerecognizeataskasfailedifthewidgetselectormisses any functionally important widget. A miss of such
widgets indicates the synthesized companion losing some
core functionalities of the app.
(3)App accessibility bugs (4/11). The app developers may not
tag sufficient accessibility information on their apps. For
example,thenavigationstateof Materialisticcannotbe
modeledbecausethe drawerwidgetmissesan idattribute.
As suggested by Android‚Äôs official documentation on acces-
sibility [23], these should be considered accessibility bugs.
(4)Implementationlimitations (3/11).Finally,Jigsawhasitsown
implementationlimitations.Forexample,thesimpletreat-ment for
WebViewsometimes fails to capture the pixels es-
pecially when the content of WebViewis not fully loaded
(Figure4). In addition, Jigsaw‚Äôs watch companion template
currentlydoesnotsupporteventsotherthanclickandswipe.
10Since the results of an event cannot be predicted, JwStub directly returns once the
GUIis detectedtoupdate. Thissometimes causestheGUIs betweenthesmartphone
andthesmartwatchtobeoutofsyncwhenthereareanimations.However,thiscan
be simply mitigated by a resync.4.5 Discussions
Usefulnessof Jigsaw . SummarizingtheresultsinTables 1and2,
our experimental results are encouraging that the Jigsaw‚Äôs synthe-
sizedwidgetselectorsandgridswellgeneralizeannotatedexamples
with high precision and recall, and the synthesized watch compan-
ion apps are useful in helping users complete real-world user tasks.
Theseresultsindicatethat automatingthecreationofsmartwatch
companions for practical open-source Android apps can be possible.
Jigsawmaybenefitthesmartwatchappdevelopmentcommu-
nityinvariousways:First,Jigsawenablesfastprototypingofwatchapps.Proof-of-conceptwatchprototypescanbecreatedwithnearly
trivial engineering efforts, and the app users can immediately ben-
efitfromtheconvenienceofasmartwatch.Second,theworkflow
of Jigsawmayalsoenableend-userparticipatedcustomizationof
watch companions. Different users may favor a different part of an
app‚Äôsfunctionalities.WecanletusersannotatewidgetsontheGUI
layoutdumps,andJigsawwillproduceauser-customizedwatch
companion.Finally,wecallforfutureresearchonsmartwatchapps.
User-customizableGUIwidgetmirroringmayevenbeintegrated
as a system-wide service that continuously migrates anyapp‚Äôs
designated widgets to a smartwatch.
Limitations . First, our implementation is specific to the con-
straintsonthe idattribute,i.e.,assumingthatsiblingwidgetsshould
eitherbeallselectedoronlyspecificonesareselected.Therefore,
Jigsawcannotgeneralizecomplexconstraintslikeawidget‚Äôstext
descriptionmatchingaregularexpression.Versionspacealgebra
cantheoretically handlesuchcases. However,thesynthesis could
beslowandimpractical(andthisiswhyweintentionallypreferred
a simple algorithm). This paper is mainly for demonstrating the
possibility of automatic synthesis of watch companions and accel-
erating the synthesis can be orthogonal work.
Second,synthesizingstyles(e.g.,spanabletexts,fonts,colors,and
borders)isoutofthescopeofthispaper.Thisisacommonpractice
intheresearchcommunityofGUIlayoutgeneration[ 6,8,11,38,
41,49] because style synthesis is a considerably different problem
that is more related to the field of computer-human interaction.
Jigsawisalsolimitedindisplayingdynamiccontents,e.g.,videos
andWebViews. Currently, JwStub down-samples the dynamic con-
tents(widget)‚Äôsscreenshotandrendersastaticimageonthewatch.
Sometimes, JwStub may fail when the dynamic content is not
fully loaded (e.g., #28 in Table 2and Materialistic in Figure 4).
1801
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
Continuously tracking the changes of dynamic contents is consid-
eredtooresource-intensiveandimpractical.Developersmayuse
watch-provided API (e.g., Overlay) to display such contents.
Threatstovalidity . Anyhuman-involvedstudycanincurthreats
to validity. The first threat to validity is that the evaluated tasks
arecreatedbytheauthors,whichmaybesubjecttobias.Tobest
alleviatethisthreat,wetriedourbesttoreadeachapp‚Äôsdescription
on F-Droid and Google Play Store (if available), intensively use
theseapps,andanalyzethecorefunctionalitiesasifwewerethe
developers. We also provide a detailed reproduction step of each
task in our supplementary materials. We believe that these efforts
are sufficient for future research to replicate the case study and
validate the case study results.
A similar threat also exists in the annotation/creation of ground
truths.Forthem,wemadeourbesteffortstoreadeachapp‚Äôssource
code and documentation to best ensure that the annotated posi-
tive/negative widgets correspond to the core functionalities of the
app and the created grids follow the official WearOS app principles
[25]. Furthermore, we publicize our data (selected examples and
ground-truths) to facilitate future research. Considering that the
currentprecisionresultsshowthatJigsawcanindeedproducewid-
getsandlayoutscorrectlymatchingsomedevelopers‚Äôexpectations,
we believe that these results suggest the potential of our algorithm
and the possibility of automating the creation of smartwatch com-
panions acceptable and useful.
5 RELATED WORK
Generating GUI layout . GUI layout generation (or synthesis),
which aims to automatically generate a GUI layout, is the most
relevant domain to ours.
Scrcpy[21]isanopen-sourcetoolthatgeneratesaGUIlayout
by faithfully streaming an app‚Äôs screen from a smartphone to a
desktop. Since such streaming is conducted at a pixel level, it does
not support smaller screens for example smartwatch. Iuit [ 69] has
considered optimizing a web app‚Äôs UIs such that the UIs can be au-
tomatically adapted to various screen sizes. However, Iuit requires
asufficientnumberofhigh-qualitysmartwatchappsfortraining
a statistical model. This is not practical in the current app store.Sui[
3]proposesaframeworktoadaptUIsamongsmart-phones,
-tablets, and -TVs. However, Sui requires to use the Sui framework
when the app is developed and does not support smartwatches.
Jigsawcansynthesizewatchcompanionsforexistingappsthatare
suitable to use in smartwatches.
TheotherworkattempttogeneratethelayoutfromaGUIde-
sign.InferUI[ 8,41]andMockdowntakedeveloper-providedGUI
designs on a single device as input and exploit programming by
exampletosynthesizeacross-device(smartphone)relationalGUI
layout (e.g., ConstraintLayout ) which loyallyrenders all widgets
and preserves their relational positions on other devices. Never-theless, these approaches cannot scale to smartwatches as there
lacks an available GUI design. Similar work also considered gener-
atingGUIlayouts(e.g., ConstraintLayout )fromGUIdesignsusing
deeplearning[ 6,11,19,38,53,56,60].Comparedwithblack-box
approaches, our approach synthesizes an interpretable program
which the developer can read and modify.Furthermore,tothebestofourknowledge,ourworkisthefirstto
synthesizeawatchcompanionforanAndroidappfullautomatically
and require few examples.
Programmingbyexample . Jigsawadoptsprogramsynthesisto
synthesizeawidgetselector,belongingtothefamilyofprogram-
ming by examples [32].
Our widget selector is inspired by regular expressions (regex)
andregexsynthesis[ 13,43,44,48]inwhichregexesaresynthesized
by expanding the regex grammar. Different from such grammar-
and enumeration-based approaches which may produce invalid
regexes, Jigsaw avoids thisby designingand creatingthe version
space of each example.
Ontheotherhand,thealgorithmof JigsawresemblesFlashFill
[30]whichalsoexploitsagreedyversionspacealgebratosynthe-
size a regex-like string program. However, the version space of
our selector is considerably different from that of FlashFill‚Äôs and
should be carefully designed and intersected.
Other research on Android apps . Different from ours, much
priorresearchonAndroidconcernsthequalityofanapp.Research
like[7,22,31,33,59,63]proposetogeneratetestscriptsthrough
record and replay. ATM [ 5] and CraftDroid [ 46] migrate existing
tests to other similar apps; FrUITeR [ 76] evaluates their migra-
tionresults.Monkey[ 24]andfollowers[ 20,29,50‚Äì52,57,66,70]
leverage test input generation to trigger more crashes. There is
alsoresearchconcentratingondetectingothernon-functionalbugs,
for example, network [ 35,39], data loss [ 1,62], and accessibility
[12]. Recently, non-crash bugs draw researcher‚Äôs attention [ 67,68].
Besidesquality,thereisresearchfocusingonsecurity[ 2,71,77],per-
formance[ 47],andresources[ 34].Theyaregenerallyorthogonal
to Jigsaw, and beyond the scope of this paper.
6 CONCLUSION
Thispaperproposesthepush-buttonsynthesisapproachtobridging
the easily overlooked gap between Android smartphone app devel-
opersandsmartwatches.OurJigsawframeworkalreadydemon-
stratedthepowerofautomaticallycreatingwatchcompanionsthat
can help users accomplish real-world tasks.
On the other hand, as a first attempt in this research domain,
thispaperraisesmorequestionsthanitsolves.Toenableapractical
watch companion automation for everyone, challenges include but
arenotlimitedto:automatingtheprocessofexampleannotation,ef-
fectivesynthesisofcomplexselectors,relaxingthegridconstraints,synthesizingvisuallysatisfactorystylesheets,andsynthesizingend-
usercustomizablewatchcompanions.Thispapercallsforfuture
research along this line.
ACKNOWLEDGMENTS
Theauthorswouldliketothanktheanonymousreviewersfortheir
valuable feedback. This work is supported in part by National Nat-
uralScienceFoundationofChina(Grant#61932021),theLeading-
edgeTechnologyProgramofJiangsuNaturalScienceFoundation
(Grant#BK20202001),andtheCollaborativeInnovationCenterof
NovelSoftwareTechnologyandIndustrialization,Jiangsu,China.
YanyanJiang(jyy@nju.edu.cn)andChangXu(changxu@nju.edu.cn)
are the corresponding authors.
1802
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. Push-Button Synthesis of Watch Companions for Android Apps ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
REFERENCES
[1]Christoffer Quist Adamsen, Gianluca Mezzetti, and Anders M√∏ller. 2015. System-
aticExecutionofAndroidTestSuitesinAdverseConditions.In Proceedingsof
the 24th International Symposium on Software Testing and Analysis (Baltimore,
MD, USA) (ISSTA ‚Äô15). Association for Computing Machinery, New York, NY,
USA, 83‚Äì93. https://doi.org/10.1145/2771783.2771786
[2]Steven Arzt, Siegfried Rasthofer, Christian Fritz, Eric Bodden, Alexandre Bartel,
JacquesKlein,YvesLeTraon,DamienOcteau,andPatrickMcDaniel.2014. Flow-
Droid: Precise Context, Flow, Field, Object-Sensitive and Lifecycle-Aware Taint
Analysis for Android Apps. In Proceedings of the 35th ACM SIGPLAN Conference
on Programming Language Design and Implementation (Edinburgh, United King-
dom)(PLDI ‚Äô14). Association for Computing Machinery, New York, NY, USA,
259‚Äì269. https://doi.org/10.1145/2594291.2594299
[3]Yuseok Bae, Bongjin Oh, and Jongyoul Park. 2014. Adaptive Transformation
for a Scalable User Interface Framework Supporting Multi-screen Services. In
UbiquitousInformationTechnologiesandApplications,Young-SikJeong,Young-Ho
Park, Ching-Hsien (Robert) Hsu, and James J. (Jong Hyuk) Park (Eds.). Springer
Berlin Heidelberg, Berlin, Heidelberg, 425‚Äì432.
[4]Young-MinBaekandDoo-HwanBae.2016. AutomatedModel-BasedAndroid
GUITestingUsingMulti-LevelGUIComparisonCriteria.In Proceedingsofthe
31st IEEE/ACM International Conference on Automated Software Engineering (Sin-
gapore, Singapore) (ASE ‚Äô16). Association for Computing Machinery, New York,
NY, USA, 238‚Äì249. https://doi.org/10.1145/2970276.2970313
[5]FarnazBehrangandAlessandroOrso.2018. AutomatedTestMigrationforMobile
Apps.InProceedingsofthe40thInternationalConferenceonSoftwareEngineer-
ing: Companion Proceedings (Gothenburg, Sweden) (ICSE ‚Äô18). Association for
ComputingMachinery,NewYork,NY,USA,384‚Äì385. https://doi.org/10.1145/
3183440.3195019
[6]Tony Beltramelli. 2018. Pix2code: Generating Code from a Graphical UserInterface Screenshot. In Proceedings of the ACM SIGCHI Symposium on Engi-
neering Interactive Computing Systems (Paris, France) (EICS ‚Äô18). Association
for Computing Machinery, New York, NY, USA, Article 3, 6 pages. https:
//doi.org/10.1145/3220134.3220135
[7]CarlosBernal-C√°rdenas,NathanCooper,KevinMoran,OscarChaparro,Andrian
Marcus, and Denys Poshyvanyk. 2020. Translating Video Recordings of Mobile
App Usages into Replayable Scenarios. In Proceedings of the 42nd ACM/IEEE
International Conference on Software Engineering (Seoul, South Korea) (ICSE ‚Äô20) .
Association for Computing Machinery, New York, NY, USA, 309‚Äì321. https:
//doi.org/10.1145/3377811.3380328
[8]PavolBielik,MarcFischer,andMartinVechev.2018. RobustRelationalLayout
Synthesis from Examples for Android. Proc. ACM Program. Lang. 2, OOPSLA,
Article 156, 29 pages. https://doi.org/10.1145/3276526
[9]Anselm Blumer, Andrzej Ehrenfeucht, David Haussler, and Manfred K Warmuth.
1987. Occam‚Äôs razor. Information processing letters 24, 6 (1987), 377‚Äì380.
[10] Bootstrap. 2021. Grid System. https://getbootstrap.com/docs/4.0/layout/grid
[11]Chunyang Chen, Ting Su, Guozhu Meng, Zhenchang Xing, and Yang Liu.2018. From UI Design Image to GUI Skeleton: A Neural Machine Transla-tor to Bootstrap Mobile GUI Implementation. In Proceedings of the 40th In-
ternational Conference on Software Engineering (Gothenburg, Sweden) (ICSE
‚Äô18). Association for Computing Machinery, New York, NY, USA, 665‚Äì676.
https://doi.org/10.1145/3180155.3180240
[12]JieshanChen,ChunyangChen,ZhenchangXing,XiweiXu,LimingZhu,Guo-
qiang Li, and Jinshui Wang. 2020. Unblind Your Apps: Predicting Natural-
Language Labels for Mobile GUI Components by Deep Learning. In Proceedings
ofthe42ndACM/IEEEInternationalConferenceonSoftwareEngineering (Seoul,
SouthKorea) (ICSE‚Äô20).AssociationforComputingMachinery,NewYork,NY,
USA, 322‚Äì334. https://doi.org/10.1145/3377811.3380327
[13]Qiaochu Chen, Xinyu Wang, Xi Ye, Greg Durrett, and Isil Dillig. 2020. Multi-
ModalSynthesisofRegularExpressions.In Proceedingsofthe41stACMSIGPLAN
Conference on Programming Language Design and Implementation (London, UK)
(PLDI ‚Äô20). Association for Computing Machinery, New York, NY, USA, 487‚Äì502.
https://doi.org/10.1145/3385412.3385988
[14]SenChen,LinglingFan,ChunyangChen,TingSu,WenheLi,YangLiu,andLihua
Xu.2019. StoryDroid:AutomatedGenerationofStoryboardforAndroidApps.In
Proceedingsofthe41stIEEE/ACMInternationalConferenceonSoftwareEngineering
(Montreal, QC, Canada) (ICSE ‚Äô19). 596‚Äì607. https://doi.org/10.1109/ICSE.2019.
00070
[15]XiaoChen,WanliChen,KuiLiu,ChunyangChen,andLiLi.2021. AComparative
StudyofSmartphoneandSmartwatchApps.In Proceedingsofthe36thAnnual
ACM Symposium on Applied Computing (Virtual Event, Republic of Korea) (SAC
‚Äô21). Association for Computing Machinery, New York, NY, USA, 1484‚Äì1493.
https://doi.org/10.1145/3412841.3442023
[16]J. Clement. 2020. App Stores: Number of Apps in Leading App Stores 2020, May
2020.
[17] Ant Design. 2021. Grid.https://ant.design/components/grid
[18]MaterialDesign.2021. ResponsiveLayoutGrid. https://material.io/design/layout/
responsive-layout-grid.html#columns-gutters-and-margins[19]Morgan Dixon and James Fogarty. 2010. Prefab: Implementing Advanced Behav-
iorsUsingPixel-BasedReverseEngineeringofInterfaceStructure.In Proceedings
of the 2010 SIGCHI Conference on Human Factors in Computing Systems (Atlanta,
Georgia, USA) (CHI ‚Äô10). Association for Computing Machinery, New York, NY,
USA, 1525‚Äì1534. https://doi.org/10.1145/1753326.1753554
[20]Zhen Dong, Marcel B√∂hme, Lucia Cojocaru, and Abhik Roychoudhury. 2020.
Time-Travel Testing of Android Apps. In Proceedings of the 42nd ACM/IEEE
International Conference on Software Engineering (Seoul, South Korea) (ICSE ‚Äô20).
Association for Computing Machinery, New York, NY, USA, 481‚Äì492. https:
//doi.org/10.1145/3377811.3380402
[21] Genymobile. 2021. scrcpy.https://github.com/Genymobile/scrcpy
[22]LorenzoGomez,IulianNeamtiu,TanzirulAzim,andToddMillstein.2013.RERAN:
Timing-andTouch-SensitiveRecordandReplayforAndroid.In Proceedingsof
the 35th International Conference on Software Engineering (San Francisco, CA,
USA)(ICSE ‚Äô13). IEEE Press, 72‚Äì81.
[23]Google. 2021. Make Apps More Accessible. https://developer.android.com/guide/
topics/ui/accessibility/apps
[24] Google. 2021. Monkey. https://developer.android.com/studio/test/monkey
[25]Google. 2021. Principles of Wear OS development. https://developer.android.com/
training/wearables/principles
[26]Google. 2021. UI Automator. https://developer.android.com/training/testing/ui-
automator
[27]Google.2021. WatchoutforWearOSatAndroidDevSummit2021. https://android-
developers.googleblog.com/2021/10/wearos-at-ads-21.html
[28]Google.2021. WearOSuserinterfaces. https://developer.android.com/training/
wearables/user-interfaces
[29]Tianxiao Gu, Chengnian Sun, Xiaoxing Ma, Chun Cao, Chang Xu, Yuan Yao,
Qirun Zhang, Jian Lu, and Zhendong Su. 2019. Practical GUI Testing of Android
ApplicationsviaModelAbstractionandRefinement.In Proceedingsofthe41st
International Conference on Software Engineering (Montreal, Quebec, Canada)
(ICSE ‚Äô19). IEEE Press, 269‚Äì280. https://doi.org/10.1109/ICSE.2019.00042
[30]SumitGulwani.2011. AutomatingStringProcessinginSpreadsheetsUsingInput-
OutputExamples. SIGPLANNot. 46,1(Jan.2011),317‚Äì330. https://doi.org/10.
1145/1925844.1926423
[31]Jiaqi Guo, Shuyue Li, Jian-Guang Lou, Zijiang Yang, and Ting Liu. 2019. Sara:
Self-ReplayAugmentedRecordandReplayforAndroidinIndustrialCases.In
Proceedingsofthe28thACMSIGSOFTInternationalSymposiumonSoftwareTesting
and Analysis (Beijing, China) (ISSTA ‚Äô19). Association for Computing Machinery,
New York, NY, USA, 90‚Äì100. https://doi.org/10.1145/3293882.3330557
[32]Daniel Conrad Halbert. 1984. Programming by example. Ph.D. Dissertation.
University of California, Berkeley.
[33]YongjianHu,TanzirulAzim,andIulianNeamtiu.2015. VersatileyetLightweightRecord-and-ReplayforAndroid. SIGPLANNot. 50,10(Oct.2015),349‚Äì366. https:
//doi.org/10.1145/2858965.2814320
[34]Yigong Hu, Suyi Liu, and Peng Huang. 2019. A Case for Lease-Based, Utilitarian
ResourceManagementonMobileDevices.In Proceedingsofthe24thInternational
ConferenceonArchitecturalSupportforProgrammingLanguagesandOperating
Systems(Providence, RI, USA) (ASPLOS ‚Äô19). Association for Computing Machin-
ery, New York, NY, USA, 301‚Äì315. https://doi.org/10.1145/3297858.3304057
[35]PengHuang,TianyinXu,XinxinJin,andYuanyuanZhou.2016. DefDroid:To-
wardsaMoreDefensiveMobileOSAgainstDisruptiveAppBehavior.In Proceed-
ings ofthe 14thAnnual InternationalConference onMobile Systems,Applications,
andServices (Singapore,Singapore) (MobiSys‚Äô16).AssociationforComputingMa-
chinery, New York, NY, USA, 221‚Äì234. https://doi.org/10.1145/2906388.2906419
[36]AllenHurlburt.1982. Grid:AModularSystemfortheDesignandProductionof
Newpapers, Magazines, and Books. John Wiley & Sons.
[37] Google I/O. 2014. Designing for Wearables.[38]
Vanita Jain, Piyush Agrawal, Subham Banga, Rishabh Kapoor, and Shashwat
Gulyani.2019. Sketch2Code:TransformationofSketchestoUIinReal-timeUsing
Deep Neural Network. arXiv:1910.08930 [cs.CV]
[39]Xinxin Jin, Peng Huang, Tianyin Xu, and Yuanyuan Zhou. 2016. NChecker:Saving Mobile App Developers from Network Disruptions. In Proceedings of
the11thEuropeanConferenceonComputerSystems (London,UnitedKingdom)
(EuroSys‚Äô16).AssociationforComputingMachinery,NewYork,NY,USA,Article
22, 16 pages. https://doi.org/10.1145/2901318.2901353
[40]DulingLaiandJuliaRubin.2019. Goal-DrivenExplorationforAndroidAppli-cations. In Proceedings of the 34th IEEE/ACM International Conference on Au-
tomatedSoftwareEngineering (SanDiego,California,USA) (ASE‚Äô19).115‚Äì127.
https://doi.org/10.1109/ASE.2019.00021
[41]LarissaLaich,PavolBielik,andMartinVechev.2020. GuidingProgramSynthesis
byLearningtoGenerateExamples.In Proceedingsofthe8thInternationalCon-
ference on Learning Representations (Virtual Conference, Addis Ababa, Ethiopia)
(ICLR ‚Äô20). https://openreview.net/forum?id=BJl07ySKvS
[42]Tessa A. Lau, Pedro Domingos, and Daniel S. Weld. 2000. Version Space Algebra
andItsApplicationtoProgrammingbyDemonstration.In Proceedingsofthe17th
International Conference on Machine Learning (Stanford, CA, USA) (ICML ‚Äô00).
Morgan Kaufmann Publishers Inc., San Francisco, CA, USA, 527‚Äì534.
1803
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA Cong Li, Yanyan Jiang, and Chang Xu
[43]Mina Lee, Sunbeom So, and Hakjoo Oh. 2016. Synthesizing Regular Expressions
fromExamplesforIntroductoryAutomataAssignments.In Proceedingsofthe15th
ACMSIGPLANInternationalConferenceonGenerativeProgramming:Conceptsand
Experiences (Amsterdam,Netherlands) (GPCE‚Äô16).AssociationforComputing
Machinery,NewYork,NY,USA,70‚Äì80. https://doi.org/10.1145/2993236.2993244
[44]YetingLi,ShuaiminLi,ZhiwuXu,JialunCao,ZixuanChen,YunHu,Haiming
Chen,andShing-ChiCheung.2021. TransRegex:Multi-modalRegularExpres-
sion Synthesis by Generate-and-Repair. In Proceedings of the 43rd IEEE/ACM
International Conference on Software Engineering (Virtual Event, Madrid, Spain)
(ICSE ‚Äô21). 1210‚Äì1222. https://doi.org/10.1109/ICSE43902.2021.00111
[45]Yuanchun Li, Ziyue Yang, Yao Guo, and Xiangqun Chen. 2017. DroidBot: a
LightweightUI-GuidedTestInputGenerator forAndroid.In Proceedingsofthe
39th IEEE/ACM International Conference on Software Engineering Companion
(Buenos Aires, Argentina) (ICSE-C ‚Äô17). 23‚Äì26. https://doi.org/10.1109/ICSE-
C.2017.8
[46]Jun-WeiLin,ReyhanehJabbarvand, andSamMalek.2019. Test Transferacross
MobileAppsthroughSemanticMapping.In Proceedingsofthe34thIEEE/ACMIn-
ternationalConferenceonAutomatedSoftwareEngineering (SanDiego,California,
USA)(ASE ‚Äô19). IEEE Press, 42‚Äì53. https://doi.org/10.1109/ASE.2019.00015
[47]Yepang Liu, Chang Xu, and Shing-Chi Cheung. 2014. Characterizing and De-
tecting Performance Bugs for Smartphone Applications. In Proceedings of the
36th InternationalConference on Software Engineering (Hyderabad, India) (ICSE
‚Äô14). Association for Computing Machinery, New York, NY, USA, 1013‚Äì1024.
https://doi.org/10.1145/2568225.2568229
[48]NicholasLocascio,KarthikNarasimhan,EduardoDeLeon,NateKushman,and
Regina Barzilay. 2016. Neural Generation of Regular Expressions from Nat-ural Language with Minimal Domain Knowledge. In Proceedings of the 2016
ConferenceonEmpiricalMethodsinNaturalLanguageProcessing (Austin,Texas,
USA)(EMNLP ‚Äô16). Association for Computational Linguistics, Austin, Texas,
1918‚Äì1923. https://doi.org/10.18653/v1/D16-1197
[49]Dylan Lukes, John Sarracino, Cora Coleman, Hila Peleg, Sorin Lerner, and Nadia
Polikarpova. 2021. Synthesis of Web Layouts from Examples. In Proceedings
of the 29th ACM Joint Meeting on European Software Engineering Conferenceand Symposium on the Foundations of Software Engineering (Athens, Greece)
(ESEC/FSE ‚Äô21). Association for Computing Machinery, New York, NY, USA,
651‚Äì663. https://doi.org/10.1145/3468264.3468533
[50]Aravind Machiry, Rohan Tahiliani, and Mayur Naik. 2013. Dynodroid: An Input
GenerationSystem forAndroidApps.In Proceedingsofthe 9thJointMeetingon
Foundations of Software Engineering (Saint Petersburg, Russia) (ESEC/FSE ‚Äô13).
Association for Computing Machinery, New York, NY, USA, 224‚Äì234. https:
//doi.org/10.1145/2491411.2491450
[51]RiyadhMahmood,NarimanMirzaei,andSamMalek.2014. EvoDroid:Segmented
Evolutionary Testing of Android Apps. In Proceedings of the 22nd ACM SIGSOFT
International Symposium on Foundations of Software Engineering (Hong Kong,
China)(FSE ‚Äô14). Association for Computing Machinery, New York, NY, USA,
599‚Äì609. https://doi.org/10.1145/2635868.2635896
[52]Ke Mao, Mark Harman, and Yue Jia. 2016. Sapienz: Multi-Objective Auto-mated Testing for Android Applications. In Proceedings of the 25th Interna-
tional Symposium on Software Testing and Analysis (Saarbr√ºcken, Germany)
(ISSTA ‚Äô16). Association for Computing Machinery, New York, NY, USA, 94‚Äì105.
https://doi.org/10.1145/2931037.2931054
[53]Kevin Moran, Carlos Bernal-C√°rdenas, Michael Curcio, Richard Bonett, andDenys Poshyvanyk. 2020. Machine Learning-Based Prototyping of Graphical
User Interfaces for Mobile Apps. IEEE Transactions on Software Engineering 46, 2
(2020), 196‚Äì221. https://doi.org/10.1109/TSE.2018.2844788
[54]Josef M√ºller-Brockmann. 1981. Grid Systems in Graphic Design. Verlag Gerd
Hatje.
[55] NativeScript. 2021. NativeScript. https://nativescript.org
[56]TuanAnhNguyenandChristophCsallner.2015. ReverseEngineeringMobile
ApplicationUserInterfaceswithREMAUI.In Proceedingsofthe30thIEEE/ACM
International Conference on Automated Software Engineering (Lincoln, Nebraska)
(ASE ‚Äô15). IEEE Press, 248‚Äì259. https://doi.org/10.1109/ASE.2015.32
[57]MinxuePan,AnHuang,GuoxinWang,TianZhang,andXuandongLi.2020. Rein-
forcement Learning Based Curiosity-Driven Testing of Android Applications. In
Proceedingsofthe29thACMSIGSOFTInternationalSymposiumonSoftwareTesting
andAnalysis (VirtualEvent,USA) (ISSTA‚Äô20).AssociationforComputingMa-
chinery, New York, NY, USA, 153‚Äì164. https://doi.org/10.1145/3395363.3397354
[58]GooglePlay.2021. GoogleCalculator. https://play.google.com/store/apps/details?
id=com.google.android.calculator
[59]Zhengrui Qin, Yutao Tang, Ed Novak, and Qun Li. 2016. MobiPlay: A Remote
ExecutionBasedRecord-and-ReplayToolforMobileApplications.In Proceedings
ofthe38thInternationalConferenceonSoftwareEngineering (Austin,Texas) (ICSE
‚Äô16).AssociationforComputingMachinery,NewYork,NY,USA,571‚Äì582. https:
//doi.org/10.1145/2884781.2884854
[60]√ìscarS√°nchezRam√≥n,JeanVanderdonckt,andJes√∫sGarc√≠aMolina.2013. Re-
engineeringgraphicaluserinterfacesfromtheirresourcefileswithUsiResourcer.InIEEE7thInternationalConferenceonResearchChallengesinInformationScience(Paris, France) (RCIS ‚Äô13). 1‚Äì12. https://doi.org/10.1109/RCIS.2013.6577696
[61]HTMLLanguageReference.2021. <div>:GenericFlowContainer. https://www.
w3.org/TR/2012/WD-html-markup-20121025/div.html#div
[62]Oliviero Riganelli, Simone Paolo Mottadelli, Claudio Rota, Daniela Micucci, and
Leonardo Mariani. 2020. Data Loss Detector: Automatically Revealing Data Loss
Bugs in Android Apps. In Proceedings of the 29th ACM SIGSOFT International
Symposium on Software Testing and Analysis (Virtual Event, USA) (ISSTA ‚Äô20).
Association for Computing Machinery, New York, NY, USA, 141‚Äì152. https:
//doi.org/10.1145/3395363.3397379
[63]OnurSahin,AsselAliyeva,HariharanMathavan,AyseK.Coskun,andManuel
Egele.2019. RandR:RecordandReplayforAndroidApplicationsviaTargeted
Runtime Instrumentation. In Proceedings of the 34th IEEE/ACM International
Conference on Automated Software Engineering (San Diego, California) (ASE ‚Äô19).
IEEE Press, 128‚Äì138. https://doi.org/10.1109/ASE.2019.00022
[64]Statista.2021. SmartwatchMarketShareofOverallWearableMarketWorldwidein
2018 and 2022, by Operating System. https://www.statista.com/statistics/910862/
worldwide-smartwatch-shipment-market-share
[65]Statista. 2021. Smartwatch Shipments Forecast Worldwide from 2016 to
2025.https://www.statista.com/statistics/878144/worldwide-smart-wristwear-
shipments-forecast
[66]Ting Su, Guozhu Meng, Yuting Chen, Ke Wu, Weiming Yang, Yao Yao, Geguang
Pu, Yang Liu, and Zhendong Su. 2017. Guided, Stochastic Model-Based GUI
Testing of Android Apps. In Proceedings of the 11th Joint Meeting on Foundations
ofSoftwareEngineering (Paderborn,Germany) (ESEC/FSE‚Äô17).Associationfor
ComputingMachinery,NewYork,NY,USA,245‚Äì256. https://doi.org/10.1145/
3106237.3106298
[67]Ting Su, Yichen Yan, Jue Wang, Jingling Sun, Yiheng Xiong, Geguang Pu, Ke
Wang, and Zhendong Su. 2021. Fully Automated Functional Fuzzing of Android
Apps for Detecting Non-Crashing Logic Bugs. Proc. ACM Program. Lang. 5,
OOPSLA, Article 156 (oct 2021), 31 pages. https://doi.org/10.1145/3485533
[68]Jingling Sun, Ting Su, Junxin Li, Zhen Dong, Geguang Pu, Tao Xie, and Zhen-dong Su. 2021. Understanding and Finding System Setting-Related Defectsin Android Apps. In Proceedings of the 30th ACM SIGSOFT International Sym-
posium on Software Testing and Analysis (Virtual, Denmark) (ISSTA ‚Äô21).A s -
sociation for Computing Machinery, New York, NY, USA, 204‚Äì215. https:
//doi.org/10.1145/3460319.3464806
[69]Hua-Zhe Tan, Wei Zhao, and Hai-Hua Shen. 2018. Adaptive User Interface
Optimization for Multi-Screen Based on Machine Learning. In Proceedings of the
22ndIEEEInternationalConferenceonComputerSupportedCooperativeWorkin
Design(Nanjing, China) (CSCWD ‚Äô18). 743‚Äì748. https://doi.org/10.1109/CSCWD.
2018.8465348
[70]Jue Wang, Yanyan Jiang, ChangXu, Chun Cao, Xiaoxing Ma,and Jian Lu. 2020.
ComboDroid: Generating High-Quality Test Inputs for Android Apps via Use
CaseCombinations.In Proceedingsofthe42ndACM/IEEEInternationalConference
on Software Engineering (Seoul, South Korea) (ICSE ‚Äô20). Association for Comput-
ingMachinery,NewYork,NY,USA,469‚Äì480. https://doi.org/10.1145/3377811.
3380382
[71]Dong-JieWu,Ching-HaoMao,Te-EnWei,Hahn-MingLee,andKuo-PingWu.
2012. DroidMat: Android Malware Detection through Manifest and API Calls
Tracing.In Proceedingsofthe7thAsiaJointConferenceonInformationSecurity
(Tokyo, Japan) (AsiaJCIS ‚Äô12). 62‚Äì69. https://doi.org/10.1109/AsiaJCIS.2012.18
[72]XPath. 2021. XML Path Language (XPath) 3.1 Specification. https://www.w3.org/
TR/2017/REC-xpath-31-20170321
[73]Yahoo. 2021. Strategy Analytics: Global Smartwatch Shipments Leap 47 Percent
to Pre-Pandemic Growth Levels in Q2 2021. https://news.yahoo.com/strategy-
analytics-global-smartwatch-shipments-103500861.html
[74]ShengqianYang,HailongZhang,HaoweiWu,YanWang,DacongYan,andAtanas
Rountev. 2015. Static WindowTransition Graphs for Android.In Proceedings of
the 30thIEEE/ACM InternationalConference onAutomated SoftwareEngineering
(Lincoln, Nebraska) (ASE ‚Äô15). IEEE Press, 658‚Äì668. https://doi.org/10.1109/ASE.
2015.76
[75] Z3. 2021. Z3 Prover. https://github.com/Z3Prover/z3
[76]Yixue Zhao, Justin Chen, Adriana Sejfia, Marcelo Schmitt Laser, Jie Zhang,Federica Sarro, Mark Harman, and Nenad Medvidovic. 2020. FrUITeR: AFramework for Evaluating UI Test Reuse. In Proceedings of the 28th ACM
Joint Meeting on European Software Engineering Conference and Symposiumon the Foundations of Software Engineering (Virtual Event, USA) (ESEC/FSE
‚Äô20). Association for Computing Machinery, New York, NY, USA, 1190‚Äì1201.
https://doi.org/10.1145/3368089.3409708
[77]Yanjie Zhao, Li Li, Haoyu Wang, Haipeng Cai, Tegawend√© F. Bissyand√©, Jacques
Klein, and John Grundy. 2021. On the Impact of Sample Duplication in Machine-
Learning-BasedAndroidMalware Detection. ACMTrans. Softw.Eng.Methodol.
30, 3, Article 40 (May 2021), 38 pages. https://doi.org/10.1145/3446905
1804
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:34:15 UTC from IEEE Xplore.  Restrictions apply. 