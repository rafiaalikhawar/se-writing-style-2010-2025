Knowledge-Based Version IncompatibilityDetection
for Deep Learning
Zhongkai Zhao∗
zhongkai.zhaok@gmail.com
Tongji University
Shanghai,ChinaBonanKou
koub@purdue.edu
PurdueUniversity
WestLafayette,Indiana,USAMohamed Yilmaz Ibrahim
ibrahi35@purdue.edu
PurdueUniversity
WestLafayette, Indiana,USA
Muhao Chen
muhchen@ucdavis.edu
University ofCalifornia,Davis
Davis, California,USATianyiZhang
tianyi@purdue.edu
PurdueUniversity
WestLafayette,Indiana,USA
ABSTRACT
Version incompatibility issues are rampant when reusing or repro-
ducing deep learning models and applications. Existing techniques
arelimitedtolibrarydependencyspeciﬁcationsdeclaredinPyPI.
Therefore, these techniques cannot detect version issues due to
undocumented version constraints or issues involving hardware
drivers or OS. To address this challenge, we propose to leverage
theabundantdiscussionsofDLversionissuesfromStackOverﬂow
tofacilitateversionincompatibilitydetection.Wereformulatethe
problem of knowledge extraction as a Question-Answering (QA)
problemanduseapre-trainedQAmodeltoextractversioncompati-
bilityknowledgefromonlinediscussions.Theextractedknowledge
is further consolidated into a weighted knowledge graph to detect
potential version incompatibilities when reusing a DL project. Our
evaluation results show that (1) our approach can accurately ex-
tractversionknowledgewith84%accuracy,and(2)ourapproach
canaccurately identify65%of known versionissuesin 10 popular
DL projects with a high precision (92%), while two state-of-the-art
approaches can only detect 29% and 6% of these issues with 33%
and17%precision respectively.
CCSCONCEPTS
•Softwareanditsengineering →Softwarelibrariesandrepos-
itories.
KEYWORDS
Version Compatibility,Knowledge Extraction,DeepLearning
ACM Reference Format:
ZhongkaiZhao,BonanKou,MohamedYilmazIbrahim,MuhaoChen,andTianyi
Zhang. 2023. Knowledge-Based Version Incompatibility Detection for Deep
Learning. In Proceedings of the31st ACM Joint European SoftwareEngineer-
ingConferenceandSymposiumontheFoundationsofSoftwareEngineering
∗Workdoneas a remoteresearchintern at PurdueUniversity.
ESEC/FSE ’23, December 3–9, 2023, San Francisco, CA,USA
©2023 Copyright heldby theowner/author(s).
ACM ISBN 979-8-4007-0327-0/23/12.
https://doi.org/10.1145/3611643.3616364(ESEC/FSE’23),December3–9,2023,SanFrancisco,CA,USA. ACM,NewYork,
NY, USA, 12pages.https://doi.org/10.1145/3611643.3616364
1 INTRODUCTION
Deep learning (DL) has been applied in various domains such as
computer vision [ 14], natural language processing [ 9], and au-
tonomous driving [ 23]. Developing DL applications requires a het-
erogeneousDLstack,includinglibraries(e.g.,PyTorch,TensorFlow),
runtime(e.g.,Python),drivers(e.g.,CUDA,cuDNN),OS(e.g.,Linux),
and hardware (e.g., Nvidia GPU). The complex inter-dependencies
between these DL stack components often result in dependency
issuesthatarehard todiagnoseandresolve[ 15].Previousstudies
haveshownthattheseissueshavebeenidentiﬁedasamajorrea-
sonfor build failuresin DLprojects, which signiﬁcantlystagnates
developerproductivity andsoftware reusability in DL [ 8,15,19].
Several techniques [ 17,26,33,36,43] have been proposed to
detect dependency issues in Python projects, which can be applied
to DL projects since most DL projects are Python-based. However,
thesetechniquessuﬀerfromtwolimitations.First,allofthesetech-
niquesonlydetectdependencyissuesamongPythonpackages,with
theonlyexceptionofPyEGo[ 43],whichcandetectissuesamong
Pythonpackages,somesystemlibraries,andPythoninterpreters.
Noneofthemcandetectissuesrelatedtodrivers,OS,andhardware.
Second, these techniques rely on dependency knowledge speci-
ﬁedinPyPIandAPIdocumentation,whichhaslimitedcoverage
of known version issues due to undocumented dependency and
version constraints.
Meanwhile, popular Q&A websites such as Stack Overﬂow (SO)
haveaccumulatedawealthofinformationaboutdependencyissues
andtheirsolutions.Comparedwithotherinformationsourcessuch
asPyPI,Q&Apostsaremoreup-to-dateandcomprehensive,cov-
eringvariousundocumentedissuesdevelopershaveencountered
in practice. However, given the ambiguity and sophistication of
naturallanguage,extractingknowledgefromfree-formtextischal-
lenging. For example, a SO answer [ 13] states that, “For TensorFlow
1.4, you can see only whl ﬁles up to python 3.6 are available. I am
guessingthatyouareeitherusing3.7or3.8.Thatiswhypipinstall
tensorﬂow-gpu==1.4.0.isnotworking.” Tosuccessfullyextractthe
versionknowledge,oneneedstobuildtechniquestocorrectlymatch
package names withtheirversions andinferthe(in)compatibility
relationshipbasedonthecontextandnarrativetransitionacross
multiple sentences.
Thiswork islicensedunderaCreativeCommonsAttribution4.0Interna-
tional License.
708
ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
Figure 1:Anoverview oftheknowledgegraphconstruction andincompatibilitydetection process
Toaddressthischallenge,weproposeanovelapproachcalled
Decide, which uses a pre-trained Question-Answering (QA) model
to extract version compatibility knowledge from SO posts. Figure 1
providesanoverviewof Decide.Speciﬁcally,wereformulatethe
knowledgeextractiontaskasaquestion-answeringtask:giventwo
versioned DL stack components mentioned in a SO post, we query
aQAmodeltopredictwhethertheyarecompatibleorincompatible
based on the post. We use UniﬁedQA [ 20] as the QA model, which
is trained on eight large-scale datasets and has demonstrated supe-
rior performancein naturallanguageunderstanding.We carefully
designasetofalternativequestiontemplatesbasedonthelinguistic
patterns of sentences that discuss version issues in Stack Overﬂow,
as shown in Table 4. By combining predictions from several al-
ternativequestionsbasedonthelossvalues, Decidecanachieve
morerobustpredictions,whichisalsoknownasself-consistency
prompting[ 35].
Decidefurther consolidates the extracted knowledge into a
weightedknowledgegraph,whichservesastheknowledgebasefor
versionincompatibility detection. Speciﬁcally, given aDL project,
Decideﬁrstanalyzesitsconﬁgurationscriptaswellassourcecode
to identify the required DL stack components and their version
constraints.Then,itextractsDLstackinformationfromthelocal
machine and checks the knowledge graph for potential incom-
patibilities. Uponthe detectionofanincompatibility, Decidealso
suggests the SO posts where the knowledge is extracted from to
helpdevelopers ﬁxthe issue.
We applied Decideto 355K SO posts that may mention ver-
sion issues in deep learning, producing a large knowledge graph
with3,124(in)compatibilityrelationsamong48popularDLstack
components acrossthe DL developmentstack. A manualanalysis
reveals a reasonable accuracy (84%) of the extracted knowledge.
Furthermore, we evaluated Decideon 10 popular DL projects with
17known versionissues incomparisontotwo state-of-the-artap-
proaches,PyEGo[ 43]andWatchMan[ 36].Wefoundthat Decide
candetect65%oftheseissueswithahighprecision(92%),signif-
icantlyoutperformingPyEGo(33%precisionand29%recall)and
Watchman(17%precisionand6%recall).Theseresultsdemonstrate
thefeasibilityofknowledgeextractionfromStackOverﬂowviaa
pre-trained QA model and the eﬀectiveness of knowledge-based
versionincompatibility detection.
In summary,we make the following contributions:
•We proposed a novel knowledge extraction paradigm that
reformulates the knowledge extraction task as a question-
answering task and implemented a knowledge extraction
Figure 2: Required dependencies for Alice to reproduce a
DL project and version incompatibilities (bold) in a local
environment
pipeline that extracts version compatibility knowledge from
SO posts using apre-trainedQA model.
•We developed a knowledge-based version incompatibility
detection approach for DL projects.
•Wecomprehensivelyevaluatedthequalityoftheconstructed
knowledgegraphandcompared Decideagainsttwostate-
of-the-arttechniques on10 real-world DL projects.
•Wemadepubliclyavailabletheﬁrstlarge-scale knowledge
graph with 3,124 version compatibility relations, which can
be used to facilitate future research on version incompatibil-
ity detection, inference,andrepairfor deep learning.
Our code, data, and the resulting knowledge graph have been
madepubliclyavailable at https://github.com/KKZ20/DECIDE .
2 MOTIVATING EXAMPLE
Suppose Alice is a developer and she wants to reuse a TensorFlow
modelforsentimentanalysisfromGitHub.Alicestartsbyinstalling
dependenciesdeclaredinthe requirements.txt ﬁleviapip.Fig-
ure2shows part of the requirements.txt ﬁle. She successfully
installsTensorFlow andNumPy. However, when she is installing
SciPy,pipthrows an error message that a numpyversion between
1.16.5and1.23.0isrequiredfor SciPy 1.7.3 ,butthecurrently
709Knowledge-BasedVersionIncompatibilityDetectionforDeep Learning ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
installednumpyversionis1.24.Alicesolvestheproblembydown-
grading the NumPyversion. Yet, this is just the start of a chain of
versionincompatibilityissueswhereeachofthemgraduallyreveals
itself after the previous ones are resolved.
Alicecontinuestoinstall scikit-learn withpip.Thistime, pip
throws an error: “ERROR: Could not build wheels for NumPy, which
usePEP517andcannotbeinstalleddirectly.” Aliceﬁndsthismessage
confusingasshedoesnotknowwhatPEP517is.Soshesearchesfor
this message online, but none of the most popular answers Google
returns, such as updating pip, works. Alice then tries to search
for the error message directly on Stack Overﬂow (SO). With some
digging, she ﬁnds a post that suggests this error to be related to
using a Macbook with an Apple M1 chip.1Since Apple M1 uses
theARMarchitectureratherthanx86,itisnotcompatiblewiththe
default distributions of certain libraries such as scikit-learn [1].
According to the SO post, this issue can be solved by replacing
MacOS BLAS withopenblas ,anopen-sourceimplementationlinear
algebralibrarythat scikit-learn dependsonandiscompatible
with ARM. After installing openblas , Alice successfully installs
scikit-learn onAppleM1.
Now, the target DL project successfully compiles on Alice’s lap-
top.Shestartsrunningittotrainthemodelbutimmediatelygets
a runtime exception—“ ModuleNotFoundError: No module named
tf.contrib. ” Alice is confused since she has successfully installed all
librarydependenciesspeciﬁedin requirements.txt .Aftersearch-
ing online, Alice found another SO post stating that tf.contrib
has been deprecated since TensorFlow 2.0 and its functionality
hasbeenmigratedtothecore TensorFlow API.2Currently,shehas
TensorFlow 2.6 installed, which no longer has the tf.contrib
module. Thus, she needs to downgrade her TensorFlow version to
1.X.Comparedwiththepreviousincompatibilityissue,thisissue
is much harder to diagnose, since it is not explicitly declared in the
requirement.txt ﬁle norclearlyrevealedinthe errormessage.
Alice downgrades TensorFlow to1.15and re-starts training.
Another error occurs: “ ImportError: libcublas.so.10.0: cannot open
sharedobjectﬁle:Nosuchﬁleordirectory.Failedtoloadthenative
TensorFlowruntime. ”Alicehasnocluewhatthiserrormeans,soshe
searchesonlineagain.SheﬁndsyetanotherSOpostthatasksabout
thesameerrormessage,butittakesherawhiletoreadandcompare
all13answerpoststothisquestion.3Shelearnsthat TensorFlow
1.15requiresCUDA10.0 ,aparallelcomputingframeworktoutilize
NVIDIA GPUs. After manually checking the current CUDAversion,
she ﬁnds that CUDA10.2 is installed on her laptop. She follows the
instructionsinan answer post to download CUDA10.0 andﬁnally
resolves the conﬂict. Now, with all version issues resolved, Alice
can ﬁnally run the DL projectto trainhermodel.
InsteadofrepeatedlysearchingandreadingmanySOposts,Alice
canuseDecidetoquicklyﬁndallpossibleversionincompatibilities
betweenaDLprojectandherlocalmachine. Decidestartsbyex-
tractingversion-relatedknowledgefromthousandsofSOanswer
posts and consolidates the extracted knowledge into a weighted
knowledge graph. Then, it iteratively queries the knowledge graph
to detect version incompatibilities among required DL components
1https://stackoverﬂow.com/questions/70178471
2https://stackoverﬂow.com/questions/60554127
3https://stackoverﬂow.com/questions/55224016and locally installed components. Furthermore, to help Alice un-
derstandtherootcauseoftheincompatibilityandﬁndsolutions,
Deciderecommends a list of SO answer posts from which the
incompatibility knowledge isextracted.
Existing techniques such as WatchMan [ 36] and PyEGo [ 43] are
limited in detecting the aforementioned dependency issues for two
reasons. First, most of the existing techniques only analyze depen-
denciesamongPythonpackagesandthuscannotﬁndissuesacross
diﬀerentDLlayers.Tothebestofourknowledge,PyEGo[ 43]isthe
onlytechniqueanalyzingsystemlibrariesandPythonruntimeinad-
dition to Python packages. However, it still cannot analyze drivers,
OS/containers,andhardware. Second,existing techniques mainly
rely on version information speciﬁed in PyPI metadata or API doc-
umentation, which is often incomplete or out-of-date. By contrast,
Decideacquiresversioncompatibilityknowledgefromabundant
SO posts which are far more comprehensive and up-to-date. There-
fore,itcandetectadiversesetofversionincompatibilitiesacrossall
layers of the DL development stack (i.e., libraries, runtime, drivers,
OS/containers, and hardware). Our experiment shows that Decide
outperformsPyEGo[ 43]andWatchMan[ 36]byatleast58.4%in
precision and35.3% inrecall(Section 6.1).
3 PROBLEM FORMULATION & DEFINITIONS
Dependencymanagementanddependencyissuedetectionarewell-
establishedresearchproblemsinSoftwareEngineering(SE)[ 6,7,11,
12,31].Comparedwithconventionalsoftware,dependencyissues
inDeepLearning(DL)applicationsaremoresophisticateddueto
thecomplexDLdevelopmentstack.Thus,inthissection,weﬁrst
formally deﬁnethe researchproblem and related conceptstohelp
readers understandthe scope of this project.
Ourgoalistodetectpotentialversioncompatibilityissueswhen
reusing or deploying a DL project on a local machine. We use /u1D443
to denote a DL project to be deployed and /u1D440to denote the local
machine where /u1D443executes.The formaldeﬁnitionsare as follows:
Deﬁnition1. (DL Stack Components): In this work, we con-
sider the version issues among componentsin the following ﬁve
diﬀerent DL stack layers [ 18]: (1)Library Layer : This layer con-
tains the popular frameworks (e.g. Tensorﬂow, PyTorch) and other
libraries (e.g. Numpy, SciPy) that a DL application directly depends
on. (2)Runtime Layer : This contains the execution interpreters
or virtualmachinesof programming languages(e.g.Python inter-
preter, JVM). (3) Driver Layer : This layer includes hardware drivers
andacceleratedSDKs(e.g.CUDA,cuDNN)(4) OS/ContainerLayer :
Thisincludestheoperatingsystemsandothercontainersorvirtual
environments (e.g. Anaconda, Docker). (5) Hardware Layer : This
includes the hardware andchips (e.g.CPU,GPU,TPU).
Deﬁnition2.(LocalDLStack): WedeﬁnetheDLstackcompo-
nents/u1D43Finstsalled in the local machine /u1D440as/u1D43F={/u1D452/u1D4631
1,/u1D452/u1D4632
2,...,/u1D452/u1D463/u1D45B/u1D45B},
inwhich/u1D452/u1D463/u1D456
/u1D456isaDL stack component /u1D452/u1D456withversionnumber /u1D463/u1D456.
Deﬁnition 3. (Required DL Stack): We deﬁne the DL stack
componentsrequiredbytheDLproject /u1D443as/u1D445={/u1D452/u1D4501
1,/u1D452/u1D4502
2,...,/u1D452/u1D450/u1D45B/u1D45B}.
/u1D452/u1D450/u1D456
/u1D456is a DL stack component /u1D452/u1D456with a version constraint /u1D450/u1D456, where
/u1D450/u1D456isexpressedinarange format [/u1D463/u1D45A/u1D456/u1D45B,/u1D463/u1D45A/u1D44E/u1D465] (/u1D463/u1D45A/u1D456/u1D45B≤/u1D463/u1D45A/u1D44E/u1D465).
Deﬁnition 4. (Version Incompatibility): With the basic con-
cepts deﬁned above, we can now formulate the problem of version
incompatibility. Given a local DL stack /u1D43Fand required components
710ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
/u1D445inaDLproject,foranypair (/u1D459/u1D463,/u1D45F/u1D450)where/u1D459/u1D463∈/u1D43F,/u1D45F/u1D450∈/u1D445,aversion
incompatibility issue occurs if one of the following two conditions
is satisﬁed. First, if /u1D459and/u1D45Frefer to the same component, /u1D463is not in
therangeof /u1D450.Second,if/u1D459and/u1D45Farediﬀerent,thereisanimplicit
dependency between /u1D45F/u1D45Aand/u1D459/u1D463and/u1D45Aisnot inthe range of /u1D450.
Whiletheﬁrstconditioniseasytocheck,thesecondconditionis
sophisticated and challenging, since it requires identifying implicit
dependencies between DL stack components. Existing approaches
relyonprogramanalysisordependencygraphsfromPyPIorthe
Python oﬃcial website to identify implicit dependencies. However,
theseapproachescannothandleimplicitdependenciesacrossDL
stack layers or capture undocumented dependencies. In this work,
we propose to utilize the rich information shared on Stack Over-
ﬂow,whichcapturesvariousandup-to-dateversionincompatibility
issuesintherealworld.Weextractandrepresentsuchinformation
inaweightedknowledge graph, whichisdeﬁnedbelow.
Deﬁnition 5 (Weighted Knowledge Graph): A weighted
knowledge graph is deﬁned as /u1D43E/u1D43A=</u1D441,/u1D438>where/u1D441={/u1D45B/u1D463
/u1D456|/u1D456≥
0}isasetofnodesdenotingtheDLstackcomponentswiththeir
versionnumbers,and /u1D438={/u1D452/u1D464
/u1D457|/u1D457≥0}isasetofedgesrepresent-
ingthecompatibleorincompatiblerelationshipbetweentwoDL
stackcomponents.Eachedgeislabeledwithanormalizedweight
/u1D464, which captures the conﬁdence of this knowledge (detailed in
Section4.4).
4 KNOWLEDGE GRAPH CONSTRUCTION
This section presents how Decideextracts version compatibility
knowledge from SO posts to buildaknowledge graph.
4.1 Data CollectionandFiltering
WedownloadedtheStackExchangeDataDump[ 27]with53mil-
lion StackOverﬂowpostsfrom July31,2008toSeptember5,2021.
Since our purpose was to extract version compatibility knowledge
related to deep learning, we ﬁrst ﬁltered the SO data dump to ﬁnd
relevant SO posts. To do this, we manually identiﬁed a set of SO
tags relatedto deeplearning. Speciﬁcally, theﬁrstauthormanually
went through 798 popular SO tags (i.e., tags with more than 10K
questions)fromallthe63,715tagsinStackOverﬂowandcreatedan
initiallexicon with12 keywordsrelatedto deeplearning.Togeta
more accuratetag list, the ﬁrstauthor then searchedthe remaining
798 SO tagsandfound 525 tagscontainingatleastone of these12
keywords. Then, he inspected all these tags and selected a ﬁnal set
of 46 SO tags related to deep learning.4We ﬁltered the SO posts to
onlyretainpoststaggedwithatleastoneofthe46tags.4.9Mposts
remainedafter this step.
Then, we performedanotherround of ﬁlteringtoﬁnd SO posts
thatmaymentionversioncompatibilityissues.FromtheDL-related
posts obtained from the previous step, the ﬁrst author searched
“version incompatibility” and manually inspected the ﬁrst 150 posts
fromthesearchresults.Then,hesummarized22linguisticpatterns
from the sentences mentioned version issues in these 150 posts.
Table1shows ﬁve examples of the 22 linguistic patterns.5We
4Thecompletelistoftagscanbefoundat https://github.com/KKZ20/DECIDE/blob/
main/DECIDE/docs/SO_tags.json
5Thecompletelistoflinguisticpatternscanbefoundat https://github.com/KKZ20/
DECIDE/blob/main/DECIDE/docs/Linguistic_patterns.txtfurther ﬁltered the DL-related SO posts with these patterns to ﬁnd
SO posts that mention version issues. After this step, 549K posts
were retained.
Furthermore,toensurethequalityoftheSOposts,weonlykept
poststhatweremarkedasacceptedanswers,aswellaspostswhose
vote score (i.e., upvotes minus downvotes) was above one. This
resulted in 355K posts, which formed the information source to
extract versioncompatibilityknowledge.
To evaluate the accuracy of our data collection process, we ran-
domly sampled 384 posts from the ﬁlter results. This sample size is
statistically meaningful with a 95% conﬁdence interval. The ﬁrst
two authors independently inspected these posts and found 326 of
them indeed contained version compatibility information. The Co-
hen’sKappascoreofthisevaluationis0.85.Inotherwords,ourdata
collectionpipelineidentiﬁedSOpostswithversioncompatibility
knowledgewith84.9%accuracy,whichisreasonableforknowledge
extraction.
4.2 DL Stack Component Recognition
Duringthemanualinspectioninthepreviousstep,weobservedthat
not all paragraphs in a version-related SO post mentioned version
compatibilityinformation.Toimprovetheknowledgeextraction
eﬃciency, wedesignedaﬁltering mechanismin Decidetolocate
paragraphs that may mention version compatibility information.
ThekeyinsightisthatversionincompatibilityinvolvestwoDLstack
componentsandtheirversions.So Decideonlyselectedparagraphs
that mentionat leasttwodiﬀerentversionedcomponents.
In the current implementation, Decidesupports the recognition
of48popularcomponentsacrosstheﬁvelayersinaDLstack.These
components were manually identiﬁed by the ﬁrst author from the
200 posts with the highest score (i.e., upvotes minus downvotes)
amongallpostsobtainedfromthepreviousstep.Inaddition,the
ﬁrstauthoralsoaddedsynonymsoraliasesforthesecomponents
to improve the accuracy of DL stack component recognition. Ta-
ble2shows some of the 48 components and their synonyms.6
Currently,we onlyconsiderthesepopular components.One can
easilyextendthembyaddingmorecomponents,eithermanually
or from an existing lexicon. Adding more components does not
induce any additional eﬀort to adapt the following steps, since the
following steps are designed as a general process for any DL stack
components.
Basedonthe48DLstackcomponents, Decideperformskeyword
matchingtoidentifyparagraphsthatmentionatleasttwodiﬀerent
components. Speciﬁcally, given a SO post, Decideﬁrst removes
code snippets wrapped in <pre>tags from the post to focus on
the natural language text data. It keeps the inline code elements
wrapped in <code>tags to preserve the text ﬂow. Then, Decide
splits thepreprocessed textinto paragraphsby line breaks. When
matching DL stack components, Decideperforms case-insensitive
keyword matching. Furthermore, we designed three regex patterns
to identify version numbers mentioned in a paragraph. Table 3
shows the three regex patterns and some examples of matched
versionnumbers.
6Acompletelistof48DLstackcomponentscanbefoundat https://github.com/KKZ20/
DECIDE/blob/main/DECIDE/docs/DL_Stack_Components.txt
711Knowledge-BasedVersionIncompatibilityDetectionforDeep Learning ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
Table 1:Examples oflinguisticpatternsto match version-related posts
RegexPa/t_tern Matched Examples
(in)?compatible*(version(s)?|(with COMPONENT_NAME)?)... Iam using cuda9.0 as 9.1 is notyet compatiblewithtensorﬂow’s
pre-built binary...[Post 50311325]
(do not|does not|did not|don’t|doesn’t|didn’t)? \s*
work(s|ing|ed)?\s*(with|for|together)...tensorﬂow 1.13 doesn’tworkwith cuda10.1because of
thefollowing...[Post 55028552]
(be|is|are|was|were|been)(removed|deprecated|no longer support)
(since|from|in))\sversion(s)?...support for ﬀtwwas removedin versions of scipy>= 0.7 and
numpy>= 1.2... [Post 7597107]
(mov|(down|up)grad)(e|ed|ing)\s*(your)?\s(COMPONENT_NAME)
\s*(version)?\s*(from|to)?...downgradenumpyversionfrom1.17.2to1.16.4willresolve
issue with tensorﬂow...[Post 61817557]
(latest|new|earlier|older|previous|later|recent
|minimum|maximum)\s(version(s)?)\s(of)?...whatchanged: the latestversionof numpyrequires python 3.5+,
hencetheerror message... [Post 57734033]
Table 2: Examples of the recognized DL stack components
(names after |are aliases)
Layer DLStackComponents
Library Tenforﬂow & tf, Numpy& np, PyTorch,scikit-learn& sklearn
Runtime Python
Driver CUDA,cuDNN
OS/Container Ubuntu, Windows,MacOS,Debian,Anaconda
Hardware AppleM1, ARM, AMD
Table 3:Versionmatchingpatterns
RegexPa/t_tern MatchedExamples
v{0,1}\d+(\.d+){1,2} 3.7, 2.4.3, v2.3, v1.13.5
v{0,1}\d+(\.\d+){0,1}(\.x){0,1} 3.x, 1.3.x, v1.x, v2.2.x
(COMPONENT)(-| |_)v{0,1}\d+ python v3, cuda-8, Windows 64
After extracting a set of DL stack components and version num-
bers in a paragraph, Decidemakes the best eﬀort to match a com-
ponent with its version. We formulate this matching problem as
aweightedstablematchingproblem[ 10].Thestablematchingal-
gorithm tries to establish a one-on-one matching between each
component and each version while maximizing the depth of the
lowest common ancestor of every matched component and ver-
sion in the dependency tree of a sentence. This measurement is
morerobustthanthetoken-leveldistance,sinceweobservethat
the closest version number to a component in a sentence might
referto another component given thecomplex grammarstructure
innaturallanguage.Considerthisexample: “Foryourinstallation
of tensorﬂow, 10.0 version of CUDA library should be used” . Though
10.0is closer to tensorflow , it is actually the version of CUDA.
Figure3shows the dependency tree of this sentence. The lowest
commonancestorof 10.0andtensorflow isused(depth0),while
thelowestcommonancestorof 10.0andCUDAisversion(depth
1).Thus,Decidematches10.0withCUDA.Speciﬁcally, Decideuses
Stanza[29]to perform dependency parsing.
Afterthematchingprocess,ifacomponentinthelibrary,run-
time,driver,orOS/Containerlayerdoesnothaveamatchedversion,
itwillnotbeconsideredforcompatibilityinferenceinthenextstage.
Yet if a component in the hardware layer does not have a matched
version, it will still be considered for compatibility inference in the
nextstage. This design choice is based on our observation thatde-
velopersdonotalwaysreporthardwareversionswhenmentioning
version issues on Stack Overﬂow. Consider the example: “I face the
same problem on macOS 11.6.8 (BigSur) with the Apple M1 chip” .7In
7https://stackoverﬂow.com/questions/73605384tensorflowused
10.0 For yourbe
of,
CUDAversion
libraryshould
ofinstallationobl
punct nsubjaux
aux
nmod
casenmodcasenummod nmod
case compound
Figure 3: Dependency tree where the depth of the lowest
commonancestorfor10.0andCUDAis1whilethedepthfor
thelowest commonancestorfor10.0and tensorﬂow is 0.8
thissentence,macOSwillbematchedwith11.6.8,whileAppleM1is
acomponentwithnoversionnumber.Intheend, Decideidentiﬁes
a total of 1,700 paragraphs from 2,018 SO posts that mention at
leasttwodiﬀerentversionedcomponents.
Overall, our matching algorithmmakes thebest eﬀortto match
a DL stack component and its version. Given the ambiguity and
complexityofnaturallanguage,wecannotalwaysguaranteethe
correctness of matching. Yet, with the careful design above, we
argue that our matching algorithm works in most cases. To con-
ﬁrm this, we randomly sampled 384 SO posts from the 355K posts
from the previous step to evaluate our matching algorithm. This
sample size is statistically meaningful with a 95% conﬁdence in-
terval. The ﬁrst two authors independently checked the matching
results from each post to determine whether DL stack components
were correctly matchedwith theirversions. Then,they compared
theiranalysisresultsandresolvedanydisagreements.TheCohen’s
Kappa score was 0.86. Overall, our matching algorithm achieved
ahighaccuracyof87.4%.Thisresultindicatedthatourmatching
algorithm workedﬁnefor mostcases.
4.3 Compatibility Inference viaaPre-trained
QA Model
AfterrecognizingtwoDLstackcomponentsandtheirversionsina
paragraph, Decideinfersthecompatibilityrelationshipsbetween
thembasedontheinformationintheparagraph.Analyzingfree-
formtextinSOpostsischallengingduetotheambiguityintheir
712ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
Context: importtensorﬂow issuehasbeenresolvedbychang-
ing python from 32 bit to 64 bit and python version must be
3.5-3.7because3.8isnotcompatibleforinstallingtensorﬂow
through: pip install tensorﬂow==1.5.0 .
Question: Ispython3.7compatiblewithtensorflow
1.5.0?
AnswerfromUniﬁedQA: Yes.
Context: tensorflow 1.13 doesn’t work with cuda 10.1
because of the following: “ImportError: libcublas.so.10.0:
cannot open shared object ﬁle: No such ﬁle or directory” .
tensorflow is looking for libcublas.so.10.0 whereas
cudaprovideslibcublas.so.10.1.0.105 .
Question: Doestensorflow1.13workwithcuda10.1?
AnswerfromUniﬁedQA: No.
Figure 4:QAexamples forversioncompatibility inference
Table4:Questiontemplatesforversionknowledgeextraction
Q1: Is(/u1D452/u1D434,/u1D463/u1D434)compatible with (/u1D452/u1D435,/u1D463/u1D435)?
Q2: Is(/u1D452/u1D434,/u1D463/u1D434)not compatible with (/u1D452/u1D435,/u1D463/u1D435)?
Q3: Does (/u1D452/u1D434,/u1D463/u1D434)support(/u1D452/u1D435,/u1D463/u1D435)?
Q4: Does (/u1D452/u1D434,/u1D463/u1D434)not support (/u1D452/u1D435,/u1D463/u1D435)?
Q5: Does (/u1D452/u1D434,/u1D463/u1D434)require(/u1D452/u1D435,/u1D463/u1D435)?
Q6: Does (/u1D452/u1D434,/u1D463/u1D434)not require (/u1D452/u1D435,/u1D463/u1D435)?
Q7: Does (/u1D452/u1D434,/u1D463/u1D434)work with (/u1D452/u1D435,/u1D463/u1D435)?QuestionTemplatesQ8: Does (/u1D452/u1D434,/u1D463/u1D434)not work with (/u1D452/u1D435,/u1D463/u1D435)?
narratives as well as their sophisticated structures. Prior work that
useslinguisticpatternsorrulestoextractprogrammingknowledge
falls short in reasoning the deep semantics in natural language. In
this work, we propose to reformulate this compatibility relation-
shipclassiﬁcationtaskasaQuestion-Answering(QA)taskandthen
use a pre-trainedQA model to solvethe task. Speciﬁcally, Decide
usesUniﬁedQA[ 20]asthepre-trainedQAmodel.UniﬁedQAisa
large model with 3 billion parameters and it is pre-trained on eight
datasets.Ithasbeendemonstratedtounderstanddeepsemantics
in natural language and achieve state-of-the-art performance in
multipleQAbenchmarks[ 20].UniﬁedQAtakestwoinputs—a ques-
tionand acontext document from which the answer is extracted.
Decideusestheparagraphwheretwoversionedcomponentsare
recognized as the context document and then asks UniﬁedQA a
yes-or-no question to infer the compatibilityrelationship between
thetwocomponents.Figure 4showstwoQAexamplesfromtwo
real SO posts— [Post60526751] and[Post55028552] .
The selection of appropriate question prompts for QA models
has a noticeable impact on model performance [ 30]. Hence, we
carefully crafted eight question templates (Table 4) based on the 22
linguisticpatternsidentiﬁedinthepostﬁlteringprocedure(Table 1).
We experimented with all eight question templates and some of
their combinations on UniﬁedQA. The experiment results indicate
thebestperformanceofUniﬁedQAisachievedbycombiningQ1
andQ2.Moredetailsonevaluationsofdiﬀerentquestiontemplates
can be read inSection 6.4.
8The POS tags are omitted in this dependency tree for presentation. The deﬁnition of
eachedge label canbefoundat https://universaldependencies.org/u/dep/all.html
Figure 5:Part ofthe resultingknowledgegraph
4.4 Knowledge Consolidation
The exacted version compatibility relationships may contain re-
dundancies and inconsistencies, as the relevant information can be
presentedinmultiple posts. Toeliminateredundancies andrecon-
cileconﬂicts, Decideconsolidatesrelationsbetweenthesamepairs
ofversionedDLstackcomponentsbycalculatingtheconﬁdence
weight for each relation. For a pair of versioned components, let
#/u1D436/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 denotethenumberofpoststhat Decideinfersacom-
patibilityrelationshipbetweenthem,and #/u1D43C/u1D45B/u1D450/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 denotethe
numberofpoststhat Decideinfersanincompatiblerelationship
betweenthem.Wedeﬁne the conﬁdenceweightof the relationship
between twoversionedcomponentsas follows:
/u1D450/u1D45C/u1D45B/u1D453=#/u1D436/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 −#/u1D43C/u1D45B/u1D450/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452
#/u1D436/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 +#/u1D43C/u1D45B/u1D450/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452(1)
If/u1D450/u1D45C/u1D45B/u1D453isapositivenumber,itimpliesacompatiblerelationship.
Otherwise,itimpliesanincompatiblerelationship.Relationships
withaneutral conﬁdence weight( /u1D450/u1D45C/u1D45B/u1D453=0) are discarded.
After the knowledge consolidationprocess, Decideproducesa
knowledgegraphconsistingof1,431nodesand3,124edges.Each
node in the graph represents a unique versioned DL stackcompo-
nent,whileeach edge represents an (in)compatibilityrelationship
betweentwocomponentswithaconﬁdenceweight.Anillustration
oftheknowledgegraphisprovidedinFigure 5,wherecomponents
of diﬀerent layers in the DL development stack are denoted by
diﬀerentcolors.Forexample, Keras 2.4.3 ,Tensorflow 2.2 ,and
SciPy 1.4 are colored red in Figure 5, since they come from the
librarylayer.Alltherelationsintheknowledgegraphareweighted.
In Figure 5, the relation between Python3.8 andTensorflow2.2
hasaconﬁdenceweightof 0.67,indicatingacompatiblerelationship.
ThisweightiscalculatedbasedonEquation1,where10SOposts
mentionthesetwolibraryversionsarecompatible( #/u1D436/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 )
and 2 posts mention the opposite ( #/u1D43C/u1D45B/u1D450/u1D45C/u1D45A/u1D45D/u1D44E/u1D461/u1D456/u1D44F/u1D459/u1D452 ). This pipeline of
building the weighted knowledge graph can be adapted to extract
open-endedknowledge for diﬀerententitiesfrom future SO posts.
5 COMPATIBILITYISSUEDETECTION
GivenaDLprojecttoreuseandalocalenvironment, Decideper-
forms version incompatibility detection based on the knowledge
713Knowledge-BasedVersionIncompatibilityDetectionforDeep Learning ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
graph in three steps: (1) identifying the required DL stack from the
givenDLproject,(2)identifyingthelocalDLstackfromthelocal
environment,and(3)querying theknowledgegraph todetectpo-
tentialversionincompatibilityifinstallingtherequiredcomponents
onthe local environment. Eachstep isdescribedbelow.
5.1 RequiredDL Stack Identiﬁcation
Decideﬁrstidentiﬁes requiredDL stack componentsfrom the con-
ﬁguration ﬁle and source code.Asa commonpractice,developers
usually specify required dependencies for a project in a conﬁgu-
ration ﬁle named requirements.txt [5,36].Decidecollects the
namesandversionconstraintsofthepackagesandlibrariesspeci-
ﬁedinrequirements.txt .However,asthecomponentslistedin
requirements.txt can be incomplete, Decidefurther performs
static analysis to obtain the full list of Python packages used by
theproject.Speciﬁcally, DecideparsesallthePythonﬁlesinthe
project into Abstract Syntax Trees (ASTs) [ 4] and extracts package
names speciﬁedinthe importstatements.
5.2 LocalDL Stack Identiﬁcation
Following Deﬁnition 1 in Section 3,Decidecollects the version
informationofthecomponentsinﬁveDLstacklayers.Notethat
a developer may deploy the given DL project in either a native
Python environment or a virtual environment managed by Ana-
conda[2].Decidewillﬁrstdetectwhichenvironmentisusedby
running“echo $CONDA_PREFIX” .Ifthiscommandoutputsanon-
emptypathofacondaenvironment,thenitisavirtualenvironment.
Otherwise, itis a native environment. Dependingonthe localenvi-
ronment, Decidewill invoke diﬀerent system commands to gather
the versioninformation ofthe local DL stack.
Wedescribehow Decidegatherstheversioninformationineach
layer below:
(1)Library: If the local environment is a native Python environ-
ment,Decideusespip[3],thedefaultPythonpackagemanager,
togatherlocallyinstalledPythonpackagesandtheirversions
via“pip freeze” . Then,Decidegathers the version infor-
mation of system libraries (e.g., GCC) by directly calling cor-
responding system commands (e.g., “gcc --version” ) and
parsing the outputs. In the current implementation, Decide
only extracts the version information of the popular system
librariesdescribedinSection 4.2.Ifthelocalenvironmentisa
virtual environment managed by Anaconda [ 2],Decidewill
usethecondacommandtocollectversioninformation— “conda
list”.WhilepipiscenteredaroundPythonpackages, conda
supports the management of system libraries (e.g., gcc) and
hardwaredrivers(e.g., cuDNN)inadditiontoPythonpackages.
Thus,Decidecanuse“conda list” togathertheversionin-
formation of both Python packages and system libraries in a
singlecommand execution.
(2)Runtime:SincewefocusonPython-basedDLprojectsinthis
paper,DecidegatherstheruntimePythoninterpreterversion
byinvoking “python --version” andparsingtheoutput.This
command works inboth native andvirtual environments.
(3)Driver: If the local environment isnative, Decidewill collect
the version information of hardware drivers and toolkits by
directly invoking the correspondingcommand for each drivercomponentdescribedinSection 4.2,e.g.,“nvcc -v” forruntime
CUDAversions, “nvidia-smi” forNvidiaGPUdriverversions.
If the local environment is virtual, Decidewill use“conda
list”to gather the version information of hardware drivers
andtoolkits.
(4)OS/Container :DecideusesAPIsinPython osmoduleorthe
command of each OS/Container component to gather their
version information, e.g., python osmodule for OS version,
“conda --version” for Anacondaversion.
(5)Hardware :Decidegathers hardware information by parsing
theoutputsofsystemcommands,e.g., “uname -a” fortheCPU
architecture, “nvidia-smi” for the NvidiaGPUmodel.
In the current implementation, we focus on 48 popular DL stack
componentsin the ﬁve layers. These componentsare described in
Section4.2and a complete list can be found inthe Supplementary
Material. Our approach can be easily extended to collect version
information for other components by adding the corresponding
systemcommands as describedabove.
5.3 Version IncompatibilityDetection
After collecting version information of required DL stack com-
ponents and local DL stack components, Decidedetects version
incompatibilitiesinthefollowingsteps.ForeachrequiredDLstack
component/u1D45F/u1D450/u1D456
/u1D456,Decideﬁrst checks if it is installed in the local ma-
chine.If/u1D45F/u1D456islocallyinstalledwithaversion /u1D463/u1D456and/u1D463/u1D456isintherange
/u1D450/u1D456,Decideconsiders there is no version issue and moves on to the
next component. Otherwise, Decidereports a dependency issue
andinfersthecorrectversionof /u1D45F/u1D456.Toinferthecorrectversion, De-
cideﬁrstqueriestheknowledgegraph /u1D43E/u1D43Atogetasetofcandidate
versions/u1D446/u1D456={/u1D4601,/u1D4602,.../u1D460/u1D45B}sortedintheascendingorder.Foreach
candidatein /u1D446/u1D456,Decidecheckifitiscompatiblewitheachinstalled
componentinthelocalDLstackbyqueryingtheknowledgegraph.
Then,Decidechooses the candidate with the latest version, /u1D460/u1D45A
(m<=n), which is compatible with every other component in the
local stack. It then pushes /u1D45F/u1D460/u1D45A
/u1D456into a stack /u1D449to keeptrack of the
installedorﬁxedcomponentversions. Deciderepeatstheprevious
stepstocheckalltherequiredDLstackcomponents.Duringthis
process, if Decidecannot infer a component version that satisﬁes
the required version constraint and is compatible with all other
components in the local stack, Decideﬁrst backtracks to the previ-
ousinferencestepandpopsuptheinferredcomponentin /u1D449.Itwill
thenpickanotherversioncandidateofthatcomponentin /u1D446/u1D456and
continuetheprocess.If /u1D449isempty,then Decidereportsnosolu-
tion canbe found. Duringthis process, everytime Decidereports
aversionissueorrecommendsacompatibleversion,italsoreports
the SO posts where the (in)compatibility knowledge is extracted to
help developers understand the issue or recommendation. For each
project in the evaluate benchmark (detailed in Section 6.1),Decide
is able to detect and report version issues within 1 minute without
using GPU.
6 EVALUATION
We conduct experiments to answer ﬁve research questionsbelow:
•RQ1:Howeﬀectivelycan Decidedetectversioncompatibility
issuesinreal DL projects?
714ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
•RQ2: Howaccurate isthe extractedknowledge inthe resulting
knowledge graph producedby Decide?
•RQ3:Howaccuratelycanthepre-trainedQAmodelin Decide
infercompatibilityrelationsbetweenversionedDLcomponents?
•RQ4: To what extentcandiﬀerent questiontemplatesaﬀectthe
accuracyofthe pre-trainedQA modelin Decide?
•RQ5: To what extent can diﬀerent knowledge consolidation
strategies aﬀect the accuracy of the resulting knowledge graph?
6.1 Version IncompatibilityDetection
6.1.1 Benchmark Construction. To evaluate the performance of
Decideon real-life deep learning projects, we created a bench-
mark consistingof 10popular DL projectsfrom GitHub.To create
this benchmark, we ﬁrst searched for deep learning projects on
GitHub that have at least 100 stars and have a requirements.txt
ﬁle.Giventhesearchresults,werandomlysampledonedeeplearn-
ing project at a time and manually checked whether it contains
theimplementationofadeeplearningmodel.Then,wemanually
reproduceditonourlocalmachinetocheckifitindeedcontains
versionissues.OurlocalmachineincludesaUbuntu18.04LTSwith
an Intel x86-64 CPU and one RTX A5000 GPU. The default Python
versionis3.6andthenativeCUDAversionis11.2.Wecontinued
this process until we found 10 projects with at least one version
issueonour local machine.
Table5showsthenamesandstatisticsofthese10DLprojects.
On average, these projects have 1,647 stars, 1,321 lines of code, and
1.7 version issues.Seven of them are computer vision models,two
arenaturallanguageprocessingmodels,andoneisagraphicalneu-
ralnetwork.Toensureacomprehensiveidentiﬁcationofversion
incompatibility issues, we reproduced each project, ensured that
the model could run successfully without errors, and documented
allencounteredversionissuesduringthereproductionprocess.We
get 17 version issues from the 10 projects in total. 4 of these issues
involve components at the same level, while 13 issues involve com-
ponentsbetweentwodiﬀerentlayers,e.g.,incompatibilitybetween
TensorFlow and CUDA. Speciﬁcally, 17 issues involve a library
component, 5 involve a runtime component, 10 involve a driver
component,1involvesanOS/Containercomponent,and1involves
ahardwarecomponent.Detailsoftheseversionissuescanbefound
inour artifact [ 46].
Table 5:Benchmarkprojectstatistics
Project Name Star LOC Domain # Issue
tkipf/gcn 6,785 707 GNN 2
chonyy/AI-basketball-analysis 853 648 CV 2
ﬁdler-lab/polyrnn-pp 732 723 CV 2
taki0112/StyleGAN-Tensorﬂow 212 1,625 CV 1
rishizek/tensorﬂow-deeplab-v3-plus 825 1,632 CV 1
cfernandezlab/CFL 101 1,457 CV 1
NVlabs/noise2noise 1,297 3,273 CV 1
localminimum/QANet 990 1,805 NLP 1
kaonashi-tyc/Rewrite 735 544 CV 5
gaussic/text-classiﬁcation-cnn-rnn 3,943 802 NLP 1
AVG 1,647 1,321 / 1.7
Median 839 1,129 / 16.1.2 Comparison Baselines. We compare our tool against two
state-of-the-artapproaches,PyEGo [ 43]andWatchman[ 36]:
•Watchman [36]extractsdependencyrelationsbetweenthird-
partyPythonpackagesfromPyPIdocumentationandusesthe
extracteddependencyrelationstodetectdependencyconﬂictsof
installedpackagesinaPythonproject.Weusedthepublicweb
interface of WatchMan from its oﬃcial website [ 37] for evalu-
ation. This web interface takes a text ﬁle of installed packages
as input and outputs potential dependency issues among the
packages.Tocouplewiththisinputformat,foreachDLproject
in the benchmark, we listed all locally installed packages and
their versions, as well as any missing package and its version
constraint speciﬁedin requirements.txt ,inatext ﬁle and up-
loadedittothewebinterfaceofWatchman.Theversionissues
reported by Watchman will be used to compare with the ground
truth.
•PyEGo[43]extractsdependencyrelationsbetweenPythonpack-
ages,Pythoninterpreters,andsystemlibrariesbasedonPyPIdoc-
umentation, Python documentation, etc.Given a Python project,
itusestheextractedknowledgetoinferthelatestcompatiblever-
sionsofrequireddependenciesfortheprojectbasedonthesource
code.WeusedthePyEGoimplementationfromitsGitHubrepos-
itory [44] for evaluation. Given a DL project, we used PyEGo
to infer a set of compatible versions for the required DL com-
ponents. Then, we compared the inferred versions of required
components with the versions of locally installed components to
detectversionissues.
6.1.3 EvaluationResults. Table6showstheprecison,recall,andF1
score ofDecide, Watchman, and PyEGo. Overall, Decideachieves
91.7%precisionand64.7%recall,signiﬁcantlyoutperformingWatch-
man and PyEgo. The success of Decidecan be attributed to two
factors.First, Decideiscapableofdetectingversionissuesacross
allﬁvelayersinaDLstack,whilePyEGoandWatchmancande-
tect version issues in at most two layers (i.e., library and runtime).
For example, an issue is caused by the incompatibility Tensorflow
1.7.3and Cuda 11.2, which involved the library layer and the
driver layer. However, both Watchman and PyEGo do not contain
version knowledge related to hardware drivers in their knowledge
base,sotheyignorethisissueorreportthelatestlibraryversion
that is compatible withotherthird-party librariesandthePython
runtime version. In our benchmark, a majority of version issues
involve the driver, OS/Container, and hardware layers. Figure 6
shows the number of version issues detected by Decide, Watch-
man,andPyEgoondiﬀerentDLstacklayers.Second, Deciderelies
onversioncompatibilityknowledgeextractedfromthousandsof
SO posts, which is more comprehensive and up-to-date than the
information sourcesofPyEGo andWatchman.
Table 6:Accuracyofversionincompatibilitydetection
Precision Recall F1score
Watchman[ 36] 16.7% 5.9% 8.7%
PyEGo [43] 33.3% 29.4% 31.2%
Decide 91.7% 64.7% 75.9%
715Knowledge-BasedVersionIncompatibilityDetectionforDeep Learning ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
Figure6:Thenumber ofversionissuesdetectedby Decide,
PyEGo[43],andWatchman[ 36]ondiﬀerentDLstacklayers
6.2 Knowledge GraphQuality
To evaluate the accuracy of the extracted knowledge in the knowl-
edgegraphproducedby Decide,werandomlysampled343version
(in)compatibilityrelationsfrom3,124relationsintheknowledge
graph. This sample size is statistically meaningful with a 95% con-
ﬁdence interval. For each relation, the ﬁrst two authors indepen-
dently veriﬁed whether the relation is true by searching online.
Then, they compared their veriﬁcation results and resolved any
disagreement.TheCohen’sKappascorewas0.89.Overall,287of
the 343 relations are veriﬁed to be correct, indicating a high ac-
curacy (83.7%). There are three reasons for the inaccuracy. First,
64%oftheincorrectrelationswereduetothemismatchbetween
acomponentnameandaversionnumber.27%wereduetoincor-
rect predictions from UniﬁedQA. 9% were due to incorrect version
knowledge sharedinthe originalSO post.
6.3 Pre-trainedQA Model Performance
When constructing the knowledge graph, UniﬁedQA received a
totalof5,532queries(i.e.,aquestionandaparagraphfromSO)to
predict compatibility relations between two DL components. Thus,
toevaluatetheaccuracyofUniﬁedQA,werandomlysampled360
ofthe5,532queries.Thissamplesizeisstatisticallysigniﬁcantwith
a 95% conﬁdence interval. The ﬁrst two authors independently
validatedeachqueryresultanddiscussedanydisagreements.The
Cohen’s Kappa score for this step was 0.86. We found that Uni-
ﬁedQA achieved 84.2% precision and 91.3% recall on these 360
queries.Therearethreereasonsforincorrectpredictions.First,12%
oftheincorrectpredictionswerebecauseUniﬁedQAmisunderstood
the question. Second, for 53% of the incorrect predictions, the two
DLcomponentswerejustmentionedinthegivenparagraphand
didnothavedependencyrelationships.Thus,thereisnoversion
knowledgetoextract,butUniﬁedQAstillpredictsarelation.Finally,
35% of the incorrect predictions were due to a mismatch of com-
ponents and their versions in the query. This is more of an error
propagatedfrom the previous DL componentrecognitionstep.
6.4 QuestionTemplateDesign
Question prompt design is a classic problem when applying pre-
trainedQAmodelstodownstreamtasks[ 30].Inthisexperiment,we
designed8questiontemplates,as showninTable 4.Wemeasured
theprecisionandrecallofeachtemplateonthesamesampleof360
relations as in Section 6.3. Table7shows the model accuracy whenusing diﬀerentquestion templatesto extract version compatibility
knowledge.Amongeightquestiontemplates,Q7(i.e., “DoesAwork
withB?”) achieves the bestperformance.
Table 7:QAmodelaccuracyofdiﬀerentquestiontemplates
Question Precision Recall Question Precision Recall
Q1 82.2% 89.2% Q5 79.2% 85.8%
Q2 69.7% 75.6% Q6 54.4% 59.0%
Q3 82.2% 89.2% Q7 83.6% 90.7%
Q4 72.8% 78.9% Q8 60.6% 65.7%
Previous work has attempted to ask alternative questions to a
QA model and ensemble the answers to improve the robustness
and consistency of the QA model [ 30]. Inspired by this, we also ex-
perimented with three diﬀerent combination strategies to check if
they indeed improve the model accuracy in our approach. The ﬁrst
combination strategy is to combine two questions with opposite
phrases(e.g., “IsAcompatiblewithB?”and“IsAnotcompatiblewith
B?”).Thesecondcombinationstrategyistocombineallquestion
templates with positive phrases (Q1+Q3+Q5+Q7) and all templates
with negative phrases (Q2+Q4+Q6+Q8). The third combination
strategy is to simply combine all eight question templates. Given a
combinationofquestiontemplates, Decidewillgenerateacorre-
spondingsetofquestionsandretrievemultipleanswersfromthe
UniﬁedQA. For each question template, the UniﬁedQA forwards
thequestiontogetherwiththecontextandgetsacross-entropyloss
value that measures how conﬁdent the model is aboutthe answer.
Then,itselectstheonewiththelowestlossvalueastheﬁnalanswer,
following the ensemble methodin the previouswork [ 30].Table8
showsthemodelaccuracywhenusingdiﬀerentcombinationsof
questiontemplates.Wefoundthatcombiningmultiplequestions
doesnotalwaysleadtobetterperformancecomparedwithusing
a single question. For example, when combining questions with
all positive phrases together (Q1+Q3+Q5+Q7), the precision and
recall become worse compared with using Q7 alone. Among all
combinations,combiningQ1andQ2achievesthebestperformance
(84.2% precision and 91.3% recall), while the improvement over the
bestindividualtemplate (Q7)ismarginal.
Table 8:Accuracyofcombined questiontemplates
Question Precision Recall Question Precision Recall
Q1+Q2 84.2% 91.3% Q5 +Q6 70.8% 76.8%
Q3 +Q4 82.2% 89.2% Q7 +Q8 82.8% 89.8%
Q1,3, 5, 7 82.5% 89.5% Q2,4, 6, 8 69.7% 75.6%
Q1-8 82.2% 89.2%
6.5 Knowledge Consolidation Design
The knowledge consolidation module of Decideaims to eliminate
redundancies and reconcile conﬂicts in the prediction results of
the QA model. We tried three diﬀerent knowledge consolidation
strategies:(1)majorityvote(i.e.,selecttherelationpredictedbythe
majorityofposts);(2)weightedmajorityvote(i.e.,selecttherelation
predictedfromtheSOpostswhosetotalSOscoreisthehighest);
(3) vote by loss (i.e., select the predicted relation with the lowest
loss value). In the resulting knowledge graph, 558 (in)compatibility
716ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
relationswereconsolidatedfrommultiplepredictedrelations.Thus,
we randomly sampled 228 of the 558 relations and retrieved the
originalpredictionsfromUniﬁedQA.Thesamplesizeisstatistically
signiﬁcant at a conﬁdence interval of 95%. Then, we evaluated the
three strategies on this sample and compared the consolidation
results to the ground truths, which were manually validated by the
ﬁrstauthor.Notethattofullyevaluatetheknowledgeconsolidation
strategies, weexcluded25 incorrectrelations that werecausedby
themismatchbetweencomponentnamesandversions.Theresults
showed thatthe majority vote strategyachieves the best accuracy,
95.1%, followed by voting by loss (93.6%) and weighted majority
vote(91.6%).Yettheaccuracyvarianceamongthesethreestrategies
issmall.Thisresultimpliesthat,unlikequestiontemplatedesign,
knowledgeconsolidationdoesnothaveasigniﬁcantinﬂuenceover
the knowledge extractionpipeline.
7 DISCUSSION
Ourexperimentresultsdemonstratetheeﬀectivenessofleveraging
the rich version knowledge shared on Stack Overﬂow to detect
versionincompatibilityissuesindeeplearning.Furthermore,we
demonstrate the feasibility of leveraging pre-trained QA models
to extract version compatibility knowledge from online discus-
sions.Thisissigniﬁcantsincegiventhesuperiorperformanceof
pre-trained large models on text data, our approach can more accu-
rately reasonabout thedeep semantics innatural language narra-
tives compared with rule-based systems. Our experiment results
alsodemonstratethat,withcarefulpromptdesign,usingthepre-
trainedQAmodelwithoutﬁnetuningcanalreadyreachareasonable
accuracy—84.2% precision and 91.3% recall as shown in Section 6.3.
In this work, we proposed a pipeline for generating a large-
scale and high-quality knowledge graph, which is easily extensible
withmoreSOposts.Fornow, Decideonlybuildstheknowledge
graphfromSOpostsconcerningDLprojects’versionissues.Future
researchers can extend this knowledge graph and apply it to other
tasksbyaddingmorediverseSOposts,suchasdetectingversion
issues in Java projects by extending the knowledge graph with SO
posts concerning Java ecosystem.
Comparison to ChatGPT. Given the recent advances in Large
Language Models (LLMs) such as ChatGPT, one alternative solu-
tion is to directly ask LLMs whether two versioned libraries are
compatible or not. We investigated this by prompting ChatGPT
(GPT3.5)withthetemplate “is [Lib A] compatible [Lib B]?” .
Speciﬁcally, we tested ChatGPT on all 17 pairs of incompatible DL
components from our benchmark, as well as 290 randomly sam-
pledpairs of compatible components. We foundout thatChatGPT
correctlypredicted12incompatiblerelationsand211compatible
relations.WhileChatGPTachievesadecentrecall(70.5%)onthe
benchmark,itachievesamuchlowerprecision(72.6%)comparedto
ourtool(91.7%).ThisﬁndingsuggeststhatChatGPTindeedobtains
some DL compatibility knowledge. However, ChatGPT may still
generatehallucinatedknowledge,whichpreventsitfromaccurately
identifying versionissuesinDL projects.
Threats to validity. In terms of internal validity, one threat is the
smallbenchmarkusedtoevaluate Decide.Sofar,thisbenchmark
containsonly10DLprojectsfromGitHub.Whiletheseprojectsare
popular projects (at least 100 stars) from 3 diﬀerent DL domains,ourexperimentcanstillbeneﬁtfromalargerbenchmarkwithmore
domains. In the future, the authors will expand the current bench-
mark to include more DL projects. Furthermore, given the large
numberofprocessedSOposts,wecannotmanuallyvalidateeach
one of themto evaluatethe accuracy of our knowledge extraction
pipeline.Thus,weinspectedrandomsamples,whichmayleadto
impreciseestimation.Wemitigatethisthreatbyusingastatistically
signiﬁcant sample size at the 95%conﬁdence interval.
In terms of external validity, the current implementation of De-
cideonlysupports48popularDLstackcomponents.While Decide
has been demonstrated to eﬀectively extract version knowledge
ofthesepopularcomponents,itmaynotbeabletoextractuseful
knowledgeforDLcomponentsthatarerarelydiscussedonStack
Overﬂow,whichdiminishesitseﬀectivenessforversioncompati-
bilitydetection for thosecomponents.
In termsofconstruct validity, wecannot guarantee the DL stack
component recognition algorithm always correctly assigns the ver-
sionnumberstotheintendedcomponent.Considertheexample:
“Answer v2.0: Try to install tensorﬂow 1.15 on your Python.” Since
the current implementation of Decideis designed to match as
manycomponent-versionpairsaspossible, v2.0willbeincorrectly
matched with Python, although it only indicates we are reading
the secondedition ofthis answer.
Future work. There are several interesting future directions to
explore for this problem. First, Decidecurrently only extracts
knowledge from SO posts. Other types of documents, such as PyPI
documentationandGitHubissuepages,alsocontainknowledgerel-
evant to library versions. Thus, it is worthwhile extending Decide
toextractknowledgefromothertypesofonlinedocuments.Specif-
ically, the knowledge consolidation process needs to be redesigned
tomergeknowledgeextractedfromdiﬀerenttypesofdocuments
whileaccounting for their credibility,recency,andpopularity.
Second,Decidecanonly detectversionincompatibilities with-
out automatically repairing the version issues in DL projects. How-
ever, the knowledge graph generated from SO discussions contains
knowledgeofcompatiblerelationsbetweenDLcomponents.Inthe
future,weplantoinvestigateeﬀectiverepairstrategiesbasedon
the knowledge graph.
Finally, although the pre-trained QA model in Decidecan ex-
tract version knowledge with reasonable accuracy (84.2% precision
and 91.3% recall), its accuracy could be further improved with ﬁne-
tuning. In the future, we plan to ﬁne-tune UniﬁedQA by creating a
largesetofSOpostslabeledversioncompatibilityrelationships.Al-
ternatively, we can also substitute UniﬁedQA with stronger LLMs,
such as ChatGPT, to extract version knowledge from SO posts.
RecentworkhasdemonstratedthatChatGPTachievesgoodper-
formanceinknowledgeextraction[ 21,41].Therefore,webelieve
it is a promising direction to improve Decideperformance by sub-
stituting UniﬁedQA withChatGPT.
8 RELATED WORK
8.1 Version IncompatibilityDetection
There is a large body of literature on version incompatibility de-
tection [16,17,26,28,33,36,38,39,43]. Those most related to our
workaretechniquesdesignedforthePythonecosystem[ 33,36,43].
Wang et al. [ 36] proposed WatchMan, which collects the metadata
717Knowledge-BasedVersionIncompatibilityDetectionforDeep Learning ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA
ofeachPyPIprojectandconstructsaknowledgebasze.Itgenerates
andtraversesadependencygraphtolookforversionincompatibili-
tiesamongagivenlistofthird-partyPythonpackages.Yeetal.[ 43]
proposed PyEGo, which automatically infers the latest compatible
versionsforrequireddependenciesinPythonprojects.Theycon-
structed a knowledge graph that stores relations and constraints
amongthird-partyPythonpackages,thePythoninterpreter,and
systemlibraries.Theknowledgeiscollectedfromoﬃcialdocuments
suchasPyPIandPythonoﬃcialwebsite.SniﬀerDog[ 33]constructs
anAPIbankthatmapsAPIstodiﬀerentversionsofPythonpack-
ages. With this bank, SniﬀerDoginfers required package versions
for Jupyter notebooks from API usage. Since these techniques only
extract dependency relations from oﬃcial documents such as PyPI
metadata,theycannotdetecterrorsinthedriver,OS/container,and
hardwarelayerinaDLstack.Bycontrast, Decideusesapre-trained
QAmodelto extractversionknowledgefromonline discussions,
whichare more comprehensive andup-to-date.
There are also some version incompatibility detection ap-
proaches for other ecosystems such as Java and JavaScript [ 16,
28,40].Patraetal.[ 28]proposedConﬂictJS,whichdetectsconﬂicts
inJavaScriptlibrariesbyidentifyinglibrariesthatwritetothesame
globalmemorylocation.Heetal.[ 16]proposedIctApiFinder,which
usesaninteger-proceduraldataﬂowanalysisframeworktoidentify
incompatibleAPIusagesinAndroidapplications.However,these
techniquescannotbeappliedtoPython-basedDLprojectsdueto
the languagediﬀerence.
8.2 Knowledge Extractionfrom SE Documents
Several approaches have been proposed to extract API knowl-
edge or insightful sentences from API documents and SO discus-
sions [22,24,25,32,34,42,45]. Someofthemperformknowledge
extraction with rule-based pattern matching [ 22,24]. For example,
Li et al. [ 22] developed a set of linguistic patterns to extract ten
types of API usage sentence-level caveats from SO posts. Recently,
moretechniqueshavesoughttoimprovetheirﬂexibilityinprocess-
ing SE documents via neural networks. For example, Liu et al. [ 25]
trainedafeed-forwardneuralnetworktoclassifydescriptivesen-
tences of APIs from API documentation. Similarly, DeepTip [ 34]
usesaCNNmodeltoextractsentence-levelAPIusagetipsfromSO
postswith atrainedCNN model.Comparedwith previouswork,
our approach performs a more ﬁne-grained knowledge extraction
that requires a delicate recognition of DL components followed by
inference of their relationship, rather than classifying sentences.
Furthermore,previousneuralapproachesneedtoacquirealarge
labeleddatasetﬁrstandtrainamodelfromthescratch.However,
our approach makes use of a pre-trained QA model and demon-
stratesthefeasibilityofachievingareasonableaccuracywithout
ﬁnetuning throughcarefulquestiontemplate design.
9 CONCLUSION
This paperpresents Decide, a knowledge-based version incompati-
bilitydetectionapproachfordeeplearningprojects.Thekeyinsight
is to leverage the abundant version compatibility knowledge from
Stack Overﬂow to facilitate the detection of version incompatibili-
ties.Speciﬁcally, Decideusesapre-trainedQuestion-Answering
(QA) model to extract version compatibility knowledge from thefree-form text in online discussions. Compared with existing rule-
based knowledge extraction systems, utilizing a pre-trained QA
modelempowers Decidetoreasonaboutthedeepsemanticsinnat-
urallanguagewithouttheneedofacquiringdomain-speciﬁcdatato
trainamodelfromscratch.Theevaluationresultsdemonstratethat
ourapproachcanextractversionknowledgewith84%accuracyand
canaccurately identify65%of known versionissuesin 10popular
DL projects with a 92% precision, signiﬁcantly outperforming two
state-of-the-artapproaches.
ACKNOWLEDGMENT
Theauthorswouldliketothanktheanonymousreviewersfortheir
valuable comments. This research was in part supported by an
AmazonResearchAwardandaCiscoResearch Award.
REFERENCES
[1]2022. Installing on Apple Silicon M1 hardware. (2022). https://scikit-
learn.org/stable/install.html#installing-on-apple-silicon-m1-hardware
[2] Accessed on2023. Anaconda. https://www.anaconda.com/
[3] Accessed on2023. PyPI. https://pypi.org/
[4]Sep12,2022. PythonAbstractSyntaxTrees. https://docs.python.org/3.8/library/
ast.html
[5]Pietro Abate and Roberto Di Cosmo. 2011. Predicting upgrade failures using de-
pendencyanalysis.In 2011IEEE27thInternationalConferenceonDataEngineering
Workshops . IEEE,145–150. https://doi.org/10.1109/ICDEW.2011.5767626
[6]Meriem Belguidoum and Fabien Dagnat. 2007. Dependency management in
software component deployment. Electronic Notes in theoretical computer science
182(2007), 17–32. https://doi.org/10.1016/j.entcs.2006.09.029
[7]Humberto Cervantes and Richard S Hall. 2003. Automating service dependency
management in a service-oriented component model. In Icse cbse workshop . Cite-
seer.
[8]ZhenpengChen,YanbinCao,YuanqiangLiu,HaoyuWang,TaoXie,andXuanzhe
Liu. 2020. A comprehensive study on challenges in deploying deep learning
based software. Proceedings of the 28th ACM Joint Meeting on European Software
EngineeringConferenceandSymposiumontheFoundationsofSoftwareEngineering
(2020).https://doi.org/10.1145/3368089.3409759
[9]Zhenpeng Chen, Sheng Shen, Ziniu Hu, Xuan Lu, Qiaozhu Mei, and Xuanzhe
Liu. 2019. Emoji-powered representation learning for cross-lingual sentiment
classiﬁcation.In TheWorldWideWebConference .251–262. https://doi.org/10.
48550/arXiv.1806.02557
[10]Wikipediacontributors.2023. Stablemarriageproblem. https://en.wikipedia.
org/wiki/Stable_marriage_problem
[11]Silvia Esparrachiari, Tanya Reilly, and Ashleigh Rentz. 2018. Tracking and
Controlling Microservice Dependencies: Dependency management is a cru-
cial part of system and software design. Queue16, 4 (2018), 44–65. https:
//doi.org/10.1145/3277539.3277541
[12]Gang Fan, Chengpeng Wang, Rongxin Wu, Xiao Xiao, Qingkai Shi, and Charles
Zhang. 2020. Escaping dependency hell: ﬁnding build dependency errors
with the uniﬁed dependency graph. In Proceedings of the 29th ACM SIGSOFT
International Symposium on Software Testing and Analysis . 463–474. https:
//doi.org/10.1145/3395363.3397388
[13]Stack Overﬂow Username :FlyingTeller. 2019. Install an older version of Tensor-
ﬂowGPU. https://stackoverﬂow.com/questions/59659585
[14]Ryosuke Furuta, Naoto Inoue, and Toshihiko Yamasaki. 2019. Fully convolu-
tional networkwith multi-step reinforcement learning for image processing.In
ProceedingsoftheAAAIconferenceonartiﬁcialintelligence ,Vol.33.3598–3605.
https://doi.org/10.48550/arXiv.1811.04323
[15]JunxiaoHan,ShuiguangDeng,DavidLo,ChenZhi,JianweiYin,andXinXia.2020.
An Empirical Study of the Dependency Networks of Deep Learning Libraries.
In2020 IEEE International Conference on Software Maintenance and Evolution
(ICSME). 868–878. https://doi.org/10.1109/ICSME46990.2020.00116
[16]DongjieHe,LianLi,LeiWang,HengjieZheng,GuangweiLi,andJinglingXue.
2018. UnderstandingandDetectingEvolution-InducedCompatibilityIssuesin
Android Apps. In 2018 33rd IEEE/ACM International Conference on Automated
SoftwareEngineering (ASE) . 167–177. https://doi.org/10.1145/3238147.3238185
[17]Eric Horton and ChrisParnin. 2019. Dockerizeme: Automatic inference ofen-
vironment dependencies for python code snippets. In 2019 IEEE/ACM 41st In-
ternational Conference on Software Engineering (ICSE) . IEEE, 328–338. https:
//doi.org/10.48550/arXiv.1905.11127
[18]KaifengHuang, BihuanChen,SushengWu, JunminCao,Lei Ma,andXinPeng.
2022. DemystifyingDependencyBugsinDeepLearningStack. arXivpreprint
718ESEC/FSE ’23, December3–9, 2023,San Francisco, CA, USA Zhongkai Zhao,Bonan Kou,MohamedYilmaz Ibrahim, Muhao Chen, andTianyi Zhang
arXiv:2207.10347 (2022).https://doi.org/10.48550/arXiv.2207.10347
[19]NargizHumbatova,GunelJahangirova,GabrieleBavota,VincenzoRiccio,An-
drea Stocco, and Paolo Tonella. 2019. Taxonomy of Real Faults in Deep Learning
Systems. CoRRabs/1910.11015 (2019). https://doi.org/10.48550/arXiv.1910.11015
arXiv:1910.11015
[20]DanielKhashabi,SewonMin,TusharKhot,AshishSabharwal,OyvindTafjord,
PeterClark,andHannanehHajishirzi.2020. Uniﬁedqa:Crossingformatbound-
aries with a single qa system. arXiv preprint arXiv:2005.00700 (2020).https:
//doi.org/10.48550/arXiv.2005.00700
[21]Bo Li, Gexiang Fang, Yang Yang, Quansen Wang, Wei Ye, Wen Zhao, and Shikun
Zhang. 2023. Evaluating ChatGPT’s Information Extraction Capabilities: An
Assessment of Performance, Explainability, Calibration, and Faithfulness. arXiv
preprint arXiv:2304.11633 (2023).https://doi.org/10.48550/arXiv.2304.11633
[22]Hongwei Li, Sirui Li, Jiamou Sun, Zhenchang Xing, Xin Peng, Mingwei Liu, and
XuejiaoZhao.2018. Improvingapicaveatsaccessibilitybyminingapicaveats
knowledge graph. In 2018 IEEE International Conference on Software Maintenance
andEvolution(ICSME) .IEEE,183–193. https://doi.org/10.1109/ICSME.2018.00028
[23]Peiliang Li, Xiaozhi Chen,and ShaojieShen. 2019. Stereo r-cnn based3d object
detection for autonomousdriving.In ProceedingsoftheIEEE/CVFConference on
ComputerVisionandPatternRecognition .7644–7652. https://doi.org/10.48550/
arXiv.1902.09738
[24]MingweiLiu,XinPeng,AndrianMarcus,ShuangshuangXing,ChristophTreude,
and Chengyuan Zhao.2021. API-RelatedDeveloper Information Needs in Stack
Overﬂow. IEEE Transactions on Software Engineering 48, 11 (2021), 4485–4500.
https://doi.org/10.1109/TSE.2021.3120203
[25]Mingwei Liu, Xin Peng, Andrian Marcus, Zhenchang Xing, Wenkai Xie, Shuang-
shuangXing,andYangLiu.2019. Generatingquery-speciﬁcclassAPIsummaries.
InProceedings of the 2019 27th ACM joint meeting on European software engineer-
ingconferenceandsymposiumonthefoundationsofsoftwareengineering .120–130.
https://doi.org/10.1145/3338906.3338971
[26]SuchitaMukherjee,AbigailAlmanza,andCindyRubio-González.2021. Fixing
dependency errors for Python build reproducibility. In Proceedings of the 30th
ACMSIGSOFTInternationalSymposiumonSoftwareTestingandAnalysis .439–451.
https://doi.org/10.1145/3460319.3464797
[27]Accessed on June 09 2022. 2022. Stack Exchange Data Dump. (2022). https:
//archive.org/details/stackexchange
[28]Jibesh Patra, Pooja N. Dixit, and Michael Pradel. 2018. ConﬂictJS: Finding
and Understanding Conﬂicts between JavaScript Libraries. In Proceedings of
the 40th International Conference on Software Engineering (Gothenburg, Sweden)
(ICSE’18) . Association for ComputingMachinery, NewYork, NY, USA, 741–751.
https://doi.org/10.1145/3180155.3180184
[29]Peng Qi, Yuhao Zhang, Yuhui Zhang, Jason Bolton, and Christopher D.Manning.
2020. Stanza: A Python Natural Language Processing ToolkitforMany Human
Languages.In Proceedingsofthe58thAnnualMeetingoftheAssociationforCompu-
tational Linguistics: System Demonstrations .https://doi.org/10.18653/v1/2020.acl-
demos.14
[30]Alec Radford, Jong Wook Kim, Chris Hallacy, Aditya Ramesh, Gabriel Goh,
SandhiniAgarwal,GirishSastry,AmandaAskell,PamelaMishkin,JackClark,
et al.2021. Learning transferable visual models from natural language su-
pervision. In International Conference on Machine Learning . PMLR, 8748–8763.
https://doi.org/10.48550/arXiv.2103.00020
[31]Yudai Tanabe, Tomoyuki Aotani, and Hidehiko Masuhara. 2018. A context-
orientedprogrammingapproachtodependencyhell.In Proceedingsofthe10th
ACM International Workshop on Context-Oriented Programming: Advanced Modu-
larityfor Run-time Composition . 8–14.https://doi.org/10.1145/3242921.3242923[32]ChristophTreudeandMartinPRobillard.2016. AugmentingAPIdocumentation
withinsightsfromstackoverﬂow.In 2016IEEE/ACM38thInternationalConference
on Software Engineering(ICSE) .IEEE, 392–403. https://doi.org/10.1145/2884781.
2884800
[33]Jiawei Wang, Li Li, and Andreas Zeller. 2021. Restoring execution environments
ofjupyternotebooks.In 2021IEEE/ACM43rdInternationalConferenceonSoftware
Engineering (ICSE) . IEEE,1622–1633. https://doi.org/10.48550/arXiv.2103.02959
[34]Shaohua Wang, NhatHai Phan, Yan Wang, and Yong Zhao. 2019. Extracting
APItipsfromdeveloperquestionandanswerwebsites.In 2019IEEE/ACM16th
InternationalConferenceonMiningSoftwareRepositories(MSR) .IEEE,321–332.
https://doi.org/10.1109/MSR.2019.00058
[35] XuezhiWang,JasonWei,DaleSchuurmans,QuocLe,EdChi,andDennyZhou.
2022. Self-consistencyimproveschainofthoughtreasoninginlanguagemod-
els.arXivpreprint arXiv:2203.11171 (2022).https://doi.org/10.48550/arXiv.2203.
11171Focustolearnmore
[36]YingWang,MingWen,Yepang Liu,YiboWang,Zhenming Li,ChaoWang,Hai
Yu, Shing-Chi Cheung, Chang Xu, and Zhiliang Zhu. 2020. Watchman: Monitor-
ingDependencyConﬂictsforPythonLibraryEcosystem.In Proceedingsofthe
ACM/IEEE42ndInternationalConferenceonSoftwareEngineering (Seoul,South
Korea)(ICSE’20) .AssociationforComputingMachinery,NewYork,NY,USA,
125–135. https://doi.org/10.1145/3377811.3380426
[37]YingWang,MingWen,Yepang Liu,YiboWang,Zhenming Li,ChaoWang,Hai
Yu,Shing-ChiCheung,ChangXu,andZhiliangZhu.2020. WatchmanOnline
Interface. http://www.watchman-pypi.com/
[38]YingWang,MingWen,RongxinWu,ZhenweiLiu,ShinHweiTan,ZhiliangZhu,
HaiYu,andShing-ChiCheung.2019. CouldIHaveaStackTracetoExaminethe
DependencyConﬂictIssue?.In 2019IEEE/ACM 41stInternationalConferenceon
SoftwareEngineering (ICSE) . 572–583. https://doi.org/10.1109/ICSE.2019.00068
[39]YingWang,MingWen,LiuZhenwei,Rongxinwu,RuiWang,BoYang,HaiYu,
Zhiliang Zhu, and Shing-Chi Cheung. 2018. Dothe dependency conﬂicts in my
project matter?319–330. https://doi.org/10.1145/3236024.3236056
[40]YingWang,MingWen,LiuZhenwei,Rongxinwu,RuiWang,BoYang,HaiYu,
Zhiliang Zhu, and Shing-Chi Cheung. 2018. Dothe dependency conﬂicts in my
project matter? (10 2018),319–330. https://doi.org/10.1145/3236024.3236056
[41]Xiang Wei,XingyuCui, NingCheng, XiaobinWang,XinZhang,ShenHuang,
Pengjun Xie, Jinan Xu, Yufeng Chen, Meishan Zhang, et al .2023. Zero-shot
informationextractionviachattingwithchatgpt. arXivpreprintarXiv:2302.10205
(2023).https://doi.org/10.48550/arXiv.2302.10205
[42]Bowen Xu, Deheng Ye, Zhenchang Xing, Xin Xia, Guibin Chen, and Shan-
ping Li. 2016. Predicting semantically linkable knowledge in developer on-
line forums via convolutional neural network. In 2016 31st IEEE/ACM Inter-
national Conference on Automated Software Engineering (ASE) . IEEE, 51–62.
https://doi.org/10.1145/2970276.2970357
[43]Hongjie Ye, Wei Chen, Wensheng Dou, Guoquan Wu, and Jun Wei. 2022.
Knowledge-Based Environment Dependency Inference for Python Programs.
In2022IEEE/ACM44thInternationalConferenceonSoftwareEngineering(ICSE) .
1245–1256. https://doi.org/10.1145/3510003.3510127
[44]Hongjie Ye, Wei Chen, Wensheng Dou, Guoquan Wu, and Jun Wei. 2022. PyEGo
GitHubRepository. https://github.com/PyEGo/PyEGo
[45]Hang Yin, Yuanhao Zheng, Yanchun Sun, and Gang Huang. 2021. An API
Learning Service for Inexperienced Developers Based on API Knowledge Graph.
In2021 IEEE International Conference on Web Services (ICWS) . IEEE, 251–261.
https://doi.org/10.1109/ICWS53863.2021.00043
[46]Zhongkai Zhao, Ibrahim Mohammed Yilmaz Kou, Bonan, Muhao Chen, and
Tianyi Zhang. 2023. Artifact of Knowledge-based Version Incompatibility Detec-
tionfor DeepLearning. https://github.com/KKZ20/DECIDE .
Received 2023-02-02; accepted 2023-07-27
719