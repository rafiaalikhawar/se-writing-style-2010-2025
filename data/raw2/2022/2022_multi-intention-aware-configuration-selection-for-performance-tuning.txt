Multi-Intention-Aware Configuration Selection for Performance
Tuning
Haochen He
hehaochen13@nudt.edu.cn
National University of Defense
Technology, ChinaZhouyang Jia‚àó
jiazhouyang@nudt.edu.cn
National University of Defense
Technology, ChinaShanshan Li‚Ä†
shanshanli@nudt.edu.cn
National University of Defense
Technology, China
Yue Yu‚Ä†
yuyue@nudt.edu.cn
National University of Defense
Technology, ChinaChenglong Zhou
zhouchenglong15@nudt.edu.cn
National University of Defense
Technology, ChinaQing Liao
liaoqing@hit.edu.cn
Harbin Institute of Technology
Shenzhen, China
Ji Wang
wj@nudt.edu.cn
National University of Defense
Technology, ChinaXiangke Liao
xkliao@nudt.edu.cn
National University of Defense
Technology, China
ABSTRACT
Automaticconfigurationtuninghelpsuserswhointendtoimprove
software performance. However, the auto-tuners are limited by
the huge configuration search space. More importantly, they fo-cus only on performance improvement while being unaware ofother important user intentions (e.g., reliability, security). To re-duce the search space, researchers mainly focus on pre-selecting
performance-relatedparameterswhichrequiresaheavystageof
dynamically running under different configurations to build per-
formancemodels.Giventhatotherimportantuserintentionsare
not paid attention to, we focus on guiding users in pre-selectingperformance-related parameters in general while warning about
side-effectsonnon-performanceintentions.Wefindthatthecon-
figurationdocumentoften,ifitdoesnotalways,containsrichin-
formation about the parameters‚Äô relationship with diverse user
intentions, but documents might also be long and domain-specific.
In this paper, we first conduct a comprehensive study on 13
representative software containing 7,349 configuration parame-
ters,andderivesixtypesofwaysinwhichconfigurationparame-
ters may affect non-performance intentions. Guided by this study,
we design SafeTune, a multi-intention-aware method that pre-
selectsimportantperformance-relatedparametersandwarnsabout
their side-effects on non-performance intentions. Evaluation ontarget software shows that SafeTune correctly identifies 22-26
‚àóCo-first author
‚Ä†Corresponding author
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation
onthe firstpage.Copyrights forcomponentsof thisworkowned byothersthan the
author(s)mustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,or
republish,topostonserversortoredistributetolists,requirespriorspecificpermission
and/or a fee. Request permissions from permissions@acm.org.
ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
¬© 2022 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-9221-1/22/05...$15.00
https://doi.org/10.1145/3510003.3510094performance-related parameters that are missed by state-of-the-
art tools but have significant performance impact (up to 14.7 x).
Furthermore, we illustrate eight representative cases to show that
SafeTunecaneffectively preventreal-w orldandcriticalside-effects
on other user intentions.
CCS CONCEPTS
‚Ä¢Softwareanditsengineering ‚ÜíExtra-functionalproperties.
KEYWORDS
Performance tuning, user intention, non-performance property
ACM Reference Format:
HaochenHe,ZhouyangJia,ShanshanLi,YueYu,ChenglongZhou,Qing
Liao,JiWang,andXiangkeLiao.2022.Multi-Intention-AwareConfigura-
tion Selection for Performance Tuning. In 44th International Conference on
Software Engineering (ICSE ‚Äô22), May 21‚Äì29, 2022, Pittsburgh, PA, USA. ACM,
New York, NY, USA, 12 pages. https://doi.org/10.1145/3510003.3510094
1 INTRODUCTION
Configurationcanchangesoftwarebehaviorandthusenablecus-
tomizationtomeetdifferentuserintentions.Amongmanypossibleuserintentions,improvingperformanceisoneofthemostcommon
purposes.However,modernsoftwaresystemsareoftenequipped
with a large number of parameters (e.g., HDFS [ 46] has 560 param-
eters) that are impractical to tune by hand. Though existing works
haveappliedvarioustechniquestoperformautomaticconfigura-
tiontuning[ 17,18,20,25,36,41‚Äì43,52,54,61],theystillhavetwo
major limitations. First, it is well-known that their efficiency is
extremely limited by the hugeconfiguration search space [ 58,61].
Second, we find that they only consider performance improvement
whilebeingunawareof userintentionsotherthanperformance
(e.g.,reliability,security).However,oneconfigurationparameter
may impact multiple user intentions at the same time. For exam-ple, changing some parameters gain performance by sacrificingreliability[
1].Butusersofsafety-criticalsystems(e.g.,industrial
14312022 IEEE/ACM 44th International Conference on Software Engineering (ICSE)
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA H. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
innodb_flush_log_at_trx_commit:
‚ÄúControlsthebalance betweenstrictACIDcompliance forcommit
operations and higher performance... The default setting of 1 is
required for full ACID compliance. Logs are written and flushedto disk at each transaction commit. With a setting of 0, logs are
written and flushed to disk once per second. You can achieve better
performance bychangingthedefaultvalue butthenyoucan lose
transactions in a crash.‚Äù
Figure 1: Configuration documents of MySQL
control systems) may also intend to keep their systems reliable
while improving performance. In such cases, the parameter that
affectsthecorrespondingintentionsshouldbeverycarefullytuned.
To reduce the huge search space for those auto-tuners, many
recentworkshavebeenproposedto pre-selectimportantparameters.
They run dynamic performance experiments to measure perfor-
mance changes with parameter value changes, and use statisti-cal [
24] or machine-learning [ 38] methods to select parameters
that have significant impacts on performance. Though working in
somescenarios,theeffectivenessoftheirdynamicmethodsdepends
strongly on both workloads and environment, which often vary
from case to case. Moreover, these methods are hard to deploy due
to the heavy performance experiments.
Inthispaper,weproposeSafeTune,amulti-intention-awareap-
proach that provides tuning guidance, including identifying perfor-
mance-related configuration parameters in general and warningabout potential side-effects on other user intentions. To the bestof our knowledge, we are the first to propose multi-intention-aware parameter pre-selection for performance tuning. The in-sight of SafeTune is that configuration documents often con-
tain rich information about parameters‚Äô relationship with multiple
user intentions. For example, in Fig. 1, the document of parameter
innodb_flush_log_at_trx_commit explainsifandhowtheparame-
teraffectsperformanceingeneral,andwarnsaboutthepotential
side-effect(losingatransaction)ontheintentionofreliability.Safe-
Tune leverages documents to understand the relationship between
performance and other user intentions.
Itisnon-trivialforSafeTunetoautomaticallyselectperformance-
related parametersand warnabout side-effects.First, howconfig-
uration parameters affect performance and cause side-effects on
non-performance intentions is unknown. Second, building a modelto learn information from documents (which are written in natural
language) requires large-scale training data, but there is no such
publicdataset.Third,theside-effectinformationisusuallydescribed
implicitly, and documents can be very long and domain-specific.
FortheexampleshowninFig.1,expertknowledgeisrequiredto
understand that "lose transaction" means hurting reliability in this
context.
Therefore, we first conduct an empirical study to comprehen-
sively understand how the configuration parameters can affect
performance and cause side-effects on non-performance intentions
suchasreliability.Todeterminethegeneralresultfromthestudy,
wechoose13softwarefromfourcategories,including7,349parame-
ters,asshowninTable1.Fromthisstudy,weobtainthreeheuristics
to precisely filter out parameters unrelated to performance, andderive a categorization that contains six types of ways in which
parameters can cause side-effects on non-performance intentions.
Basedonthesefindings,SafeTunepredictsthetuningguidance
of a parameter for the given configuration document of the param-
eter. In light of the last two challenges, SafeTune takes two major
steps: 1) We design a semi-supervised data expansion approach,
whichautomaticallyexpandsthemanuallylabeledtrainingdataset.
We manually assign the type of side-effect for parameters in a
small-scaletrainingdatasetduringthestudy.Next,SafeTuneusesassociationruleminingtechniquesinaprogressivemannertomine
natural language patterns from the dataset, then uses the patterns
toenlargethisdatasetwithhighprecision.Thisstepisnecessary
becausemanuallyinspectingallparametersisextremelyexpensive.
2) SafeTune trains a learning-based hierarchical model to capture
important information from the document based on the expanded
dataset and provide the final performance tuning guidance.
We evaluate SafeTune on software that has neither previously
appeared before in this paper. The results show that SafeTune
can accurately identify performance-related parameters and their
side-effects, scoring 81.3-85.1% in precision and 67.6-67.7% in re-
call. Compared with the state-of-the-art pre-selecting method [ 38],
SafeTune can correctly find 117 performance-related parameters
thataremissedbythemethod,andsomeofthetheseparameters
havehuge(upto14.6 x)performanceimpacts.Moreover,SafeTune
correctly covers 29 out of 32 performance-related parameters. The
falsepositiverateis12.7%.Furthermore,weconductacasestudy
inwhichweapplySafeTunewithastate-of-the-artandpopular
auto-tuner,OtterTune[ 50],whichhas1.1k GitHubstars.Theresults
show that SafeTune can help prevent eight side-effects (covering
four types) caused by OtterTune thatlead to severe consequences.
Our main contributions can be summarized as follows:
‚Ä¢Weconcludesixtypesofwaysinwhichperformance-relatedparameterscanaffectnon-performanceuserintentionsfrom
anempiricalstudyof13 widelyusedopen-sourcesoftware
from four representative domains.
‚Ä¢Wedesignandimplementamulti-intention-awareandsemi-
supervised approach, SafeTune, to identify performance-
relatedparametersandtheirside-effects.Alldataandsource
code can be found in our public repository:
https://github.com/TimHe95/SafeTune
‚Ä¢WeevaluateSafeTuneonthetargetsoftware.Theresults
showthatSafeTunefinds22-26performance-relatedparam-
eters that have large performance impacts (up to 14.7 x) but
are missed by state-of-the-art tools. Further, we illustrate
eight representative cases to show that SafeTune can effec-
tively prevent real-world and critical side-effects on other
intentions.
2 UNDERSTANDING PERFORMANCE-
RELATED CONFIGURATION
Tocomprehensivelyunderstandwhichconfigurationparameters
affect software performance, along with what side-effects thoseperformance-related parameters may have on non-performance
intentions,weconductanempiricalstudyon7,349parametersfrom
13open-sourcesoftwaresystems.Fromthisstudy,wefirstderive
1432
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. Multi-Intention-Aware Configuration Selection for Performance Tuning ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table 1: Studied Software and Configuration Parameters
Category Software Popularity‚Ä° # Params‚Ä†
DatabaseMySQL 6.8k 943
Cassandra 6.8k 116
MariaDB 3.9k 274
Web ServiceApache Httpd 2.7k 571
Nginx 14.5k 710
Distributed
ServiceHadoop Common 11.8k 313
MapReduce 11.8k 198
Apache Flink 16.8k 441
HDFS 11.8k 560
Keystone 4.4k 394
Nova 2.7k 844
Developer
ToolGCC 5.3k 1,335
Clang 2.8k 650
Total 7,349
‚Ä†The number of configuration parameters. ‚Ä°Githubstars
three heuristic strategies to help filter out parameters unrelated
to performance. We then conclude six different types of ways in
whichthoseperformance-relatedparametersmaycauseside-effects.
These findings are used to guide the design of SafeTune.
2.1 Data Collection
We study the configuration documents of the software. The config-
uration document explains the detailed semantics and their rela-
tionshipswithuserintentions(e.g.,performance).Thedocument
has two unique advantages. First, it provides a general but com-prehensive understanding of configuration parameters that doesnot rely on specific workloads; then, it contains multiple user in-tentions (e.g., text in bold in Fig. 1). We studied 13 open-source
software systems from four different domains, as shown in Table 1.
These fourcategories arechosen fromthe mostpopular products
provided by famous cloud vendors [ 5,7,10] and are representative
amonghighly-configurablesoftwaresystems[ 31,37,50,51,59,61].
Thesesoftwaresystemsare:1)usuallylocatedinserver-sideand
accordingly have higher demands in terms of performance, reli-ability, etc; 2) mature and widely used, with at least 2.7k
GitHub
stars; 3) highly configurable (each has more than 100 configuration
parameters) with well-maintained configuration documents. We
collected configuration parameters and their documents from two
mainsources:theofficialwebsitesandtheconfigurationfiles(e.g.
XML-basedconfigurationfiles).Eachofthecollecteddatapointisin
theformof <parametername,description>.Wefilteroutparameters
without description, and finally collected 7,349 parameters.
Identifying Performance-related Parameters. To understand
theside-effectsofperformance-relatedparameters,wemanually
studiedthedocumentationofconfigurationparameters.Studying
all parameters is extremely expensive; accordingly, we conclude
threeheuristicstrategiestofilteroutparametersthathavenoim-
pactonthe performanceofsoftware.1) Parametersindicatingthe
location of resources. Descriptions of these parameters contain
phrases such as "pathof", "port of", "address of", and"location of".
Thesetypicallyhavelittleimpactonperformance.2)Parametersmarkedas"unused"or"deprecated"inthedocumentation.3)Param-
eters set for compatibility reasons. These parameters are usuallydesigned to support old behavior in old versions of software. Pa-rameters in this category are filtered by the keywords "version",
"compatibility" and "legacy". We apply these heuristics to all 7,349
parameters and filter out 1,071 parameters. Note that these heuris-
tics are set to quickly filter out some of parameters unrelated to
performance so that the others still need to be further filtered out
bySafeTune.Wethenrandomlysample1,292(20%)ofthe6,278pa-rameterstostudy.Twoauthorswithatleastthreeyearsofresearch
experience in configuration independently identified each parame-
teraseitherperformance-relatedornotaccordingtoitsdescription.
Once a disagreement occurred, a third author was involved until a
consensusisreached.Finally,weobtained525performance-related
parameters for further study.
2.2Side-effects on Non-performance Intentions
Westudythe525performance-relatedparameterstounderstand
the side-effects they may cause. We follow the same methodology
as in the above section; additionally, to make the results moreconsistent, the rest of the authors randomly review a fifth of theparameters studied in weekly meetings. This process took more
than400workinghoursandlastedforsixweeks.Duringtheprocess,
we use the software quality model [ 35] as the starting point and
refine the classification by our domain knowledge (some software
qualities in this model may not be affected by performance-related
configurations). Finally, we conclude six different types of ways in
whichtheseperformance-relatedparametersmaycauseside-effects
on non-performance user intentions.
As a result, we find that the majority (76.0%, 399/525 ) of perfor-
mance-relatedparametershaveside-effectsonnon-performanceintentions.Theseparameterscanaffectcommonuserintentions,such as reliability, security and functionality. Table 2 shows thenumber of parameters falling into each type of side-effects. Thisresult indicates a strong demand for tuning tools to warn aboutthese side-effects for end users. Subsequently, we describe each
type and the criteria used to classify it in our study.
Lowerreliability. Theseparametersimproveperformanceatthe
costofdecreasingthelevelofreliability.Forexample, innodb_flush
_log_at_trx_commit controlstheACIDlevelofMySQL,thevalue
of "1" ensures strict data protection by executing fsyncat every
commit.Changingthisvalueto"2"improvestheperformanceby
reducing the calls to fsyncat the risk of losing data during a power
loss. To avoid affecting user intention of reliability, tuning toolsshould warn users about the risk associated with improving per-
formance. Criteria to classify : These parameters are usually related
tothe waydata arepersisted tothe harddrive andfault tolerance
policies, and they are usually documented as "replication level",
"update interval", "write to disk", etc.
Lowersecurity. Theseparametersimproveperformanceatthe
costofalowerlevelofsecurityprotection.Forexample,theparam-
eterPrivilegesMode inApacheHttpdcontrolsthewayrequests
are processed. The value " SECURE" means that all requests are run
inasecuresub-process,butwithmoreoverhead.Whenchanging
to "FAST", requests are run in-process, speeding up the software
but opening up the chance for malicious attackers to utilize the
1433
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA H. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
Table 2: Side-effects on non-performance intentions
Type of Side-effects # Params # Params all
Lower reliability 33 121
Lower security 46 185
Reduced functionality 138 696
Lower performance (for other workloads) 68 379
Higher cost 114 512
Limited side-effect 126 603
Total 525 2,496
# Params: number of parameters in the studied set. # Params all: number
of parameters in the whole data set.
in-process module to escalate privileges. To avoid affecting user in-
tentionregardingsecurity,suchparametersshouldbewarnedabout.
Criteria to classify :Theseparametersareusuallyrelatedtocommon
security policies such as encryption, authentication and privacy
protection, and they are usually documented as "enable/disable au-
thentication","enable/disableSSL","whether(akindofdata)should
be encrypted", etc.
Reducedfunctionality. Theseparametersimproveperformance
at the cost of reduced functionality. For example, the parame-
teradl.feature.ownerandgroup.enableupn inHadoop controls
whetheranadditionalprocessshouldbeperformedtoconvertusers
andgroupsinFileStatus/AclStatusresponsetoauser-friendlyname.
Disabling this function saves a large amount of computation (as
documented:"foroptimalperformance,falseisrecommended ");how-
ever users intending to enable this function should be provided
with warnings. Criteria to classify : These parameters are usually
documentedas"enable/disable(afeature)","controloutput","collect
information of (a component)", etc.
Lower performance(for otherworkloads). These parameters
can improve performance only for specific workloads run by some
users,andmayhurtothersrunbyotherusers.Takingtheparameter
max_seeks_for_key in MariaDB as an example, it controls the
estimated maximum cost for look-ups on table‚Äôs index. Decreasing
the value makes MariaDB prefer index scan than full table scan.
Butthe indexscan isonlyfaster thanthefull tablescan whenthe
costforindexlook-upsislowinactual(i.e.,lowcardinalityofthe
index),whichiscompletelyworkload-dependent.Ifanotheruser
runsadifferentworkload,theinappropriatevaluemaycausethe
performance problem [ 13]. So these parameters should be tuned
withcaution. Criteria to classify :Theseparameterstypicallycontrol
the internal argument of a specific algorithm, data structure and
model, and they are usually documented as "threshold of", "ratio
of", "upper/lower bound of", etc.
Highercost. Theseparametersimproveperformanceatthecost
ofconsumingmoresystemresources(e.g.CPUcores,memory,band-
width).Forexample, dfs.image.parallel.threads inHDFSsets
thenumberofthreadsusedtoloadtheimage.Ahighervalueofthis
parameterresultsinhigherparallelismandreducedloadingtime,
whilemoreCPUcoresmaybeused.InAmazonWebServices[ 5],
four more CPU cores for a 32GB memory instance can cost 72$
permonth.Incaseswhereauser‚Äôsbudgetorhardwareresources
arelimited,changingtheseparametersmaystillindirectlyaffectuser intentions (e.g., unexpected bill charges).
Criteria to classify :
Studied
Parameters
Un-studied
ParametersExpanded 
ParametersLearning
Based 
Model
Forest-2Perf. Related 
Parameters
& Side-effectsData Expansion
Rule MiningNLP Pre-
processing
Data 
Balancing
NLP
rules
‚Ä¶  Side-effectsPerf. 
UnrelatedForest-1
Perf. RelatedNecessary for
production users
Necessary in
offline training
Figure 2: Overview of SafeTune.
These parameters usually control the system resources allocated to
thesoftware,andtheyareusuallydocumentedas"sizeofbuffer",
"number of workers", etc.
Limitedside-effects. Theseparametersimproveperformance
withlimitedside-effectonnon-performanceintentions.Somepa-
rametersimproveperformancebyapplyingcertainoptimizationstrategies. For example, when
index_merge in MySQL is turned
on, MySQL can better utilize index and read from a single tablerather than across multiple tables. Such optimization has a lim-ited impact on the system, thereby causing limited side-effectson user intentions. It is recommended for tuning tools to tunesuch parameters in the first place. In other cases, parameters inthis category may trade-off other properties (e.g., floating pointprecision)forperformance.
Criteria to classify :Theseparameters
usually control optimization strategies such as caching, load bal-
ancing,compression,andtheyareusuallydocumentedas"enable
(a kind of optimization)", "whether to (do optimization)", etc.
Inrarecases,oneparameterhasside-effectsonmorethanone
other user intentions. We do not find any case that improving
performance brings positive effects on other user intentions.
3 SEMI-SUPERVISED DATASET EXPANSION
Given the side-effects summarized in the study, our goal is to build
a model that can automatically identify the performance-relatedparameters and warn about their side-effects. Training a model
togetinformationfromnaturallanguagerequiresdataatalarge
scale.Werefertotheconfigurationparametersandtheirside-effect
types(labels)astrainingdata;hence,SafeTunehassevenlabels
(includingsixside-effectsandperformanceunrelatedparameters).
However,thetrainingdataobtainedfromthestudyisinsufficient
(i.e.,doesnotexceed100forsometypes),andmanuallabelingof
the unstudied data is extremely expensive.
Duringtheempiricalstudyprocessin¬ß2,wefindthatdescrip-
tions of parameters of the same type share certain linguistic pat-terns. For example, parameters that may lead to higher cost areusually documented like "size of buffer" or "number of threads".
With these patterns, we will be able to enlarge the dataset with
less manual effort. Therefore, we design a semi-supervised data
expansionapproachthatutilizesnaturallanguageprocessing(NLP)
and association rule mining (ARM) techniques to automatically
minethepatterns(i.e.,associationrules)inaprogressivemanner
to enlarge the amount of labeled data in the study. As shown in
1434
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. Multi-Intention-Aware Configuration Selection for Performance Tuning ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table 3: The rule examples of each side-effect types mined by SafeTune (Underlined words are those matched by rules).
Side-effect type Rule example Support Confidence Matched description
Lower reliability (NOUN, write), (NOUN, level) 7 0.875 Sets the current transaction‚Äôs synchronization level.
Lower security (VERB, check), (NOUN, security) 6 0.857Sets how deeply mod_ssl shouldverifybefore deciding
that the clients do not have a valid certificate .
Reduced
functionality(NOUN, level), (NOUN, information) 6 0.857Verbosity of SQL debugging information : 0=None,
100=Everything.
Lower performance
(for other workloads)(NOUN, time), (ADP, for), (NOUN, re-
source)6 0.857 The time forwhich retry cache entries are retained.
Higher cost(VERB, set), (NOUN, amount), (NOUN,
resource)12 0.923This value controlsthenumberofcachedirectives that
the NameNode will send over the wire in response to ...
Limited side-effect (VERB, enable), (NOUN, optimization) 12 0.857 Enablesor disables genetic query optimization .
the left part of Fig. 2, the data expansion process contains three
main steps: First, SafeTune uses NLP to pre-process the manually
studiedconfigurationdocumentsandnormalizeswordstohighlight
the most informative words. Second, it mines the pre-processed
documents to obtain a set of rules using ARM. With these rules, it
matchesconfigurationdocumentsthatarenotinvolvedinthestudy
toincreasetheavailabletrainingdata.Theabovetwostepsproceed
iteratively until no configuration documents can be enlarged bythe rules. At the third step, SafeTune balances the data of each
type of side-effect to avoid over-fitting to some types.
3.1 Pre-processing
The goal of pre-processing is to normalize words and highlight im-
portantinformationinthedescriptionofparameters.Pre-processing
contains three steps: lemmatization, reduction, and substitution.
At the lemmatization step, since we are not interested in the
grammarfeaturesinthedocuments,wetransformeachtokento
its original form to eliminate third-person or plural format effects;
for instance, the word "specified" is transformed into "specify".
Inthereductionstep,weremovethewordsthatarenotlikelyto
convey useful information and retain the informative ones. During
our study, we find that three kinds of words play an important role
in deciding the possible side-effects: 1) nouns, which directly point
outtheentitiesonwhichparameterswillhaveaneffect;2) verbs,
whichareactionsrelatedtoparametersandtendtodirectlylead
totheimpact;3) adverbs/adjective s,whichdescribetheeffectsof
parameter value changes. We therefore extract the part-of-speech
(POS) information of each word and retain words with POS of the
types listed above.
In the substitution step, we replace special words to prevent
the model from being distracted by unrelated information. Forexample, we replace the parameter names that appeared in the
documentationwith"CONFIG"andreplacenumberswithafixed
number. Moreover, to highlight the semantic knowledge in thedocuments, we replace words that appear in the synonyms list
(the full list can be fond in our public repository) which is built
upondomain-specificresources[ 2,3,23].Examplesofsynonyms
areshownin" Criteria to classify "in¬ß2.2.Forexample,thewords
"commit", "update" and "sync" are replaced with "write", since they
havesimilarmeanings.We implementthepre-processingpartus-
ingspaCy[ 33].Weprovideanexampletodemonstratetheaboveprocess: the description "Sets the current transaction‚Äôs synchroniza-
tion level" will be converted to [(VERB, set), (ADJ, current),
(NOUN, transaction), (NOUN, write), (NOUN, level)].
3.2 Mining Association Rules
The goal of this step is to find the sub-sequences that appear ex-
clusively and frequently in descriptions of the specific type of side-
effect of performance-related parameters. These sub-sequences
are associationrules thatdistinguish different typesof side-effect.
For the pre-processed sentences obtained from ¬ß 3.1, we utilizeFEAT [
28] to mine association rules for each type of side-effect.
SafeTuneutilizesitbyaddingthelabeltotheendofthedescription
andminingthemostfrequentsub-sequences(rules)co-occurring
withthelabel.Forexample,aruleminedbythealgorithmis [(NOUN,
write), (NOUN, level)] ,whichisasub-sequenceoftheexample
above. Also, SafeTune outputs the supportandconfidence of each
association rule, and they are defined as follows:
support =|rules ùëñ|where the rule ùëñmatches the document
of theùëñthside-effect, and
confidence =support
|rules‚àó
ùëñ|where the rule‚àó
ùëñmatches the document
of any type of the side-effect.
Thesupportof therule ùëñis defined as the number of occurrences of
therulematching ùëñthtypegiventhattheruleappears.Moreover,its
confidence is the conditional probability that a document is the ùëñth
typeofside-effectwhenmatchingthisrule.Forexample,therule
above has a supportof 7andconfidence of 0.857,which represents
a strong signal of its side-effect type (i.e. Lower reliability ). Table 3
presents rule examples mined for each type.
In the mining stage, SafeTune may obtain millions of rules. As
thissetmaycontainruleswithlowquality,weretainonlytherules
that aresub-sequences ofother ruleswith thesame support,since
shorter rules are more general and are thusmore likely to expand
moredata.Moreover,thisexpandedtrainingdatawillbedirectly
usedtotraintheSafeTunemodel.Thus,thesoundnessoftheex-
pandedtrainingdataisimportant.Furthermore,wedonotexpect
theexpansionprocesstoexpandallparameterstothetrainingdata
(completeness).Therefore,wedropouttheruleswhose confidence s
are lower than 0.85. As we will show in ¬ß5.2, with this level of con-
fidence, the data expansion method can achieve an optimal balance
between precision and recall.
1435
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA H. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
3.3 Expanding Dataset Progressively
The goal of this step is to use rules mined from the studied data to
matchconfigurationdocumentstothegreatestextentpossibleto
enlarge the training data. For parameters not involved in the study,
SafeTunepre-processestheirdocumentsasin¬ß3.1.SafeTunethen
matches rules mined in the previous step to identify the candidate
to be expanded. Note that one parameter document may match
multiplerulesofdifferenttypes.SafeTunecalculatesthesumof
matched rules‚Äô confidence of each type respectively and take the
labelwiththehighestscore.Ifnoruleismatched,theparameter
will not be expanded. If the two steps described in ¬ß3.1 and ¬ß3.2
areappliedonlyonce,thedataexpandedmaystillbeinsufficient.
SafeTuneexpandsthedatasetinaprogressivemanner.Theprocess
terminates when there is no data remaining that can be expanded.
3.4 Balancing Data
The goal of this step is to make the training data balanced in order
toavoidthemodelbeingbiasedtowardsthemajorityclasses.Afterthedataexpansionviarulesmatching,theparametersthathaveno
impact on the performance account for 72.2% of the entire dataset,
whiletheperformance-relatedparametersthatcause Lowersecurity
contain only 4.1%. This imbalance causes the model to be easilybiased towards the performance-unrelated parameters. To avoid
thisbias,SafeTuneover-samplestheparametersintheminority
typesofside-effectstoensurethattheyarethesameasthenumber
ofperformance-unrelatedparameters.Sincethesoundnessofthe
expandeddataisourmainconcern,weneedtolowertheprobability
of incorporating false data. Borderline-SMOTE [ 30] is a widely
usedover-samplingmethodforimbalanceddata.Comparedwith
other methods, it can effectively avoid generating samples fromthe "danger area" (i.e., samples near the borderline of differentclasses).Afterbalancingthetrainingdata,SafeTuneappliesthe
pre-processingstepasin¬ß3.1tothedatasettonormalizewords
and highlight important information in the training set.
4 IDENTIFYING PERFORMANCE-RELATED
PARAMETERS AND SIDE-EFFECTS
In this section, we introduce how SafeTune predicts the tuning
guidance for configuration parameters. As shown in the right part
of Fig. 2, SafeTune takes configuration documents that have been
expanded and pre-processed from the data expansion step as in-
put,thenoutputstuningguidanceincludingperformance-related
parameters and their side-effects on non-performance intentions.
Randomforest(RFforshort)[ 21]isanappropriatealgorithmfor
thetextclassificationtask.Itcanpreciselycapturethedifference
between types of side-effects and is more robust than a single
decisiontree.ItisalsomorelightweightandmoreinterpretablethandeeplearningmodelslikeCNN.Moreimportantly,neuralnetworksusuallydemandmillionsofdatafortraining,whichisnotaccessible
forconfigurationdocuments.Thelabelsofinputdatainourtask
arehierarchical(i.e.,level-1:performance-related/unrelated;level-2:
six different side-effects only for performance-related parameters).
However, the classic RF algorithms do not account for hierarchical
datasets.Inspiredby[ 29],webuildatwo-levelhierarchicalrandom
forestmodel,asshowninthebottomrightpartofFig.2.RF-1isusedtoidentifytheperformancerelatedparametersfromunrelatedones.AlltrainingdataareusedtotrainRF-1.Moreover,RF-2isusedto
predictside-effects(amongthesixside-effects)fortheperformance-relatedparameters,whileonlytheperformance-relatedparametersinthetrainingsetareusedtotrainRF-2.Thelabelofthedatatobepredicted is decided by the multiplication of the probabilities given
bythetwoRFs.Forexample,iftheprobabilitiesgivenbythetwo
RFs of a configuration parameter are RF-1:[0.3,0.7]andRF-2:
[0.04,0.2,0.1,0.5,0.1,0.06], then the parameter will be labeled as
"performance-related" (since 0 .7>0.3), as well as the "Higher cost "
label (0.7¬∑0.5=0.35, which is greater than all the others).
RF requires embedding of the input documents written in natu-
ral language. SafeTune embeds each parameter‚Äôs document using
TF-IDF [45], a widely-used method in information retrieval. For its
part,TF-IDFtreatseachdocumentasbag-of-words,ignoringthe
sequenceinformation.Inourtask,"writedata"and"...data.Write..."
can express completely different meanings. Hence, SafeTune con-
sidersatmostthreeconsecutivewords(i.e.,unigram,bigramand
trigram) when calculating the TF-IDF embedding. Note that the
embeddingmaybesparse(e.g.,2,000dimensions,with1,990zeros),
and the RF algorithm only selects several dimensions each time to
trainadecisiontree[ 21].Thus,SafeTuneappliesprincipalcompo-
nentanalysis(PCA)[ 12]fortheTF-IDFembedding.Weensurethat
the PCApreserves 99% ofthe information fromthe initial TF-IDF
embedding.
5 EVALUATION
WeimplementSafeTunewithsklearn[ 22]andrandomForest(R)[ 40].
All experiments are conducted on machines with a 48-core Intel-
Xeon2.2GHzprocessor,TeslaV100GPU,64GBRAM,and1TBhard
disk, with Ubuntu 18.04 LTS, and Python 3.6.8. We evaluate the
effectiveness of SafeTune by answering the following questions:
‚Ä¢RQ1: Accuracy of predicting tuning guidance and data
expansion. HowaccurateisSafeTuneinidentifyingperfor-
mance-relatedparametersandpredictingtheirside-effects
onnon-performanceintentions?Howaccurateistheauto-
matically expanded data?
‚Ä¢RQ2: Comparison between SafeTune and the state-
of-the-arttool. CanSafeTunecoverperformance-related
parameters that are identified by the existing tool? Can
SafeTune identify performance-related parameters that are
missed by the existing tool?
‚Ä¢RQ3: User study on the effectiveness of SafeTune on
helpingperformancetuning. Doestheexistingauto-tuner
producespotentialside-effectsonotheruserintentions?Can
SafeTunehelpthetooltopreventthoseside-effects?How
severe are these side-effects?
5.1 RQ1: Accuracy of Predicting Tuning
Guidance and Data Expansion
To answer RQ1, we evaluate the accuracy of SafeTune in iden-
tifyingperformance-relatedparametersandpredictingtheirside-
effects. To avoid over-fitting, we conduct experiments on software
thatareneitherstudiednorincludedinthetrainingset.SinceSafe-
Tune automatically expands the training set, we also evaluate the
accuracy of the expanded data.
1436
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. Multi-Intention-Aware Configuration Selection for Performance Tuning ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table 4: Precision and recall in predicting performance-related parameters and their side-effects
SoftwareSafeTune SafeTune w/o exp. SafeTune ideal
PR SE PR SE PR SE
preci.recallpreci.recallpreci.recallpreci.recallpreci.recallpreci.recall
PostgreSQL 0.8730.7640.8120.6290.7130.5450.6230.4810.8730.7770.8470.685
Squid 0.8720.6020.8300.6230.6930.4260.5890.4390.8910.6320.8680.652
Spark 0.8010.6690.7920.6510.6110.5320.5100.3890.8550.6620.8200.648
Overall 0.8510.6770.8130.6760.4980.5770.5530.4390.8810.6910.8470.662
PR:effectivenessofpredictingperformance-relatedparameters. SE:effectivenessofpredictingside-effects. precis.:precision. w/o exp.:onlyusingstudieddata
to train SafeTune. ideal: replacing labels of expanded data (may contain incorrect ones) in the training dataset with manually checked labels.
5.1.1 Accuracy of Tuning Guidance. We evaluate SafeTune on
PostgreSQL [ 44], Squid [ 53] and Apache Spark [ 57]. These soft-
ware are not included in our study, but are also popular (at least 1k
GitHubstars) and from different domains, written in different pro-
gramming languages. Thus, we believe they can provide sufficient
generality. The three software have 252, 266 and 217 parameters
respectively. We follow the same methodology as in ¬ß 2.1 to manu-
allylabeltheparametersandusethemasthetestset.Weusethe
1,292studiedparameters(notincludingtheabovethreesoftware)
as the initial training set. SafeTune then expands the training
set and obtain 24,528 pieces of training data. Each item in this
datasetisintheformof <parametername,description(embedded),
labellevel-1, labellevel-2>, where labellevel-1is one of the two values
{"Performance-related ", "Performance-unrelated "}, andlabellevel-2is
one of: {"Lower reliability ", "Lower security ", "Reduced functionality ",
"Lower performance (for other workloads) ", "Higher cost ", "Limited
side-effects "}. Last, SafeTune is trained with this dataset.
To measure the accuracy of predicting performance-related pa-
rameters (PR for short in Table 4), we use precision and recall.
To assess the accuracy of predicting side-effects (SE for short in
Table 4), we calculate the averaged precision and recall of each
type (i.e., Micro-precision/recall [ 4] of six side-effects) to measure
SafeTuneasawhole.SafeTuneappliesdataexpansiontoimprove
the accuracy. To evaluate the usefulness of this component, weremove it (using only the initial 1,292 parameters as the trainingset) and conduct experiments with identical test data to draw a
comparison. This is denoted as SafeTune w/o exp.in Table 4.
Result and Analysis. First, SafeTune can identify performance-
relatedparameterswithaprecisionof85.1%andarecallof67.7%.
The false negatives occur because many of them contain technical
terms in documents that are difficult for SafeTune to understand.
Forexample, ssl_ecdh_curve isdocumentedas"setsthecurvetouse
for ECDH ", but this does not explain that "ECDH" is an agree-
mentprotocolthatallowstwopartiesto establishasharedsecret,
which affects performance. Worse yet, these technical terms rarely
appear in the dataset. The false positives occur mainly because
someexpressionsmisleadSafeTune.Forexample,thedocumentof
spark.eventLog.overwrite is "whether to overwrite any existing files ",
but whether or not "overwrite" is performed does not affect perfor-
manceinthiscase;howevertheword"write"misleadsSafeTune
into identifying the parameter as related with persisting data to
disk, thereby affecting performance. Moreover, technical terms are
one of the main causes of false positives.Table4demonstratestheresultsofpredictingside-effectsonthe
non-performance intentions of these performance-related parame-
ters. Overall, SafeTune can reach a precision of 81.3% and a recall
of 67.6%. These false positives occur because many parameters
haveverycomplexlogicdescribedinthelongdocument,makingit
challenging even for human to identify the type of side-effect. For
example,inPostgreSQL, wal_level controls"thelevelofinformation
written to the WAL"; this parameter is falsely identified as lower
reliability, but all levels of WAL can ensure the "necessary infor-mation needed to recover from a crash or immediate shutdown"
(reliability). Higher levels is only used to support extra functionali-
ties(e.g.,logicaldecoding).ItmakeschallengingforSafeTuneto
distinguishsuchsubtlelogic.Anotherreasonisthatsomeexpert
knowledgecannotbepreciselycapturedbySafeTune.Thefalse
negatives occur mainly because the descriptions may miss context.
For example, cpu_tuple_cost is described as "sets the planner‚Äôs esti-
mate of the cost of processing each row during a query "; however,
the context of this description is that the "planner" is a compo-
nent that will choose the quickest query plan, while the "cost" is a
workload-dependentargumentofthechoosingalgorithm.Without
thiscontext,SafeTunewillfailtoidentifyitas"Lowerperformance
(other user) ".
The 6th-9thcolumns of Table 4 show the results after remov-
ingthedataexpansioncomponentfromSafeTune.Withoutthis
dataexpansion,SafeTunecannotfullylearnfeaturesinparame-
ter documents, i.e., the precision drop by 26.0-35.3% and the recall
drop by 10.0-23.7% respectively. Therefore, data expansion is es-sentialforSafeTune. Inconclusion,theresultindicatesthatSafe-
Tunecanachievegoodprecisionandacceptablerecallinpre-selecting
performance-related parameters and predicting side-effects.
5.1.2 Accuracy of Data Expansion. SafeTune uses data expansion
to enlarge training data. Thus, the quality of enlarged data mayaffect the effectiveness of the final tuning guidance provided by
SafeTune. Therefore, we also evaluate the correctness of the data
expandedbytheexpansionmethod.Toachievethis,weneedthe
groundtruthofthesedata.Wethereforemanuallylabelall7,349
parameters and cross-check them in the same way as described in
¬ß2.2.Thisprocesstook700+workinghoursandlasted10weeks.
Wemakeallthesedatapubliclyavailableintherepository.Notethat
thismanualworkisonlyneededinthispapertoevaluateSafeTune,
but not for users of SafeTune. We use precision to measure the
correctnessofthedataexpandedbytheexpansionstep,alongwithexpansionratetomeasuretherateofthedatathatcanbecorrectly
1437
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA H. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
Table 5: Precision and expansion rate of the expanded data
Data Label Precision Expansion rate
Lower reliability 0.847 0.393
Lower security 0.808 0.372
Reduced functionality 0.832 0.585
Lower performance (for other workloads) 0.819 0.552
Consuming more resource 0.910 0.670
Limited side-effect 0.801 0.464
Performance-unrelated 0.931 0.702
Overall 0.854 0.534
expanded to all the unlabeled data (100% expansion rate means all
theunlabeleddatacanbecorrectlyexpanded).Moreover,weuse
averagedprecisionandexpansionratetomeasuretheoverallresult.
Furthermore,weevaluatetheimpactoftheincorrectly-expanded
data on SafeTune. Thus, we replace the labels of expanded data
in the training set in ¬ß 5.1 with manually annotated labels (ground
truth), andkeep otherexperimental settings thesame. We denote
the model trained by this data set as SafeTune idealin Table 4.
As described in ¬ß 3, SafeTune only keeps rules for which the
confidenceishigherthanagiventhresholdtoimproveprecision.
Therefore,weevaluatetheinfluenceofdifferentthresholds(from
0.30to0.95)ontheprecisionandexpansionrateoftheexpanded
data. Another interesting question is that of how much studied
(labeled) data we need to conduct the expansion. Obviously, it is
lessusefuliftheexpansionapproachrequiresamajorityofstudied
dataandcanonlyexpandtheremainingminority.Therefore,we
evaluatetheinfluenceofproportionontheprecisionandexpansion
rate of the expanded data. Note that, in our evaluation, all data
are manually labeled to provide the ground truth, thus, we can
simulateanyproportion ùëùofstudieddataagainstthosethatneed
tobeexpanded.Foreach ùëù,weapplytheapproachin¬ß3toexpand
the remaining 1 ‚àíùëùdata. This process is repeated 10 times to
eliminatetheoccasionalitycausedbytherandomsampling.Weuse
averagedprecisionandexpansionratetomeasuretheremaining
1‚àíùëùexpanded data.
Result and Analysis. Table 5 shows the precision and expansion
rate of the expanded data of each type of side-effects. SafeTune
performs well in expanding the performance-unrelated parameters
and those that may cause higher cost. For the remaining types,likeLower reliability andLower security, the number of parame-
ters in these types are fewer than in the initially studied data set
and thus do not have many distinct features compared with other
types.The resultoftheimpact onSafeTuneofthose incorrectly-
expanded data is shown in the last four columns in Table 4. Theincorrectly-expanded data cause at most 3.5-5.4% degradation to
precision (comparing the SafeTune withSafeTune idealseries);
without this data expansion approach, however, the precision will
reduce significantly. Moreover, with the expansion, we can reduce
expensive manual effort by about 73.8% (100% means manual-free).
Thisgreatlyoutweighsthedrawbackoftheincorrectlyexpanded
data.
Theresultofchoosingaproperthresholdforruleconfidenceand
proportionofstudieddataisshowninFig.3.First,Fig.3ashows0.30.50.70.90.60.70.80.91
00.20.40.60.8Precision
(a) Confidence threshold0.20.40.60.80.60.70.80.91
00.20.40.60.8
Expansion rate
(b) Proportion( ùëù) ofstudied data
Figure 3:The influenceof twomodel argumentson thepre-
cision and expansion rate of the expanded data.
the precision and expansion ratechanges against different thresh-
oldvalues.Asexpected,theprecisionincreasesastheconfidence
threshold of the mined rules increases, while the expansion rateis the opposite. As described in ¬ß 3, SafeTune honors precision
ratherthanexpansionrate.Whenthethresholdincreasesfrom0.85
to 0.9, the precision does not increase while suffering a expansion
rate drop of 12.8%; this means that about 640 parameters cannot
be automatically expanded but the precision improvement is small.
We therefore set the confidence threshold as 0.85 in SafeTune.
Fig. 3b shows the averaged precision and expansion rate of dif-ferent proportions
ùëùof studied data. It is shown that, generally,
withincreasingdata studied, theprecisionoftheminedrules will
dropslightlywhiletheexpansionratewillincrease.Thisisbecause
varietyincreasesalongsideincreasingstudieddata,meaning that
morerulescanbegeneratedandmoreunlabeledparameterscanbe
expanded.Thisincreases expansionratebutalso thelikelihoodof
mistakes. Thus, we use ùëù=0.2 since SafeTune honors precision.
5.2RQ2: Comparison with State-of-the-art Tool
We compare SafeTune with [ 38], a state-of-the-art tool for select-
ingimportantparametersbyrunningperformanceexperimentsand
choosing parameters that lead to significant performance changes
via machine learning techniques. This work [ 38] opens up their
results, which include the Top-n important parameters (32 in total)
in PostgreSQL and Cassandra that they predicted. We thereforeevaluate SafeTune on these two software to compare with this
work[38].Thetwosoftwarehave252and117configurationparam-
eters respectively. We train SafeTune on the same dataset (doesnot include PostgreSQL) as in ¬ß 5.1 but excluding Cassandra. To
obtain the ground truth of performance-related parameters in the
twosoftware,wemanuallylabeltheparametersinthesameway
as 2.1. Note that this manual work is only for the evaluation, but is
not needed for users of SafeTune.
Notethattheexistingwork[ 38]predictstheperformance-related
parameters via concrete performance experiments. For its part,SafeTune is based on configuration documents. To prove thatthe performance-related parameters predicted by SafeTune dohave impacts on performance, we run performance tests underdifferent parameter values; we further measure the performanceimpact by the factor of performance change before and after theparameter value change. We collect the performance tests from
popularbenchmarks,including:TPC-C/H[ 15,16],tlp-stress[ 14],
NoSQLBench[ 8]andca-stress[ 6].Eachtestisrepeatedlyrun10
timestoobtainstableresults.Werefertotheperformanceasthe
tail latency, mean throughput and query execution time.
1438
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. Multi-Intention-Aware Configuration Selection for Performance Tuning ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
Table6:Partofperformance-relatedparametersmissedby
state-of-the-art tool (full result in public repository).
Parameter Missed Workload Chg. Metric
PG. enable_sort TPC-H.q17 14.6xExe. Time‚Ä†
CA. native_transport_max_concurrent ca-stress.w 13.5xTail Lat.‚Ä°
CA. hinted_handoff_throttle_in_kb ca-stress.w 6.7xTail Lat.
PG. enable_nestloop TPC-H.q2 6.4xExe. Time
PG. enable_indexscan TPC-H.q13 3.6xExe. Time
Chg.:Performancechangebeforeandafterparameterchange; PG:Post-
greSQL;CA: Cassandra;‚Ä†Query Execution Time;‚Ä°Tail Latency.
Result andAnalysis. Experimental resultsshow that SafeTune
can identify 117 performance-related parameters that are missed
bythe existing work [ 38]. Among the 117 parameters, 48 show
significant performance impacts(up to 14.6 x) in ourperformance
testing. Table 6 shows the Top-5 parameters that have large per-
formance impacts on the two software. For example, changing
enable_sort from1to0causestheexecutiontimeofTPC-H.q17to
degradefrom19.1secondsto279seconds(14.6 x).However,thispa-
rameterneverevenappearsintherank-listoftheexistingwork[ 38].
This occurs because enable_sort only affects queries that both
contain GROUP BY andORDER BY operations,buttheworkloadused
by this work [ 38] does not contain that. Another interesting thing
isthatthetop-rankedparameter fsyncgivenbythethiswork[ 38]
only has 1.7 xperformance impact and achieves rank-12 during our
testing. The reason is similar to the above. Note-worthily, Safe-
Tune gets this result without any heavy performance experiments
(theexistingwork[ 38]consumes3,750machinehours).Theper-
formancetestinginourevaluationcostabout700machinehours,
while SafeTune only consumes two hours for the one-time-effort
training step and less than 10 seconds for the prediction step.
SafeTune can successfully cover 29 out of 32 (90.6%) parame-
ters that are given by the existing work [ 38]. In total, SafeTune
produces 17 false positives (precision: 87.3%), and misses 45 out of
191 parameters (recall: 76.4%) that are manually confirmed from
the documents to be performance-related. Most of the false pos-itives are parameters that require a long description to explainthe domain knowledge behind the parameter, rather than what
turningtheparameteronoroffwillaffect.Theexplanationsmay
also containphrases that appear frequentlyin performance-related
parameters,therebymisleadingSafeTune.Forexample,turning
onzero_damaged_pages only reports a warning (performance-
unrelated), but its description explains a lot why this warning hap-
pens. The three cases that the existing work [ 38] identifies but that
are missed by SafeTune are: 1) commitlog_segment_size_in_mb , which
controls commitlog file segments; this requires strong domainknowledge to understand, but there are rare similar cases in the
trainingset.2) compaction_throughput_mb_per_sec ,whosedescriptionis
toobrieftobeunderstoodbySafeTune.3) default_statistics_target ,
whose description contains too many performance-unrelated ex-
planations that distract SafeTune.
Note that both this existing work [ 38] and our evaluation are
limitedbytheworkload.Someparametersdonottriggersubstantial
performance change under the selected workload. For example,
max_logical_replication_workers controlsmaximumworkersalogical
replicationtransactioncanuse.ThisparameteraffectsperformanceonlywhenPostgreSQLisinareplicationprocess,butthisworkloadisnotincludedinanyoftheselectedbenchmarks.Intheevaluation,
we use richer types of workloads in the evaluation, and thus we
observe more performance-related parameters than this work [ 38].
Inconclusion,SafeTunecanidentifymanyperformance-related
parameters with large performance impacts that the state-of-art
tool[38]failstodetect,andcoveringmostofthoseidentifiedbythis
tool. Also, SafeTune is more efficient and lightweight.
5.3 RQ3: User Study
SafeTune can help tuning tools (e.g., OtterTune [ 50], BestCon-
fig [61]) avoid potential side-effects on other user intentions. To
illustratetheeffectivenessof SafeTune,weconductauserstudy
on one of the auto-tuners and manually validate the result. Amongthesepubliclyavailableauto-tuners,OtterTuneisthemostpopular,
with1.1k
Githubstars.OtterTunesupportsMySQLandPostgreSQL;
thus we run OtterTune in these two software and apply SafeTune
(trained in ¬ß5.1) to check if SafeTune can warn about potential
side-effects.Furthermore,toprovethatthoseside-effectsdohave
severe consequences, we manually validate if the correspondinguser intentions are violated. In the case study, we simulate four
users who leverage OtterTune to improve performance (with their
non-performance intention shown in the end):
‚Ä¢User A: military communication service provider who is
obligated to preserve data reliably. ‚Äì High reliability
‚Ä¢User B: free service provider who uses free cloud instances
with limited resources. ‚Äì Low cost (resource)
‚Ä¢UserC:system administratorwho isresponsible formoni-
toring unexpected behavior of the database. ‚Äì Functionality
‚Ä¢UserD:socialnetworkapplicationproviderwhofacesmanydifferentuserrequests. ‚ÄìGoodperformance(mostworkloads)
Result and Analysis. Overall, SafeTune warns about eight side-
effects(coveringfourtypes,excluding"lowersecurity"and"limited
side-effect",OtterTunedoes nottouchanysecurityrelatedparam-
eters) on other user intentions caused by OtterTune. We discuss
how the intentions of User A-D are violated in detail, and put the
other four cases in the public repository.
ForUserA, fsyncisturnedoffbyOtterTuneduringtuning;itis
documented [ 11] as:"While turning off fsync is often a performance
benefit, this can result in unrecoverable data corruption in the
event of a power failure or system crash." Although the workload
performance improved by ‚àº70% after tuning by OtterTune, the
database becomes unreliable. As shown in Fig. 4(a), we simulatean occasional power loss when PostgreSQL is serving requests
normallybyissuing kill -9tothe postgres serverprocessand
clearthesystemcache,whichwouldnotsurviveduringapowerloss. After restarting the process, we observe that User A‚Äôs data
iscorrupted(yellow/redtext).Thisisbecause,byturningoffthis
parameter, PostgreSQL will only persist data once the buffer is full.
Wealsoobservedthatwhen fsyncisturnedon,simulatedpower
loss never causes data corruption. By applying SafeTune, this pa-
rameter is clearly warned about this reliability impact. For User
B,innodb_buffer_pool_size is increased from 128MB to 16.4GB by
OtterTune as shown in Fig. 4(b). This is because, using the large
innodbbuffer, more data can be cached, improving the perfor-
mance. But User Buses MySQL in a free cloud virtual machine.
1439
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USAH. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
 
 
 
 
 
 
 
  
 
(a) Lower reliability
 
 
 
 
(b) Higher cost
 
 
  
 
 
 
 
 
(c) Reduced functionality
 
 
 
 
 
 
(d) Lower performance (other user)‡¢Ω‡£ä‡£äStart MySQL with default configuration (innodb_buffer_pool_size=128M)
Bash# top -p [mysqld-pid]  
‡£≥‡¢Ω‡¢Ω‡¢Ω‡£¶‡£´‡¢Ω‡¢Ω‡£Ø‡£≠‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£Ø‡£¢‡£∞‡£≤‡¢Ω‡¢Ω‡¢Ω‡£°‡£¶‡£≠ ‡£±‡£Ø‡£¶‡£≥‡£°‡£´‡£û‡£™‡£™‡£¨‡£†‡¢Ω‡¢Ω‡¢Ω‡£™‡£¢‡£™‡£Ç‡¢Ω‡¢Ω‡£≤‡£≠‡£†‡£Ç‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£Ø‡£•‡£∞‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£∞‡£¢‡£Ø‡¢Ω‡¢Ω‡¢Ω‡¢Ω 
‡¢Ω‡¢Ω‡£ñ‡£è‡£ê‡£ë‡§ä‡§ñ‡§ê‡§é‡§â‡£é‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£ç‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£ç‡£è‡¢Ω‡¢Ω‡¢Ω‡£í‡£ì‡£é‡£ã‡£é ‡§Ñ‡£é‡£ë‡£ç‡£ã‡£ç‡¢Ω‡¢Ω‡¢Ω‡§Ñ‡£í‡£é‡£ç‡£ã‡£ç‡¢Ω‡¢Ω‡¢Ω‡§Ñ‡¢Ω‡¢Ω‡¢Ω‡£ç‡£ã‡£ç‡¢Ω‡¢Ω‡¢Ω‡£ç‡£ã‡£ç‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£∞‡¢Ω‡¢Ω ‡§ä‡§ñ‡§ê‡§é‡§â‡§Å‡¢Ω
‡¢Ω‡£ä‡£ärun‡¢ΩOtterTune  and startup MySQL with the configuration suggested
by OtterTune  (innodb_buffer_p ool_size=16.4G)
Bash# top -p [mysqld-pid] 
‡£≥‡¢Ω‡¢Ω‡¢Ω‡£¶‡£´‡¢Ω‡¢Ω‡£Ø‡£≠‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£Ø‡£¢‡£∞‡£≤‡¢Ω‡¢Ω‡¢Ω‡£°‡£¶‡£≠ ‡£±‡£Ø‡£¶‡£≥‡£°‡£´‡£û‡£™‡£™‡£¨‡£†‡¢Ω‡¢Ω‡¢Ω‡£™‡£¢‡£™‡£Ç‡¢Ω‡¢Ω‡£≤‡£≠‡£†‡£Ç‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£Ø‡£•‡£∞‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£∞‡£¢‡£Ø‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡¢Ω 
‡¢Ω‡¢Ω‡£ñ‡£é‡£ñ‡£ë‡§ä‡§ñ‡§ê‡§é‡§â‡£é‡¢Ω‡¢Ω‡£ç‡¢Ω‡¢Ω‡¢Ω‡£ç‡£è‡¢Ω‡¢Ω‡¢Ω ‡£é‡£ç‡£ê‡£ã‡£ï‡£é‡§Ñ‡£ç‡£ë‡£ê‡£ã‡£é‡¢Ω‡¢Ω‡¢Ω‡§Ñ‡¢Ω‡¢Ω‡¢Ω‡£é‡£ã‡£é‡¢Ω‡¢Ω‡£ç‡£ã‡£ç‡¢Ω‡¢Ω‡£∞‡¢Ω‡¢Ω‡¢Ω‡£è‡£í‡£é‡£í‡£é‡¢Ω‡¢Ω ‡§ä‡§ñ‡§ê‡§é‡§â‡§Å‡¢Ω
More Cost (30 $USD/month for single node, ecs.hfc7.xlarge) ‡¢Ω
Show the data files MySQL is monitoring (performance_schema=ON) : 
mysql> SELECT * FROM performance_schema.file_instances LIMIT 3; 
‡¢Ω‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à 
‡§ô‡¢Ω‡¢Ω‡£¢‡£™‡£û‡£´‡£º‡£¢‡£©‡£¶‡££‡¢Ω ‡§ô‡¢Ω‡¢Ω‡£¢‡£™‡£û‡£´‡£º‡£±‡£´‡£¢‡£≥‡£¢‡¢Ω ‡§ô‡¢Ω‡£±‡£´‡£≤‡£¨‡£†‡£º‡£´‡£¢‡£≠‡£¨‡¢Ω‡§ô‡¢Ω
‡¢Ω‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à 
‡§ô‡£å‡¢Ω‡§ì‡£æ‡§è‡£å‡§â‡§Ü‡£å‡£ø‡§ä‡§ñ‡§ê‡§é‡§â‡£å‡§Ü‡£ø‡§Å‡£æ‡§ë‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£é‡£æ ‡§ô‡¢Ω‡§Ü‡§ã‡§ã‡§å‡§Å‡£å‡£ø‡§Ü‡§ã‡§ã‡§å‡§Å‡£º‡£ø‡§Å‡£æ‡§ë‡£º‡£æ‡§É‡§Ü‡§â‡§Ç‡¢Ω‡§ô‡¢Ω‡£ê‡¢Ω‡¢Ω ‡§ô‡¢Ω
‡§ô‡£å‡¢Ω‡§ì‡£æ‡§è‡£å‡§â‡§Ü‡£å‡£ø‡§ä‡§ñ‡§ê‡§é‡§â‡£å‡§Ü‡£º‡£ø‡§â‡§å‡§Ñ‡§É‡§Ü‡§â‡§Ç‡¢Ω‡¢Ω‡£ç ‡§ô‡¢Ω‡§Ü‡§ã‡§ã‡§å‡§Å‡£å‡£ø‡§Ü‡§ã‡§ã‡§å‡§Å‡£º‡£ø‡§â‡§å‡§Ñ‡£º‡§É‡§Ü‡§â‡§Ç‡¢Ω‡¢Ω‡§ô‡¢Ω‡£è‡¢Ω‡¢Ω ‡§ô‡¢Ω
‡§ô‡£å‡¢Ω‡§ì‡£æ‡§è‡£å‡§â‡§Ü‡£å‡£ø‡§ä‡§ñ‡§ê‡§é‡§â‡£å‡§ä‡§ñ‡§ê‡§é‡§â‡£å‡§Ç‡§ã‡§Ñ‡§Ü‡§ã‡§Ç‡£º‡§Ä‡§å‡§ê‡§ë‡£ã‡§Ü‡£ø‡§Å‡¢Ω‡§ô‡¢Ω‡§Ü‡§ã‡§ã‡§å‡§Å‡£å‡£ø‡§Ü‡§ã‡§ã‡§å‡§Å‡£º‡£ø‡§Å‡£æ‡§ë‡£º‡£æ‡§É‡§Ü‡§â‡§Ç‡¢Ω‡§ô‡¢Ω‡£ê‡¢Ω‡¢Ω ‡§ô‡¢Ω‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£ä‡£à‡¢Ω 
 --Run‡¢ΩOtterTune  and startup MySQL with the configuratio n suggested
by OtterTune  (performance_schema=OFF)
-- Then, user may want to monitor the status of data files via: 
mysql> SELECT * FROM performance_schema.file_instances LIMIT 3; 
‡£¢‡§ä‡§ç‡§ë‡§ñ‡¢Ω‡§ê‡§Ç‡§ë‡¢Ω‡£ç‡£ç‡£ã‡£ç‡£Ö‡¢Ω‡§ê‡§Ç‡§Ä‡¢Ω‡¢Ω‡£Ü  #Reduced Functionality 
 (performance schema monitoring GRHV not work) -- Startup PostgreSQL with the default configuration (fsync=ON)  
Bash# ./tpcc_run.lua &            # TPC-C, which is write intensive 
Bash# kill -9 [postgresql-pid]  
-- Then, restart PostgreS QL, clear cache to force readin g from disk.  
postgres=# SELECT * FROM test_table LIMIT 10000; 
‡¢Ω‡£ç‡£ç‡£ç‡£ç‡£é‡£Ö‡¢Ω‡£ã‡£ã‡£ã‡£ã‡£ã‡£ã‡§è‡§å‡§î‡§ê‡¢Ω‡§ê‡§í‡§Ä‡§Ä‡§Ç‡§ê‡§ê‡§É‡§í‡§â‡§â‡§ñ‡¢Ω‡§è‡§Ç‡§ë‡§í‡§è‡§ã‡§Ç‡§Å‡¢Ω‡£Ü
(Disk: Intel P4510 SSD, with disk-failure guard)  
-- run‡¢ΩOtterTune  and startup PostgreSQL with the configuration
suggested by OtterTune  (fsync=OFF)
Bash# ./tpcc_run.lua &            # TPC-C, which is write intensive 
Bash# kill -9 [postgresql -pid]  
-- Then, restart PostgreS QL, clear cache to force readin g from disk.  
postgres=# SELECT * FROM test_table LIMIT 10000; 
‡¢Ω‡£ó‡£§‡£´‡£¶‡£´‡£Ø‡£û‡£¥‡§ç‡£æ‡§Ñ‡§Ç‡¢Ω‡§ì‡§Ç‡§è‡§Ü‡§É‡§Ü‡§Ä‡£æ‡§ë‡§Ü‡§å‡§ã‡¢Ω‡§É‡£æ‡§Ü‡§â‡§Ç‡§Å‡¢Ω‡£â‡§Ä‡£æ‡§â‡§Ä‡§í‡§â‡£æ‡§ë‡§Ç‡§Å‡¢Ω‡§Ä‡§Ö‡§Ç‡§Ä‡§à‡§ê‡§í‡§ä‡£ø‡¢Ω‡£ï‡£ê‡£ë‡£ñ‡£ê‡¢Ω‡§í‡§ë‡¢Ω‡§Ç‡§ï‡§ç‡§Ç‡§Ä‡§ë‡§Ç‡§Å‡£î‡£è‡£ê‡£ñ‡£ê‡¢Ω‡¢Ω 
‡£Ø‡£¨‡£Ø‡£Ø‡£¢‡¢Ω‡£ó‡§Ü‡§ã‡§ì‡£æ‡§â‡§Ü‡§Å‡¢Ω‡§ç‡£æ‡§Ñ‡§Ç‡¢Ω‡§Ü‡§ã‡£ø‡¢Ω‡§â‡§å‡§Ä‡§à‡¢Ω‡£é‡¢Ω‡§å‡§É‡¢Ω‡§è‡§Ç‡§â‡£æ‡§ë‡§Ü‡§å‡§ã‡£æ‡£ø‡¢Ω‡§ê‡§Ç‡£è‡£ñ‡£ï‡£ì‡£å‡£í‡£è‡£ë‡£ê‡£é‡£å(  Data corruption) ‡¢Ω
 --Startup MySQL with the default configuration  (innodb_flush_method=fsync)  
Bash# ./tpcc_run.lua                      # User A: TPC-C workload 
‡£±‡§è‡£æ‡§ã‡§ê‡£æ‡§Ä‡§ë‡§Ü‡§å‡§ã‡§ê‡¢Ω‡£ì‡£è‡£ã‡£ç‡£í‡£è‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£ó‡§ç‡§Ç‡§è‡¢Ω‡§ê‡§Ç‡§Ä‡§å‡§ã‡§Å‡£æ‡£©‡¢Ω‡§ë‡§Ç‡§ã‡§Ä‡§ñ‡£Ö‡¢Ω‡§ä‡§ê‡£æ‡¢Ω‡£Ü‡§ì‡§Ñ‡¢Ω‡£ç‡£ñ‡£ã‡£é‡£ê‡¢Ω‡¢Ω‡£ó
mysql> source tpch/query-14.sql;  # User B: TPC-H workload  
‡£Æ‡§í‡§Ç‡§è‡§ñ‡¢Ω‡£é‡¢Ω‡£â‡£®‡£¨‡¢Ω‡§è‡§å‡§î‡¢Ω‡§Ü‡§ã‡¢Ω‡§ê‡§Ç‡§ë‡¢Ω‡£é‡£ï‡£ã‡£é‡£è‡£Ö‡¢Ω‡§ê‡§Ç‡§Ä‡¢Ω‡£Ü
 --run‡¢Ω OtterTune  and startup MySQL with th e configuratio n suggested
by OtterTune  (innodb_flush_method=O_DIRECT)
Bash# ./tpcc_run.lua 
‡£±‡§è‡£æ‡§ã‡§ê‡£æ‡§Ä‡§ë‡§Ü‡§å‡§ã‡§ê‡¢Ω‡£ë‡£ñ‡£ã‡£ç‡£ë‡£ê‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£ó ‡§ç‡§Ç‡§è‡¢Ω‡§ê‡§Ç‡§Ä‡§å‡§ã‡§Å ‡¢Ω
‡£æ‡£©‡§ë‡§Ç‡§ã‡§Ä‡§ñ‡£Ö‡¢Ω‡§ä‡§ê‡£æ‡¢Ω‡£Ü‡§ì‡§Ñ‡¢Ω‡¢Ω‡¢Ω‡¢Ω‡£ç‡£ë‡£ã‡£ê‡£è‡¢Ω‡£ó 1.36x faster for TPC-C workload  (User A) ‡¢Ω
mysql> source tpch/query-14.sql; 
‡£Æ‡§í‡§Ç‡§è‡§ñ‡¢Ω‡£é‡¢Ω‡£â‡£®‡£¨‡¢Ω‡§è‡§å‡§î‡¢Ω‡§Ü‡§ã‡¢Ω‡§ê‡§Ç‡§ë‡¢Ω‡£é‡£Ö‡¢Ω‡§ä‡§Ü‡§ã‡¢Ω‡£é‡£è‡£ã‡£ñ‡£è‡¢Ω‡§ê‡§Ç‡§Ä‡£Ü  
4.09x performance drop  for TPC-H workload  (User B)  
Figure4:Side-effectsonotherintentionscausedbyOtter-
Tune without the aid of SafeTune.Using a large amount of memory leads to extra budget of ‚àº30$ per
month(dependingonthecloudprovider).Suchaconsequenceis
warned about through the prior use of SafeTune. For User C, Ot-
terTunesuggeststurningoff performance_schema ,becausebydoing
so, the performance improves by ‚àº25%. This parameter enables
MySQLmonitoringonvariousentities,includingevents,opened
files,statusinformation,etc. UserCmonitorsunexpectedbehavior
(e.g.,toomanycontentionsondatafiles)usingthisfunctionality.
However, after turning it off, as shown in Fig. 4(c), any monitoring
action (i.e., monitoring which files are being opened by how many
entities) does not work, hurting User C‚Äôs initial intention. User
Disaffectedby innodb_flush_method .AsshowninFig.4(d),after
runningOtterTune,thisparameteristunedfrom fsynctoO_DIRECT.
Theformervalueallowseachwritefirsttouchthekernel‚Äôscache
and followed by a fsyncsystem call. Since MySQL implements
bufferingitselfespeciallyforwrite[ 9],thekernellevelcachingmay
conflict with MySQL‚Äôs buffering. The latter value causes MySQL
to bypass the kernel cache. Thus, if User Duses the configuration
suggestedbyOtterTune,thewriteworkload(greentextinFig.4(d))
canbe improvedby ‚àº36%.However, UserDisfacing manykinds
of users (i.e., workload). As the red text in Fig. 4(d) shows, the read
performance degrades dramatically under this configuration. The
reason lies in the ability of the kernel cache to keep more hot data
in memory, thereby increasing read speed.
In conclusion,auto-tuners may cause criticalside-effects on other
intentions; SafeTune is complementary to them, which helps to pre-
vent bad consequences.
6 RELATED WORK
Configuration Tuning. Some works aim to improve software
performance by tuning configurations. They can be classified into
model-based[ 17],measurement-based[ 25],search-based[ 20,41,
42,52,54,61] and learning-based [ 19,36,43] methods. These tools
tune the parameters using certain heuristics and measure software
performancetobuildamodelthatcanfindthefastestconfiguration.
However, they only consider the performance impacts of configu-
rations, meaning that they may cause side-effects such as reducing
reliability. SafeTune can help to support these tools; this can be
done both by reducing the search space and warning about the
side-effects to prevent severe consequences.
Pre-selecting Performance-related Parameters. Some works
target on per-selecting important parameters to accelerate the con-
figurationtuningprocess.Theyuseperformanceexperimentstody-namicallyselectparametersthathaveasignificantinfluenceonper-formanceusingstatistical[
38]ormachinelearning[ 24]techniques.
Similarly, theseworksfocusonlyon theperformanceofsoftware
and pay no attention to other users intentions. While SafeTunecovers theirtargetsand isalso awareofmulti-intentions. Itfully
leverages the document of parameters to predict the performance-
related parameters and potential side-effects.
UnderstandingRelationshipbetweenPerformanceandCon-
figuration. Some works target understanding the relationship be-
tweenperformanceandconfigurationparameters.Agroupofworks
has endeavored to understand the relationship from code via static
ordynamiccodeanalysis[ 34,39,56].Whiletheycannotcapturethe
1440
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. Multi-Intention-Aware Configuration Selection for Performance Tuning ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA
side-effects of configuration parameters from code, but SafeTune
leverages documents thus taking multiple intentions into consider-
ation.Theothergroupofworksminesusefulinformationrelatedto
configuration to help both developers and users improve software
performance. Some works mine configuration documents to detect
performancebugs[ 32],andothersmineperformanceconstraints
of configurations to prevent users from performance misconfigura-
tions[55].Comparedwithalltheseworks,SafeTunehasadifferent
focus: it utilizes documents to obtain multi-intentions of configura-
tion parameters to pre-select performance-related parameters and
warn about potential side-effects. Many works focus on the non-
functionalpropertiesandfeatureinteractionsofsoftwareproduct
lines (SPL) configuration [ 27,47‚Äì49]. SafeTune focuses on run-
timeconfigurations,whicharedifferentfromSPLfeatures.TheSPL
tools usually rely on expert knowledge from developers as input to
ensure non-functional properties. The run-time configurations are
tuned by users, so it is hard to provide such input.
7 DISCUSSION
AbilityofGeneralization. Thesixtypesofside-effectsonnon-
performanceintentionsareconcludedfromthestudiedsoftware.To
make SafeTune as generalizedas possible, weselected 13 widely-
used open-sourcesoftware systemsfrom four representativecate-
gories as targets. While our evaluation in ¬ß5.1 and ¬ß5.2 shows that
SafeTune can achieve good results on un-studied software, we
still cannot claim that our approach is able to be generalized to all
softwaredomains.SafeTuneleveragesconfigurationdocumentsto
predict tuning guidance. Thus, the tuning guidance that SafeTune
provides relies on the quality of the configuration documents ofthe target software systems. We expect following improvements
indocuments:1)explainthecontextofparameters‚Äôfunctionality,
2) tell user what will result in by changing parameter values, 3)split the description and additional information (e.g., recommen-dations, constraints) into different paragraphs. Our future work
willextendSafeTunebyusingmoreinformation(i.e.,sourcecode)
asadditional inputand newtechniquesto furtherunderstandthe
side-effects on non-performance intentions.
EffectivenessonReducingtheSearchSpaceforTuning. Safe-
Tune may produce many performance-related parameters (e.g.,
occupying 38.9% of all parameters in ¬ß5.2) for performance tuning,
directlyusingthemmaystillmakethesearchspacebigduringtun-
ing. However, the parameters suggested by SafeTune are labeled
with side-effects, thus many of the parameters may not be actually
tuned during tuning (when given some of other user intentionsas input). In fact, there are only a small proportion (8.4% of all
parametersin¬ß5.2)ofperformance-relatedparametersthathave
limited or no side-effects. Also, we argue that SafeTune identi-
fies performance-related parameters in general and independent of
workload.Souserscanfurtherchooseparametersaccordingtotheirworkload.Ourfutureworkswillfocusonautomaticallyidentifying
workloads affected by a given performance-related parameter.
Triggering Conditions of the Side-effects. Tuning parameters
withside-effectsmaynotnecessarilyviolateuserintentions.The
triggeringconditionsmaycomefromproductionworkloads,system
environment and the values of other parameters. For instance, ifUser Aof ¬ß5.3 turns off fsync, but he/she has battery-backed
RAM in the event of power failure, the intention of high reliability
wouldnotbeviolated.SafeTuneisnotabletoextractalltriggering
conditions, while existing tools [ 26,55,60] may help extract some
conditions. And we claim SafeTune warns about potential side-
effects on other user intentions.
8 CONCLUSION
Toimproveperformance,manyworksautomaticallypre-selectand
tune configuration parameters, but only for specific workloads,
andareunawareofotheruserintentions.Wearguethatthecon-
figuration document contains rich information and can be lever-
aged to pre-select important parameters while retaining other non-
performanceintentions.Weconcludesixtypesofnon-performanceside-effectoftheperformance-relatedparametersfromanempiricalstudyon13softwaresystems.Basedonthefindings,wedesignand
implement SafeTune to predict the tuning guidance. Experiments
showthatSafeTunecanidentify22-26performance-relatedparam-
eters that have substantial performance impacts but are missed by
state-of-the-art tools. Moreover, SafeTune can help auto-tuners to
prevent eight potentialside-effectsthat have severe consequences.
ACKNOWLEDGMENTS
This paper is supported by National Key R&D Program of China
(ProjectNo.2018YFB0204301);NationalNaturalScienceFoundation
of China (Project No.61872373); Guangdong Major Project of Ba-
sicandAppliedBasicResearch(ProjectNo.2019B030302002);The
Major Key Project of PCL.
REFERENCES
[1]2016. MySQL 8.0 Reference Manual : 15.14 InnoDB Startup Options and System
Variables. Retrieved2021fromhttps://dev.mysql.com/doc/refman/8.0/en/innodb-
parameters.html#sysvar_innodb_flush_log_at_trx_commit
[2]2017. ISO/IEC/IEEE International Standard - Systems and software engineering‚Äì
Vocabulary. ISO/IEC/IEEE 24765:2017(E) (2017), 1‚Äì541.
[3]2020. Category:Computing - Wikipedia. Retrieved 2021 from https://en.
wikipedia.org/wiki/Category:Computing
[4]2021. sklearn.metrics.average_precision_score-scikit-learn 0.24.2 documentation.
Retrieved 2021 fromhttps://scikit-learn.org/stable/modules/generated/sklearn.
metrics.average_precision_score.html
[5] Accessed 2021. AWS Cloud Products. https://aws.amazon.com/products
[6]Accessed 2021. The cassandra-stress tool. https://cassandra.apache.org/doc/4.0/
cassandra/tools/cassandra_stress.html
[7] Accessed 2021. Google Cloud products. https://cloud.google.com/products[8]
Accessed2021.TheOpenSource,Pluggable,NoSQLBenchmarkingSuite(NoSQL-
Bench). https://github.com/nosqlbench/nosqlbench
[9]Accessed 2021. Optimizing InnoDB Disk I/O: store system tablespace files on
Fusion-iodevices. https://dev.mysql.com/doc/refman/8.0/en/optimizing-innodb-
diskio.html
[10]Accessed 2021. Oracle Cloud Infrastructure Products by Category. https:
//www.oracle.com/cloud/products.html
[11]Accessed2021. PostgreSQLdocumentation. https://www.postgresql.org/docs/
13/index.html
[12]Accessed 2021. Principal component analysis. https://en.wikipedia.org/wiki/
Principal_component_analysis
[13]Accessed2021. StackOverFlow#27176623. https://stackoverflow.com/questions/
27176623/
[14]Accessed 2021. tlp-stress: A workload centric stress tool and framework. https:
//github.com/thelastpickle/tlp-stress
[15]Accessed 2021. Transaction Processing Performance Council Benchmark C
(TPC-C). http://www.tpc.org/tpcc/
[16]Accessed 2021. Transaction Processing Performance Council Benchmark H
(TPC-H). http://www.tpc.org/tpch/
[17]Simonetta Balsamo, Antinisca Di Marco, Paola Inverardi, and Marta Simeoni.
2004. Model-basedperformancepredictioninsoftwaredevelopment:Asurvey.
IEEE Transactions on Software Engineering 30, 5 (2004), 295‚Äì310.
1441
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. ICSE ‚Äô22, May 21‚Äì29, 2022, Pittsburgh, PA, USA H. He, Z. Jia, S. Li, Y. Yu, C. Zhou, Q. Liao, J. Wang and X. Liao.
[18]Liang Bao, Xin Liu, Fangzheng Wang, and Baoyin Fang. 2019. ACTGAN: au-
tomaticconfigurationtuningforsoftwaresystemswithgenerativeadversarial
networks.In 201934thIEEE/ACMInternationalConferenceonAutomatedSoftware
Engineering (ASE 19). 465‚Äì476.
[19]LiangBao,XinLiu,ZihengXu,andBaoyinFang.2018. Autoconfig:Automatic
configuration tuning for distributed message systems. In 2018 33rd IEEE/ACM
International Conference on Automated Software Engineering (ASE 18). 29‚Äì40.
[20]JamesBergstraandYoshuaBengio.2012. Randomsearchforhyper-parameter
optimization. The Journal of Machine Learning Research 13, 1 (2012), 281‚Äì305.
[21] L Breiman. 2001. Random Forests. Machine Learning 45 (2001), 5‚Äì32.
[22]Lars Buitinck, Gilles Louppe, Mathieu Blondel, Fabian Pedregosa, Andreas
Mueller, Olivier Grisel, Vlad Niculae, Peter Prettenhofer, Alexandre Gramfort,
JaquesGrobler,RobertLayton,JakeVanderPlas,ArnaudJoly,BrianHolt,andGa√´l
Varoquaux.2013. APIdesignformachinelearningsoftware:experiencesfrom
the scikit-learn project. In ECML PKDD Workshop: Languages for Data Mining
and Machine Learning. 108‚Äì122.
[23]AndrewButterfield,Gerard EkembeNgondi,andAnneKerr.2016. Adictionary
of computer science. Oxford University Press.
[24]Zhen Cao, Geoff Kuenning, and Erez Zadok. 2020. Carver: Finding importantparameters for storage system tuning. In 18th USENIX Conference on File and
Storage Technologies (FAST 20). 43‚Äì57.
[25]Bihuan Chen, Yang Liu, and Wei Le. 2016. Generating performance distributions
via probabilistic symbolic execution. In 38th International Conference on Software
Engineering (ICSE 16). 49‚Äì60.
[26]QingrongChen,TengWang,OwolabiLegunsen,ShanshanLi,andTianyinXu.
2020. Understanding and discovering software configuration dependencies in
cloudand datacentersystems.In 28thACM JointMeetingonEuropean Software
EngineeringConferenceandSymposiumontheFoundationsofSoftwareEngineering
(ESEC/FSE 20). 362‚Äì374.
[27]Franz Franchetti, Tze Meng Low, Doru Thom Popovici, Richard M Veras,Daniele G Spampinato, Jeremy R Johnson, Markus P√ºschel, James C Hoe, and
Jos√© MF Moura. 2018. SPIRAL: Extreme performance portability. IEEE106, 11
(2018), 1935‚Äì1968.
[28]Chuancong Gao, Jianyong Wang, Yukai He, and Lizhu Zhou. 2008. Efficient
miningoffrequentsequencegenerators.In 17thinternationalconferenceonWorld
Wide Web (WWW 08). ACM, 1051‚Äì1052.
[29]Yoni Gavish, Jerome O‚ÄôConnell, Charles J Marsh, Cristina Tarantino, PalmaBlonda, Valeria Tomaselli, and William E Kunin. 2018. Comparing the perfor-mance of flat and hierarchical Habitat/Land-Cover classification models in aNATURA 2000 site. ISPRS Journal of Photogrammetry and Remote Sensing 136
(2018), 1‚Äì12.
[30]HuiHan,Wen-YuanWang,andBing-HuanMao.2005.Borderline-SMOTE:ANew
over-Sampling Method in Imbalanced DataSets Learning. In 2005 International
Conference on Advances in Intelligent Computing (ICIC 05). 878‚Äì887.
[31]Xue Han, Tingting Yu, and David Lo. 2018. PerfLearner: Learning from Bug
ReportstoUnderstandandGeneratePerformanceTestFrames.In 33rdACM/IEEE
International Conference on Automated Software Engineering (ASE 18). 17‚Äì28.
[32]Haochen He, Zhouyang Jia, Shanshan Li, Erci Xu, Tingting Yu, Yue Yu, Ji Wang,
and Xiangke Liao. 2020. CP-Detector: Using Configuration-related Performance
Properties to Expose Performance Bugs. In 2020 35th IEEE/ACM International
Conference on Automated Software Engineering (ASE 20). 623‚Äì634.
[33]Matthew Honnibal, Ines Montani, Sofie Van Landeghem, and Adriane Boyd.
2020.spaCy:Industrial-strengthNaturalLanguageProcessinginPython. https:
//doi.org/10.5281/zenodo.1212303
[34]YigongHu,GongqiHuang,andPengHuang.2020. AutomatedReasoningand
Detection of Specious Configuration in Large Systems with Symbolic Execution.
In14th USENIX Symposium on Operating Systems Design and Implementation
(OSDI 20). 719‚Äì734.
[35]ISO/IEC25010.2011. ISO/IEC25010:2011,Systemsandsoftwareengineering‚Äî
Systems and software Quality Requirements and Evaluation (SQuaRE) ‚Äî System
and software quality models.
[36]PooyanJamshidi,NorbertSiegmund,MiguelVelez,ChristianK√§stner,Akshay
Patel, and Yuvraj Agarwal. 2017. Transfer learning for performance modeling of
configurablesystems: Anexploratory analysis.In 32ndInternational Conference
on Automated Software Engineering (ASE 17). 497‚Äì508.
[37]Guoliang Jin, Linhai Song, Xiaoming Shi, Joel Scherpelz, and Shan Lu. 2012.
UnderstandingandDetectingReal-WorldPerformanceBugs.In 33rdACMSIG-
PLANConferenceonProgrammingLanguageDesignandImplementation(PLDI
12). 77‚Äì88.
[38]Konstantinos Kanellis, Ramnatthan Alagappan, and Shivaram Venkataraman.
2020.TooManyKnobstoTune?TowardsFasterDatabaseTuningbyPre-selecting
Important Knobs. In 12th USENIX Workshop on Hot Topics in Storage and File
Systems (HotStorage 20).
[39]Chi Li, Shu Wang, Henry Hoffmann, and Shan Lu. 2020. Statically inferring per-
formancepropertiesofsoftwareconfigurations.In FifteenthEuropeanConference
on Computer Systems (EuroSys 20). 1‚Äì16.
[40]Andy Liaw and Matthew Wiener. 2002. Classification and Regression by ran-
domForest. RN e w s2, 3 (2002), 18‚Äì22.[41]Vivek Nair, Tim Menzies, Norbert Siegmund, and Sven Apel. 2017. Using bad
learnerstofindgoodconfigurations.In 201711thJointMeetingonFoundationsof
Software Engineering and Symposium on the Foundations of Software Engineering
(ESEC/FSE 17). 257‚Äì267.
[42]Rafael Olaechea, Derek Rayside, Jianmei Guo, and Krzysztof Czarnecki. 2014.
Comparison of exact and approximate multi-objective optimization for software
productlines.In 18thInternationalSoftwareProductLineConference(SPLC14).
92‚Äì101.
[43]Cheng Peng, Canqing Zhang, Cheng Peng, and Junfeng Man. 2017. A rein-
forcementlearningapproachtomapreduceauto-configurationundernetworkedenvironment. InternationalJournalofSecurityandNetworks 12,3(2017),135‚Äì140.
[44]PostgreSQL Global Development Group. 2008. PostgreSQL. http://www.
postgresql.org.
[45]Gerard Salton and Christopher Buckley. 1988. Term-weighting approaches inautomatic text retrieval. Information processing & management 24, 5 (1988),
513‚Äì523.
[46]Konstantin Shvachko, Hairong Kuang, Sanjay Radia, and Robert Chansler. 2010.
Thehadoopdistributedfilesystem.In 26thsymposiumonmassstoragesystems
and technologies (MSST 10). 1‚Äì10.
[47]NorbertSiegmund,MarkoRosenm√ºller,ChristianK√§stner,PaoloGGiarrusso,
Sven Apel, and Sergiy S Kolesnikov. 2013. Scalable prediction of non-functional
properties in software product lines: Footprint and memory consumption. Infor-
mation and Software Technology 55, 3 (2013), 491‚Äì507.
[48]NorbertSiegmund,MarkoRosenm√ºller,MartinKuhlemann,ChristianK√§stner,
Sven Apel, and Gunter Saake. 2012. SPL Conqueror: Toward optimization of
non-functional properties in software product lines. Software Quality Journal 20,
3 (2012), 487‚Äì517.
[49]Larissa Rocha Soares, Pasqualina Potena, Ivan Do Carmo Machado, IvicaCrnkovic,andEduardoSantanadeAlmeida.2014. Analysisofnon-functional
propertiesinsoftwareproductlines:asystematicreview.In 40thEUROMICRO
Conference on Software Engineering and Advanced Applications. 328‚Äì335.
[50]Dana Van Aken, Andrew Pavlo, Geoffrey J. Gordon, and Bohan Zhang. 2017.
Automatic Database Management System Tuning Through Large-scale Machine
Learning.In 2017ACMInternationalConferenceonManagementofData(SIGMOD
17). 1009‚Äì1024. https://github.com/cmu-db/ottertune
[51]ShuWang,ChiLi,HenryHoffmann,ShanLu,WilliamSentosa,andAchmadImam
Kistijantoro. 2018. Understanding and Auto-Adjusting Performance-SensitiveConfigurations. In 23rd International Conference on Architectural Support for
Programming Languages and Operating Systems (ASPLOS 18). 154‚Äì168.
[52]TiantianWang,MarkHarman,YueJia,andJensKrinke.2013. Searchingforbetterconfigurations:arigorousapproachtocloneevaluation.In 20139thJointMeeting
on Foundations of Software Engineering and Symposium on the Foundations of
Software Engineering (ESEC/FSE 13). 455‚Äì465.
[53]Duane Wessels, Henrik Nordstr√∂m, Amos Jeffries, Alex Rousskov, FrancescoChemolli, Robert Collins, and Guido Serassio. 1996. Squid: Optimising Web
Delivery. http://www.squid-cache.org/.
[54]FanWu,WestleyWeimer,MarkHarman,YueJia,andJensKrinke.2015. Deep
parameter optimisation.In 2015 AnnualConference onGenetic and Evolutionary
Computation (GECCO 15). 1375‚Äì1382.
[55]ChengchengXiang,HaochenHuang,AndrewYoo,YuanyuanZhou,andShankar
Pasupathy.2020. PracExtractor:ExtractingConfigurationGoodPracticesfrom
ManualstoDetectServerMisconfigurations.In 2020USENIXAnnualTechnical
Conference (USENIX ATC 20). 265‚Äì280.
[56]Tianyin Xu, Xinxin Jin, Peng Huang, Yuanyuan Zhou, Shan Lu, Long Jin, andShankar Pasupathy. 2016. Early detection of configuration errors to reducefailure damage. In 12th USENIX Symposium on Operating Systems Design and
Implementation (OSDI 16). 619‚Äì634.
[57]MateiZaharia,ReynoldS.Xin,PatrickWendell,TathagataDas,MichaelArmbrust,
Ankur Dave, Xiangrui Meng, Josh Rosen, Shivaram Venkataraman, Michael J.
Franklin,AliGhodsi,JosephGonzalez,ScottShenker,andIonStoica.2016.Apache
Spark:AUnifiedEngineforBigDataProcessing. Commun.ACM 59,11(2016),
56‚Äì65.
[58]JiZhang,YuLiu,KeZhou,GuoliangLi,ZhiliXiao,BinCheng,JiashuXing,Yang-
taoWang,TianhengCheng,LiLiu,etal .2019. Anend-to-endautomaticcloud
database tuning system using deep reinforcement learning. In 2019 International
Conference on Management of Data (ICMD 19). 415‚Äì432.
[59]Yuanliang Zhang, Haochen He, Owolabi Legunsen, Shanshan Li, Wei Dong,and Tianyin Xu. 2021. An Evolutionary Study of Configuration Design and
ImplementationinCloudSystems.In 43rdInternationalConferenceonSoftware
Engineering (ICSE 21). 175‚Äì176.
[60]Shulin Zhou, Xiaodong Liu, Shanshan Li, Zhouyang Jia, Yuanliang Zhang, Teng
Wang, Wang Li, and Xiangke Liao. 2021. ConfInLog: Leveraging Software Logs
toInferConfigurationConstraints.In 29thInternationalConferenceonProgram
Comprehension (ICPC 21). 94‚Äì105.
[61]Yuqing Zhu, Jianxun Liu, Mengying Guo, Yungang Bao, Wenlong Ma, Zhuoyue
Liu, Kunpeng Song, and Yingchun Yang. 2017. Bestconfig: tapping the perfor-
mance potential of systems via automatic configuration tuning. In 2017 Sympo-
sium on Cloud Computing (SoCC 17). 338‚Äì350.
1442
Authorized licensed use limited to: LAHORE UNIV OF MANAGEMENT SCIENCES. Downloaded on August 07,2025 at 08:28:46 UTC from IEEE Xplore.  Restrictions apply. 