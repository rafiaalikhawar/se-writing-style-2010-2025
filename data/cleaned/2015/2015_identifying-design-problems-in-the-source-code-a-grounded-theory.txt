identifying design problems in the source code a grounded theory leonardo sousa anderson oliveira puc rio rio de janeiro rj lsousa aoliveira inf.puc rio.brwillian oizumi simone barbosa alessandro garcia puc rio rio de janeiro rj woizumi simone afgarcia inf.puc rio.brjaejoon lee lancaster university lancaster lancashire j.lee3 lancaster.ac.uk marcos kalinowski rafael de mello puc rio rio de janeiro rj kalinowski rmaiani inf.puc rio.brbal fonseca ufal maceio al bal oliveira carlos lucena rodrigo paes puc rio rio de janeiro rj roliveira lucena inf.puc rio.br rodrigo ic.ufal.br abstract the prevalence of design problems may cause re engineering or even discontinuation of the system.
due to missing informal or outdateddesigndocumentation developersoftenhavetorelyon the source code to identify design problems.
therefore developers havetoanalyzedifferentsymptomsthatmanifestinseveralcode elements whichmayquicklyturnintoacomplextask.although researchers have been investigating techniques to help developers in identifying design problems there is little knowledge on how developersactuallyproceedtoidentifydesignproblems.inorder to tackle this problem we conducted a multi trial industrial experiment with professionals from software companies to build a grounded theory.
the resulting theory offers explanations on how developers identify design problems in practice.
for instance it reveals the characteristics of symptoms that developers considerhelpful.
moreover developers often combine different types of symptoms to identify a single design problem.
this knowledge servesasabasistofurtherunderstandthephenomenaandadvance towards more effective identification techniques.
ccs concepts software and its engineering software design engineering keywords design problem grounded theory software design symptoms acm reference format leonardosousa andersonoliveira willianoizumi simonebarbosa alessandro garcia jaejoon lee marcos kalinowski rafael de mello bal fonseca androbertooliveira carloslucena rodrigopaes.
.identifying design problems in the source code a grounded theory.
in icse permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
icse 40th international conference on software engineering may june3 gothenburg sweden.
acm newyork ny usa 14pages.
introduction the development and maintenance of long lived software systems requirespecialattentiontonon functionalrequirements suchas maintainability extensibility availability and performance.
each non functional requirement may be affected either positively or negatively bydesigndecisions suchas mis prioritizingan objected orientedprincipleoveranotheror mis usingcertaindesignpatterns .adesignproblem istheresultofoneor more inappropriate design decisions i.e.
decisions that negatively impactnon functionalrequirements.anexampleofdesignproblem isfat interface which occurs when a developer decides to aggregate multiple non cohesive functionalities in a single system interface asaresult thisinterfacebecomeshighlycoupledtoother modules.
the occurrence of fat interface negatively impacts the maintainability and extensibility of the software system .
design problems are often harmful in several software systems.
for instance an industrial study with software systems from different organizations showed that technical debts primarilyassociatedwithdesignproblems weredirectlyrelated with a significant increase in software project costs .
another study showedthatdesignproblemsareoneofthemostcommon categories of technical debt that leads to the rejection of codecontributions.thus theprevalenceofdesignproblemsmay cause the redesign or even the discontinuation of software sys tems .
given the harmfulness of design problems developers should identify them as early as possible .
however identifying a single design problem can itself quickly turn into a very complex task .
one of the main reasons is that design documentations are often unavailable or outdated .
then developers are forced to analyze several elements in source code to identify each design problem.
each single design problem often manifests as multiple symptoms scattered in several programelements.forinstance identifying fatinterface requires thesearchforsymptomsaffectingnotonlysuspiciousinterfaces butalsoclassesthateitherimplementordependonthoseinterfaces.
unfortunately there is limited understanding about how developers identify design problems in practice in particular when the acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden l. sousa et al.
source code is the only artifact available in a project.
existing studies tend to focus on proposing solutions for assisting developers in identifying design problems .
however such proposed solutions may be misaligned with how developers identify design problems in practice.
for instance most of these studies make oversimplified assumptions about the process of identifying design problems.
they consider that developers would rely on a single type of symptom e.g.
either code smells ordesignprincipleviolations toinfertheoccurrence of a design problem.
however this assumption might notholdinrealprojectsettings.infact weknowlittleabouthow developers identify in practice design problems in source code.
toprovidesuchnecessaryunderstanding inthispaperweaddress the following research question how do developers identify design problems in source code?
to do so we conducted a multitrialindustrialexperimentwithprofessionalsoftwaredevelopers from five different companies where they had to identify design problemsintheirsystemsunderdevelopment.intheexperiment wecaptureddataontheirbehaviourbyfilmingtheenvironment recording audio and capturing their computer screens on video.
these data allowedus to conduct an in depthqualitative analysis basedongroundedtheoryprocedures .asaresult wehave built a theory of design problem identification.
according to stol and fitzgerald nascent research areas typically take the research then theory approach whereas more mature areas rely on and refine theories to further advance the field.
aligned with this statement the theory presented here offers insightful propositions and explanations on how design problems areidentified whichcanserveasabasistoimprovethestate of art.
for example while most studies address only one type of design problem symptom the theory reveals that in practice developers relyonaheterogeneoussetofsymptoms.thus previousstudies are misaligned not only for assuming that developers will use a single dominant type of symptom but also for not consideringhow they use these symptoms.
based on the theory researchers canbuildsolutionsmostsuitabletohelpdevelopers.forinstance we identified cases when developers consider a symptom useful to identifydesignproblems.thus researcherscanusethisknowledge to build tools that prioritize helpful symptoms for developers.
the remainder of this paper is organized as follows.
section presentsbasicconceptsandanexampleofdesignproblemdiagnosis.
section3presentsourresearchdesign.section4summarizesthe results in which our theory is grounded.
section complements the theory with additional propositions concerning the developer.
section presents how the theory can be used to drive research on identifyingdesignproblems.section7and8presentrelatedwork and threats to validity respectively.
section concludes the paper.
concepts and motivation this section presents concepts about design problems section .
an example of how developers may identifydesign problems section .
and concepts about grounded theory section .
.
.
design problems software design results from a series of decisions made during the softwaredevelopment .thosedecisionsdirectlyinfluencesoftware quality attributes such as maintainability robustness performance andthelike.however alongtheway softwaredesign maydecayduetotheintroductionofdesignproblems.a design problem arises from one or more design decisions which when implemented in source code negatively affect software quality requirements .althoughsomeofthemareself admitted mostareintroducedbyunintendeddecisions whichmakesthem hardertoidentifyinsourcecode.developersoftenhaveonlythesourcecodeasaresourcetoidentifydesignproblems becauseof missing informal or outdated design documentations .
adesignproblemmayaffectasingleormultipleelementsinthe program.
for instance delegating abstraction happens when one class exists only for passing messages from one element toanother while fat interface is a design problem that forces some elements i.e.
theinterfaceitselfandrelatedclasses todealwith manyfunctionalities .moreover designproblemsalsoimpact differentnon functionalrequirements.forinstance misplacedconcerncan impact the understandability since it happens when an element implements functionality that is not the predominant one in the element .
conversely cyclic dependency can impact the systemperformanceandavailabilityduetodependencycyclesthat can lead to deadlocks .
.
design problems identification asdesignproblemshavenegativeconsequencesforsoftwaresystems theyareoftentargetsofsignificantmaintenanceeffort increasing the cost related to maintaining the software systems.
unfortunately identifying design problems is challenging foranumberofreasons .firstly softwaresystemstendtobe increasingly large in size and complexity thereby expanding the search space for problems.
secondly each design problem usually pervades the implementation of several elements .
thus developers need to analyze several elements to identify a single design problem .
thirdly design documentations are often unavailable or outdated making the source code the only artifact available for developers to identify design problems in most cases.
to illustrate the design problem identification let us consider the example in figure which uses a uml like notation to show apartialviewofarealuniversitymanagementsystemweusedinour experiments section .
.
during design problem identification oneofthedevelopersstartedlookingfordesignproblem symptoms intheclassesthatextendedthe abstractservice class.asymptom isapartialsignorindicationofthepresenceofadesignproblem.
the first one he noticed was the incidence of feature envy i n methods of the institutionalenrollmentservice class.
a method affected by feature envy is more interested in other classes ratherthan in its own class .
based on the analysis of feature envies the developer noticed that the class was implementing two distinct responsibilities query enrollment and manage enrollment.
he also noticed that the class had a high dependency with userservice and incidentservice classes.
he then concluded that the class had a design problem because it presented the following symptoms i implementation of two unrelated responsibilities ii strong coupling with other classes and iii overly complex methods.
in this example the most helpful symptoms to identify a design problem were located in the institutionalenrollmentservice .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden l. sousa et al.
table characterization of the developers team idexperience years system company t1d1 3s1 1d2 t2d3 13s1 1d4 t3d5 14s1 1d6 t4d7 7s2 2d8 t5d9 4s2 2d10 t6d11 10s3 3d12 t7d13 12s4 4d14 t8d15 4s5 4d16 t9d17 4s6 4d18 t10d19 s7 d20 d21 t11d22 12s8 5d23 allteamsarecomposedoftwodevelopers exceptfort10 whose company asked us to involve three developers.
.
experimental tasks the experiment comprises the following four activities activity subjects characterization.
we asked the developerstofilloutaquestionnairetogathertheirinformation including educationallevel professionalexperiencewithsoftwaredevelopment java programming and knowledge about design problems.
activity training.
we conducted a training session for all thedevelopersaboutsoftwaredesignanddesignproblems withexamplesofproblemspertainingtodifferentcategories.thefollowing design problems were included in the training session ambiguousinterface unwanteddependency componentoverload cyclic dependency scatteredconcern fatinterface and unusedabstraction.weselectedthesedesignproblemstogetherwiththeproject managers who suspected that these represented common casesof design problems in the selected projects.
however we madeit clear to the developers that they were also allowed to identify other types of design problems with which they were already familiar.
the minute training session was organized in two parts a powerpoint based presentation and discussions and questions.
activity problem identification.
we asked developers to identify design problems in their software systems.
they had minutes to analyze the source code to identify all the design problems they could find.
at the beginning of this activity we asked them to explain aloud what they were while we recordedthetaskonvideo.thus wecouldtriangulatetheresultsfromthe questionnaireandthevideorecordingtoimprovethedataanalysis.
in total the problem identification sessions lasted over hours.
activity follow up.
developers filled out a questionnaire abouttheirperceptionofthetask.wealsoaskedthemtoindicate whether each symptom was useful to identify a design problem.
.
provided data most design problems manifest themselves in source code through differentsymptoms andmanydevelopersusetoolstoidentifythese symptoms.
thus to make activity more realistic we provided oursubjectswithasetofsymptomswehaddetectedinthecodeof theanalyzedsystemsafterrunningandmanuallycombiningthe outputofsometools simulatingtheuseoftools butnot limiting the developers to the output of a specific one.
for each module we provided the following types of symptoms .violationofnon functionalrequirements information ofnon functional requirements e.g.
readability testability robustness security which were possibly being violated .code smells weprovidedthelist ofcodesmellsbecause previous studies suggest that code smells can be used asindicators of design problems .
we used wellknown metrics based strategies to identify types of code smells from fowler s catalog .visual representation of modules avisualrepresentation of the module and relationships between modules .designpatternviolation informationontheuseofarchitectural and design patterns to help identify misused patterns .qualityrequirements informationaboutqualityrequirements e.g.
cohesion coupling complexity .violation of object oriented principles informationaboutobject orientedprinciples thatwerepossiblybeing violated which may indicate a problem.
these principles have been pointed out as guides to avoid design problems.
we summarized and presented these symptoms to developers throughawebpagebasedonsonarqube .weprovidedavisualizationsimilartosonarqubebecauseitisawell knownplatform forinspectionofsoftwaresystems andwhichwasfamiliartomost subjects.thus wecouldreducethelearningcurveoraversionrelatedtohowthesymptomsarepresented.themaindifferenceof ourmechanismisthatitpresentsallsymptomsinasinglepage.itisnoteworthy that while sonarqube provides several pieces of infor mationunrelatedtodesignproblems ourmechanismprovidesonly symptoms that may help developers to identify design problems.
.
data collection and analysis we used different instruments to collect data.
the developers had toanswercharacterizationandfollow upquestionnaires.theyalso hadtowriteanyobservationinaspecificfieldatthewebpagein whichwepresentedthesymptoms.theycouldwriteanythingin the observation field such as the name of a design problem affectingtheelements whetherheagreedwiththesuggestedsymptoms or even comments about the code.
they used either the eclipse or intellij ides to analyze the source code and they used the browser toaccessthewebpagewiththesymptoms.weusedthethink aloud authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
identifying design problems in the source code icse may june gothenburg sweden method askingthedeveloperstoverbalizetheirthoughtsduringtheexperiment.alltheirprocedureswererecordedonaudio and video.
we used techsmith s camtasia1to record audio and screenshots of their computer.
in addition a video camera was installed in the room to record the developers during the study.
afterthedatacollection weemployedgtprocedurestoanalyze the data.
we first transcribed all the video and audio recordings.
we then performed open coding to associate codes with quotations of developers utterances as shown in the example below rawtranscript.
d6 thereadabilityhereisawful butthereisnowayto escape from this implementation .
that is the standard implementation .
... indeed it the class is not easy to ready code .developer mentions that the class readability is awful code .developer mentions that there is no way to escape from the analyzed implementation code .developer mentions that the analyzed implementation is the standard implementation code .developer accepts that the class is hard to read werelatedthecodesthrough axialcoding.inthisprocedure the codes were merged and grouped into more abstract categories and thetypeofrelation wasestablished.forinstance theprevious codes were grouped into the following two categories category .
analysis of a non functional requirement category .
explanation for the existence of the symptom foreachtranscript thecodes memos andnetworksshowing therelationsinthecategoriesandcodeswerepeerreviewedand changeduponagreementwithsomeofthepaper sauthors.then we usedselective coding to identify core categories that best explainhowdevelopers identifydesignproblems.next weusedthe sj berg s framework to represent and describe the theory constructs propositions explanations and scope.
a construct is a basic particlethatcomposesatheory thus thecategoriesidentifiedinthe axialandselectivecodingarecandidateconstructsforthetheory.
aproposition is an interaction among constructs which comprises therelationsestablishedamongthecategories.an explanation comprises the factors behind the propositions.
the explanations are grounded in the categories codes relations and in the transcripts.
thescopeis the universe to which the theory is applicable.
a theory on how developers identify design problems as aforementioned we used sj berg s framework to describe the theory which is summarized in section .
according to his framework ourtheoryfitsinthe explanationtype sinceitdescribes andexplainshowtheidentificationofdesignproblemsisconducted section .
the symptomsand theircharacteristics section4.
and how the symptoms are used to diagnose design problems section .
.
in his framework sj berg also describes criteria to evaluatetheories.testabilityisonecriterion whichindicates thedegree towhichatheoryisconstructedsuchthatempiricalrefutationis possible.
regarding such criterion our theory has high testability since empirical refutation of its propositions is possible by replicat ing the study.
in fact such replication is feasible given that we firstconductedtheexperimentwiththreecompaniesandthenreplicated it with two more companies to reach theoretical saturation.
1camtasia is available at helpfulness according to developers symptomapplied timesno.
of contributionspercentage of success design pattern violation .
quality requirements .
violation ofnon functional requirements62 .
code smells .
violation ofobject oriented principles38 .
when describing the theory we introduce the constructs and propositions identifyingtheminthetextwith candp respectively.
we discuss the propositions and their constructs next.
we also presentexplanationsforpropositionsthatarealignedwithfindings of previous studies and explanations that comprise findings thathave not been presented elsewhere.
complete description of the constructs and propositions is available in the online material .
.
identification of design problems adesignproblem c1 arisesincodeelementsduetooneormore design decisions c2 made intentionally or accidentally.
in fact a designproblemmayaffectoneormoreelementsinsuchawaythattheseelementsmanifestsymptomsofitspresence.a symptom c3 is an indication of the presence of a design problem.
threestepstoidentifydesignproblemsusingsymptoms.
a code element may contain several design problem symptoms.
thus wedefinea syndrome c4 asasetofsymptomsaffectingthe same code element.
in this context we refer to diagnosis c5 a s the process of identifying a design problem through the analysis of symptoms that manifest themselves in source code p1 .
from the data collected during the subjects diagnostic activities we noticed that the identification of design problems was often divided into three steps i locating code elements ii analyzing theelements and iii confirmingorrejectingthepresenceofadesignproblem.in all these three steps developers rely on design problem symptoms in source code p2 .
.
design problem symptoms symptomhelpfulness.
wenoticedthatdevelopersdonotalways consider all the symptoms of a syndrome when identifying design problems.
instead they only consider those symptom instances that they judge helpful during the identification.
we could identify when developers judge a symptom helpful because we asked them toevaluatethesymptombasedonhowhelpfulitwastoidentifytheproblem section3.
.table2presentsthepercentageofhelpfulnessofeachtypeofsymptom.thefirstcolumnindicatesthenameofthesymptom whilethesecondcolumnshowsthenumberoftimesthat the symptom was used by developers.
the third column shows the number of occasions that the developers mentioned the symptoms were helpful to identify a design problem.
finally the last column indicates the percentage of helpfulness i.e.
the percentage that developers used the symptom and evaluated it as helpful.
symptom attributes that drive developers to select what to analyze.
based on the helpfulness mentioned by developers we performed a qualitative analysis to investigate which symptom authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden l. sousa et al.
!
!
.
!
!
!
!
?
a b c d a b ?
figure theory representation of how developers identify design problems through the analysis of symptoms attributes i.e.
characteristics of the symptom such as its accuracy or type developers take into consideration when they choose the symptomsmostlikelytohelpthem.weobservedthatthefollowing symptom attributes are most helpful for developers to identify designproblems symptomtype accuracy density relation among the symptoms and diversity.
symptom type c6 indicates a category to which a set of symptoms with common characteristics belongs e.g.
codesmell .
accuracy c7 isthedegreetowhicha symptomiscorrectinindicatingadesignproblem while density c8 isthenumberofsymptominstancesinasyndrome.regarding these attributes we were already expecting that accuracy and density would be attributes that developers take into account toconsider a symptom helpful.
however we had not expected that they would take into consideration the relation among symptoms and the diversity of symptoms in the syndrome.
diversity of a syndrome .relation c9 i sh o wt w oo rm o r e symptoms are connected.
for instance both intensive coupling smellandviolationofthelayeredpattern measurethedegree to which elements are undesirably coupled with others.
since they measuresimilar albeitcomplementary propertiesofanelement theyarerelatedtoeachother.wenoticedthatdevelopersusethe relation among the symptoms todiscover other types of symptoms that can indicate a design problem section .
.
.
we also noticed thatdevelopersfrequentlylocatedelementsthatmanifestedseveraldifferenttypesofsymptoms p3 .infact weobservedthat diversity c10 is another attribute that developers consider.
diversity is the degreetowhichasyndromecontainsavarietyofsymptomtypes.
uponanalysis wefoundthatthemoredifferenttypesofsymptoms a syndrome has the greater the chance the developer will identify at least one design problem in the element section .
.
indeed the diversity of a syndrome has a strong influence on thediagnosis.asthisfindinghadnotbeenobservedbefore studies that assume that developers rely on only one type of symptom maybemisalignedwithhowdiagnosisisconducted inpractice intwoways i theymayassumethatdeveloperswill use a predefined dominant type of symptom and ii they maynot consider the diversity of symptoms as another indicator foridentifyingdesignproblems.wediscussinsection5.2howdiversity influences human aspects.
considering the attributes that influence the developers.
asmentionedbefore developersdonotconsiderallsymptominstancestoidentify adesignproblem.they takeintoaccountonly thosesymptomsthattheyconsiderhelpfultoidentifyaproblem.
we showed the attributes developers consider to assume that a symptomishelpful.forinstance ifasyndromehasseveraltypesof symptoms developers consider the density and diversityto select thesymptom.inotherwords developersselectasymptomwhen theyaresatisfiedwiththeseattributes.conversely whenattributes donot satisfythe developers e.g.
thesyndrome does notcontain diversetypesofsymptoms thesymptomwouldbeignoredandnot considered helpful possibly leading to missing a design problem.
knowingabouthowdevelopersconsiderasymptomhelpfulis usefulforresearcherssincetheycanproposesolutionsthatempha sizehelpfulsymptomsforthedevelopers.forinstance somestudies proposesolutionstoprioritizesmellsthatcanhelpdevelopersto identify design problems .
as code smells are a type of symptom they also present some of the attributes discussed above.
however some studies on code smells may not consider attributes as the density of smells or diversity.
therefore developers may neglect some code smells for not considering them helpful for the identification.thesestudiescouldusetheattributesthatdevelopers take into account as a mechanism to prioritize smells section .
.
design problem diagnosis as aforementioned diagnosis is the process of identifying a design problemthroughtheanalysisofsymptoms.wenoticedthatdevelopers diagnosea design problem basedon two typesof analyses a symptom analysis c11 and an epidemic analysis c12 .
.
.
symptom analysis.
insymptomanalysis developerschoose and analyze a set of symptoms affecting a single element i.e.
they do not analyze multiple elements.
this happens because they usuallyrelyontheaforementionedsymptomattributes type accuracy density relation among symptoms and diversity.
in this analysis authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
identifying design problems in the source code icse may june gothenburg sweden table combining symptoms symptoms instancesdesign problemsteams 11t7 t8 t9 10t1 t3 t7 t8 t9 11t3 t4 t5 t6 t7 t8 t9 6t2 t3 t5 t8 t9 1t4 developersverify basedontheseattributes whetherthesymptoms affectingtheanalyzedelementindicateadesignproblem.ifso then they do not proceed to analyze other elements.
incorrectlyignoringsymptoms.
someonecanexpectthatthe accuracy p4 the density p5 and the type p6 of the symptoms influencetheproblemidentification.forinstance letusconsider code smells.
palomba et al.
investigated to what extent code smells are perceived as design problems.
they noticed that developers consider the type of the code smell to decide whether it is a problem.
surprisingly developers tend to incorrectly associate the type of symptom with its accuracy or density and that does nothappenonlywithcodesmells.thus iftheyrelyontheaccuracy or density to disagree that a symptom indicates a design problem theytendtonotconsiderthesametypeofsymptomintheother elements even whenthey actually indicatea designproblem.for instance ifadeveloperanalyzestheviolationofadesignpattern suchasdataaccessobjectandconcludesthatthistypeofsymptomisirrelevantforidentifyingadesignproblem thenheisless likely to consider a violation of a design pattern in the elements he analyzes next.
this happened for instance with the t3 developers.
combiningmultiplerelatedsymptoms .someonecanargue thatanalyzing asingleelementis notenoughtoidentify adesign problem.nevertheless wenoticedthattheycombinesymptomsinasingleelementinordertoconfirmthepresenceofadesignproblem.
table shows the frequency with which developers either used onlyonesymptomorcombinedmultiplesymptoms.itsfirstcolumn indicates the number of symptoms that developers combined to identifydesignproblems.itssecondcolumnindicateshowmany timesthesymptomorcombinationofsymptomshappened.itsthird columnindicatesthenumberofdesignproblemsfoundwhenthe subject used a symptom or a combination of symptoms.
its last columnindicatestheteamsthatusedorcombinedthesymptoms.
we obtained these data after applying the gt.
the online material hasafullversionofthetablecontaining i whichsymptoms were combined and ii which design problems the team found.
wecanseeintable3thatmostdeveloperstendtocombinesymptoms to identify a design problem.
also we noticed that developers identify more design problems when they combine symptoms.
based on this result we investigated how the combination takes place.wenoticedthatdevelopersusesymptomrelationstoidentify thesymptomstocombine.thereby therelationhelpsdevelopers toidentifyotherhelpfulsymptomsinthesyndrome.therefore themore related to others a symptom is the greater the likelihood of a developer selecting it for combination p7 .
asanexampleofhowdevelopersusethesymptomrelationto findother helpfulsymptoms let usconsiderthe developersofthet2 team.
they were analyzing the code smells and they noticed that the class had the dispersed coupling smell.
due to the presenceofthissmell theyanalyzedthecouplingqualityrequirement.
when analyzing this type of symptom they noticed it was indicating a high coupling with other classes.
this finding increased theirconfidencethattheclasscontainedadesignproblem.these developersalsonoticedthatthecouplingwasrelatedtoathirdtype of symptom violation of non functional requirements.
when they analyzed this symptom they noticed that the high coupling wasmaking the class harder to read.
in this example the developers used the relation among the three symptoms code smells quality requirements and violation of non functional requirements .
then they combined these symptoms to identify that the element was involved in the concern overload design problem .
sousaet al.have shown that developers often combine multiple symptoms to identify design problems .
however they didnotobservehowthatcombinationtookplace.inourcase we noticedthattherelationamongthesymptomsiswhatdrivesthe combination byhelpingtoidentifyotherrelatedsymptoms.the combination of the symptoms is another evidence that previousstudies mayhaveproposedsolutionsfortheproblem identification that do not fit the developers needs.
in other words developers consider multiple symptoms section .
and theyalsocombine thesesymptomstoincrease theirconfidencein thepresenceofadesignproblem.therefore forcingthedevelopers to use only a reduced set of symptoms is likely to go against the way in which developers identify design problems in practice.
.
.
epidemic analysis.
when developers analyze an element they do not consider only the symptoms affecting that element sometimes they also consider whether other elements are affected bythesamesetofsymptoms.
wenamethisanepidemicanalysis.
analogously to the way in which attributes influence the selection ofsymptomsinasingleelement thereareattributesthatdevelopers consider before choosing elements for an epidemic analysis.
in additiontoconsideringthetypesofsymptoms p8 developersalso take into account the element role c13 to choose the epidemic elementsmostlikelytohelpthemtoidentifyadesignproblem p9 .
element roleis the functionthat an elementplays in thesoftware system e.g.
the role of service.
complementaryanalysis.
thereasonwhydevelopersusethe elementroletoidentifyepidemicelementsisthateachdesignproblemmaybescatteredoverseveralelements.sincethoseelements sharethesamesymptoms developersassumethattheymayhelp themtoidentifythedesignproblem whichjustifiestheepidemic analysis.
ho wever asurprising finding is that developers analyzed epidemic elements only when they had used the symptom analysis buthad notsucceededin identifyingadesignproblem.
sincethey arenotconfidentaboutthepresenceofadesignproblemduringthe symptomanalysis theyproceedtotheepidemicanalysisofother elementsinordertodecidewhetherthereisadesignproblemin the elements under analysis.
prioritization of key elements.
developers tend to prioritize epidemicelementsthatprovideacentralfunctionalityinthesystem.
this happens because they associate the role played by theelement with the probability of the element containing a design problem p10 .asanexample thet2developerswereanalyzing authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden l. sousa et al.
thesymptomsofanelement.duringtheanalysis theynoticedthat the element was playing the servicerole in the system.
at this point the developers included other serviceclasses in the analysis.
when they focused the analysis on all the classes that play a service role this change of focus led them to identify a design problem.
they mentioned that all the service classes in the sys tems are affected by the scattered concern design problem .
curiously these developers had already analyzed other service classesbefore withoutidentifyinganydesignproblem.inthatcase thet2developerswerenotapplyingtheepidemicanalysis thus theydidnot takeintoaccounttheelementrole toselectelements with similar set of symptoms.
developers are more likely to accept that elements playing an important role have a design problem.however we found cases in which subjective factors influenced their decision as discussed next.
propositions concerning the developer inthissection weprovidesomeadditionalpropositionsconcerning thedeveloper observedthroughthethink aloudmethod with the support of video and audio recordings.
.
confidence in the presence of a design problem the confirmation or rejection of a design problem in a group of elements is mainly influenced by the developers confidence c14 whichisthedegreetowhichtheyareconvincedaboutthepresence ofadesignproblem.themostconfidentthedeveloperis thegreater the likelihood of confirming a design problem.
attributesthatincreasedevelopers confidence.
theattributes that influence a design problem diagnosis also affect the developers confidence p11 .according toour study the attributesthat influencethedevelopers confidencethemostare accuracy density elementrole anddiversity.itisnotasurprisethatthemore accurate p12 and denser p13 the developer believes that the symptomis the moreconfidenthewillbein thepresenceofadesign problem.
nevertheless the element role plays an even greater influence on the developers confidence p14 .
developers divergenceregardingelementrole.
atfirstglance when most developers analyze an element that plays an im portant role in the system they tend to assume that the elementcontains a design problem.
examining further we observed two behaviors.whendevelopersanalyzedelementroletogetherwith otherattributes theytendedtoconfirmthecorrespondingdesign problem.
conversely whey they onlyconsidered the elementrole ignoringotherattributes theytendedtorejectthedesignproblem arguing it is acceptable to have design problem symptoms in elements that play an important role in the system.
these two behaviors happened with t2 and t4 respectively.
t2 developersconfirmedthedesignproblemintheelementbecause among other attributes the element played an important role in the system.
onthe other hand t4 developers said that due to the elementrole itisacceptablethattheelementcontainsthedesign problemssymptoms.accordingtothem iftheelementwerenotan importantclassforthesystem itwouldnotbeacceptabletohave a design problem or its symptoms in the class.pondering about the number of symptoms.
when a developer analyzes individual symptoms the number of symptoms with whichheagreesordisagreesinfluenceshisconfidenceinthedesign problem identification.
when analyzing each symptom the developerdecides whetheritindicates adesignproblem.in theend he counts the number of symptoms he judged as indicating a problem and the number of symptoms he judged as irrelevant.
if the former isgreaterthanthelatter thenheconfirmsthattheelementhasa designproblem.t3developersusedthisstrategytoincreasetheir confidence in the presence of a design problem in some elements.
.
conscientiousness conscientiousness c15 is a personality trait related to being careful responsible and persevering .
the more conscientious the developeris thegreaterthelikelihoodofidentifyingadesignproblem.
likewise when developers diagnose more design problems theybecomemoreconscientious.astheseattributeshaveacircular effect between them p15 it would be interesting to find ways to increase the developers conscientiousness.
diversityasanattributetoincreaseconscientiousness.
the diversity of symptoms is the attribute that most influences the conscientiousness of the developers p16 .
the higher the diversity of a syndrome the greater the chance the developer will identify a design problem in the element.
that happens because the diversity not only increases the confidence of the developers but it can also help the developers to decide whether the element containsa design problem.
in fact the diversity had a great influence on developersofthet7 t9 t10andt11teams becausetheytendedto assume diversity as a strong indicator of a design problem section .
.
therefore this finding is another evidence the studies with an assumptionthatdevelopersrelyononlyonetypeofsymptommay be misaligned with the developers practice .
even worse these studies are not taking advantage of the impact that the diversity attribute has on developers conscientiousness.
side effect of only considering the diversity attribute.
we noticed a side effect when developers too much rely on the importance of the diversity of a syndrome without further analyzing other attributes.
for instance after the t4 developers had analyzed asetofelementswithdiversesymptoms theylaterjudgedanelement as free of a design problem because it did not have the same diversityofsymptomsastheonesanalyzedpreviously.although this behavior was not very frequent it brings out another issue thatstudiesthatrelyononlyonetypeofsymptomdonottakeinto account.
.
incapability of providing an alternative justifying the presence of a design problem with design decisions.sometimes the developers are convinced that an element contains several symptoms that indicate a design problem even thoughtheydonotconfirmthepresenceofadesignproblem.althoughsuchbehaviorseemscontradictory theyarguethattheydo notconsidertheelementascontainingadesignproblembecause they see no other way to implement the element.
in these cases developersusetheconceptofdesigndecisiontojustifywhytheydonotconsiderthepresenceofadesignproblem p17 .consequently authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
identifying design problems in the source code icse may june gothenburg sweden the design decision that developers use as an argument influences their confidence in the presence of a design problem p18 .
developers justified the presence of a design problem mostly whentheycould notprovide analternative implementation.
this behavior is aligned with the theory discussed by march and simon whotheorizedthatdeveloperstypicallydonotchoose an optimal solution because such solution would require that all alternativestoaproblembeperceived.however theyarguethatinpracticeitisunlikelyfordeveloperstoknowallalternatives.hence theknownalternativesrepresenttheboundariesthatdevelopers facebeforemakingadecision.therefore developersstopsearching for further solutions when one that satisfies their needs is found.
justifyingthepresenceofadesignproblemwiththelack ofanalternativeimplementation.
marchandsimon s theoryalsomanifestsinthecontextofidentifyingdesignproblems as weobservedinourstudy.thedevelopersusedthelimitedknownalternativestojustifywhyaspecificimplementationdoesnotpresent adesignproblem.inthesecases theymentionedthattheycould not find any alternative solution optimal or not to implement the element.
according to them the element should not be considered as an element involved in a design problem.
in other words the knownalternativesarenotonlyboundariesthatdevelopersface butalsousedtojustifythepresenceorabsenceofadesignproblem.
towards improving design problem diagnosis researcherscanusethediscussionspresentedinthispaperasan underlyingmechanismtodrivesolutionsforsupportingdevelopers during designproblem identification.for instance inthis section we present some of these solutions that emerged from the theory.
.
supporting multiple symptoms providing multiple design problem symptoms.
most studies rely on a single predefined dominant type of symptom which may be limiting how developers identify design problemsinpractice.thus thereisaneedforsolutionsthatprovidedeveloperswithmultiplesymptoms andthenhelpthemtonavigate amongthesesymptomsandtocombinethem.infact wenoticed thatdeveloperswouldbenefitfrommechanismstoautomatically provide symptoms for combination.
for instance a solution in this sense is to provide other symptoms that are complementary to the one being analyzed.
such tool for instance could have helped the t2developerstoidentifyadesignproblem section4.
.
.theyused the dispersed coupling to choose the coupling attribute to analyze next.
later they chose the readability non functional requirement to complement their analysis.
in this example a tool could provide thecouplingattributeandthereadabilityrequirementassoonasthe developers indicate the dispersed coupling code smell as helpful.
filtering relevant symptoms.
developers consider the diversity ofsymptoms.however ifan elementmanifests severalsymptoms the developers could have a hard time to choose the most helpfulone.forinstance d16 t8team mentionedthedifficulty that he had to choose helpful symptoms d16 since i was not familiar with each type of symptom and design problem itwashardformetomatchthem.evenwiththeprovidedsymptoms icouldnotfigureoutwhichonewasactuallyrelatedtothedesignproblems.
to address this issue an automatic tool could help them to filter thosesymptomsthataremostlikelytoindicateadesignproblem.in the same way that a tool could propose complementary symptoms to the one being analyzed it could hide symptoms that are least similartotheoneunderanalysis.suchtoolcouldmaketheanalysis of multiple symptoms less cumbersome.
visualizationsupport.
anothersolutiontohelpdevelopersto deal with multiple symptoms is to provide visualization mechanisms.forinstance scatteredconcern problemoccurswhen multiple code elements implement a functionality that should have been implemented by only a few elements.
in this case developers have to analyze multiple elements that may have the scattered functionality.theseelementsarelikelytosharesomesymptoms.
perhaps if developers could visualize how the multiple symptoms interactinthesystem theycouldidentifytheseelementsmoreeasily.infact d14 t7team mentionedinthefollow upquestionnaire that a visualization mechanism would help him to identify some design problems d14 for some design problems e.g.
cyclic dependency scattered concern it s hard to find by looking at the source code manually which is too low level when we don t have a higher level architecture view.
.
prioritization of similar elements prioritizing epidemic elements.
developers tend to prioritize elements that play an important role in the system.
in addition if these elements have diverse symptoms then they should bethe first elements to be analyzed by the developers.
researchers could therefore use the attributes presented here to build tools that prioritizeelements.forinstance developersofthet2teamused theelementroleduringtheepidemicanalysis section4.
.
.intwo casestheyreliedontheelementroletoselectepidemicelements.
however inonecasetheycouldidentifyadesignproblem whereasintheothercase theycouldnot.thedifferencebetweenthesetwo cases wasrelated tothe number ofepidemic elementsplaying the same role.
while in the first case all the epidemic elements played theservicerole in the second case only few epidemic elements playedthe controller role.thefollowingquotationsillustratethis.
d4 i think that all the service classes will have the design problem d3 indeed the service classes d4 iguessthat they aresimilartoeachother.infact ibelievethatthe next service class will be similar .
additional support for the developer based on the propositions concerning the developers section we suggest providing the following additional support.
providinganalternativeimplementation.
itisoftendifficult for developers to provide an alternative implementation for anelement that may contain a design problem section .
.
in thiscontext a tool could indicate an alternative implementation that couldremovethedesignproblemsymptoms.hence adeveloper would not be able to use the lack of an alternative implementation as justification for not confirming a design problem.
personalizing the detection of symptoms.
the accuracy of the symptom is also influenced by the developers subjectivity.
developersmentionedthatacertaintypeofsymptomwasaccurate in indicating a design problem in some elements but not in others.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden l. sousa et al.
thus mostdevelopersmentionedthattheyneedtoolsthatallow them to personalize the detection ofsymptoms according to their software systems.
allowing developers to adjust thresholds and detection rules would minimize how the low accuracy influences theirconfidenceinthepresenceofadesignproblem.d11 t6team mentionedinthefollow upquestionnairetheneedforsuchfeature d11 thesymptomssuggestapossibledesignproblem.however noneof them should be rigid rules.
often it makes sense to have long methods message chains or many parameters in the method .
in some cases we could replace a long string of conditional statements but it would make it difficulttounderstand.amethodwasconsideredlong butitsreadability was very clear which did not justify a refactoring.
related work alongthepaper wepresentedsomestudiesabouttheidentification of design problems.
we have not found studies that present the diagnosisofdesignproblemsasatheory.instead wefoundstudies thatfocusonpresentingthephenomenonratherthanexplaining it .
for instance several researchers proposed techniques to identify design problems .
althoughthesestudieshadencouragingresults theydidnotconduct experiments with software developers or they have not taken intoaccounttheattributesthataffectdesignproblemidentification.
asfarasweareconcerned sousa etal.istheonlystudythathas proposed to explain how developers identify design problems .
however theyfellshortofframingtheirresultsasatheory.similar totheotherstudies theyonlypresentthephenomenon ratherthan explain it.
for instance the authors only provide the symptoms thatdeveloperstakeintoaccount buttheycouldneitherexplain how developers find these symptoms nor describe the attributes that developers take into account during the diagnosis.
conversely we highlight that our goal was not to provide the most preeminent symptomsnorthesymptomsthatleadtotheidentificationofdesign problems.
instead we focused on revealing the attributes that contribute to diagnosing a design problem the most which allows us to explainhow developersidentify designproblems inpractice.
threats to validity this section presents and discusses threats to validity.
construct validity.
we provided some symptoms for developers to use during design problems diagnosis.
these data could have biased the experiments.
however we provided these dataconsidering the literature and considering the companies managers.theymentionedthatsomeofthedevelopersnotonlywerefamiliarwithsomesymptomsbutalsohadtheculture of using them.
furthermore our goal was to explain the diagnosis of design problems and not delve too deeply into the symptoms.
the time allocated for the tasks could be considered another threat to validity.
however we conducted a pilot study to adjust the time required to perform the tasks and thus reduce the threat.
internalvalidity.
thedifferencebetweenthedevelopers backgroundknowledgecanbeathreat.however inthecontextofapply ingananalysisthroughgt wesawthisdiversityasanopportunity to strengthen the evidence supporting the depicted propositions.
moreover we provided training to mitigate this threat.
external validity.
the number of subject represents a threat.
all of them worked for companies located in brazil.
however it isimportanttonotethatthisisamulti companystudyinvolvingfivedifferentworkingenvironmentsandeightdifferentsystems.finally the presented study covered only systems developed in java.
using otherprogramminglanguageswithdifferentcorecharacteristics may influence developers in identifying design problems.
conclusion validity.
theparticipationof theauthorwhofollowedthegtproceduresposesanotherthreat.hisbeliefsmight havecausedsomedistortionswheninterpretingthedata.tomitigate this threat the gt coding activities were shared with other researchers.
moreover the identification of the constructs and the depicting of propositions were performed separately by the first authorand otherresearchers.in fact threeauthors conductedthe groundedtheoryproceduresindependently thenwemergedtheir results to shape the theory.
thus the contents were compared and discussed by the researchers until reaching a consensus.
concluding remarks adesignproblemistheresultofoneormoreinappropriatedecisions that negatively impact non functional requirements.
despite their harmfulness the identification of each design problem is not trivial.
one of the main reasons is that design documentation is oftenunavailableoroutdated.thus developersoftenhavetorely on the source code to identify design problems which may quickly turnintoacomplextask.althoughresearchershaveinvestigated techniques to help developers there is little knowledge on how developersactuallyproceedtoidentifydesignproblemsinpractice.
in order to address this limitation we conducted a multi trial industrial experiment with developers from different companies where they had to identify design problems in their systems.
as aresult wederivedatheorydescribingtheactivitiesandfactors that influence on how developers identify design problems which canservetofurtherunderstandtheidentificationofdesignproblems.
for example the theory reveals that developers rely on a heterogeneoussetofsymptoms andtheytendtocombinesymptoms.thetheoryalsopresentsthecharacteristicsofsymptomsthatdevelopersconsiderhelpful.then wediscussedhowtheknowledge revealed by our theory can be used to advance the state of art.
futurestepsinthisworkinvolvetheexecutionofnewempiricalstudiestoassessinmoredepththetheory spropositionsand explanations.for instance we intendto addresssome findingsdescribedatsection6andverifywhethertheyhavepositiveeffects on design problem identification.
the goal of these studies is touse the theory to implement a novel family of solutions that are more effective than the current ones in helping developers identify design problems.
acknowledgment the authors would like to thank the reviewers for their valuable comments and suggestions.
this work is funded by capes procad grant capes procad grant cnpq grants 3and477943 faperj e26102.
faperj grant and and fapeal grant institucional links v rus zika and ppgs .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
identifying design problems in the source code icse may june gothenburg sweden