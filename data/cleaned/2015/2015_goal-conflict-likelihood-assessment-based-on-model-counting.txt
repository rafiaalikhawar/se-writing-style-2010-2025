goal conflict likelihood assessment based on model counting renzo degiovanni universidad nacional de r o cuarto argentina rdegiovanni dc.exa.unrc.edu.arpablo castro universidad nacional de r o cuarto and conicet argentina pcastro dc.exa.unrc.edu.armarcelo arroyo universidad nacional de r o cuarto argentina marcelo.arroyo dc.exa.unrc.edu.ar marcelo ruiz universidad nacional de r o cuarto argentina mruiz exa.unrc.edu.arnazareno aguirre universidad nacional de r o cuarto and conicet argentina naguirre dc.exa.unrc.edu.armarcelo frias instituto tecnol gico de buenos aires and conicet argentina mfrias itba.edu.ar abstract in goal oriented requirements engineering approaches conflict analysishasbeenproposedasanabstractionforriskanalysis.intuitively givenasetofexpectedgoalstobeachievedbythesystem to be a conflict represents a subtle situation that makes goals diverge i.e.
notbesatisfiableasawhole.conflictanalysisistypicallydrivenby the identify assess control cycle aimed at identifying assessing and resolving conflicts that may obstruct the satisfaction of the expectedgoals.inparticular theassessmentstepisconcernedwith evaluating how likely the identified conflicts are and how likely and severe are their consequences.
sofar existingassessmentapproachesrestricttheiranalysisto obstacles conflictsthatpreventthesatisfactionofasinglegoal and assume that certain probabilistic information on the domain is provided thatneedstobepreviouslyelicitedfromexperiencedusers statistical data or simulations.
in this paper we present a novel automated approach to assess how likely a conflict is that applies to generalconflicts notonlyobstacles withoutrequiringprobabilistic information on the domain.
intuitively given the ltl formulation ofthedomainandofasetofgoalstobeachieved wecomputegoal conflicts and exploit string model counting techniques to estimate thelikelihoodoftheoccurrenceofthecorrespondingconflicting situations and the severity in which these affect the satisfaction of the goals.
this information can then be used to prioritize conflicts to be resolved and suggest which goals to drive attention to for refinements.
ccs concepts software and its engineering requirements analysis risk management theory of computation modal and temporal logics regular languages permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation onthe firstpage.copyrights forcomponentsof thisworkowned byothersthan the author s mustbehonored.abstractingwithcreditispermitted.tocopyotherwise or republish topostonserversortoredistributetolists requirespriorspecificpermission and or a fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden copyright held by the owner author s .
publication rights licensed to association for computing machinery.
acm isbn ... .
goal conflicts risk likelihood assessment model counting acm reference format renzo degiovanni pablocastro marcelo arroyo marcelo ruiz nazareno aguirre and marcelo frias.
.
goal conflict likelihood assessment based on model counting.
in proceedings of icse 40th international conference on software engineering gothenburg sweden may june icse pages.
introduction as many errors in software development are due to an incorrect understanding of what the system should do putting sufficient emphasisinrequirementsanalysisandspecificationisknowntobe a major task toward successful software development projects .
there exist many reasons for requirements descriptions to be inadequate including requirements being too ideal e.g.
assumingthat some aspect of the environment will behave unrealistically benevolentlywiththesystem requirementsbeingtooabstractand thus leaving room for conflicting situations whose treatment goes unspecified missingsomerequirementsaltogetherorleavingthem implicit and even having inconsistent requirements that cannot be satisfied as a whole .
the requirements analysis phase deals precisely with these issues and attempts to identify such problems as early as possible so that appropriate actions can be taken to improve the software requirements prior to development.
aparticularfamilyofapproachestowardrequirementsanalysis and specification are the so called goal oriented requirements methodologies .
in such approaches requirements are organizedaround goals prescriptivestatementsthatspecifywhatthe systemtobedevelopedshoulddo.thesegoalsaresubjecttoanumber of activities that are part of the requirements process they can be analyzed decomposed refined assigned to agents for their realization andassessedinanumberofdifferentways including assessments that evaluate their feasibility and potential threats to their satisfaction.
indeed risk analysis deals precisely with this last issue invariousways including goal conflictanalysis .goalconflictanalysisaimsatidentifying conflicts i.e.
conditionsthat whenpresent makeasetofotherwiseconsistentgoalsinconsistent as well as assessing and controlling such conflicts.
once a conflict is identified the assessment step is concerned with evaluating how likelytheidentifiedconflictis andhowsevereareitsconsequences.
so far existing assessment approaches restrict their acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden r. degiovanni p. castro m. arroyo m. ruiz n. aguirre and m. frias analysestosimplerkindofconflicts called obstacles andassume that certain probabilistic information on the domain is provided.
while goal conflict assessment can be naturally thought of as a quantitative analysisthatusesprobabilitiesofconflictingsituations to analyze their impact in the overall requirements description manytimesoneisunabletocomeupwiththerequiredprobabilities for such analyses.
the reason is that the required probabilistic information needs to be obtained prior to the goal conflict analysis from some trusted source e.g.
available statistical data simulations or stakeholders whose expertise allows them to estimate theseprobabilities.inmanydevelopmentprojects especiallynew developments suchinformation maybeunavailable inparticular in early phases of requirements analysis.
thus in these situations importantrequirementsactivitiessuchasconflictprioritizationand goalrefinement thatbenefitfromgoal conflictanalysis needtobe postponed or performed without such information.
inthispaperweproposeanautomatedtechniqueforgoal conflict analysis.thistechniqueisnovelintworespects namely itdoesnot demandprobabilisticinformation anditappliestogeneralconflicts as opposed to previous works that are restricted to goal obstacles .
theapproachisbasedonautomaticallycomputinggoalconflicts capturing these as formulas and using model counting to estimate theircorrespondinglikelihood.moreprecisely givenanltlformulationofthedomainandofasetofgoalstobeachieved wecomputegoalconflicts andexploitstringmodelcountingtechniques toestimatethelikelihoodoftheoccurrenceofthecorresponding conflicting situations and the severity in which these affect the satisfaction of the goals.
basically from an ltl formula we can generate a regular expression e representing the prefixes accepted by .w ec a n then use a string model counter to compute the number of strings prefixes of length kthat are recognized by the regular expression e as an estimation of the number of models that satisfy .
this toolcancomputethenumberof finite traces foragivenbound thatsatisfythedomaindescription andtocalculate howmanyof thesecorrespondtoaparticularconflictingsituation asawayof estimating the likelihood of the conflict.
this information can then be used to prioritize conflicts to be resolved and suggest which goalstodriveattentiontoforrefinements.wedevelopanumberof casestudies withrequirementsmodelstakenfromtheliterature forwhichweperformautomatedgoalconflictdetection andmodel counting for their assessment.
the remainder of the paper is organized as follows.
section introduces preliminary concepts necessary in subsequent sections.
section3presentsanillustratingexample thatmotivatesourapproach.
section describes the approach in detail.
in section we evaluateourtechnique byanalyzinghowmodelcountingcanbe usedtoestimatethelikelihoodofconflictingsituations inanumber ofcasestudies.finally wediscussrelatedworkinsection6 and present our conclusions in section .
background .
goal oriented modelling and conflict analysis among the various approaches to requirements engineering goalorientedmethodologies andinparticulartheonepresentedin proposeorganizingthespecificationofhowasystemshouldbehave aroundasetof goals.thesegoalsare prescriptive statementsthatthe system to be developed is expected to achieve in cooperation with otheragents e.g.
devices users etc besides the software itself within a given domain.
the domain is captured through domain properties descriptive statements about the problem world such as e.g.
natural laws relevant to the system.
a goal model indicates through refinements how higher level goals can be achieved in termsofsimplerones eventuallysimpleenoughsothattheycan be assigned to single agents for their fulfillment.
there exist many reasons for requirements descriptions to be inadequate including requirements being too ideal e.g.
assuming that some aspect of the environment will behave unrealisticallybenevolently with the system requirements being too abstract andthusleavingroomforconflictingsituationswhosetreatmentis underspecified missing some requirements altogether or leaving them implicit and even having inconsistent requirements that cannot be satisfied as a whole.
the process leading to the right requirements is not straightforward.conflict analysis helps in improving requirements specificationsthroughthreemainsteps i identifyasmanyconflictsaspossibleandrelatethemto setsof goalsinthegoalmodel ii assess how likely the identified conflicts are and how likely and severeare their consequences and iii resolve thoseconflicts whose likelihood deems them critical by providing appropriate countermeasures and consequently transforming the goal model.
conflicts in goal models represent conditions whose occurrence resultinthelossofsatisfactionofthegoals i.e.
thatmakethegoals diverge.formally aset g1 ... gnofgoalsissaidtobe divergent with respect to a set domof domain properties iff there exists a boundarycondition bcsuchthatthefollowingconditionshold dom bc logicalandtext i ngi false logical inconsistency dom bc logicalandtext j nequaligj negationslash false for each i n minimality bc nequal g1 ... gn non triviality intuitively the above conditions indicate that the boundary conditionisconsistentwithdomainandcapturesaparticularcombinationofcircumstancesthatmakesthegoalsconflicting.thatis whentheboundarycondition bcholds thenthegoalscannotbe simultaneouslysatisfiedin domunderanycircumstances.boundary conditions represent a very general form of conflict that in particular subsume obstacles a particular instance of conflicts in which gonly contains one single goal.
there are relevant approaches that can automatically identify boundaryconditionsforconflictinggoalswritteninlinear time temporal logic ltl .
the pattern based approach put forward in supports a limited set of patterns and only produces predetermined formulations of boundary conditions.
the approachintroduced in automatically produces boundary conditions throughtheprocessingofanltltableauxforthegoalsanddomain properties.wewillusethelattertoidentifyboundaryconditions whose likelihood will be assessed through model counting.
.
linear time temporal logic linear timetemporallogic ltl isalogicalformalismwidely employedtoformallystatepropertiesofreactivesystems.thislogic authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
goal conflict likelihood assessment based on model counting icse may june gothenburg sweden is used as the specification formalism in various tools for formal analysis including model checkers trace checkers and theorem provers among others.
ltl assumes that time is linear i.e.
each instant is succeeded by a single future instant.
the syntax of ltl is formally defined as follows.
given a set apof propositional variables ltl formulas are inductively defined using the standard logical connectives and temporal operators circlecopyrtandu by the following rules i every p apis an ltl formula and ii iff1andf2are ltl formulas then so are f1 f1 f2 f1 f2 circlecopyrtf1andf1uf2.
we consider the usual definition for the operators always and eventually in terms of circlecopyrt uand logical connectives .
.
ltl model counting ltlformulasareinterpretedoverinfinitetracesofpropositional valuations.
these traces are typically finitely represented through finite statetransitionsystems i.e.
theycorrespondto infinite words overagivenfinite statetransitionsystem.thus problemsregardingltlareusuallyexpressedinrelationtothesefinite statetransitionsystems.aknownexampleismodelchecking whichisdefined as the problem of deciding given a transition system tand an ltl formula whether all executions of tsatisfy .
similarly ltl satisfiability can be defined as the problem of deciding given an ltlformula ifthereexistsafinite statetransitionsystem twith at least one execution that satisfies .
themodel counting problem forltlisthentheproblemof givenanltlformula counting howmanytransitionsystemssatisfy .itisnotdifficulttoseethat if anltlformula hasa model then ithas an infinitenumber of models e.g.
one can unfold a satisfying transition system tany finitenumberoftimes obtainingagainamodelof .then anltl formulacanhaveeitheraninfinitenumberofmodels whenitis satisfiable or no model at all when it is unsatisfiable .
in order to obtain a more useful value the ltl model counting problemisusuallyrestrictedto boundedmodels.thatis givenan ltlformula andabound k themodelcountingproblemconsists of calculating how many models of at most kstates exist.
based on knownresultsfromtheareaof boundedmodelchecking onecan typicallyrestricttheanalysistocertainkindofcanonicalmodels.
in forinstance twodifferentkindsofboundedmodelsforltl areconsidered namely k wordmodelsand k treemodels.wewill concentrate in k word models.
a word model can be represented by a finite sequence of states calledthe baseoftheword suchthatthelaststatehasalooptosome previousstate.thesearecalled lassotraces andfigure1shows theirgeneralshape.formally givenaset apofatomicpropositions a word model is a sequence of states s0 ... si si ... sk such that s0 ... sk 2ap in such a word model there is a loop from state kto statei.
s0 si sk figure shape of word models.
the straightforward approach one can use to count the number of word models is through sat based bounded model checking .
for a given bound k ltl formulas can be encoded aspropositionalformulas .theencodingissuchthat eachsatisfying valuation of the encoding corresponds to a lasso trace of k states of the ltl formula.
then a model counter for propositional logic e.g.
relsat cachet and sharpsat canbeused for indirect ltl bounded model counting.
an alternative approach presented in introduces an automata based algorithm for counting word models of safetyltl formulas.
it proceeds in twosteps first itconstructsawordautomatonthatacceptsafinitesequenceofsize kifitisabaseforawordmodelof andsecond it uses the word automaton to calculate how many loops are allowed in order to count the number of word models of .
as explainedin both of theabove approachesbecome impracticalforrelativelysmallvaluesof k.ononehand thereduction topropositionalcountingleadsustopropositionalconstraintswith thousandsofvariablesthatcannotbeefficientlyhandledbyavailable model counters.
in case of the algorithm in it is linear in k but double exponential on the size of the ltl formula and only applies to safety formulas.
.
string model counting inorder toperformasignificant assessmentonhowlikely agoalconflictis weneedthemodelcountinganalysistoscaletorelativelylarge values of k and thus current ltl model counting technology quicklyreachesitslimits.
however ifweconsidercounting word basesinsteadofwordmodels theproblemcanbeveryefficiently solvedbyusingstringmodelcounting.theproblemofstringmodel counting consists of computing the number of strings of a given lengthk that satisfy a set of string constraints.
for instance given aregularexpression e a b wemayneedtoknowhowmany stringsof say length2 satisfytheconstraint e inthiscase itis4 aa ab baandbb .
in this work we use the recently introduced string modelcounter abc .givenaset cofstringconstraints abcfirst constructs anautomaton thataccepts allthe stringssatisfying the constraintsin c andthenproducesa generatingfunction thattakes alengthbound kasinputandreturnsthetotalnumberofstringsof lengthk thatareacceptedbytheautomaton.wedenoteby c k theresultofevaluatingin kthegeneratingfunctionproducedfrom the set of string constraints c.abcchecks the satisfiability of c only once when producing the generating function after that we can evaluate the generating function on many different values ofk without having to check for satisfiability again.
this is the main feature of abcthat allows us to scale to considerably large valuesof k e.g.
inseconds.
abcsupportsawidesetofstring constraints but we use only regular expressions.
.
word base counting figure shows the general shape of a word model.
in particular the sequence of states s0 ... skis thebaseof the word.
notice that the word base can be thought of as a finite string of length kthat can be accepted by a regular expression.
then if we can encode an ltl formula into a set c of string constraints we can use abcto compute c k the number of word bases of lengthksatisfying .
for instance for the ltl formula p q ourapproachproducestheregularexpression a b c where characters a bandccharacterisethe3differentpossiblewaysof makingp qtrue.thus for k a b c meaningthat authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden r. degiovanni p. castro m. arroyo m. ruiz n. aguirre and m. frias there are word bases that can be obtained from word models of at most states.
notice that each string we count may be thebase of different word models.
for instance we count the wordbase aaaaonly once but there are different word models with the same base but with differentloops namely aaaa a aaa aa aa andaaa a .
moreprecisely givenanltlformula wegeneratetheregular expression e byperformingthefollowingencodings wegenerate the b chi automaton b that recognises we generate a finite state automaton a fromb and we generate the regular expression e froma .
intuitively the b chi automaton b recognises all the word models for formula .
recall that b chi automata onlyrecognise infinitewords sincetheir acceptingconditionrequiresthatsomeacceptingstatehastobevisitedinfinitely often in the word model.
however when we generate the finiteautomaton a fromb the strings recognised by a are finite its accepting condition requires only reaching some final state .
because of that the words recognised by a are the bases of some word model.
finally we can convert a to a regular expression e thatrecognises exactlythe samelanguage i.e.
the wordbases for the ltl formula .
along the process we apply a minimization algorithm to the b chi automaton to produce a regular expression that is more compactandeasiertoanalyse.alltheconversionsaredonewith thetools lamaconv and jflap .ourexperimentalevaluation shows that the translations can be performed very efficiently.
motivating example letusconsiderasimplifiedversionoftheminepumpcontroller mpc toillustrateboththeproblemaddressedandourproposed approach.
the mpc controls a pump in a mine.
it communicates with a sensor that detects when the water level is high and a sensor to detect the presence of methane in the environment.
the propositional variables hw mandpoare employed to represent the facts that the water level has reached a high threshold thatmethane is present in the environment and that the pump is on respectively.
for this problem setting the following assumption and goals have already been elicited assumption pumpeffect informaldef if the pump is on the level of water decreases in at most two time units.formaldef po hw goal noexplosion informaldef the pump should be off when methane is detected.
formaldef m circlecopyrt po goal noflooding informaldef the pump should be on when the water level is above the high threshold.formaldef hw circlecopyrt po the above assumption captures the presumed behaviour of the pumpactuatorinrelationtotheenvironment whenthepumpis on thenatmostin2timeunitsthewaterlevelshoulddecrease.the goals prescribe how the pump should work when there is methane presentintheenvironment andwhenthewaterlevelishigh respectively.noticethatwhilethesegoalscanbesimultaneouslysatisfied e.g.
whenthewaterlevelisneverhighormethaneisneverpresent intheenvironment theybecomelogicallyinconsistentwhen at thesametime thewaterlevelishighandmethaneispresent.such conflicting situations that as we mentioned are called boundary conditions aremanytimessubtleanddifficulttoidentify andatthe sametimetheirfindingisessentialfortherequirementsprocess.in thiscase thementionedboundaryconditionis bc1 hw m andisoneofthetwoboundaryconditionsautomaticallycomputed usingthetoolpresentedin .theotherboundaryconditionis lesslegible bc2 hw m po circlecopyrt hw po hw m po .
these boundary conditions capture differentconflicting situations that lead us to violating the goals.
to continue with the identify assess control approachforgoal conflictanalysis weshould nowattempttoassesshowlikelytheseconflictingsituationsare and in what degree they affect each of the goals.
this information is of course very useful for the engineer as it can be used for classifyingtheboundaryconditionsaccordingtotheircriticality and basedonwhichgoalsaremoreaffected maysuggestactionstothe engineer toward resolving the conflicts.
inanidealsituation wemayhavestatisticalinformationregarding the chances of sensing methane in the environment or how oftenthewaterlevelreachesthehighthreshold enablingustoper form someprobabilistic analysisas in even with uncertainties intheelicitedvalues .ourcurrentapproach ontheotherhand tries to help the engineer when such information is unavailable.
atypicalapproachwhennoprobabilisticinformationisavailable is assuming that all events are equally likely and performing a probabilistic analysis under such hypothesis.
for instance under such an assumption we can use a quantitative analysis such asprobabilistic model checking to analyze the likelihood of our identifiedboundaryconditions.thisapproachishowever ineffective both boundary conditions can be eventually reached with probability1 andthusareindistinguishable intermsofseverity by such technique.
as mentioned before our technique is based on using string model counting to assess the boundary conditions.
we can start by computing for some given bound k the number of word bases that satisfy our domain properties truefor this example and assumptions pumpeffect denotedby pumpeffect k .noticethat by pumpeffect k wedenotethenumberofstringsoflength kthat arerecognisedbytheregularexpressionobtainedfrom pumpeffect .
then wecancomputehowmanyofthesefinitetraceshaveastate where boundary condition bc1 and separately boundary conditionbc2 are reached i.e.
we compute pumpeffect bc1 k and pumpeffect bc2 k .
the quotient between the number of word bases of length kthat satisfy bc1 resp.bc2 and the number of all valid word bases i.e.
word bases that satisfy the domain propertiesandassumptions oflength k giveusanestimationof the likelihood of reaching the boundary condition bc1 resp.bc2 inksteps.
table summarizes for several values of k the number of word bases that satisfy the assumption and in addition each of the boundary conditions for our mine pump model.
thisfirststraightforwardanalysisalreadyallowsustoclassify the boundary conditions.
notice that as the evaluation shows the chancesof reaching bc1tendsto asthevalue of kisincreased despite of having good chances initially while the chances ofreaching bc2convergesto .
.so wecanclassify bc2asbeing authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden r. degiovanni p. castro m. arroyo m. ruiz n. aguirre and m. frias table loss of goal satisfaction for the mine pump controller in k bounded word bases.
k c k pumpeffect noexplosion k .17e .05e .09e .89e .16e pumpeffect noexplosion bc1 k .37e .82e .52e .32e .58e bc1 .
.
.
.
.
.
.
.
pumpeffect noexplosion bc2 k .73e .95e .76e .31e .12e bc2 .
.
.
.
.
.
.
.
.
.
pumpeffect noflooding k .37e .14e .25e .02e .
e704 pumpeffect noflooding bc1 k .92e .87e .19e .59e .25e bc1 .
.
.
.
.
.
.
pumpeffect noflooding bc2 k .55e .06e 23e .28e .49e bc2 .
.
.
.
.
.
.
.
.
.
.
goal conflictlikelihoodassessment.
thisphase concernedwith evaluatinghowlikelytheidentifiedconflictsareandhowsevere aretheirconsequences isthemainphaseofourapproach where modelcountingtakesplace.theinputforthisphasearetheltlformulation domofthedomain theset g1 ... gn ofgoals andthe set bc1 ... bcm of boundary conditions previously identified.
as explained in section given an ltl formula we can generate a regular expression e such that e is satisfiable iff there existsaword modelwhoseword baseisrecognisedby e .then we can feed this regular expression to a string model counter in ourcase abc tocomputethenumberofstringsthatsatisfy e .the obtainednumberofinstancesindirectlyrepresentsthenumberof wordbases thatarepartofsomewordmodelthatsatisfiestheltl formula .
we denote this last notion by e k or equivalently by k .recallthatwhenthestringconstraint e issatisfiable abcproduces a generating function that can be used for solving the counting problem for different values of k without the need ofrecheckingthesatisfiabilityof e .thisfeatureisofutmostimportance to scaling the analysis to sufficiently large values of k allowingustoperformameaningfulassessmentonhowlikelya boundary condition is.
recallthateveryboundarycondition bci bchasthecanonical shape3 i see above .
thus the canonical shape of the regular expression generated from bciis e3 i e ie ialph where alphrepresents any character from the alphabet of the regular expression.
intuitively the regular expression e3 irecognises strings that initially have a prefix in which idoes not hold e i thentheeventuality iisfulfilled e i andfromthatpointonany character is recognised.
given e3 i by removing the suffix alph wecanobtainaregularexpression e prime3 ithatrecognisestheword bases of the ltl formula 3 i e prime 3 i e ie i noticethat e prime3 iforcestheboundarycondition itoholdexactlyin the last state of any string recognised by such a regular expression.
thus foreachboundarycondition bci bc westartbygeneratingtheregularexpressionthatcharacterisesthedomainproperties dom andtheregularexpression e prime3 iaswejustexplained.then weperformthestringmodel countingprocessforeachoneofthe following string constraints a dom k b dom e prime3 i k intuitively the model counting problem a gives us the number ofallpossiblewordbases oflength k thatarepartofsomeword modelthatsatisfiesthedomainproperties dom.ontheotherhand the model counting problem b gives us how many of the word basescomputedin a reachtheboundarycondition bci forthe first time exactlyin thek th state.
the reason for counting in this way as opposed to directly counting the traces that reach the boundary condition bciinanystate has to do with avoiding to count several times what would be essentially the same violation.
forinstance assumeanalphabet p q oftwopropositionalletters the boundary condition being represented by p q and ak value of .
if p qholds in the first state then no matter what happenslateroninthetrace theywillallbeviolations aknown fact of safety properties as interpreted in and formalized in .then wewillbecounting16differentviolations 4different valuations for the second state times different violations for the thirdstate thatare inessence allthesameone.amoreprecise wayofcountingviolationsis aswepropose takingintoaccount the traces that reach the property of interest exactly in the k th state aswedo or even calculatingthesumofviolationsfrom1 uptok where ineachcase westipulatethatthepropertymustbe first reached exactly at the last state .
using the results of model counting as shown in a and b w e can compute the quotient b a that represents the likelihood of reaching forthefirsttime theboundarycondition bciinexactly ksteps.inordertoassesshowthisprobabilityismodifiedasthe trace length is increased we perform the above model counting iteratively for increasingly large values of k until some predefined maximumvalue nisreached orsomeotherpredefinedstopping criterion is reached e.g a timeout .
these computed likelihoods can be used to generate a progression of how the number of word basesreaching bcirelatetothenumberofwordbasessatisfying domainproperties.theseprogressionsgeneratedforeach bci bc should be analysed by the engineer to determine which boundary conditions are more likely and prioritize these for resolution.
the selection of the maximum value nshould be large enough to allow the model counting process to converge the likelihoodcomputation to some average value.
in our experimental evaluationweuse1000asthemaximumvaluefor k.iftheprogressions computedconvergetosomeconstantvalue thentheaverageofthe progressionscanbeusedasaquantifiablevaluetoclassifywhich boundary condition is more likely.
for instance in the mine pump controller the progressions for bc1converges to while the progressions of bc2converges to .
.
this indicates that bc2 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
goal conflict likelihood assessment based on model counting icse may june gothenburg sweden has more chances to be reached than bc1and the engineer should prioritise bc2 in the search for mechanisms that would allow him to reduce the chances of reaching bc2.
goal conflictseverityassessment.
whenaboundarycondition is reached it is not possible to satisfy simultaneously all the goals.
our abovequantitative assessment basedon model countingonly tells us how many violations of length kwe have over the total number of possible valid executions i.e.
executions where domain properties hold of length k. in order to assess the impact ofaboundaryconditiononaspecificgoal weneedtoperforma different analysis.
essentially we would like to evaluate to what extent a boundary condition contradicts a specific goal.
in order toanalyze this issue for each boundary condition bci bcand goal gj g we perform the following model counting tasks c dom gj k d dom gj e prime3 i k intuitively counting problem c counts the number of word bases of length kthat satisfy both the domain and goal gj.o nt h e otherhand modelcountingproblem d countshowmanyofthe wordbases that satisfy domandgjreach theboundary condition bciin thek th step for the first time.
then the quotient d c characterizes the likelihood of reaching the boundary condition bci exactlyin ksteps withoutviolatinggoal gj.intuitively the smaller this number the worse since having a very small value for d c wouldmeanthatwhentheboundarycondition bciis reached there are higher chances of violating goal gj i.e.
bcihas severe consequences on the satisfaction of goal gj .
again if we perform the above model counting tasks for increasingly larger values of k for each of the identified boundary conditions and every goal we can produce a progression to facilitate the analysis of howthe satisfaction of the goals is affected by theboundaryconditions.thisinformationcanhelptheengineer in focusing on those goals that result to be affected to a greater extent thus suggesting which goals should receive more attention for refinements.
evaluation in this section we evaluate our proposal on various demonstrat ing examples from the literature on formal requirements speci fications.
we compute goal conflicts for each of them following the approach presented in and then perform model counting experiments as described in the previous section.
all the experi ments were run on an intel core i5 processor .2ghz with8gb of ram running gnu linux ubuntu .
.
the scripts torun the experiments the specifications for all case studies and a description of how to reproduce the experiments can be found in .
.
case studies and conflict detection weevaluateourapproachonthefollowingdemonstratingexamples takenfrom theliterature the minepump controller the atm thelondonambulanceservice las therailroad crossingsystem thetcpnetworkprotocol andtelephone .
table3summarizesthesizeofeachspecification intermsofthe correspondingnumberofdomainpropertiesandgoals thenumber of computed boundary conditions and the time it took the toolfor the corresponding computation.
notice that only for three case studies namely mpc atm and tcp the tool produced more than one boundary condition.
table3 casestudies computationofboundaryconditions.
case study spec.
size bcstime sec.
mpc atm .
las .
rrcs .
tcp .
telephone .
.
goal conflict likelihood evaluation we already presented in table the model counting based analysis of conflicts for the mine pump controller.
table summarizes the results of the same assessment for the boundary conditions identifiedforeachoftheremainingcasestudies.thisinformationisalso graphicallydepicted asgraphsplottingthenumberofmodelsof boundaryconditionsinrelationtothemodelsofthecorresponding domain properties as the length trace is increased in figure .
noticethat normally onewouldexpect thatmodelsofdomain properties grow exponentially as the trace length is increased.
arelatively unlikely boundary condition may cover an important numberofmodelsforasmall k wheretheoverallnumberofmodels forthedomainpropertiesissmall butasthetracelengthincreases the ratio between models of the boundary condition and models of the domain properties should exponentially decrease.
let us focus for instance on the plot for the mpc case study.
noticethat theabove observation appliesto bc1 as tracelength isincreased theprobabilityofreaching bc1 i.e.
hw m decreasesexponentially.ontheotherhand theprobabilityofreaching bc2remainsmorestable andinfactquicklybecomesmorelikely thanbc1as trace length grows.
the engineer should prioritize the treatment of bc2overbc1for resolution.
a similar observation applies to the atm case study.
observing theatmboundaryconditionsplot wenoticethat althoughinitiallytheprobabilityofreaching bc1ismuchgreaterthanthatofreaching bc2andbc3 bothbc1andbc2showanexponentialdecreaseas tracelengthgrows infact bc2showsaverysmallprobabilityof occurring right from the beginning .
on the other hand notice how the probability of reaching bc3shows more stability than the others as trace length is increased.
again the engineer should prioritize dealing with bc3overbc1andbc2.
regarding the tcp case study notice that both probabilities remainstableastracelengthgrows but bc1ismorelikelythan bc2 whilethetracelengthisincreased.theengineershouldprioritize dealing with bc1overbc2.
for the other three case studies we have only one identified boundary condition so no prioritization is needed.
both rrcs and lasshowanexponentialdecreaseintheprobabilityofreachingthe corresponding boundary condition as the trace length is increased.
in the case of telephone on the other hand the probability shows more stability again calling for attention.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden r. degiovanni p. castro m. arroyo m. ruiz n. aguirre and m. frias table counting k bounded word bases for the boundary conditions for each case study.
case study k atm time dom k .20e .58e .87e .21e .07e 1s dom bc1 k .48e .12e .30e .47e .94e 1s bc1 .
.
.
.
.
.
.
dom bc2 k .48e .17e .22e .19e .68e 1s bc2 .
.
.
.
.
.
.
.
.
.
dom bc3 k .74e .23e .32e .39e .85e 1s bc3 .
.
.
.
.
.
.
.
.
.
.
tcp time dom k .15e .42e .39e .03e .23e 1s dom bc1 k .32e .35e .02e .63e .61e 1s bc1 .
.
.
.
.
.
.
.
.
.
.
.
dom bc2 k .88e .56e .34e .09e .07e 1s bc2 .
.
.
.
.
.
.
.
.
.
.
.
las time dom k .68e .43e .39e .18e .39e .29e .09e .26e .62e 1s dom bc1 k .93e .87e .13e .48e .33e .31e .21e .25e .43e 1s bc1 .
.
.
.
.
.
rrcs time dom k .23e .51e .76e .83e .08e .10e 1s dom bc1 k .10e .93e .85e .78e .48e .05e 1s bc1 .
.
.
.
.
.
.
.
telephone time dom k .07e .15e .42e .39e .03e .23e 1s dom bc1 k .03e .40e .69e .52e .54e .76e 1s bc1 .
.
.
.
.
.
.
.
.
.
.
.
!
.
.
.
?
?a ?a ?b ?b ?c ?c ?d ?d a b c d e f g h a ii jk l jmn o l jap p qr p qs p qt p qu p qv p qw p qxp r ps pt p upv p wp xpy pz p rpp a b rc cd cce cd cf cd cfe cd cg cd cge cd ch cd che cd ci cd cie cd cecf c gch ci ce cj ck cl cm cf cc no p oq rsto u vwx y uvf figure plotting boundary condition models in relation to domain models as trace length increases.
let us now turn our attention to how the identified boundary conditionsaffectthegoals.therelationshipbetweenthenumberof modelsofeachgoal andthenumberofthesemodelsthatreachthecorrespondingboundaryconditionisgraphicallyplottedinfigure4 due to space restrictions the table is available in the site .
let us first analyze the mpc case.
as it can be seen in the plots both bcsseriously affectsthe satisfactionof thegoals recallthat for the effect of boundary conditions on the satisfaction of the goals the smaller the number the worse .
in particular notice that boundarycondition bc2 themostlikelyconflict affectstoagreater extent the satisfaction of goal g1 compared to its effect on the satisfaction of g2.
so we would recommend the engineer that goal g2 g hw circlecopyrt po istheonethatshouldreceivemoreattention in relation to boundary condition bc1 hw m .
a common authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
goal conflict likelihood assessment based on model counting icse may june gothenburg sweden mechanismforrequirementsimprovement inthesesituations is goalrefinementbystrengthening.infact theidentifiedsituation leads to a well known action for this case study present in the literature namely solving the conflict by strengthening goal g2to get rid of the conflict.
a solution is based on replacing the original goal with g prime g hw m circlecopyrt po .
regarding the atm case study we previously indicated that bc3is more likely than the other boundary conditions.
in addition given the plots in figure we can notice that boundary condition bc3affects more the satisfaction of goal g1than the satisfaction of goalg2.
so then our approach would suggest the engineer to focus on g1 in relation to conflict bc3 for refinements a closer lookattheconflictingsituationshowsthatthisboundarycondition isenabledbya weakcharacterizationofthedomaininrelationto account unblocking that directly affects g1 .
withrespecttothetcpexample wepreviouslymentionedthat bc1ismorelikelythan bc2.theplotsinfigure4indicatethat bc1 affects more the satisfaction of goal g1 whilebc2strongly affects more the satisfaction of goal g2.
thus our approach would recommendtheengineertofocusongoal g1whenresolvingconflict bc1 and focus on goal g2when resolving conflict bc2.
now regardingthe rrcscase study noticethat bc1g2 is constantlyzero indicatingthat throughboundarycondition bc1 goal g1cannot be violated without violating g2at the same time.
thus concentrating in resolving the conflict between bc1andg2 i.e.
trying to avoid violating g2 directly implies that the chances of violating g1are decreased.
in the case of telephone both goals are equally affected by boundarycondition bc1.inthecaseoflas boundarycondition bc1affects to a greater extent goals g2andg3 but there is no a significant difference.
all the goals are affected in a similar way suggesting that these should be resolved as a whole.
regarding the scalability of our approach notice that the experimentsuse goalmodels forwhich conflictsare computedautomatically andthen use model counting onthe obtained boundary conditions.whilemodelcountingisefficient theexperimentsscale wellonformulabehavioursofupto1000stepsormore thecompleteapproachhasabottleneckintheconflictdetectionphase itis verycostly dueto itbeing basedonltl tableau .however if goals and conflicts are provided e.g.
computed previously manually identified then the model counting phase can be applied with improved scalability compared to the complete approach.
dealing withmorecomplexcasestudiesrequiresformalgoalmodelswith pre identifiedconflicts mostintheliteratureidentifyobstaclesthat affect only one goal deeming the analysis of conflict impact on different goals less interesting .
noticethat insteadofusingourapproach onemightthinkof using with a uniform probabilistic distribution to estimate conflictslikelihood.however thisisdifferenttoourapproach.a uniform distribution with would apply to all executions of the system but our approach calculates likelihood using partial executions.
e.g.
in a goal decomposition into two leaves imposing auniformprobabilityimpliesassigning50 chanceseachleaf overruling other possible executions.
in our approach we use partial executionstoanalyzeinwhichofthesewereachabc butother possiblepartialexecutionsbesidesthetwocasesarealsoconsidered.
see the site for further details.
related work detectinginconsistenciesinrequirementsspecificationsisavery challenging problem that has received significant attention .
inconsistency management i.e.
how to deal with inconsistencies in requirements has also been the focus of several studies in particularontheformalside e.g.
.muchworkhas beendoneonthequalitativeend e.g.
wherethegeneral focushasbeenonidentifyingcontradictorylow levelrequirements and computing the degree to which goals are satisfied or denied by them.
in general these approaches focus on the relation betweennon functionalandbehaviouralrequirements.ourapproach tacklesaproblemofafinergranularity.weproposetheuseofan approach for identifying inconsistencies that are captured via the generation of boundary conditions i.e.
declarative expressions that characterize different conflicting situations and introduce anovel approach to classify these according their likelihood and severityonthegoals.thisinformationcanthenbeusedtoguide the engineer when goal refinements are required.
inthecontextofgoal orientedrequirementsengineering most of the work contributing to risk analysis has been restrictedto obstacles aparticularkindofconflicts makingthem ineffectiveinsituationsthatarisewhenthegoalsthemselvesare conflicting.theworksin ontheotherhand focusongoalconflictsidentification butdonotprovideanymechanismtoassess the criticality of the computed conflicts.
in contrast to these works ourapproachprovidesamoregeneralsupporttoriskanalysis it buildsuponamechanismtocomputegeneralgoalsconflicts not only obstacles and puts forward a quantitative approach to assess how likely and severe the identified conflicts are.
a work particularly close to our approach is that presented in where a probabilistic framework to propagate obstacle probabilities into the obstacle goal model is proposed that enables onetocalculatethelossofsatisfactionoftheobstructedgoals.this approach assumes that certain probabilistic information on the domain is provided.
more precisely it assumes that the likelihood of the leaf obstacle is known having been previously elicited from some experience users statistical data or some other source.
as we mentioned earlier in the paper our approach tries to help in situationwheresuchinformationisunavailable andadoptsamodel countingmechanismtoassessthelikelihoodofagivenidentified conflict being reached and its impact on the goals.
our work applies to specifications formally captured as ltl formulas.onenaturalchoicewouldbetoresorttoanltlmodel counter as that presented in for the purposes of this paper.
whiletheworkin dealswiththekindofcanonicalltlmodels weareinterestedin namely wordmodels theapproachisonlyable todealwithsafetyproperties makingitunsuitableforourpurposes.
another alternative is to translate the ltl formula to a propositional formula given a bound k and then exploiting some propositionalmodelcounterto indirectly countthenumberofinstancesoftheoriginalltlformula.despitethefactthatthereexistvariousef ficientpropositionalmodelcounters e.g.
relsat cachet andsharpsat thereductiontopropositionalcountingleads us to constraints with thousands of variables that cannot be efficientlyhandled.forthesereasons inthisworkweusearecently presentedstringmodelcounter abc thathasbeendemonstrated authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden r. degiovanni p. castro m. arroyo m. ruiz n. aguirre and m. frias !
.
.
.
.
.
?
?
a a ?
b b ?
a b c ?
d e f g hi j k alm kalm a kalmb ka no pq no pr no s no ss no s t no sq no sr no u no us no u t no uqn pn sn un tn vn qn wn rn xn pn n yz zp p zs p a a b b c c a b c d e f g h a ij k l bm ja l bm jb l bn no np no q no qp nor nor pn qnr ns nt np nu nv nw nx n qnn yyz q r zq q zq r a figure the effect of boundary conditions on goal satisfaction.
tobeveryefficientwhenappliedtocomplexstringconstraints.the scalability of abcis related to the factthat it asks for satisfiability only once producinga generating function that canbe evaluated for big values of kvery efficiently.
model counting techniques have been recently used in novel waystoprovidequantitativeinformationrelatedtorelevantsoftware engineering problems.
for instance in a model counting algorithm is defined with the aim of counting the number of datastructuresthatsatisfyagiveninvariant generalizingmodelcounting techniques that are restricted to linear constraints and enablingapplicationsinprobabilisticsoftwareanalysis.in a modelcounterforlinearconstraintsisusedinthecontextofmutation testing to determine how difficult it is to kill a particularmutant.
we consider that our approach also presents an original application of model counting techniques in our case to aid in the construction of requirements specifications.
conclusion gettingacorrectandsufficientlycompleteunderstandingofwhata software system to be developed should do is a crucial step toward a successful development project and the subject of challenging research in software engineering.
among the many problems that arise while producing a software requirements specification identifyinganddealingwithinconsistenciesinrequirements asearlyaspossible hasamajorsignificance bothfromaeconomicalperspective helpingtoavoidcostlysoftwarereworks andofcourse in terms of its impact in software quality.
in this paper we havepresented an approach that builds upon a technique for identifying subtle conflicting situations in requirements specifications the so called goal conflicts and proposes the use of modern model counting techniques to assess the criticality of these conflicts and the severity of their impact in system goals satisfaction.
while re lated techniques deal with this issue they require the provision of probabilistic information regarding the likelihood of some system events a knowledge that must be gathered from statistical data stakeholders experience or system simulations.
our approach on the other hand is to the best of our knowledge the only one that is abletoquantitativelyassessgoalconflictsandtheirimpactwhen such information is unavailable.
indeed our approach does not requireaprobabilisticmodeloftheenvironment instead itcomputes probabilities by counting how many models satisfy a conflicting situation among the models that satisfy the requirements assumptions and similar kinds of calculations.
we showed through the analysisofvariouscasestudies thatthisinformationcanbevery useful for the engineer in tasks such as prioritizing the resolution of certain goal conflicts and directing attention to most affected goals for their refinement.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
goal conflict likelihood assessment based on model counting icse may june gothenburg sweden