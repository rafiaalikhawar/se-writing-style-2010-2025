are mutation scores correlated with real fault detection?
a large scale empirical study on the relationship between mutants and real faults mike papadakis university of luxembourg michail.papadakis uni.ludonghwan shin korea advanced institute of science and technology donghwan se.kaist.ac.kr shin yoo korea advanced institute of science and technology shin.yoo kaist.ac.krdoo hwan bae korea advanced institute of science and technology bae se.kaist.ac.kr abstract empiricalvalidationofsoftwaretestingstudiesisincreasinglyrelyingonmutants.thispracticeismotivatedbythestrongcorrelation between mutant scores and real fault detection that is reported in theliterature.incontrast ourstudyshowsthatcorrelationsaretheresultsoftheconfoundingeffectsofthetestsuitesize.inparticular we investigate the relation between two independent variables mutation score and test suite size with one dependent variable the detection of real faults.
we use two data sets corebench and defects4j with large c and java programs and real faults and provide evidence that all correlations between mutation scores and realfault detection are weak when controlling for test suite size.
wealso find that both independent variables significantly influence thedependentone withsignificantlybetterfits butoverallwith relative low prediction power.
by measuring the fault detection capabilityofthetopranked accordingtomutationscore testsuites opposed to randomly selected test suites of the same size we find thatachievinghighermutationscoresimprovessignificantlythe fault detection.
taken together our data suggest that mutants provide good guidance for improving the fault detection of test suites but their correlation with fault detection are weak.
ccs concepts software and its engineering software testing and debugging keywords mutation testing real faults test suite effectiveness acm reference format mike papadakis donghwan shin shin yoo and doo hwan bae.
.
are mutation scores correlated with real fault detection?.
in proceedings of icse 40thinternationalconferenceonsoftwareengineering gothenburg sweden may june icse pages.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
introduction what is the relation between mutants and real faults?
to date this fundamental question remains open and to large extent unknown ifnotcontroversial.though alargebody approximately19 of the software testing studies rely on mutants.
recent research investigated certain aspects of the fault and mutant relation such as the correlation between mutant kills with real fault detection and the fault detection capabilities of mutation testing .
justet al.
report that there is a statistically significant correlation between mutant detection and real fault detection independently of code coverage while chekam etal.
that faultrevelationstartstoincreasesignificantlyonly once relatively high levels of coverage are attained .
although thesestudies provideevidence supportingthe useof mutantsinempiricalstudies thisiscontradictorytothefindings ofotherstudies e.g.
studyofnaminandkakarla andtosome extentbetweenthemselves astheydonotagreeonthestrengthand nature of the investigated relations .
furthermore there are many aspects of the mutant fault relation that still remain unknown.
for instance the study of just et al.
did not control for thesizeofthe testsuites whichisastrong confoundingfactorin software testing experiments .
this is because a larger test suiteismorelikelytodetectmorefaultsthanasmallerone simply because it contains more tests.
at the same time a larger test suite kills more mutants than a smaller one.
therefore as both mutation scoreandtestsuitesizearefactorswithpotentialimpactonfault detection it is unclear what is the relation between mutation score and real fault detection independently of test suite size.
additionally thestudyofjust etal.
measuredthe correlation betweenmutantkillsandfaultdetectiononjavaprogramswhile thestudyofchekam etal.
measuredthe actualfaultdetection of mutation based test suites on c programs.
therefore it is unclear whetherthefindingsonjavaprogramsholdonthecones andvice versa andmoregenerally whetherthereisanypracticaldifference betweenthetwoevaluationmeasurements i.e.
correlationanalysis between mutant kills and fault detection and actual fault detection rate of mutation based test suites.
the differencesbetween these two evaluationmetrics is important as they are extensively used in empirical studies .
yet it is unclear whether there are any practically significant differences between them.
in case the differences are significant one could drawdifferentconclusionsbyusingonemetricovertheother.thus investigatingthepotentialdifferencesbetweenthesemetricscanbe useful to other studies that compare test criteria and test methods.
acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden mike papadakis donghwan shin shin yoo and doo hwan bae in our study we use a large number of real faults from realworldcandjavaprograms.toperformouranalysisinareliable and as generic as possible way we use the developer test suites augmentedbystate of the arttestgenerationtools kleeforc randoop and evosuite for java.
these tools helped us composing a large diverse and relatively strong test pool from which we sample multiple test suites.
to ensure the validity of our analysis we also repeat it with the developer and automatically generated test suites and found insignificant differences.
one key resultis that the correlationbetween mutant kills and real fault detection drops significantly and became weak when controlling for test suite size.
we also perform regression analysis andshowthatbothsizeandmutationscoreindependentlyinfluence the fault detection.
both of them alone achieve a good level of correlation which becomes weak when the other is put under experimental control.
overall the combination of both size andmutationscoreachievesstatisticallysignificantlybetterfitsthan the size and mutation score alone.
interestingly a deeperanalysis revealsthatmutants areindeed capableofrepresentingthebehaviourofrealfaults.however these mutants are very few less than of the involved mutants .
this means that only a few mutants play the key role in representing thebehaviourofrealfaults andthus mutationscoresaresubject to noiseeffects causedby the largenumbers ofmutants that are in some sense irrelevant to the studied faults.
finally ourstudyinvestigatesthetesteffectivenessquestion i.e.
howeffectivemutantsareatfindingfaults.correlationsmeasure the extent of the variability of the independent variable i.e.
mutationscore isexplainedbythevariabilityofthedependentone i.e.
faultdetection.however thisdoesnotnecessarilyimplythat atestcriterionprovides ornot enoughguidanceonuncovering faults when fulfilling its test requirements as the relation might be non linear .we thus demonstratethatcorrelationsdonot reflect the fault detection capabilities of mutation testing which can be significant despite the low correlations.
mutation analysis mutationanalysisintroducesdefects called mutants whichform the test objectives.
a test case detects a mutant defect when it makes its observable program output different from that of theoriginal program.
a detected mutant is call killed while a nondetected one is called live.
theratioofthekilledtothetotalnumberofmutantsiscalled mutation score and represents the degree of adequacy achievement of the test suites.
unfortunately some mutants cannot be killed as they are functionally equivalent to the original program .
these mutants are called equivalent and need to be removed from the calculation of the mutation score.
however their identification is done manually as it is an instance of an undecidable problem .
mutation analysis has many applications but the majority of the existing work is using it to support experimentation and the testing process .
in the former case the key question is whether mutants provide results that are representative of those that one could obtain by using real faults.
in the latter case the key question is whether by killing more mutants one can significantly increase the capability to detect faults.
.
mutants and real faults studies investigating the relationship between mutants and realfaults are summarised in table .
note that table is strictly restricted to the findings related to the relationship between mutantsandrealfaults.additionaldetailsrelatedtothesubjectcanbefound in the recent mutation testing survey of papadakis et al.
.
as canbeseeninthetable sixofthestudiesconcludedthatthereis a strong connection between mutation score and fault detection independentofthetestsuitesize.however studiesconsideringthe influenceofsizereportmixedresults.amongfoursuchstudies one reports weak correlation study of namin and kakarla one reportssomeformofstrongcorrelationasitreportsminordifferences betweenthemutantandfaultdetectionratios studyofandrews etal.
andtheremainingtworeportthattheimprovementon fault detection when reaching higher mutation score levels was non linear studiesoffrankl etal.
andchekam etal.
.therefore the emerging questionis the one about the relationbetween size mutation score and fault detection.
furthermore all these studies have been assessed by employing two main evaluation metrics.
these are either some form ofcorrelation analysis between mutant kills and fault detection ratios studies with