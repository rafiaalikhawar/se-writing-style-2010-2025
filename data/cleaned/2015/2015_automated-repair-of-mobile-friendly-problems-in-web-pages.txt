automated repair of mobile friendly problems in web pages sonal mahajan university of southern california usanegarsadat abolhassani university of southern california usa phil mcminn university of sheffield ukwilliam g. j. halfond university of southern california usa abstract mobiledeviceshavebecomeaprimarymeansofaccessingtheinternet.unfortunately manywebsitesarenotdesignedtobemobile friendly.thisresultsinproblemssuchasunreadabletext cluttered navigation and content overflowing a device s viewport all of which can lead to a frustrating and poor user experience.
existing techniques are limited in helping developers repair these mobile friendly problems.
to address this limitation of prior work we designedanovelautomatedapproachforrepairingmobilefriendly problems in web pages.
our empirical evaluation showed that our approachwasabletosuccessfullyresolvemobilefriendlyproblems in95 of theevaluationsubjects.ina userstudy participantspreferredourrepairedversionsofthesubjectsandalsoconsideredthe repaired pages to be more readable than the originals.
ccs concepts software and its engineering search based software engineering keywords mobile friendly problems automated repair web apps acm reference format sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond.
.
automated repair of mobile friendly problems in web pages.
in proceedings of icse 40th international conference on software engineering icse .
acm newyork ny usa 11pages.
.
.
introduction mobile devices have become one of the most common means of accessingtheinternet.infact recentstudiesshowthatforasignificant portion of web users a mobile device is their primary means of accessing the internet and interacting with other web based services such as online shopping news and communication .
unfortunately manywebsitesarenotdesignedtogracefullyhandleuserswhoareaccessingtheirpagesthroughanon traditionalsizeddevice suchasasmartphoneortablet.theseproblematicsitesmay exhibitarangeofusabilityissues suchasunreadabletext cluttered permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
or content that overflows the device s viewport and forcestheusertopanandzoomthepageinordertoaccesscontent.
such usability issues are collectively referred as mobile friendly problems and lead to a frustrating and poor user experience.
despite the importance of mobile friendly problems they are highly prevalent in modern websites in a recent study over of users reported problems in accessing websites from their mobile devices .
over one third of users also said that they abandon mobileunfriendlywebsitesandfindotherwebsitesthatworkbetter on mobile devices.
this underscores the importance for developers inensuringthemobilefriendlinessofthewebpagestheydesignand maintain.addingtothismotivationisthefactthat asofapril2015 google hasincorporated mobile friendlinessas part ofits rankingcriteria when returning search results to mobile devices .
this meansthatunlessawebsiteisdeemedtobemobilefriendly itis less likely to be highly ranked in the results returned to users.
makingwebsitesmobilefriendlyischallengingevenforawell motivated developer.
these challenges arise from the difficulties in detectingandrepairingmobilefriendlyproblems.todetectthese problems developersmustbeabletoverifyawebpage sappearance on many different types and sizes of mobile devices.
since thescaleoftestingrequiredforthisisgenerallyquitelarge developers often use mobile testing services such as browserstack and saucelabs to determine if there are problems in their sites.
however even with this information it is difficult for developers toimproveorrepairtheirpages.thereasonforthisisthattheappearanceofwebpagesiscontrolledbycomplexinteractionsbetween the html elements and css style properties that define a web page.
this means that to fix a mobile friendly problem developers must typically adjust dozens of elements and properties while at the same time ensuring that these adjustments do not impact other partsofthepage.forexample aseeminglysimplesolution such as increasing the font size of text or the margins of clickable elements can result in a distorted user interface that is unlikely to be acceptable to end users or developers.
existing approaches are limited in helping developers to detect and repair mobile friendly problems.
for example the mobile friendly test tools produced by google and bing only focusonthedetectionofmobilefriendlyproblemsinawebpage.
while these tools may provide hints or suggestions as to how to repair the pages the task of performing the repair is still a manual effort.
developers may also use frameworks such as bootstrap andfoundation tohelpcreatepagesthatwillbemobilefriendly.
however theuseofframeworkscannotguaranteetheabsenceof mobile friendlyproblems .somecommercialwebsitesattempt toautomatethisprocess e.g.
butaregenerallytargeted for hobbyist pages as they require the transformed website to use acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond one of their preset templates.
this leaves developers with a lack of automated support for repairing mobile friendly problems.
toaddressthisproblemwedesignedanapproachtoautomaticallygeneratecsspatchesthatcanimprovethemobilefriendliness of a web page.
to do this our approach builds graph based models of the layout of a web page.
it then uses constraints encoded by thesegraphs tofind patchesthat canimprove mobilefriendliness while minimizing layout disruption.
to efficiently identify the best patch our approach leverages unique aspects of the problem domaintoquantifymetricsrelatedtolayoutdistortionandparallelize the computation of the solution.
we implemented our approach in a prototype tool mfix and evaluated its effectiveness on the homepagesof38ofthealexatop50mostvisitedwebsites.theresults showed that our approach could effectively increase the mobile friendliness ratings of a page typically by while minimizing layout distortion.
our approach was also fast needing less than minutes on average to generate the css patch.
we also evaluated our results with a user study in which participants overwhelminglypreferredtherepairedversionofthewebsiteforuseon mobiledevices andalsoconsideredtherepairedpagetobemore readablethantheoriginal.overall theseresultsareverypositive and indicate that our approach can help developers to improve the mobile friendliness of their web pages.
the contributions of our paper are as follows atechniqueforautomaticallygeneratingcssbasedpatches to improve the mobile friendliness of a web page an empirical study on popular websites that shows theapproach s effectiveness at improving mobile friendliness scores while maintaining the original pages layout.
auserstudythatshowsthatpagespatchedbyourapproach arepreferredformobileusageandareratedasmorereadable.
ourpaperisorganizedasfollows.insection2 weprovidebackground information about typical mobile friendly problems and solutions.ourapproachispresentedinsection3.weevaluatedour approachonpopularwebsitesandconductedauserstudyofthe results which aredescribedin section4.
wediscuss relatedwork in section and conclude in section .
background inthissectionwediscussavarietyofmobilefriendlyproblemsand currentwaysofaddressingtheminordertobuildamobilefriendly website.
.
types of mobile friendly problems widely used mobile testing tools provided by google and bing report mobile friendly problems in five areas .
font sizing font sizes optimized for viewing a web page on a desktopareoftentoosmalltobelegibleonamobiledevice forcing users to zoom in to read the text and then out again to navigate around the page.
.
tap target spacing tap targets are elements on a web page such as a hyperlinks buttons or input boxes that a user can tap or touch to perform actions such as navigate to another page or fill and submit a form.
if tap targets are located close to each other on a mobile screen it can become difficult for a user to physically selectthedesiredelementwithouthittinganeighboringelementaccidentally.targetsmayalsobetoosmall requiringuserstozoom into the page in order to tap them on their device.
.contentsizing whenawebpageextendsbeyondthewidthofa device sviewport theuserisrequiredtoscrollhorizontallyorzoomouttoaccesscontent.horizontalscrollingisparticularlyconsidered problematic since users are typically used to scrolling vertically but not horizontally .
this can lead to important content being missedbyusers.thereforeattentiontocontentsizingisparticularly important on mobile devices where a smaller screen means thatspace is limited and the browser may not be resizable to fit the page.
.viewportconfiguration usingthe meta viewport htmltag allows browsers to scale web pages based on the size of a user s device.
web pages that do not specify or correctly use the tag may have content sizing issues as the browser may simply scale or clip the content without adjusting for the layout of the page.
.
flash usage flash content is not rendered by most mobile browsers.thismakescontentbasedonflash suchasanimations and navigation inaccessible.
inourapproach detailedinsection3 wefocusonaddressing the first three of these problems.
we regard the flash usage as out of scope for our approach since it requires a major content change in thepage while theviewport configuration problemis trivial to address as it only requires insertion of a missing meta viewport tag into the page s html head.
.
current methods of addressing mobile friendly problems there are a number of ways in which a website can be adjusted tobecomemoremobilefriendly.intheearlydaysofmobileweb browsing acommonapproachwastosimplybuildanalternative mobile version of an existing desktop website.
such websites were typically hosted at a separate url and delivered to a user when thewebserverdetectedtheuseofamobiledevice.however the cost and effort of building such a separate mobile website was high.
to address this problem commercial services such as bmobilized andmobify canautomaticallycreateamobilewebsite from a desktop version using a series of pre designed templates.
a drawback of these templated websites however is that they fail to capture the distinct design details of the original desktop version making them look identical to every other organization using the service.
broadly speaking although having a separatemobile website could address mobile friendly concerns it introducesaheavymaintenancedebtontheorganizationinensuring that the mobile website renders and behaves consistently and as reliably as its regular desktop version thereby doubling the cost of an organization s online presence.
furthermore having a separate mobile onlysitewouldnothelpimprovesearch enginerankings of theorganization smain website since thetwoversions reside at different urls.
to avoid developing and maintaining separate mobile and desktopversionsofa website anorganizationmayemploy responsive designtechniques.
this kind of design makes use of css media queries to dynamically adjust the layout of a page to the screen size on which it will be displayed.
the advantage of this technique authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
automated repair of mobile friendly problems in web pages icse may june gothenburg sweden overmobilededicatedwebsitesisthattheurlofthewebsiteremains the same.
however converting an existing website into a fullyresponsivewebsiteisanextremelylaborintensivetask andisbettersuitedforwebsitesthatarebeingbuiltfromscratch.assuch repairing an existing website may be a more cost effective solution than completely redeveloping the site.
furthermore although a responsivedesignislikelytoallowforagoodmobileuserexperience itdoesnotnecessarilyprecludethepossibilityofmobilefriendly problems sinceadditionalstylesmaybeusedorcertainprovided styles may be incorrectly overridden .
our approach introduces a novel technique for handling mobile friendly problems by adjusting specific css properties in the page and producing a repair patch .
the repair patch uses css media queries to ensure that the modified css is only used for mobile viewing thatis itdoesnotaffectthewebsitewhenviewedona desktop.
approach the goal of our approach is to automatically generate a patch that can be applied to the css of a web page to improve its mobilefriendliness.
our technique addresses the three specific problem typesintroducedinsection2 namelyfontsizing taptargetspacing and content sizing for the viewport factors used by google to rate the mobile friendliness of a page.
there is usuallya straightforward fix for theseproblems simplyincreasethefontsizeusedinthepageandthemarginsofthe elements within it.
the result however is one that would likely be unacceptabletoanend user suchchangestendtosignificantlydisrupt the layout of a page and require the user to perform excessive panning and scrolling.
the challenge in generating a successful repair therefore involves balancing two objectives addressing a page s mobile friendlinessproblems while also ensuring anaesthetically pleasing and usable layout.
with this in mind the goal of our technique is to generate a solution that is as faithful as possible to the page s original layout.
thisrequiresfixingmobilefriendlinessproblemswhilemaintaining wherepossible therelativeproportionsandpositioningofelements thatarerelatedtooneanotheronthepage forexample linksin thenavigationbar andtheproportionsoffontsforheadingsand body text in the main content pane .
ourapproachforgeneratingacsspatchcanberoughlybroken down into three distinct phases segmentation localization and repair.
these are shown in figure .
the input to our approach is the url of a page under test put .
typically this would be a pagethathasbeenidentifiedasfailingamobilefriendlytest e.g.
google s orbing s butitmayalsobeapageforwhicha developerwouldliketosimplyimprovemobilefriendliness.the segmentation phase identifies elements that form natural visual groupingsonthepage referredtoas segments.thelocalization phase then identifies the mobile friendly problems in the page and relates these to the html elements and css properties in each segment.
the last phase repair seeks to adjust the proportional sizingofelementswithinsegments alongwiththerelativepositions ofeachsegmentandtheelementswithintheminordertogenerateasuitablepatch.wenowexplaineachofthesethreephasesinmore detail.
.
phase segmentation thefirstphaseanalyzesthestructureofthepagetoidentify segments setsofhtmlelementswhosepropertiesshouldbeadjusted together to maintain the visual consistency of the repaired web page.anexampleofasegmentisaseriesoftext basedlinksina menu bar where if the font size of any link in the segment is too small then all of the links should be adjusted by the same amount to maintain the links visual consistency.
the reason our approach uses segments is that through manual experimentation with pages that contained mobile friendly problems we found that once we identifiedtheoptimalfixvalueforanelement tomaintainvisual consistency thesamevaluewouldalsoneedtobeappliedtoclosely related elements i.e.
those in the element s segment .
this insight motivatedtheuseofsegments anditallowedtheapproachtotreat many html elements as an equivalence class which also reduced the complexity of the patch generation process.
to identify the segments in a page the approach analyzes the document object model dom t r e eo ft h e put.
in informal experiments we evaluated several well known page segmentation analyses suchasvips block o matic andcorrelationclustering .wechosetouseanautomatedclustering basedpartitioningalgorithmproposedbyromeroetal.
asitssegmentation results more readily conformed to our definition of a segment.
we summarize the algorithm here for completeness.
the approachstarts by assigning each leaf element of the domtree to its own segment.
then to cluster the elements the approach iterates over the segments and uses a cost function to determine when it can mergeadjacentsegments.thecostfunctionisbasedonthenumber of hops in the domtree between the lowest common ancestors of the two segments under consideration.
if the number of hopsis below a threshold based on the average depth of leaves in the domtree then the approach will cluster the adjacent segments.
thevalueofthisthresholdisdeterminedempirically.theapproach continues to iterate over the segments until no further merges are possible i.e.
thesegmentsethasreachedafixedpoint .theoutput is a set of segments segs where each segment contains a set of xpathidsdenotingthehtmlelementsthathavebeengrouped together in the segment.
figure2ashows asimplifiedversionofthesegments thatwere identifiedforoneofthewebpages wiley usedinourevaluation.
the red overlay rectangles show the visible elements that were groupedtogetherassegments.theseincludetheheadercontent a left aligned navigation menu the content pane and the page s footer.
.
phase localization the second phase identifies the parts of the putthat must be targeted to address its mobile friendly problems.
the second phase consists of two steps.
in the first step the approach analyzes the putto identify which segments contain mobile friendly problems.
then based on the structure and problem types identified for each segment the second step identifies the css properties that will mostlikelyneedtobeadjustedtoresolveeachproblem.theoutputofthelocalizationphaseisamappingofthepotentiallyproblematic segments to these properties.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond g5 g17 g18 g25 g30 g22 g19 g32 g1 g11 g18 g20 g24 g18 g25 g30 g29 g1 g5 g17 g18 g25 g30 g22 g19 g32 g1 g9 g28 g26 g15 g23 g18 g24 g14 g30 g22 g16 g1 g11 g18 g20 g24 g18 g25 g30 g29 g1 g5 g17 g18 g25 g30 g22 g19 g32 g1 g9 g28 g26 g15 g23 g18 g24 g14 g30 g22 g16 g1 g2 g11 g11 g1 g9 g28 g26 g27 g18 g28 g30 g22 g18 g29 g1 g2 g26 g24 g27 g31 g30 g18 g1 g2 g14 g25 g17 g22 g17 g14 g30 g18 g1 g7 g26 g15 g22 g23 g18 g1 g3 g28 g22 g18 g25 g17 g23 g32 g1 g9 g14 g30 g16 g21 g18 g29 g1 g4 g18 g25 g18 g28 g14 g30 g18 g1 g30 g21 g18 g1 g7 g26 g15 g22 g23 g18 g1 g3 g28 g22 g18 g25 g17 g23 g32 g1 g9 g14 g30 g16 g21 g1 g7 g26 g15 g22 g23 g18 g1 g3 g28 g22 g18 g25 g17 g23 g32 g1 g8 g28 g14 g16 g23 g18 g1 g35 g7 g3 g8 g36 g1 g7 g26 g15 g22 g23 g18 g1 g3 g28 g22 g18 g25 g17 g23 g22 g25 g18 g29 g29 g1 g11 g16 g26 g28 g18 g1 g35 g1 g36 g1 g6 g14 g32 g26 g31 g30 g1 g17 g22 g29 g30 g26 g28 g30 g22 g26 g25 g1 g35 g6 g36 g1 g9 g37 g34 g1 g11 g18 g20 g24 g18 g25 g30 g14 g30 g22 g26 g25 g1 g9 g38 g34 g1 g6 g26 g16 g14 g23 g22 g33 g14 g30 g22 g26 g25 g1 g9 g39 g34 g1 g10 g18 g27 g14 g22 g28 g1 g9 g14 g20 g18 g1 g31 g25 g17 g18 g28 g1 g30 g18 g29 g30 g1 g35 g9 g13 g12 g36 g1 g10 g18 g27 g14 g22 g28 g18 g17 g1 g9 g13 g12 g1 figure overview of the approach.
a put with segments highlighted b put with distortions highlighted c repaired put figure example for demonstrating our approach.
thick red rectangles highlight segments identified by our technique while dashed red ovals indica te distortions caused by undesirable adjustments to the page s layout.
.
.
identifying problematic segments.
inthefirststepofthe localization phase the approach identifies mobile friendly problem typesinthe putandthesubsetofsegmentsthatwilllikelyneed to be adjusted to address them.
in our approach mobile friendly problems in the putare detected by an mobile friendly oracle mfo .
an mfo is a function that takes a web page as input and returns a list of mobile friendly problem types it contains.
the mfocan identify the presence of mobile friendly problems but cannot identify the faulty html elementsandcsspropertiesresponsiblefortheobservedproblems.
in the implementation of our approach we use the google mobilefriendlytesttool gmft asourapproach s mfo.however any detector or testingtool may also be usedas an mfo.
the basicrequirementforan mfoisthatitcanaccuratelyreportwhetherthere areanytypes of mobile friendly problems present in the page.
ideally themfoshouldalsodetail whattypesofproblemsarepresent alongwithamappingofeachproblemtothecorrespondinghtmlelements.however thesearenotstrictrequirements ourapproach can correctly function with the assumption that all segments have allproblemtypes.thoughthisover approximationcanincreasetheamount of time needed to compute the best solution in the second phase.
since we leverage the gmftin our implementation we discuss how the output of this particular tool is used by our approach.
we expect that other mfos such as bing could be adapted in a similar way.
given a put thegmftreturns for each problem type it detects a reference to the html elements that contain that problem.
however through experimentation with the gmft welearnedthatthelistofhtmlelementsitsuppliesisgenerally incomplete.therefore givenareportedproblemtype ourapproach appliesaconservativefilteringtothesegmentstoidentifywhich ones may be problematic with respect to that problem type.
for example ifthe gmftreportsthatthereisaproblemwithfontsizing intheput thenourtechniqueidentifiesanysegmentthatcontains a visible text element as potentially problematic.
as mentionedabove this over approximation may increase the time needed tocompute the best solution but does not introduce unsoundness into our approach.
theoutputofthisstepisasetoftuplesoftheform angbracketlefts t angbracketrightwhere s segsis a potentially problematic segment and tis the set of authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
automated repair of mobile friendly problems in web pages icse may june gothenburg sweden problemtypesassociatedwith s i.e.
inthedomainof tap targets font size content size .referringbacktotheexampleinfigure2a gmftidentifieds3 ashavingtwoproblem types thetap targets were too close and the font size was too small so the approach would generate a tuple for s3 where tincludes these two problem types.
.
.
identifying problematic css properties.
after identifying the subset of problematic segments the approach needs to identify thecsspropertiesthatmayneedtobeadjustedineachsegment to make the page mobile friendly.
the general intuition of this step is that each of a segment s identified problem types generally map toasetofcsspropertieswithinthesegment.however thisstep is complicated by the fact that htmlelements may not explicitly define a css property i.e.
they may inherit a style from a parentelement andthatourapproachadjustscsspropertiesatthe segment level instead of the individual element level.
to address these issues we introduce the concept of a property dependencegraph pdg whichforagivensegmentandproblem type models the relevant style relationships among its html elements based on css inheritance and style dependencies.
formally we define a pdgas a directed graph of the form angbracketlefte r m angbracketright.
here e eis a node in the graph that corresponds to an html elementinthe putthathasanexplicitlydefinedcssproperty p p wherepisthesetofcsspropertiesrelevantforaproblemtype e.g.
font size for font sizing problems marginfor tap target issues etc.
.r e eis a set of directed edges such that for each pair of elements angbracketlefte1 e2 angbracketright r there exists a dependency relationship between e1ande2.mis a function m r mapsto 2cthat maps each edgetoasetoftuplesoftheform c angbracketleftp angbracketright wherep pand isa ratio between the values of pfore1ande2.
this function is used in thefollowingrepairphase section3.
toensurethatstylechanges made to a segment remain consistent across pairs of elements in a dependency relationship.
ourapproachdefinesavariantof pdgforeachofthethreeproblem types the font pdg fpdg the content size pdg cpdg and the tap target pdg tpdg .
each of these three graphs has a specificsetofrelevantcssproperties p adependencyrelationship and a mapping function m .
due to space constraints we only present the formal definition of the fpdg as the other two graphs are defined in a similar manner.
thefpdgisconstructedforanysegmentforwhichafontsizing problemtypehasbeenidentified.forthisproblemtype themost relevant css property is clearly font size but the line height width and heightpropertiesofcertainelementsmayalsoneedto be adjusted if font sizes are changed.
therefore p font size line height width height .
a dependency relationship exists betweenany e1 e2 e ifandonlyif e1isanancestorof e2inthe domtree ande2has an explicitly defined css property p p i.e.
the value of the property is not inherited from e1.
the general intuitionofusingthisdependencyrelationshipisthatonlynodes thatexplicitlydefinearelevantpropertymayneedtobeadjusted andtheremainderofthenodesinbetween e1 e2willsimplyinherit the style from e1.
the ratio associated with each edge is the valueofpdefinedfor e1dividedbythevalueof pdefinedfor e2.t o illustrateconsidertwohtmlelementsins3offigure2a.thefirst e1 isa angbracketleftdiv angbracketrighttagwrappingalloftheelementsins3with font size 13pxandthesecond e2 isthe angbracketlefth2 angbracketrightelementcontainingthetext resources with font size 18px .adependencyrelationship exists from e1toe2withpasfont size and the ratio .
.
the output of this final step is the set i of tuples where each tupleisoftheform angbracketlefts a angbracketrightwheresidentifiesthesegmenttowhich thetuplecorresponds identifiesacorresponding pdg andaisan adjustmentfactorforthe pdgthatisinitiallysetto1.theadjustmentfactorisusedintherepairphaseandservesasamultiplierto the ratios defined for the edges of each pdg.
a tuple is added toifor each problem type that was identified as applicable to a segment.
referring back to the example in figure 2a the approach would generate two tuples for s3 one containing an fpdgand the other containing an tpdg.
.
phase repair thegoalof thethirdphaseistocomputea repair forthe put.the bestrepairhastobalancetwoobjectives.thefirstobjectiveisto identifythesetofchanges a patch thatwillmostimprovethe put smobilefriendliness.thesecondobjectiveistoidentifythe set ofchanges that doesnot significantlychange the layoutof the put.
.
.
metrics.
a key insight for our approach is that both of the aforementioned objectives mobile friendliness and layout distortion canbequantified.forthefirstobjective itistypicalformobilefriendlytesttoolstoassignanumericscoretoapage where thisscorerepresentsthepage smobilefriendliness.forexample thegooglepagespeed insightstool psit assignspagesascorein therangeof0to100 with100beingaperfectlymobilefriendlypage.
by treating this score as a function f that operates on a page it is possibletoestablishanorderingonsolutionsandusethatordering to identify a best solution among a group of solutions.
the second objective can also be quantified as a function l that compares the amount of change between the layout of a page containing a candidate patch versus the layout of the original page.
the amount ofchangeinalayoutcanbedeterminedbybuildingmodelsthatex presstherelativevisualpositioningamongandwithinthesegments of a page.
we refer to these models as the segment model sm and intra segmentmodel ism respectively.giventhesetwomodels our approach uses graph comparison techniques to quantify the difference between the models for the original page and a page with an applied candidate solution.
we now provide a more formal definition of the smandism.a segmentmodel sm isdefinedasadirectedcompletegraphwhere thenodesarethesegmentsidentifiedinthefirstphase section3.
and the edge labels represent layout relationships between segments.todeterminetheedgelabels theapproachfirstcomputes the minimum bounding rectangles mbrs of each segment.
this done by finding the maximum and minimum x and y coordinates of all of the elements included in the segment which can be found byqueryingthe domofthepage.basedonthecoordinatesofeach pairofmbrs theapproachdetermineswhichofthefollowingrelationships apply intersection containment or directional i.e.
above below left right .
each edge in an smis labeled in this manner.referringtofigure2a oneoftherelationshipsidentified wouldbethats1isaboves3ands4.an ismisthesame butisbuilt authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond foreachsegmentandthenodesarethehtmlelementswithinthe segment.
toquantifythelayoutdifferencesbetweentheoriginalpageand atransformedpagetowhichacandidatepatchhasbeenapplied theapproach computestwo metrics.thefirst metricis atthesegmentlevel.theapproachsumsthesizeofthesymmetricdifference betweeneachedge slabelsinthe smoftheoriginalpageandthe smof the transformed page.
recall that both models are complete graphs so a counterpart for each edge exists in the other model.
to illustrate consider the examples shown in figures 2a and 2b.
the change to the page has caused segments s3 and s4 to overlap.
thischangeintherelationshipbetweenthetwosegmentswould becountedasadifferencebetweenthetwo smsandincreasethe amountoflayoutdifference.thesecondmetricissimilartothefirst butcomparesthe ismforeachsegmentintheoriginalandtransformedpage.theonedifferenceinthecomputationofthemetricisthatthesymmetricdifferenceisonlycomputedfortheintersectionrelationship.theintuitionbehindthisdifferenceincountingisthat we consider movement of elements within a segment except for intersection to be an acceptable change to accommodate the goal of increasing mobile friendliness.
referring back to the example showninfigure2b nineintra segmentintersectionsarecounted amongtheelementsinsegments4asshownbydashedredovals.
thedifferencesumscalculatedatthesegmentandintra segment level are returned as the amount of layout difference.
.
.
computing candidate mobile friendly patches.
toidentify the best css patch the approach must find new values for the potentiallyproblematicproperties identifiedinthefirstphase that make the putmobile friendly while also maintaining its layout.
tostatethismoreformally given i theapproachmustidentifya set of new values for each of the adjustment factors i.e.
a in each tuple ofiso that the value of fis i.e.
the maximum mobile friendlinessscore andthevalueof liszero i.e.
therearenolayout differences .
a direct computation of this solution faces two challenges.
the first of these challenges is that an optimal solution that satisfies bothoftheaboveconditionsmaynotexist.thiscanhappendue to constraints in the layout of the put.
the second challenge is that even if such a solution were to exist it exists in a solution spacethatgrowsexponentiallybasedonthenumberofelements and properties that must be considered.
since many of the css properties have a large range of potential values a direct computation of the solution would be too expensive to be practical.
both of thesechallengesmotivatetheuseofanapproximationalgorithm to identify a repair.
therefore the approach must find a set of valuesthatminimizesthelayoutscorewhilemaximizingthemobile friendliness score.
thedesignofourapproximationalgorithmtakesintoaccount severaluniqueaspectsoftheproblemdomaintogenerateahigh quality patch in a reasonable amount of time.
the first of these aspectsisthat throughmanualexperimentation welearnedthat goodoroptimalsolutionstypicallyinvolvealargenumberofsmall changes to many segments.
this motivates targeting a solution spacecomprisedofcandidatesolutionsthatdifferfromtheoriginal page in many places but by only small amounts.
the second of these aspects is that computing the values of the landffunctionsis expensive.
the reason for this is that frequires accessing an api on the web and lrequires rendering the pageand computing layoutinformationforthetwoversionsofthe put.thismotivates us to avoid algorithms that require sequential processing of land f e.g.
simulated annealing or genetic algorithms .
to incorporate these insights the approximation algorithm first generatesasetofsize nofcandidatepatches.togenerateeachcandidatepatch theapproachcreatesacopyof i calledi prime theniterates overeachtuplein i primeandwithprobability x randomlyperturbsthe valueoftheadjustmentfactor i.e.
a usingaprocesswedescribein moredetailinthenextparagraph.then i primeisconvertedintoapatch r using the process described in the next section section .
.
and added to the set of candidate patches.
this process is repeated untiltheapproachhasgenerated ncandidatepatches.theapproach then computes in parallel the values of fandlfor a version of theputwith an applied candidate patch.
our implementation uses amazon web services aws to parallelize this computation.
theobjective scorefor thecandidate patchis thencomputed asa weighted sum of fandl.
the candidate patch with the maximum score i.e.
with the highest value of fand the lowest value of l i s selected as the final solution rmax.
figure 2c shows rmaxapplied to the example page.
ourapproachperturbsadjustmentfactorsinsuchawayasto takeadvantageofourinsightthattheoptimalsolutionsdifferfrom the original page in many places but by only small amounts.
to represent this insight we based our perturbation on a gaussian distributionaroundtheoriginalvalueinaproperty.throughexperimentation wefoundthatitwasmosteffectivetohavethemean and standard deviation values used for the gaussian distributionvarybasedonthespecificmobilefriendlyproblemtype being addressed.
for each problem type the goal was to identify a and that provided a large enough range to allow sufficient diversityinthegenerationofcandidatepatches.foridentifying values we foundthrough experimentationthat setat thevalues suggested by the gmft was not effective in generating candidatepatchesthatcouldimprovethemobilefriendlinessoftheput.
therefore we added an amendment factor to the values suggested by thegmftto allow the approach to select a value considered mobilefriendlywithahighprobability.thespecificamendment factors we found the most effective were for font size for content sizing and for tap target sizing problems.
for example if thegmftsuggested value for font size problems was 16px we set at 30px.
for each problem type we then identified a value.
the specific values we determined to be most effective were 6f o r contentsizeproblems 5forfontsizeproblems and 2for tap target spacing problems.
.
.
generating the mobile friendly patch.
given a set i the approachgeneratesarepairpatch r andmodifiesthe putsothat rwillbe applied atruntime.
thegeneral formof ris aset ofcss styledeclarationsthatapplytothehtmlelementsofeachsegment ini.togenerate r theapproachiteratesoveralltuplesin i.foreach tuple theapproachiteratesovereachnodeofits pdg startingwith therootnode andcomputesanewvaluethatwillbeassignedtothecss property represented by the node.
the new value for a node iscomputedbymultiplyingthenewvalueassignedtoitspredecessorbytheratio definedontheedgewiththepredecessor.oncenew authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
automated repair of mobile friendly problems in web pages icse may june gothenburg sweden property values have been computed for all nodes in the pdg the approachgeneratesasetoffixes whereeachfixisrepresentedas atuple angbracketlefti p v angbracketright whereiisthexpathforeachnodeinthe pdgthat had a property change pis the changed css property and vis thenewlycomputedvalue.thesetuplesaremadeintocssstyle declarationsbyconverting iintoacssselectorandthenaddingthe declarationsof pandvwithintheselector.allofthegeneratedcss style declarations are then wrapped in a css media query that will cause it to be loaded when accessed by a mobile device.
in practice wefoundthatthesizerangespecifiedinourpatch smediaquery is applicable to a wide range of mobile devices.
however to allow developers to generate patches for specific device sizes we provide configurable size parameters in the media query.
referring back to the example the ratio between e1 angbracketleftdiv angbracketright containing all elements in s3 and e2 angbracketlefth2 angbracketrightcontaining text resources is .
.
consider a tuple angbracketlefts3 font size angbracketrightini.
thus a valuevof 26px is calculated for the predecessor node e1based on the adjustment factor .
accordingly v 26px .
36px is calculated for e2.
thus the approach generates two fix tuples angbracketleftdiv font size 26px angbracketrightand angbracketlefth2 font size 36px angbracketright.
evaluation toevaluateourapproach wedesignedexperimentstodetermine itseffectiveness runningtime andthevisualappealofitssolutions.
the specific research questions we considered were rq1 how effective is our approach in repairing mobile friendly problems in web pages?rq2 how long does it take for our approach to generate patches for the mobile friendly problems in web pages?rq3 howdoesourapproachimpactthevisualappealofwebpages after applying the suggested css repair patches?
.
implementation weimplementedourapproachinjavaasaprototypetoolnamed mfix .foridentifyingthemobilefriendlyproblemsinaweb page weusedthegooglemobile friendlytesttool gmft andgoogle pagespeed insightstool psit apis.wealsoused thepsitfor obtaining the mobile friendliness score labeled as usability inthe psitreport .foridentifyingsegmentsinaweb page and building the smandism we first built the domtree by renderingthepageinanemulatedmobilechromebrowserv60.
andextractingrenderinginformation suchaselement mbrsand xpath usingjavascriptandseleniumwebdriver.thesegmentation threshold value determined by the average depth of leaves in a domtreewascappedatfourtoavoidthesituationwhereallofthe visibleelementsinapagewerewrappedinonelargesegment.this constant value was determined empirically and was implemented asaconfigurableparameterin mfix.weused jstyleparser for identifyingexplicitlydefinedcsspropertiesforhtmlelements inapageforbuildingthe pdg.weparallelizedtheevaluationof candidate solutions using a cloud of amazon ec2 t2.xlarge instances pre installed with ubuntu .
.table subjects id url category rank html health science kids and teens science kids and teens games kids and teens science society reference arts news games sports health home science regional home reference sports kids and teens games computers science games games sports science sports games home science kids and teens shopping business games arts .
subjects for our experiments we used real world subjects collected from the top most visited websites across all seventeen categories trackedbyalexa .thesubjectsarelistedintable1.thecolumns category and rank refertothesourcealexacategoryandrankof thesubjectwithinthatcategory respectively.thecolumn html referstothetotalnumberofhtmlelementsinasubject which we counted by parsing the subject s dom for node type element .
thisvaluegivesanapproximationforthesizeandcomplexityof the subject.
we used alexa as the source of our subjects as the websites represent popular widely used sites and a mix of different layouts.
from the unique urls that were identified across the cat egories we excluded the websites that passed the gmftor had adultcontent.eachoftheremaining38subjectswasdownloaded using the scrapbook x firefox plugin which downloads an html pageanditssupportingfiles suchasimages css andjavascript.
wethenremovedtheportionsofthesubjectpagesthatmadeactive internetconnections suchasforadvertisements toenablerunning of the subjects in an offline mode.
.
experiment one to address rq1 and rq2 we ran mfixten times on each of the subjectstomitigatethenon determinisminherentintheapproximation algorithm used to find a repair solution.
forrq1 weconsideredtwometricstogaugetheeffectiveness ofourapproach.forthefirstmetric weusedthe gmfttomeasure howmanyofthesubjectswereconsideredmobilefriendlyafterthe authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond patch was applied.
for the second metric we compared the before and after scores for mobile friendliness and layout distortion for each subject.
for comparing mobile friendliness score we selected for each subject over the ten runs the repair that represented a medianscore.forlayoutdistortion weselected foreachsubject over the ten runs the best and worst repair in terms of layout distortion thatpassedthemobilefriendlytest.essentially foreach subject thesewerethetwopatchedpagesthatpassedthemobile friendlytestandhadthelowest best andhighest worst amountof distortion.forthesubjectsthatdidnotpassthemobilefriendlytest we considered the patched pages with the highest mobile friendly scores to be the passing pages.
forrq2 wemeasuredtheaveragetotalrunningtimeof mfix for each of the ten runs for each of the subjects and also measured the time spent in the different stages of the approach.
.
.
discussion of results.
the results for effectiveness rq1 were that out of of the subjects passed the gmftafter applying mfix ssuggested cssrepairpatch.
thisshowsthat the patches generated by mfixwere effective in making the pages pass the mobile friendly test.
figure shows the results of comparing the before and after medianmobilefriendlinessscoresforeachsubject.foreachsubject the dark gray portion shows the score reported by the psitfor the patched page and the light gray portion shows the score for theoriginal version.
the black horizontal line drawn at indicates the value above which the gmftconsiders a page to have passed the test and to be mobile friendly.
on average mfiximproved the mobile friendliness score of a subject by overall these results showthatourapproachwasabletoconsistentlyimproveasubject s mobile friendliness score.
we also compared the layout distortion score for the best and worst repairs of each subject.
on average the best repair had a layout distortion score lower than the worst repair.
these resultsshowthatourapproachwaseffectiveinidentifyingpatches thatcouldreducetheamountofdistortioninasolutionthatwas able to pass the mobile friendly test.
for rq3 we examined viaauserstudy ifthisreductionindistortiontranslatesintoamore attractive page.
we investigated the results to understand why two subjects did not pass the gmft.
the patched version of the first subject gsmhosting contained acontent sizingproblem.the originalversion of the page did not contain this problem which indicates that theincreasedfontsizeintroducedbythepatchcausedcontentin thispagetooverflowtheviewportwidth.forthesecondsubject aamc mfixwasnotabletofullyresolveitscontentsizingproblem astherequiredvaluewasextremelylargecomparedtotherange explored by the gaussian perturbation of the adjustment factor.
both of these issues suggest further refinements to our techniques that could be explored in future work such as making the process iterative and expanding the initial search space.
thetotalrunningtime rq2 requiredbyourapproachforthe different subjects ranged from minutes to minutes averaging a little less than minutes.
as of august an amazon ec2 t2.xlarge instance was priced at .
per hour.
thus with an averagetimeof5minutesthecostofrunning mfixon100instances was .
per subject.
figure shows a breakdown of the average g4 g1 g5 g4 g1 g6 g4 g1 g7 g4 g1 g8 g4 g1 g9 g4 g1 g10 g4 g1 g11 g4 g1 g12 g4 g1 g13 g4 g1 g5 g4 g4 g1 g5 g1 g6 g1 g7 g1 g8 g1 g9 g1 g10 g1 g11 g1 g12 g1 g13 g1 g5 g4 g1 g5 g5 g1 g5 g6 g1 g5 g7 g1 g5 g8 g1 g5 g9 g1 g5 g10 g1 g5 g11 g1 g5 g12 g1 g5 g13 g1 g6 g4 g1 g6 g5 g1 g6 g6 g1 g6 g7 g1 g6 g8 g1 g6 g9 g1 g6 g10 g1 g6 g11 g1 g6 g12 g1 g6 g13 g1 g7 g4 g1 g7 g5 g1 g7 g6 g1 g7 g7 g1 g7 g8 g1 g7 g9 g1 g7 g10 g1 g7 g11 g1 g7 g12 g1after mobile friendliness score subjects before mobile friendliness score difference between before and after scores figure3 distributionofthemedianmobilefriendlinessscoreacross10runs timeforthedifferentstagesoftheapproach.ascanbeseenfrom thechart findingtherepairforthemobilefriendlyproblems phase was the most time consuming taking up almost of the totaltime.amajorportionofthistimewasspentinevaluatingthe candidatesolutionsbyinvokingthe psitapi.theremainderofthe timewasspentincalculatinglayoutdistortion whichisdependent onthesize ofthepage.the overheadcausedbynetwork delayin communicatingwiththeamazoncloudinstanceswasnegligible.
for the api invocation we implemented a random wait time of to seconds between consecutive calls to avoid retrieving stale orcachedresults.identifyingproblematicsegmentswasthenext most time consuming step as it required invoking the gmft api.
.
experiment two to address rq3 we conducted a user based survey to evaluate the aesthetics and visual appeal of the repaired page.
the main intent ofthestudywastoevaluatetheeffectivenessofthelayoutdistortionmetric l section3.
inminimizinglayoutdisruptionsand producingattractivepages.thegeneralformatofoursurveywas toaskparticipantstocomparetheoriginalandrepairedversions of a subset of the subjects.
to make the survey length manageable we divided the subjects into six different surveys each with six or seven subjects.
for each subject the survey presented in randomorder ascreenshotoftheoriginalandrepairedpageswhen displayed in a frame of the mobile device.
the screenshots were obtained from the output of the gmft.
an example of one such screenshot is shown in figure 2c.
we asked each human subjectto selectwhichofthetwoversions originalorrepaired they wouldprefertouse ontheirmobiledevice ratethereadability of each version of the page on a scale of where means low and10meanshigh and ratetheattractivenessofthepageona scale of where means low and means high.
we had identifying problematic segments segmentation identifying problematic cs s properties finding repair for mobile friendly problems figure breakdown of the running time of mfix authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
automated repair of mobile friendly problems in web pages icse may june gothenburg sweden two variants of the survey one that used the best repair as the screenshot of the repaired page and the other one that used the worst repairas the screenshot ofthe repaired page.
here thebest and worst repairs were as defined in experiment .
we used amazon mechanical turk amt service to conduct thesurveys.
amtallowsusers requesters toanonymouslypost jobs which it then matches them to anonymous users workers whoarewillingtocompletethosetaskstoearnmoney.toavoid workerswhohadatrackrecordofhaphazardlycompletingtasks weonlyallowedworkersthathadhighapprovalratingsfortheir previously completed tasks over and had completed more than approved tasks to complete our survey.
in general this isconsideredafairlyselectivecriteriaforparticipantselectionon amt.
for each survey we had anonymous participants giving us a total of completed surveys across both variants of the survey.
each participants was paid .
for completing a survey.
.
.
discussion of results.
based on the analysis of the results of the first variant of the survey we found that the users preferred tousetherepairedversionin26outof38subjects threesubjects received equal preference for the original and repaired versions and only nine subjects received a preference for using the original version.interestingly userspreferredtousetherepairedversion evenforthetwosubjectsthatdidnotpassthe gmft.forreadability all but four subjects were rated as having an improved readability over the original versions.
on average the readability rating of the repairedpagesshoweda17 improvementoveroriginalversions original .
repaired .
.
this result was also confirmed as statistically significant using the wilcoxon signed rank test with a p value .
.
.usingtheeffectsizemetricbasedon vargha delaneyameasure readabilityoftherepairedversionwas observedtobe62 ofthetimebetterthantheoriginalversion.with regardstoattractiveness nostatisticalsignificancewasobserved implyingthat mfixdidnotdeterioratetheaestheticsofthepagesin the process of automatically repairing the reported mobile friendly problems.
in fact overall our repaired versions were rated slightly higherthanoriginalversionsforattractiveness avg.original .
avg.
repaired .
and median original .
median repaired .
.
weinvestigatedtheninesubjectswheretherepairedversionwas not preferred by the participants.
based on our analysis we found two dominant reasons that applied to all of the nine subjects.
first these subjects all had a fixed sized layout meaning that the section and container elements in the pages were assigned absolute size andlocationvalues.thiscausedacascadingeffectwithanychange introduced in the page such as increasing font sizes or decreasing width to fit the viewport.
the second reason was linked to the first asthepagesweretextintensive therebyrequiring mfixtoincrease font sizes.
these results motivate future work in techniques that can better handle these types of pages.
overall theseresultsindicatethat mfixwasveryeffectivein generating repaired pages that users preferred over the original version considered to be more readable and that did not suffer in terms of visual aesthetics.
theresultsforthesecondvariantofthesurveyunderscoredthe importanceofourlayoutdistortionobjectiveandtheimpactvisualdistortionscanhaveonendusers perceptionofapage sattractiveness.theresultsshowedthattheuserspreferredtousetheoriginal non mobile friendly version in out of subjects and preferred tousetherepairedversionforonly16subjects.readabilityshowed similarresults asthefirst surveyvariant.on average animprovement of in readability was observed for the repaired pagescompared to the original versions and was still found to demonstrate statistical significance p value .
.
.
this is expectedastheenlargedfontsizescanmakethetextveryreadable intherepairedversionsdespitelayoutdistortions.however inthissurveyastatisticalsignificance p value .
.
was observedfortheattractivenessoftheoriginalversionbeingrated higher than the repaired version.
on average the original version wasrated6.
median7.
andtherepairedversionwasrated5.
median5.
.intermsoftheeffectsizemetric therepairedversion wasratedtohaveabetterattractivenessonly38 ofthetime.these resultsstronglyindicatethatthelayoutdistortionobjectiveplays an important role in generating patches that make the pages more attractive to end users.
.
threats to validity externalvalidity thefirstpotentialthreatisbiasintheselection of participants for the user based study in experiment two.
toaddress this threat we used amtthat provided us with a large pool of anonymous participants.
we only specified qualification requirementsfortheparticipantsinourstudy i.e.
highnumbersof previouslycompletedtasksandhighapprovalratings asoutlinedin section .
to ensure authentic results.
another potential threat is intheselectionofsubjectwebpagesforourevaluation.tomitigate any bias we used the home pages of websites drawn from alexa s top ranked websites from different categories.
internal validity one potential threat is that the survey used in the user based study may not render in full resolution when viewedonsmallscreendevices potentiallyimpactingtheresults.
to mitigate this threat we asked participants to enter the device they used for answering the survey so that we could isolate those results.
however only a small minority of our participants did not useadesktoporlaptop andtheresultsfromthefewwhouseda mobilephoneortablettoanswerthesurveydidnotindicateany anomalous responses.
another potential threat is the use of gmft andpsitinourapproachtodeterminemobilefriendlyproblems andmobilefriendlinessscore.however the psitistheonlypublicly available tool that reports a mobile friendliness score.
bing only offersawebinterfacefordetectingmobilefriendlyproblems unlike gmft whichprovidesanapi.furthermore gmftandpsitare stable tools that are used by google to rank pages in their own search results.
constructvalidity a potentialthreat is thatthe layout distortionobjectiveusedinourapproachquantifiestheaestheticvalue of a page which is a subjective aspect of a web page.
to address this threat we conducted two user based studies i.e.
experiment two to qualitatively understand the impact of layout distortion on the visual appeal of a page.
a second potential threat is that the numbers supplied by participants in response to the readability andattractivenessratingsthatweaskedthemtoprovidearealso subjective.
to mitigate this threat we used relativevalues given authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden sonal mahajan negarsadat abolhassani phil mcminn and william g. j. halfond bytheparticipantsforthebeforeandafterrepairversionsforthe subjects asopposedtousingtheirabsolutevalues.thatis although twoparticipants maysupply differentnumbers forthe ratingsfor the same pair of web pages they will supply higher values for one of the pages if they believe that readability attractiveness is better forthatpage.athirdpotentialthreatisthatweusedscreenshots ofthesubjectpagesintheuser basedstudyasopposedtoallowing the users to interact with the pages on mobile devices.
we selected this mechanism as we wanted the users to visualize the before and after repair versions of the pages next to each other to allow for an easycomparison.also wedidnothavecontroloverparticipants mobiledevicesandwantedtoavoidvariationsinresultsthatthis could cause.
a fourth potential threat is that the participants have abiasinselectingtherepairedversionbasedontheorderinwhich theoriginalandrepairedversionsarepresentedinthesurvey.to mitigatethisthreat werandomizedtheorderofthetwoversions foreach questionofthesurvey.
afinalpotential threatisthatthe definitionofcorrectrepair usedinourapproachmaybedifferent fromdeveloperintent.however thisthreatismitigatedbytheuser study results discussed in rq3 which show that the repairs generated bymfixwere considered visually appealing and preferred by the participants.
related work therehavebeenapproachesintheliteraturethatattempttofixpresentation issues in a web page but none of these attempt to repair mobilefriendlyproblems.thexfix technique forexample repairslayout cross browser issues xbis presentation failures arisingfromtheinconsistenciesintherenderingofawebsiteacross differentbrowsers.inthisdomain the correct presentationofthe page is available through one of the browsers the layout of which must be mimicked in another.
mobile friendly problems entail adifferent approach in which the presentation of a page must be changed to correct a series of identified issues.
there is no correct referencerenderingavailabletotherepairprocess whichmustalso maintain as much of the original aesthetics of the page as possible.
thelatterconstraintmotivatestheuseofthesegmentmodelinthis paper sapproach section3 whichenablescertainpropertiesof relatedhtmlelementstobeadjustedinproportiontooneanother.elsewhere cassius proposesaframeworkbasedonautomated reasoning for debugging and repairing faulty css.
however thetechnique assumes as input the faulty source lines in css files and a set of page layout examples that the technique can use tosynthesize repair.
these are unavailable in the problem domainof mobile friendly issues however where the only informationavailable is the types of mobile friendly problems that exist in a page.meanwhile phprepair andphpsync detectandrepair html syntax problems in web applications.
also wang et al.
presentatechniquethatusesstaticanddynamicanalysis to repair web applications by propagating a given presentation fix to the server side source code.
however none of these techniques specifically address mobile friendly problems and would be unable to provide suitable repairs for them.
other approaches circumvent mobile friendly problems by presenting alternative versions of a desktop website rather than byissuingrepairs.forexample commercialservicessuchasbmobilized wompmobile mobilifyit duda andmobify canconvertagivendesktopwebsitetoamobilefriendly versionusingpre designedtemplates.althoughhelpful thesolutions are not appropriate in all situations.
firstly the templates are unlikely to capture the carefully crafted layout and graphics designedforthedesktopversions possiblyunderminingthebranding efforts a company is trying to achieve.
our approach avoids these limitationsbymaintainingaclosesimilaritytotheoriginalversion.
second theoutputrepresentsaseparatemobilefriendlywebsite with a new url requiring the development team to maintain two websites.incontrast ourapproachgeneratesacssmediaquery patch that is added to the existing css of the original website and that will only be triggered if the page is requested from a device with a smaller screen size.
alternatively modern browsers such as chrome safari and firefox provide a reader mode intendedforeasyclutter freeviewingofwebpagesonmobiledevices by presenting its text only and stripping out layout and page styling.
the primary purpose of this mode however is to allow for easierreadingofapage sprimarycontent ratherthantoaddress mobile friendly problems.
techniquesfromtheresearchcommunitytargetvariouspartsof thedetectionandlocalizationprocessforvarioustypesofuirelated problems in web apps such as xbis presentation failures internationalization responsiveweb pageproblems andneed to translatestrings .however the problems detected by these approaches do not overlap with mobile friendly problems and their solutions are too specific to generalize to this broader domain.
conclusion and future work inthispaper weintroducedanapproachfortheautomatedrepairofmobilefriendlyproblemsinwebpages.ourapproachfirstsegments the page into elements forming natural visual groupings.
it then builds graph based models of the segments and layout of the page andusestheconstraintsrepresentedbythesegraphstocompute a repair that can improve mobile friendliness while minimizinglayoutdisruption.intheevaluation wefoundthatourapproach was effectivein resolvingmobile friendly problemsfor of the subjectsandrequiredonlyanaverageoffiveminutespersubject.
in a user study the participants overwhelmingly preferred the repaired version of the website for use on mobile devices and also consideredtherepairedpagetobesignificantlymorereadablethantheoriginal.overall theseresultsareverypositiveandindicatethatourapproachcanhelpdeveloperstoimprovethemobilefriendliness of their web pages.
one possible direction of future work is to extend our approach to handle complex transformations such as converting navigation links to dropdown menus.
this would pose new research challenges such as analysis to identify which lists of hyperlinks could be grouped into a drop down menu a refactoring to carry out this change and a method to quantify the change s impact.