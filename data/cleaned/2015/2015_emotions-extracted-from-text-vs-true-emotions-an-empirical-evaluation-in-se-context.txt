emotions extracted from text vs. true emotions an empirical evaluation in se context yi wang rochester institute of technology lomb memorial dr. rochster ny wang cocolabs.org abstract emotion awareness research in se context has been growing in recent years.
currently researchers often rely on textual communication records to extract emotion states using natural language processing techniques.
however how well these extracted emotion states reflect people s real emotions has not been thoroughly investigated.
in this paper we report a multilevel longitudinal empirical study with individual members in project teams.
we collected their self reported retrospective emotion states on a weekly basis during their year long projects and also extracted corresponding emotions from the textual communication records.
we then model and compare the dynamics of these two types of emotions using multiple statistical and time series analysis methods.
our analyses yield a rich set of findings.
the most important one is that the dynamics of emotions extracted using text based algorithms often do not well reflect the dynamics of self reported retrospective emotions.
besides the extracted emotions match self reported retrospective emotions better at the team level.
our results also suggest that individual personalities and the team s emotion display norms significantly impact the match mismatch.
our results should warn the research community about the limitations and challenges of applying text based emotion recognition tools in se research.
i. i ntroduction emotional states are constantly felt communicated and diffused through face to face and or computer mediated interactions .
literature in applied psychology and management has revealed that emotional states have significant influences on various outcomes at both individual and organizational levels .
of course this also applies in se activities .
recently researchers have begun to study how emotional states impact se activities as well as developers wellbeing .
to leverage emotion awareness the first step is correctly recognizing various emotional states at both individual and organizational levels.
researchers have developed automated computational methods to recognize the human emotions from various sources such as physiology signals speech and or facial expression text etc.
among these emotion identification methods extracting emotion states from textual communication records is prevalent in se research .
these techniques are very convenient because of the high data availability online openly accessible repositories low cost no special instrument cost and technical readiness many sophisticated algorithms developed in nlp area .
it is also fit the context of distributed software development well since the face to face interactions are minimal and many collaborative activities have to relyon text based communications .
fig.
shows a typical pipeline of developing text based emotion prediction models.
it first builds a large unlabelled text corpus which is usually from online repositories or publicly available datasets.
then a small proportion is sampled and labeled by human annotators.
the labeled text is used for training and testing the model.
6dpsolqj dujh 8qodehohg dwdvhw6pdoo 8qodehohg dwdvhw6pdoo dehohg dwdvhw prwlrq deholqj e xpdq qqrwdwruv ojrulwkpv udphzrunv prwlrq 3uhglfwlrq prghov fig.
.
a typical pipeline of developing text based emotion prediction models.
note that we omit some minor tasks e.g.
data preprocessing in the pipeline.
this family of techniques has a fundamental limitation.
let us have a look at the second task emotion labeling by human annotators highlighted by the grey box in fig.
.
even we do not consider the possibility of annotators misinterpretations during the labeling task the labeled emotions are merely their perceptions of the emotions conveyed by the text.
there should be some discrepancies mismatches between annotators perceived emotions and people s genuine emotions .
such mismatches might be not a big issue in the domain where these nlp techniques are originally developed i.e.
social media analysis.
because people tend to be freely express their actual feelings particularly the negative ones on social media such as twitter .
however it becomes questionable if individuals still enjoy the same level of freedom to express their emotions in project teams .
individual team members have to follow social norms and routines to express themselves some of them may experience organizational emotion suspension .
even in the open source projects which are usually treated as informal organizations social interaction and selfexpression are still mostly regulated by the power structure professional norms and so on .
for instance wei et al.
found that both core and periphery members in open sources projects tend to use more polite language to convey positive emotions but hide negative ones .
this problem is non trivial.
it is fundamental for emotion awareness research in the se.
unfortunately as far as our current knowledge there are no empirical comparisons between 34th ieee acm international conference on automated software engineering ase .
ieee authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
true emotions and extracted emotions.
there are a few recent studies e.g.
start challenging the reliability of sentiment emotion extraction methods.
however their discussions mostly focus on the differences between extracted emotions and the emotions labeled by human annotators rather than the inherited validity threats from third person coding process.
we seek to fill this research gap through empirical inquiries.
hence we ask the following main research question rq 1from the dynamic perspective how well do the emotions extracted from the text reflect the true emotions at both individual and team levels?
prior literature has shown that two important factors personality and the organization s emotion display norms significantly impact people s emotion expression at the individual and the team level respectively.
we want to explore their influences on the match mismatch between emotions extracted from the text and the true emotions.
hence we have rq what are individual personality s influences on the match mismatch between emotions extracted from the text and the true emotions?
rq what are the team s emotion display norms influences on the match mismatch between emotions extracted from the text and the true emotions?
to answer the above research questions we design and conduct a longitudinal empirical study lasting weeks with team projects whose members are mostly it professionals seeking professional msc.
in information systems degrees.
we collect their textual communication records true emotions retrospective emotions collected every week1 and other relevant data.
we use state of art deep learning methods to extract the retrospective emotions joy anger sadness and fear from textual communication records model them into a set of time series and compare them with true emotions.
the analyses yield a rich set of findings.
the most important one is that emotions extracted by the algorithm do not well reflect the true emotion dynamics hence poses a significant challenge to applying text based emotion extraction techniques in se.
we also discuss the implications of the study to guide the future applications of text based emotion recognition techniques.
specifically the study described in this paper makes the following major contributions an empirical study demonstrating the mismatches between the dynamics of emotions extracted from the text reflect the dynamics of true emotions in the se context.
as far as our current knowledge it is the first empirical study addressing this important validity issue.
an evaluation of two critical individual and team factors impacts on the match mismatch between emotions extracted from the text reflect the true emotions.
implications of the study that help to better apply text based emotion recognition methods in se research.
1in emotion literature emotional experience is often captured in either momentary or retrospective ways.
in this paper we use retrospective emotions which are ratings of people s emotional experiences after an extended period.
for more details see section ii a section iii d and section iv c3.ii.
b ackgrounds we start by providing a brief overview of emotion theories in psychology.
later we introduce several representative textbased emotion recognition tools.
a. psychology of emotions emotions are pervasive among humans and have unique values in dealing with fundamental life tasks .
understanding one s emotions and emotional style build on a vast amount of research in emotional psychology and affective science.
psychologists have proposed many theories that classify human emotions .
according to the discrete emotion theory which is the mainstream view among psychologists some emotions are considered basic .
these basic emotions are assumed to be biologically determined emotional responses whose expression and recognition is fundamentally the same for all individuals regardless of ethnic or cultural differences.
a number of empirical and analytical theories have been proposed to classify basic emotions.
ekman in his study of analyzing individual s facial expressions proposed six universal basic emotions anger disgust fear joy sadness and surprise .
although ekman s basic emotion set is frequently used for emotion mining and modeling there also exist a wide variety of basic emotions models.
for example in a recent study cowen keltner from uc berkeley reported that they identified basic emotions using crowdsourced video analysis of videos.
in this paper we use the four of the six basic emotions in ekman s model.
the four emotions are joy anger sadness and fear .
we choose it mostly for practical considerations.
most of the state of art emotion recognition techniques in nlp focus on these four emotions .
momentary vs. retrospective emotions emotions are dynamic psychological processes that may turn on and off in a matter of moments.
e.g.
a person may feel very sad in the morning but become happy after a great lunch.
momentary emotions refer to such emotional experiences .
the experience sampling methodology esm is widely used to capture ratings of momentary emotional experiences.
it asks a study participant to report several times emotional experiences during a day.
emotions also can be captured through selfreport retrospective ratings .
a typical way is to ask a study participant to rate the emotions s he experiences in a week.
researchers have found that that people remember their emotions quite accurately after days or one year .
it is hard to say which one is better.
both of them have limitations and biases.
while esm focuses on individuals current or very recent experiences and use multiple assessments over time in everyday life it may be quite burdensome or lead to response shift .
similarly retrospective selfreports emotions may be biased by a variety of heuristics such as personal relevance and significance of reported experiences social expectations and an individual s memory capacity .
in fact there are some quantitative relationships between momentary and retrospective emotions.
the most important one is the peak end rule i.e.
the retrospective emotion is the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
combination of peak and the end most recent momentary emotions .
in this study we use the weekly retrospective emotions .
this decision is based on practical considerations.
our study takes almost a year.
using esm even at daily basis would be too burdensome for the participants.
many may just skip the daily esm surveys.
this would ruin data collections too much missing data and data analyses too many s making some tests falsely significant .
weekly emotion survey is widespread in psychological research for longitudinal studies e.g.
flueckiger et al.
collected emotions roughly on a weekly basis times year .
the paper was published in emotion one of the apa s flagship journals.
psychologists do recommend weekly retrospective emotion surveys for studies taking extended periods .
b. text based sentiment emotion recognition researchers communities have developed many tools to support automatic emotion extraction from text.
some early tools are often based on word counting i.e.
mapping words in the text to some emotion lexicon e.g.
.
recently the machine deep learning based techniques are replacing word counting techniques.
from several dozens of such learning based techniques we select the following four that represent a variety of similar techniques and have the potential to be used in se scenarios.
emotxt this is a toolkit for emotion recognition from the text.
as far as our current knowledge it is the first domainspecific tool for software development tasks.
e motxt contains six binary classifiers.
each classifier uses uniand bi grams emotion lexicon politeness sentiment score and uncertainty to classify textual data related to software development.
emotxt can detect six emotions in ekman s basic emotion model.
using a jira dataset created by ortu et al.
and a homemade stackoverflow dataset the tool exhibits good performances.
senti 4sd it was developed by the same group of researchers who proposed e motxt.s enti 4sd is a sentiment polarity classifier for software developers artifacts .
the classifier is trained and tested on a gold standard of over 4k posts mined from stack overflow and manually annotated with emotion polarity.
the novelty of senti4sd lies on incorporating semantic features through a dimension word embeddings trained on a large stack overflow dataset.
naacl s emeva l s hared task the semeval workshop which was held during naacl hosted a shared task for detecting emotions in twitter2.
the shared task took the form of competition.
during the competition the participating teams around the world would try to develop algorithms to classify emotions on twitter.
seventyfive teams about team members participated in the shared task or its sub tasks.
the competition generated a range of algorithms using different classification techniques .
some of them achieved excellent performances.
in general it is fair to say that the algorithms reported at the shared task represent the state of art progress of learning emotions from the text in the nlp and computational linguistics areas.
wat s o n tone analyzer this is an off the shelf solution for detecting emotions and language tones in written text.
it is implemented as a restful service of ibm watson developer cloud.
the service can return results for the following tone ids joy anger fear and sadness emotional tones analytical confident and tentative language tones .
the current version uses neural embedding framework to predict emotions .
in addition to predicting emotion states it also provides a confidence score to indicate how confident the algorithm is in detecting such a tone.
however the confidence score does not necessarily represent the intensity of a predicted emotion though they are often correlated.
iii.
e mpirical study design a. research settings the study is performed at a medium sized public university mpu3 in the midwest region of the united states.
the university offers a master of science in information systems msc is program through its college of business and information systems.
the program admits both local and remote online students.
they follow the same study plan and degree requirements.
in the cohort of graduates there are local students and remote online students.
most students out of are part time students who have full time jobs.
the program requires every student to take a team based capstone project during the last two semesters of the study plan.
in each semester the capstone project equals a regular credit course.
the initial project ideas are solicited from faculty members and industrial partners of the university.
the project ideas are evaluated and voted by all information systems faculty members to ensure their technical difficulties and scopes are manageable.
according to each year s enrollment number and the rankings of the voting results a subset of the project ideas is selected for students to choose at the end of the first year s spring semester.
each student is asked to express her interests by providing a ranked list of five projects.
then the instructors use a simple matching algorithm to assign students into teams according to their preferences.
the matching process also ensures that at most one local student would be assigned in each team.
through this intervention every team has to practice distributed software development.
the instructors send the notifications to the students on aug 1st roughly one month before the new fall semester.
the invitation to participate in the study is also sent along with the notification.
to encourage 3we use mpu to refer the university through the paper for keeping the anonymity.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
the participation each member in all participating teams will receive a amazon gift card4.
each team is instructed to create a slack workspace which must have a dev channel for discussing topics related issues in addition to the default general and random channels.
the messages in the dev and general channels are the primary sources of the textual communication records.
b. subjects the subjects are from the cohort of the msc in is graduates.
as we mentioned before they are assigned to teams.
teams choose to opt out the study.
so the final sample has teams and individuals5.
in general most of the subjects have at least one year professional software development experiences.
c. data collection process fig.
describes the primary data collection process from to spanning two full semesters.
the fall semester at mpu starts from week .
during this week the instructors hold an online study briefing meeting with all teams who give their consent for participation.
teams also set up the slack channels and finish the online bfi personality survey.
then we send a weekly retrospective emotion survey to each participant every week except for the winter break.
we also offer an immediate emotion survey which participants can send us their emotion states if they feel necessary.
however this survey is never used by the participants.
in the last week we send the survey of team emotion display norms to participants.
a debriefing also happens in this week.
d. measurements personality we use the big five personality model in this study.
big five personality model uses five broad dimensions to describe the human personality .
these five dimensions are openness to experience conscientiousness extraversion agreeableness and neuroticism .
big five personality model has been widely used in cscw and software engineering research for a variety of purposes for example .
we use the big five inventory bfi to measure the personality.
bfi is one of the most widely used measurement instruments for big five personality models.
thousands of studies in various areas have examined its validity and reliability.
bfi contains items which are short descriptions of personal characteristics.
a typical item is i see myself as someone who original comes up with new ideas.
subjects rate the extent to which she agrees or disagrees with each item s statement on a point likert scale strongly disagree strongly agree .
we use the average score of all items in a dimension as the dimension s value.
the cronbach s alphas range is from .
to .
for the five dimensions.
4to ensure their participation is voluntary we explicitly inform the students that their participation does not influence their final grades.
instead we use the gift card as the compensation.
5there is a member team.
true emotions the true emotions are measured using an adapted version of premo .
as we mentioned in section ii a we only focus on four emotions and their intensity we do not need a full version of premo containing emotions.
the non verbal facial expression based emotion measurements usually more reliable than verbal based measurement instruments .
in this study we use universal emojis to represent the facial expressions of emotions and ask the subjects to use a thermometer to report the intensity.
fig.
shows a question in our weekly true emotion data collection questionnaire.
since the true emotions are collected in a retrospective way.
the extracted emotions from textual records should also be retrospective to make comparisons between true emotions and extracted emotions valid.
we use the peak end rule to compute the extracted weekly retrospective emotions after the selected algorithm determines daily emotion intensities.
for details please refer to section iv c. team s emotion display norms we use a simple twofactor model for a team s emotion display norms.
the two factors are positive emotion display norms and negative emotion display norms.
they are measured using the item questionnaire developed by eid diener slightly modified to suit the context of the current study.
the questionnaire s opening line is while working in the capstone project team when communicating with your teammates to what extent is it appropriate to express the following emotions when you experience them.
responses were given on a point likert scale not at all to a great extent .
the cronbach s alpha is .
for the positive and .
for the negative emotions.
aggregation to investigate the team level mismatches we aggregate two variables from the individual level to the team level.
they are a team s collective emotions and emotion display norms.
following the common practices in psychometrics we use the average of individuals emotion intensity scores to represent the team s collective emotion intensity for a specific emotion in each week.
similarly we use individual scores averaged by the team for the team s emotion display norms.
to ensure the feasibility of aggregation from the individual level to the team level we use two measures of the within group agreement.
the first measure is the intraclass correlation coefficient icc and the second measure is the interrater reliability coefficient irr .
for icc the results reach statistical significance p .
01to.
for all four emotions in all groups as well as the team emotion display norms.
the irrs range from .
to .
.
both suggest the aggregations are very reliable.
due to the restriction of space we do not include all iccs and irrs in the paper.
e. collected data the data collection results in three types of data.
true emotion states weekly emotion survey results for individuals aggregated collective emotions for teams textual team communication records messages on the slack channel author time and mentioning information authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
hhn 3urmhfw .lfnrii 6wxg eulhilqj qlwldo phhwlqj 6hwwlqj xs wkh ghy 6odfn fkdqqho qirupdwlrq frqvhqw qlwldo vxuyh iru 3huvrqdolw hhn hhno vxuyh iru hprwlrq vwdwhv wrwdo prwlrq zdv fdswxuhg xvlqj uhylvhg 3u pr 7khuh duh wkuhh nh plohvwrqhv hhn grpdlq prgho hhn lqwhulp uhsruw hhn suhvhqwdwlrq ghpr hhn 3urmhfw uds xs 6wxg gheulhilqj 7hdp v hprwlrq glvsod qrupv vxuyh fig.
.
the data collection process.
note that there was a winter break around weeks between the two semester.
we ignored this period because most teams activities were halted during the winter break.
table i da tasets and their purposes .
no.
dataset type source size purposes i stackoverflow dump data unlabelled text archive.org 30m for pretraining se word embeddings.
ii communication records text slack workspace for identifying emotion states to answer the main research questions.
iii task specific dataset see section iv b labelled a sample of dataset ii for training and fine tuning the final emotion intensity prediction models.
vi true emotions individual numeric weekly survey for answering rq1by comparing with extracted emotion states.
v true emotions team numeric computed from v same as the above dataset vi.
vi personality profiles individual factor survey for answering rq2 vii emotion display norms org.
factor survey for answering rq2 .
there are some overlapping messages for each of the three negative emotions so the total number of unique message is instead of .
see section iv b for details .
.
aggregated from individual responses.
fig.
.
a question in weekly true emotion survey.
personality team s emotion display norms responses of bfi and team s emotion display norms surveys.
we also collect a massive unlabelled general software development textual data from the stackoverflow data dump.
although this dataset is not directly related to answering the research questions it is necessary for training the emotion prediction models.
tab.
i illustrates the different datasets and their usages.
for the meaning of some usages related to model training please refer section iv c1.
iv .
d ata prepara tions a. preprocessing textual data the preprocessing consists of three major tasks tokenization spell correction word normalization.
we use the adapted ekphrasis tool for preprocessing the supplementary data.
we follow the guidelines in .
we also compile a specific software development dictionary for the preprocessing.b.
creating the task specific emotion intensity dataset we also create a manually labeled dataset for emotion intensity regression training and testing for our study s specific emotion intensity regression task.
the current practice of creating such datasets is merely random samplings.
however a random collection of messages is likely to have a significant proportion of messages not associated with the focus emotion and thus annotating all of them for the intensity of emotion is suboptimal.
to solve this problem we use a multiple step approach presented in .
in the first step for each emotion we select to terms that are associated with a specific emotionxat different intensity levels using the word affect intensities lexicon .
using these terms we get a subset of messages for emotion x. then we randomly select for joy the only positive emotion from the corresponding subset of messages.
for the three negative emotions we first randomly select for each emotion.
these messages are annotated for all three negative emotions.
then for each of the negative emotions we also chose additional messages from their corresponding message sets which were annotated only for the corresponding emotion.
due to the restriction of the space interested readers should refer to for the rationale and more details of this process.
we recruit professional developers to annotate the emotion intensity through crowdsourcing.
this method has been widely used in the nlp community to generate high quality labeled authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
corpus .
we utilize the upwork.com a professional crowdsourcing platform to recruit annotators.
for each message three annotators label the emotion intensity in a scalefor each emotion.
for each message if there is a .
orhigher differences among any two annotators emotion inten sity scores we ask a fourth coder to resolve it.
in total 482messages require the involvement of the fourth coders.
afterthe resolving process concludes we then take the average ofall annotators scores as each message s emotion intensity.
eventually we build a dataset containing annotated messages for each emotion.
since there are some overlapsamong the three negative emotions the dataset contains unique messages in total.
c. extracting emotions in the textual records we adapt the ntu a slp algorithm to extract emotions from the collected team communication messages.
as wementioned before ntu a slp is the winning algorithm of the naacl s emeva l s hared task see section iib .
as the winning algorithm ntu a slp reflects the recent progress in the nlp community and uses a deep learningframework rnn .
note that we only use the algorithmto calculate emotion intensities at the individual level on adaily basis.
the weekly individual retrospective emotions anda team s collective emotions are calculated based on dailyindividual emotions.
however the algorithm cannot be directlyapplied.
we have to perform some customization and retrainthe model for our task.
we will introduce the transfer learningfor mtua slp and its performances on our dataset.
transfer learning for ntua slp ntua slp is designed for predicting the emotion intensities for tweets.
wehave to do some transfer learning tasks and retrain modelswith the data set from the software development domain.fortunately ntu a slp is implemented in an architecture that is easy for transfer learning.
indeed itself is consists oftransfer learning models.
using the same learning frameworkin we take three steps as follows the word embeddings pretraining where we train the dimension word2vec and affective word embeddings on alarge unlabeled stack overflow dataset the transfer learning step where we pretrain a deep learning model on a sentiment analysis task the fine tuning step where we fine tune the pretrained model for predicting emotion intensities in the softwaredevelopment domain.
fig.
shows how we adapt the original ntu a slp learning framework.
we use our own task specific emotion intensitydataset described in section iv b to train and test the model.we divide the training and testing data at the ratio .
performance of the adapted algorithm tab.
ii summarizes the algorithm s performance.
we report two metrics mean absolute errors maes and pearson correlations.
ingeneral ntu a slp performs well across all four emotions although its performances are slightly worse than but stillcomparable to the performance metrics reported in .
dwdvhw 3uhwudlqlqj dwdvhw 7dvn dwdvhw3uhwudlqlqj wdvn 3uhglfwlrq wdvn3uhsurfhvvlqj pehgglqj 3uhwudlqlqj rug pehgglqjv 3urfhvvhg 3uhwudlqlqj dwdvhw 3urfhvvhg 7dvn dwdvhw pehgglqj d hu lqdo d hu7dvn 6shflilf d hu7 zhljkwv fig.
.
overview of the adapted ntua slp .
we keep the learning framework but replace the twitter datasets with software development datasets.
table ii the performances of the selected algorithm .
joy anger sadness fear ntua slp mae .
.
.
.
pearson .
.
.
.
extracting weekly retrospective emotions we follow the pick end rule when extracting weekly retrospective emotions.
for each individual we organize his or her textualrecords by day in each week.
we extracted every day semotions using the adapted ntua slp algorithm first.
then for a specific emotion we identified the peaks and the ends toapply the peak end rule for calculating weekly retrospectiveemotions .
for instance if the peak joy is .
on wednesday and the end joy on sunday is .
the weekly retrospective joy is .
.
for a team s collective emotional experiences we use the average of all its team members individual weekly retrospective emotion intensities.
d. modeling the emotion dynamics emotion is a dynamic concept.
indeed investigating the dynamics of the emotion over the life cycle of a distributed se team makes more sense than treating them as isolated discreteemotion states.
hence we model the emotions extracted andtrue as time series.
our study focuses on four emotions therefore for each individual or team there are time seriesconsisting of true ones and extracted ones.
we use ae xtto denote the time series for the true emotion xwherex joy anger sadness fear .
the element of ae xtisx s emotion intensity at week i. for we conduct weekly emotion survey ae xthas elements in sequential time order.
in total we have ae xts at the individual level and 108ae xts at the team level.
similarly we use ee xtto denote the time series for extracted emotion x. during the emotion extraction we organize an individual or a team s textinto weeks.
hence for an individual or a team the extractedemotion intensities also have data points on emotion x. the total number of time series are also at the individual level and at the team level.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
v. d ata analysis the goal of the data analysis is to quantitatively compare the dynamics of true emotions and the dynamics of extracted emotions.
if they are matches researchers and practitioners could be confident to use the extracted emotion states in many distributed collaboration and software development scenarios.
if there are many mismatches researchers may need to be cautious.
besides if an individual s personality does correlate with how well the extracted emotions reflect true emotion researchers may have better insights on how to use the extracted emotions.
for rq data analyses happen at two levels individual and team.
for rq we analyze the data at the individual level because personality is an individual characteristic.
for rq we analyze the data at the teamlevel since the emotion display norms are team level factors.
qdplfv ri wuxh hprwlrqv qdplfv ri h wudfwhg hprwlrqv7lph 6hulhv rlqwhjudwlrq qdo vlv54 rjlvwlf 5hjuhvvlrq hvfulswlyh qdo vlv 3huvrqdolw 6xuyh prwlrq lvsod 1rupv 6xuyh qdplfv ri wuxh hprwlrqv qdplfv ri h wudfwhg hprwlrq v fig.
.
the overview of the data analyses.
a.rq cointegration analysis fig.
depicts the overall process of data analyses.
to answerrq we use a special time series analysis techniques cointegration.
to answer rq we use logistic regressions.
we do a descriptive analysis for rq 2because of the small sample size teams .
note that answering rq 2requires the results of cointegration analyses for rq .
the three statistical and time series analysis techniques and how we apply them are introduced in the rest of the section.
they are performed with r .
.
and its associated packages for mac os high sierra version .
.
.
we follow the american statistical association s principles to interpret the statistical results .
it is very intuitive to calculate the correlation between two collections of data.
however for a pair of time series simple correlation analysis is not sufficient to describe the relationships between them because correlation analysis entirely ignores the sequential orders related to time.
two highlycorrelated time series can diverge significantly.
we need some analysis that can deal with the time orders.
cointegration is a time series analysis technique frequently used in quantitative finance.
cointegration is better than correlation as an indicator of how similar the shapes of two time series.
intuitively if two time series are cointegrated they are unlikely to diverge too much over time7.
thus these two time series can be viewed as mutual predictable .
hence we can use it here to test the degree to which two different traces are similar to each other.
7in a more formal word the time series representing their differences is stationary.we use the engle granger two step method which was developed by two nobel laureates in economic science robert engle and clive granger in their classic econometrica paper .
let us suppose that true emotion time series for a specific emotionxisae xt and extracted emotion time series is ee xt.
ifae xtandee xtare non stationary and cointegrated then a linear combination of them must be stationary ae xt ee xt rxt w h e r er xtis stationary.
in the first step the engle granger two step method estimates rtusing ordinary least square ols regression.
then the second step needs to test if rtis stationary.
we use the augmented dickey fuller adf test to fulfill the second step with the adf.test function in r stseries package .
we usep .05as the critical value for the adf test.
as same as the number of correlation tests at the individual level there are cointegration tests at the team level there are tests.
in total we perform cointegration tests8.
b.rq logistic regression therq 1is about assessing if individual members personality s impacts on the match mismatch between true emotions and extracted emotions.
we use logistic regression to answer this research question.
in the logistic model the personality dimensions are the independent variables while cointegration results are coded into a binary variable as the dependent variable.
because the analysis requires the results from the cointegration analyses we provide more details in the next section.
we also control several variables when performing the logistic regressions.
they are age gender and experience in software development.
c.rq descriptive analysis because of the relatively small sample size performing logistic regression as what we do for rq 1may not provide reliable results.
we use descriptive analysis to answer rq .
for each emotion we divide teams into two groups one contains the teams whose dynamics of extracted emotion match that of true emotion the other contains the rest.
we plot the team emotion display norms for intuitive comparisons.
vi.
r esults and findings in this section we report the results and provide answers to the research questions.
a.rq how well do the extracted emotions reflect true emotions?
fig.
shows the results of cointegration analyses of all subjects and teams.
the first three series on the top are individual level results while the fourth series are team level results.
each hollow dot indicates a significant cointegration test result.
let us take subject as an example.
there are two hallow dots at the lines for joy and sadness .
this means the cointegration tests between the true emotion time series and 8before the cointegration analyses we test the non stationary assumptions for all time series.
no stationary time series is found in our data.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
6xemhfw 1rwh dfk kroorz grw uhsuhvhqwv wkh vxemhfw whdp v frlqwhjudwlrq whvw uhvxow lv vljqlilfdqw s dw rqh ri wkh irxu hprwlrqv uhsuhvhqwhg e wkh gdvk olqh r qjhu 6dgqhvv hdu 6xemhfw 7hdp 6xemhfw r qjhu 6dgqhvv hdu r qjhu 6dgqhvv hdu r qjhu 6dgqhvv hdu qglylgxdo hyho 5hvxowv w k h 7hdp hyho 5hvxowv fig.
.
the results of the cointegration analyses at both individual and team level.
the extracted emotion time series are significant on these two emotions.
the same denotation applies to team level results also.
individual level results obviously the results suggest significant mismatches at the individual level.
in all four emotions joyhas the best matching between true emotion and extracted emotion.
however only out of cointegration tests are significant indicating only .
individuals extracted joy emotion dynamics well reflected their true emotion dynamics.
for the rest three negative emotions the results are much worse.
none of them achieves marches anger .
sadness .
fear .
.
there are individuals subject and who have no emotion to be well reflected by the extracted emotions.
it is not surprising that the extracted emotion joy better reflects the true emotion joy.
people are more likely to express positive emotions and hide negative emotions in teams .
particularly being anger in a work environment is often viewed as a kind of unprofessional behavior and a sign of lacking personal emotion regulation .
moreover it requires a substantial amount of power to obtain the privilege of expressing anger in most organizations .
therefore the extracted emotion anger does the worst job in reflecting the true emotion anger .
team level results compared with individual level results team level ones are generally better.
similarly the emotion joy has the best results which achieve more than .
out of matches between the extracted emotion dynamics and true emotion dynamics.
for the rest three emotions the results are also better anger .
sadness .
fear .
.
though the matches for anger is still less than sadness and fear are all around .
there is only one team team that has no significant cointegration on all four emotions.
it is reasonable that the team level results are better than individual level results.
consider a situation that some team event triggers some emotions.
since a team has more than one members the chance for some of them speak out their emotions is often higher than an individual .
hence it is more likely to capture the true emotions at the team level.
hence we can answer rq 1as follows in general the dynamics of emotions extracted using textbased algorithms often do not well reflect the dynamics of true emotion.
the extracted emotions perform better at the team level than they do at the individual level ones.
besides the extracted positive emotion s performances are consistently better than negative emotions performances.
b.rq what are the personality and team s emotion display norms influences?
rq individual personality to examine the personality s impacts we recode the cointegration results.
for each cointegration test if the results are significant a match between extracted and true emotion dynamics we code it as otherwise a mismatch .
hence for each emotion there are binary data points.
we use it as the dependent variable and run a logistic regression for each emotion.
thus we have logistic regression models summarized in tab.
iii.
first of all individuals personalities do impact how well the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table iii logistic regression results of personality simpacts predictors joy anger sadness fear intercept .
.
.
.
control var .
age .
.
.
.
gender .
.
.
.
experience in se .
.
.
.
independent var .
openness .
.
.
.
conscientiousness .
.
.
.
extr aversion .
.
.
.
agreeableness .
.
.
.
neuroticism .
.
.
.
mcfadden s r squared .
.
.
.
2 .
.
.
.
number of obs.
note.
p .
p .
p .
mcfadden s r squared is a pesudo r squared .
dynamics of extracted emotions reflect that of true emotions.
all models for the four emotions are significant see the line of 2 s in tab.
iii .
among the five personality dimensions it is easy to find that openness to experience and neuroticism almost always have positive impacts on the probability of the match between extracted emotion dynamics and true emotion dynamics.
understandably an open person may tend to express his her emotions while a moody high in neuroticism person may do the same.
higher extraversion often leads to better matches for negative emotions but does not have a significant impact onjoy.
this consistent with the prior research that the extravert people are less cooperative and respect social norms less hence often have fewer restrictions to express negative emotions .
the agreeableness is just in the opposite.
hence we can answer rq 1as follows the dynamics of extracted emotions are more likely to reflect better that of true emotions for those who are high in openness and neuroticism almost in all emotions.
meanwhile for those who are high in extraversion the chances of mismatches on negative emotions anger fear sadness are significantly higher while the effects are in the opposite for people high in agreeableness.
rq team s emotion display norms as what we do for answering rq we also recode the team level cointegration results into a match mismatch binary variable and then perform some simple descriptive analysis.
fig.
visualizes the average team s emotion display norms of both positive and negative emotions grouped by the recoded cointegration results.
for the emotion joy the average of positive emotion display norms values is higher when the results are matches the average of negative emotion display norms values is also slightly higher.
it is straightforward because high values on positive emotion display norms mean that ateam is expecting members to show more positive emotions.
for the three negative emotions it seems that the averages of positive emotion display norms do not change too much no matter what the cointegration results are.
however the averages of positive emotion display norms are often higher when the results are matches particular for the emotion anger .
the second subfigure of fig.
is about anger .
the average value of the negative emotion norms is about neutral in likert scale which means the team neither encourage nor discourage the expression of negative emotions.
hence it suggests that when a team does not discourage expressing negative emotions its members often tend to express their anger.
fig.
.
the differences of team s emotion display norms on different cointegration analysis results of four emotions.
hence we can answer rq 2as follows f or the emotion joy when a team s positive emotion norms are high the extracted emotion are more likely to match the true emotion.
f or the emotion anger when a team s positive emotion norms are high the extracted emotion are more likely to match the true emotion.
f or sadness and fear though there are some differences they are relatively small.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
vii.
d iscussions a. implications in general the results are a little bit discouraging indicating that the emotion states extracted from the textual communication records may not well represent the true emotion dynamics experienced by team members.
the study provides several important implications for applying text based emotion recognition techniques in se research.
first it warns se research community about the limitations and challenges of applying text based emotion recognition techniques.
such limitations and challenges are systematic and reflect a fundamental construct validity issue of such methods.
though it is almost impossible to completely solve this problem it is still possible to figure out practical cheat sheet for minimizing this systematic error.
a cheat sheet may tell researchers that using such techniques should be safe in some empirically validated specific user scenarios.
our results give some hints for it.
i.e.
when a team s positive emotion display norms are high using team level extracted positive emotions may be a good idea.
moreover our results also demonstrate the necessities of considering individual and organizational factors.
many of these factors can be automatically learned e.g.
ibm watson s personality insights .
carefully using them to complement text based emotion recognition techniques may alleviate the validity concerns.
second our study also urges a synthesis of emotion recognition methods beyond text based ones.
affective computing community has made significant progress in using speech facial expression and other signals to detect emotion.
although these methods are hard to be applied in mining software repositories using them in control lab experiments and or field studies will bring fruitful results to the emotion awareness studies in se.
third our study takes a dynamic view of emotions.
this reminders researchers that the change of emotions may be more important than a snapshot of emotions.
hence we expect more researches in this direction.
lastly our efforts on adapting ntua slp demonstrate that it is necessary to systematically perform domain adaptations to keep track of the state of art progress in the nlp community.
building community infrastructure e.g.
datasets transfer learning frameworks processing pipelines and so on will undoubtedly accelerate the knowledge transfer from domains such as affective computing or nlp to se.
b. threats to v alidity from the perspective of construct validity we must admit that human emotion itself is a complex construct.
we follow standard psychometric method to measure it during the data collection.
we purposely adjusted emotion extraction to ensure fair comparisons between true emotions and extracted emotions.
these help us to remove most of the construct validity.
for the emotion extracted from the text examining its construct validity is exactly one of the research goals of the study.
from the perspective of internal validity we must admit that we could not perfectly control characteristics andprogresses of the subjected projects.
for example although most communication happens in slack teams may also use other communication methods e.g.
video meeting during the development process.
besides because the research goals do not require cross team comparisons lacking random control in the natural setting is no longer a significant threat.
in extracting emotions from the text we use the state of theart algorithms with adaptations to the study contexts.
we acknowledge that some parameters might be further tuned to increase emotion prediction performances.
however the space for such improvements should be limited.
from the perspective of external validity the study only considers one emotion recognition algorithm.
although it represents a variety of state of art techniques and achieves highest performances among its peers we cannot rule out the possibility that some algorithm may yield better matches with true emotions.
we also use the data collected from student projects rather than industry projects.
however the mismatches between emotions extracted from text and true emotions are systematic .
even in the ideal case emotions extracted from text are no more than the perceptions of annotators who read the text while true emotions are the experiences of those who produce the text.
they are theoretically different especially in a team context where people are supposed to follow some routines in expressing their true emotions.
thus we argue that mismatches should be generalizable and pervasive.
hence we are confident that the study achieves good external validity.
however the degree of these mismatches may vary.
our study at least reminds that researchers may need to be cautious when applying text based emotion recognition techniques in se research particularly when organizational impacts and personal differences cannot be ignored.
viii.
c oncluding remarks with the fast growing emotion awareness research in se text based emotion recognition approaches become popular due to its simplicity and low cost.
recently se researchers have started examining the reliability of these approaches for example lin et al.
.
however an important issue regarding the construct validity of such methods i.e.
how well the extracted emotions reflect the true emotions remains unexplored.
this issue is nontrivial.
an se team as an organization functioning under many social norms often does not provide the same amount of freedom to its members for freely expressing their emotions as social media does.
in this paper we report a multi level longitudinal empirical study aiming to formally evaluate how well the extracted emotions reflect the true emotions.
the study takes a dynamic view of emotion states rather than focus on discrete recognized emotion state.
we collect true emotions from distributed teams and extracted emotions from their textual communication records using state of art techniques in nlp community.
the comparisons between the dynamics of true emotions and extracted emotions reveal that there are significant mismatches particularly for negative emotions.
we further explore the impacts of individual personality and team emotion display authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
norms.
the results suggest that they have significant impacts on how well the extracted emotions reflect true emotions.
for future work we plan to continue our efforts in evaluating the validity of text based emotion recognition techniques with professional development teams.
given that we have shown that individual organizational factors correlate to the match mismatch between true emotions and extracted emotions we are eager to explore if there is any possibility to automatically learn and utilize these factors to fine tune the extracted emotions to make them better reflect the actual ones.
we are releasing the complete dataset as a replication package.
acknowledgement we would like to thank all the participants of the study and dr. jun liu for their helps in this study.
the author is partially supported by nsf iis .