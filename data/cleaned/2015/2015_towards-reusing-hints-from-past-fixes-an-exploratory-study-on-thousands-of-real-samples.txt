towards reusing hints from past fixes an exploratory study on thousands of real samples hao zhong department of computer science and engineering shanghai jiao tong university china zhonghao sjtu.edu.cnna meng department of computer science virginia tech usa nm8247 cs.vt.edu abstract researchers have recently proposed various automatic program repair apr approaches that reuse past fixes to fix new bugs.
howev er some fundamental questions such as how new fixes overlap withold fixes have not been investigated.
intuitively the overlap be tween old and new fixes decides how apr approaches can constructnew fixes with old ones.
based on this intuition we systematical ly designed six overlap metrics and performed an empirical study on bug fixes to investigate the usefulness of past fixes when composing new fixes.
for each bug fix we created delta dependency graphs i.e.
program dependency graphs for code changes and identified how bug fixes overlapped with each other in terms of the content code structure and identifier names of fixes .
our results show that if an apr approach composes new fixes by fully or partially reusing the content of past fixes only .
and .
newfixes can be created from single or multiple past fixes in the sameproject compared with .
and .
fixes created from past fixesacross projects.
however if an apr approach composes new fixes by fully or partially reusing the code structure of past fixes up to .
and .
new fixes can be created.
acm reference format hao zhong and na meng.
.
towards reusing hints from past fixes.
inproceedings of icse 40th international conference on software engineering gothenburg sweden may june icse pages.
.
.
introduction due to the usage of version control systems many bug fixes have accumulated over the years.
from past bug fixes researchers proposed some automatic program repair apr approaches thatreused past fixes to fix new bugs.
although these approaches showpromising results they are limited in the following two aspects existing empirical studies are based on manual or simple automatic analysis and some hypotheses of apr approaches are not fully explored.
in this paper by comparing each fix s delta dependencygraphs ddgs produced by g rapa we performed a comprehensive empirical study on bug fixes in four popular projects.our comparison checks for six types of overlap between bug fixesi.e.
a bug fix may fully or partially overlap with one or multiple permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citationon the first page.
copyrights for third party components of this work must be honored.
for all other uses contact the owner author s .
icse gothenburg sweden copyright held by the owner author s .
.
.
.
.
.
.3182550fixes in terms of code content syntactic structures and identifier names.
our major findings are as follows extent of constructing fixes from past fixes.
bug fixes have more overlap in syntactic structures than code contentand identifier names.
the syntactic structures of fixescan be synthesized from the syntactic structures of multi ple past fixes.
a new fix is often relevant to only several useful past fixes.
however if we require exact matches only fixes can be constructed from past fixes as most bugs need creative repairs that never appear in past fixes.
preparing a repository of past fixes.
we consider a bug fix to be useful if it is repetitive.
if we build the repository from fixes of the same project most fixes are useful but it can be challenging to extract useful repair actions since a fix typically has both useful repair actions and use less repair actions.
the usefulness of a repository may not increase with the number of collected bug fixes.
this is because when a repository contains many past fixes it canbecome challenging to identify useful ones among the fix es.
it is worthy identifying useful fixes since an identifiedfix can be useful to repair many fixes.
learning from other projects.
from other projects it is feasible to learn many code structure changes.
however the combination of multiple past fixes does not achieve as good results as the combination of fixes from the same projects.
furthermore as different projects typically have different client code names it becomes more challengingto learn how to replace those api elements correctly.
our journal paper presents more details of the empirical study.
acknowledgement hao zhong is sponsored by the grant 2015cb352203 the nsfc grant and the stcsm grant 15dz1100305.
na meng is sponsored by the grants nsf ccf and onr n0001417 .