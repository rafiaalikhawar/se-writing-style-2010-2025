probing for requirements knowledge to stimulate architectural thinking preethu rose anish1 balaji balasubramaniam1 abhishek sainani1 jane cleland huang2 maya daneva3 roel j. wieringa3 smita ghaisas1 tata research development and design centre trddc tata consultancy services ltd. pune india preethu.rose balaji.balasubramaniam a.sainani smit a.ghaisas tcs.com systems and requirements e ngineering center sarec depaul university chicago usa jhuang cs.depaul.edu university of twente3 enschede the netherlands m.daneva r.j.wieringa utwente.nl abstract software requirements sp ecifications srss often lack the detail needed to make informed arch itectural decisi ons.
architects therefore either make assumptions which can lead to incorrect decisions or conduct additional stak eholder interviews resulting in potential project delays.
we pre viously observed that software architects ask probing questions pqs to gather information crucial to architectural decision making.
our goal is to equip business analysts with appropriate pqs so that they can ask these questions themselves.
we report a new study with over experienced architects to identify reusable pqs for five areas of functionality and organize them in to structured flows.
these pqflows can be used by business analysts to elicit and specify architecturally relevant information.
additionally we leverage machine learning techniques to determine when a pq flow is appropriate for use in a project and to annotate individual pqs with relevant information extracted from the existing srs.
we trained and evaluated our approach on over individual requirements from requireme nts specifications and also conducted a pilot study to validate its usefulness.
ccs concepts general and reference surveys and overviews empirical studies evaluation exp erimentation validation software and its engineering software architecture requirements engineering information systems information retrieval machine learning keywords architecturally significant require ments automated requirement classification functional requir ements requireme nts knowledge probing questions pqs pq flows.
.
introduction software requirements specificatio ns srs often lack the detail needed by software architects sas to make informed architectural decisions .
for example a srs might include a high level auditing requirement but fail to specify whether the audit is for internal or regulatory compliance what data must be produced for compliance or if notification messages must be sent to stakeholders when certain audit events occur.
such details impact architectural decisions and should be exposed early in the requirements elicitation an d analysis process.
if wrong architectural decisions are made the intended but unstated functional requirements will not be satisfied.
in practice customers often assume that developers implicitly understand their needs and therefore do not fully express their requirements .
experienced sas intuitively realize when critical information is missing.
to compensate they may make assumptions based on their own knowledge of the problem or conduct additional formal or informal interviews with the st akeholders to s eek clarification and to elicit the missing information.
however assumptions if incorrect can lead to costly and time consuming refactoring efforts at later stages of projects while additional unplanned interviews can slow down time to market.
asking business analysts bas to provide richer more informative specifications may seem like a good idea but it is unlikely to be effective given that bas typically lack technical architectural knowledge.
they are often seen to be ill equipped to ask the right kind of questions needed to unearth architectur ally significant information.
in our previous study we found that experienced sas address missing information by asking probing questions pqs .
in this paper we systematically elicit structure and document these pqs in order to make them available for use by bas.
in the requirements engineering and software architecture literature it is well understood that both functional and non functional requirements nfrs can have an impact on architectural design.
however we focus our e fforts in this paper on functional requirements because the architectural impact of functional requirements is often implicit unlike that of nfrs which explicitly solicit architectural considerations and much of the published literature on architecturally significant requirements has focused on nfrs.
far less emphasis as there is no commonly agreed umbrella term for such requirements we have opted to use the traditional term of nfr which is broadly understood in both industry and academia permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is pe rmitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a f ee.
request permissions from permissions acm.org.
icse may austin tx usa acm.
isbn ... .
ieee acm 38th ieee international conference on software engineering has been placed on addressing the architectural significance of functional requirements .
throughout the remainder of the paper we refer to functional requirements with architectural si gnificance as architecturally significant functional requirement s asfrs .
while almost all functional requirements frs may be argued to have some degree of impact on software architecture our focus is on those frs that have a significant impact.
by this we mean any fr that i has a potentially broad impact across th e system ii is high risk possibly volatile and iii if m odified could involve expensive refactoring .
the primary goal of our work is to leverage the knowledge of experienced sas and to make it available to bas so that they are equipped to elicit a more complete set of requirements that feed sufficient information into the architecture design process.
while software engineering scholars a gree that requirements elicitation and architectural design should be performed iterat ively little is known about what specifically bas could or should do in order to jump start the process by identifying customers requirements in a way that helps sas more effectively evaluate candidate architectural solutions.
to this end we collected and analyzed the perceptions of more than experienced sas on the process of identifying analyzing organizing and evaluating pqs for five commonly occurring functional areas namely audit trail batch processing business process state alerts report and workflow .
we previously defined these as follows audit trail audit trail facilitates auditing of system execution.
depending on the purpose of the audit architecture can change.
for example an audit for a regu latory compliance purpose would imply provisioning for data lineage.
batch processing this includes requireme nts facilitating batch processing.
most batch processes entail assigning exclusive access privileges to stakeholders in charge of executing them.
business process state alerts this class of asfr is concerned with notificat ions generated often as part of executing a business process by means of the respective system.
if a response to such an alert is e xpected it would entail a different design choice than a simple unilateral alert message.
report this category includes frs that facilitate report generation.
the architectural decisions for a report intended to feed into business analytics involve provision to process structured and or unstructured data.
workflow this includes requirements that provide support to move work items facilitate revi ews and approvals.
complexities associated with workflows need to be understood upfront in order to avoid expensive rework at later stages of projects.
these areas were selected because a they occur commonly across many different systems and b they emerged as important topics of architectural significan ce in an earlier study we had conducted .
the resulting pq flows are the first contribution of this paper and can be used as catalogs by bas in requirements elicitation.
we note that the survey participants were from various multi national companies in which ba and sa are separate disciplines and where the two sets of skills requirements knowledge and architectural know ledge typically reside with different people.
our second contribution is our automated approach for analyzing a software requirements specificati on srs to determine if a pq flow is relevant and then annotating the pqs with relevant information found in the srs.
the annotated pq flow then provides an appropriate structuri ng of questions to ask while depicting relevant answers and other supporting information that are already available in the srs.
in addition to presenting results from our data collection and survey with the sas we report a series of experiments which were conducted to evaluate the effectiveness of annotating the pq flows.
we show that pq flows can lead to improved and more complete srss.
the remainder of the paper is organized as follows section presents background information sections and report on the construction of the pq flows and describe our approach for contextualizing them within a project.
section then presents an initial user evaluation of our ap proach.
finally sections to present threats to validity re lated work and conclusions.
.
background this work is motivated by the findings from our previous qualitative interview based study which we briefly summarize here.
the study explored current practices for working with asfrs as perceived by sas from large organizations in india the united states and the netherlands.
the participating sas were from the domains of banking financial services and insurance bfsi healthcare retail government telecommunications and airlines management.
our key findings were that srss often lack crucial architecturally relevant information needed to make informed architectural decisions pqs are an essential mechanism for unearthing underspecified architecturally relevant information.
our study identified a total of categories of asfrs each with its own set of pqs.
from these we selected the five asfr categ ories which are the focus of this paper.
our study also suggested that there was a logical way to sequence them during the elicitation process.
we observed that experienced sas understand what pqs need to be asked have a tacit conceptual mental model of the interdependencies between the pqs and therefore sequence their questions in a meaningful way.
we note that similar observations w e r e m a d e b y l i e t a l .
w h o reported that much architectural knowledge is tacit in nature and should be recovered and documented .
if sas tacit knowledge on the order of use of the pqs becomes explicit and shared with bas creating a repository of pq flows for each asfr category could generate a body of knowledge similar to the design patterns of gamma et al .
and be used by bas to enhance the quality and completeness of srss.
while the focus of our work is on asfrs from the application domains mentioned earlier we expect that pq flows could similarly be documented and made available for asfrs from other areas.
.
construction of pq flows to discover and document pq flow structures for the five selected asfr categories we followed a research process that was inspired by the design science approach .
we started with a basic design of the pq flow and then integrated practitioners feedback into the design.
this resulted in a refined version of the pq flows for which further feedb ack was elicited.
the process included the following steps a interview sas b analyze the pqs obtained through the interviews and create the initial basic pq flows in consultation with a sa c conduct an online survey henceforth referred to as phas e of the survey to collect feedback on the early pq flows that were created in step b refine the flows and d conduct a follow up online survey henceforth referred to as phase of the survey to evaluate the 844figure pq flows for audit trail left and business process state alerts right refined pq flows from step c .
st eps a and b were helpful in designing the basic pq flows for the five asfr categories while steps c and d were feedback col lection exercises which helped to refine the basic designs and to remove any bias that might have been passed into them.
we now explain each of these steps in more detail.
.
interview with software architects our prior interviews with sas provided a basic unstructured list of pqs for each asfr category.
two of the authors of this paper therefore manually analyzed the pqs to identify a candidate logical sequence of questions.
for instance in case of audit trail category we found that the pq what kind of notification mechanisms are needed to notify the end user about the analytics?
should be asked only if the customer first answered yes to the pq should warning or alert messages of the analytics be sent to the end users?
similarly if the domain under consideration is finance it is not relevant to ask the pq should reports be built over the audit?
this is because as per our interview participants if the domain is finance it is obvious that reports are needed .
once the basic pq flow structure s for the five asfr categories were identified we carried out a series of consultations with a senior sa who had more than years of experience in banking healthcare and insurance domains.
this was done to collect the sa s feedback on the proposed pq flows.
the consultation included a joint review of the basic pq flows for each asfr category and a walk through session in which the sa played the role of both customer and sa and provided insights into the contextual settings under which he might ask a particular pq as well as the effect of the customer s answers on the pq flow sequence.
this exploratory exercise yielded five refined pq flows that formed our initial pq flow catalog.
.
the online survey we used the online survey method to validate and improve the initial pq flow structure in step b .
this was essential to reduce possible bias of the authors and the senior sa.
the use of a survey method enabled the inclusion of large number of participants which in turn enabled us to recognize trends in responses as the design of the pq flows was incrementally improved.
the objective of our survey was to evaluate the initial pq flows identify missing questions to improve the completeness of the pq flows modify or remove invalid pqs and improve their logical order.
the number of questions in the online survey was kept as small as possible in an effort to encourag e participants to complete the entire survey.
the survey was implemented using survey monkey.
interested readers can refer to the questionnaire on our project page we piloted the questionnaire with two sas and integrated their feedback.
the feedback was used primarily to improve userinteractions i.e.
through improve d instructions .
as the survey questions were only slightly modified we included the responses from the pilot study in the final analysis.
the survey targeted professionals who have worked in the capacity of sas in organizations ranging from multi national companies to start ups.
as an incentive for participating in the study we offered to share the final report of the results from our 845work on pqs.
the questionnaire captured demographic information concerning the sa s experience and primary business domain.
as depicted in table over of our participants had more than ten years of it experience while over had at least five years experience as a sa.
the primary business domains of the respondents included energy resources and utilities erug media and information se rvices banking financial services and insurance bfsi education content management healthcare retail automotive telecommunication analytics recruitment and erp for manufactur ing real estate hospitals.
for each of the five asfr categories the survey presented a diagram similar to those shown in figure depicting the pqflows.
the participant was then asked to evaluate the pq flow and to identify missing pqs if any a nd those that should be modified deleted or re sequenced.
the part icipants responses were then used to refine the pq flow for each asfr category.
table .
demographic details of the respondents total years of it experience total years of experience as a sa choices response choices response year .
year .
to years .
to years .
to years .
to years .
years .
years .
.
.
online survey phase and analysis phase of the online survey was carried out over a period of weeks 03rd july 24th july .
we received a total of responses.
the survey was qualitative in nature and therefore once the survey responses were received we performed qualitative data analysis following the guidelines of charmaz constructive grounded theory method .
in this method different concepts and categories are extracted from the instances in the textual data.
the data analysis was performed by three of the authors pra as and sg .
based on the findings from our data analysis we again refined the pq flows for each of the five asfr categories.
this was done as follows three of the authors of this paper analyzed all the responses and then for each asfr category organized the pqs in sequence and logically appended them to the existing pq flows.
while mergin g the feedback from different sas there were some minor cases of conflict such as cases where a missing pq was specified by di fferent sas in different ways and or at different levels of granul arity.
in such cases the authors discussed amongst themselves a nd chose the most appropriate pq form to append.
also there were several instances of agreements.
for example for the workflow category two of the participants p3 and p7 suggested we exclude the pq do you want to have support for sub workflow?
they gave the following explanation p3 how does a user know that they need a sub workflow?
it s more of a technical implementa tion.
this pq can be removed.
p7 a decade back it might be an issue but with many frameworks offering this as out of shelf i don t think we should really focus on this.
we rejected some of the feedback comments for the reasons explained below a some suggestions for adding ne w pqs were not accepted i because they pertained to design considerations rather than pra p.r.
anish as a. sainani sg s. ghaisas architecturally significant pqs.
for example for report category participant p suggested that we add the pq what are the filters needed for the report?
or ii because those pqs were already covered in the existing pq flows at different levels of granularity.
we attempted as much as possible to maintain similar level of granularity across all pqs.
b some suggestions for deleting pqs were not accepted either.
for instance participant p16 suggested deleting several pqs from audit trail delete pq through pq as these don t strictly fall in audit trail category.
audit trails are typically passive .
pq through is venturing into monitoring and further into actionizing .
pq through pq for audit trail talked about dynamically monitoring the data transactions flows to detect abnormal patterns and notification to be sent for such patterns.
however participant p4 mentioned the following for the same pqs i think pq through pq should be modified to include any analytics requirements that the customer might have instead of only looking for abnormal patterns.
the audited data can provide a mine of information .
analyzing these two feedback comments we included the suggestion by p4.
instead of deleting pq12 through pq15 we modified them as per participant p4 s suggestion.
conflicts among the three authors if any were resolved by discussion amongst the authors and when necessary contacting the survey respondents for clarifications.
the modified pq flows were then evaluated in phase of the online survey using the same questionnaire as the one in phase .
.
.
online survey phase and analysis enriching the pq flows phase of the online survey was conducted over a period of weeks 31st july 14th august .
the responses were analyzed using the same qualitative analysis techniques used in phase .
we received responses in phase .
we note that the respondents in phase were di fferent from the respondents in phase of the survey.
this time the analysis of responses indicated very few requests for modifications additions deletions or re organization of the pq flows.
this suggests that the existing catalog of pq flows adequately covered most of the important architectural concerns from these architect s viewpoint.
figure depicts the pq flows for audit trail and business process state alert .
table depicts the count for the number of pqs added to edited and deleted from the original pq list since the beginning of phase of the survey for each of the five asfr categories at the completion of phase of the survey.
an online catalog of all the five pq flows can be viewed at our project page table towards enriched pq flows category no.
of pqs added no.
of pqs edited no.
of pqs deleted audit trail batch processing bpsa report workflow .
contextualizing pq flows now that the catalog of pq flows is defined we focus on the application of a specific pq flow within a project.
this is to move 846to the second contribution of this paper namely automated support for determining relevance of a pq flow for a srs and automated annotation of relevant pqs with information found in the srs.
our first goal is to determ ine when a flow is relevant to the project i.e.
determining if ther e is any evidence in the existing requirements that audit trail workflow or any other asfr category is relevant.
our second goal is to identify requirements that already contain details sought by questions in the relevant pq flow and then to annotate the pq flow diagram accordingly.
the bas can leverage this information to determine what is already known what knowledge is missing and what effect this would have on the flow of the pqs.
for example if the following requirement is included in the srs for regulatory compliance an audit trail of all the transactions should be maintained then there is a clear indication that the audit is for regulatory compliance.
in this case there would be no need to ask the pq is the audit for internal compliance or for regulatory compliance?
figure depicts our overall appro ach for contextualizing the pqflows.
it shows the initial step of scanning the srs in order to identify asfrs recommending the use of specific pq flows and then annotating the pq flow diagra m with relevant requirements which already contain details sought by the specific questions in the pq flow.
in the following sub sec tions we elaborate on each of these activities.
figure contextua lizing the pq flows .
detecting asfrs the first challenge is to determine which of the pq flows are relevant for a given project context.
to this end we have trained a classifier to recognize requirements related to each of the five asfr categories that we report about in this paper.
if such requirements are found in a srs then we assume the corresponding pq flow is relevant.
in our earlier work we reported results from a preliminary proof of concept experiment in which we trained a classifier to detect different categories of asfrs.
however the classifier was trained using only functional requirements including a total of asfrs dispersed across categories i.e.
audit trail batch processing business process state alert bpsa localization payment print report search third party interaction tpi and workflow .
furthermore it suffered from the major limitation that each requirement was classified into exactly one class whereas approxi mately of requirements in our studied srs were manually classi fied as belonging to two or more classes.
for example th e requirement stating that the system should generate reports on the complaint register on a monthly basis through a batch process clearly provides information about both reporting and batch processing .
the work reported in this paper addresses these issues through retraining the classifier on a fa r larger number of requirements and utilizing a classifier which supports multi classification.
.
.
training on larger set of asfrs to increase reliability of our approach and to scale it up for use in large industrial projec ts we retrained the classifier against requirements statements disper sed across distinct srss from the insurance domain.
while the remainder of this paper focuses on only five asfrs we trained th e classifier for a broader set of requirements classes and report the results here.
three of the researchers pra bb as manually analyzed the requirements to label each statement as an asfr or a nonasfr and then classified each one into one or more of the asfr categories.
each researcher individually reviewed and classified a third of the requirements.
if there was any doubt about the class of a requirement all three researchers discussed together to arrive at a consensus.
furthermore the researchers periodically reviewed each other s work to ensure ongoing agreement.
the resulting dataset formed the ground truth against which the identification and classification results could be compared.
the task took a total of hours to complete.
out of the requirements the counts attributed to each asfr category ranged from for online help to for localization multilingual .
since online help had negligible instances i.e.
only we did not include it for the asfr categorization step.
.
.
asfr identification our classification approach includes two steps.
in this first step we simply classify each requir ement as asfr or non asfr.
in a preliminary informal analysis we compared the efficacy of using na ve bayes j48 decision tree support vector machine nearest neighbor and adaboost and found that na ve bayes performed the best on our data.
this matc hes results observed in other studies related to classificatio n problems .
we therefore adopted na ve bayes for the classification task.
the na ve bayes classifier is a probabilistic classifier based on bayes theorem and follows the assumption that the contribution of an individual feature towards deciding the probability of a particular class is independent of other features in that dataset instance.
for example in the case of detecting an asfr class the contribution of the term log is independent of the contribution of the term notification .
naive bayes tend s to overestimate the probability of the selected class.
however since we use it only to predict the presence of the class and not its probability it produces quite accurate results.
because instances of asfrs and non asfrs were imbalanced i.e.
asfrs and non asfrs we adopted stratified random sub sampling.
the majorit y class i.e.
the non asfrs was under sampled in each iteration.
a disadvantage associated with under sampling is that it is known to result in loss of information .
to counter this we repeated the experiment such that all non asfrs were validated at least once.
we used 5fold cross validation to divide the data into five evenly sized buckets such that instances of each asfr and non asfr were distributed evenly across the buckets.
in each iteration one bucket was set aside for testing and the remaining four buckets were used to create a training set.
the sub sampling was applied to equalize the instances of asfrs and non asfrs and then used to train the na ve bayes classifier.
the trained classifier was then used to classify the requirements in the test set.
this process was repeated times until all data had been classified.
pra p.r.
anish bb b. balasubramaniam as a. sainani 847all requirements were pre processe d in weka to remove stop words and to stem each word to its morphological root using lovins stemming algorithm .
the resulting terms formed the feature attributes.
in order to select feature attributes that would help in classification we used the technique of information gain in weka to rank these features according to their relevance to classification.
we then select ed the top feature attributes for our classification experiments.
our approach achieved an average recall of .
and an average precision of .
.
.
.
categorizing asfrs by type the second task involved classifying the identified asfrs into specific categories.
cla ssification at this le vel of granularity is necessary for determining which pq flows are relevant to a given project and as a precursor for a ttaching pqs to a given asfr.
because an asfr can belong to more than one class we investigated classifiers whic h are capable of performing multilabel classification.
in particular we performed initial exploratory investigations with the random k labelsets classifier rakel na ve bayes classifier and nearest neighbor classifier using the mulan software package .
mulan has specialized algorithms to handle multi label classification problems.
in this paper we report our results with rakel since it outperformed the other classifiers in the case of our dataset and the optimization parameters c hosen.
moreover during the manual analysis of our dataset we disc overed some label correlations in our dataset.
for instance labe ls workflow and third party interaction occur together for cer tain statements.
rakel also incorporates such correlations during the classification task.
rakel is an enhancement of the label powerset lp method that incorporates label correlations by considering each subset of labels called labelsets that exists in the training set as a different class value in a single label classification task.
however if the training set has a large number of labelsets lp suffers from higher computational cost and the dataset can be skewed if some labelsets have limited training examples.
moreover during the testing phase lp can predict only the labelsets learned from the training set.
rakel overcomes the limitations of lp by randomly breaking the initial set of labels into a number of small sized labelsets and then training a multi label classifier on the training set with those labelsets using lp .
the k in rakel is a parameter for the size of the labelsets.
we present the results for each of the evaluated asfr categories in table using four metrics precision recall f measure and specificity.
recall measures the fraction of actual asfr instances which are correctly assigned pr ecision measures the fraction of classified instances which are correct f score is the harmonic mean of recall and precision and specificity measures the extent to which the algorithm rejected instances that were not of the specified category.
the formal definitions of these metrics are provided in .
.
.
analysis of results the results reported in table show that the greatest accuracy was observed for batch processing print localization multilingual and search which all achieved f scores above .
.
overall f score values ranged f rom .
to .
.
a consistently good specificity of .
and above for all the categories indicates that the classifier successfully avoided many misclassifications.
the lower accuracy for some categories such as storage mechanism and payment can be attributed to the fact that they had very few instances and respectively .
in fact our prior table .
classification results for each asfr category at statement level asfr category statements precision recall f score specific ity audit trail .
.
.
.
batch process .
.
.
.
bpsa .
.
.
.
localization multilingual .
.
.
.
payment .
.
.
.
print .
.
.
.
report .
.
.
.
search .
.
.
.
storage mechanism .
.
.
.
tpi .
.
.
.
workflow .
.
.
.
average .
.
.
.
work has shown that increasing the size of the training set can improve the accuracy of requirement s classification results .
for some categories such as bpsa business process state alert and tpi third party interaction accuracy was also relatively low despite the fact that the categories were well represented at and re spectively.
we observed that requirements in these two categorie s tended to belong to a higherthan average number of class associations.
for instance the requirement statement there should be a monthly batch process that generates a report of premium defaulters and then triggers an email reminder for the defaulter policy holders.
this requirement is only for denmark falls into asfr categories namely batch process bpsi localization multilingual and report .
our analysis of the results suggested th at the results from the classifier were less accurate for such requirements.
.
recommending relevant pq flows a specific pq flow is recommended to a ba for use in a project if and only if the current srs contains one or more asfrs of the respective category.
for example the audit trail pq flow would be recommended if at least one au dit related requirement is found in the srs.
we therefore analyzed the classification results at the srs level.
we refer to this approach as relevance algorithm.
based on the previously established ground truth see section .
.
and results from section .
.
we determined whether a given pq flow was relevant to each one of the srs documents.
we evaluated the relevance algorithm using precision recall specificity and f score results accordingly.
table depicts results from the relevance algorithm for each of the five asfr categories in the srs documents.
the results from our analysis show that we were able to quite accurately determine when to recommend a pq flow for use in a project.
precision ranged from .
workflow to .
bpsa while recall ranged from .
workflow to .
batch processing .
this indicates that the approach is capable of retrieving most of the relevant srss for the pq flows for the asfr categories.
specificity ranged from .
bpsa to .
workflow indicating that there were few cases in which we failed to recommend relevant pq flows or made incorrect recommendations.
848figure annotated pq flow for batch processing table accuracy by which relevant pq flows are identified category a b c prec.
recall f score spec.
audit trail .
.
.
.
batch proc.
.
.
.
.
bpsa .
.
.
.
report .
.
.
.
workflow .
.
.
.
average .
.
.
.
a relevant srss b retrieved srss c retrieved and relevant srs .
annotating the pq flows once relevant pq flows are identified by the relevance algorithm the ba can follow the flow of questions in order to elicit architecturally significant informa tion.
however a na ve use of the pq flow could lead the ba to asking questions which are already addressed in the srs.
in this phase of our approach we therefore leverage data mining techniques to identify existing requirements which could be associ ated with various nodes in the pq flow.
for illustrative purposes in figure we present the batch processing pq flow with require ments automatically retrieved from one of the srs and associated with a specific pq.
some of the example requirements in figure are obfuscated for confidentiality reasons.
in this section we describe the techniques we used to associate requirements with specific pqs.
it is worth noting that this task is even more challenging than classifying asfrs by category.
in effect it represents an even m ore fine grained task in which specific asfrs are associated with individual pqs in the pq flows.
for this task we used the standard vector space model vsm to compute the similarity between a pq and each requirement in a given srs.
th e process is repeated for all the pqs in a pq flow for each asfr category.
for similarity score computat ion vsm uses the following formula .
where n represents the total number of unique words a represents asfr statement p represents probing question represents the list of frequencies of words present in index of the asfr statement and represents the list of frequencies of words present in pqs.
.
.
analysis of results for annotating pq flows to evaluate the results three of the researchers pra bb as manually analyzed all possible associations between pq and asfr statements .
each researcher individually reviewed all the associations.
we periodically reviewed each other s work to ensure ongoing agreement about the association.
the resulting dataset formed the answer set against which the association results could be compared.
the task took a total of hours to complete.
results are reported in table using the standard metrics precision recall f score and specificity.
on an average the precision was .
while the recall was above .
indicating that our approach was able to retrieve many of the relevant statements for annotation.
the lowest recall was observed in case of bpsa .
.
for bpsa we observed that vsm picked up comparatively more irrelevant terms for si milarity matching.
further the pqs we used for our experiments were taken ve rbatim from the sas.
however our analysis revealed that rephrasing the pqs could improve the results further.
for example a pq for bpsa what are the roles that can configure the categories types?
if rephrased to make it more precise such as who are the stakeholders roles that can configure the categories types of the alert message?
would help in retrieving more relevant statements.
this can be a direction for our future work.
pra p.r.anish bb b.balasubramaniam as a.sainani table .
results of associati ng requirements with pq flows category pqs asfr count potential associations relevant associations retrieved associations retrieved relevant associations precision recall f score specificity audit trail .
.
.
.
batch proc.
.
.
.
.
bpsa .
.
.
.
report .
.
.
.
workflow .
.
.
.
we observed an average specificity above .
indicating that the approach successfully discarded a significantly large number of irrelevant statements.
we note here that in the case of our dataset the ratio of the total number of po ssible annotations to the total number of relevant annotations was approximately thereby making the annotation task very challenging.
.
evaluating pq flows we performed two studies to evaluate the usefulness of the approach in situ.
each study in volved a ba a pseudo customer and a sa.
in both studies the ba and sa were experienced team members responsible for delivering large projects in the insurance and banking domains.
the pseud o customer had more than years of experience working closely with customers to understand their requirements and to architect systems.
study involved the srs document from an ongoing insurance project containing a total of requirements while study was based on the srs from an ongoing banking project containing a total of requirements.
we ran the relevance algorithm for each of the five asfr categories against the two srss to find out the asfr categories relevant to that srs.
for the srs in study the relevance algorithm identified requirements of audit trail and requirements of business process state alert.
for the srs in study the relevance algorithm identified requirements of report of business process state alert of workflow and of batch processing .
we then shared the relevant asfr categories their name definition and an example with the participants of study and study respectively and asked them to select the category they were most experienced and comfortable with.
the participants of study chose audit trail while the participants of study chose report.
in each of the studies we ran vsm to analyze the respective srs in order to generate annotated pq flows for audit trail and report as explained in section .
.
for audit trail vsm annotated seven of the pqs while for report vsm annotated of the pqs.
we manually an alyzed these annotations and found the following for the srs in study audit trail seven of the pqs were annotated.
of these pqs were full y answered in two cases while meaningful information was provi ded for three additional pqs which enabled better or more inform ed questions to be asked.
the remaining two cases represent ed false positive annotations.
further we manually analyzed the srs and found that there was no additional relevant information in the srs that should have been used to annotate the pqs.
for the srs in study report out of the annotated pqs three pqs were fully answered while meaningful information which enabled better or more inform ed questions to be asked was provided for two additional pqs.
the remaining cases represented pqs with false positiv e annotations.
th ese results are not surprising given the relative ly low precision reported for report annotations in table .
further we manually analyzed the srs and found that there were two additional requirements in the srs that should have been included in the annotation but were excluded.
we provided the automatically annotated pq flows to the respective bas of the two studies.
for each study the respective ba was asked to follow the pq flow and accordingly ask probing questions to the pseudo customer and record the customer s response.
in the flow if a pq was annotated indicating that either an answer to that pq is alread y present in the srs or the srs contains some information related to that pq the ba was asked to review the annotation and decide whether to skip that pq in case it completely answers the pq or ask a better or more informed question in case the srs contains some related information .
based on the responses received from the pseudo customer the ba was asked to augment the original srs with the answers received for the pqs.
for audit trail new requirements were added and for report new requirements were added.
after the completion of this activity in each study the ba was sent a questionnaire to gather feedback on the applicability and usefulness of the pq flow.
further we shared the original and the augmented version of the srs with the sa and asked them to evaluate the usefulness of the additional requirements.
we summarize part of the feedback below.
the questionnaire for the ba and the sa can be viewed at our project page it should be noted that two of the authors pra and sg explained the approach and the evaluation study process to the study participants but none of the authors were present when the actual evaluation study was conducted.
the participants for the evaluation study were selected on the basis of their domain knowledge and project management experience endorsed by their supervisors who recommended them to us.
.
feedback from the ba to the question on the applicability of the pq flows in the requirements elicitation process the ba from study stated it the pq flow fits well into the el icitation process as it covered the key architectural concerns that a software architect will have.
i as a ba am not able to elicit them on my own due to lack of expertise in the architectural domain.
so this is a really good approach .
to the question on the usefulness of the hierarchical structure of the pq flows versus just having a collection the ba from study stated yes having a hierarchical structure really helps in specifying each problem area.
for example having a flow structure to the data audit asp ect helps clarify in stages the volume of the data its type and output.
having it as a collection instead could possibly lead to several overlapping or confounding 850responses which could potential ly require follow up questions and the ba from study said pqs that depended on other pqs were well represented in hierarchic al structure.
this helped in traversing to the right question without wasting much of time in thinking what to ask next?
to the question on the extent to which the ba could imagine integrating the information acquired through using the pq flows into the srs the ba from study said i would think that a good fit would exist between the information gained in the pq flows and the requirements specification.
it would make the requirements specification much richer in terms of architectural knowledge and when asked whether they would use pq flows in future projects the ba from study said pq flows offer a sound structured framework to collect information and therefore i would definitely like to use this approach in future projects and the ba from study said i would think that this approach would apply to any data intensive project which is any typical pr oject.
pq flows offers a sound structured framework to collect information .
further on the question on the change in the order the ba would like to see to make the pqs more helpful to them both the bas responded saying that the current order of the pqs is good enough .
.
feedback from the sa to the question on the value seen by the sa on using this approach the sa from study said i think this approach is quite exhaustive to make customer as well as vendor think in depth before requirements are put forth and are understood clearly.
it would avoid the sa make any assumptions about unstated or unclear requirements and also will save us a lot of time that gets wasted going back and forth to the customer for clarifications .
the sa from study said i think this approach shall help us to ensure that the customer does not miss out key features that he may not think ot herwise.
the flow shall serve as a template for similar requirements.
the customer shall view us as a good process oriented and experienced organization .
when asked about the kind of effort needed to get this level of architectural detail in the abse nce of such an approach the sa from study said effort would be quite high and more than that user acceptance testing will raise questions as to why things were not clarified earlier in require ments phase.
series of change requests will follow after implementation .
further the sa from study mentioned yes this approach will help very much in bridging the gaps that exists between requirements and architecture .
on the question do you feel a ba equipped to ask these questions is useful or would you prefer asking these questions on your own the sa from study said the ba would need some amount of training which looks very much doable to me.
once trained this approach would definitely be very useful and would save a lot of time which we spend going back to the ba or client for clarifications .
the sa from study said i am not sure the knowledge ba will ha ve in terms of domain overall understanding of customer process flow as well as the organizational structure with role s and responsibilities.
if well equipped with this then can carry out such exercise and would be very useful.
an important aspect that is required in an individual who does this job is to do lateral thinking and should be analytical in nature .
further when asked if such an approach helps in bridging the gap that exist between requirements and architecture the sa from study said yes very much!!
.
threats to validity we used multiple research techniques i.e.
interviews and online survey for carrying out the ground work that formed the basis for contextualizing pq flows.
we evaluated the threats to validity in this multi method research by using the checklist in .
as our design of pq flows is exploratory in nature and relies on refining the pq flows at each phase by collecting practitioners feedback the generalizability of our pq flow structures is our most important concern.
to what extent can the observations of the interview study participants and the two surveys participants be considered representative for ot her project organizations?
we cannot claim universal generalizability of the pq flows that we derived by using our participants responses.
however it is reasonable to expect similar experiences in projects and organizations working in the application domains in which our practitioners work.
for example other organizations in sectors that must ensure compliance of their it solutions to business sector specific regulations might have observations similar to those in this case study.
more research is needed to collect evidence for or against this generalization.
we are also aware of the inherent uncertainty of interview techniques and of survey methods .
the first uncertainty is about the extent to which the participant s answered our questions truthfully.
as in we minimized this uncertainty by involving volunteers so that they respond to our survey out of their free will and without pressure.
second the researchers might have included their bias in the data collection and analysis process.
to reduce this threat we used yin s recommendations .
for example we ensured that our participants were drawn from diverse application domains which let us evaluate the pq flows from diverse perspectives.
additionally we had the data analysis report reviewed by some interviewees some of whom provided feedback on clarifying the concepts but this did not change the analysis .
furthermore regarding the evaluation of the classification techniques chosen in the tool design we used a large set of srss comprising over stat ements.
although this cannot serve for forming universal claims it injects realism in our analysis as the srss have been delivered in large real life industrial projects with elaborate complex functionalities delivered by team sizes greater than to hundreds of thousands of users.
finally the feedback from the ba and sa about the utility of our approach could be ascribed to the good participant role in which the participant attempts to discern the experimenter s hypotheses and to confirm them .
the participant does not want to ruin the experiment.
this threat cannot be eliminated but our future empirical evaluations should provide better evidence on the utility of our approach.
.
related work much work has been performed at the intersection of requirements engineering and soft ware architecture design .
in nuseibeh proposed the twin peaks model to depict the interdependencies that exist between the problem and solution space often referred to as requirements and architectural design .
since requirements specifications and architecture design affect and constrain each other this model emphasized the need to progressively discover and specify requirements while concurrently exploring alternative architectural decisions.
since then many researchers have focused their efforts on understanding the impact of requ irements on architecture .
there is also active work that investigates tr aceability from requirements to architectural designs including links between key stakeholder concerns architecturally significant requirements important architectural decisions and sections of code where architectural decisions are implemented .
goknil 851et al.
used the semantics of traces requirements relations and architecture verification techniques to automatically generate and validate trace links between re quirements and architecture leveraging model transformation in atl and term rewriting logic in maude.
most work in the area of requirements and architecture is restricted to nfrs and their impact on architecture .
chen et al.
leverage d the relationship between architecturally significant re quirements and architectural design decisions to co develop nfrs and architecture while niu et al.
introduced a practitio ner oriented approach to analyze and evaluate architecturally signi ficant requirements for enterprise systems.
researchers have also addr essed the problem of missing requirements .
poort et al.
proposed a facilitated method palm which elicits busi ness goals and establishes the link between those goals and the quality attribute requirements for a system under development.
it helps to discover missing quality attributes and empowers the architect to question the necessity of overly stringent requirements by appealing to stakeholderexpressed business goals.
salehin investigated the extent to which requirements information is missing during the software architecture process and the impact of that missing information on system architecture in term s of effort.
they found that sas actively search for strategies to reduce missing information in the requirements so that the software architecture is designed with less effort.
this highlights the importance and the need for pqs as a mechanism to unearth unstated architecturally relevant information from asfrs.
chen et al.
presented an evidencebased framework for systematically characterizing architecturally significant requirements.
in particular their finding that architecturally significant requ irements tend to be described vaguely contributed to the motivation for our work on pq flows.
many techniques for identificatio n classification and mining various types of requirements can be found in the literature .
however the focus has primarily been on nfrs.
based on the expert interviews we have c onfirmed that many requirements which are purely functional in nat ure have architectural impact and we focus on such requirements.
to the best of our knowledge this is the first time the concept of pq flows and their contextualization is introduced.
.
conclusion this paper presents results from a study with experienced sas to identify document and organize pqs for five different areas of functionality into structured flow s. it makes two contributions.
the first is a set of pq flows ai med at empowering bas to ask questions that unearth details needed by sas to make informed architectural decisions.
the second is the process of deriving these pq flows which contributes to the body of knowledge for relating re and sa.
we deploy machine learning techniques to contextualize the use of the pq flows and to guide bas through the process of asking pertinent questi ons that elicit architecturally significant details.
the bas can leverage this information to determine what is already known what knowledge is missing and what effect the missing knowledge would have on the flow of the pqs.
results from our initial study showed that the use of pqflows by bas helped to unearth many architectural details and led to more complete and comprehensive srss enriched with architectural information.
the study also suggested bas would need initial training to eff ectively use th is approach.
the work has implications for practice and research.
first we found an inexpensive down to earth solution that seems effective for enriching srss with architecturally relevant information.
using this approach bas can produce richer specifications that contain the details that sas need for making architectural decisions.
this could lead to less communication cycles between sas and customers as there would be little need for follow up clarifications in later project stages concerning asfrs.
second our approach can facilitate creati on of a repository of pq flows for each asfr category which could generate a body of knowledge similar to the design patterns of gamma et al.
which could be used by the bas to enhance the quality and completeness of srss.
future research directions could involve more rigorous studies of pq flows in practice and exploring the use of pq flows for emergent domains such as internet of things wherein the architectural landscape is still evolving and regulations are nascent at best.
we are in the process of conducting experiments on larger and more varied datasets to evaluate the scalability of our approach and to improve its accuracy.
based on our current experiments the training process took hours but once trained it took us minutes to process a large srs containing individual requirements.
we plan to further address performance as we transition our approach to industrial practice.
.