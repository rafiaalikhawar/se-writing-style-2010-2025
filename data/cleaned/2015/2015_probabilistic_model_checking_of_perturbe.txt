probabilisticmodel checkingofperturbedmdps with applications to cloud computing yamilet r. serrano llerena national universityof singapore singapore yserrano comp.nus.edu.sgguoxinsu universityof wollongong wollongong australia guoxin uow.edu.audavids.rosenblum national universityof singapore singapore david comp.nus.edu.sg abstract probabilisticmodelcheckingisaformalverificationtechniquethat has been applied successfully in a variety of domains providing identification of system errors through quantitative verification of stochastic system models.
one domain that can benefit from probabilisticmodelcheckingiscloudcomputing whichmustprovide highly reliable and secure computational and storage services to large numbers ofmission criticalsoftware systems.
forreal worlddomainslikecloudcomputing externalsystem factorsandenvironmentalchangesmustbeestimatedaccuratelyin theformofprobabilitiesinsystemmodels inaccurateestimatesfor themodelprobabilitiescanleadtoinvalidverificationresults.toaddresstheeffectsofuncertaintyinprobabilityestimates inprevious workwehavedevelopedavarietyoftechniquesfor perturbation analysisofdiscrete andcontinuous timemarkovchains dtmcs and ctmcs .
these techniques determine the consequences of the uncertaintyonverificationofsystemproperties.inthispaper we presentthefirstapproachforperturbationanalysisofmarkovdecisionprocesses mdps astochasticformalismthatisespecially popularduetothesignificantexpressivepoweritprovidesthrough the combination of both probabilistic and nondeterministic choice.
our primary contribution is a novel technique for efficiently analyzingtheeffectsofperturbationsofmodelprobabilitiesonverificationofreachabilitypropertiesofmdps.thetechniqueheuristicallyexploresthespaceof adversaries ofanmdp whichencodethe differentwaysofresolvingthemdp snondeterministicchoices.we demonstratethepracticaleffectivenessofourapproachbyapplying itto twocasestudiesofcloud systems.
ccs concepts mathematicsofcomputing markovprocesses theory of computation verification by model checking software and its engineering formal software verification modelchecking networks cloud computing keywords cloudcomputing markovdecisionprocesses perturbationanalysis probabilisticmodelchecking uncertainty permissionto make digitalor hard copies of allorpart ofthis work for personalor classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acm mustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
esec fse september 4 8 paderborn germany associationfor computing machinery.
acm isbn ... .
format yamilet r. serrano llerena guoxin su and david s. rosenblum.
.
probabilistic model checking of perturbed mdps with applications to cloud computing.
in proceedings of 11th joint meeting of the european softwareengineeringconferenceandtheacmsigsoftsymposiumonthe foundations of software engineering paderborn germany september 4 8 esec fse 11pages.
introduction probabilistic model checking is a formal verification technique that aims to verify systems that exhibit stochastic behavior .
it is a mature verification technology with many available tools suchasprism .probabilisticmodelcheckinghasbeen appliedsuccessfullyinavarietyofdomains providingidentification of system errors through quantitative verification of properties typically expressed in pctl against stochastic system models typicallyexpressedinsomevariantof amarkov model .
one domain that can benefit from probabilistic model checking is cloud computing which has matured extensively and has experienced great success over the last several years .
cloud systemsmustprovidehighlyreliableandsecurecomputationaland storageservices to large numbers of mission criticalsoftware systems in highly stochastic environments.
in particular they support dynamicandelasticprovisionofstorageandcomputeservicesin environmentsthatendureintermittentconnectivity andvariable reliability and availability .
recent studies havedemonstratedthatquantitativeverificationviaprobabilistic model checking can provide cloud administrators with an effectivewayofanalyzingoperations resources andthereliabilityof providedservices.
traditionalstochasticformalismsarelimitedbytheiruseof constant valuedprobabilities.thislimitstheeffectivenessofprobabilisticmodelcheckingforreal worlddomainssuchascloudcomputing becausetheprobabilitiesthatrepresentcertainsystemquantities such as reliability fault proneness and so on are unknown a priori andmustbedeterminedempiricallythroughobservationsofthe system or from the experience of domain experts.
estimating these probabilities accurately is complicated by the fact that they may changeovertimeduetothestochasticnatureofthemodeledsystem.
they may be affected by unpredictable environmental factors suchasfailures disastersandworkloadspikes.consequently uncertainty about model probabilities can lead to invalid verification results.
for the reasons outlined above in order to support accurate and effective probabilistic verificationof reliableand secure cloud services for system providers and users it is necessary to understand 454esec fse september4 8 paderborn germany yamiletr.
serrano llerena guoxin su anddavids.rosenblum theeffectofuncertaintyontheprobabilisticverificationofcloudcomputingsystems .this paperaimstoenable cloudadministratorsto verifyreachabilitypropertiesofcloudservicesinthepresenceof such uncertainty.
in order to address the effects of uncertainty in probabilistic verification in previous work we have developed a variety of techniquesforperturbationanalysisofdiscrete andcontinuous time markov chains dtmcsand ctmcs .these techniques candeterminetheconsequencesoftheuncertaintyonverificationofsystem properties .
in this paper we present the first approach forperturbationanalysisofmarkovdecisionprocesses mdps a stochastic formalism that is especially popular due to the significant expressive power it provides through the combination of both probabilistic and nondeterministic choice.
our approach is applied in three steps.
first we construct an mdp model that captures key behavioral characteristics of interest of a cloud system and we specify the reachability properties the model must satisfy.
second weextendthemdpmodeltoaparametricmarkovdecisionprocess pmdp a parametric variant of an mdp to model uncertainty in the mdp s probabilities.
third we formally characterize the worst caseconsequencesoftheuncertaintyontheverificationof thereachabilityproperties inparticular wecapturetheeffectof uncertainty in the form of condition numbers which express the maximum variation to verification results as a linear function of the perturbation of model probabilities.
the main technical contributionsofour approach are as follows wepresentanefficientheuristicalgorithmforexploringthe space ofadversaries of a pmdp which encode the different waysofresolvingthepmdp snondeterministicchoices.the algorithm exploits the underlying graph of the pmdp in an efforttoovercometheintractabilityofanalyzingthespace ofadversaries exhaustively.
we present a prototype implementation of our approach in python whichisinterfacedwithprism toextractthe basic features ofan mdp model.
wepresentanexperimentalevaluationofourapproachon two case studies of cloud systems.
our experiments indicate thatourtechniqueisabletocomputeanaccurateestimation oftheeffectoftheuncertaintyonthereachabilityverification of an mdp regardless of the model size and with efficient performance.
theremainderofthepaperisorganizedasfollows.section2providesamotivatingexampleofacloudcomputingsystem.section3 recallsthenecessaryformalfoundationwithrespecttomdps its parametricvariantanditsreachabilityverificationinprobabilistic modelchecking.wepresentourperturbationapproachinsection4.
section presents our algorithm for computing the maximum condition number of an mdp.
section presents our experimental evaluationandresults.section7discussesrelatedwork.andsection8summarizesthemaincontributionsofthepaperanddiscusses future work.
motivating example consider a real life scenario in cloud service migration where the objective is to enable a user always to be connected to the optimal cloud.
suppose we have a mobile network with a0 figure atypical 3gpp mobile network.
s s1 s3 2s3 3s1 mi s2 4s2 3s2 .
x1 x21.
x1 x21.
x1 x21.
.
.
.
.
.
.
.0a1 a2 figure mobile networkmodeled as amdp.
typical 3gpp network topology as illustrated in figure which employstheconceptoffollow mecloud fmc toprovideoptimized disruption free cloud based services for mobile users .
asshowninfigure1 a3gppnetworktopologytypicallyisdivided intohexagonalcells.forthesakeofsimplicity weconsideratopology ofn rings of cells where i jindicates the j th cell in ring isuch that i n .
each cell is covered byone ofa number of micro clouds mcs that are interconnected with each other and monitoredbythe fmc controller.
we wish to model the service migration decisions of the fmc controller whichdecidesineachtimeslotwhetheraserviceconsumedbyauseratsomemcshouldbemigratedtoadifferent more optimalmc.a userstartsusingaserviceinthecellofring0 cell 1infigure1 .thenineachtimeslot theuserchoosesacellof the next enclosing ring with equal probability until eventually the user reaches the last ring.
note that from ring the user moves to an adjacent cell in ring with probability1 while from ring i theusermovestoanadjacentcellinring i 1withprobability1 if there are three choices of successor or1 if there are two choices .
figure depicts the mobile network modeled as an mdp.
for simplicity ratherthanmodeleachcellasastate thestatesofthe 455probabilistic model checking ofperturbedmdps withapplicationsto cloud computing esec fse september4 8 paderborn germany model represent groups of cells that induce similar behaviors.
the state space is s s s1 s3 s2 s3 s2 s1 s2 mi withs representing the initial state in which a user begins in ring using a service on some mc.
for each state siorsj iother than the initial state the userislocatedinring i whiletheserviceisstillhostedonthesame mc.
in those other states the fmc controller nondeterministically choosesbetweentwoactions eithertokeeprunningtheservice onthesamemc denotedasaction a1 ortomigratetheservicetoa new optimal mc denoted as action a2.
these actions are depicted bysolidanddashedlinesinfigure2 respectively andtheexecution ofthe modelterminatesuponany migrationofthe service.
as shown in figure all cells of ring can be aggregated into a single state s1since the cells in ring are isomorphic with respect to future behaviors and are reached with equal probability from thecellofring0.however withinring1 theusermaymoveeither directlytowardsa corner cellofthenetwork illustratedasthe greycellsinfigure1andthecoloredstate s2 4infigure2 ortowards some cell between the corners of the network.
the resulting state of the former kind of move is denoted s3 since the move is to a cellinring2thatoffers3choicesofnewcellinring3 whilethe resulting state of the latter kind of move is denoted s2 since the moveistoacellinring2thatoffers2choicesofnewcellinring3 .
similar behavior is possible in the moves from rings to and to withcorresponding states inthe model.
amongthevariouspropertiesofthisnetwork supposeweare interestedindetermining themaximumprobabilitythatamobile user is served by the same mc until reaching one of the corners of the network .
in a real world cloud environment the movement of the user through the cloud can be affected by external factors e.g.
a power outage environmental changes e.g.
an earthquake thatcouldcauseserverstogodown andsoon.inourmodel we assume that such uncertainty in network conditions affects the probabilisticchoiceofwhetherornottomovetowardthecornerof the network.
therefore it is important to determine the worst case consequenceoftheeffectofthisuncertainty ontheverificationofthe above reachability property.
the main contribution of this paper is an approach for efficiently computing this worst case effect.
in our model we capture this uncertainty in the variables x1 andx2 which embody perturbations to the the probabilistic choice between moves to states s3 iands2 i respectively.
we require only thatx1 x2 in order to ensure that the probabilities over thetwochoicessumto1.ourapproachusesthesevariablesplus an analysis of the structure of the mdp to compute a condition number whichasdescribedinsection4providesan estimateofthe worst case effectofthe perturbation.
previous studies have proposed different perspectives to deal withuncertaintyinprobabilisticverification.sen etal.
introduceintervalsforcharacterizingtheuncertaintyintransitionprobabilities and compute exact bounds for the verification of pctl properties.
however these exact bounds are point wise which implies that whenever the bounds of the intervals are modified theverificationboundsmustberecomputed makingreuseof the intervals difficult.
an alternative approach is to compute a mathematical function that defines the relationship between the uncertain probabilities andtheverificationresults .inthiscontext asymptoticperturbation analysis of dtmcs provides efficient approximations rather than exact bounds when the transition probabilities are subjectto small perturbations .
toleveragethisasymptoticapproachformdpverificationand computeasymptoticboundsontheeffectofperturbationonverificationresults wemustsomehowanalyzethefullsetofdtmcs inducedbyall memorylessadversaries ofthemdp whichresolve the nondeterministic choice in a state by selecting the same action eachtimethestateisvisited .however anexhaustiveanalysisof an mdp has computational complexity proportional to the number of adversaries it admits which in general is exponential in the size of the mdp.
in this paper we present an efficient algorithm that mitigates the intractabilityof an exhaustive analysis.
background thissectionpresentsthenecessarybackgroundforourapproach.
we first revisit the formal definition of mdps and their parametric extension whichunderliesourperturbationanalysis.wethenintroduce reachability verification of properties on mdps as developed inprevious studies .
.
markovdecision processes for a countable set s a discrete probability distribution on sis a function s such that summationtext.
s s s .
the set of all probability distributionover sisdenoted dist s .
definition3.
.
markovdecisionprocess mdp .
anmdpisatuple m s act q s ap l wheresisafinitesetofstates actisaset ofactions q s act dist s isaprobabilistictransitionfunction such that s s a act summationtext.
s sq s a s s sis an initialstate apisasetofatomicpropositions and l s 2apa labelingfunction.
letact s denote the set of enabled actions in state s where act s .. braceleftbig a act q s a s 0for some s s bracerightbig.
for any state s s itisrequiredthat act s nequal and summationtext.
s sq s a s 1forany actiona act s .
for each state s s there are two steps for determining its successor state.
first a nondeterministic choice is made among the actions act s .
second assuming action a act s has been selected a successor state sis chosen randomly based on the probability distribution given by a such that the probability of moving fromsto sisgiven by q s a s .
thesetof successorsstates ofs swherea act s isenabled issucc s a s s q s a s .
given a state set k s we denote the set of output states of kasout k whereout k s s k q s a s 0for some s sanda act s .
paths.aninfinitepath inanmdp misanon emptysequence oftheform s0a0 s1a1 s2...wheresi s ai act si and q si ai si 0for alli .
we denote i as the i thstate inthepath .afinitepath s0a0 s1a1 ...an sn n denoting its length and last snits last state.
the probability measureofafinitepath denoted p isdefinedastheproduct producttext.1n i 0q si ai si .
we denote pathm sandpathfin m sas the set of all infinite and finite paths starting in state sofm respectively.
456esec fse september4 8 paderborn germany yamiletr.
serrano llerena guoxin su anddavids.rosenblum apaththroughanmdprepresentsan execution i.e.onepossible behavior ofthe model.
executions.
an execution of an mdp mis an alternating sequenceofstatesandactionsendingwithastate.formally anexecution s0a0s1a1...an 1snsuchthat siai si 1for all0 i n. wedenote act a0...an 1asthesetofactionsintheexecution andp as the probability measure ofthe execution .
totraceapathinanmdp m wemustresolvethenondeterministic choices that are presented in m. this resolution is performed byanadversary alternativelycalleda scheduler orapolicyinthe literature.
definition3.
.
memorylessadversary.
anadversaryofanmdp m s act q s ap l is a function a pathfin m dist act such that a a 0only ifa act last .
an adversary ais memorylessif a dependsonlyon last thatis forany pathfin msuch that last last we have a a .
a memoryless adversary aalways selects the same action in agivenstateindependentofwhichstateswerevisitedpreviously.
therefore arestricts theset of paths denoted as patha m s where patha m s pathm sandinducesaprobabilityspace proba m sover thepaths patha m s .wedenote advmasthesetofallmemorylessadversaries in m. definition .
.
sub mdp.
a sub mdp of an mdp mis a pair of state and action sets c d where i c sis non empty and the mapd c 2actis a function such that d s act s is non emptyforallstates s c and ii s canda d s implies succ s a c. .
parametricmarkovdecision processes previous studies have used parametric markov decision processes pmdps forexpressingnon fixedtransitionprobabilities in mdps.
we use pmdps for capturing the presence of uncertainty inthe probabilistictransitionsofmdps.
definition .
.
parametric markov decision process pmdp .
a pmdpbasedonmdp m s act q s ap l isatuple m s act q s ap l wheres act s apandlare defined as definition .
x x1 xm is a vector of pair wise distinct symbolicvariableswhere mrepresentsthetotalnumberofsymbolic variables and q isaparametrictransitionprobabilityfunction basedon q. the main difference between an mdp mand its parametric variant m lies inthe extension of parameters and the definition of the probabilistic transition function q .
informally q is obtained by associating variables from xwith some specificentries ofq.inparticular thedefinitionof q forourapproachwillbe explained in section .
for the sake of our approach similar to the non parametric case we denote advm as the set of optimal adversaries ofapmdp m .
.
reachability verification in mdps a fundamental verification problem for quantitative analysis of mdps is to compute the probability of reaching a target set t s .this property of probabilisticreachabilityisdenoted t. definition .
.
reachability probabilities.
given an mdp m the minimumandmaximumprobabilityofreachingasetoftargetstates t sfroms over all possible adversaries is defined as pmin m s t infa advm pa m s t andpmax m s t supa advm pa m s t wherepa m s t proba m s patha m s i i t .
definition3.
.
theminimumandmaximumprobabilityofreaching a set of target states t sfrom state sunder its enabled actiona act s can be defined in similar way to definition .
aspmin sa t infa advm proba m s patha sa t andpmax sa t supa advm proba m s patha sa t wherepatha sa t patha m s s a s a i i t .
adversariesthatachievetheminimum andmaximumprobabilities defined in definition .
are called optimaladversaries denoted asadvminandadvmaxrespectively.
similarly advmin sa and advmax sa denote the subsets of optimal adversaries that achieve the probabilitiesindefinition3.
.
definition .
.
sets of optimal executions.
given the sets of optimaladversaries advmin sa andadvmax sa wedefinethesetsofoptimal executions from a state sand its enabled action a act s as follows min sa a advmin sa sas1a s1 ...sn max sa a advmax sa sas1a s1 ...sn whereadversary a s actsuchthat a ss1s2...sn ss1s2... sn s .
thecomputationofreachabilityprobabilitiesisperformedintwo steps.
the first step analyzes qualitatively the underlying graph of an mdp to identify sets of states for which the minimum or maximum reachability probability is either 0or1.
second these sets are used to compute the quantitative minimum and maximum reachabilityprobabilitiesusingsomestandardtechniquesuchas value iteration linear programming or policy iteration .
in practice probabilistic model checkers such as prism use value iteration for their quantitative analysis.
value iteration is an iterative numerical method that approximates the values of a reachability probability up to some accuracy .
in this context kwiatkowska etal.
developedanimprovedandefficient version of the value iteration technique based on a decomposition ofthemodelintoitsstronglyconnectedcomponents sccs .this improvedversionoptimizes the verification speedfor mdps.
perturbation approach inthissection wepresentourperturbationapproachforestimating theeffectofuncertaintyinthe reachabilityverificationofmdps.
after modeling a cloud computing system as an mdp we first introduce uncertainty small perturbations to the mdp.
then we 457probabilistic model checking ofperturbedmdps withapplicationsto cloud computing esec fse september4 8 paderborn germany characterizeuncertaintyviasymbolicvariables andwecapturethe verification effect of uncertainty in the form of condition numbers.
.
modeling uncertainty inspired byprevious studies we use a parametric variantofanmdp mformodelinguncertaintyinthenondeterministic model.
first we define the parametric probabilistic transition functionbyidentifyingactionsandprobabilistictransitionsthatmay be affectedbyuncertain events.
definition4.
.
parametricprobabilistictransitionfunction.
given a vectorx x1 ... xm and a non parametric function q q is the parametric probabilistic transition function where s s anda act s summationtext.
s sq s a s 1and each entry q s a s ofq isdefinedas follows q s a s ifq s a s and q s a s orq s a s xiwhere1 i m if q s a s nelement .
through definition .
we can see that only transitions with probabilitiesbetween but not including 0and1can beupdatedby the appended variables.
this is because transitions with probabilities0or1arenotprobabilistic andthusnotsubjecttoperturbations.
basedon q westatethefollowingdefinitionandproposition definition .
.
perturbed entry.
a perturbed entry q s a s isoftheform p s a s xiwherep s a s nelement representsthe non symbolicpartoftheperturbedentryand xi xcapturesthe presenceofthe uncertainty.
proposition4.
.
givenavector x x1 ... xm letibeapartitionon m .asub vector i xj ... xk isanindependent perturbedsub vectorinthepartition isuchthat j k m.for alli i summationtext.
s sq s a s summationtext.
s sp s a s summationtext.
xi ixifor some s sanda act s .
in words proposition .
states that each element of xfalls into anindependent perturbed sub vector iand all variables of a sub vector iare used.
each sub vector igenerates a singleton set of a perturbed action acti a act s s s xi i q s a s p xi and a set of perturbed states si s s s s a act s xi i q s a s p s a s xi .
it is alwaysassumedthatthevector x x1 xm iswithintheset u.. x rm i i summationtext.
xi ixi q q .
note that we sayq qwhen they have exactly the same non zeroentries.
to illustrate our perturbation approach consider a simple exampleofapmdpdepictedinfigure3.fornow ignorethedashedrectangles.asthefigureshows thestatespace siss s0 s1 s2 s3 s4 s5 s6 s7 s8 wheres0is the initial state and the target set t s7 .
the action set actis given by a1 a2 a3 a4anda5 which are depictedassolid dashed dotted looselydashedandlooselydotted lines respectively.
the perturbation in the model is depicted by the vectorx x1 x2 x3 x4 x5 whereeachvariableof xfallsintotwo independentperturbedsub vectors i1 x1 x2 associatedwith acti1 a2 andsi1 s0 s1 and i2 x3 x4 x5 associated withacti2 a3 andsi2 s4 .s0 starts1 s2s3 s4s5 s6s7 s80.
x1 .
x20.
x1 .
x20.
.
.
.
.
.
x30.
x4 .
x50.
.
.
.
.
.
.
.
a1 a2 a3 a4 a5k1k2 k3 k4k5 k6 k7 figure anillustrative example .
estimatingtheworst case effect .
.
perturbationcharacterizationofpmdps.
wefirstcharacterizetheperturbationofpmdp m andthereachabilityproperty tto be verified.
recall that pa m s t is the probability of reaching a target set tfrom state sunder the adversary ain mdp m. in this context we formally define the exactdifference between satisfying a reachability property in a perturbed model m and its an associated unperturbed model mas follows definition4.
.
exactperturbationcharacterizationfunction.
given an mdp mand its parametric variant pmdp m with the targetsett theexactperturbationcharacterizationfunctionfor m againsttis u suchthat x supa advm braceleftbig pa m s t bracerightbig supa advm braceleftbig pa m s t bracerightbig wherex u. definition .4reveals that for each set of values of the vector x it is possible to compute the exactdifference x between m andm.however ourpurposeistocapturetheworst caseeffect ofxinm for which we need to evaluate x for all combination ofx.then weselectthe worst caseconsequencebasedonthem.
forthisreason wedefinethe perturbationcharacterizationfunction againsttheperturbed parameters xthatestimates themaximum difference betweensatisfyinga reachability propertyin m and its an associated mas follows definition .
.
estimated perturbation characterization function.
given an mdp mand its parametric variant pmdp m with thetargetset t theestimatedperturbationcharacterizationfunction for m againsttis u such that x supa advm braceleftbig pa m s t pa m s t bracerightbig wherex u. .
.
maximum conditionnumber.
inspired byprevious studies and based on perturbation analysis we use the concept of condition numbers which capture the sensitivity of verification results to perturbed parameters.
the maximum condition number maxcn measureshowmuchthecharacterizationfunction x can change due to small perturbations.
let 0be a perturbation distance.
we assume is a small positive number.
we define the maxcnas follows 458esec fse september4 8 paderborn germany yamiletr.
serrano llerena guoxin su anddavids.rosenblum definition .
.
maximum condition number.
let 0be a perturbationdistance.themaximumconditionnumber denoted as for the estimatedcharacterization function againstxis lim 0sup braceleftbig x x u x bracerightbig let 1 x h xbethelinearapproximationof forsomevector hsuchthat h x .notethattheexistenceofthelimitineq.
isguaranteedbythe fact that isdifferentiable at .
weformulatethatthecoefficientsofvector histheconcatenation of all sub vectors hi hj ... hk for alli iand1 j k m. we assume that the vector hpreserves the order after theconcatenation.inthiscontext wealternativelyformulatethe maxcnofpmdp m as follows definition4.
.
leth max hi andh min hi bethelargest andsmallestcoefficientsof hi.let hi h h bethemaximum difference between all coefficients of hi.
then the maximum condition number .maxi i hi.
the key point is to compute the largest h and smallest h coefficients of each sub vector i i. however it may no be feasible tocompute thesecoefficients byanalyzing all adversaries in the pmdp model.
to overcome this problem we introduce a heuristic method that analyzes the pmdp efficiently and computes the maxcnofthe model.
maxcn algorithm inthissection wepresentouralgorithmicapproachthatcomputes the maximum condition number of a pmdp named as maxcnalg .
in the following let m s act q s ap l be a pmdp withtarget set t sandthe partition iover the vector x. suppose we aim to compute the maximum condition number of the pmdp depicted in figure based on def.
.
we require analyzingtheperturbedsub vectors i1 x1 x2 andi2 x3 x4 x5 anditscorrespondingcoefficientvectors hi1 h1 h2 andhi2 h3 h4 h5 .notethatthecoefficient h1isrelatedtovariable x1 h2 to variable x2andsoon.
let us first analyze the vector hi1 h1 h2 .
to compute the coefficients of hi1 we first need to detect the transitions associated with variables x1andx2.
in our example as can be seen from figure the transitions s0a2 s1ands1a2 s3are associated withx1ands0a2 s2ands1a2 s4withx2.
to determine the valueofh1 wedependonthereachabilityprobabilitiesfromthe successorsstates s1ands3tothetargetset t.similarly h2depends on the reachability probabilities from states s2ands4tot.
the challenge here is to determine which probabilities similarly which adversaries shouldbeassignedtothecoefficients h1andh2such that they maximize hi1.our algorithm deals withthis challenge.
.
sub pmdpgenerator thebasicconceptofourapproachistogenerateasub pmdp m s act thatcontainstherelevantinformationformaximizingthe difference between the coefficients of a sub vector i i denoted as hi.
inspired by a former method for computing reachabilityprobabilitiesinthenon parametriccase weanalyzetheunderlying graph of the pmdp by detecting the set of strongly connectedcomponents sccs asaheuristicforselectingthesetofstatestobe analyzed.
the scc based decomposition of the graph is generated bytarjan salgorithm .then wedeterminethe reversedtopological order among the set of sccs such that k1 ... kn wherendenotes the number of sccs in the pmdp.
kjwill appear beforekiin ifkidependson kj.wesaythat kidependson kj ifsucc ki kj nequal wheresucc ki is the set of states that are immediate successors ofstates in ki.
asanillustration consideragainthepmdpshowninfigure3 the dashes rectangles indicate the scc based decomposition in k1 s8 k2 s7 k3 s3 s5 s6 k4 s4 k5 s1 k6 s2 andk7 s0 .
in the following let i xj ... xk be the sub vector to be analyzed and let s xi be the shorthand for representing the successor state sof a perturbed entry q p s a s xi.
given the subvectori wegenerateasub pmdpof m foreachsuccessorstate s xi s. this procedure is named as generatorsubpmdp and depictedinalgorithm .
algorithm1 generatorsubpmdp s xi input a states xi s 1 k1 ... kx such that s xi kxand 2m sub pmdp s act wheres act 3forscck do 4s k 5act k uniontext.
s kact s setof actionsof k 6act act k 7ifkis nomec then actout k a act k s k succ s a out k setof outgoing actionsof k act prune actions m actout k act act updateact basedonact 11returnsub pmdp m ascanbeseeninalgorithm1 generatorsubpmdp s xi first computes the subset of sccs to be analyzed denoted as where the successor state s xi belongs to the last scc to be analyzed line .
this step is important due to the facts that a an scc can be analyzed independently as long as all of its successors sethave beenalready analyzed and b themethodonlyanalyzes the relevantsccs inthe bestcasescenario.
second generatorsubpmdp iteratesthroughallsccsin .for eachscc k thealgorithmassigns kandthesetofactions ofkto the set of states s and the set of actions act respectively lines4 .third generatorsubpmdp evaluateswhether kisnot amaximumendcomponent mec .intheaffirmativecase generatorsubpmdp computes the set of outgoing actions of k line andinvokesfunction prune actions m actout k line9 .this function takes as input the current sub pmdp m and the set ofoutgoingactions actout k andreturnsthesetofrelevantactionsact .theupdateof act issubjectto act line10 .finally generatorsubpmdp returns asub pmdp m .
.
.
pruning actions.
let us recall that each scc can be analyzed independently and our target is to find coefficients that 459probabilistic model checking ofperturbedmdps withapplicationsto cloud computing esec fse september4 8 paderborn germany maximize hi.withthis inmind we evaluate the set ofoutgoing actions ofeachscc andwediscardactions thatdo notmaximize hi.
this procedure is named as prune actions and it takes as input a sub pmdp m and a set of outgoing actions of an scc k actout k .thepseudocode of prune actions isdescribedin algorithm .
algorithm2 prune actions m actout k input a sub pmdp m andasetofoutgoing actions actout k ofscck 1act 2foractiona actout k do s succ s a for some s k 4 s braceleftbig min sa max sa s s a act s bracerightbig setof optimalexecutions in m 5t s s buildanexecutiontree 6 t 1 ... m setof branches t 7 argmax t p where p pmax pmin 8act act p set of relevant actions basedon 9act act 10returnact asalgorithm2shows foreachoutgoingaction a actout k prune actions first computes the set of all successor states of state s kvia action a denoted as s line .
second given the subpmdp m andtheset s prune actions computesthesetofoptimal executions s asdefinedindef.
.
line4 .toreasonabout s we buildan executiontree t definedas follows definition5.
.
executionstree.
givenasetofoptimalexecutions s and the set of successors states s the execution tree t is a rootedtree where the root of t isadistinguishednode v .
the heightof t isequal to s .
everyinternalnode uisapair p where isanexecution in s andpisthe probability measure of .
anodea a pa istheparentofnode b b pb ifonly if b aor a b. a branch oft is a path from v to a leaf node where s .
the minimum and maximum probability of a branch is defined as pmin min p p andpmax max p p respectively.
after building the execution tree t prune actions computes thesetof branchesof t denotedas t line6 .as aheuristic for filtering the actions the method selects the subset of branches t atwhich p ismaximized line7 .finally itselects the setofexisting actions inthe sub set line8 .
figure4illustratestheexecutiontree withrespecttostate s1 k5and action a2 actout k5 .
given that succ s1 a2 s3 s4 thefirst level of theexecution tree corresponds tostate s3and the parenleftbig min s3a1 max s3a1 .
parenrightbig parenleftbig min s4a3 .
parenrightbig parenleftbig min s4a4 .
parenrightbigbranch 1 branch 2 figure example ofan execution tree second level to state s4.
the set of branches t 1 2 and since p 1 p 2 thesubset 1 .asaresult theaction a4ispruned.
.
computing themaximumdifference the procedure maxdiff depicted in algorithm performs the computationofthemaximumdifference hiofacoefficientsubvectorhi.
algorithm3 maxdiff i input a sub vector i si s s xi i q s a s p s a s xi perturbed successors states 2 i 3fors xi sido s act generatorsubpmdp s xi 5 i s xi braceleftbig min s xi a max s xi a a act s xi bracerightbig 6t i i buildacoefficienttree 7 t 1 ... m setof branches t hi max h h 9return hi maxdifftakesasinputtheperturbedsub vector iandcomputes the set of perturbed successors states denoted as si ofi line .
then maxdiff constructs a dictionary ithat maps a successor states xi to its set of executions line .
next maxdiffiterates through all perturbed successors states in si.
for each successor states xi si the function invokes generatorsubpmdp s xi which returns a sub pmdp s act line .
it is important to notice that the scc based procedure as introduced in the previous sectioncontainsrelevantinformationfor the computationof hi.
basedon s act maxdiffselectsthesetofoptimalexecutions withrespectto s xi andstores intothe dictionary i line5 .
after the analysis of the set of successors states siand the computationofoptimalexecutionsthatproviderelevantinformation maxdiffbuilds acoefficient tree whichisdefinedas follows definition5.
.
coefficienttree.
givenasetofoptimalexecutions iand the sub vector i xa ... xb the coefficient tree tis a rootedtree where the root of tisadistinguishednode v .
the heightof tisequal to i .
every internal node uisapair vi hi where 460esec fse september4 8 paderborn germany yamiletr.
serrano llerena guoxin su anddavids.rosenblum viisatuplelistoftheform s a s wheresisaperturbed state ais a perturbed action sis a perturbed successor state and isan execution.
hiisthe coefficient relatedto the variable xi.
a coefficient hi summationtext.
s a s pmax m s s where p q s a s ifq s a s p if s nelementt q s a s otherwise anodex vi hi istheparentofnode y vi hi if only ifvi vi nequal .
a branch oftis a path from v to a leaf node where i .
the largest and smallest coefficients of a branch are definedash max vi hi hi andh min vi hi hi respectively.
aslast steps maxdiffevaluatesthesetofbranches t .next it computes and returns the value of the maximum difference hi lines6 .
another key point of our algorithm is the building of trees.
the executionandcoefficienttreesensuretogroupasetofprobabilities generatedbythesamesetofexecutions.inthisway wecanidentify the largestandsmallest coefficients ofasimilar setofadversaries.
.
time complexity theorem5.
.
thetimecomplexityofthemaxcnalgalgorithm iso y s act .
proof.given a pmdp m s act q s ap l and the vectorx x1 ... xm letibe a partition on ... m that containsy x sub vectors.
maxcnalg callsytimes the maxdiff function which takes as input a sub vector i iand invokes generatorsubpmdp function at most s times.
to calculate generatorsubpmdp weanalyzeatmost s sccs.foreachscc we invokeprune actions whichcanbeachievedin o s act time.
thus consideringalltheseaspects thecomplexityof maxcnalg is o y s act .
experimentalevaluation in this section we present two case studies of cloud computing which were inspired by previous studies .
as we present each case study we describe briefly the mdp model the reachability property to be verified and the perturbed set to be analyzed.
for evaluation purposes we have developed a prototype implementationofouralgorithmsinpythonanduseditinconjunction with the probabilistic model checker prism to extract basic information about the mdp model.
the prototype computes themaximumconditionnumber maxcn forthemdpusingthe algorithmpresentedintheprevioussections.allourexperiments havebeenconductedonamachinewith3.06ghzintelcore2duo processorsand8gb ram.
.
servicemigration decision in cloud computing thiscasestudyhasbeendescribedinsection2.inshort weanalyze the service migration decision of an fmc controller that decidestable experimentalresults modelmdpdata maxcn time sec s t adv maxcnalg exhalg m5 p1 .
.
.
m5 p2 .
.
.
m5 p3 .
.
.
m8 p1 .
.
.
m8 p2 .
.
.
m8 p3 .
.
.
whetheraserviceconsumedbyauserandhostedbyaparticular micro cloudshouldbemigratedtoadifferent optimalmicro cloud.
thecloudcomputingservicesworkwithinatypical3gppnetwork topologyof nringsofcells.weperformedexperimentsforsystems withnetworktopologyof n 5andn 8rings.wemodeledeach system as an mdp where the state space sis composedof 2n states.
the mdp models are denotedas m5andm8respectively.
we wish to verify the maximum probability a user is served by only one micro clouduntil p1auserreachesone ofthe corner cellsofthe topology p2auserreachesoneofthecellinthelastringbetweenthecorners and p3auserreachesone ofthe corners ofring n .
as mentioned in section due to the nature of the cloud environment and other external factors the probabilistic transitions of the model can be affected by small perturbations.
we capture the perturbations in variables x1andx2 which are attached to theprobabilistic transitionsto states sj ishown infigure .
for the purposeofestimatingtheworst caseconsequenceoftheeffectof theseperturbations wecomputethemaxcnforeachmodel.these experimental results are presentedintable1.
ascanbeseenfromtable1 foreachmodelinstance thefirst four columns show the model and property being verified plus thesizeofthemodelintermsofitsnumberofstates transitions and memoryless adversaries.theremainingcolumnsshowthe maxcn computed for the model and the running time in seconds of our algorithm denoted as maxcnalg .
for the sake of evaluating the performance of our algorithm the last column gives the running time of an exhaustive algorithm denoted as exhalg which exhaustivelyanalyzesthetotalsetofadversariesinthemdp.
exhalgcomputestheconditionnumberofeachadversaryandthen returns the maximum of all computed condition numbers.
as indicatedbythe boldfaced times maxcnalg outperforms exhalgin allcases.
as table shows our experiments have been conducted on a model with a significant number of adversaries.
the number of adversaries is a critical determinant of performance since it representsthesetofpathsandexecutionsthatthealgorithmsneed to analyze.
accordingtotherunningtimeofthetwoalgorithms thetime computedby maxcnalg isalwaysconsiderablysmallerthan exhalg.
table also reveals that the running times of the two algorithms are consistent between models in that the largest and smallest running times of both algorithms correspond to the same 461probabilistic model checking ofperturbedmdps withapplicationsto cloud computing esec fse september4 8 paderborn germany table additional experimentalresults for m5 model prmax pr m500.
m5 .
.
.
m5 .
.
.
m5 .
.
.
property.
for example the largest running times of exhalgand maxcnalg correspondtop2foreachmodel.inasimilarway there existsacorrelationbetweenp1andp3.itisimportanttomention thattheperformanceofouralgorithmissubjecttotheperturbation input theunderlyinggraphofthemdpandthemodelconnectivity.
toevaluatewhetherourapproachprovidesanaccurateestimate oftheworst caseeffectofuncertaintyinthereachabilityverificationofmdps wecomputedtheperturbationestimategenerated bythemaxcnalg algorithm.forthispurpose weconductedexperiments depicted in table on the model m5and the reachability property p2.
first we constructed several non parametric modelswith small perturbationdistances denotedas m5 j j whicharesimplyinstancesof m5withvaluessuppliedforthesymbolicvariables.second for each such perturbed model we computed the actual maximumprobabilityforreachabilityproperty p2 denotedas prmax j. third wecomparedtheseactualmaximumprobabilitiesagainstthe maximumprobabilityfortheunperturbedmodel withthesymbolic variablessettozero computedas pr prmax j prmax.lastly we calculated theestimate asanestimatefor pr which thus provides an estimate of the worst case effect of uncertainty onp2dueto the perturbation.
as shown in table for each model the estimate represents a safe prediction of the worst case effect.
for example for the model m5 giventhat thedifferencebetweentheactualprobabilitiesfortheperturbedandunperturbedmodelsis .
whichlieswithin the interval estimatedby .
the correlation between the probability verifications of the perturbed model prmax jand the perturbation estimate is interesting becauseitdemonstratesthattheincrementofthesevaluesissubject to the perturbation distance.
all these findings reveal that the predictionoftheworst caseeffectofuncertaintyinthereachability verification of mdps is captured by the maximum condition number computedbyour approach.
another key finding from our work is that the maximum condition number of p2is generated by a non optimal adversary which doesnotproduceminimumandmaximumsatisfactionprobabilities .
this finding demonstrates that the worst case effect of uncertainty can be generated via adversaries other than those identified asoptimalbyconventionaltechniques.ingeneral thisresultoffers crucial information for further investigation.
.
confidentialityin cloud computing inspired by baldi et al.
we study the problem of confidentiality provided by data dispersal algorithms against an intruder in thecloud.datadispersalalgorithmsprovideamethodforstoringtable experimentaldata of mcmodel model prmax pr mc00.
mc .
.
.
mc .
.
.
mc .
.
.
informationindistinctslicesdispersedacrossmultipleserversin differentlocations.
we model the behavior of a client that sends a sequence of n slicestomdistinctserverseachhavingacapacityof cslices and an intruder that intercepts the traveling slices and reconstructs themessagebody.thesequenceof nslicesconstitutesamessage.
a client can select any server as a storage server with the same probability.however aclientcansendaslicetotheselectedserver onlyiftheserverhasnotreacheditsfullcapacity.otherwise the clienttries again selecting anotherserver.
the intruder called the slice attacker intercepts every slice independently from the previously intercepted ones.
a slice attacker needs to intercept at least kslices to reconstruct the message.
the probability that the attackerintercepts aslice successfully is p. due to the nature of cloud computing systems the statistical estimateof p whichisassociatedwiththeperformanceofaslice attacker couldbeaffectedbysmallperturbations.weinvestigate theeffectoftheseperturbationson themaximumprobabilitythata slice attackermanagesto reconstructamessage .
we model the system as an mdp denoted as mc with the followingparameters n m c k 2andp .
.the mdpmodelsizeis 152statesand 373transitions.thenumberof adversaries is over .
in a manner similar to the previous case study we built three non parametric models having a small perturbationdistancefromtheunperturbedmodel.theseperturbed models are denotedas mc mc 2andmc .
in order to evaluate our approach we compute the maximum condition number ofthe unperturbedmodelusing the maxcnalg algorithm.
due to the large number of adversaries we were unabletocompleteanysuccessfulrunof exhalgforaperformance comparison.
table presents the perturbation estimates generated by our approach inamannersimilartotable2.ascanbeseenfromtable the maximum probability of the unperturbed model is .
and the probability of the perturbed models mc mc 2andmc 3are .
.7827and0.
respectively.thesefindingsshowthat theprobability ofa perturbed model issubject to the perturbation distance.theseresultsareconsistentwiththeexperimentaldata ofthe previous casestudy.
we can observe in table that the estimates provide an accurate estimate of the worst case effect of the perturbations.
for instance for the model mc is .
corresponding to the probabilityinterval .
theexperimentalresultsforbothcasestudiesshowaclearadvantageofouralgorithmovertheexhaustivealgorithm.
maxcnalg successfullyandefficientlycomputesthemaxcnofanmdpmodel withoutanalyzingalladversaries.likewise theresultsdemonstrate 462esec fse september4 8 paderborn germany yamiletr.
serrano llerena guoxin su anddavids.rosenblum thatour approach providesan accurateestimate of the worst case effectofuncertainty onthe reachabilityverification ofmdps.
related work in this section we briefly discuss previous works related to the research described in this paper focusing on the existent works onprobabilisticmodelcheckingofcloudcomputingsystemsand studiesthatdealwiththeuncertaintyinthequantitativeverification ofmdps.
recent studies have adopted probabilistic model checking with thepurposeofanalyzingtheadvantagesandlimitationsofcloud computingsystems.forexample naskos etal.
developedan approach to enforcing elasticity the most prominent advantage of cloud computing and the provisioning of cloud resources through dynamicinstantiationandonlinequantitativeverificationofmdps.
the authors demonstrated that quantitative verification at runtime also could be beneficial for the management of requirements of thecloud.ontheotherhand researchersatfujitsu adopted probabilistic model checking to construct a performance model of concurrent live migrations in virtualized data centers.
the authors claim their approach will help cloud administrators to orchestrate managementoperationsintheircloudsystems.ourexperiments complementtheseprevious studies.
in probabilistic model checking there are previous studies on markovmodelswithuncertainties.sen etal.
introduceintervalvalueddiscrete timemarkovchains idtmcs forwhichtheexact transition probabilities are given by a closed interval.
the authors consider two semantic interpretations for the uncertainty in the transition probabilities of an idtmc one is uncertain markov chains umcs a family of dtmcs whose transition probabilities lie within the interval range given.
the other is interval markov decision processes imdps where the uncertainty is resolved throughnondeterminism.inaddition theyintroduceverification of pctl properties on idtmcs.
in this context puggelli et al.
present p completeness complexity bounds for an extension of imdps.
despitethefactthatthescopeofourstudyisofflinequantitative verification other approaches for example calinescu et al.
ensure that requirements are continuously satisfiedasthesystem evolves using a combination of continual verification and online updating of the verified models.
both techniques by their nature provideadvantagesandlimitations.
another study that deals with uncertainties in probabilistic modelcheckingisgivenbydaws .hisstudypresentsalanguagetheoreticapproachtosymbolicmodelcheckingofpctloverdtmcs introducing a parametric markov chain formalism whose transition probabilities are viewed as letters in an alphabet of a finite automaton.
hahn et al.
study the synthesis problem for reachability and pctl properties in a parametric version of mdps improving the study of daws.
similarly filieri et al.
develop a mathematical framework for runtime probabilistic model checking presentingaparameterizedversionofthegauss jordanelimination algorithm to address the uncertainty problem in dtmc models for reliabilityprediction.
lastly su et al.
introduce a mathematicalframework for asymptotic analysis in the presence ofsmall perturbations tomodelprobabilities whichrepresentuncertaintyforprobabilistic verificationofdtmcsandctmcs.fordmtcs theauthorspresent a parametric variant of dtmcs for modeling the perturbation and theydefinetwoasymptoticbounds namelyconditionnumbersand quadraticbounds.asdiscussedpreviously itisimpracticaltoapply thisapproachexhaustivelytotheanalysisofalldtmcsinducedby adversaries of an mdp due to the exponential computational complexity.inthiscontext ourworkpresentsanefficientasymptotic approachtoaddresstheeffectof uncertaintyintheverificationof mdps.tothebestofourknowledge nopreviouspublicationinthe literature has addressed this problem using perturbation analysis.
conclusions in this paper we present an approach for dealing with uncertainty theprobabilisticmodelcheckingofmdps.ourmaincontributionis aperturbationapproachthatestimatestheworst caseconsequence of the effect of uncertainty which is expressed as small perturbationstomodelprobabilities onthereachabilityverificationof mdps.
we present an efficient algorithm that captures the effect of uncertainty in the form of condition numbers by analyzing the underlyinggraphofthemdpandasubsetofoptimalexecutions.
to evaluate theapproach we implementeda prototype in python thatinteractswithprism .weranexperimentsontwocloud computing case studies and the experimental results reveal that ourapproachisabletoestimatethemaximumeffectofperturbationonquantitativeverificationofreachabilitypropertiesofmdps and it does so with good performance.
this work advances the state of the art in perturbation analysis and probabilistic model checking ofmdps.
thereareseveraldirectionsforfurtherstudy.first wewillexplore efficient approaches for computing bounds through monte carlosamplingofthesetofadversaries.second wewilldevelop techniquesforcomputingperturbationboundsforotherkindsof properties besides reachability properties such asthe full rangeof pctlproperties rewardproperties andsoon.