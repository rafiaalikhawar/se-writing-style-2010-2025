tiqi a natural language interface for querying software project data jinfeng lin yalin liu jin guo jane cleland huang university of notre dame south bend in usa email jlin6 janeclelandhuang nd.eduwilliam goss wenchuang liu sugandha lohar natawut monaikul alexander rasin school of computing depaul university chicago usa email arasin cdm.depaul.edu abstract software projects produce large quantities of data such as feature requests requirements design artifacts source code tests safety cases release plans and bug reports.
if leveraged e ectively this data can be used to provide project intelligence that supports diverse software engineering activities such as release planning impact analysis and software analytics.
however project stakeholders often lack skills to formulate complex queries needed to retrieve manipulate and display the data in meaningful ways.
to address these challenges we introduce tiqi a natural language interface which allows users to express software related queries verbally or written in natural language.
tiqi is a web based tool.
it visualizes available project data as a prompt to the user accepts natural language nl queries transforms those queries into sql and then executes the queries against a centralized or distributed database.
raw data is stored either directly in the database or retrieved dynamically at runtime from case tools and repositories such as github and jira.
the transformed query is visualized back to the user as sql and augmented uml and raw data results are returned.
our tool demo can be found on youtube at the following link index terms natural language interface project data query i. introduction software and systems engineering projects accumulate large amounts of data in the form of requirements design artifacts source code test cases feature requests bug reports project plans burn down charts and safety related assets.
these data artifacts can be connected using trace links constructed either manually during the development process or after thefact with the help of information retrieval techniques .
if leveraged e ectively project stakeholders can utilize this data to answer questions such as which elements of the design mitigate safety related hazards?
or list all test cases written in the past week which test the functionality related to temperature controls .
traditionally such queries have been executed using query languages such as sql or xquery.
however the queries can become quite complex and many project stakeholders find them di cult to compose.
nl database solutions have been available since the early 1970s and 80s however it is widely accepted that nl query languages should be customized for specific domains .
to address this problem we have developed tiqi as a tool for querying software projects.
it is supported by a traceability domain model and algorithmsdesigned specifically to transform natural language project queries into executable sql statements.
supporting queries that integrate information from multiple artifact types requires interconnected data sources.
fortunately data is becoming increasingly connected.
in safety critical projects traceability is prescribed across many artifacts by certifying bodies.
integrated design and development environments such as jazz or the github jira bridge capture associations between artifacts as a byproduct of the development process and products such as mylyn tasktop and collabnethandle the challenges of integrating data across diverse toolsets.
furthermore when trace links are not available automated tracing techniques can be used to generate usable trace links upon demand .
in this tool demo we present a natural language interface called tiqi which accepts both verbal and written natural language queries targeted at software project data.
it then transforms these queries into executable structured query language sql .
the transformed query is visualized back to the user as simplified sql and augmented uml and raw data results are returned .
preliminaryhazard id risklevel high..low descr iption system req.
id descr iptionregulatory code id descr iption relevantsoftwarereq.
id descr iption type accep tancetest id nam e result failed pass ed descr iption datemodified datecreatedtestlog id expec tedresults actualr esults daterun comme ntscode id name createdate version source unittest id name descr iption result failed pass ed testdateprevents compliesto derived from tests resultsimplements tests unit test result id resultstatus fail pass daterunresults fig.
a traceability information model tim showing available artifacts and attributes for querying against.
.
c ieeease urbana champaign il usa tool demonstrations973 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
i d like to see a list of all preliminary hazards for arm movements which are tested by recent unit tests.
query preliminary hazard for arm movement tested by unit test.
pre processed query for by that syntactic markers tokens lexicon list preliminary hazard.
description unit test.name list preliminary hazards arm movements unit test acceptance test.datemodified acceptance test.datecreated unit test.testdate table unit test sql query select preliminaryhazard.
from preliminaryhazard linksystemreq2preliminaryhazard systemreq linksoftwarereq2systemreq softwarereq linkumlclass2softwarereq umlclass linkcodeclass2umlclass umlcode linkunittest2codeclass unittest where preliminaryhazard.id linksystemreq2preliminaryhazard.targetid and systemreq.id linksystemreq2preliminaryhazard.sourceid and systemreqid.id linksoftwarereq2systemreq.targetid and softwarereq.id linksoftwarereq2systemreq.sourceid table preliminary hazard and softwarereq.id linkumlclass2softwarereq.targetid and umlclass.id linkumlclass2softwarereq.sourceid and umlclass.id linkcodeclass2umlclass.targetid and umlcode.id linkcodeclass2umlclass.sourceid and umlcode.id linkunittest2codeclass.targetid and unittest.id linkunittest2codeclass.sourceid and unittest.testdate and preliminaryhazard.description like arm movement fig.
an example of the query transformation process in tiqi ii.
tiqi overview tiqi prompts the user for a nl query by displaying a traceability information model tim which as depicted in figure models artifact types attributes analytic functions and semantically typed links.
raw data can either be stored in a centralized database or in native repositories such as jira or github.
in the distributed scenario we store the tim in a central location and provide mappings to distributed nodes capable of accessing and retrieving the data specified in a specific query.
in order to provide up to date answers over distributed heterogeneous software engineering data silos e.g.
ibm doors jira we have developed a custom h2 based database prototype.
h2 is a lightweight open source java sql database with in memory mode and full jdbc support.
our database engine therefore natively supports integration of custom analytic functions and can through jdbc api integrate data sources ranging from jira to excel spreadsheets.
however as the focus of this tool demo is on tiqi s ability to transform a natural language query all examples in this paper are run against a central repository containing all artifact data.
iii.
translation process tiqi translates a wide range of nl project related queries into executable sql.
we illustrate the multi step translation process in figure .
first the stanford parser is used to identify parts of speech and syntactical dependencies.
a section of the parsed query is shown in figure .
a number of preprocessing tasks are then performed including identifying and replacing the prelude i d like to see a list of with .
in earlier versions of tiqi this task was accomplished by collecting hundreds of typical query phrases and detecting them in the query however the approach was overly brittle and failed when unusual preludes were used.
we have therefore replaced it with the nlp approach.
duringpreprocessing additional tasks such as replacing association terms such as which are tested by with the term and formatting dates and numbers are also performed.
in the next step the query is transformed into a set of syntactic markers and tokens such as preliminary hazards and unit test.
the goal is then to correctly map each token onto an artifact name attribute name or an attribute value.
tiqi does not limit users vocabulary to the artifact and attribute names depicted in the tim.
it therefore utilizes synonym like words and phrases to increase the accepted vocabulary.
however synonyms must be used judiciously in order to minimize erroneous mappings.
for example wordnet defines several synonyms for the word testincluding trial andexamination however the term examine in the query i d like to examine a list of recently added requirements should not be mapped to the term tests as this could create an incorrect mapping to the unit test case artifact.
further standard lists of synonyms fail to include synonym like terms for software engineering such as code java or requirements specs.
we have therefore developed a domain specific set of synonym like words and phrases associated with common software engineering artifacts.
this list which we continue to iteratively evolve was developed through inspecting and analyzing the terminology used in over sample queries collected during a series of industry targeted user studies .
as users can express a single nl query in diverse ways we developed a set of grammatical patterns to guide detection of syntactic markers.
this approach establishes some independence between the extraction process and the exact wording of the query.
for example given the two queries shown in figures 3a and 3b respectively we apply a rule to identify restrictions e.g.
adjectives and verbs that describe a noun.
in both queries we trivially locate the initial noun hazard and then apply one of our grammatical patterns to search through authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a dependency for the example query b dependency for a mutation of the example query fig.
a visualization of dependencies identified by the stanford parser for a shortened form of the our example query.
amod and acl relcl dependencies in the dependency graph to identify the complete syntactic marker preliminary hazard.
while tiqi is often able to map a token onto a specific table and or attribute there are other cases in which multiple mappings are possible.
figure provides an example with the case of arm movements.
this phrase does not match a table or attribute name but does occur in at least one unit test case name as well as a preliminary hazard description.
tiqi currently utilizes a set of five disambiguators which are used to select tables attributes and data values.
in this example the rule of compounding evidence suggests that as the token preliminary hazards is already clearly mapped onto a table with the same name the arm movements is more likely to map to the preliminary hazard table than to the unit test table.
other disambiguators prioritize table names and attributes over raw data matches and matches against constrained value lists e.g.
pass fail over larger textual descriptions such as source code files.
the disambiguators therefore enable tiqi to identify the most likely interpretation of the query but they do not guarantee a correct match.
iv .
displaying results once tiqi has transformed a query into executable form it executes the query and reports results back to the user as depicted in figure .
a series of user studies which explored various display representations demonstrated the benefits of providing both visual and textual display of the query.
tiqi therefore displays the subset of the tim which is relevant to the query and displays the artifacts attributes and filter conditions.
tiqi also displays a simplified version of the generated sql.
the primary simplification is achieved through hiding the joins across the hidden trace matrices.
finally retrieved data is depicted in tabular format.
this multi faceted display enables the user to determine whether the query was correctly interpreted and also to view its results .
v .
tiqi architecture the current tiqi architecture has three major components as depicted in figure backend tiqiengine the backend trace engine is written in java and utilizes external libraries such as the stanford parser.
it takes a natural language query and attempts to output awell formed sql statement.
if it fails to do so it reports its inability to understand the query.
web server the webserver is written in java using the spring framework.
it responds to client requests for artifact data from the central or distributed database.
it also serves as an intermediary between the web client and the tiqi engine.
in one typical scenario the web server receives a nl query from the web client asks the tiqi engine to transform it executes the sql query against project artifacts and finally displays results to the user.
the web server utilizes the graphviz dots format to dynamically layout the tim and to visualize the query.
the generated layout is transformed into json and passed to the front end client.
web client the web client supports interaction with the user.
after the user selects a project the web client forwards the request to the web server waits for the json representation of the tim and then renders the visual form of the tim.
when the user formulates an nl query and presses the submit button the web client forwards the request to the trace engine waits for the results and finally displays them in the browser.
these scenarios are illustrated in figure 4a.
the user has opened one of the sample projects named isolette.
the project s tim has been retrieved and displayed and the user has clicked on the code artifact to view the raw data.
the user then formulates a query either by activating the microphone or by typing it into the query field at the bottom of the screen.
the query is processed as previously explained in section iii and the result is displayed as shown in figure 4b.
vi.
tiqi s performance we report results from an earlier study conducted to evaluate tiqi s performance against two data sets .
while these data sets are relatively small they demonstrate tiqi s capabilities.
the isolette data set included hazards faults environmental assumptions system requirements design code table i sql queries generated from nl text all queries correct incorrect correct isolette .
easy clinic .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a project artifacts serve as a query prompt b results are presented in three formats relevant tim simplified sql and retrieved data fig.
issuing a query and displaying results in tiqi s web client test cases and test results connected through six unique trace paths and described using unique attributes.
the data was taken from a case study documenting the safetycritical isolette system .
we collected queries from five di erent software engineers unrelated to our project and then augmented them by incorporating a variety of jargon dates times and negations.
this produced a total of natural language queries.
the easy clinic data set included hipaagoals requirements design code unit and acceptance test case and a test log connected through six unique trace paths and described by attributes.
the functional requirements source code and test cases were taken from the easy clinicdata available from coest.org with italian terms translated to english.
hipaa technical safeguards were added as goals and all other artifacts were created by one of the researchers in order to have a richer dataset for querying against.
to evaluate tiqi we issued each of the queries and then reviewed both the generated sql and the data output when the sql was executed.
results were marked as correct or incorrect and the numbers of completely correct queries versus incorrect ones are reported for each dataset as shown in table i. results from this study showed tiqi s promise.
however in a subsequent study when the size of the second dataset was significantly increased by adding additional records and large quantities of unstructured text accuracy dropped to .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
web client web serverdisplays tim accepts nl queries display results requests raw project data including tim schema from database.
generates tim layout.
forwards requests for nl to sql translations to trace engine.tiqi engine transforms nl queries to sqltim project datagraphvis generates tim layoutstanford parser tim resultsnl query nl query sqlschemaraw dataparsed queryfig.
tiqi architecture with centralized repository table ii two examples in which tiqi currently fails faults containing the keyword temperature were retrieved while the ones containing words such as heat and thermostat are excluded from the answer set as no low severity faults existed in the data at the time of the query tiqi failed to add the condition fault .
severity low .
queries sql list any fault related to temperatureselect fault .
id from fault where fault .
contributingfault like temperature list all low severity faults which have pending requirementsselect system requirements .
id fault .
severity from system requirements join fault join hazard where system requirements .
status like pending we are therefore working to incrementally improve tiqi in several ways.
for example we have experimented with the use of machine learning at several key decision points such as di erentiating between di erent types of questions.
results have shown high accuracy yes no .
negation .
and aggregation .
and therefore this classification feature will be integrated into the next tiqi release.
a second major focus is to create a interactive dialog as a mean of solving ambiguities in queries.
finally our longer term goal is to publicly deploy tiqi and to leverage it to interact with users in order to better understand the categories of questions users wish to pose.
the current version of tiqi is based upon approximately queries collected through a series of surveys vii.
ongoing challenges tiqi is designed to make project data more accessible however it is limited by the underlying domain ontology and its ability to interpret the intent of the nl query.
table ii shows typical errors during the sql translation.
both of the errors indicate the fact that the accuracy of translation is associated with the content and the design of the target databases.
while we are currently working to further improve tiqi s interpretive ability in order to improve accuracy we are also exploring more interactive solutions based on question and answering.
tiqi is expected to calibarte itself to fit the target database during the interactions with users.