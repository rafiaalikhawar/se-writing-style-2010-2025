automatic mining of constraints for monitoring systems of systems thomas krismayer cdl mevss isse johannes kepler university linz austria thomas.krismayer jku.at abstract the behavior of complex software intensive systems of systems often only fully emerges during operation when all systems interact witheachotherandwiththeirenvironment.runtimemonitoring approaches are thus used to detect deviations from the expected behavior whichiscommonlydefinedbyengineers e.g.
usingtemporallogicordomain specificlanguages.however thedeepdomain knowledge required to specify constraints is often not available during the development of systems of systems with multiple teams independentlyworking onheterogeneouscomponents.
inthispaper wethusdescribeourongoingphdresearchtoautomatically mineconstraintsforruntimemonitoringfromrecordedevents.our approach mines constraints on event occurrence timing data and combinations of these properties.
the approach further presents the mined constraints to users offering multiple ranking strategies andcanalsobeusedtosupportusersinsystemevolutionscenarios.
ccs concepts software and its engineering softwareverificationandvalidation software post development issues keywords monitoring constraint mining systems of systems acm reference format thomas krismayer.
.
automatic mining of constraints for monitoring systems of systems.
in proceedings of the 33rd acm ieee international conference on automated software engineering ase september montpellier france.
acm new york ny usa 4pages.
org .
.
introduction complexsoftware intensivesystems suchasautomationsoftware systems and cyber physical systems are often systems of systems sos comprisingheterogeneousarchitecturalelements.
thebehaviorofansosusuallyonlyfullyemergesduringoperation whentheinvolvedsystemsinteractwitheachotherandwiththe environment.
runtime monitoring is thus needed to detect permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
ase september montpellier france association for computing machinery.
acm isbn ... .
behavior e.g.
based on events produced by the monitored sos.
typical checks comprise temporal constraints for analyzing the occurrence timing and order of events and value constraints to determine the correctness of monitored data.
existing monitor ing approaches usually require manual specification of the expected behavior by engineers.
however forindustrialsos manuallywritingconstraintsiserrorprone and tedious due to the systems size complexity and heterogeneity.
further the continuous and independent evolution of systems requires to frequently define new and update existing constraints.thesechallengescanbemitigatedbyautomaticallymining constraints for runtime monitoring.
even if not all important constraintscanbeminedautomatically thefoundconstraintcandidates can offer an excellent starting point for engineers to define constraints.automaticminingisalsoagoodbasistosupportevolution as the mining process can be repeated frequently to find new or change existing constraints.
thegoalofthephdresearchdescribedinthispaperistodevelop an approach to automatically mine different types of constraint candidates from event logs i.e.
recorded streams of monitored events and event data elements.
these event logs are either producedbyamonitoringtool suchasourownreminds orcan be generated from log files and other system outputs.
the thesis will provide the following contributions i an approach to automatically mine different types of constraints from eventlogsrecordedfrommultiplesystemsinansos ii ranking andfilteringofconstraintcandidatesusingdifferentcriteriatoease their selection by users iii end user support by presenting the constraint candidates in an existing dsl and supporting their selection and editing iv support for evolution e.g.
providing informationonchangesbetweentheconstraintsfortwoversions of the software.
we use event logs from real world sos such as a plant automationsosandacyber physicalsoscontrollingdronestoevaluateourapproach.wedemonstratethatourapproachcansuccessfullymine constraintsforthesesystemsandthatasignificantnumberofthe minedconstraintsareassessedasusefulbythedevelopersofthe sos.
we further analyze the usefulness of the constraint candidate ranking and filtering and assess whether our approach scales to large real world event logs.
running example weuseadronecontrolsystem dcs controllingagroupofunmannedaerialvehicles asrunningexample.duringoperation the system has to ensure that all controlled drones adhere to previously defined requirements such as authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
ase september montpellier france thomas krismayer r1.
drones have to complete the routes they are assigned in a given amount of time.
r2.whileadroneisflyingonaroute itsaltitudehastobe within a certain range to prevent it from crashing.
r3.
when a new drone connects to the dcs it has to be on the ground waiting for commands.
whenanewdroneconnectstothesystem a handshake event is sent containing the coordinates.
after the handshake a drone sends stateevents approximatelyoncepersecond toreport its position speed attitude battery status flight mode etc.
the dcsthenallowstoassignroutestotheconnecteddrones which areprocessedoneaftertheother.duringtheseflightseachdrone sends events to the ground station reflecting the progress on theassigned route.
the startroute andendroute events represent the start and end of the execution of a route a waypoint event is sent when the drone reaches one of the defined points of the currentroute.thedronescontrolled bythedcsrepresentansos ofindependentsystemsthatcanperformdifferenttasksandhaveto follow multiple requirements e.g.
depending on the type of drone or its task.
hence defining constraints for the dcs can become very challenging.
background and related work our approach mines different types of constraints to cover typical requirements systems have to fulfill at runtime.
all constraints are defined in our existing dsl and contain one specific trigger eventtoinitializetheirevaluation.aconstraintischeckedwhenever an event of this type is encountered in the stream of events produced by the monitored system.
temporalconstraints defineasequenceofeventsthathastooccur in a given or arbitrary order and optionally within a specified amountoftime.suchconstraintstypicallydescribeaspecifictaskof the monitored system that consists of several individual steps.
the firstrequirementformulatedabovecanbeexpressedastemporal constraint if event startroute occurs event endroute occurs within5 minutes .
value constraints specify the valid content of one event data element either as one explicit value e.g.
state.armable true orwiththresholds e.g.
waypoint.location.z 5m .
the second requirement given above can be formulated as value constraint if event waypoint occursdata location z 5m and data location z 30m .
hybridconstraints combinethecapabilitiesoftemporalandvalue constraints to define further restrictions on event sequences.
they include multiple events that have to occur in a given order and or time likeinatemporalconstraint andadditionallycheckeventdata elementsofatleastoneoftheseevents likeinavalueconstraint.
using this syntax also the third requirement can be expressed as constraint if eventhandshake occurs event stateoccurs where state.data status standby within2 seconds .
research on mining such constraints exists in different communities such as specification mining process mining event based systems and complex event processing.
specificationmining canbedividedintostaticanddynamicspecification mining.
while static specification mining uses the sourcecode of a program to detect invariants dynamic specification mining uses the output of the program e.g.
log statements to derive program specifications.
one example application for static specificationminingisminingthecorrectusageofanapifromprograms using it .
dynamic specification mining can be used to extract thebehaviorofsoftwareintheformoffsms ortominevalue constraints that hold at certain points in the program .
process mining is used to automatically generate a model of an existing process e.g.
in the form of a petri net by analyzing systems e.g.
relyingon event logs.theprocessesthataremodeled are not necessarily software executions but can come from very different domains such as workflow in hospitals or banks.
alsotheevent basedsystems communityhasbeenworkingon analyzingevents eventsequencestomineinformation.forexample probabilistic models such as markov chains can predict whichevents will occur and when a sequence of events is expected to be completed .
inthefieldof complexeventprocessing differentapproacheshave beenintroducedtolearntemporalconstraintsfromeventlogs e.g.
by collecting all constraints that are fulfilled for different event sequences and extracting those that are fulfilled in all sequences .
there are only few approaches that can extract both temporal and value constraints.
for instance the approach by lo and maoz supportsextractingtemporalconstraintsintheformof scenarios as well as value constraints that are fulfilled during these scenarios.
lorenzoli et al.
present an approach to extract extended finite state machines that define temporal behavior and additionally contain value constraints for the edges.
whencomparingtheseworkswithourapproach manyofthem rely on similar techniques and ideas.
however we regard the combinationoftemporal value andhybridconstraintsandtheapplication for sos monitoring as specific to our approach.
approach our approach comprises the five steps displayed in figure creating a uniform event representation.
our approach works with different input formats of event logs produced by different systems.
in this preparatorystep it creates a uniform representa tion of events by parsing the input event logs.
this can be done automatically e.g.
by using the technique proposed in .
detecting event sequences.
we then split the parsed event log into multiple event sequences representing reoccurring patterns in thecompleteeventlog.ourgoalistodetectindividualsystemruns or repeating tasks of the system e.g.
a flight maneuver completed by an individual drone.
we identify these patterns by extracting eventpairs whereoneeventistypicallyfollowedbytheother possiblywithothereventsinbetween andcombiningsuchpairsto longer patterns.
then we extract all event sequences that fit in one of these patterns.
this step can already yield temporal constraints e.g.
if eventstartroute occurs event endroute occurs within minutes .
creating feature vectors.
for each sequence we create a feature vector which comprises all values of the event data elements contained in this sequence.
additionally we also create feature vectors for all individual events in the complete event log.
this step can mine value constraints and hybrid constraints that check authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
automatic mining of constraints for monitoring systems of systems ase september montpellier france figure constraint mining approach.
constant event data element values e.g.
if event state occurs data armable true .
analyzing feature vectors.
the resulting vectors are then further analyzed to detect constraints that hold for the event data elementvaluesofsequencesorindividualevents.constraintsfound inthisstepincludevalueconstraintsandhybridconstraintswith upper and lower bounds for event data elements e.g.
if event state occursdata speed anddata speed .
ranking and filtering constraints.
finally our approach filters andrankstheminedconstraintstoeasetheselectionofrelevant constraintsbytheuser.redundantandhighlysimilarconstraints are automatically detected and removed.
additionally the user can define selection criteria to identify and remove constraints from the list of candidates e.g.
all constraints matching a specific type.
research method and evaluation ourresearchmethodfollowsexistingguidelinesforexperiments andempiricalevaluationinsoftwareengineering .thefirst stepstowardsconstructingourconstraintminingapproachwereto manuallyanalyzeeventlogsproducedbyansosandtostudywork from related fields cf.
section .
based on this we formulated the following four research questions to guide our work rq1 howsuccessfulcanourapproachautomaticallymineuseful constraints by analyzing event logs?
to address rq we apply our approach to event logs from different systems mine constraints and then collect feedback from domain experts asking them to assesseachconstraint.weconsideraconstraintuseful ifdomainexperts think that it can be used to monitor the respective system.
thenumberofusefulconstraintscomparedtothenumberofnot useful constraints found by our approach combined with factors such as constraint criticality reported by domain experts or known usefulconstraintsthatwerenotfound givesanindicationhow successful our mining approach is.
rq2 howcanendusersbesupportedinselectingconstraints?
our constraint mining approach produces a potentially very large number of constraint candidates.
ranking and filtering i.e.
toonly present certain constraint candidates and in a particular or der can thus support the selection of useful constraints fromthese candidates by the end user.
we compare different ranking algorithms e.g.
sorting constraint candidates based on accuracy on the input trace constraint type and a combination of the former two regarding their usefulness when sorting the final list of constraintcandidates.specifically wecomparetheprecision recall andf1scoreatthefirsttenandfirsttwentyentriesoftheranked lists.
another approach we follow is to ease the selection of useful constraintsbyendusersviaatoolwearecurrentlydevelopingthat presents the mined constraints in a graphical user interface and allows theuser to change theranking and filteringstrategies and adapttheminedconstraints.wewillassesstheusefulnessofthis tool following existing guidelines .
rq3 doestheproposedapproachscaletolargeeventlogsrecorded fromreal worldsystemsofsystems?
ourconstraintminingapproach is designed for potentially very large software systems with many differentsubsystems.asaresultalsotheeventlogsofthesesoscan growtoalargesizeandstillhavetobeprocessedinareasonable amount of time.
we thus test the scalability of our approach bymeasuring the execution time for event logs of different size starting with events and increasing the size of the subset by additional events in every step up to the complete event log .
r q4 h o wu s eful is the proposed approach to support the evolution of systems of systems?
in our earlier work we developed a tool to support evolution in sos that compares and reports differences in the event streams recorded from two versions of a softwaresystem.withourconstraintminingtoolweinsteadcan compare the constraints mined for two versions of the sos which allows to present differences in a more compact form.
we planto conduct a user study where we present end users with event streamsfromtwodifferentversionsofansosandthedifferencesin the constraints mined for them and ask them about the usefulness of this information to help them in future system evolutions.
we already evaluated our approach for two real world systems whichareavailabletousaspartofongoingresearchcollaborations.
the first system is the quality control system qcs developed by primetals technologies that collects and analyses data from various processes within a steel plant.
the second system is the dcs acyber physicalsystemthatcontrols monitors andassigns routes to independent drones cf.
section .
domain experts instrumented these systems to produce event logs which we then used as input for our constraint mining approach.
for the first dataset domainexpertsrecordeda24 houreventlogfromtheqcsrunninginachinesesteelplant.theseconddatasetcontainsevents from five simulated drones testing different scenarios and flight maneuvers.
the resulting datasets are of realistic size and allow us to evaluate both the usefulness and scalability of our approach.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
ase september montpellier france thomas krismayer table list of publications.
rq content paper type status mining approach new ideas published 3refined mining approach full research under review ranking filtering experiments wrt scalability tool support for end users tooldemo planned support for evolution full research planned 4mining approach journal planned 20detailed evaluation sos evolution support full research published visualization support tooldemo published 4drone monitoring base for new dcs datasets full researchaccepted forpublication related with phd research but not a core publication for the qcs and for the dcs of the minedconstraints were regarded as useful cf.
rq1 by the domain experts.
also their qualitative feedback was very positive stating that important relations between events are detected and that the mined constraints could be used as basis to define further checks.
for the ranking cf.
rq2 our evaluation showed that using our combined ranking algorithm already provides reasonably good resultsforthefirst20entriesofthelistforboththeqcsandthe dcsdataset f 1scoresof0.529and0.
respectively .however wehopetoimprovetheseresultswithmoreadvancedtechniques such as calculating different evaluation values for the different constraint types.
the evaluation of the performance cf.
rq3 of our approach showed that the mining scales almost linearly with increasing amount of input data for both datasets.
furthermore even the longestaverageruntimeencountered i.e.
forthecompleteqcs set isonlyapproximately3.4sonasystemwithanintel coretmi76700 processor and gb ram.
status and work plan so far we have implemented the constraint mining approach describedinsection .wearecurrentlydevelopingthetooltosupport thepresentationandselectionofconstraints plannedtobecompleted this summer work on improving some parts of the overall approach such as the ranking and develop support for evolution comparingconstraintsminedfortwoversionsofsystem cf.
rq4 planned to be completed by the end of the year .
so far we conductedanevaluationoftheminingapproachusingtwodatasetsfromtwososprovidingpreliminaryresultsforrq1 rq2 andrq3.
one important part of our future work is continuing the evaluation with additional datasets.
this includes new different datasets forthetwosystemsthatwealreadyusedforourexperiments e.g.
newrecordingsusingdifferentversionsofthesoftwareorperforming different scenarios and particularly additional datasets fromcompletely different systems.
we also want to evaluate the mining tool s usefulness and the developed support for evolution.
table shows what we already published and our planned publications.
the phd thesis is planned to be submitted by the end of .