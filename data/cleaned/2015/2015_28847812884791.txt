comparing white box and black box test prioritization christopher henard university of luxembourg christopher.henard uni.lumike papadakis university of luxembourg michail.papadakis uni.lumark harman university college london mark.harman ucl.ac.uk y ue jia university college london yue.jia ucl.ac.ukyves le t raon university of luxembourg yves.letraon uni.lu abstract although white box regression test prioritization has been well studied the more recently introduced black box pri oritization approaches have neither been compared againsteach other nor against more well established white box techniques.
we present a comprehensive experimental comparison of several test prioritization techniques including well established white box strategies and more recently intro duced black box approaches.
we found that combinatorial interaction testing and diversity based techniques input model diversity and input test set diameter performbest among the black box approaches.
perhaps surprisingly we found little difference between black box and white boxperformance at most fault detection rate difference .
we also found the overlap between black and white box faults to be high the first of the prioritized test suitesalready agree on at least of the faults found.
these arepositive findings for practicing regression testers who may not have source code available thereby making white box techniques inapplicable.
we also found evidence that bothblack box and white box prioritization remain robust overmultiple system releases.
ccs concepts software and its engineering software testing and debugging keywords regression testing white box black box .
introduction prioritizing regression test suites is important to ensure that testing is effective at revealing faults early in the testing process .
many different test case prioritization techniques have been proposed in the literature yet hitherto there has been no study that compareswhite box and black box prioritization approaches.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributedfor profit or commercial advantage and that copies bear this notice and the full cita tion on the first page.
copyrights for components of this work owned by others thanacm must be honored.
abstracting with credit is permitted.
to copy otherwise or re publish to post on servers or to redistribute to lists requires prior specific permissionand or a fee.
request permissions from permissions acm.org.
icse may austin tx usa c circlecopyrt2016 acm.
isbn .
.
.
.
e do v e rt w od e c a d e so fr e s e a r c ho nr e g r e s s i o nt e s to p t i mization black box approaches have beenless well studied .
recent advances in black boxtechniques have focused on promoting diversity among the test cases with results reported for test case generation and for regression test prioritization .
however these approaches have neither been comparedagainst each other nor against more traditional white box techniquesinathoroughexperimentalstudy.
therefore itis currently unknown how the black box approaches perform compared to each other and also compared to the moretraditionally studied white box techniques.
black boxtestinghastheadvantageofnotrequiringsource code thereby obviating the need for instrumentation andsource code availability.
conversely one might hypothesizethat accessing source code information would allow white box testing to increase source code coverage and thereby to increase early fault revelation.
it has also been claimed thatwhite box techniquescan be expensive and thattheuse of coverage information from previous versions might de grade prioritization effectiveness over multiple releases .these hypotheses and claims call out for a thorough comparative experimental study over the wide range of possible test prioritization strategies both white and black box.
this paper addresses these questions with an experimental study reporting results for regression test prioritization techniques including well established white box approaches which have been thoroughly studied in the past but also black box regression techniques that have not.we include not only methods developed specifically for re gression testing but additionally we port techniques originally invented for test case generation to regression test prioritization where there is an obvious strategy to achievesuch a port.
we chose the white box approaches pri marily to provide a baseline for comparison against the relatively newer and less well studied black box techniques.
we evaluate the test effectiveness and efficiency of these 20regression test prioritization approaches on six versions offive different c programs widely used in previous work.
our study reports upon the relative efficiency and effectiveness of black box and white box techniques in terms ofexecution time and fault detection rate.
as well as efficiencyand effectiveness we investigate the similarity between thesets of faults found by the white and black box approaches.
we also report on the degree to which regression test effectiveness based on an initial prioritization degrades overmultiple releases of software systems.
ieee acm 38th ieee international conference on software engineering we believe that this is the most extensive and inclusive comparative experimental study of test case prioritization techniques yet reported in the literature.
such a study encompassing multiple black and white box approaches istimely because recent evidence has suggested thatblack box techniques may be promising yet this claim re mains under evaluated .
there is also recent evidence that current regression testing practices involve manual optimization which is slow expensive and suboptimal.
furthermore there is evidence that time available for regression testing is highly limited making it essential to optimize in order to achieve maximum fault revelation opportunities as early as possible the purpose of the test prioritization.
we found that onaverage white box techniques prioritize test suites slightlyfaster than black box techniques once the set up costs have been paid.
however the effect is relatively small and all approaches completed prioritization within a few minuteson standard equipment.
we find that so called additional approaches outperform total techniques.
this is unsurprising because it replicates and confirms previous studies .
we found that combinatorial interaction testing cit and diversity based techniques input model diversity and input test setdiameter perform best among the black box approaches.
perhaps more surprisingly we find that the difference between the best performing black and white box strategiesis relatively slight with at most difference in the rateof fault detection.
furthermore we found a high degree of overlap between the faults found by black and white box techniques after only of the test suite has been exe cuted the techniques already agree on at least of thefaults found rising to after half the test suite has beenexecuted .
these findings suggest that access to source code affords white box techniques relatively modest advantages and en couragingly suggest that prioritization can be effective evenin the absence of source code.
we also found little evidence thateitherblack orwhite boxapproachessufferfromdegradation over multiple releases at most degradation wasobserved for the three best performing black and white boxtechniques over all program versions studied.
this is afurther positive finding for practicing regression testing engineers because it suggests that an initial prioritization can remain robust over multiple releases of the system under test for both black and white box techniques .
the remainder of this paper is organized as follows.
section poses the investigated research questions rqs .section describes the methodology and the settings usedfor the experiments.
section analyzes the results of theexperiments answers rqs and discusses threats to validity.finally section examines the related work and section concludes the paper.
.
research questions arguably the most important issue for any regression test prioritization technique is the rate of fault revelation all testing is primarily concerned with the revelation of faults.therefore our first three questions concern the fault detec tion rates of the white box and black box approaches.
rq1.how well do the white box prioritization methods studied perform in terms of fault detection rate?answering rq1 will help developers know which whitebox technique is the most effective.
since this question has been addressed in several previous studies thisquestion can be thought of as a replication study establishing a baseline for comparison in the remaining questions.
of course white box test case prioritization techniques may be inapplicable for example where source code is unavailable or instrumentation is impossible so a tester may have no choice but to use black box strategies.
it is therefore useful to know how the different black box techniquesperform against each other motivating our second rq rq2.how well do the black box prioritization methods studied perform in terms of fault detection rate?
where a tester is able to choose both black box and whitebox techniques he or she will be interested to know which has the best overall performance among all approachespreviously investigated motivating our third rq rq3.how well do the black box techniques compare with the white box ones in terms of fault detection rate?
knowing the best overall approach is useful if the tester seeks to use only one technique.
however should it turn out that different approaches find different sets of faults then it may be useful to use a combination of techniques to maximize fault revelation overall.
alternatively shouldwhite and black box strategies find very similar faults then a tester can have greater confidence in using one in place of the other.
this motivates our fourth rq rq4.how different are the faults found by the white box approaches from those found by the black box techniques?
as a system undergoes change the initial test ordering might degrade each change makes the prioritized test suiteless suited to the newer system versions.
it will be use ful for the tester to know the robustness maintenance of fault revealing potential of a test suite prioritization technique over multiple releases of the system.
it is believedthat white box approaches suffer from degradation andthereisnoreasontosupposeitwillbedifferentforblack box techniques changes will tend to degrade the performance of both prioritization approaches.
however the effect size isunknown particularly in the case of black box approaches.this motivates our fifth rq rq5.how do the white box and black box approaches degrade over multiple releases of the system under test?
it has also been recently argued that regression testing scenarios exist where very little time is available for the overall regression testing process .
in such situations the time required for the prioritization process itself becomes paramount if prioritization takes too long then iteats into the time available to run the prioritized test suite.in other situations there is a great deal of time occupied by regression testing and so this is less important .
in order to investigate which techniques would be favorable insituations where limited regression test time is available westudied the execution time of each algorithm reporting theresults in a final rq rq6.how do black box and white box techniques compare in terms of the required execution time for the prioritization process?
524table the subject programs used in the experiments.
for each of them the number of tests cases the considered versions together with their size in lines of code and number of embedded faults are presented.
program test cases information v0 v1 v2 v3 v4 v5 grepversion .
.
.
.
.
.
size faults sedversion .
.
.
.
.
.
.
.
.
size faults flexversion .
.
.
.
.
.
.
.
.
.
.
.
size faults makeversion .
.
.
.
.
.
.
.
size faults version .
.
.
.
.
.
.
.
.
.
.
gzip size faults .
methodology .
subject programs we use open source programs written in c all of which are available from the gnu ftp server grep sed flex makeandgzip.
test suites for the five programs are available from the software infrastructure repository sir .
grepand sedare popular command line tools for searching and processing text matching regular expressions.flexis a lexical analysis generator while makecontrols the compile and build process and gzipis a widely used compression utility.
this set of programs has been widelyused to evaluate test techniques used by researchers in several studies .
for each one of these programs a regression test suite and different versions are used.
table presents for each version its identifier and the year that it was released the size in lines of code calculated using the cloctool and the number of faults contained in each version.
the table also records the number of test cases for each program.
.
fault seeding process the faults contained in each version of the programs see table were introduced based on mutation analysis .
although faulty versions of the programs are available from sir mutation analysis provides more reliable faults thanhand seeded ones .
indeed by analyzing the fault ma trices of sir we found that these faults are killed by of the test cases in average making them easy to detect.
besides the sir versions are too old to compile and run correctly we need to execute the test cases .
we thus tookreliable current versions .
these current versions containconfiguration scripts that make the program comply with the machine s configuration.
thus for each version v i i of each program a set of carefully selected operators was employed producing faulty programs called mutants.
we applied trivial compiler equivalence tce to eliminate equivalent and duplicated mutants.
tce has been found to remove about one third of equivalent mutants so it is simple and effective.
1we employed the mutant operators set used by andrews et al.
i.e.
relational logical arithmetic bitwise statement deletion unary insertion and constant replacement.naturally since equivalence is undecidable this technique cannot remove all equivalent mutants.
however by deploying tce to remove some equivalent and duplicate mutants we seek to reduce this threat to validity.
we also removed allthe mutants that are not killed by the regression test suite as is common practice .
although mutation faults have been shown to couple with real faults using it for studying fault revelation in acontrolled experimental environment requires precautions toremove potential sources of bias.
several mutation testers e.g.
andrews et al.
ammann et al.
and kintis et al.
claimed that when using mutants to support experimentation there is a need to filter out those mutants thatare easily distinguished from the original program.
sucheasy to kill mutants introduce noise to the mutation scoremeasurement potentially inflating the value of this metric and perhaps so in an uneven manner thereby introducing bias .
to remove this potential threat to validity we identified all the subsuming mutants which formed our fault set.
.
the prioritization approaches studied table depicts an overview of the approaches investigated.
for each technique its acronym name prioritizationobjective and relevant