diagnosing assumption problems in safety critical products mona rahimi school of computing depaul university chicago il usa m.rahimi acm.orgwandi xiong computer science iowa state university ames ia usa wdxiong iastate.edujane cleland huang computer science and eng.
university of notre dame south bend in usa janeclelandhuang nd.edurobyn lutz computer science iowa state university ames ia usa rlutz iastate.edu abstract problems with the correctness and completeness of environmental assumptions contribute to many accidents in safety critical systems.
the problem is exacerbated whenproducts are modified in new releases or in new products of a product line.
in such cases existing sets of environmental assumptions are often carried forward without sufficiently rigorous analysis.
this paper describes a new technique that exploitsthe traceability required by many certifying bodies to reasonabout the likelihood that environmental assumptions are omitted or incorrectly retained in new products.
an analysis of over examples of environmental assumptions in historical systems informs the approach.
in an evaluation on three safety relatedproduct lines the approach caught all but one of the assumptionrelated problems.
it also provided clearly defined steps formitigating the identified issues.
the contribution of the work is to arm the safety analyst with useful information for assessing the validity of environmental assumptions for a new product.
index t erms environmental assumptions safety critical systems product lines software traceability i. introduction safety critical systems pervade our society.
in order to reduce time to market and development costs families of safety critical software systems increasingly are developed as software product lines spl .
examples include the software in pacemaker devices medical infusion pumps caretaker robots brake assist systems and flight control systems.
however spls also introduce new safety related risks such as the risk that an assumption about the operational environment of one product will be inaccurate for the operational environment of a subsequent product.
a new feature a new user or a new adjacent system in a subsequent product may result in the need for new or modified environmental assumptions for safe operations.
we define an environmental assumption to be a statement about the software system s operational context that is accepted as true by the developers .
this definition is consistent with common usage on projects and with dictionary definitions however environmentalassumptions are also often referred to as contextual assumptions in both literature and practice.
finding inaccurate or missing environmental assumptions that may have safety critical impact for a new product is currently very difficult.
this difficulty obstructs the reuse of safety case elements across the products in a product line.teams building safety critical software products must typically perform a rigorous hazard analysis to identify risks and a set of mitigating safety related requirements.
often these requirements are associated with environmental assumptions that must hold in the planned operational context.
although it only makes sense to talk about the safety of an individual product not of an entire product line prior work has shown that certain safety analyses including preliminary hazard analysis and software failure modes effects and criticality analysis fmeca can be performed during the domain engineering of a product line and efficiently pruned and or extended during the application engineering of each product .
safety analysts often construct a formal or informal safety case providing claims arguments and evidence to demonstrate the safety of the product typically to a government certification body.
in practice safety cases are produced from scratch for each product with only the assistance of checklists .
in this paper we focus on one aspect of reuse pertaining to the role of assumptions.
undetected changes in the validity of environmental assumptions cause many failures of safety critical systems .
detecting and avoiding the risks associated with changes to environmental assumptions poses a special problem in safetycritical product lines.
new products often have new operational environments but the documented environmental assumptions used in previous products may be inappropriately reused rather than updated in the new product.
perhaps the best known example is the ariane accident in which an assumption made about the maximum horizontal velocity of the previous product ariane did not hold for the subsequent ariane .
as a result an overflow error occurred and both the primary and backup guidance systems failed .
the u.s. national research council report on software for dependable systems highlighted the danger of inaccurate domain assumptions.
it cited as an example the airbus case in which the invalid assumption lack of compression always accompanies being airborne was a contributing cause to an accident.
the report further stated that construction of a dependability case might have revealed that this assumption was invalid noting that the dependability case will involve reasoning about both the code and the environmental assumptions.
dealing with the correctness and completeness .
c circlecopyrt2017 ieeease urbana champaign il usa t echnical research473 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
of assumptions in any system particularly an evolving or product line one is extremely challenging.
we therefore set a realistic research goal of flagging potential problems in a set of environmental assumptions associated with a new or modified product in a product line and of proposing practical mitigations.
our approach which we refer to as the assumption diagnostics and rationale process adrp leverages the trace links required by many certifying bodies for safety critical systems augmented by information retrieval techniques to search for additional undocumentedlinks .
we exploit these links to reason about the likelihood that assumptions are missing or incorrectly retained in the current product under release.
adrp was developed through evaluating documented assumptions from industrial systems including cases which contributed to system failure.
examples are shown in table i. we describe and evaluate adrp using three safety related product lines for drone deliveries search and rescue missions and environmental monitoring.each system was developed over a six month period by ateam of graduate level software engineering students.
we address two primary research questions rq1 to what extent can adrp detect potential risks to the validity of environmental assumptions in a new product?
rq2 to what extent can adrp help a human analyst assess assumption related risks and reason about mitigations?
the paper is structured as follows.
section ii provides additional background about safety critical product lines environmental assumptions and safety cases.
section iii describes the adrp diagnostic model and the approach taken to design it.
section iv describes the experiments and analysis performed to evaluate adrp .
finally sections v through vii describe threats to validity related work and conclusions.
ii.
background many system failures arise from interactions between software and aspects of the environment in which it operates.
in safety critical systems these failures can contribute to accidents.
an accident is an unplanned event that results in death injury illness loss of property or damage to surroundings or habitat .
the environment is the broader context of the software to be developed that is the problem world such as the hardware on which it runs concurrently executing software components physical devices and surroundings regulatory dependencies and user interactions .
the problem of flawed environmental assumptions is well documented.
v an lamsweerde describes its scope as many reported problems originate in missing inadequate inaccurate or changing assumptions about the environment in which the software operates .
inadequately handled changes in environmental assumptions cause many failures and insafety critical systems have caused or contributed to many accidents.
a software product line spl is a set of software intensive systems that share a common set of features and are developedfrom a set of core assets in a prescribed way .
a product is typically generated by selecting a set of alternativet able i environmental assumption types with examples from historical sources.a complete list of the historical assumptions we identified from the literature is available online at ase2017assumptionsamples.
physical environment expected to hold invariantly regardless of the system e.g.
a train is moving iff its physical speed is non null .
operational environment describes the operational environment surrounding the system e.g.
there is no interference from other wireless devices in the vicinity .
adjacent system describes the behavior of adjacent systemsthat interact with the system being developed e.g.
the sensor will provide the current temperature to the thermostat with an accuracy of .
f .
user interface describes users and their behavior e.g.
theoperator will not enter data faster than x words per minute .
regulatory describes how regulations affect the system or related components e.g.
the device meets industrial standards for electrical safety .
development process describes policies or procedures impacting the development process and or operation of the system e.g.
the developer knows that transient signals should be ignored when the spacecraft lander s legs unfold .
and optional features variabilities and composing them with a set of common base features commonalities .
change in a product line occurs when new features are introduced for new products and also when individual products evolve across releases .
for product lines where the operational environment and intended usage scenarios typically vary among products changes to environmental assumptions pose an especially frequent problem .
in safety critical product lines the problem of flawed environmental assumptions is complicated by the desire of developers to reuse environmental assumptions across products.
distinguishing when this reuse of assumptions is appropriate is essential to avoid hazards but is currently an open problem.
our work reported here aimsto provide the safety analyst with an efficient way to check the reuse of safety related environmental assumptions in a new product of a product line.
iii.
diagnostic model the aim of the adrp diagnostic model is to identify potential problems with assumptions that are associated with new or modified products of a product line.
for example consider the assumptions requirements and classes depicted in table ii.a which show that assumption a is associated with two requirements r1 and r2 and indirectly with classes c1 c2 and c3 in product p1.
table ii.b shows the case in which assumption ais not present in product p2 even though all the originally associated requirements and classes from p1 remain.
the assumption could have been correctly removed because it is no longer needed or incorrectly removed even though it is still relevant.
it also could be the case that the assumption was replaced by another possibly similar assumption.
of these three scenarios the second is clearly problematic as the assumption is still needed while the third is also problematic because even though a replacement assumption is provided its trace links to the impacted requirements are missing.
in an authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
t able ii changes in trace dependencies across the baseline p1 and a new modified product p2 .
sample trace slice description a p1 trace slice showing dependencies of requirements r1 and r2 on assumption a and indirect dependencies of classes c1 c3.
b p2 vs. p1 assumption ahas been removed in p2 but all other artifacts dependent upon ain p1 have been retained.
this may indicate thatassumption ahas been incorrectly removed.
adrp uses textual similarity analysis and structural analysis to search for an existing replacement assumption.
c p3 vs. p1 assumption a requirements r1 and r2 and class c2 are missing from p2.
classes c1 and c3 are retained.
adrp checks whether c1 and c3 are service classes and or implement other retained requirements.
depending upon this analysis adrp flags aas a potentially missing assumption with a medium or high risk.
artifacts and links square p1 only square both p1 and p2 additional example shown in table ii.c assumption a and much of its original downstream trace slice has been removed from product p3.
only two classes c1 and c3 remain.
it is most probable that assumption ais no longer relevant however further inspection is needed to validate this.
the goal of adrp is two fold first to flag errors of inclusion and exclusion without raising false alarms and secondly to provide the analyst with the information they need in orderto determine whether an assumption related error exists ornot.
two specific types of assumption related error that are of interest are incorrectly included and incorrectly excluded assumptions.
adrp leverages knowledge of assumption use in previous product s as well as in the current product to identify possible problems.
however two specific sub cases are outside the scope of adrp s current capabilities.
first adrp is not capable of differentiating between correct and incorrect facts.
for example given a claim by a train manufacturer that its model x passenger train traveling at miles per hour can stop in feet under perfect conditions we assume it to be true however we question the relevancy of the assumption if and when the usage context or the specific train modelchanges.
second some missing assumptions may represent unknown or even unknowable unknowns .
these are the set of assumptions that neither appeared in a previous product norin the domain assets of a product line and are therefore entirely outside adrp s knowledge base.
while adrp does not fully address these problems it does draw attention to scenarios in which they may occur by identifying assumptions for inspectionwhich have not been included in a previously certified product.
adrp also draws attention to new features and to new combinations of features introduced into a new product with the specific aim of encouraging a systematic analysis thatcould identify and document relevant new assumptions for these features.
a. adrp design methodology we adapted wieringa s design science approach t o design adrp .
the process included information gathering and analysis design initial validation and refinement user evaluation and feedback based refinement.
during the information gathering and analysis phase we reviewed literature related to the use of assumptions in safetycritical systems e.g.
and case studies containing assumptions and lifecycle artifacts such as requirements models and safety cases.
this allowed us to reason about the impact of assumptions across the software development lifecycle.
we found evidence that different types of assumptions impacted multiple artifacts including source code and requirements.
during the design phase we leveraged our observations to design adrp .
first we identified properties of a software product that served as indicators of assumption related problems and then defined metrics that enabled propertiesto be measured.
we also identified evidence and counter arguments which might be used to support or refute the diagnosis of assumption related problems.
section iii describes these metrics evidence and counter arguments.
in the initial validation and refinement phase we tested adrp s logic using examples from the literature see table i in order to improve adrp s design.
the design validation and refinement steps were repeated several times until we were satisfied that adrp was able to identify the majority of targeted assumption errors.
in the fourth phase of external user evaluation we conducted a more formal study with external developers as reported in section iv.
we will execute the final step of feedback based refinement in our ongoing work.
b. product artifacts certification guidelines for safety critical systems prescribe traceability across a broad suite of artifact types providing coverage for planning analyzing designing implementing verifying validating and assuring the quality of a system.
for example the do 178c guidelines adopted by the us federal aviation authority specify thattrace links must be created between specific artifact pairs including software requirements design and source code .
requirements traceability is defined as the ability to describe and follow the life of a requirement in both a forwards andbackwards direction through periods of ongoing refinement and iteration .
safety critical projects include diverse artifacts and associated trace links however adrp utilizes a common subset of artifacts referenced across certification guidelines and described in literature discussing the role of assumptions in safety critical systems.
these artifacts depicted in figure include product line specifications safety assets core implementation artifacts and documentation.
all artifacts used in this study are available at http tinyurl.com adrp data.
assumptions for a product are often documented in the product s requirements specification document consistent authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
commonalities variabilities parameterssource codeactors user interfacesproduct linefmeca individual product configurations external regulationsoperational training manualsassumptions requirementsadjacent systems from architectural documents fig.
.
software and safety artifacts used by adrp are often prescribed by certifying bodies and common across product line definitions.
arcs represent traceability paths.
with the recommended requirements engineering practice in iso iec ieee or the older ieee std .
requirements describe the functionality and expected behaviour of the system while source files represent the implementation.
a trace slice originates with a single artifact and shows all of its downstream dependencies.
adrp focuses on trace slices that originate with assumptions and include dependent requirements and source files.product lines define commonalities variabilities dependencies and constraints.
for our study we adopted the commonality and v ariability analysis cv a model which documents commonalities variabilities parameters of variation and a decision model to configure the individual products.
safety assets include a failure mode effects and criticality analysis fmeca generated for the entire product line and pruned extended for each new product and a safety case for each new product requiring it.
safety related assumptions are linked to faults in the fmeca while assumption related problems are mapped onto safety cases for analysis purposes.
supplemental documentation includes use case specifications architectural documents listing adjacent systems external regulations and procedural documents defining training and operational processes.
c. artifact properties and metrics adrp checks for properties in the artifacts of p1 and p2 in order to assess dependencies of artifacts upon assumption ain each product.
it also identifies the delta between the two products with respect to assumption a. the properties and their associated instruments of measurement are used in adrp s diagnostic algorithm and summarized in table iii.
presence of assumptions different classes of assumption problems are possible when assumptions appear in specific combinations of p1 and p2 products.
for example an assumption that is present in p1 but not present in p2 could represent an incorrectly excluded assumption from p2 but not an incorrectly included one.
similar logic can be applied to an assumption that is present in p2.
adrp therefore defines attributes inp and inp to represent whether assumption ais present in p1 and in p2 respectively.
we provide a concrete example for each of the four generic assumption diagnostics ad targeted by adrp .
these examples come from our catalog of assumptions that were assembled from historical failures and the literature.ad1 incorrectly removed assumption operational experience with unmanned aerial v ehicles has shown that developers need to assume that the ua v s camera lens cap will at times be accidentally left on during flight.
therefore the assumption must be retained across all products and software must accommodate the error for example by detecting it and switching to a backup camera .
ad2 assumption missing for new feature in the isolette a hospital incubator for infants the software was developedunder the assumption that all temperatures will be entered and displayed in degrees fahrenheit.
.
however if a new version supports celsius then the original assumption becomes invalidated and should be replaced by a new one .
ad3 assumption is incorrectly retained.
there was an operational environment assumption that was originally correctregarding the stopping distance of new y ork subway trains which was incorrectly retained when heavier trains with longer stopping distances were introduced.
the false assumption contributed to several accidents .
this type of assumption was also the cause of the ariane rocket failure .
ad4 incorrect new assumption.
developers of the therac radiation therapy machine introduced a new assumption that the independent protective circuits and mechanical interlocks used in the previous therac system were no longer needed asthe software s monitoring and control of the hardware wassufficient.
this adjacent system assumption was false and resulted in several fatal accidents .
assumption properties adrp measures two properties directly from the assumption.
first as our interest is in safety critical assumptions we define the boolean attribute sc safety critical to indicate whether an assumption has a trace linkto a failure mode in its fmeca or not.
only assumptionslinked to the fmeca are considered safety related.
second each attribute is assigned a type.
as previously shown in table i there are six commonly recognized types of assumptions.
adrp performs custom analysis for assumptions related to adjacent system assumptions user interface assumptions regulatory assumptions and development process assumptions.
for example if an assumption ais related to an adjacent external system in p1 but that adjacent system is not used in p2 then it is unsurprising if assumption ais not included in p2.
similar arguments can be made for actors and user interfaces applicable regulations and training and procedural policies.
therefore adrp is concerned with assumptiont ype.
trace slice metrics as previously depicted in table ii the downstream artifacts which depend on an assumption can be modeled as a trace slice.
in our current version of adrp we define a boolean metric rem i.e.
remnant which is set to true if even one element of the original trace slice from p1 is retained in the new product.
this overly stringent metric is used to flag potential problems while additional information about the number and properties of remaining artifacts is used to populate the diagnostic report with information that enables the analyst to refute or confirm the diagnoses.
artifact similarity adrp needs to compute the similarity between assumptions requirements and other artifacts for authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
t able iii properties used by the assumption diagnostic and rationale process adrp metric description sc assumption aor any of its directly linked requirements are traced to a high criticality fault in the fmeca inp1 assumption aexists in product p1 a p1 inp2 an assumption with identical id and identical text to assumption ainp1 exists in product p2 t1 a is associated with an adjacent system t2 a is associated with a user interface t3 a is associated with an external regulatory code t4 a is associated with a development or training process m1 adjacent system associated with assumption ais retained as is or modified m2 all features linked to actor ac are retained.
m3 all features linked to regulation rare retained rem at least one requirement or source file from the artifacts linked to ainp1 has been retained in p2 t able iv properties for diagnosing assumption problems.
ad1 incorrectly removed assumption inpi inp2 ... adj t1 sc m1 rem ui t2 sc m2 rem reg t3 sc m3 rem dev t4 sc other t1 t2 t3 t4 sc rem ad2 missing assumption for new feature inpi inp2 ... all warning issued to analyst when new features are introduced.
ad3 incorrectly retained assumption inpi inp2 adj t1 sc m1 rem ui t2 sc m2 rem reg t3 sc m3 rem dev t4 sc other t1 t2 t3 t4 sc rem ad4 incorrectly added assumption inpi inp2 adj t1 sc m1 ui t2 sc m2 reg t3 sc m3 dev t4 sc other t1 t2 t3 t4 sc example to check whether a new assumption in p2 is textually similar to one that existed in p1 and therefore could potentiallybe serving as its substitute.
such information later will be used in the generated reports.
we utilize the vector space model vsm to compute the similarity between two artifacts such as a pair of assumptions or an assumption and a requirement.
vsm is chosen because it computes quickly and has been shown to perform consistently to handle both large and small datasets and to treat each artifact as an unstructured bag of words.
this makes it appropriate for use across various artifact types.
the vsm algorithm is described in introductory information retrieval text books and has been broadly used for trace retrieval purposes .source code analysis adrp performs static analysis to identify low level service classes.
for source code writtenin java c etc.
we use standard metric analysis tools e.g.
jha wk to compute afferent coupling metrics fan in of the class.
service classes are not considered as the remaining artifacts in rem metric.
d. the diagnostic algorithm the properties used to diagnose each of the assumption errors are shown in table iv.
the table was built systematically as part of the research design process.
we include subcases to differentiate between assumptions associated with adjacent systems user interfaces regulatory codes development processes as well as assumptions that do not fit any of these categories i.e.
other .
each row specifies the properties that must be true in order for that specific diagnosis to be made.
for example the properties shown in the top content row of the table specify that if an assumption is associated with an adjacent system t1 is safety critical sc was included in p1 but not p2 and either the adjacent system referenced by ain p1 is still present in p2 or remnants of the a s previous trace slice still exist in p2 then we diagnose assumption ato be incorrectly excluded from p2.
similar logic is applied for each diagnosis.
the entire process for detecting these properties given two different versions or products is fully automated.
e. implementation the assumption of the adrp diagnostic algorithm is that the set of artifacts shown in figure and a set of validated trace links exist for both products p1 and p2.
trace links include links between assumptions and requirements requirements and code and requirements and faults.
for experimental purposes we extracted all artifacts from their project environments i.e.
requirements and assumptions from jira code from github and faults from excel and stored them as csv formatted text files which are readable by our adrp tool.
adrp then imported and parsed all artifacts for products p1 and p2 checked them for properties defined in table iii and then automatically generated a list of assumption diagnoses including a listing of specific artifacts that led to the underlying properties being detected.
the entire process was automated except for the finalstep of constructing the assumption reports e.g.
figure .
we created these manually based upon the listing of assumption violations and their causes produced by adrp .
we plan to automate this final step in the future.
f .
rationales and mitigating steps once potential assumption related problems are detected adrp produces a report designed to aid the safety analyst in determining whether an assumption related problem actually exists.
making this determination is a non trivial task which requires human analysis of the assumptions and all of their dependent artifacts i.e.
requirements design and code in the original product p1 and the subsequent one p2 .
a report is produced for all diagnosed assumption problems.
these reports are currently created manually by using the values of metrics adrp generates.
such reports are inherently complex authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
diagnosis missing assumption a1 iris 3dr drones are able to carry a payload weighing up to grams information a1 is safety related and categorized as an adjacent system assumption .
a1 is associated with adjacent system 3dr iris 3dr iris is present in p1 but not present in p2.
a1 is linked to fm e3 in fmeca in p1 which states that fm e3 payload exceeds manufacturer s limits.
evidence that including a1 in p2 is correct assumption a1 is missing from product p2 it was associated with adjacent system 3dr iris in product p1 all classes associated with a1 in p1 are still present in p2 evidence that including a1 in p2 is problematic the following p2 assumption associated with hexacopter is very similar to a1 a hexacopter is able to carry a payload weighing up to grams .
this suggests that assumption a1 has been replaced.
all requirements linked to a1 in p1 have been removed.
the adjacent system 3dr iris associated with a1 is not pre sent in p2.
all source code files linked to a1 in p1 are now linked indire ctly to a30.
possible remediations after reading the counter argume nt if you think a1 should be i ncluded in p2 then consider adding assumption a1 to product p2.
if you do add a1 consider recon structing the following trace l inks from a1 to requirements smf .
from a1 to fault fm e3 in the fmeca overview of change scenario p1 only p2 only both p1 and p2 !
medium risk adjacent system referenced by a1 is not present in p2 fig.
.
diagnosis rationale report generated for a low risk missing assumption.
note additional data not shown here.
as analysts must inspect diverse information sources in order to decide whether a problem diagnosis indicates a real assumption problem .
as depicted in figure the report currently includes four main sections a diagnostic summary evidence explaining the problem diagnosis a counter argument providing evidence that the observations are not indicative of a problem and finally suggested remediations that could be taken to remedy the problem if the analyst concurs with the diagnosis.
the report is generated using predefined templates which prescribe text tobe output when diagnostic and supporting properties are foundto be true.
sample reports are at diagnostic summary the diagnostic summary is presented in a header section.
it uses the properties defined in tableiv to describe the diagnosis as illustrated in figure .
inthis example adrp diagnoses a missing assumption and provides additional contextual information for example that the assumption is safety related and associated with the 3dr iris adjacent system.
evidence the evidence sections of the report convey information associated with all detected properties.
in our example adrp reports that all classes associated with a1have been retained in p2 even though a1 is missing.
this type of evidence supports the missing assumption diagnosis.similarly adrp reports that it has found a new assumption that is textually similar to a1.
the new assumption a statesthat hexacopter is able to carry a payload weighing up to grams.
this provides possible evidence that assumption a1 was correctly removed and has been replaced.
the templates for generating each argument were produced as a result of our research design process.
warning level finally each problem diagnosis is labeled as medium orhigh risk.
medium risk diagnoses are made when assumptions