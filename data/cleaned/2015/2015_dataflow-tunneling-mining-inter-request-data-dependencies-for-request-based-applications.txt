dataflow tunneling mining inter request data dependencies for request based applications xiao yu department of computer science north carolina state university xyu10 ncsu.eduguoliang jin department of computer science north carolina state university guoliang jin ncsu.edu abstract request based applications e.g.
most server side applications expose services to users in a request based paradigm in which requestsare servedbyrequest handlermethods.
animportanttask for request based applications is inter request analysis which analyzesrequest handlermethodsthatarerelatedby inter requestdata dependencies together.
however in the request based paradigm data dependencies between related request handler methods are implicitlyestablishedbytheunderlyingframeworksthatexecute thesemethods.asaresult existinganalysistoolsareusuallylimitedtothescopeofeachsinglemethodwithouttheknowledgeof dependencies between different methods.
inthispaper wedesignanapproachcalled dataflowtunneling to capture inter request data dependencies from concrete application executions and produce data dependency specifications.
our approach answers two key questions what request handler methods have data dependencies and what these data dependencies are.
our evaluation using applications developed with two representativeandpopularframeworksshowsthatourapproach is general and accurate.
we also present a characteristic study and ausecaseofcachetuningbasedontheminedspecifications.we envision thatour approach canprovide keyinformation to enable future inter request analysis techniques.
keywords web applications request based applications web frameworks inter request analysis tracing introduction server side applications commonly expose services to users ina request based paradigm in which user requests are served by application defined request handler methods.
we refer to such applicationsasrequest basedapplications.request basedapplications are playing an increasingly important role in the current software ecosystem providing classic web pages and emerging cloud based permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
services.
the increasing prevalence of these applications brings new demands and challenges regarding software quality therebycallingforadvancedtechniquestoensureapplication correctness performance and security.
modern request based applications are usually built on top of somesupportingframeworks e.g.
spring andstruts forweb applications.
in the request based execution model upon receiving a request the framework invokes one or more request handler methods andtheinvokedmethod s returndataobjectscontaining the necessary information to serve the request.
these data objects are further processed by the framework to generate a concrete response to be sent to the user side e.g.
in the form of html .
while each request is served modularly users can issue a series of relatedrequests whichmaybebasedonthereceivedresponses e.g.
throughahyperlinkgenerateddynamicallyfromsomedataobjects .
therefore theoutputofoneservingrequest handlermethodcould becometheinputofanothermethod creatingdatadependencies betweenthesemethods.wesaytworequest handlermethodsare relatedif there are data dependencies between them.
with theexecution model it is importantfor programanalysis techniquestargetingrequest basedapplicationstotrackdatadependenciesacrossrelatedmethodsandperform inter requestanalysis.
while there is a natural analogy between inter request analysis and interprocedural analysis one cannot directly apply techniquesdevelopedforinterproceduralanalysisforinter request analysis.
the challenges are mainly rooted in the way how data dependenciesbetweenrequest handlermethodsareestablished because of the separation of server and user sides data dependencies are not directly established by propagating data objects across methodsthroughreturnvaluesorparameters and becauseofthe framework thereisnoexplicitcaller calleerelationshipbetween methodsservingdifferentrequests.thesecomplicationsmakeinterrequestdatadependenciesnotperceivablebyconventionalinterprocedural or summary based analysis techniques .
existing techniques in different fields are affected by the limited capability of conducting inter request analysis.
in the performance field a previous study shows that many performance bugs arecausedbyskippablefunctioncallsorinefficientfunction call combinations.
request based applications are more prone to such inefficiencies as the request abstraction is highly modular and developerscaneasilywriteinefficientcodespreadacrossindividual request handler methods.
although various techniques havebeenproposedtoalleviatesuchinefficiencies theymay notreachtheirfullpotentialwithoutinter requestcapability.inthe securityfield investigatingmalicious datapropagationiscrucial.
request to response propagation within each request is a common targetforexistingwork butpropagationthatspansmultiple acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden xiao yu and guoliang jin requests can also create vulnerabilities.
some work has discussed and tried identifying such vulnerabilities by exploring navigation sequences of web pages.
toovercomechallengesandbuildasolidfoundationforinterrequestanalysisonmodernrequest basedapplications wepropose anapproachcalled dataflowtunneling.ourapproachisbasedon the key observation that framework and user behaviors are of less interest in application code analysis.
for example knowinghow a framework accesses some data objects is less importantthan knowing what data these objects carry.
therefore our approacheffectivelyabstractsawaytheinvolvementofframeworks and users in propagating data across requests and directly exposesdatadependenciesacrossrequest handlermethods.wedefinesuch dependencies in the form of data dependency specifications which describe how the output of a method tunnels i.e.
being propagated and transformed through frameworks and users to become theinputofanothermethod.theresultingspecificationsprovide necessaryinformationtoallowconventionalanalysistechniques to go across the boundaries of request handler methods without analyzing supporting frameworks or user behaviors.
ourapproachanalyzesconcreteapplicationexecutionstocapture data dependencies.
we design our approach with three keytechniques a static analysis on request handler methods to identify input and output sites where these methods and their supporting framework pass data objects to each other on data objectspassingthroughtheidentifiedsites anobject centrictracingtechnique tocaptureobject accessesandtheir accessedvalues throughout the whole processing of every single request and a mining technique to identify potential data dependencies between request handler methods in traces from different requests.
withthis design our approach adheres to the general request basedexecution model instead of specific framework implementations thereby avoiding ad hoc analyses on framework code.
wehaveimplementedaprototypeforjava basedwebapplications andevaluatedthespecificationaccuracyandtracingoverhead on two real world open source applications developed with differentsupportingframeworks.wehavealsomanuallyinspectedthe generated specifications to investigate how useful they are for program understanding andfuture inter request analysis techniques.
the results show good accuracies above in typical configurations and suitable overheads for an in house testing environment.
our manual inspection helps us gain a better understanding of the two applications.
based on the understanding we present a usecase of the specifications in tuning object caching which shows promising results in database query reduction and execution time reduction.webelievethesespecificationscanhelpenablefuture sophisticated inter request analysis.
overall wemakefourmaincontributions.first weelaboratethe importance and challenges of inter request analysis especially on challengesposedbymodernframeworks.second weproposeanap proachtoinferinter requestdatadependencies.onenoveltyofour approach is to abstract away the involvement of frameworks withouthuman assistedmodeling.third weprototypeandevaluateour approach on two open source applications regarding accuracy and overhead.fourth westudythedata dependencyspecificationsgenerated by our prototype and present a usage scenario on how they can help program understanding and future analysis techniques.
client parsed inputrequest response view templatesview output create concretizerequesthandler methods data objects request based application framework figure the abstract request based execution model background and motivation we presentanextendeddiscussiononthe backgroundofrequestbasedapplicationsandthechallengesofinter requestdata dependency analysis.thediscussionisbasedonareal worldexample which involves a popular java request based framework.
.
background figure illustrates the general request based application executionmodel whichcapturesthecommonalitiesamongapplicationsdevel opedwithdifferentframeworks.thisabstractmodelshowsasingle request to response flow.
along the flow three major components of a request based application are involved request handler methods data objects and view templates.
request handler methods are the entry points of a request based application to process incoming requests.
for each request the frameworkdeterminesandinvokestheappropriatehandlermethod s throughapredefined request handlermapping.therequest handler mapping defines requests that each handler method can process.it is specified by developers in different forms depending on the underlyingframeworks e.g.
spring usesjavaannotationsand struts usesconfigurationfiles.dependingonspecificframework implementations oneormorerequest handlermethodsmayget invoked to process one request.
during the execution of a request handler method it creates data objects and passes them to the framework.
these data objects encapsulatedatathatareusuallyretrievedfromabackenddatabase.
the framework then