feature interaction a ware configuration prioritization for configurable code son nguyen hoan nguyen ngoc tran hieu tran and tien n. nguyen computer science department the university of texas at dallas usa email sonnguyen nmt140230 trunghieu.tran tien.n.nguyen utdallas.edu amazon corporation usa email nguyenanhhoan gmail.com abstract unexpected interactions among features induce most bugs in a configurable software system.
exhaustively analyzing all the exponential number of possible configurations is prohibitively costly.
thus various sampling techniques have been proposed to systematically narrow down the exponential number of legal configurations to be analyzed.
since analyzing all selected configurations can require a huge amount of effort fault based configuration prioritization that helps detect faults earlier can yield practical benefits in quality assurance.
in this paper we propose c opro a novel formulation of feature interaction bugs via common program entities enabled disabled by the features.
leveraging from that we develop an efficient feature interactionaware configuration prioritization technique for a configurable system by ranking the configurations according to their total number of potential bugs.
we conducted several experiments to evaluate c oproon the ability to detect configuration related bugs in a public benchmark.
we found that c oprooutperforms the state of the art configuration prioritization techniques when we add them on advanced sampling algorithms.
in of the cases c opro ranks the buggy configurations at the top positions in the resulting list.
interestingly c opro is able to detect not yet discovered feature interaction bugs.
keywords configurable code feature interaction configuration prioritization software product lines i. i ntroduction several software systems enable developers to configure to different environments and requirements.
in practice a highly configurable system can tailor its functional and nonfunctional properties to the needs and requirements of users.
it does so via a very large number of configuration options that are used to control different features .
for example linux kernel supports more than compiletime configuration options that can be configured to generate specific kernel variants for billions of scenarios.
in a configurable system features can interact with one another in a non trivial manner.
as a consequence such interaction could inadvertently modify or influence the functionality of one another .
unexpected interactions might induce bugs.
in fact most configuration related bugs are caused by interactions among features .
unfortunately traditional methods cannot be directly applied to work on configurable code since they focus on detecting bugs in a particular variant.
furthermore exhaustively analyzing the systems is infeasible due to the exponential number of all possible configurations.
in practice configuration testing is oftenperformed in a manual and ad hoc manner by unsystematically selecting common variants for analysis .
to systematically perform quality assurance qa for a highly configurable system figure researchers have proposed several techniques to narrow the configuration space byeliminating invalid configurations that violate the feature model of the system which defines the feasible configurations via the constraints among the features .
however the number of configurations that need to be tested is still exponential.
to address this explosion problem researchers introduce various configuration selection strategies.
the popular strategies include the sampling algorithms which achieve feature interaction coverage such as combinatorial interaction testing oneenabled one disabled most enabled disabled statement coverage to reduce the number of configurations to be analyzed.
still those algorithms assume the chances of detecting interaction bugs are the same for all those combinations .
thus interaction faults might be discovered only after the last variants in such samples is tested.
thus after configuration selection the selected set of configurations need to be prioritized for qa activities .
note that configuration prioritization is different from test case prioritization because after configuration prioritization any qa activities can be applied on the ranked list of prioritized configurations including test generation and testing static bug detection or manual code review figure .
to motivate configuration prioritization let us take an example of linux kernel.
in linux the number of different configuration options is over leading to 212k different configurations.
after applying all the constraints on various combinations of options the number of valid configurations for qa is an exponential number.
for configuration selection by using six wise sampling algorithm the number is still extremely large up to 500k configurations .
hence without configuration prioritization many bugs that are dependent on configurations might still be hidden due to this large configuration space especially when the resources for qa e.g.
time and developers efforts are limited.
in practice developers even do not perform qa activities on a particular configuration until it was reported to have defects by the users.
in this case users have already suffered the consequences of those defects.
due to the large number of configurations after selection for qa even compile time 34th ieee acm international conference on automated software engineering ase .
ieee authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
figure .
the qa process of configurable system errors and flaws cannot be quickly detected by a compiler or a bug detection in the appropriate configuration.
indeed in the v ariability bugs database vbdb a public database of real world configuration related bugs reported for the linux kernel there are out of bugs and flaws that are compiletime declaration errors type errors and cases of dead code .
despite the importance of configuration prioritization the state of the art methods for such prioritization are still limited in detecting feature interaction bugs.
the similarity based prioritization method sp is based on the idea that dissimilar test sets are likely to detect more defects than similar ones .
in sp the configuration with the maximum number of features is selected to be the first one under test.
the next configuration under test is the configuration with the lowest feature similarity compared to the previously chosen one.
despite its success there are two key problems with sp .
first sp aims to cover as many features different from the previous ones.
the different features to be considered next might not be the ones that potentially causes violations.
sp does not examine the interaction between features which is the key aspect causing interaction bugs in a variant.
second insp the quality of the resulted prioritization order strongly depends on the selection of the first configuration.
in this paper we propose c opro a novel configuration prioritization approach for configurable systems by analyzing their code to detect feature interaction bugs.
our key idea in copro is as follows.
in a configurable system features are implemented as blocks of code which are expressed via the program instructions operations e.g.
declarations