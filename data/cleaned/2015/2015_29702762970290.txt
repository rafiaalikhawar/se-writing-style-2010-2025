similartech automatically recommend analogical libraries across different programming languages chunyang chen chen0966 e.ntu.edu.sgzhenchang xing zcxing ntu.edu.sg school of computer science and engineering nanyang technological university singapore abstract third party libraries are an integral part of many software projects.
it often happens that developers need to nd analogical libraries that can provide comparable features to the libraries they are already familiar with.
existing methods to nd analogical libraries are limited by the communitycurated list of libraries blogs or q a posts which often contain overwhelming or out of date information.
this paper presents our tool similartech appspot.com similartech that makes it possible to automatically recommend analogical libraries by incorporating tag embeddings and domain speci c relational and categorical knowledge mined from stack over ow.
similartech currently supports recommendation of libraries across di erent programming languages.
we release our similartech website for public use.
the similartech website attracts more than users in the past months.
we observe two typical usage patterns of our website in the website visit logs which can satisfy di erent information needs of developers.
the demo video can be seen at .
introduction third party libraries are an integral part of many software systems.
they allows developers to focus on the key business logic of their applications and thus usually help developers work more e ciently.
it often happens that a developer needs some analogical libraries that can provide features comparable to the libraries he is already familiar with.
the reasons for such needs include that for example the current library lacks certain desired features or developers want to migrate to other languages because of the task requirements1.
figure presents an example of such information need on stack over ow.
in addition to post such questions on q a websites developers can search the internet for information about analogical libraries by queries like nltk similar libraries nltk ow.com questions permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
c acm.
isbn .
.
tags language os concept library figure an exmaple of analogical library question on stack over ow.
java .
the search results often include some communitycurated list of libraries many online articles or q a discussions on q a site e.g.
figure .
however many recommendations in the online documents may be out of date or based on personal opinions and thus may be biased.
furthermore developers often have to read many online documents compare their information and aggregate the answers to their analogical library queries.
to overcome such shortcomings we develop a tool similartech that allows users to nd analogical libraries across di erent languages easily and directly.
our similartech tool extracts software libraries from stack over ow tags.
similartech determines semantic similarity of libraries based on the tag embeddings learned from tags of tens of millions of stack over ow questions.
similartech uses association rule mining and natural language processing nlp methods to mine the relational and categorical information about tags.
finally it reasons about analogical relationships between libraries based on the semantic similarity of libraries and the relational and categorical knowledge of libraries.
instead of listing dozens of crappy libraries or relying on blogs or q a posts our approach directly recommends analogical libraries based on a knowledge base of analogical libraries mined from stack over ow.
this knowledge base is like forever evolving blog posts about good analogical libraries to the libraries that one is familiar with.
currently our similartech tool supports recommendation of analogical libraries across six popular programming languages and user can access the recommendations through a publicly available web application or through our browser plugin.
in addition to analogical library recommendation our website also provides the asking trend of each recommended library in stack over ow i.e.
the number of questions that are tagged with the library tag over time.
this permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september singapore singapore c acm.
... .
association rule mining pos phrase chunking rule matching tag wiki tag sentences vector space continuous skip gram model relational knowledge categorical knowledge analogical library knowledge base extract analogical libraries figure the overview of our approach trend allows users to select popular libraries for their tasks.
by tracking and analyzing the website visit statistics via google analytics it shows that more than users have visited our site during the last months.
from the visiting logs we also observe usage patterns of our website which can help address di erent information needs of developers in searching for software libraries.
these quantitative and qualitative analysis demonstrate the usefulness of our tool.
.
the approach our approach takes as input the tags of each question in stack over ow and the tagwiki of each tag and produces as output a knowledge base of analogical libraries figure .
we considers the tags of a stack over ow question as a tag sentence and each tag of the question as a word in the tag sentence.
therefore we build a corpus of tag sentences one tag sentence per question.
we use association rule mining to ming the correlation among tag from tag sentences and use pos tagging and phrase chunking to determine the tag category from its de nition in tagwiki.
then we use continuous skip gram model to learn tag embeddings and incorporate relational and categorical knowledge of tags to build the knowledge base of analogical libraries.
.
mining relational knowledge in stack over ow each question has up to tags and co occurring tags are always related according to our observation.
to reveal such implicit relationship we use association rule mining to discover important correlation between tags.
in our application of association rule mining a stack overow question is considered as a transaction and the question tags as items in the transaction.
as we are interested in constructing a tan we need to nd frequent pairs of technologies i.e.
frequent itemsets that consist of two tags.
a pair of tags is frequent if the percentage of how many ques s np nnp applein byvbd developednp nn systemnn operatingjj mobiledt avbz isnp nns ios figure pos tagging and phrase chunking results of the de nition sentence of the tag ios tions are tagged with this pair of tags compared with all the questions is above the minimal support threshold tsup.
given a frequent pair of tags ft1 t2g association rule mining generates an association rule t1 t2if the con dence of the rule is above the minimal con dence threshold tconf.
the con dence of the rule t1 t2is computed as the percentage of how many questions are tagged with the pair of tags compared with the questions that are tagged with the antecedent tag t1.
these rules indicate highly correlated tags such as java opennlp and python nltk .
more details can be referred in our previous works .
.
mining categorical knowledge in fig.
we can see that the tags can be of di erent categories such as programming language library concept operating systems etc.
to determine the category of a tag we resort to the tag de nition in the tagwiki of the tag.
the tagwiki of a tag is collaboratively edited by the stack over ow community.
although there are no strict formatting rules in stack over ow the tagwiki description usually starts with a short sentence to de ne the tag e.g.
fig.
.
typically the rst noun phrase just after the beverb de nes the category of the tag.
based on this heuristic we use the nlp methods similar to the methods used in for named entity recognition to extract such noun phrase from the tag de nition sentence as the category of a tag.
pos tagging is the process of marking up a word in a text as corresponding to a particular part of speech such as common noun verb adjective.
phrase chunking is the process of segmenting a sentence into its subconstituents such as noun phrases verb phrases.
we rst adopt the pos to annotate each word in the sentence and then gure out noun phrases by phrase chunking.
fig.
shows the results for the tag de nition sentence of ios.
based on the pos tagging and phrase chunking results we extract the rst noun phrase np operating system in this example after the be verb isin this example .
we use this noun phrase as the category of the tag i.e.
the category of ios isoperating system .
but tag sentence may not always be complete which is not suitable for pos tagging.
for these cases we employ a heuristic label matching algorithm to nd their corresponding labels more details can be found in .
learning tag embeddings word embeddings are low dimensional vector representations of words that are built on the assumption that words with similar meanings tend to present in similar contexts.
recently mikolov et al.
demonstrate that the word embeddings encode similarities between pairs of words for 835example the capital ofrelation in paris france madrid spain .
remarkably they show that such relations are reected in vector o sets between word pairs i.e.
using simple vector arithmetic could solve analogy questions of the form a is to a as ?
is to b in which the nature of the relation is hidden.
in our approach give a corpus of tag sentences we use continuous skip gram learning algorithm to learn the word representation of each tag using the surrounding context of the tag in the corpus of tag sentences.
in the resulting word embedding space the vector o sets between analogical libraries and their corresponding programming languages would exhibit relational similarity for example nltk python opennlp java.
thus given a library nltk and its corresponding programming language python and another programming language java we can transfer the problem of nding analogical libraries to a trivial knearest neighbor search for the tags e.g.
opennlp whose word representations is the most similar to the vector nltk python java in the resulting word embedding space.
in this work we adopt continuous skip gram model proposed by mikolov.
the objective of the continuous skipgram model is to learn the word representation of each word that is good at predicting the co occurring words in the same sentence.
speci cally given a sequence of training text stream t1 t2 t k the objective of the continuous skip gram model is to maximize the following average log probability l kkx k 1x n j n j6 0logp tk jjtk where tkis the central word tk jis its surrounding word with the distance j and nindicates the context window size to be n .
the probability p tk jjtk in eq.
can be formulated as a log linear softmax function which can be e ciently solved by the negative sampling method .
after the iterative feedforward and back propagation the training process nally converges and each tag obtains a low dimension vector as its word representation i.e.
tag embedding .
.
building analogical libraries knowledge base given the relational and categorical knowledge of the tags and the tag embeddings of the tags we build a knowledge base of analogical libraries as follows.
in our approach the library tags broadly refer to the tags whose categories are library framework api toolkit and so on because the meaning of these categories is often overlapping and there is no consistent rule for the usage of these terms in the tagwiki.
for example in stack over ow s tagwiki junit is de ned as a framework google visualization is de ned as an api and wxpython is de ned as a wrapper.
we regard all these tags as library tags in this work.
given a library tag t1 we rst examine its correlated tags to determine the programming language tag pl .
let pl be a programming language tag which can be the same as pl 1or be di erent from pl .
let vec x be the tag embedding of the tag x. to nd the analogical library t2for the programming language pl 2as the library t1forpl we nd the library tags t2whose tag embedding vec t2 is most similar by cosine similarity in this work to the vector vec t1 vec pl vec pl i.e.
argmax t22tcos vec t2 vec t1 vec pl vec pl where tis the set of library tags excluding t1 and cos u v is the cosine similarity of the two vectors.
in practice there could be several analogical libraries t2for the programming language pl 2as the library t1for the programming language pl .
thus we select library tags t2with the cosine similarity in eq.
above a threshold tal.
take the library nltk a nlp library in python as an example.
as shown in the fig.
for python our approach returns the analogical libraries such as textblob andgensim forjava our approach returns the analogical libraries such asstanford nlp opennlp and gate.
note that tags whose tag embedding is similar to the vectorvec t1 vec pl vec pl may not always be library tags.
in our approach we rely on the category of tags i.e.
categorical knowledge to return only library tags.
similarly the returned library tags sometimes include libraries that are not for the given programming language pl .
we rely on the correlation between a library and the programming language s i.e.
relational knowledge to select the libraries for a given programming language.
.
quality of similartech recommendations to evaluate the accuracy of our tool we use precision k metric i.e.
given a library we manually check top k recommendation in di erent programming languages.
for example given nltk our tool recommends analogical libraries from the two languages python and java .
we check whether each of the recommendations is correct according to our knowledge or by referring to the library information on the web.
we randomly sample libraries and manually check their corresponding recommendations.
the overall precision is .
and the precision is .
.
in addition we also demonstrate that incorporating categorical and relational information can signi cantly improve the accuracy of the recommendations than relying solely on tag embeddings.
more experiment details including the evaluation of the quality of mined relational and categorical knowledge can be found in our full research paper .
.
tool support we develop a web application called similartech https graphofknowledge.appspot.com similartech .
given a library name our website recommends its analogical libraries in six di erent programming languages.
the backend of similartech is an analogical libraries knowledge base built with the stack over ow data dump that contains stack over ow post data from july to aug .
to avoid the out of date results the knowledge base can be automatically updated periodically as the new data dump is released.
the data dump contains questions and di erent tags.
among tags in our dataset with tagwiki tags are categorized as library tags.
our database only stores library tags which are used frequently enough in stack over ow more than times in the current implementation and their corresponding analogical libraries for the top six most frequently asked programming languages in 836figure the scrrenshot of our website similartech stack over ow i.e.
java javascript c php python and c .
we built this site using the django framework in python and plot the asking trend of each library in d3.js.
figure shows a screen shot of our web application.
given a library our tool attempts to recommend analogical libraries with the similarity to the given library above the minimal similarity threshold for the six programming languages.
in the current implementation similartech presents up to four libraries with the highest similarity for each programming language.
the rationale is that developers would be unlikely to look through a long list of recommendations and there are usually just a few most popular libraries for each programming language.
note that listing up to four libraries is only an implementation decision not a limitation of our approach.
for each recommended analogical library similartech shows a brief de nition extracted from the corresponding tagwiki.
clicking a library name navigates to the analogicallibraries page for the clicked library.
this allows the user to interactively explore the underlying analogical libraries knowledge base.
similartech also summarizes the number of questions tagged with a library per month and plots the metrics over time in a so called asking trend.
the asking trends of analogical libraries allow the user to easily compare the amount of the questions for each library on stack over ow.
we carry out search engine optimization to our similartech site so that it can be indexed by search engines such as google and bing.
we develop a program to automatically summarize our recommendation results for each library and put all these information into the metadata of each similartech page.
when search engines crawl our sites they will not only index the content inside the page but also the 2we experimentally select this value as lower threshold leads to more errors while higher one results in fewer results.
our sitegoogle queryfigure our site ranks at top in the google search for the query nltk similar libraries metadata of our site.
as a result search engines can rank our websites at the top of the search results for some queries.
one example is shown in figure in which our site is ranked the second position for the query nltk similar libraries on may 5th .
the metadata of this page is most popular libraries or alternatives to nltk textblob ... .
the metadata is intuitive and user friendly to web users as they can understand what information our website provides even without clicking.
note that only the o cial site of nltkranks higher than us.
however the nltk o cial site has nothing to do with the similar libraries.
.
tool usage we report the visit statistics of our website by google analytics and demonstrate the two typical usage scenarios of our similartech website.
.
the usage of the similartech website we release our website to the public and post this news on several programming related websites e.g.
com questions .
according to the google analytics of the website tra c more than users from coun837figure the visit statistics of our website from google analytics tries visit our site from nov to may .
these users on average browse .
pages in each session and they browse pages in total3.
it indicates that users are interested in our results so that they explore and interact with our site by visiting several pages.
users come back after their rst visit.
analysis of the site logs shows that users in total browse libraries for analogical libraries recommendation.
the top most frequently visited libraries are listed in figure .
the usage data of our website albeit very limited demonstrates both the needs and interests in such analogical library recommendation that our tool supports.
.
usage scenarios after quantitative analysis of the website visit data we further analyze user navigation patterns in our site.
according to our observation there are two di erent navigation patterns of user visits.
these two usage patterns help address two di erent information needs for software libraries.
.
.
find libraries in the other languages the primary goal of our tool is to help developers nd analogical libraries to a library for di erent programming languages.
the log of our website visits show that users indeed come to our site for such information needs because their rst search and the subsequent click are mostly for libraries in di erent languages.
such actions represent that given a library users are interested in its analogical libraries in another language.
as such they click the recommended libraries for more details.
for example one user rst types pdfminer which is one of the most popular pdf parsing library in python.
then according to the visit log he she clicks pdfbox andicepdf which has the similar function but for a di erent language i.e.
java.
apart from recommending such analogical libraries our system sometimes may provide some serendipitous recommendations i.e.
information which is useful but may be out of the users expectation.
for example one user rst searches opencv most popular computer vision library in c and he she then clicks one of the recommendation results marvin framework a image processing library in java .
3as most search engine robots do not activate javascript robot tra c is not counted in google analytics .
figure the top most frequently visited libraries on similartech then he she not only sees some similar libraries to marvinframework such as javacv but also a library opencv4android which is also a java library but specially adopted for the android mobile system.
if the user is a mobile application developer he she could bene t from our recommendation.
in fact this user shows his her interest in the recommended opencv4android by clicking it for more information.
.
.
find libraries in one language besides the recommendation across di erent languages many users also use our website to nd similar libraries in the same language which is out of our expectation.
by observing such visit logs we nd two goals for their behaviors.
first some users are looking for libraries with better performance.
for example one user clicks jspdf pdf.js and pdfjs consecutively.
as these libraries have almost the same functionality the user is likely comparing their performance according their description and trend data.
second user can re ne their initial searches and nd what they need by exploring the recommendation results.
for example one user rst searches pythonmagick an imageediting library in python and then clicks python imaginglibrary a more popular library for image processing lib in python .
finally he she clicks a more speci c lib called pypng png image en decoding which is much smaller than the other two general libraries but may have the speci c features just satisfying his her needs.
this shows that the process of navigating through our site can also be the process of search re nement to nd better solutions to some tasks.
.
related work the aim of similartech is to recommend analogical libraries across di erent programming languages.
in contrast to this the great majority of research work for recommendation in software engineering focuses on code level and api level recommendation.
language migration is a common phenomenon for developers as they may have to switch from one programming language to another according to the task requirements.
the biggest challenge is usually the code and library migration rather than learning a new language itself4.
many researchers have proposed methods to overcome the code migration challenge such as code mapping function mapping and api migration .
compared with to these code level migration approaches our approach supports library level migration.
thung et al.
analyze the library co occurrence patterns in software projects to recommend relevant libraries for ow.com questions 838a software project.
teyton et al.
analyze the evolution of projects dependencies on third party libraries to recommend libraries that can replace an existing library in a software project.
di erent from these approaches our approach does not rely on the information about the projects dependencies on third party libraries.
instead we mine analogical libraries from the crowdsourced knowledge in domainspeci c q a sites such as stack over ow .
furthermore existing approaches are limited to recommend libraries for the same programming language while our system can recommend alternative comparable libraries across di erent programming languages.
there are also some websites which support similar tool recommendation.
similarweb5is a website that provides both users engagement statistics and similar competitors for websites and mobile applications.
alternativeto6is a social software recommendation website in which users can nd alternatives to a given software based on user recommendations.
these websites can help regular web users to nd similar or alternative websites or software applications.
but their content is not useful for domain speci c information needs of software developers for example to nd analogical libraries for di erent programming languages.
in contrast our web application is built on software engineering data and is speci cally designed for software developers.
.
conclusion and future work in this paper we describe a tool similartech which automatically recommends analogical libraries across di erent programming languages.
the automatic recommendation is made possible by mining and incorporating semantic relational and categorical knowledge from stack over ow.
we adopt the cutting edge deep learning method in nlp applications also known as word embeddings to learning tag embeddings which encode the semantic similarity of tags.
we further enhance the tag embeddings with software speci c relational and categorical knowledge to better answer analogy questions in software engineering context.
given a library our tool can recommend several most salient analogical libraries for six di erent popular programming languages.
in the future we will improve our web application and analyze the website tra c and user behaviors in our website to enhance the accuracy of analogical libraries recommendation.
furthermore we are very interested in extending our approach to ne grained level of analogy relationships for example mining analogical apis across di erent libraries or programming languages in q a discussions or other online resources e.g.
github .
tens of thousands of api analogy questions can be found on stack over ow which indicates the urgent needs for the automatic tool support at the api level.
the ability to easily nd analogical apis and their usage examples can boost developers productivity and e ciency when they migrate from one programming language to another unfamiliar language.
.