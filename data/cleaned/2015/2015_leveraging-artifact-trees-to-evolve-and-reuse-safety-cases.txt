leveraging artifact trees to evolve and reuse safety cases ankit agrawal dept of computer science and eng.
university of notre dame south bend in usa aagrawa2 nd.eduseyedehzahra khoshmanesh dept.
of computer science iowa state university ames ia usa zkh iastate.edumichael vierhauser dept.
of computer science and eng.
university of notre dame south bend in usa mvierhau nd.edu mona rahimi dept.
of computer science northern illinois university chicago il usa m.rahimi acm.orgjane cleland huang dept.
of computer science and eng.
university of notre dame south bend in usa janeclelandhuang nd.edurobyn lutz dept.
of computer science iowa state university ames ia usa rlutz iastate.edu abstract safety assurance cases sacs are increasingly used to guide and evaluate the safety of software intensive systems.
they are used to construct a hierarchically organized set ofclaims arguments and evidence in order to provide a structuredargument that a system is safe for use.
however as the systemevolves and grows in size a sac can be difficult to maintain.
inthis paper we utilize design science to develop a novel solutionfor identifying areas of a sac that are affected by changes to thesystem.
moreover we generate actionable recommendations forupdating the sac including its underlying artifacts and tracelinks in order to evolve an existing safety case for use in anew version of the system.
our approach safety artifact forest analysis safa leverages traceability to automatically compare software artifacts from a previously approved or certified versionwith a new version of the system.
we identify visualize andexplain changes in a delta tree.
we evaluate our approach usingthe dronology system for monitoring and coordinating the actionsof cooperating small unmanned aerial vehicles.
results from auser study show that safa helped users to identify changes thatpotentially impacted system safety and provided information thatcould be used to help maintain and evolve a sac .
index t erms change impact safety assurance cases evolution traceability i. i ntroduction safety critical software systems represent a class of systems whose failure or malfunction could result in casualties or serious financial loss .
building such systems requires rig orous safety analysis and the construction of a systematicallyargued safety case.
a safety assurance case sac organizes goal oriented or claim based safety arguments into a tree structure by decomposing a top level safety goalor claim into several layers of arguments.
additionally thesearguments are supported by evidence such as test results formal reviews or simulations .
sacs are therefore a use ful and well established technique for supporting developers architects safety analysts and other project stakeholders as 1software artifacts used in this study are available at proactively build evaluate and provide evidence for thesafety of a system .
currently many certification andapproval bodies for software intensive safety critical domainsrecommend the use of sacs.
for example the us foodand drug administration fda has issued formal guidelinesrequiring infusion pump manufacturers to submit sacs as partof the safety approval process .
similarly the ministry ofdefense in the uk requires all defense system contractors toprovide sacs for their products and services .
sacs arealso recommended by standards such as iso for roadvehicles iec for railway electronic systems and iaeassg for radioactive waste management systems .sacs can be modeled in various ways however the mostcommon approaches are goal structuring notation gsn and claims arguments evidence notation .
despite their increasing adoption creating and maintaining sacs is rather challenging for several reasons.
challengesinclude a lack of guidance for constructing effective safety ar guments a tendency to suffer from confirmation bias an over reliance on the regulation culture and lackof focus on confidence and uncertainty issues .furthermore sacs need to co evolve with the system theyrepresent requiring analysts to identify the impact of a systemchange and to recognize when seemingly innocuous changesin the operating environment impact the sac s validity .
despite a number of papers discussing the use of sacs problems associated with their evolution and maintenance havenot yet been effectively addressed .
in this paper wepropose the new approach of safety artifact f orest analysis safa to directly address this challenge.
safa is designedto automatically identify the impact of system wide changeson a previously approved or certified sac in order to facilitateevolution and ultimately safe reuse of a sac s elements withinthe context of a new version of the system.
our safa approach adopts standard guidelines to create an initial sac that includes goals claims evidence and ieee acm 41st international conference on software engineering icse .
ieee authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
hazard design def code unit testscode unit testscontext requirement design def code unit testshazard design def code unit testscode unit testsrequirement design def code unit testsstrategy strategy strategy strategycontext hazard design def code unit testscode unit testsrequirement design def code unit testsstrategy strategy strategy strategycontext code unit tests a. artifact tree b. safety tree c. delta treeproject datasafety arguments inserted project artifacts are retrieved automatically from a project repository and organized hierarchically according to traceability paths defined in the traceability information model.the artifact tree is augmented with safety arguments shown here as strategies for achieving safety .
argument nodes are inserted automatically.
the safety tree is safa s representation of a safety assurance case.the safety tree for th e current version v1 is automatically merged with the previous version v0 .
changes are depicted through colors red removed g reen added blue modified and clickable information icons.
two safety trees merged data retrieved fig.
the safa process retrieves and visualizes artifacts augments them with safety information and then visualizes differences across versions.
artifact types can be customized to meet the needs of individual projects.
solution nodes in which the mitigation of specific hazards are represented as goals to be achieved.
hazards and hence their associated mitigation goals are often organized into a hierarchy in which each leaf hazard is mitigated in the system through a set of artifacts that include safety requirements design solutions analytical models source code and assumptions and are validated through diverse tests reviews and simulations.
these artifacts are connected to each other and to the leaf hazard through a set of trace links.
we refer to this collection of artifacts for a single hazard as an artifact tree see fig.
.a and to the collection of such trees as an artifact f orest .
safa retrieves artifact trees from project repositories e.g.
jira and github and automatically augments them with argumentation structures that are designed to aid developers and analysts in reasoning about system safety.
for proof of concept purposes we adopted the gsn approach but safa could be adapted to work with other common sac notations.
we refer to this set of augmented artifact trees as safety trees see fig.
.b .
the entire set of safety trees forms a system wide safety f orest composed of the top level sets of goals claims and strategies connected to a lower layer of safety trees through the leaf hazards.
when a new version of the system is developed the previous version of the safety forest is retrieved and compared against the new safety forest.
the differences between the two safety trees are then depicted in a delta view see fig.
.c and safa then generates warnings within each safety tree to highlight changes that potentially undermine system safety .
further safa generates actionable recommendations to aid a safety analyst through the process of making changes that are needed to achieve and demonstrate safety.
recommendations include advice such as to increase the diversity of evidence that a hazard has been mitigated through integrating test case results or simulations into the safety case to investigate the impact of changed contexts or environmental assumptions on lower level nodes or to assess or create trace links.the contribution of our work is three fold.
first we present an approach for automatically generating a safety tree and highlighting safety related deficiencies .
second we compare the safety trees of a new version with those of a previously approved or certified version to detect and visualize changes which could impact the validity of the sac.
finally we generate warnings and recommendations to aid a user in evaluating and updating evidence of hazard mitigations in the current safety trees.
the ultimate goal of our work is to reduce the cost and effort of evolving and reusing safety case elements for a new version of the system while maintaining or even increasing levels of safety.
the remainder of this paper is structured as follows.
sections ii and iii describe the safa approach for generating artifact trees safety trees and delta trees.
section iv introduces the safa toolkit.
section v describes safa s application to the dronology system and section vi presents a controlled user study.
finally in sections vii to ix we discuss threats to validity related work and conclusions.
ii.
o verview of the process we adopted a modified version of wieringa s design science approach to design develop and refine the safa solution.
this included the five steps of information gathering and analysis design initial validation and refinement user evaluation and feedback based refinement.
during the information gathering and analysis phase we reviewed literature related to the use of safety assurance cases e.g.
and traceability in safety critical projects e.g.
including case studies and examples of completed sacs.
this allowed us to reason about the ways in which sacs are impacted by changes made to the system and to identify remediation steps that could update the sac to reflect the current state of the system.
during the design phase we leveraged our observations to iteratively design safa s process and algorithms.
in the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
initial validation and refinement phase we developed features to generate safety trees.
we then used those trees to build a sac for each leaf hazard in order to evaluate the safety of our own system dronology under development using our observations from this experience to improve the design of safa.
after each increment we critically evaluated the effectiveness of the existing features identified missing features and improvements and then repeated the process.
in the fourth phase of external user evaluation we conducted a formal study with developers as reported in section vi.
finally as a result of feedback from that study we entered the final phase of feedback based refinement .
in the remainder of this section we discuss safa in more detail using an example drawn from the isolette case study a safety critical infant incubator used in hospitals .
we focus on the system s mitigation of the hazard undetected thermostat failure .
we adopt the goal structuring notation .
a. define a traceability information model safa depends upon the presence of an underlying traceability information model tim that defines artifacts and their traceability paths .
we used the tim depicted in table i throughout our process which depicts artifacts and their associations as commonly adopted across many safety critical development processes .
the artifacts are easily transformed into a hierarchical structure i.e.
hazards requirements design definitions code with supporting evidence i.e.
context environmental assumptions acceptance tests and simulations .
artifact type h sa sr r dd cx ea hazard h ref as safety analysis sa an as safety req.
sr mit ref as requirement r ref ref as design def.
dd rl ref as src.
code tests sc imp as context cx ctx ctx ctx ctx acceptance test a t test simulation sim sim table i artifacts and directional trace paths ref refines an analyzes mit mitigates rl realizes imp implements test tests sim simulates as assumes ctx contextualizes b. retrieving an artifact tree an artifact tree fig .a is generated by recursively following trace links defined in the tim.
contextual information such as environmental assumptions safety analysis artifacts acceptance tests and simulations is also retrieved via trace links to provide evidence that the hazard has been mitigated.
the artifact tree shown in figure represents some of the software artifacts associated with the isolette hazard of undetected thermostat failure .
the generation of the artifact tree depends upon the existence of semantically typed trace links defined in the tim .
such trace links can be created manually generated using an automated approach hazard islt a. .
thermostat fails safety requirement islt a. .
.
isolette detects thermostat failure and activates an audible and visible alarm.
safety requirement islt sr a. .
.
isolette detects an internal failure.safety requirement islt sr a. .
.
nurse responds to alarm and moves baby to a functioning isolette within seconds.
safety requirement islt sr a. .
.
the detect monitor failure function identifies internal failures.
requirement islt a. .
.
.
the detect monitor failure function shall detect a monitor failure within seconds.context islt c100 isolette are monitored by nurses from an adjacent room.environmental assumption islt a100 temperature increase decrease at a rate of no more than f1.
f per minute.
assumption allowed probability of failure per hour.
package failure.detection.monitor code passed test for monitor failure.
event log worst case response time documented in event log is seconds.
1change impacting integrity of the safety case requirements assumptions other artifactscode related artifacts23 fig.
a section of an artifact tree for the isolette system depicting mitigation of the hazard undetected thermostat failure .
the change events are discussed in section iii a. safety requirement islt sr a. .
isolette detects thermostat failure and activates an audible and visible alarm.
safety requirement islt sr a. .
.
thermostat activates the audible and visible alarm.safety requirement islt sr a. .
.
nurse respond to alarm and moves baby to a functioning isolette within seconds.
strategy argue by diverse evidence.
context isolette are monitored by nurses from an adjacent room requirement assumption context strategy solution strategy argue by identification of all sub safety requirement of safety req a. .
.
solution event log report assumption temperature increase decrease at a rate of no more than f per minute.
solution simulation temperature controls with alarms.solution acceptance test passed fig.
a section of the safety tree for the isolette system showing claims strategy and solution nodes.
or mined from commit messages .
many requirements management tools such as jira and doors provide support for semantically typing links between different types of artifacts and facilitate the creation of links as an integral part of the analysis and specification process.
furthermore commits to version control systems such as github can be tagged with requirement ids to create links to source code.
the trace links used by safa are required in most safety critical domains therefore our approach adds minimal overhead to the traceability effort .
c. transformation to a safety tree safa provides a set of heuristics listed in table ii for transforming an artifact tree into a safety tree fig .b .
the heuristics define how claims strategies assumptions and solution nodes should be inserted into the tree between authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table ii rules for inserting sac nodes to transform an artifact tree to a safety tree strategy nodes idsource target condition argument or claim ref.
1hazard safety anal.
safety analysis exists argue that all critical faults for hazard id have been identified.
2hazard safety req.
safety requirements exist argue that hazard id is fully mitigated by its safety requirements.
3safety req.
env.
assump.
at least one environmental assumption is specified in the subtreeassume that all environmental assumptions are identified for safety requirement id.
4hazard evidence more than one independent evidence fta simulation test is linkedargument by diverse evidence 5safety req.
design def.
at least one design definition exists argument by claiming design definition meets safety requirement 6design def.
code with passed testsat least one package is linked argument by claiming to have followed specific guideline in design definition argument by correct implementation of design 7env.
assump.
code with passed testsat least one environmental assumption linked directly to codeargument by operational assumptions satisfied test like you fly 8safety req.
hazard at least one hazard exists argument by claiming addressed all identified plausible hazards assumption node 9prob.of hazard assumption a fmea assumption node exists claim that fmea supports assumption of hazard s likelihood context nodes 10safety req.
context system level hazard analysis context node existsclaim that system level hazard analysis is a context node for top safety requirement 11safety req.
or hazardcontext a context node exists claim that defining and explaining ambiguous term in statement such as correct low sufficient negligible is a context node for safety requirement or hazard solution node 12prob.
of hazard fta fta gives probability claim that fta evidence is a solution for probability of hazard existing artifacts.
an example showing a partial safety tree is depicted in figure .
the heuristics for node insertion were derived from several literature sources describing guidelines for constructing safety arguments .
for example row of table ii implies that if a link exists between a hazard and one or more safety requirements that an as yet invalidated argument that the hazard is fully mitigated by its safety requirements should be inserted between them.
they include rules for inserting specific types of sac nodes e.g.
strategies and claims and for adding warnings when expected links and or artifacts are missing.
all inserted nodes are designed to help an analyst reason about the extent to which the hazard has been mitigated.
d. engaging the user in safety tree completion there are three specific tasks that a user should perform on a safety tree.
first users should respond to warnings and recommendations that highlight problems such as missing design definitions or that make recommendations for inspecting various artifacts rerunning an out of date acceptance test or evaluating a set of candidate trace links.
second claims or strategy nodes that saf a injects into a safety tree must be critically evaluated by an analyst.
for example given a claim that a hazard mitigation has been sufficiently decomposed into safety requirements an analyst should evaluate the claim to determine if it is correct.
if a claim is found to be incorrect then additional work is needed to remediate the problem.
finally safety arguments need sufficient contextual information to enable future maintainers to understand the claims and to modify the sac .
in the context of safa this means that the analyst must carefully evaluate contextual information in the safety tree and incrementally refine it by adding additional arguments and contextual information so that the rationale for each claim is sufficiently clear .iii.
s afety tree comparison while safa is designed to help a user assess the safety of a single version of the system its primary benefit is its support for reusing the safety analysis in subsequent releases.
kelly provides examples of change scenarios that could impact system safety and trigger the need to review and potentially update the sac.
examples include changes in regulatory requirements system design environmental assumptions and operator behavior all of which can cause the system to be deployed in ways that differ from the original intent.
during the incremental design process for safa we observed concrete instances of each of these cases and also of cases in which change was initiated directly from the source code.
safa is designed to recognize all these types of changes.
a. types of change impact kelly identified three ways in which changes to a sac argument structure could challenge its integrity .
these include changes to solution nodes i.e.
low level nodes contributing to the achievement of higher level goals goals which are direct or indirect ancestors of a set of solution nodes and contexts which provide contextual information for individual nodes or entire subtrees.
we illustrate each type of change with examples drawn from the isolette system labeled as in figure .
the first example introduces a change at the solution level within the failure.detection.monitor package.
source code has been modified and this triggers the need to evaluate whether associated higher level safety goals are still achieved.
the second example reflects a high level change in which the safety requirement islt a. .
.
is modified to add an additional hazard warning in the form of a visible light.
this has a trickledown effect on all its descendants including requirements and implementation.
as a result the entire subtree needs to be authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table iii example rules for adding actionable advice to delta sac tree change warning secondary condition recommendation w1 feature is added or deleteda new deleted feature potentially impacts the following safety trees list of safety trees .fmea or fta exists for feature.check that hazard analysis is complete for .
if necessary create new safety trees associated with new hazards.
at least one feature exists.
perform a feature interaction analysis against existing features.
at least one safety tree added or removed for the feature.perform a complete check of each safety tree associated with hazards for including all strategies claims and contexts.
w2 requirement is added deleted or modifiedrequirement has been requirement has been added or modified.check the claim that requirement mitigates hazard and is fully realized through the design implemented in the code with diverse and sufficient evidence provided.
requirement has been deleted or modified.check the claim that remains satisfied even though has been .
w3 source code is changedsource code in has been modified by all check that all code is covered by passed unit tests.
safa recommends trace link maintenancecheck the to confirm additions and deletions of trace links.
w4 context and or assumptions have changedcontext assumption associated with has changed.environmental assumption has changedcheck all goals claims strategies and solutions that are influenced by .
probability has changed check that all goals claims strategies and solutions that are influenced by are supported within the new probability context.
w5 evidence has been modified or deletedevidence has been modified or removed.solution has been deleted or modifiedsolution that has been satisfied is challenged by elimination or change of .
check that is sufficiently satisfied.
diversity of evidence has been reduced.diversity of evidence that has been satisfied is reduced by elimination of .
check that is sufficiently satisfied.
context node using this evidence has changed.check all goals claims strategies and solutions that are influenced by .
re assessed.
finally the third example illustrates a change to an environmental assumption to reflect new claims by the manufacturer of the heating units.
temperatures can now rise at a rate of .
f hr.
this high level contextual change potentially impacts the entire sac requiring all safety requirements and their subtrees to be re evaluated.
safa recognizes these three types of change scenarios and generates appropriate recommendations.
for example in the case of a context change safa recommends the has been potentially invalidating the entire subtree.
inspect the subtree to determine if any elements depended upon the previous context.
b. detecting changes between two safety trees to detect changes between two versions v1 and v2 of a system we compare the pair of artifact trees associated with each leaf hazard checking for additions deletions and modifications of all artifacts defined in the tim.
once the changes are identified a delta view is generated representing the superset of all artifacts found in a hazard s safety tree for both versions v1 and v2.
differences between the two versions are annotated to clearly depict which artifacts and or trace links were added deleted and modified in the new version.
furthermore to gain a deeper understanding of any code modifications and their potential impact upon the safe mitigation of the hazards we utilize trace link evolution tle to reverse engineer source code refactorings identify previously unlinked code that could impact the safety case and recommend potential links between design definitions and code.
tle is a publicly available tool designed to detect a set of change scenarios based primarily on fowler s dictionary of source code refactorings .
it employs a combination of information retrieval techniques namely the v ector space model and a refactoringdetection tool to detect change scenarios organized into the six high level change categories of add class delete class add method delete method modify method and basic .
tle provides two useful functions first it offers explanations for why a specific class or set of classes has changed e.g.
due to a specific refactoring enabling an analyst to determine whether the change is likely to impact safety or not.
second when applied to design definitions our lowest level of specification and source code classes tle identifies and recommends potentially missing trace links thereby introducing the possibility of adding new links and therefore new artifacts to the tree.
c. generating the delta view kelly previously defined a sac change process as five steps recognizing challenges to the validity of the safety case expressing those challenges within the context of the sac determining the impact of the challenge on the sac determining actions needed to recover from the challenge and actual recovery .
our safa visualization provides support for steps to .
moreover to address steps and safa augments the delta view with recommendations designed to help the analyst address potential safety violations that were introduced through the changes.
we incorporated a preliminary set of recommendations into safa based on the change scenarios discussed by kelly and mcdermid and also our own observations from developing the dronology systems of how change events impact sacs.
however our implementation of safa also includes an api for customizing the set of recommendations for a specific project to accommodate factors such as domain safety integrity level project specific artifacts supported traceability paths adopted repositories and tools and development processes.
an initial set of recommendations is depicted in table iii.
each recommendation includes a brief description a primary condition under which it is triggered an associated warning authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
and one or more secondary conditions which trigger specific recommendations.
kelly and mcdermid reported that when the integrity of a safety case is challenged responsible parties should decide on an appropriate response ranging from a complete revision of the safety case to nothing at all .
for example if a new feature has been added and a new hazard identified and documented then the recommendation could be to perform an extensive safety analysis starting with hazard analysis for the feature by checking that hazard analysis is complete for and if necessary create new safety trees associated with new hazards .
iv .
t ool support with the safa t oolkit the safa toolkit is designed to support the entire process of retrieving artifacts and links from project repositories and generating and visualizing artifact safety and delta trees.
in our project all hazard descriptions requirements design definitions environmental assumptions acceptance test descriptions and context information are stored in jira while code unit tests and acceptance test results logs are stored on github.
our prototype implements the entire safa process described in this paper.
it is implemented in java with interfaces to jira and github repositories however it could easily be extended to interface with other repositories such as doors or bitbucket.
a tim defining the trace links depicted in table i was implemented using jira s semantically typed trace link features.
trace links to source code are created by tagging github commits with the respective jira issue id while other trace links are created and maintained inside jira.
the artifact parser first retrieves the hierarchy of hazards from jira identifies leaf hazards and then retrieves all artifacts that are directly or indirectly linked to the leaf hazards in ways that comply with the tim.
this means that links are traversed in directions designated by the tim preventing the problem of a cyclic graph of artifacts.
the safa toolkit displays the system level hazard hierarchy and then generates an artifact tree safety tree and delta view for each leaf hazard.
to generate a delta view the user specifies one version as the baseline one as the current version and requests all trees and views to be generated accordingly.
safa uses graphviz to dynamically lay out nodes into a tree structure.
our safa toolkit currently shades added nodes green deleted nodes red and modified nodes blue.
warning nodes are shaded orange and information is marked by an !
icon.
fig.
depicts an example of a delta view for one of the dronology leaf hazards rendered using the safa toolkit.
an acceptance test and design definition have been added another design definition and source code class have been modified and one process requirement has been removed.
in addition five recommendations are generated.
v .
safa e v alua tion on the dronology system during the initial validation and refinement phase of our research we used safa to support the safety analysis of two versions of the dronology system.
in this section we describe the process and key observations which led to the design fig.
a screenshot of a delta tree generated by safa for the leaf hazard ua v collides with another ua v when dronology issues a rtl return to launch command to multiple ua vs. used in our formal user evaluation.
we also address our first research question rq1 what types of changes impacted hazard mitigations between versions v1 and v2 and is safa able to detect and visualize them?
a. the dronology project we evaluated safa within the context of the dronology system which provides features for managing monitoring coordinating and controlling small unmanned aerial vehicles ua vs .
it includes a flight manager responsible for scheduling flight routes for multiple ua vs basic collision avoidance a flight activity logger several uis for planning routes monitoring ua vs in real time registering ua vs and a ground control station gcs middleware as well as a con1227 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
crete implementation for communicating and controlling both simulated and physical ua vs. the dronology gcs interfaces with ardupilot based ua vs and has been flight tested with five different physical ua v models.
it also interfaces with the ardupilot software in the loop sitl simulator to enable high fidelity simulations.
the dronology system exhibits non trivial safety concerns due to its application to real world scenarios including search and rescue and medical supply delivery.
ua vs flying into traffic crashing into the terrain during delivery operations or failing to provide adequate area coverage during a life critical search and rescue operation create numerous safety concerns and associated hazards.
dronology s top level hazard tree includes hazards with leaf hazards.
for all experiments described in this paper we utilize and compare two releases v1 which was completed in the spring of immediately prior to a public search andrescue demo and v2 which introduced several new features.
v1 included loc java classes and a total of requirements and design definitions.
v2 involved over hours of design and coding by a professional developer on a collision avoidance branch branched august and merged june hours of development by a team of graduate and undergraduate students and over hours by senior members of our team with prior industrial experience on a mission planning branch branched april and merged july .
v2 included loc java classes requirements and design definitions.
both versions also included hazard analyses acceptance and unit tests simulations environmental assumptions and other contextual information.
b. change scenarios in dronology safa needs to handle realistic types of change scenarios.
we therefore analyzed the types of change that occurred during the development of dronology.
here we describe three changes their potential impact on hazard mitigation and safa s ability to detect and visualize them.
context changed the dronology system is subject to government regulations which provide strict guidelines for flights in various airspaces.
normally ua vs may fly up to feet above ground level however a new deployment within close proximity to an airport required us to fly in restricted airspace and to remain below feet.
this caused a change in a high level context node that previously stated that the airspace was uncontrolled thus requiring all goals strategies and claims in lower levels of the sac to be checked and modified.
as a result a new safety requirement to prohibit ua vs from flying above the maximum altitude was introduced which in turn introduced a series of process requirements and softwarerelated design decisions to prevent the hazard from occurring.
safa visually depicted the change in context in the delta view and also added warning w4 as specified in table iii associated with a changed assumption.
requirement changed in v1 a safety requirement associated with the midair collision hazard stated that when two ua v s violate the minimum separa tion distance theywill both stop and hover in place .
however field tests showed that physical ua vs were unable to consistently stop in time unless the separation distance was unrealistically large.
a new requirement was introduced in v2 requiring each ua v to progressively decrease its speed as it approached another ua v .
safa adds warning w2 .
evidence changed in v1 we made the assumption based on our prior operational experience that the iris 3dr simulator was sufficiently accurate for testing flight plans prior to their execution.
during development of v2 we started sending collision avoidance directives as velocity vectors instead of as waypoints and discovered that the simulator did not correctly simulate this behavior.
we therefore removed simulations as a form of evidence that the safety requirements were met.
as a result safa added warning w5 associated with changed evidence causing us to address the lack of evidence by adding more diverse acceptance tests for use with the physical ua vs. c. observations from saf a s design science process as a result of over hours of effort dedicated to design development and use of safa we made several key observations which heavily influenced subsequent safa design decisions.
here we report four of them o1 during the refinement of the safety trees we heavily relied on the warning nodes to highlight errors of omission in the safety trees.
many of these issues were caused by inconsistencies between artifacts and missing trace links .
we modified safa s design by creating direct hyperlinks from each node to its associated entry in jira so that links could be added and artifact text modified interactively.
o2 we noticed that the automatically inserted claims and strategies encouraged a false sense of security that an issue was fully addressed and that the tool should mark each claim as non validated until it is actively checked and signed off by the analyst.
this was addressed in the design by setting the initial state of each claim and strategy node to non validated and then requiring the analyst to check and validate it.
any nodes potentially impacted by a new change are reset to nonvalidated so that the safety analyst is required to re validate.
o3 based on early evaluation with non experts we observed that users with limited safety experience needed an explicit explanation for why a change might impact system safety and clear advice on actions to take.
this observation led to the addition of actionable recommendations in the delta tree.
o4 initially generated trees tended to contain sparse contextual information.
missing context was not apparent in jira but became evident once the trees were visualized.
the hyperlinks to jira enabled us to incrementally add context and rationales to each safety tree to better support future maintenance and reuse through the delta views.
this confirmed previous observations by kelly .
these and other observations played a key role in the incremental design of the safa views.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table iv dronology hazard mitigations impacted by changes between versions v1 and v2.
the remaining five hazards not shown were not impacted.
node changes in v2 hazard cnt sr pr dd aj cx as ts sc h1 incorrect goto command causes terrain crash.
h2 midair collision during flight execution28 h3 ua v flies above the altitude allowed by faa.
h4 physical failure of battery during flight29 h5 collision occurs between ua vs at takeoff58 h6 compass failure leading to localization error8 h7 two ua vs collide when executing rtl commands20 h8 insufficient coverage during search and rescue259 legend change in sr safety req pr process dd design def.
aj adjacent system cx context as assumption ts tests sc code vis visualized in delta tree rec recommendation provided .
hazard included in the user study.
h8 has a high number of nodes due to numerous code classes.
d. evaluation of saf a s support for change scenarios to answer rq1 concerning the types of changes that impacted dronology hazards two researchers who had been part of the dronology development process and had deep understanding of its safety issues analyzed changes that potentially impacted the leaf hazards.
these were categorized as changes to requirements design process environmental assumptions context tests and source code and formed the answer set for the first part of the study.
a further analysis of these changes found that safety mitigations were impacted in of the cases.
these hazards and the changed artifacts are shown in table iv.
for each changed artifact we checked whether safa had correctly detected and visualized the change and whether an appropriate warning and recommendation had been issued by safa.
results of our analysis summarized in table iv indicated that source code changes impacted five hazards mitigations.
in one case h8 this was associated with new functionality that introduced an entirely new sub tree of requirements design definitions and code.
in two cases the effect on hazard mitigations was the result of changes in the design h4 h5 .
in two other cases the effects were associated with context and or assumption changes h1 h7 .
in h1 tle identified underlying code refactorings.
in two cases h2 and h6 a new safety requirement was delegated entirely to an adjacent system ardupilot and ground control station respectively dramatically changing the system s response to those hazards.
finally in one case a contextual change led to a modification in a process requirement in order to assume responsibility for handling that hazard h3 .
overall we observed that dronology s individual hazards were impacted by changes totable v summary of participants professional experience showing years in industry yrs and whether they have experience in safety critical projects sc .
id role domain yrs sc p1 software engineer aviation defense y p2 developer operating systems n p3 developer development y p4 developer embedded systems n p5 developer embedded systems y p6 software engineer software development y p7 developer information systems n p8 software engineer unmanned aerial systems y p9 systems engineer embedded systems y p10 requirements engineer defense systems y multiple artifact types.
safa correctly detected and visualized all these changes and also provided correct warnings and recommendations as designed in all cases.
as a future improvement we also noted that safa displayed each change on the delta view as an independent entity and was not yet capable of grouping related changes for example to indicate that a change in code was associated with a concurrent change in design.
grouping changes in this way could further aid analysts in understanding the impact of the identified changes.
vi.
u ser ev alua tion the next step of the design science approach involves feedback based refinement in which we conducted a formal user study to address the following research question rq2 to what extent does safa s delta view support an analyst in identifying changes which potentially impact the safety of a new version of the system?
a. controlled user study our study involved participants with industry experience as listed in table v. seven of them had experience in developing safety critical systems.
at the start of the study each participant viewed a minute pre recorded tutorial which provided background on the study the dronology system and information about safety arguments and sacs.
based on a preliminary pilot study we decided to present hazards to each participant.
this kept the study duration to one hour i.e.
minutes of initiation and minutes for analysis of the safety hazards .
we selected of our leaf hazards based on the following inclusion criteria ic there should be a non trivial change that affected the hazard between versions v1 and v2 ic there should be diversity of change types in the safety trees and ic the safety tree should be of a size that is analyzable within minutes.
five hazards were discarded due to ic and one was discarded due to ic .
the final set labeled h1 h6 in table iv were selected in a way that maximized diversity ic .
hazards were presented to the participants in two different ways referred to as treatments t1 and t2 t1 artifact tree pairs the user was given simultaneous access in two windows to v1 and v2 artifact trees for each hazard and could click on any non source code artifact to access its record in jira.
this treatment was authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
representative of the current state of practice in which an analyst might assess change by retrieving two versions of the system in order to perform a comparison.
t2 delta view the user was given access to the delta tree for each hazard.
as with the previous treatment the user could also click on nodes to view records in jira.
we divided participants as evenly as possible according to background and skill set into two groups a and b .
hazards were assigned in the same order to both groups i.e.
h1 h6 however group a participants used treatment t1 for hazards h1 h3 and treatment t2 for hazards h4 h6 while group b used treatment t2 for h1 h3 and treatment t1 for h4 h6.
participants assessed the six hazards using a think aloud protocol.
they were then asked the following question which was designed to evaluate the extent to which safa supported key steps in kelly s safety case change process for recognizing challenges to the validity of the safety case q1 with respect to this hazard has the system changed in a way that potentially affects its safety?
if so please explain your answer.
after the participant had evaluated all six hazards we asked three additional questions.
q2 was the information provided to you for each of the two methods sufficient for assessing the impact of change upon system safety?
q3 which of the two methods did you prefer using?
why?
and finally q4 can you suggest any improvements for the delta views?
.
one scribe documented the think aloud statements while a second scribe observed the participant performing the tasks and took additional field notes.
audio recordings were collected and used to confirm the transcripts.
b. results we first evaluated participants responses to q1.
based on the clear use of color encoding to visualize changes in the system coupled with think aloud protocol and the participants use of the safa features to open up recommendations by clicking on specific nodes we concluded that participants were aware of all color encoded changes in the delta view.
in contrast participants inspecting changes using the paired artifact view only identified .
of the potential problems.
on the other hand once changes were identified the participants were able to discuss their impact regardless of the technique used.
for example using the paired artifact method participant p2 commented on hazard h6 that the design has changed in a way that it now has to interface with an adjacent system therefore i would need to look at integration code .
similarly using the delta view for h6 on observing that two assumptions had been removed and one added he commented that the change in assumptions could create gaps even though the new one would improve safety .
however one of the participants p6 stated that visibility into modifications within artifacts e.g.
source code changes or rewording of requirements was not available in the paired artifact trees and that using the paired artifact trees he would have missed the fact that several source code classes had been modified which should trigger a safety review.table vi themes that emerged from user responses.
qtheme description cnt q3visualization the extent to which color coding and other visualizations highlight issues6 q3speed the extent to which problems can be identified quickly6 q3informative the extent to which the provided information supports safety analysis5 q3process the ease of the analysis process q3trust the trust that a user places in safa to identify problems1 q4code insight the ability of safa to identify and display impactful code changes3 q4rationale rationales explaining additions deletions or modifications of artifacts.
in response to q2 all participants except one p7 stated that they favored the delta view over the artifact view.
in fact one participant p1 when asked to use treatment t1 after t2 specifically asked if he could have his delta view back!
another p9 said that he would kill to have this delta view in my work.
due to our adoption of the think aloud protocol we did not record the time taken to analyze each hazard however we observed that participants took significantly less time using the delta view.
some participants perhaps those with better spatial skills were very good at finding differences in the paired artifact trees even in quite large trees while others found it particularly challenging.
we observed that users frequently clicked on the informational advice icons and carefully read the recommendations generated by safa to describe the type of changes in the code.
in one case this allowed a participant to state that the change was unlikely to impact safety as it was a simple refactoring.
two researchers co authors on this paper then inductively coded the responses to questions q3 and q4 to identify prominent themes .
in total they identified six themes for q3 and two for q4.
following discussion one of the q3 themes was removed resulting in the themes reported in table vi.
as depicted in table vi six participants mentioned the benefits of visualization.
for example p1 stated that color coding reduced confusion about what was new and not... and p9 stated that it was easier to understand change .
six participants also mentioned the speed with which they were able to identify impactful changes in the delta view using adjectives such as quickly and at a glance .
five participants mentioned the informativeness of the delta view.
for example p4 stated that you can see code change and as soon as code changes everything up becomes suspect while p9 stated that it would help us figure out risks.
conversely p3 stated that it is too easy to miss changes using the paired artifact trees treatment t1 .
five participants mentioned the simplification of the process using delta views.
for example p5 appreciated that it was all in one place while p1 noted that there was no need to hunt between trees.
finally participant p2 raised a particularly important issue of trust.
he stated that he noticed himself putting implicit trust in the delta view which could be problematic if it failed to highlight important safety concerns.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
responses to q4 also provided valuable insights.
three participants requested additional information regarding the code changes such as whether i o changed when code changes p2 displays depicting before and after views of committed code p7 or the complete history of commits between the two versions p9 .
two participants requested rationales for all additions and deletions such as reasoning behind the change p5 .
throughout the study most users discussed the actions they would take to resolve the safety concerns for example questioning the validity of requirements p10 identifying areas in which additional mitigations were needed p9 investigating apis p6 and proposing additional acceptance tests p1 .
in summary we conclude that safa s delta view provided our users with affordances to quickly identify changes that potentially impacted the safety of the system.
furthermore it helped them to identify actionable steps that were needed to ensure system safety and to update the sac.
in addition once participants understood the potential of the delta view they requested additional features that would provide insights into code changes and rationales for describing the addition modification and deletion of other artifacts.
we plan to explore such requests in our future work.
vii.
t hrea ts to validity the user study that we conducted evaluated safa s support for safety related change impact analysis.
participants all had industry experience with seven having experience in safety critical development.
however only one participant had worked on an industrial ua v project.
the use of only one project environment dronology for evaluation purposes is a key constraint caused first and foremost by the nonavailability of test environments consisting of multiple versions of a system that contains rich samples of artifact types with associated trace links and secondly by the cost and effort of building systems such as dronology.
to partially mitigate this limitation we we illustrated our approach on an additional system isolette from a different domain.
because the dronology system used natural language requirements and not formal models we make no claims about safa s generalizability to projects driven by formal methods.
furthermore we defined an extensible tim consisting of software artifacts and traceability paths that are commonly required in safetycertification guidelines and the heuristics we defined could be extended or modified to reflect specific project contexts.
viii.
r ela ted work in the area of sac maintenance kelly and weaver presented a set of patterns and recommended the use of modularity to support sac evolution.
kelly and mcdermid investigated changes in evidence context assumption and requirements gsn nodes to determine how changes impact the safety assurance case.
from this they proposed a safety case change management process but did not integrate traceability to automate the process.
kokaly et al.
use a kaos goal tree to describe an assurance case and annotated evidencenodes when a change occurred.
greenwell et al.
introduced the safety case life cycle which feeds failure history of a system back into the sac to find faulty assumptions or evidence and to recommend revisions.
several authors focused on specific types of artifacts and tools.
for example jardat et al.
used uncertainty analysis to extract contracts from fault tree analyses fta and to trace changes to the safety argument while felici detected structural changes and content changes in nodes between two safety cases.
denney and pai automatically assembled autogenerated formal method sections of a sac with manual parts and showed that integration of heterogeneous safety aspects can improve the correctness of safety assurance cases.
formal methods are just one type of node in a safety tree.
several approaches have been proposed that automate traceability across diverse artifacts .
other closely related work focuses on generating artifact slices or using formal verification techniques to support safety analysis .
falessi et al.
present safeslice that uses a tim to guide the extraction of design slices with respect to functional safety requirements.
briand et al.
explored the use of safeslice to support the safety inspection process.
more precisely they devised a technique for establishing traceability between safety requirements and sysml design models.
similar to our results their study also showed a decrease in effort for assessing the safety of a system when providing traceability support.
in our work we include diverse artifacts and provide additional information on how and why safety requirements might be affected by changes in linked artifacts.
several researchers have also investigated impact analysis from the perspective of system evolution for example identifying the impact of operational anomalies or source code changes on design .
ix.
c onclusion in this paper we have presented the safa approach for automatically generating delta trees designed to aid safety analysts and developers to identify changes that potentially impact system safety.
we have described the application of approach across two versions of the dronology system and have shown that safa is able to generate diverse warnings and recommendations commensurate with the types of changes we observed.
finally we have reported results from a user study which shows the usefulness of safa for detecting and analyzing the impact of change upon an existing safety tree.
the final safety tree produced for a new version can be integrated into the final safety assurance analysis process.
in future work we plan to explore the integration of safa into diverse safety assurance contexts and enrich the type of information and recommendations we provide to users.