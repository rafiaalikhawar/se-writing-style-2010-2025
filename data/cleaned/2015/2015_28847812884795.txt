idice problem identification for emerging issues qingwei lin jian guang lou hongyu zhang dongmei zhang microsoft research beijing china qlin jlou honzhang dongmeiz microsoft.com abstract one challenge for maintaining a large scale software system especially an online service system is to quickly respond to customer issues.
the issue reports typically have many categorical attributes that re ect the characteristics of the issues.
for a commercial system most of the time the volume of reported issues is relatively constant.
sometimes there are emerging issues that lead to signi cant volume increase.
it is important for support engineers to e ciently and e ectively identify and resolve such emerging issues since they have impacted a large number of customers.
currently problem identi cation for an emerging issue is a tedious and error prone process because it requires support engineers to manually identify a particular attribute combination that characterizes the emerging issue among a large number of attribute combinations.
we call such an attribute combination e ective combination which is important for issue isolation and diagnosis.
in this paper we propose idice an approach that can identify the e ective combination for an emerging issue with high quality and performance.
we evaluate the e ectiveness and e ciency of idice through experiments.
we have also successfully applied idice to several microsoft online service systems in production.
the results con rm that idice can help identify emerging issues and reduce maintenance e ort.
categories and subject descriptors d. .
testing and debugging diagnostics d. .
management software quality assurance keywords emerging issues problem identi cation e ective combination problem diagnostic issue reports .
introduction despite immense e orts spent on software quality assurance various types of failures often occur in software systems permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
icse may austin tx usa c acm.
isbn .
.
.
.
actual operations.
whenever customers encounter a problem they can report the issue to the technical support team of the software system.
for a widely used large scale software system the support team could receive a large number of issue reports from customers over a period of time.
furthermore in order to enable quick response to changing market requirements today s software systems evolve quickly developers constantly update existing features add new features and release new versions within a relatively short time.
therefore support engineers often encounter new issues reported by customers.
the maintenance task could be even more challenging for large scale online service systems such as microsoft o ce windows azure and visual studio online which are attracting growing number of customers and are updated more frequently.
a typical customer issue report consists of many categorical attributes such as product version the problematic product feature product con guration client os service package country etc.
each attribute has a set of distinct values.
an issue report also includes a time stamp recording the time at which the report was received.
therefore the issue report data can be treated as multi dimensional time series data.
oftentimes it is observed that the volume of issue reports under a certain attribute combination could suddenly increase signi cantly at a certain point of time.
such a burst may be due to major feature changes con guration mistakes environmental incidents or software bugs.
we call these issues emerging issues .
for example in june a bug in a new update of a microsoft online service caused a sudden increases of issue reports related to a certain attribute combination.
this upward trend of issue reports continued for several days and incurred signi cant increase of support cost.
the emerging issues have negative impact on a large number of customers therefore they should be assigned a high priority for xing.
otherwise more customers could be a ected and more issue reports could be received.
in order to detect emerging issues the support engineers need to identify a particular attribute combination that can characterize the issues.
the attribute combination helps isolate the problem nd the root cause of the issue and bring the system back to normal.
we call such an attribute combination e ective combination since it characterizes an emerging issue.
in current practice among the microsoft support engineers we have talked with the identi cation of e ective combinations is largely performed manually e.g.
they use excel pivot table to look for the candidate attribute combina2016 ieee acm 38th ieee international conference on software engineering tions that may indicate the signi cant upward trend in the number of issue reports.
clearly when the number of attributes and attribute values are many support engineers need to search through a large number of possible attribute combinations in order to identify the e ective ones re ecting emerging issues.
detecting emerging issues could be very di cult because the burst of an emerging issue can be easily lost within the background noisy issue reports and no clear burst can be observed in the overall trend of all issues.
detection of such hidden emerging issues is a rather labor intensive and time consuming process.
we will elaborate more about this problem using a motivating example in section .
in this paper we propose idice an automated algorithm that helps support engineers identify the e ective combinations that are associated with emerging issues.
we formulate the problem of identifying emerging issues as a pattern mining problem given a volume of customer issue reports over a period of time the goal is to search for an attribute combination that isolates the entire multi dimensional time series dataset into two partitions one showing a signi cant increase of issue volume and the other not showing such an increase.
as the number of attribute combinations could be huge we design several pruning techniques to signi cantly reduce the search space.
we have performed experiments to evaluate the e ectiveness and e ciency of idice on both real world and synthetic datasets.
the f measure values achieved by idice are all above .
.
we have also successfully applied idice to the maintenance of microsoft online services and con rmed the usefulness of idice in industrial practice.
the contributions of this paper are as follows we propose idice an automated approach that helps support engineers e ectively and e ciently identify the e ective combinations that isolate the emerging issues.
we evaluate idice through in house experiments.
in addition we also apply idice to microsoft online service systems in production.
the results con rm the e ectiveness and e ciency of idice.
the rest of this paper is organized as follows.
in section we introduce the motivation of this work.
we formulate the problem of emerging issue identi cation and introduce idice in detail in sections and respectively.
in section we evaluate idice using experiments.
in section we describe the case studies where idice is applied to production online services.
we present the related work in section and conclude this paper in section .
.
motivation .
an example the research described in this paper is motivated by the real world requirements arisen from the maintenance of a microsoft online service.
every day the support team receives a lot of issue reports from customers around the world.
table i shows a sample of issue reports.
in the table each row represents one issue report.
each issue report has a set of associated attributes such as tenanttype productfeature productversion subscriptionpackage datacenter country useragent clientos and so on.
each attribute has multiple possible values and depicts a certain aspectof the context about the issue.
for example the attribute productfeature speci es the product feature with which customers encountered problems.
besides the attributes each issue report also has a time stamp that records the time at which the issue was reported.
most of the time the support team receives a relatively stable number of issue reports every day.
the issue reports contain many combinations of attributes such as country india tenanttype home datacenter dc1 country india tenanttype edu datacenter dc6 country uk tenanttype edu datacenter dc3 ... as mentioned in section sometimes the number of issue reports associated with a certain attribute combination could suddenly increase i.e.
an emerging issue could occur.
this could be due to a server side fault e.g.
a con guration error a software bug a compatibility issue or other software problems or a hardware related fault e.g.
hard disk crash network device failure etc.
.
for example figure shows a real emerging issue detected in .
the number of issue reports containing the following attribute combination signi cantly increased on december country india tenanttype edu datacenter dc6 further investigation showed that before december this attribute combination was associated with an average of issue reports per day.
starting from december the number of issue reports associated with this attribute combination rose to over per day.
this particular attribute combination characterized the emerging issue and provided useful information for problem investigation.
we call such an attribution combination e ective combination.
having identi ed the emerging issue support engineers quickly found out that these issue reports were related to a software con guration error which failed to create accounts for customers in india who were subscribed to the service through tenanttype edu.
therefore many customers contacted the microsoft support team asking for help.
the effective combination associated with the emerging issue provided useful information for support engineers to isolate the problem and locate the root cause.
nov nov nov nov dec dec dec dec dec dec dec dec dec dec issue reports datecountry india tenanttype edu datacenter dc6.
figure an example of emerging issue as demonstrated by this example it is important to e ectively and e ciently detect such emerging issues and their associated attribute combinations.
this not only helps resolve customer issues and increases customer satisfaction 215table sample issue reports for a microsoft online service system time tenanttype productfeature productversion package datacenter country useragent clientos ... dec home admin v15 rtm basic dc1 india ie7.
win8.
... dec home modify v15 rtm basic dc1 usa ie6.
winxp ... dec edu edit v16 sp1 lite dc3 uk firefox30.
win8.
... dec edu share v16 sp2 pro dc6 india ie7.
winxp ... dec enterprise share v15 rtm lite dc1 australia ie11.
win8.
... dec edu admin v16 sp1 ultimate dc6 india ie11.
win8.
... dec edu edit v16 sp2 pro dc6 india firefox31.
win7 ... but also helps reduce the support cost as more incoming support requests related to the same issue could be avoided.
.
challenge to detect emerging issues and identify the associated attribute combinations in current practice most of the time the support engineers manually explore di erent attribute combinations using a pivot table1 and look for candidate combinations that are associated with signi cant upward trend in the issue reports.
for example to detect the emerging patterns shown in figure the support engineers may rst aggregate the data by date.
they then look for potential emerging issues by selecting an attribute combination iteratively and summarizing the data table by that attribute combination.
however manual identi cation of emerging issues could be very di cult when support engineers cannot observe signi cant changes in the overall number of issues.
some emerging issues can only be observed under certain attribute combinations.
they may not always cause signi cant changes to the overall number of issue reports for the entire system.
for example in the motivating example the number of issue reports associated with the e ective combination fcountry india tenanttype edu datacenter dc6 g experienced a burst .
however because the support engineers actively resolved other issues the overall quality of the system was improved.
therefore the total number of issues for the entire system did not show any noticeable burst.
in this scenario the support engineers need to examine various attribute combinations one by one to detect emerging issues.
clearly the manual identi cation approach has the following problems ine cient if there are many attributes and each attribute has many di erent values there will be an explosive number of possible attribute combinations which makes manual identi cation expensive or even impossible.
for example if each issue report has attributes and each attribute has more than values then there are up to 108possible attribute combinations.
in order to locate the emerging issue as shown in figure support engineers might need to examine a huge number of candidate combinations.
obviously the manual identi cation approach does not scale.
ine ective the manual approach is often an ad hoc exploration of di erent attribute combinations.
the e ective attribute combinations may be missed.
the identi ed combinations may also contain redundancy and overlap.
to automate the identi cation of emerging issues simple frequent itemset mining approaches alone are not tablesu cient.
from table we can see that the dataset of issue reports has two characteristics.
on one hand it is time series data with temporal order on the other hand it is also multi dimensional data since each record has many attributes.
therefore the dataset of issue reports can be treated as an combination of multi dimensional data and time series data.
most of the closed itemset approaches only handle multi dimensionality without considering the temporal property.
they cannot detect the change point at which the volume of issue reports signi cantly increases.
furthermore the attribute combination associated with an emerging issue may not be the frequent patterns across the entire dataset.
this is because the number of data records associated with an e ective combination may only occupy a relatively small portion of the entire data space.
for example the total number of reports associated with the e ective combinationfcountry india tenanttype edu datacenter dc6 gmay be lower than the number of reports associated with the attribute combination fcountry usa tenanttype home gin the same month.
however the number of reports associated with the e ective combination experienced a burst while the others did not.
emerging pattern mining can be used to detect attribute combinations whose frequencies change signi cantly from one dataset to the other.
emerging pattern mining methods mainly target at dataset without temporal order while the issue report data is time series data.
therefore they cannot be directly applied to detect changes and isolate issues in issue reports.
in summary the problems of manual identi cation re ect a great demand on an automated tool for timely detection of emerging issues.
however there is no existing approach that can be directly used to solve this problem.
this motivates us to design a new approach to e ectively and e ciently identify the emerging issues in issue reports.
.
problem formulation .
effective combinations motivated by the great demand from the maintenance of real world software systems we design an approach to automatically identify the attribute combinations that characterize the emerging issues i.e.
the e ective combinations .
because issue report data could contain a large number of attribute combinations the challenge is to e ectively identify the e ective combinations from all the possible combinations.
the entire set of attribute combinations form a lattice structure through their subset superset relationships as illustrated in figure .
each node denotes an attribute combination each edge denotes a subset superset relationship.
216for two attribute combinations xandy if the data containingxis also included in the data containing y we call xa subset of yandya superset of x. for example abc is a subset of ab and ac.
figure e ective combination in figure the node lled with black denotes an e ective combination.
it can isolate the nodes with signi cant increases from other nodes that do not exhibit signi cant increases.
if an e ective combination xis the symptom of an emerging issue and it is related to the burst of issue report volume then all subsets of xshould also be affected by the same issue and exhibit certain degree of signi cant volume increases at the same time because other attributes are orthogonal to this emerging issue.
for example iffcountry japan productversion v16sp2 clientos win8.1gis an e ective combination indicating an emerging issue then all its subsets such as fcountry japan productversion v16sp2 clientos win8.
tenanttype edugandfcountry japan productversion v16sp2 clientos win8.
useragent ie7.
g should also experience signi cant increases in issue volume.
on the other hand the supersets of an e ective combination may or may not exhibit an increase in volume for the same emerging issue.
for example we may not see a noticeable burst from all reports aboutfclientos win8 1g.
.
requirements the e ective combinations should be able to provide information to help support engineers identify and isolate problems.
we have identi ed the following requirements for an e ective combination impactful support team needs to allocate limited resource to help as many customers as possible through resolving the most impactful emerging issues.
therefore an e ective combination should associate with an emerging issue that corresponds to a relatively large number of issue reports.
re ecting changes the identi ed attribute combinations should be able to separate themselves from the other attribute combinations.
that is the volume of issue reports associated with the identi ed attribute combination should exhibit a signi cant burst after the change point while the volume of reports associated with other attribute combinations does not exhibit the same burst along time.
less redundant the identi ed attribute combinations should be compact and concise because redundant results decrease detection accuracy and waste investigation e orts.
.
the proposed approach we propose idice an approach to automatic identi cation of e ective combinations characterizing the emerging issues.
the key challenges for idice is that the possible attribute combinations form a huge search space which makes it difcult or even impossible to check all the combinations one by one.
therefore the core algorithm of idice is to e ectively reduce the search space without missing the e ective combinations.
in order to achieve this goal we have designed the following pruning strategies according to the requirements described in section .
impact based pruning.
each e ective combination should be related to a large volume of issue reports which means that it has impacted a large number of customers.
we adopt an impact based strategy to remove the attribute combinations associated with small numbers of issue reports.
change detection based pruning.
e ective combinations should be able to re ect signi cant volume increases of issue reports.
therefore in the search process we prune o the attribute combinations that exhibit small or no changes in issue volume.
isolation power based pruning .
we use this strategy to remove the possible redundancy in the identi ed e ective combinations and to make the results concise and compact.
figure shows an overview of the idice approach.
idice takes as input the issue report data which is multi dimensional time series data such as the one shown in table .
each dimension denotes a categorical attribute of issues.
after preprocessing idice performs the following three steps to e ciently search for e ective combinations impactbased pruning change detection based pruning and isolation power based pruning.
finally the obtained results are ranked and returned to users.
in this section we rst introduce each of the major steps and then present the complete algorithm.
.
impact based pruning in order to e ectively reduce the search space we perform pruning based on the impact of attribute combinations.
we measure the impact of the attribute combinations as their corresponding issue volume.
we only consider the attribute sets associated with large volume of issue reports and prune o those without high enough volume.
to achieve so idice utilizes a mining algorithm to identify all the equivalent closed itemsets whose support value 2note that our approach works in batch mode.
this is because for the service products we worked with the issue data is provided in a batch scenario the data is rstly collected from di erent channels including phone call online form and onsite support and then uploaded to a centralized server for further analysis on regular basis after post processings such as data cleansing .
therefore we are unable to get data in a real time manner.
217effective combinations change detection based pruningimpact based pruningissue reports isolation power based pruningresult ranking attribute combinationsfigure an overview of idice is larger than a user de ned support threshold.
there are many closed itemset mining algorithms available and any one of them can be applied.
in our implementation we use the bfs breadth rst search based closed itemset mining approach .
we ignore the time stamp information of the issue reports and apply the bfs based closed itemset mining algorithm on the entire dataset d. clearly the resultant closed itemsets xcontain all the attribute combinations leading to the emerging issues.
it is straightforward to prove that xobtained from dcontain all the closed itemsets obtained from any supersets of d. as a property of e ective combination if one attribute combination has no su cient volume it is obvious that all its subsets do not have enough volume either refer to section .
thus we can directly remove this attribute combination together with all its subsets.
as an example considering the following two attribute combinations x f country india tenanttype edu datacenter dc6 g y f country usa tenanttype edu datacenter dc1 g if the occurrence of yis low i.e.
lower than the support threshold and the occurrence of xis high i.e.
higher than the support threshold yand all its subsets will be pruned o andxwill remain.
.
change detection based pruning in addition to being impactful the attribute combinations we look for should also be related to emerging issues.
in other words we need to nd out the attribute combinations that correspond to signi cant increases in issue report volume i.e.
the bursts .
for each closed itemset obtained after impact based pruning we check whether the corresponding volume of reports has a signi cant increase.
to achieve so we consider the time stamp information of the data and build time series data for the closed itemsets.
each data point in the time series denotes the volume of reports that contains the corresponding closed itemsets at a particular time stamp.
we then apply change detection algorithm to detect the change points i.e.
the points where issue bursts occur in the timeseries data.
in our implementation we adopt glr generalized likelihood ratio as the change detection algorithm.
change detection can be formulated as a hypothesis testing problem.
suppose the values of a time series t a distribution if there is a change the values during the change region conform to another distribution .
here the hypothesis h0 corresponds to no change andh1corresponds to change .
glr maintains a threshold.
given a few continuous data points if the sum of their logarithm likelihood ratio is greater than the threshold these continuous data points are detected as a change region.
the rst point of the continuous data points is deemed as the change point .
for example in figure the points from dec to dec constitute a change region and the point of dec is a change point.
for the time series data without any change points the corresponding attribute combinations will be pruned.
as an example considering the following two attribute combinations x f country india tenanttype edu datacenter dc6 g y f country uk tenanttype home datacenter dc1 g their corresponding time series are sxandsy respectively.
if we detect that the occurrence of sxhas a signi cant change e.g.
from to starting from dec i.e.
change point while sydoes not have a signi cant change over time then ywill be pruned and the change point of sxwill be used in follow up isolation power based pruning.
.
isolation power based pruning as discussed in section an e ective combination should be able to isolate the attribute combinations that exhibit changes from the other combinations that do not.
this property can help us further remove the possible redundancy in the obtained itemsets.
to achieve so we propose the notion ofisolation power ip x a b xaln1 p ajx xbln1 p bjx a xa ln1 p aj x b xb ln1 p bj x letsxbe the time series data corresponding to the attribute combination x xadenotes the volume of time series data insxduring the change region of x andxbdenotes the volume of time series data in sxbefore the change point of x. adenotes the entire volume during the change region ofx and bdenotes the entire volume before the change point ofx.
all denote the mean value of the corresponding time series.
also p ajx xa xb xa p bjx xb xb xa p aj x a xa a b xb xa p bj x b xb a b xb xa.
the proposed isolation power is based on the idea of information entropy .
as discussed in section and illustrated by figure the entire set of attribute combinations form a lattice and every node in the lattice can split the dataset into two parts the issue reports that contain the attributes and the reports that do not contain the attributes.
if an attribute combination is an e ective combination all its subset 218nodes in the lattice exhibit signi cant increases in the same change region but its sibling nodes do not.
therefore an e ective combination is the node that can exactly split the entire dataset into two parts with and without a signi cant increase.
according to the information theory the overall entropy of two datasets e.g.
aandb where each dataset aorb contains samples with an identical property e.g.
all of them exhibit increases or all of them do not exhibit increases is much smaller than the entropy of two datasets where samples with di erent properties are mixed together.
based on this concept we calculate isolation power to mimic the calculation of entropy.
during the search process if the current set has a higher isolation power than its direct supersets and subsets then the current set is an e ective attribute combination satisfying the requirements for e ective combinations described in section .
in this case all its subsets will not be searched.
in this way we can reduce search space using the isolation power measure.
considering a simple example with three attribute combinations x f country indiag y f country india tenanttype edu datacenter dc6 g z fcountry india tenanttype edu datacenter dc6 package liteg ifyhas a higher isolation power than its subset zand supersetx ywill be considered and zandxwill be removed from the search space.
.
result ranking in real world scenarios we may obtain a set of e ective combinations from the data.
we rank the e ective combinations according to their relative signi cance.
we adopt a score similar to fisher distance for the ranking r pa lnpa pb in the above equation pdenotes the ratio p vxt vt wherevxtdenotes the volume of current e ective combination during a time period tandvtdenotes the total volume duringt.pa pbare the ratios during the detected change region i.e.
the time period of a change and before the detected change point i.e.
the starting point of a change region respectively.
we can see from equation that the score r considers the global impact of the combination.
if two combinations have the same change ratio which means that they have the same trending signi cance we will rank the one with larger volume higher re ects the change ratio throughpa pb.
the attribute combination with a very low rscore is considered less signi cant and can be pruned away.
in our implementation we prune away the attribute combinations whose r score is lower than a cuto threshold which is empirically set to .
in our implementation .
finally we rank the remaining attribute combinations and output them as thee ective combinations.
.
the overall algorithm the pseudo code for identifying e ective combinations is shown in algorithm .
the algorithm takes the issue report data which is multi dimensional time series data as input and searches for e ective combinations that are associated with emerging issues.
the preprocessing at linealgorithm idice d input d issue reports multi dimensional time series data.
output p the e ective combinations.
1preprocessing dataset d while true do bfs based closed itemset mining on d pi bfscloseditemset getnext if pi null then break impact evaluation pi if impact ofpi minimum support then remove the current set pi skip all subsets of pi continue 11si mappiinto time series form perform change detection on si ifsihas no change point then continue evaluate isolation power of pi if isolation power of pi isolation power of pi s direct subsets then addpito the candidate list p skip all subsets of pi continue result ranking foreach pinpdo calculate the ranking score rp ifrp cuto threshold then removepfromp continue rankpby its signi cance rp 27returnp includes data cleaning which is to lter out the obvious noise attributes in the dataset e.g.
all the null values.
for each closed itemset pireturned by the bfs breadth first search based closed itemset mining process idice performs impact based pruning lines change detection based pruning lines and isolation power based pruning lines .
these steps prune away attribute combinations and reduce the search space making it possible to identify e ective combinations from a large number of attribute combinations.
lines to denote the result ranking part of idice.
.
evaluation in this section we describe our experimental evaluation of idice.
we aim to answer the following questions rq1 how e ective is idice in detecting emerging issues?
rq2 how e cient is idice in detecting emerging issues?
rq3 how does idice perform under di erent con gurations?
.
setup datasets .
we use two datasets to evaluate the e ectiveness of idice.
219microsoft service x service x is a geographically distributed external facing web based online service serving hundreds of millions of end users.
during a certain period of time the support team encountered a burst in the number of issue reports.
we collected the actual issue report data which contains more than ten thousand issue reports collected in early .
each report has two attributes application and datacenter apart from the time and id attributes .
the application attribute has values a1 a5 .
the datacenter attributes has values dc1dc10 .
there are total emerging issues in this dataset which are veri ed by the domain experts in the product team.3due to sensitivity reasons we omit and anonymize the detail information about the dataset.
synthetic to further evaluate idice we also design a simulation dataset.
we rst randomly generate a day dataset with issue reports on each day.
each issue report has attributes and each attribute has distinct values.
a randomly generated combination of attribute values is then assigned to each report.
in this way we create a synthetic dataset with data points.
we then simulate the occurrence of a single emerging issue as follows.
first we randomly select an attribute combination feto represent an error pattern and a day dcas the change point i.e.
the day whenfeoccurs.
second we increase the number of issue reports containing feby a random value e.g.
between and .
third we perform such increment for feeach day after the change point dcuntil the 60thday.
in this way we get the resultant dataset seeded with one emerging issue.
similarly we generate a dataset to simulate the occurrence of two emerging issues.
during the evaluation we randomly seed the emerging issue s perform the detection and calculate the evaluation measures.
we repeat such process n times and compute the average results.
measures .
we use f measure recall andprecision metrics to evaluate the e ectiveness of idice.
the f measure is de ned as follows f measure precision recall precision recall whereprecision tp tp fpandrecall tp tp fn.
here tp true positive is the number of actual e ective combinations correctly reported by idice.
fp false positive is the number of wrongly reported e ective combinations.
tn true negative is the number of non e ective combinations that are correctly reported by idice.
fn false negative is the number of e ective combinations that are not reported by idice.
the higher the metric values the better the detection performance.
in addition we measure the execution time in seconds to evaluate the e ciency of idice.
hardware.
the experiments were run on a pc with intel r core tm i7 cpu .34ghz with 16gb ram .
comparison algorithm .
we compare idice with dpminer which is one of state of the art algorithms for mining emerging patterns.
dpminer detects emerging pat3we choose this dataset because it has quality labels veri ed by domain experts.
although we do have other real datasets that have a larger number of attributes the quality of their labels may be insu cient due to the di culties of manual identi cation e ort as described in section .
furthermore such real issue reports cannot be labeled by non domain experts due to lacking of domain knowledge.table evaluation results on microsoft service x dataset metrics idice dpminer recall .
.
precision .
.
f meaure .
.
table evaluation results on synthetic dataset single issue two issues metrics r p f r p f idice .
.
.
.
.
.
dpminer .
.
.
.
.
.
r recall p precision f f measure terns which are itemsets whose support rates increase signi cantly from one dataset to the other.
as described in section emerging pattern mining techniques such as dpminer is not originally designed for mining e ective combinations because it does not support change detection in time series data.
also there are no pruning strategies based on isolation power.
in our experiment to enable comparison we manually set the data before the change point dcas one database and the remaining data as the other database.
we then apply dpminer and compare its results with those produced by idice.
.
experimental results .
.
rq1 the effectiveness of idice according to the setup described in section .
we conduct experiments to evaluate idice using both microsoft service x data and the synthetic data.
the impact threshold is set to .
for microsoft service x data idice is able to achieve good results as shown in table .
the recall precision and f measure values are .
.
and .
respectively.
furthermore idice signi cantly outperforms the dpminer approach.
the improvement on f measure is .
for the synthetic data we run idice with single and two seeded emerging issues.
each experiment is performed times.
the average results are shown in table .
for the single issue and two issue experiments the f measure achieved by idice is .
and .
respectively.
these results are considered satisfactory.
idice also outperforms dpminer in terms of f measure.
although dpminer is able to detect all e ective attributes recall is it produces many redundant and irrelevant results leading to low precision values.
the reason why dpminer performs worse than idice is that it does not utilize the isolation power pruning strategy as designed by idice.
as a result there are many redundant and noisy itemsets in the results.
.
.
rq2 the efficiency of idice to evaluate the e ciency of idice we measure the execution time of idice on the two datasets microsoft service x and synthetic .
for each dataset we select an increasing percentage of records and run both idice and dpminer until all records are selected.
we then compare the performance of idice and dpminer under di erent data sizes.
the evaluation results are shown in figure and figure .
on both datasets the execution time of dpminer increases 220sharply when the data size increases while the execution time of idice stays relatively steady.
the results con rm the usefulness of the pruning strategies adopted by idice.
overall our experiments show that idice is e ective and e cient in identifying e ective combinations for emerging issues.
idice also performs better in terms of both e ectiveness and e ciency than the related approach dpminer .
figure the performance of idice on microsoft service x dataset figure the performance of idice on the synthetic dataset .
.
rq3 idice under different configurations as described in section .
idice uses a parameter the impact threshold i.e.
the minimum support for impactbased pruning because we are only interested in the attribute combinations that are associated with a large volume of issue reports i.e.
above the threshold .
currently we allow users to set this parameter empirically based on their domain knowledge.
di erent values of the parameter could lead to di erent results.
for example if the impact threshold is too high some useful information may be removed during the search process.
on the other hand if the threshold is too low the results could contain some redundant and noisy information.
to understand the impact of di erent threshold settings on the results we evaluate the e ectiveness of idice un der di erent minimum support rates varying from .
to of the total data.
the results for the synthetic dataset is shown in figure .
initially when the minimum support rate is .
the f measure is about .
.
when the minimum support rate increases from .
to the fmeasures achieved by idice are around .
and remain relatively constant.
when the minimum support continues increasing the f measure starts to drop.
this is because the number of data points exceeding minimum support is rare.
to summarize the results show that when minimum support is properly set idice is able to achieve consistently good results.
figure e ectiveness of idice with di erent minimum support values as described in section .
idice selects only attribute combinations that are associated with signi cant volume changes and uses the glr method to detect the changes.
in our experiments on the synthetic dataset we simulate an emerging issue by increasing its occurrence by a certain amount between and .
here we study the impact of di erent degrees of volume changes i.e.
di erent degrees of burst on the results.
to do so for the seeded attribute combination after the change point we insert the number of issue reports randomly drawn from the following intervals and .
in this way we create different synthetic datasets.
we then evaluate the e ectiveness of idice on each dataset.
the results are shown in figure .
we can see that when the number of seeded issues increases from to the e ectiveness of idice increases too.
the results indicate that idice performs better if the degree of burst is high.
.
threats to validity we have identi ed some threats to validity that should be taken into consideration when using idice.
large number of issue reports idice is designed to help support engineers quickly detect emerging issues in a large number of issue reports based on data mining and statistical analysis.
it is thus suitable for large scale softwareintensive systems that are experiencing a long period of evolution and have received a large number of issue reports over time.
for a small or short lived system the number of issue reports is often small thus making the statistical analysis inappropriate.
lack of ground truth for validation in practice the amount of issue reports for a large scale system is huge and 221figure the e ectiveness of idice under di erent degree of burst keeps increasing.
furthermore the issue reports could contain a large number of attribute combinations.
it is very time consuming for support engineers to manually identify and verify each and every emerging issue as well as the associated e ective combinations.
furthermore such real issue reports cannot be labeled by non domain experts due to the lack of domain knowledge.
therefore it is very di cult for us to obtain a large scale real dataset with high quality labels.
to overcome this threat in our experiments we used a relatively smaller dataset from microsoft service x which has quality labels veri ed by domain experts in the product team.
we have also designed a synthetic dataset and manually seeded issues into the dataset.
furthermore we have applied idice to real world online service systems and con rmed its e ectiveness in practice.
.
successful stories in industrial practice we have successfully applied idice to the maintenance of microsoft service y which is a large scale widely used online service system.
the dataset of service y contains attributes including feature country topic package quantitysize datacenter appversion osversion etc.
and 1012attribute combinations.
using a brute force method it may take 108seconds to analyze the combinations which is inapplicable in practice.
idice helped the support team of service y identify and resolve emerging issues.
in this section we present two successful stories of idice.
we omit and anonymize some details for con dentiality reasons.
.
the mobile client issue in june the service y team experienced a sudden increase of support requests.
this upward trend of issue reports continued for several days and the team was not able to locate the problem manually during those days.
although service y team eventually found the problem and xed it the maintenance cost signi cantly increased due to the large number of support requests received during this period.
in order to reduce the support cost service y team looked for techniques to help them quickly and e ectively detect the emerging issues.
as requested we ran idice over the issue data of service y and successfully detected the signi cant upward trend in the support request volume starting in june .
as suggested by the identi ed e ective combination we found that this emerging issue was related to a version update of service y s mobile client.
a software bug in the new mobile client caused an ui problem which triggered the high volume of issue reports asking for help from the support team.
had idice been used immediately after this incident occurred a large amount of support cost in millions dollars could have been reduced.
.
the double billing issue idice helped service y team detect more emerging issues after it was used in production.
one example is the double billing issue as follows.
in november idice detected a signi cant upward trend in the support request volume figure .
the corresponding e ective combination is fissuecode doublebilled country unitedstates feature creditrequestg.
as indicated by the e ective combination this emerging issue occurred in the us market and was related to credit request and double billing.
using this information the support team quickly diagnosed the problem and located the root cause which was related to a vendor f. for the customers who used the charging service provided by f a software bug in the service caused the double billing problem.
idice enabled the support team to quickly diagnose and x this emerging issue thus reducing the cost for handling support requests and improving customer satisfaction.
issue reports november 2013changepoint issuecode double billed country united states feature credit request figure an emerging issue of double billing for microsoft service y .
related work .
the analysis of issue reports many customer issues could be reported against a large and complex software system.
the issues could be caused by program bugs miscon gurations operation errors or environments.
over the years there have been many empirical studies on the characteristics of issues of software systems.
various methods have also been proposed to detect such issues.
for example li et al.
and chou et al.
manually collected bugs from large scale open source projects such as mozilla and apache web server and analyzed the bug characteristics.
they classi ed the bugs into different categories such as root causes impacts and software components and studied the correlation between categories.
zhang and kim studied the changes in bug report volume over time.
they identi ed six common quality evolution patterns such as impulse short dramatic increase of bug volume and hills long lasting high volume of bugs .
222their research suggests that the quality of an evolving software system is constantly changing.
kenmei et al.
applied arima time series to model and forecast the trend of issue requests for open source projects.
li et al.
studied software usage characteristics and investigated how they are related to eld quality and how they di er between preand post release.
they identi ed the ve most important usage characteristics through general linear regression.
kastner et al.
analyzed complete con guration spaces of a highly con gurable software system to detect some classes of issues.
menzies et al.
proposed machine learning based methods for learning from bug datasets succinct rules that explain quality issues.
our work on idice integrates closed itemset mining change detection and pruning techniques to detect emerging issues in multi dimensional time series issue report data.
many bug prediction techniques e.g select a small set of important features that can best predict the defect proneness of a software module.
our work focuses on the selection of features attributes that characterizes the emerging issues.
kim et al.
found that only to crashes account for the large majority of crash reports for firefox.
if these top crashes are not xed more crash reports are expected.
they trained a machine learner on the features of top crashes of past releases and predict the top crashes before a new release.
bird et al.
found that the reliability of a software system depends on the environment it operates in.
they performed an empirical study of more than windows users and identi ed many factors that a ect system reliability.
they also applied association rule mining to detect the in uence of factor combinations on reliability.
our work detects a set of attributes features that are associated with a signi cant change of issue reports.
epifani et al.
targeted at the problem of identifying change points concerning the reliability and performance of a software service.
their approach is based on executions trace produced by client invocations and only tries to detect change points.
nguyen et al.
detected performance regressions by analyzing a large number of performance counters using control charts.
idice works on customer issue reports.
it identi es not only the change points but also the e ective attribute combinations that are associated with the changes.
.
frequent and emerging pattern mining frequent pattern mining has been widely used in software engineering research for problems such as bug detection and api usage mining .
our work on idice is related to emerging pattern mining which is not well explored by se community.
an emerging pattern is de ned as an itemset whose support rate increases signi cantly from one dataset to the other .
zhang et al.
proposed an improved algorithm for emerging pattern mining named consepminer which utilizes two types of constraints external constraints and inherent constraints to prune the search space e ectively.
although these constraints are the basis of many posterior ltering methods the algorithm could delete some important patterns which adversely a ects the detection accuracy.
bailey et al.
introduced the rst tree based approach for mining jump emerging patterns which are patterns not occurring in the background data.
unlike the traditionalfp trees in their approach the count of each item is split into two values count of an item in the rst dataset and count of an item in the second dataset.
li et al.
introduced dpminer which is an improved algorithm of .
in our work dpminer is used as a baseline algorithm for comparison.
di erent from aforementioned methods for mining emerging patterns idice has the following characteristics the data characteristic is di erent the related emerging pattern mining methods mainly target at dataset without temporal order while idice supports time series data.
the goal is also di erent idice targets at mining the attribute combination with the most isolation power in one dataset while the related methods focus on mining all itemsets whose support values are di erent from one dataset to the other.
regarding the pruning criteria the related methods mainly de ne impact thresholds for pruning while idice performs pruning based on impact change detection and isolation power.
therefore the results of idice have not only isolation power but also less redundancy.
these characteristics make idice more suitable for issue diagnosis where both e ectiveness and e ciency are desired.
.
conclusion problem identi cation for emerging issues is important for the maintenance of large scale software systems especially online service systems.
in this paper we aim to identify an e ective combination that is associated with a signi cant volume increase of issue reports.
we have proposed idice an approach for identifying e ective combinations for emerging issues.
our experiments demonstrate the e ectiveness and e ciency of our approach.
we have also applied idice to the maintenance of several microsoft online services and the results con rm the usefulness of idice in practice.
in the future we will make idice a distributed algorithm that is capable of supporting ultra large scale datasets.
furthermore we will also apply idice to solve other software engineering problems such as the identi cation of miscongurations for a large and complex software system.
acknowledgment we thank the intern students chenhui wang chen luo hongzhi chen hongbo zhao kelu diao and yudong xiao for their helpful discussions and the initial implementation of idice.
we thank partners at microsoft product teams for their collaboration and suggestions on the application of idice in practice.
.