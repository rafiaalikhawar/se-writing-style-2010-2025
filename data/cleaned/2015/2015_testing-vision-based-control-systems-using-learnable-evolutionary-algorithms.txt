testing vision based control systems using learnable evolutionary algorithms raja ben abdessalem shiva nejati lionel c. briand snt centre university of luxembourg benabdessalem nejati briand svv.luthomas stifter iee s.a. luxembourg thomas.stifter iee.lu abstract vision basedcontrolsystemsarekeyenablersofmanyautonomous vehicularsystems includingself drivingcars.testingsuchsystems is complicated by complex and multidimensional input spaces.
we propose an automated testing algorithm that builds on learnable evolutionaryalgorithms.these algorithmsrelyonmachinelearningoracombinationofmachinelearninganddarwiniangenetic operators to guide the generation of new solutions test scenarios in our context .
our approach combines multiobjective populationbased search algorithms and decision tree classification models to achievethefollowinggoals first classificationmodelsguidethe search basedgenerationoftestsfastertowards criticaltestscenarios i.e.
testscenariosleadingtofailures .second searchalgorithms refine classification models so that the models can accurately characterizecriticalregions i.e.
theregions ofa testinput spacethat are likely to contain most critical test scenarios .
our evaluation performedonanindustrialautomotiveautomotivesystemshows that our algorithm outperforms a baseline evolutionary search algorithmandgenerates78 moredistinct criticaltestscenarios comparedtothebaselinealgorithm.
ouralgorithmaccurately characterizes critical regionsof the system under test thus identifying the conditions that are likely to lead to system failures.
ccs concepts software and its engineering software testing and debugging search based software engineering keywords search based software engineering evolutionary algorithms software testing automotive software systems acm reference format raja ben abdessalem shiva nejati lionel c. briand and thomas stifter.
.
testing vision based control systems using learnable evolutionary algorithms.
in icse icse 40th international conference on software engineering may june gothenburg sweden.
acm new york ny usa pages.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
introduction autonomous or self driving vehicles are just around the corner.
increasingly more companies are ramping up their self driving technologies and teams.
many automotive companies take on road test initiatives to drive their fleets of autonomous vehicles on real roads.
however there is a large difference between building a few cars to drive under controlled conditions versus large scale production of millions of vehicles that have to operate under realistic and sometimes critical conditions .
on road testing of autonomous cars is typically restricted to a small number of vehicles driven by professionalsafetydriversduringspecifichoursonsomedesignated roadswithspecificspeedlimits.suchtestingisoftenexpensiveand time consuming.
itis furtherimpractical to performa full fledged on road vehicle level testing after every change to self drivingsoftware systems.
to ensure safety of self driving technologies vehicle leveltestingaloneisneitherenoughnorpractical.therefore itneedstobecomplementedbytestingmethodsperformed on computer software simulators .
in this paper we focus on simulation based testing of visionbased control systems.
in the automotive domain they are referred to asadvanced driver assistance systems adas and are main enablers of self driving cars.
examples of adas include automatic parking night visionand collisionavoidance systems.simulation platforms for adas allow engineers to run a much larger number of test scenarios compared to vehicle level testing without being limited by conditions enforced during on road testing.
themaindifficultywithsimulation basedtestingofadasisthat the spaceof test inputscenarios is complex andmultidimensional.
engineers require techniques thatallowthem to explore complex testinputspacesandtoidentify criticaltestscenarios i.e.
failurerevealing test scenarios .
similar to existing work we rely on evolutionary search techniques to help engineers explore the complex input space of adas and to identify critical test scenarios.
it is arguedthat for testing at the system level search based techniques arebest suited .
they provide effective and flexible guidance for testgeneration goingbeyondtestgenerationbasedonstructural coverage that is not often effective or scalable for system testing.
evolutionary algorithms work by iteratively sampling the input space selectingthefittestscenarios criticaltestscenariosinour work andevolvingthefittestusinggeneticsearchoperatorstogenerate new scenarios .
the scenarios are expected to eventually move towards the fittest regions in the input space.
these algorithms are able to effectively guide the generation of test scenarios towards the most critical ones and can provide useful results regardlessofspecifictimeconstraintsand the size of the input space.
acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden raja ben abdessalem shiva nejati lionel c. briand and thomas stifter even though evolutionary search algorithms often scale well to largeinputspaces theirabilitytoeffectivelyidentifycriticaltest scenarios may diminish as the search space increases in size and dimensions.thisismostlybecausethesearchmaybestuckinlocal optima in less critical parts of the input space .
in this paper we provide an algorithm to improve effectiveness of the evolutionary search for large and multidimensional input spaces.ouralgorithmbuildson learnableevolutionmodels amachinelearning guidedformofevolutionarycomputation .
specifically we propose to use the set of scenarios generated at intermediary search iterations to build decision tree classification models .decisiontreeslearnthecharacteristicsofthecritical testscenariosandidentifycriticalregionsinaninputspace i.e.
the regions of a test input space that are likely to contain most critical test scenarios .
we then focus the subsequentsearch iterations onthe critical regions generating and evolving more critical test scenarios within those regions using genetic operators.
we iteratively builddecisiontreesfollowedbysearchiterationsfocusedoncritical regions identified by the trees.
the process stops when we run out ofoursearchtimebudget.ouralgorithm inadditiontoguidingthesearchtowardsthecriticaltestscenariosfaster producesadecision treemodelthatidentifiesthecriticalregionsofthesystemunder test.thecriticalregioncharacterizationshelpengineersunderstand the conditions on input variables that may lead to failures.
the contributions of this paper are summarized below we propose a lightweight formalism for adas i.e.
visionbased control systems used in self driving cars .
our formalism specifies adas input and output variables and their critical behaviors.
our formalism is developed based on our analysis of different adasexamples see aswellasthecharacteristicsofawidelyused industrial adas simulation tool .
we propose a system testing algorithm that combines evolutionarysearchalgorithmsanddecisiontreeclassificationmodels.
ouralgorithmhastwomainobjectives whichareimportantinthe context of testing adas systems first classification models guide the search based generation of tests faster towards critical test scenarios.
second search algorithms refine classification models so that the models can accurately characterize critical regions.
ourevaluationperformedonanindustrialadasshowsthat our algorithm outperforms a baseline evolutionary search algorithm and generates more distinct critical test scenarios compared to the baseline algorithm.
based on our interviews with three engineers at our partner company iee the critical region characterizations obtained by our algorithm while being understandableand intuitive help engineersdebug theirsystems identify hardware changes to increase adas safety and specify conditions that are likely to lead to adas failures.
thepaperisstructuredasfollows section2motivatesourwork.
section provides an adas formalization.
section describes our approach.
section evaluates our approach.
section compares our work with the related work and section concludes the paper.
motivating case study figure1showsanoverviewofanadasexamplereferredtoasthe automated emergency braking aeb system.
its main function is toidentifypedestriansinfrontofavehicleandtoavoidcollision fov brake request decision making vision camera sensorbrake controller objects positionfield of view figure an example of a vision based control system au tomated emergency braking aeb system.
by applying the brake when it is necessary.
aeb has three main components the sensor component.
this component identifies the position and speed of objects in a cone shaped area in frontof a vehicle i.e.
the field of view .
it also computes the time to collision ttc that measures the time required for a vehicle to hit an object if both continue with the same speed and do not change their paths .
when an object is detected in front of a vehicle andwhenthettcisbelowadefinedthreshold theobjectpositionissenttothevisioncomponent.
thevision camera component.
thiscomponentdetectsobjecttypesandshapesafterreceivingtheir positions from the sensor component.specifically they determine whethertheobjectisapedestrian humanoranimal acar atrafficsign etc.
then the system is able to decide whether braking is neededandsendsacommandtothebrakecontrolcomponentwhenitisnecessary.
thebrakingcontrolcomponent.
thiscomponent applies the braking request.
to simulate aeb we use the prescan simulator .
prescan is a widely used commercial adas simulator in the automotivesector and has been used by iee.
it allows us to define and executescenarioscapturingvariousroadtrafficsituationsanddifferent pedestrian to vehicle and vehicle to vehicle interactions.
inaddition using prescan one can vary road topologies weather conditions and infrastructures in test scenarios.
figure2showsadomainmodelcapturingthetestinputspace and the output of aeb.
based on our analysis we categorize the aeb input variables into two categories i.staticinputvariables.thevaluesofthesevariablesarefixed during adas simulation and they include different road types e.g.
straight curvedorramped .forthecurvedandrampedroads we specify the curve radius and the ramp height respectively.
different weather types normal rainy and snowy.
for each of the snowy and rainy weather types we specify the level of precipitation.foreachweathertype wemayormaynothavefogwith differentdensitylevels.finally wespecifyavisibilityrange i.e.
the distanceatwhichtheobjectscanbeclearlyseen.asfigure2shows wehavedefinedenumerationsfortheroadradiusandheight the levelofprecipitationforrainandsnow fogdensity andvisibility range.accordingtothedomainexpertsiniee theseenumerationsprovide a desired level of granularity for analysis and hence static variables do not need to be real or integer.
ii.dynamic mobile objects.theyindicateobjectsthatchange their positions during adas simulation i.e.
pedestrians and ve hicles.
for aeb we consider two mobile objects one pedestrian and one vehicle and assume linear trajectories for them.
these assumptionsaremeanttoreducethecomplexityoftestscenariosand were suggested by the domain experts.
for the vehicle we require to know its initial speed vc .
the pedestrian has four variables authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
testing vision based control systems using learnable evolutionary algorithms icse may june gothenburg sweden visibility visibilityrange fog boolean fogcolor fogcolorweather frictioncoeff realroad v0 realvehicle real real real realpedestrian simulationtime real timestep realtest scenario moderaterain heavyrain veryheavyrain extremerain enumeration raintype moderatesnow heavysnow veryheavysnow extremesnow enumeration snowtype dimgray gray darkgray silver lightgray none enumeration fogcolor1weatherc ocl self.fog false implies self.visibility and self.fogcolor none straight height rampheightramped radius curvedradiuscurved snowtype snowtypesnow raintype raintyperain normal enumeration curvedradius cr enumeration rampheight rh enumeration visibilityrange ttc real certaintyofdetection real braking booleanaeb output real realoutput functions mobile objectposition vector x real y realposition11 static input1 output11 dynamic inputxp yp vp p 0vc v3v2v1 f1 f2 figure the aeb domain model.
range range range p xp yp 0range range range p xp yp 0range range range p xp yp 0curved road ramped road straight road figure the ranges of the pedestrian position xp yp and orientation p for different road topologies.
characterizing its initial position along x and y axes and relative to the position of the vehicle xp yp its orientation angle p anditsinitial speed vp .thedynamicobjectsvariablesarefloat.
figure shows the ranges for the pedestrian initial position and orientationvariableswhentheroadiscurved rampedandstraight respectively.
the ranges for vehicle and pedestrian speed variables are and respectively.
in additionto variableranges the validinputs of adasare determined by constraints defined over the input variables.
these constraintsareeitherdefinedonstaticinputvariables ortheyspecify how value assignments to static variables impact the ranges of the mobile object variables.
an example of the constraints defined over aeb static variables is shown using the ocl language infigure2 seeweatherc ocl .theconstraintstatesthatwhen there is no fog the visibility range is set to maximum.
the constraintsthatrelatestaticvariablesofaebtorangesofmobileobject variables are captured in figure .
specifically the figure specifies thevalidrangesforpedestrianpositionandorientationvariables corresponding to different road topologies.
adas simulations have two outputs i.position vectors for mobile objects i.e.
position vectors for the vehicle and the pedestrian in the aeb case study .
the position vector related to each mobile objectstoresthepositionofthatobjectateachsimulationtimestep.
ii.functionspecificoutputvariables eachadas dependingonits function producessomeoutputs.forexample aebproducesthree outputs correspondingto itsthree maincomponents time to collision ttc generatedby thesensorcomponentand discussed earlier.
certaintyofdetection generatedbythevisioncomponent whichisapercentage valueindicatingtheprobabilitythatthedetectedobjectisapedestrian.
brakingthatindicateswhethera braking request has been triggered.
the following describes the main aeb critical or failure behavior extracted from the aeb requirements aeb detects a pedestrianin front of the car with a high degree of certainty but an accident happenswherethecarhitsthepe destrianwitharelativ elyhighspeed i.e.
more than 30km h .
we denote this critical behavior by cb and refer to any aeb simulation scenario exhibiting this behavior as acritical test scenario of aeb.
thetestinputspaceofaebislargeandmultidimensional.as we will specify in section it consists of four enumeration static and five float dynamic variables.
considering only the static aeb variables theirtotalnumberofvalueassignmentsis11 .further aeb simulations and ingeneral adassimulations arecomputationallyexpensive.thisisbecausetheunderlyingsimulator e.g.
prescan buildsonhigh fidelitymathematicalmodelsandtakesa relativelylargeamountoftimetorun e.g.
onaverage eachaeb simulation takes1.
min .our goal isto providean effectivealgorithmthat withinareasonabletestingtimebudget generates aeb critical test scenarios i.e.
those exhibiting cb and identifies under what conditions on the aeb input variables such critical scenariosaremorelikelytooccur.thelatterwillprovideengineers withcriticalregioncharacterizations allowingthemtobetterunderstandtheconditionsunderwhich aeb fails to behave correctly.
adas formalization in this section we formalize an adas system and its environment.
our formalization is meant to help define our algorithm precisely andtodemonstratehowourworkcanbeappliedtootheradas systems.
our formalization is developed based on our analysis ofdifferentadasexamples andtheinputandconfiguration variablesoftheprescantool .genericdescriptionsofouradas examples can be found on the bosch website .
definition3.
.
wedefineanadasasatuple s o i d c where s s1 ... sn isasetof variables specifying immobile static environment aspects.
ois a set of mobile objects pedestrians and vehicles .
i i1 ... im isasetofvariablesspecifying initialstates of the mobile objects in o. each variable in iis related to one mobile object in o while each mobile object o ois related to one or more variables in i. disasetofdomainsofvaluesforvariablesin s i.inparticular dis partitioned into dsanddi d ds di such that ds d1 ... dn is a set of finite value sets to variables in s while di d prime ... d primem is a set of infinite value sets to variables in i. specifically djis the set of values for sj s andd prime jis an interval ofrealvaluesspecifyingthevaluesthat ij icantake.
cisasetofbooleanpropositionalconstraintsover s i.the setcis partitioned into csandcisuch that constraints in csare definedonfinite domainvariablesin s andconstraintsin cirelate finite domain variables in sto infinite domain variables in i. example .
.
we formalize aeb in figure as follows static variables s s1 precipitation s2 fogginess s3 road shape and s4 visibility range .
mobile objects o o1 vehicle and o2 pedestrian .
dynamicvariables i vc initialspeedofvehicle vp initial speed of pedestrian xp initial position of pedestrian on the xaxis yp initial position of pedestrian on the y axis and p the orientation of pedestrian .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden raja ben abdessalem shiva nejati lionel c. briand and thomas stifter the domain of s1is the union of raintype and snowtype enumerationsinfigure2aswellasavaluefornormalweather.variable s2takes valuesfrom the fogcolorenumeration.
thedomain of s3 is the union of rampedheight and curvedradius enumerations and a value for the straight road.
variable s4takes values from thevisibilityrangeenumeration.therangesfordynamicvariables were discussed in section .
theconstraintsoverstaticvariables cs relatetheleveloffog s2 to the visibility range s4 .
an example of a csconstraint is s2 dimgray s4 ... s4 .theconstraintsover staticanddynamicvariables ci relatetheshapeoftheroad s3 to different ranges for xp yp 0and p see figure .
an example of aciconstraint is s3 rh4 ... s3 rh12 dxp dyp d p .
wedenoteby z d1 ... dn d prime ... d primemthesetofvalue assignments to variables in s isatisfying all the constraints in c. an adas simulation function takes as input a value assignment z zand a value t nindicating the simulation duration i.e.
thenumberofsimulationsteps .theoutputof is aset uof outputvectors indicatingthepositionands peedofmobile objects at each simulation time step and a set vof time independent output variables.specifically ucaptures thedynamic behavior of adas and the environment i.e.
how mobile objects move over time .
each position vector u ucorresponds to one and only one mobile object o oand is a function u ... t r3 whereu t t ... t isatriple x y v indicatingtheposition x y and the speed vof the mobile object related to uat timet.
the setvdetermines the function specific outputs produced by decision making components of an adas.
example .
.
aeb generates two position vectors u u1 for vehicle and u2 forpedestrian andthreedecision makingoutputs v ttc denoted by v1 certaintyofdetection denoted by v2 and brakingdenoted by v3 see figure .
tospecifycriticalbehaviorsofadas wedefine auxiliary functionsoverthedynamicsystemoutputs u.forexample let u1and u2bepositionvectorsgeneratedforaeboversimulationtime t. wedefinetwofunctions f1 u1 u2 thatcomputestheminimum distance between the pedestrian u2 and the field of view of the vehicle u1 and f2 u1 u2 thatcomputesthespeedofthecar at the time of collision and returns if collision does not occur.
weformalizetheaebcriticalbehavior cbdescribedinsection2.
given aeb outputs u u1 u2 andv v1 v2 v3 we define cb u v as follows cb u v f1 u1 u2 50cm v2 .
f2 u1 u2 30km h thecbproperty states that a pedestrian is in front of a car f1 u1 u2 50cm is detected by aeb with a high certainty v2 .
and the car hits the pedestrian with a speed higher than30km h f2 u1 u2 30km h .theconstantvalues50 cm .
and 30km hare taken from the aeb specification.
an aeb test scenario generating uandvis critical if and only if cb u v is true.
search guided by classifiers in this section we describe our adastesting algorithm that combinesmulti objectivesearchanddecisiontreeclassificationmodels.
.
multi objective search theformalizationofadascriticalbehaviorsdependsonseveral adasoutputs.forexample formalizingthe cbbehavior seeequation reliesonthreeaeboutputs f1 f2andv2.wecasttheproblem of computing adas critical test scenarios as a multi objective search optimization problem where the adas outputs specifyingitscriticalbehaviorsactasthesearchfitnessfunctions.we usethenon dominatedsortinggeneticalgorithmversion2 nsgaii which has been previously applied to several softwareengineeringproblemsincludingadastesting .thensgaii algorithm generates a set of solutions forming a pareto nondominated front .
a dominance relation over solutions is defined as follows a solution xdominates another solution yifxis not worsethan yinallfitnessvalues and xisstrictlybetterthan yinat least one fitness value.
the output of nsgaii is a non dominating equally viable set of solutions representing best found trade offs among fitness functions.
in our work nsgaii generates a number ofadascriticaltestscenariosbymaximizingorminimizingthe adas outputs characterizing its critical behavior.
wedonotpresentthedetailsofthensgaiialgorithmduetolack of space.
to learn more about this widely used algorithm see .
here we discuss how we tailor nsgaii to adas testing representation .
a feasible solution is a vector of values to static variables s1 ... snanddynamicvariables i1 ... imoftheadas underanalysissuchthateachvectorsatisfiestheconstraintsin c. eachsuchvectordefinesanadastestscenario.simulatingeach vector generates outputs uandvthat can be used to compute fitness functions.initialpopulation .aninitialpopulationforoursearchalgorithm is a setpconsisting of vectors of adas test scenarios.
we aim togenerate pbyselectingadiversesetofvectorsfromtheinput space.
we generate pwith size qas follows first we generate q vectorsofvalueassignmentstostaticvariables s1 ... snusingtwisecombinatorialtesting suchthat the csconstraintshold and the pairwise coverage of variables s1tosnis maximized.
weusethepledgetool forthispurpose.second weusean adaptive random search algorithm to generate a large number q ofvalueassignmentstodynamicvariables i1 ... im.adaptive random search is an extension of the naive random search that attempts to maximize the euclideandistance between the points selected in the input space.
third for each static variable vector we select a dynamic variable vector such that the constraints ci i.e.
constraintsbetweenstaticanddynamicvariables hold.iffor somestaticvariablevector vwecannotfindsuchdynamicvariable vectoramongtheexistingrandomlygeneratedpool weperform some more iterations of adaptive random search within the value rangesacceptedbythe ciconstraintfor v.theinitialpopulation setpiscompletewheneverystaticvariablevectorismatchedto one dynamic variable vector.
note that in our adas formalization we do not have any constraint among the dynamic variables.
fitness functions.
fitness functions are defined based on the adas outputs specifying its critical behavior.
for the aeb case study fitness functions are the two functions f1andf2 and the outputvariable v2.theseareusedtoformalizethecriticalbehavior of aeb the cbbehavior in section .
to generate critical test scenarios wemaximize f2andv2 andminimizef1.thisisbecause authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
testing vision based control systems using learnable evolutionary algorithms icse may june gothenburg sweden forscenariosexhibiting cb thevaluesoff2andv2shouldbelarger than a threshold and f1should be smaller than a threshold.
genetic operators.
the genetic operators of nsgaii should be defined such that the generated test scenario vectors satisfy the csandciconstraints.
here we provide crossover and mutation operators that respect pairwise csconstraints and ciconstraints relating one static variable to one or more dynamic variables.
the constraints of the adas systems we have studied in our work conform to these conditions.
specifically in all of these systems thecsconstraints relate the weather properties e.g.
fog level s2 to visibility range s4 and the ciconstraints relate different road shape types s3 to the ranges of dynamic variables xp yp and p .
selection weuseabinarytournamentselectionwithreplacement that has been used in the original implementation of nsgaii .
crossover toavoidviolatingthe csconstraints crossoverisnot applied to the static segments of the vectors.
that is our crossover operator is applied to dynamic segments of the vectors only i.e.
i1 ... im .
to avoid violating the ciconstraints we match pairs of vectors with the same value for the static variables participating inci e.g.
thesamevaluefor s3intheaebcasestudy .ifwedonot find any match for some parent vector we match two vectors with thesmallesteuclideandistancebetweenthevariablesparticipating in theciconstraints.
we then use simulated binary crossover operator sbx that hasbeen previously applied to vectors offloatvariables.thedifferencebetweenoffspringsgeneratedby sbx and their parents is controlled by a distribution index the offsprings are closer to the parents when is large while with a small the difference between offsprings and parents will be larger .inthispaper wechoseahighvaluefor i.e.
based on existing guidelines .
given that is large even when parentsdonothavethesamevaluesforthestaticvariablesin ci thevaluesofthedynamicvariablesineachofthetwooffspringsare likelytofallwithinthevalidrangesoftheirrespectiveparentvector.hence the ciconstraints are likely to still hold after applying sbx in such situations.
if the resulting values are out of variable ranges after crossover we cap them at the max or min of the ranges when they are closer to the max or min respectively.
mutation mutation is applied after crossover to static and dynamic variableswith aprobability mutationrate .
to avoidviolation of the ciconstraints we do not mutate static variables participatingin the ciconstraints.notethat sincetheinitial population isgeneratedbymaximizingpairwisecoverageofstaticvariables differentvaluecombinationsofthestaticvariablesin ciarealready presentintheinitialpopulation.exceptforstaticvariablesin ci allotherstaticanddynamicvariablescanbemutated.wemutate a static variable not appearing in csby randomly changing its valuewithinitsvalidrange.forapair siandsjofstaticvariables appearing in a csconstraint we define a closed mutation operator as follows after mutating si respectively sj we identify the set of values for sj respectively si consistent with the new value of si respectively sj andrandomlychange sj respectively si tooneof thosevalues.tomutateadynamicvariable weshiftthevariableby a value selected from a normal distribution with mean and a small variance.
similar to the crossover operator if the resulting valuesareoutofvariableranges wecapthematthemaxorminof the ranges when they are closer to the max or min respectively.all points count non critical critical non critical critical count count non critical critical count non critical critical count non critical critical count a count 182vp .2km h vp .2km h p .
p .
roadtopology cr straight rh m roadtopology cr m a non critical critical non critical critical all points count non critical critical non critical critical count count non critical critical count non critical critical count non critical critical b non critical critical count count non critical critical count non critical critical count non critical critical c non critical critical count count non critical critical d xp .
roadto pology straight rh xp0 .
roadto pology straight p .
p .
xp0 xp0 p .
p .
yp .
yp .
roadtopology roadtopology roadtopolo gy roadtopologyroadtopologyroadtopology straight cr cr cr cr straight cr cr cr b cr figure4 decisiontreesgeneratedourapproachfortheaeb system a an initial decision tree and b a decision treeobtainedaftersomeiterationsofthensgaii dtalgorithm.
.
decision tree learning decisiontreelearningisasupervisedlearningclassificationtechnique .
supervised learning techniques are trained based on labeled data and are divided into regression andclassification techniques where the goal is to predict real valued and categorical outputs respectively.inthispaper weuseclassificationdecision trees.
in this paper we use boolean functions such as cb see equation in section to label each adas test scenario as critical or non critical.
alternatively we could characterize the critical behavior as a real valued function and use regression trees instead.
incontrasttootherlearningtechniques e.g.
svm decisiontree boundaries are parallel to the dimensions of the input space and expressible in terms of linear conditions over input variables.
this makes decision tree boundaries understandable by practitioners and has been a main reason why we selected them in our work.
figure shows two decision trees generated for the aeb case study.
the input data for building decision trees is a set of aeb test scenario vectors.
the label for each scenario is computed by firstsimulatingthescenarioandthenlabelingiteitherascriticalor non criticalbyapplyingthe cbfunctiontothescenariosimulation outputs.
a decision tree model is built by partitioning the set of labeled test scenarios in a stepwise manner aiming to create partitionswithincreasinglymorehomogeneouslabels i.e.
partitions inwhichthemajorityofscenariosarelabeledeitherascriticalor authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg swedenraja ben abdessalem shiva nejati lionel c. briand and thomas stifter non critical .
for example the tree in figure a shows that out of the scenarios that use a straight ramped or curved with cr road were not critical did not exhibit cb .
the tree leaves containing more than critical scenarios i.e.
leavesatodin figure are critical regions.
for example out of the total of scenarios of them are classified in the criticalregion a and69 ofthemarecritical.eachcriticalregion is specified by conjoining the conditions appearing on the path from the root to the critical region.
for example the critical region ais characterized as follows vp .2km h p .
s3 cr10 ... s3 cr40 .
at each non leaf node a decision tree partitions the data in that node based on a condition on only one variable.
however due tothecsandciconstraints adecisiontreeconditiononavariable vmay additionallyconstrain variables otherthan vbut relatedto vviacsorci.asdiscussedinsection4.
ourgeneticoperators respect the csandciconstraints.
hence when our search algorithm applies these operators to a specific critical region as we willdiscussinsection4.
theoperatorsautomaticallyhandleboth theconstraintsexplicitlyidentifiedbythetreeandtheadditional constraintsimpliedby csorci.however ascriticalregioncharacterizations are among outputs of our approach we explicate these additional constraints in outputs presented to engineers.
for example infigure4 b theconditionsingraycolorarenotgenerated by the decision tree but are implied by the aeb constraints.
wenotethat inthispaper wedonotusedecisiontreestopredict whether a given adas scenario is critical or not i.e.
the decision trees are not used as predictor models .
we exclusively use the decision trees to betterguidethe search and tocharacterize the critical regions of the adas input space.
further to avoid overfittinginthetreesgeneratedbyourapproach insection5.
wedefineastoppingcriteriontocontrolthetreeexpansionsuch thatthenumberofvectorsineachtreeleafdoesnotfallbelowa certain threshold.
.
nsgaii guided by decision trees algorithm1showsourproposedalgorithm nsgaii dt thatgeneratescriticaltestscenariosandcriticalregionsforadas.nsgaii dt receivesas inputanadasspecification a setof quantitative fitnessfunctions aboolean labelfunctionindicatingwhetheratest scenario is critical or not and a parameter indicating the number of search iterations we perform in each critical region.
the output ofnsgaii dtisasetofthecriticaltestscenariosandthecritical regionsr1 ... rkof the adas input space.
nsgaii dtstartswithaninitialandrandomlyselectedpopulation set p line .
each iteration of nsgaii dt consists of the followingmainsteps first itperformsanumberof genetic search iterationsusingnsgaiiincriticalregionsoftheinputspace lines6 .specifically foreachcriticalregion ri thesetqoftheelements insideriispassedastheinitialpopulationtonsgaiialongwiththe parameter i.e.
thenumberofsearchiterationstobeappliedin ri .
we further pass riandcto nsgaii.
in particular rispecifies the rangesof inputvariables validfor thecriticalregion undersearch.
providedwiththevariablerangesandtheconstraints i.e.
theset c our mutation and crossover operators described in section .
can generatenewvectorswithintheregion ri.notethatinthefirstiteration theonlycriticalregionistheentireinputspace r1inline4 .algorithm nsgaii dt input s o i d c an adas specification f1 ... fl search fitness functions label a boolean function to label scenarios as critical non critical number of search iterations to be applied at each critical leaf result criticalscenarios a set of critical test scenarios r1 ... rk d1 ... dn d prime ... d prime m a set of critical regions 1begin 2select an initial population set prandomly.
eachp pis a vector of values for s1 ... sn i1 ... im 3k best 4r1 d1 ... dn d prime ... d prime m r1is the entire search space and includes all elements in p 5repeat fori 1tokdo q p ri b q prime nsgaii q f1 ... fl ri c inputs passed to nsgaii the number of search iterations applied to each critical leaf q the set of scenarios used as the initial population of nsgaii f1 ... fl search fitness functions ri the critical leaf in which we want to run nsgaii and c the adas constraints.
outputs received from nsgaii q prime all the solutions generated during search and b best solutions generated by nsgaii.
p p q prime best b best rank1 ... rank t computeranks best criticalscenarios rank1 p p computelabel label p p non critical p critical build a decision tree treebased on p p letr1 ... rkcharacterizetheleavesof treewherep hasahigher probability than p for each region ri d1 ... dn d prime ... d prime m we have j ... n dj dj and j ... m min d prime j max d prime js.t.min max d prime j 16untilsearch time has run out nsgaiireturnstwosets q primeandbwhereq primeisthesetofallscenariosandbisthesetof most critical scenarios computed by nsgaii.
second nsgii dt identifies the scenarios on the best pareto front rank computed so far lines .
in particular it identifies thebestparetofrontrankinset best i.e.
thesetofallbestsolutions generated by all invocations of nsgaii .
third nsgii dt builds a decision tree based on the labeled set of all the scenarios generated up to that point lines .
specifically it computes the label for eachp p partitions pintop thenon criticalset and p the critical set and builds a decision tree based on the labeled data.fourth itupdatesthesetofdesiredinputspaceregionsinwhich subsequentsearchiterationsareperformed line15 .specifically itidentifiesthe criticalleavesr1 ... rkofthetreesuchthatthe probabilityoffailure p ishigherthanthatofnon failure p .each riisasub region oftheadasinput spaceandisspecifiedasthe conjunctionoftheconditionsonthetreepathsleadingtotheleaves containing more elements from p than from p .
nsgaii dtcanbestoppedwhenwerunoutoftime.alternatively we can stop nsgaii dt when all the tree leaves classifycriticalscenarioswithahighprobability e.g.
morethan95 or authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
testing vision based control systems using learnable evolutionary algorithms icse may june gothenburg sweden when the fitness functions do not improve for the scenarios in the criticalscenarios set compared with the previous iteration.
for example the decision trees in figure are computed by applyingnsgaii dttotheaebcase study.figure4 a showsan initialtree andfigure4 b showsatreeafterafewsearchiterations.
thetreeinfigure4 b containsmoreconditions andidentifiesthree criticalregionsb candd insteadofonesuchregioninfigure4 a .
further theregionsb canddareconsiderablymorespecificthan region a as they prune the domains of the input variables more.
we note three important aspects of nsgaii dt in adas testing themosttime consumingpartofthesearchisrunningsim ulationstocomputefitnessfunctions.nsgaii dtdoesnotincreasethe number of simulations compared to nsgaii.
the fitness values computed by the nsgaii search line are reused at line to label the new elements.
to rebuild the tree in line we use all thescenariosgeneratedandsimulatedbynsgaii i.e.
q prime .since computing simulations is expensive and to build more accurate trees wetrytoreuseasmuchaspossiblethesimulationoutputs computed by nsgaii.
in our work we run nsgaii in leavesthat classify critical scenarios with a probability lower than .
this is to use search time budget exploring the critical parts in the inputspaceaboutwhichwehavelesscertaintyregardingcriticality.
these are parts of the space where the tree may need to be refined.
evaluation inthissection wepresenttheresultofourevaluationperformed on the aeb case study.
.
research questions rq1.does the decision tree technique help guide the evolutionary search and make it more effective?
the most important criterion for a search algorithm to be effective in the context of adas testing is thatitshouldbeabletogeneratecriticaltestscenarios inparticular inlargeandmultidimensionalsearchspaces.toanswerthis question we determine whether nsgaii dt i.e.
our proposed algorithmthatisguidedbybothdecisiontreesandgeneticoperators isabletogeneratescenariosthataremorecriticalcomparedtothose obtainedbythensgaiialgorithm i.e.
thebaselineevolutionary search algorithm .
rq2.does our approach help characterize and converge towards homogeneouscriticalregions?
afterevaluatingtheabilityofnsgaiidt in generating critical test scenarios in rq1 we evaluate the criticalregions.inparticular in rq2 weinvestigatewhetherthe decision trees generated by nsgaii dt are able to precisely characterize critical regions in adas input spaces and increasingly do so better over nsgaii dt iterations.
at the end of section .
we provide qualitative insights into the benefits of our approach from the perspective of practitioners.
.
metrics toanswer rq1 wecomparetheparetofrontsgeneratedbynsgaiidt and nsgaii using three well known quality indicators for evaluating multi objective search results hypervolume hv generational distance gd and spread sp .
to compute the qualityindicators followingexistingguidelinesintheliterature we compute a reference pareto front as the union of all the nondominated solutions obtained from all runs of nsgaii dt andnsgaii.
the hv quality indicator measures the size of the space covered by the members of a pareto front generated by a search algorithm.
the higher this size the better the results of the algorithm.thegdqualityindicator measurestheeuclidean distance between members of a pareto front and the nearest solutions on a reference pareto front.
the lower the value of gd the more optimal the pareto front solutions.
the sp quality indicator measures the extent of spread among the members of a paretofrontgeneratedbyasearchalgorithm .thelowerthe sp values the better spread out the search outputs.
toanswer rq2 weusethe regionsize the goodnessoffit and thegoodnessoffit crt metrics defined below.
regionsize measures the size of the critical regions as a percentage of the size of the entire input space.
it is used to determine whether the critical regions become smaller and more specific over nsgaii dt iterations.
let d1todnandd prime 1tod primembe the dimensionsoftheinputspace asdefinedinsection3 .recallfromthe nsgaii dt algorithm line in algorithm that the dimensions of a region riare characterized by d1 ... dn d prime ... d primem such that d1todnare respectively finite subsets of d1todn and d prime 1tod primenare respectively sub intervals of the intervals d prime 1tod primem.
we define regionsize ri as follows regionsize ri producttextn j dj dj producttextmj 1max d prime j min d prime j max d prime j min d prime j regionsize for the entire input space is equal to one and the lowerregionsize r the smaller the region r. for example for the tree in figure a we have regionsize a .
and for that in figure b we have regionsize b .
regionsize c .
andregionsize d .
implying that the size of critical regions arereducedoversubsequentiterationsofnsgaii dt.asdiscussed in section .
in our work input variable domains are reduced in two ways by the explicit conditions on tree edges and due to adasconstraints i.e.
thegrayconditionsinfigure4 b .inorder to accurately compute regionsize e.g.
forb din figure b we consider both explicit and implicit domain reductions.
goodnessoffit is used to determine how well the trees generated during the search fit to the set of scenarios sampled during the search.
similarly goodnessoffit crt determines goodness of fit for critical scenarios only.
each decision tree is built based on alabeled set p p of elements see line in algorithm .
the goodnessoffit ofeachdecisiontreeisthenumberofelementsin p p thatarecorrectlyclassifiedbythetree eitherascriticalor non critical divided by p p .
similarly the goodnessoffit crt for each tree is the number of elements in p that are correctly classified by the tree as critical divided by p .
note that since wedonotusetheclassificationtreesaspredictionmodels wedo not evaluate them based on cross validation with test sets.
instead weassesshowwellthetreescharacterizecriticalscenarios while avoiding overfitting as discussed in sections .
and .
.
.
experiment design we applied both nsgaii dt and nsgaii to the aeb case study introduced in section .
for both algorithms we set the initial population size to the mutation rate to .
and the crossover rate to .
.
specifically the mutation rate is lwherelis the chromosome size nine in our work .
the search parameter values are consistent with existing guidelines .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden raja ben abdessalem shiva nejati lionel c. briand and thomas stifter wesetthesearchtimeto24hours.basedonourexperiments thehv gdandspqualityindicatorvaluesforbothnsgaiiand nsgaii dt start to stabilize and reach a plateau within the search timebudgetof24h.further accordingtodomainexperts longer searchtimebudgetsarenotpracticalinthecontextofadastesting.
tobuildnsgaii dtdecisiontrees weusetheclassificationand regression trees cart algorithm.
we control the decision treesize depth bysettingthevalueof minimumsplitparameter msp to10 ofthesizeoftheunderlyingdataset.ourgoalisthusto avoid overfitting and obtain reasonable estimates in adas critical regionscapturedbythetreeleaveslabeledcritical.moreover we requirethatsplittinganodereducesthemiss classificationerrorof decision trees by at least .
within the 24h search time budget nsgaii performed on average 22searchiterations generations .notethatthensgaii dt algorithm consists of two nested loops theouter loop that generates decision trees lines in algorithm and theinner loop that invokes nsgaii for critical input space regions lines in algorithm .
we refer to each iteration of the outer loop as treegeneration.correspondingtoeachtreegeneration nsgaiiis invokedoneormoretimesdependingonthenumbercriticaltree leaves.wesetthenumberofsearchiterationsperformedbyeach nsgaii invocation to five i.e.
we set in algorithm .
by setting nsgaii dt performed between five to seven tree generations in 24h i.e.
each run of nsgaii dt generated between five to seven trees .
further on average nsgaii dt performed searchiterations i.e.
nsgaiiiterations in24h.notethatinour experiments each run of nsgaii dt performed more search iterations than each run of nsgaii.
this is because in our experiments and within the 24h search time budget most search iterations of nsgaii dtareappliedtopopulationsetssmallerthantheinitial population set while all search iterations of nsgaii are applied toafixed sizepopulationsetequaltothesizeoftheinitialpopulation.
we reran each of the nsgaii and nsgaii dt algorithmsfor times to account for their randomness.
we have made our experimental results available at .
.
results rq1.figure shows the hv gd and sp values computed based on the outputs of nsgaii dt and nsgaii.
we show the results at everyfour hourtimeintervalstartingat2haswellastheresults at the end of the search time limit i.e.
at 24h .
note that on average simulatingtheelementsintheinitialpopulationtakesabout 2h.
hence the results at 2h are those obtained for the randomlyselected initial population and prior to any search iteration.
as shown in the figure the hv gd and sp values for nsgaii dt are consistently better than those for nsgaii.
further after executing the algorithms for about 22h both nsgaii dt and nsgaii converge towards their respective pareto optimal solutions i.e.
for eachalgorithm thedifferencesinhv gdandspaveragevalues between 22h and 24h are negligible .
following existing guidelines to statistically compare hv gdandspvalues weusethenonparametricpairwisewilcoxon rank sum test and the vargha delaney s a12effect size .
thelevelofsignificance issetto0 .
.table1reportsthestatistical test resultscomparing nsgaii dtand nsgaiiat 24h.
for hv .
.
.8gd .
.
.25sp .
.
.
time h nsgaii dt nsgaii figure comparing hv gd and sp values obtained by nsgaii and nsgaii dt.
table1 statisticaltestresultsfornsgaii dtandnsgaiiat 24h the format is metric p value a12 .
hv .
.
gd .
.
sp .
.
hv and sp comparisons the p values are less than .
and the a12values show large effect sizes.
the differences between the gd distributions of nsgaii dt and nsgaii are not statistically significant althoughtheeffectsizevalueisinthemediumrange.
however as shown in figure the medians and averages of the gd values obtained by nsgaii dt are lower i.e.
better than the medians and averages of the gd values obtained by nsgaii.
finally weevaluatetheresultsofnsgaii dtandnsgaiibased on the number of distinct critical test scenarios generated by each algorithm.recall thatan aebtest scenariois avector inthe aeb inputspace i.e.
avectorofvaluestofourstaticandfivedynamic variables .
also an aeb test scenario is critical if its simulation outputs satisfy the cbproperty equation in section .
two aeb test scenarios are distinct if they differ in the value of at least one static variable or in the value of at least one dynamic variable with a significant margin.
overthe15runs nsgaiigenerates708distinctaebtestscenarios among which are critical.
in contrast over the runs nsgaii dt generates distinct aeb test scenarios among which are critical.
this result shows that within the same search time budget on average nsgaii dt provides more distinct criticaltestscenarioscomparedtonsgaii enablingthe engineers to better identify the limitations of aeb.
the answer to rq1is that nsgaii dt significantly outperforms nsgaii.
further on average nsgaii dt generates more distinct critical test scenarios compared to nsgaii.
rq2.to answer this question we focus on assessing the critical regions characterized by nsgaii dt i.e.
the algorithm that is shown in rq1 tooutperformnsgaii .wefurthernotethatnsgaii or any search algorithm for that matter has never been used to characterize critical regions and cannot be used as a baseline of comparison for this research question.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
testing vision based control systems using learnable evolutionary algorithms icse may june gothenburg sweden goodnessoffitregionsize .
.
.
.
tree generations b .
.
.
.
.
tree generations a .
goodnessoffit crt .
.
.
tree generations c .
figure evaluating the critical regions a the regionsize b the goodnessoffit and c the goodnessoffit crt values.
0 yp xp vectorvc0curved road radius conditions b region b xp cm yp cm p vc 36km hvp .1km hr m 0 yp xp vectorvc0r r a region a conditions curved road radius xp cm vc 36km hr m vp .1km h yp cm p figure7 examplesofcriticalregionsfortheaebcasestudy figure6 a showsthe regionsize valuesforthecriticalregions obtainedfromthedecisiontreesgeneratedbynsgaii dt.recall that nsgaii dt performs five to seven tree generations within the 24h search time limit.
in our experiments each decision tree generatedbynsgaii dthadbetweenoneandthreecriticalleaves i.e.
critical regions .
as shown in the figure the critical regions generatedbynsgaii dtbecomemonotonicallysmaller i.e.
more specific over successive tree generations.
in particular the critical regions obtained from the first decision trees are on average .
of the size of the entire input space while the final trees generated by nsgaii dt are on average .
of the input space.
figures6 b and6 c showthe goodnessoffit andthegoodnessoffitcrtvalues for nsgaii dt decision trees respectively.
as shown in thefigure goodnessoffit increasesfrom57 to77 and goodnessoffitcrtincreasesfrom50 to89 overthemaximumseventreegenerations of nsgaii dt.
these results show that the decision trees generatedbynsgaii dt comparedtothosegeneratedbasedon randominitialpopulations accuratelyclassifyonaverage20 more criticalandnon criticalscenarios andalmost40 more criticalscenarios.hence nsgaii dt overitssuccessivetreegenerations produces decision trees that fit noticeably better to criticalscenarios.
the answer to rq2is that the regionsize goodnessoffit and goodnessoffit crt values monotonically improve across different treegenerations confirmingthatthegeneratedcriticalregions consistentlybecome smaller more homogeneousand morepreciseoversuccessivetreegenerationsofnsgaii dt.inparticular the trees generated by nsgaii dt compared to those generated basedontheinitialrandomlyselectedpopulations fitonaverage to more criticalaeb test scenarios.
benefitsfromapractitioner sperspective.
here weinvestigate whetherpractitionersareabletouseandbenefitfromourapproach.
in particular we intend to know whether the critical regions computed by our approach are understandable informative and useful to practitioners.
to do so we draw on the qualitative reflectionsof twosemi structured interview sessions that we conducted with three senior engineers at iee.
the reflections are based onthe comments the engineers made in two two hour meetings with theresearchers.theengineerswereselectedfromthreedifferent groups at iee working on different aspects of adas development andtesting.wehavebeencollaboratingwithoneoftheseengineersontheresearchandthecasestudypresentedinthispaper.thetwo other engineers however did not have any interaction with the researchers prior to the interview sessions.
further they were not involvedinourresearchnorinthedevelopmentoftheaebcase study or any of our other adas examples.
toperformtheinterviews weselected amongthedecisiontrees generatedbynsgaii dtinourexperiments theonewiththehighest goodness of fit.
the selected tree characterized three critical regions in the aeb input space.
we created visually enhanced representations of the three regions showing the regions individually without any reference to the tree structure.
figures a and b illustratetherepresentationsfortwooftheregions.theconditionsspecifyingeachregionareshownontheleftsideofeachregiondia gram.furthermore someoftheseconditions i.e.
thoseontheroad type and the initial position and orientation of the pedestrian are visuallyshownontherightsideofeachdiagram.region aspecifies the aeb input scenarios wher e a car speed .6km h drives on acurvedroadwitharadiusbetween15mto40m whileapedestrianstartswalkingfromapointinsidethedashedgrayrectanglewitha trajectorybetween120 and250 andcrossestheroadwithalow speed .1km h .
region bspecifies similar scenarios as those in aexceptthatthepedestrianwalkswithahighspeed .1km h within a much narrower trajectory and starts crossing the road from a slightly smaller area compared to the one in a. during the meetings we presented the critical regions to the engineers and asked the following questions are you able to understandthe conditions specifyingthe regions?
based on yourdomainknowledge doyouthinktheregionsspecifysituations whereaebismorelikelytofail i.e.
exhibits cb ?
howcanyou utilize the knowledge you gain from the characterizations of the regionstoanalyzeaeb?thesequestionsaimtoassess respectively comprehension intuitivenessandusefulnessofthecriticalregion characterizations generated by our approach.
regardingcomprehensionandintuitiveness theengineersnoted that the characterizations of the regions are understandable andconsistent with their intuition.
for example regions aandbindicate that scenarios containing curved roads are more likely to exhibitcb.thisisbecause onsuchroads pedestriansappearrelativelylateinthecamera sfieldofviewandwillbedetectedlate byaeb henceleavinglittletimetoapplythebrake.theregions furthershowthattheprobabilityof cbishigherwhenthe carspeed is higher than .6km h. finally the regions show that in addition to the road and vehicle characteristics cblikely happens due to pedestrian dynamics.
specifically critical scenarios are more likely when pedestrians walk from particular areas on the sidewalk or as shownin b runningpedestrianswithaparticulartrajectory are more likely to escape accidents if they do not run towards the car.
regarding theusefulness of our approach the engineers noted that the information captured by these regions can help them in the following ways debugging the system or the simulator.
the region characterizations particularly when they do not match the domain knowledge may point to errors in the system or the simulator.forexample inourearlyresults curvedroadsdidnotappear authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden raja ben abdessalem shiva nejati lionel c. briand and thomas stifter ascriticalregions.ourinvestigationshowedthatduetoanerror in the aeb sensor output i.e.
the ttc output which resulted in some scenarios that actually led to collision to be wrongly labeled as non critical.
further the pedestrian dynamic situations identified as critical may point to weaknesses in pedestrian tracking algorithms typicallyused inadas.
identifyingchanges to hardware components to help increase adas safety.
for example in ourwork weassumeaebcontainsonecameralocatedatthefront center of the car with a specific value for its field of view.
regions aandbindicate that a different type of camera with a larger field of view or two cameras although more expensive may help detect pedestriansfasterandbetteroncurvedroads.
identifyingproper warningstodrivers.
someofadascriticalbehaviorsmaynotbe avoidable due to real world and physical constraints.
nevertheless our approach enables car makers to be aware of such situations andconsidermitigationstrategies.forexample regions aandb indicate that aeb may not be fully trusted on curved roads in resi dential zones where it is more likely for pedestrians to cross roads.
in such situations a warning message may be shown to drivers to reducetheirspeed e.g.
to lower than 30km h .
.
threats to validity tomitigatethe internalvalidity riskscausedbyconfoundingfactors wecomparednsgaii dtandnsgaiiunderidenticalparameter settings.
further we present a detailed formal description of our case study and search algorithm and provide all the parameter settingstofacilitatereproducibility.ourcasestudyisarealadas.the simulation data is obtained based on an industrial and widely used adas simulation tool.
to assess usefulness of our approach we conducted two semi structured interview sessions with three engineers from different groups at iee with varying types of expertise related to adas development.
conclusion validity is related to random variations and inappropriate use of statistics.
to mitigate these threats we have followedstandardguidelinesinsearch basedsoftwareengineering and ran the search algorithms times.
further we use the nonparametricpairwisewilcoxonpairedsignedrankstestandvargha and delaney s a12for statistical testing and effect sizes.
the main threat to construct validity concerns unsuitable or incorrectmetrics.tocomparemulti objectivesearchalgorithmsweusestandardqualityindicators i.e.
hv gd sp .further weassess the decision trees generated by our approach using our formally definedregionsize and the standard goodnessoffit metrics.
regarding the external validity threats we note that we provide in section a precise formalization of the adas systems to which ourtestingapproachisapplied.ouradasformalismbuildsonourexperiencesofstudyingdifferentadassystemsaswellasthecharacteristicsoftheprescansimulator.ourtestingapproachapplies to any adas system that conforms to our formalism presented in section .
finally we note that adas systems comprise an important and growing industry sector with pressing needs regarding testing and verification.
related work search based testing has received significant attention in recent years .however duetothefunctionalcomplexityofmostreal worldsystems ithasbeenlessappliedtosystemtestingand moreoftentounittesting .search basedsystemtestinghas beenpreviouslyusedtoautomatetestgenerationforadas .
for example it has been applied to a vehicle to vehicle brakingassistance an autonomous parking and a pedestrian detection system .
b hler and wegener base their testing onasingle objectivesearchalgorithm whilebenabdessalemet.
al.
use a multi objective search algorithm.
in contrast to our work none of these approaches consider static environment variables in the test input space and they vary only mobile objects variables in test scenarios.
hence these approaches are not able to automatically explore different environment conditions e.g.
different road types and weather conditions .
further the above cited workfocusesonidentifyingindividualcriticalsimulationscenarios only.
in our work we deal with a considerably larger test input spacethatincludesenvironmentvariables.further weprovidea novelsearch basedtestingalgorithmthat inadditiontoidentifying individual critical scenarios characterizes critical regions of the adastestinputspace.finally ourformalisminsection3isable tocapturetheadassystemsusedbyb hlerandwegener andbenabdessalemet.al.
astheyareamongtheadasused as a basis of our formalism.
in the context of machine learning multi objective optimization algorithms have been used to improve supervised learning techniques where the aim is to improve prediction accuracy of the resulting classifiers .
our work is related to software testing andusesdecisiontreestoguidethesearch basedgenerationoftestsfaster towards the most critical regions.
our nsgaii dt algorithm canbeseenasaninstanceofthe learnableevolutionmodel algorithms .
these algorithms rely on machine learning instead ofthedarwiniangeneticoperators togeneratenewpopulations i.e.
to guide evolutions .
our algorithm employs a combination of geneticoperatorsandguidancethroughclassifierstoevolvepopulations and is the first such algorithm applied to adas testing.
conclusions we proposed a simulation based testing algorithm for vision based control systems suchas adas.our algorithmbuilds onlearnable evolution models and uses classification decision trees to guide thegenerationofnewtestscenarioswithincomplexandmultidimensionalinputspaces.ourapproachisevaluatedonanindustrial adas.
the results indicate that our classification guided search algorithm outperforms a baseline evolutionary search algorithm andgenerates78 moredistinct criticaltestscenarioscomparedtothebaselinealgorithm.ourapproach further characterizescritical regions of the adas input space.
based on our interviews withdomainexperts suchcharacterizationsareaccurateandhelpengineers debugtheir systems.
they furtherhelp engineers identify environment conditions that are likely to lead to adas failures as well as hardware changes that can increase adas safety.