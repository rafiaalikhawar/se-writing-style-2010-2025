opiner an opinion search and summarization engine for apis gias uddin school of computer science mcgill university montr eal qc canada gias cs.mcgill.cafoutse khomh swat lab polytechnique montr eal qc canada foutse.khomh polymtl.ca abstract opinions are key determinants to many of the activities related to software development.
the perceptions of developers about an api and the choices they make about whether andhow they should use it may to a considerable degree be conditioned upon how other developers seeandevaluate the api.
given the plethora of apis available for a given development task and the advent of developer forums as the media to share opinions about those apis it can be challenging for a developer to make informed decisions about an api to support the task.
we introduce opiner our opinion search and summarization engine for api reviews.
the server side of opiner collects and summarizes opinions about apis by crawling online developer forums and by associating the opinions found in the forum posts to the apis discussed in the posts.
the client side of opiner is a website that presents different summarized viewpoints of the opinions about the apis in an online search engine.
we evaluated opiner by asking industrial developers to select apis for two development tasks.
we found that developers were interested to use our proposed summaries of api reviews and that while combined with stack overflow opiner helped developers to make the right decision with more accuracy and confidence.
the opiner online search engine is available at a video demo is available at index terms opinion mining api informal documentation opinion summaries study summary quality.
i. i ntroduction apis application programming interfaces offer interfaces to reusable software components and are an integral part of the modern day rapid software development.
the online development portal github now hosts more than million public repositories which is a radical increase from the .
million active repositories hosted in github in .
the plethora of apis available for virtually any given development task offers tremendous benefit to the developers to support their development task but such richness also offers an interesting problem to the developers how to select the right api?
while developer forums serve as communication channels for discussing the implementation of the api features they also enable the exchange of opinions or sentiments expressed on numerous apis their features and aspects.
in fact we observed that more than of stack overflow posts that are tagged java and json contain at least one positive or negative sentiment.
most of these i.e.
posts also do not contain any code examples.
the number of numerous apis available and the sheer volume of opinions about any a1 c1 a2 a3 a4 c2 c3 fig.
.
example of a stack overflow discussion about two apis.
given api scattered across many different posts though pose a significant challenge to produce quick and digestible insights.
figure presents the screenshot of seven stack overflow posts four answers three comments .
the oldest post at the top is dated november and the most recent one at the bottom is february .
these posts express developers opinions about two java apis jackson and gson offering json parsing features for java.
none of the posts contain any code snippets.
the first answer a1 representing a positive opinion about the gson api motivates the developer binaryrespawn to use it c1 .
in the next answer a2 the user staxman compares gson with jackson favouring jackson for offering better support and .
c ieeease urbana champaign il usa tool demonstrations978 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
fig.
.
screenshots of opiner api review search engine based on this feedback mickthomson a3 decides to use jackson instead of gson.
most of the posts a2 a4 imply a positive sentiment towards jackson but a negative one about gson.
later the developer daniel winterstein develops a new version of gson fixing existing issues and shares his api c3 .
this example illustrates how developers share their experiences and insights as well as how they influence and are influenced by the opinions.
a developer looking for only code examples for gson would have missed the important insights about the api s limitations which may have affected her development activities.
thus opinions extracted from the informal discussions can drive developers decision making.
we developed opiner an online api review search and summarization engine.
given as input all the opinionated sentences about an api opiner produces summaries of the reviews.
in figure we present a screenshot of opiner.
opiner is developed as a search engine where developers can search opinions for an api .
upon clicking on api developers can see all the reviews collected about the api both in summarized and original formats .
a developer can also search for an api aspect e.g.
performance in opiner to find the most popular apis based on the aspect .
we conducted a study where we provided access to our tool to professional software engineers to help them in their selection of an api for two development tasks.
the developers attempted to select an api first by using stack overflow only and then by using both opiner and stack overflow.
we observed that developers correctly picked the right api with accuracy while just using stack overflow.
however they had accuracy while they used opiner and stack overflow together.
a video demo of opiner is availableat the opiner online search engine is available at ii.
c hallenges in api r eview analysis we addressed three major technical challenges during the mining and summarization of opinions about apis from developer forums api mention detection the collection of opinions about apis requires the detection of api mentions in the forum posts.
the detection is challenging due to two major ambiguities in how apis are mentioned in the textual contents of the forum posts an api name can be false.
for example jackson as an api name vs a person name.
an api mention can be associated with more than one api name.
for example in the online java api hosting portal maven central a search for jackson returns apis containing the name jackson .
api opinion association the association of opinions to an api is challenging when more than one api were mentioned around an opinion.
api opinion summarization opinions are summarized in other domains mainly around aspects.
the summarization of opinions is challenging due to the implicit nature of aspects discussed in the opinions.
for example the opinion gson is fast is about the performance aspect of the api gson.
we briefly discuss the techniques we developed to addressed the above challenges and provide reference to the technical report explaining the detailed techniques and their evaluation.
a. api mention detection an api mention in a post is a reference to an api.
a mention can be one of the following types name a name as a token e.g.
jackson or a series of tokens e.g.
jackson json parser .
link a link to an api resource e.g.
homepage .
code code or code like term snippet using packages and code elements from the api.
in opiner we focused on the resolution of mentions referenced by names and links.
there are two mention detectors named entity for natural language texts and linkedentity detector for hyperlinks .
for each detected mention the output is a mention candidate list mcl .
in an mcl there is one mention but there can be more than one candidate.
each candidate is an api in our api database.
our api database consisted of all the java apis listed in online software portals maven central and ohloh.
in figure we show a partial mention candidate list for the mention jackson shown in figure .
in figure each ellipsis contains a distinct candidate name.
the top part of an ellipsis contains the api name while the bottom part contains the module name if the module name is matched .
for each mention in a forum post the resolver takes as input the mcl of the mention and associates the mention to an api in the candidate list if mention is true api or label is false if the mention was not referring to an api.
the resolution engine correlates the information found about an api in the database against those authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
jacksontw.tyl.common jackson org.milyn.thirdparty jackson jacksoncom.cedarsoft.seialization jackson org.jvnet.hudson.jacksoncom.hubspot.jackson jackson jaxrs camel jacksonorg.apache.cameljackson corecom.fasterxml.jackson.core jackson datatype jodacom.fasterxml.jackson.datatypefig.
.
a partial mention candidate list mcl for jackson .
found in the textual and code examples found in the forum post where the api mention was found.
the correlation is analyzed using heuristics such as similarity in the api name with the mention similarity in the discussion of api features in the forum post against the description of the api in our api database.
a detailed explanation of the technique is described in and .
we observed a precision of more than for and are currently evaluating .
the opiner current website is deployed using .
b. opinion mining we collected the opinionated sentences about apis using our technique described in .
the technique takes cues from discourse resolution by attempting to associate an opinion to its nearest api mention.
a nearest api is determined based on the presence of apis in the same sentence post or conversation.
a conversation was defined as having all the replies to a given post.
a reply to post is an immediate comment to an answer or a response to a comment in a stack overflow thread.
we observed a precision of more than for the association based on the same sentence heuristics and above for the other heuristics.
c. opinion summarization in a previous study we surveyed software developers and found that developers prefer to see opinions about the following api aspects in the forum posts performance how well does the api perform?
usability how usable is the api?
security how secure is the api?
documentation how good is the documentation?
compatibility does the usage depends on other api?
portability can the api be used in different platforms?
community how is the support around the community?
legal what are licensing requirements?
bug is the api buggy?
only sentiment opinions without specifying any aspect.
others opinions about other aspects.
we developed a supervised classifier to detect each aspect.
to train and test the classifiers we produced a benchmark of more than sentences as stack overflow each labeled as one or more aspect.
for the opinions labeled as others we further categorized those using techniques adapted hu and liu .
the discussion and evaluation of the opinion summarization techniques are described in our technical papers .
iii.
s ystem architecture the opiner architecture supports the efficient implementation of the algorithms described in section ii and a web based fig.
.
the client server architecture of opiner preprocessor opinion detectorapi detector resolution tableapi mention opinionated sentences api opinion summarizer api opinion associatordeveloper forumsloaderapi portals postspostsapis api mentions opinionsapis posts fig.
.
the architecture of the opiner application engine search engine with visual representation of the insights obtained from the collection and summarization of api reviews.
there are four major components in opiner see figure application engine handles the loading and processing of the data from forum posts and api portals and hosts all the algorithms and techniques used to collect and summarize opinions about apis section iii a .
database a hybrid data storage component with support for data manipulation in diverse formats such as relational graph tree etc.
section iii b .
rest web server the middleware between the application engine and the website section iii c .
website the web based user interface of opiner that hosts the search summarization and recommendation results based on api reviews section iii d .
a. opiner application engine the application engine has six major modules figure loader crawls the developer forums and api portals.
preprocessor processes the data into different formats to be consumed for subsequent analyses.
api mention resolver detects api mentions name and url in the textual contents of forum posts.
opinion detector detects positive and negative opinionated sentences in the forum posts.
opinion to api associator associates opinions to the api about which opinion was provided in the forum post.
api opinion summarizer summarizes opinions about an api in different formats.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
loader there are two types of crawlers forum and portal.
for each forum and portal to crawl the component contains a parser.
we have two separate databases one for the database and the portals and another for the forums.
for example we have one parser for reddit and another for stackoverflow.
in this paper we used an offline version of the stackoverflow dump january to ensure reproducibility of our technique and evaluation.
it can happen that a post we may have chosen in our experiment can be deleted in the online forum but we can still have it the offline dump.
for example the stackoverflow thread was deleted during the middle of but it was included in the january dump.
we have one crawler for the api portal maven central and another for ohloh.
in addition we have a javadoc crawler to collect information about the official java packages.
preprocessor we preprocess the forum contents and the api descriptions in our api database as follows we identify the stopwords in the forum contents and in the description of apis in the database.
we used three types of stopwords regular the default stopwords in english e.g.
a the etc.
country the country and institutional codes e.g.
com edu ca eu etc.
and domain api specific e.g.
api library etc.
we categorize the post content into four types a code terms b code snippets c hyperlinks1 and d natural language text representing the rest of the content.
we tokenize the text and tag each token with its part of speech.
api mention resolver the api mention resolver component consists of three major modules figure api database creator mention detector and mention resolver.
the api database creator has two modules spurious api detector api schema generator.
a spurious api detector we discarded three types of apis i demo or example software e.g.
projects with name demo or example in their names and ii apis that do not have links to their online source code repository and iii apis that do not have their source code archived e.g.
in a jar file .
b schema generator we store each api entry by collecting all the information as required by the schema template of the api database.
ideally all such information should be available from a portal.
however information can be missing.
for example many apis in maven do not have any overview description.
we crawl the resource pages e.g.
homepage of those apis to store their overview description.
the api mention detector in opiner supports both exact and fuzzy matching of api names and urls from the api database in the textual contents of the forum posts.
fuzzy matching was necessary because of possible typos in the mention in forum posts usage of shortened or longer names in forum posts with regards to an api to support the name matching we produced a trierepresentation of our entire api database which was both time and space efficient.
1we detect hyperlinks using regular expressions.
2we used the stanford pos tagger .
api infoapi database creatorcrawler forums portals preprocessor forums portals x relation mention api resolvedm2 c4m1 c2m3 jackson com.fasterxml.jackson gson com.google.code.gsonp1 p2postid mention resolved candidatemention resolution tabletext basedapi mention detector link based resolverc1 m1 api schemasforum threads c2 c3 m2 c4 m3 c5 mention candidate listfig.
.
the architecture of the api mention resolver the mention candidate lists used in our api mention resolution were developed as an in memory graph structure to explore the relationships among the candidates e.g.
their dependencies on each other.
opinion mining.
given as input a thread from stack overflow we mined opinions about apis mentioned in the thread as follows we detected individual sentences in the thread we arranged the sentences in the same sequence they were provided in the thread.
for example the oldest post was placed at the top and its first sentence as the topmost.
we labeled each sentence as either positive negative neutral.
to detect sentiments in a sentence we used a rule based algorithm based on a combination of sentistrength and the sentiment orientation so algorithm .
we associated each opinionated sentence to the api about which the opinion was provided using the technique described in section ii.
opinion summarization.
given as input all the opinionated sentences of an api we investigated opinion summarization algorithms from the following major categories aspect based positive and negative opinions are grouped around aspects related to the entity e.g.
picture quality .
aspects can be pre defined or dynamically inferred using algorithms such as topic modeling.
contrastive contrastive viewpoints are grouped.
extractive a subset of the opinions are extracted.
abstractive an abstraction of the opinions is produced.
statistical overall polarity is transformed into numerical rating e.g.
star ratings .
we produced aspect based and statistical summaries of api reviews using our techniques as described in section ii and .
we leveraged off the shelf algorithms to produce extractive abstractive and topic based summaries and implemented the algorithm to produce contrastive summaries.
b. opiner database we used a hybrid data storage architecture.
the bulk of the data is stored in a postgresql relational database.
the nature of the relational data structure is not efficient for the analysis of the textual data.
such unstructured and intermediate analyses are carried on using disk based io.
the supervised classifiers are stored in binary serialized format.
c. opiner rest web server the opiner rest web server offers interfaces to ingest the results of the opiner application engine.
the opiner website leverages the rest web server to produce the user interface authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
fig.
.
statistical summarization of opinions for api jackson.
fig.
.
screenshot of the aspect based summarizer .
of opiner.
this decoupling allows the development of any user interface without preventing the development of the application engine.
the end points are divided into three categories search summarizations and recommendations.
d. opiner website the opiner website is built based on ajax principles.
thus the search capabilities are auto complete.
in figures and we show the statistical and aspect based summaries produced by opiner for the api jackson based on the processing of all the stack overflow posts tagged as java json respectively.table i progression of learning from stack overflow to opiner t tool correctness conversion confidence time so .
.
.
so opiner .
.
so .
.
.
so opiner .
.
iv.
e valuation because the purpose of developing opiner was to add benefits over stack overflow we investigated the usefulness of opiner by conducting a study of professional software developers who completed two tasks using stack overflow and opiner.
we detected api mentions using the technique in opiner for this evaluation.
the two tasks in total involved four different apis with two apis for each task.
each task was described using a development scenario.
for each task there was only one correct api decided based on cues from discussions in stack overflow .
the participants were asked to select the correct api for each task.
each task was executed in two settings so only decide only using stack overflow so opiner decide using stack overflow opiner for a task in a setting each developer provided the following answers upon task completion selection their choice of api confidence how confident they were while making the selection.
we used a five point scale fully confident value fully unsure .
rationale the reason of their selection.
in addition we logged the time it took for each developer to complete a task under each setting.
we invited nine professional developers from a software company and two developers from freelancer.com to participate in the study.
the experience of the developers ranged between year and years.
the developers carried on different roles ranging from software developer to architect to team lead.
we analyzed the responses along three dimensions correctness how precise the participants were while making a selection in the two settings.
confidence how confident they were making the selection?
time how much time did the developers spend per task?
in addition we computed a conversion rate as the ratio of developers who made a wrong selection using stack overflow but made the right selection while using both stack overflow and opiner.
nine developers completed task using the two different settings using stack overflow .
five developers completed task using both of the settings out of the nine using stack overflow four could not complete the task .
in table i we present the impact of opiner while completing the tasks.
to compute the conversion rate we only considered the developers that completed a task in both settings.
for task only of the developers in so setting selected the right api but all of them picked the right api in so opiner setting i.e.
conversion rate .
for task only .
of the developers in so setting selected the right api but all of them picked the right api when they used both opiner and stack overflow conversion rate .
the developers also authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
reported higher confidence levels when making the selection using opiner with stack overflow.
for task the confidence increased from .
to .
and for task it increased from .
partially unsure to .
almost fully confident .
v. r elated work to the best of our knowledge opiner is the first tool developed to automatically mine and summarize opinions about apis from developer forums.
however online developer forums have been studied extensively e.g.
to find dominant discussion topics to analyze the quality of posts developer profiles e.g.
personality traits of the most and low reputed users or the influence of badges .
tools utilized the knowledge from the forums e.g.
autocomment assistance collaborative problem solving and tag prediction .
natural language summaries are produced for software documentation and source code .
storey et al.
analyzed tags and annotations in source code.
the summarization of source code has been investigated by combining structural with lexical information of the source code by correlating code contents with the call graphs in java classes by analyzing the identifier and variable names in methods and by automatically documenting source code .
the selection and presentation of source code summaries were investigated through developer interviews and eye tracking experiment .
our findings confirm that developers also require different types of summaries of api reviews posted in developer forums.
vi.
s ummary given the plethora of opinions available for an api in various online developer forums it can be challenging for a developer to make informed decisions about the api.
we developed opiner an online opinion search and summarization engine that presents summaries of opinions.
we found that developers were interested to use our proposed summaries of api reviews and that while combined with stack overflow opiner helped developers to make the right decision with more accuracy and confidence.
our future work on opiner will focus on the following extensions a unified framework to support the loading of opinions from disparate sources of developer forums and a refined recommendation engine to provide insights on apis with features from different languages.