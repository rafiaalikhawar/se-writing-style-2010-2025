truth in advertising the hidden cost of mobile ads for software developers jiaping gui stuart mcilroyy meiyappan nagappanzand william g. j. halfond university of southern california los angeles ca usa email fjgui halfond g usc.edu yqueen s university kingston canada email mcilroy cs.queensu.ca zrochester institute of technology rochester ny usa email mei se.rit.edu abstract the free app distribution model has been extremely popular with end users and developers.
developers use mobile ads to generate revenue and cover the cost of developing these free apps.
although the apps are ostensibly free they in fact do come with hidden costs.
our study of real world android apps shows that the use of ads leads to mobile apps that consume significantly more network data have increased energy consumption and require repeated changes to ad related code.
we also found that complaints about these hidden costs are significant and can impact the ratings given to an app.
our results provide actionable information and guidance to software developers in weighing the tradeoffs of incorporating ads into their mobile apps.
index terms mobile advertisements mobile devices i. i ntroduction mobile advertising has become an important part of many software developers marketing and advertising strategy .
this development has come about in just a matter of a few years.
in the mobile advertising industry s revenue was just over half a billion dollars but by it reached over billion dollars and in the first quarter of had already reached over billion dollars .
by analysts predict that revenue from mobile advertising will exceed that of tv advertisements and account for one in three dollars spent on advertising .
the presence of mobile ads has become pervasive in the app ecosystem with on average over half of all apps containing ads .
this has been driven by the development of large scale advertising networks such as google mobile ads and apple iad that facilitate the interaction between developers and advertisers.
to earn ad revenue developers display ads in their apps by making calls to apis provided by an advertising network.
when the ads are displayed on an end user s device the developer receives a small payment.
a typical business model for a developer is to place ads in their apps and then release the app for free with the hope that the ad revenue will offset the cost of the app s development.
in general this model is perceived as a win win situation for both developers and end users developers receive a steady and sometimes large ad driven revenue stream and end users receive a free app.
a key problem in this model is that it depends on the perception that aside from app development there are noadditional costs to either the end user or software developer.
while this is true for direct costs this fails to account for the indirect hidden costs of embedding mobile ads in an app.
on the end users side indirect hidden costs come in several forms loading ads from a remote server requires network usage for which many users are billed by the amount of bytes loading and rendering ads requires cpu time and memory which can slow down the performance of an app and finally all of these activities require battery power which is a limited resource on a mobile device.
developers have hidden costs as well.
it is necessary to maintain the code that interacts with the advertisements which requires developer effort.
the ratings and reviews a developer receives can also be affected.
studies have shown that over of users find in app ads annoying and such users may give an app a lower rating or write negative reviews.
this negative response may then affect the number of downloads of an app which in turn can affect the developer s future ad revenue.
in this paper we present the results of our investigation into the hidden costs of mobile advertising for software developers.
to carry out this investigation we performed an extensive empirical analysis of real world apps from the google play app store that make use of mobile advertising.
our analysis considered five types of hidden costs app performance energy consumption network usage maintenance effort for ad related code and app reviews.
the results of our investigation show that there is in fact a high hidden cost of ads in mobile apps.
our results show that apps with ads consume on average more cpu time more energy and more network data.
we also found that developers on average make ad related changes in of their releases.
the presence of mobile ads also has a rating and review cost as we found that complaints related to ads and these hidden costs were relatively frequent and had a measurable impact on an app s rating.
overall we believe that these findings are significant and will help to inform software developers so they can better weigh the tradeoffs of incorporating ads into their mobile apps understand the impact ads have on their end users and improve end users app experience.ii.
m otivation ads occupy a unique position in the mobile app ecosystem.
strictly speaking they are not required for the correct functioning of an app.
yet they are essential for monetizing the app and ensuring that developers can profit from their work.
when considering their profit developers typically assume that the only cost they have associated with the app is development and normal maintenance.
conversely end users typically assume that their only cost comes in the form of viewing ads and perhaps paying an upgrade fee to get an ad free version.
at some level these are reasonable assumptions since these costs or lack thereof are clearly visible to both parties.
as we argue in section i there are in fact other costs.
we refer to these as hidden costs because for both parties they can go unnoticed and even if recognized as costs can be difficult to quantify without additional infrastructure and analysis.
in this paper we perform a systematic investigation to quantify five such hidden costs.
three of these directly affect the end user s mobile device network usage energy consumption and app runtime performance.
two of them more directly affect developers ad related maintenance and user ratings.
we chose to investigate these specific hidden costs because they represent categories for which we have identified a process for measuring their costs and also quantifiable ways of showing their impact on both developers and end users.
below we formally present our research questions rqs with respect to these hidden costs and motivate their inclusion in our study.
rq what is the performance cost of ads?
mobile apps display ads by using ad network provided apis.
as with all other invocations executing these methods requires the device to commit processing power e.g.
cpu to carry out the ad related functionality.
the consumption of this processing power by the ad libraries represents processing power that could have been available to the app to improve its own performance.
runtime performance is important to end users because it influences how fast or responsive they perceive an app s implementation to be.
in this research question we focus on the runtime performance of an app and how this is affected by the additional processing necessary to carry out ad related functionality.
rq what is the energy cost of ads?
mobile devices are energy constrained devices because they run on battery power which is limited.
therefore energy efficiency is an important concern for apps that run on mobile devices.
components such as display and network are two of the most energy consuming components on a mobile device .
these two components also serve an important role in the mobile ad ecosystem since they are used to retrieve and show ads.
in this research question we quantify the energy impact of ads in mobile apps.
this energy cost is hidden to users because although they are aware of battery limitations they do not have any way to isolate and evaluate the energy cost of the ad functionality which is embedded in the mobile app.
a high energy cost is impactful because running outof battery power renders a device unusable or requires extra recharging cycles.
rq what is the network cost of ads?
network access plays an essential role in the ad network infrastructure.
developers insert invocations to ad network apis that then send requests to ad servers for an ad to display.
in turn the ad servers transmit advertising content back to the mobile apps to be displayed.
all of these require network usage by the mobile device even if the app containing the ad does not require network access itself.
in many cases network usage has a cost for end users who must pay for internet access or pay data charges for data access over a certain preset limit.
although there is a direct cost associated with network usage end users lack visibility into how network is consumed.
at best they may use tools such as shark or root to monitor their apps network usage but do not have any mechanism to distinguish how much of this usage is related to ads.
therefore this remains a hidden cost to them.
rq what is the rate of app updates related to ads?
part of the development cost of an app is maintenance.
this includes responding to bug reports adding new features and evolving the app due to changes in the underlying os and platform.
prior work has shown that app developers frequently add remove or update ad related code in an app .
this finding suggests that there may be a high maintenance cost associated with the use of ad libraries.
this motivates further investigation to determine how much maintenance effort is caused by the use of ad libraries.
in this research question we examine ad related code in the apps and track its evolution over different app versions in order to isolate the ad related maintenance effort.
rq what is the impact of ads on an app s ratings?
the google play app store allows users to write reviews and provide a rating between one and five stars for the apps that they have downloaded.
good app ratings and reviews are essential for the success of an app in the marketplace.
prior research has shown that app ratings are highly correlated with app downloads .
prior work has also shown that surveyed end users generally have unfavorable perceptions of ads in mobile apps .
therefore it is possible that these unfavorable reactions carry over and influence end users to give poor reviews for the app.
in this research question we examine end user reviews and determine what the possible impact of mobile ads is on the rating of an app.
iii.
c ase study design the goal of our case study is to investigate the hidden cost of mobile advertisements to end users and software developers.
to carry out this investigation we designed a case study to capture and analyze ad related information and various other types of runtime metrics.
in this section we explain how we selected the apps for the study the process for identifying and instrumenting ad behavior the creation of repeatable and automatically replayable workloads and the monitoring and analysis framework.
we explain each of these aspects of the case study design in more detail below.a.
selection of subject applications for our case study we had five criteria for selecting the set of subject applications.
these were successful apps indicating that the developers had found a balance of functionality and ad usage representative of different categories of apps to enable our results to generalize to a broader pool of apps actively maintained with frequent releases so we could examine maintenance costs over time use of mobile ads and convertible to and from java bytecode using the dex2jar tool since we need to perform bytecode manipulation of the apps classes to facilitate the monitoring and analysis.
to obtain apps that met the first two criteria we took the top apps in each of the categories of google play as ranked by distimo an app analysis company that ranks apps based on user rating number of downloads and other measures of success.
not all categories had apps in the list of top apps.
therefore in the end we had a list of apps from all categories of google play.
we crawled the google play app store everyday using a farm of systems for eight months from jan to aug to download every new release of the app and its associated meta data such as average user rating number of users rating the app and userreviews at a time among other things.
to satisfy the third criteria we sorted the apps by the number of releases that each app had in the time frame of data collection from jan to aug .
then we selected the top apps from this list which represented different categories of apps e.g.
travel media etc.
.
to satisfy the fourth criteria we identified the apps in the corpus that made use of the google mobile ads gma network.
we identified an app as making use of the gma if it contained invocations of apis provided by the gma and had visible ads displayed in some part of the user interface.
we focused our investigation on only one ad network to control for variability of costs between ad networks and chose gma in particular because it is the most popular and widely used representing over of the mobile ad business for the first quarter of .
finally we converted each app to java bytecode using dex2jar repackaged it using the android sdk tools and then manually verified that it executed without failure to ensure it met the fifth criteria.
descriptive information about each of these apps is shown in table i. in this table we list the app s name provide it with a unique id that we use to identify it in the evaluation graphs its package name physical size of the app s apk file and the category assigned to it by the google play app store.
we also include the number of versions the number of reviews and the average rating of each app for the time period between january and august .
b. instrumentation of the subject applications to address the research questions outlined in section iv requires that we have two versions of each app one with ads and the other without.
to create the no ads version of an app we used instrumentation based techniques to remove all invocations of apis defined by the ad network.
note thatsome prior approaches have simply replaced the ad library with dummy implementations however we chose to completely remove the invocations since there is a non zero time and energy cost associated with even an invocation of an empty method .
to perform the instrumentation we first converted each app s apk into the corresponding java bytecode using dex2jar .
then we used the asm library to analyze the bytecode of each class of each app and identify ad related invocations.
these invocations could be identified by matching the package name e.g.
ads mobileads and mobads of the invocation s target method with that of known ad networks.
the package names of ad networks can be found by examining their api documentation.
for each ad related api invocation identified we wrote instrumentation code to remove the invocation and where possible any other support objects created as arguments to the invocation.
in some cases it was not possible to remove all