crowdservice serving the individuals through mobile crowdsourcing and service composition xin peng1 jingxiao gu1 tian huat tan3 jun sun3 yijun yu4 bashar nuseibeh4 wenyun zhao1 1school of computer science fudan university china 2shanghai key laboratory of data science fudan university shanghai china 3singapore university of technology and design singapore 4department of computing and communications the open university uk 5lero the irish software research centre university of limerick limerick ireland abstract some user needs in real life can only be accomplished by leveraging the intelligence and labor of other people via crowdsourcing tasks.
for example one may want to confirm the validity of the description of a secondhand laptop by asking someone else to inspect the laptop on site.
to integrate these crowdsourcing tasks into user applications it is required that crowd intelligence and labor be provided as easily accessible services e.g.
web services which can be called crowd services.
in this paper we develop a framework named c rowd service which supplies crowd intelligence and labor as publicly accessible crowd services via mobile crowdsourcing.
we implement the proposed framework on the android platform and evaluate its usability with a user study.
ccs concepts information systems !crowdsourcing keywords mobile crowdsourcing service composition reliability .
introduction a variety of user needs nowadays can be automated by calling computational services either remotely through a web service or locally through a mobile application.
these services are used to construct personal applications using lightweight service composition techniques such as mashup .
however not all user needs can be accomplished only by computational services.
for example one may want to check the validity of the description of a secondhand laptop by site inspection and assess its market value by consulting experts.
beyond pure computational services and their compositions such needs can only be met by leveraging the intelligence and labor of others e.g.
those who are currently near to the laptop or have the required expertise.
an emerging way of involving humans in information seeking and computation tasks is crowdsourcing which enables a crowd ofundefined size to be engaged in solving a complex problem through an open call .
existing crowdsourcing platforms such as amazon mechanical turk amt allow a requester to hire a large number of workers from web based online community to accomplish short and self contained microtasks such as tagging images or translating fragments of text.
web based crowdsourcing however cannot support location based crowdsourcing tasks such as site inspection which require the workers to use mobile devices to enable location based worker selection.
to compose crowdsourcing tasks into user applications additionally it is required that crowd intelligence and labor themselves be encapsulated and served as services which could be invoked in a similar way as computational services.
each time such a service is invoked a set of workers are selected to participate the crowdsourcing task and each of them gets instructions for his her own microtasks.
after accomplishing their work the results they returned are aggregated to generate the output of the service invocation.
in this paper we develop a framework named c rowd service which supplies crowd intelligence and labor as publicly accessiblecrowd services .
a crowd service satisfies specific individual s needs via mobile crowdsourcing and can be composed with other crowd services and computational services.
for each invocation of a crowd service c rowd service launches a crowdsourcing task and aggregates the results returned by workers into the output.
to the best of our knowledge we are the first to investigate service composition that includes human services provided by mobile crowdsourcing.
.
motivating example suppose that bob would like to buy a secondhand laptop from an online market which allows registered users to sell personal items and supports online transactions only.
following the online shopping process bob would first search for a desired laptop examine its detailed information buy it by generating an order and lastly make the payment.
however bob is worried that the description of the laptop may be fraud.
furthermore he is afraid that the price set by the seller might be unreasonably high.
thus bob would like to find someone to check the validity of the description by site inspection and take a picture of the laptop before he decides to buy it.
moreover bob wants to consult local experts on the market value of the laptop.
if the price set by the seller is much higher than the price assessed by the experts he would abort the transaction.
the above process could be accomplished by a series of activities.
apart from automated computational services e.g.
a web service for online bank transaction the crowd services have to be employed for site inspection and price assessment.
we argue that permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september singapore singapore c acm.
... .
in order to fully automate the above process and its alike one needs to combine the framework to compose computational services which has been investigated extensively with crowd services.
our c rowd service framework can be used to address bob s problem.
in the design of c rowd service we maintain a set of workers which can potentially provide crowd services.
each worker is associated with a set of attributes e.g.
his her location past service providing records etc.
for each invocation of a crowd service c rowd service launches a crowdsourcing task and selects workers based on their attributes to accomplish the task.
then the selected workers accomplish their work and submit their results.
crowd service provides composition templates of crowd and computational services for common needs such as purchasing secondhand items.
to compose crowd services with computational services each crowd service is wrapped as a web service and published on the platform in c rowd service .
developers of a crowd service need to define its input and output parameters and specify its execution strategy such as result aggregation method.
for example the price assessment service takes as input a series of descriptions and a picture of an item and returns as output an assessed price.
the results of price assessment from multiple workers will be aggregated based on the specified aggregation method e.g.
by taking the average to generate the final output.
when a crowd service is to be executed ideally an optimal set of workers should be selected.
for example if the allocated cost and time constraints of the site inspection service are dollars and minutes respectively and bob hopes that at least two workers can return their results in time.
this implies the optimization objective of maximizing the probability of at least two workers returning their results in minutes while the money paid to all the selected workers does not exceed dollars.
with a composite service and user specified constraints c rowd service would first synthesize constraints on each involved computational service and crowd service and calculate the feasibility of composite service based on the likelihood of satisfying those constraints.
afterwards c rowd service would automatically execute the composite service by invoking the services accordingly.
whenever a service is finished the constraints are updated.
when a crowd service is to be executed e.g.
site inspection of the laptop c rowd service generates an open call to potential workers based on in this example their physical locations.
after receiving feedback from the workers e.g.
whether a worker is willing to participate and for how much reward c rowd service selects the workers based on the constraints and keeps executing the composite service until its completion.
.
crowd service in this section we first describe the conceptual model of crowd service and then introduce different types of crowd services.
afterwards we introduce the composition of crowd services.
.
conceptual model a crowd service leverages human intelligence and labor via mobile crowdsourcing and is packaged in the form of computational service e.g.
web service .
it can be used for acquiring information e.g.
assessing the price of an item querying availability of spaces rooms in a specific building or accomplishing real life tasks e.g.
performing site inspection of an item booking a table in a restaurant onsite .
the conceptual model of crowd services is shown in figure .
a crowd service declares zero or more input parameters each of which specifies the name and type of an input value provided bythe consumer and one or more output parameters each of which specifies the name and type of an output value returned to the consumer.
a crowd service defines one or more task fields each of which specifies the name and type of a result value provided by workers.
note that the output parameters of a crowd service can be different from its task fields.
for example a crowd service for price assessment has a personal price assessment and a confidence level as its task fields but has only an assessed price as its output parameter whose value will be calculated based on its task fields.
a crowd service has a text description specifying its task requirements for workers.
for example the text description of a crowd service for site inspection can be specified as follows.
please get to the designated location and inspect the item specified below.
check the physical item and evaluate whether it is consistent with the item description given below.
take a picture of the item and upload the picture.
this description and the input parameters such as seller address and item description constitute task instructions for workers.
each invocation of a crowd service results in the execution of a crowdsourcing task that is a crowdsourcing task is an instantiation of a crowd service.
it returns an output result which provides a value for each of the output parameters of the crowd service.
depending on the crowd service definition a crowdsourcing task can be location independent or be targeted at one or several locations.
a crowdsourcing task can be accomplished by one or more workers and a microtask is generated for each worker.
in each microtask the worker accomplishes the assigned work and returns a result which provides a value for each of the task fields of the crowd service.
the results returned by the workers will be aggregated into the output result of the task.
a crowdsourcing task has three operational parameters cspecifies the maximal cost that can be spent on the task i.e.
cost constraint tspecifies the maximal time that can be spent on the task i.e.
time constraint rn specifies the minimal number of workers who successfully return their results which is specified by the consumer and reflects his her expectation of necessary redundancy.
for example for a site inspection task the consumer may expect that at least two workers return their results i.e.
rn .
figure conceptual model of crowd service .
types of crowd services there are different types of crowd services.
according to the content of service a crowd service can be a query service or an actionable service .
a query service requires workers to provide specific information without taking any other actions while an actionable service requires workers to take some real life actions.
for instance a worker participating in an actionable task may need to move to a target location e.g.
a restaurant and accomplish some social interactions e.g.
booking a table .
a crowd service can be location based orlocation independent .
this dimension is orthogonal to the dimension of service content.
a query service can be location based if the queried information is associated with a specific location for example querying availability of spaces rooms in a specific building.
otherwise it is location 215independent for example querying a reasonable price for a secondhand item.
on the other hand there are both location based actionable services e.g.
booking a table in a restaurant without online booking or phone booking and location independent actionable services e.g.
paying a bill by third party online payment .
.
crowd service composition crowd services can be composed with computational services based on a predefined business process.
a business process consists of a series of activities which can be accomplished by different kinds of services such as follows.
web service ws standard web services or restful web services provided by remote servers app service app business services provided by mobile applications e.g.
android app which can provide complex user interaction and encapsulate access to sensors e.g.
camera audio recorder in mobile devices ui service ui simple user interaction services for users to examine returned results make choices or input required information on their mobile devices.
crowd service cs human powered services accomplished via mobile crowdsourcing among the service types web service app service and ui service are computational services.
figure shows a business process for the composite service of buying secondhand items using an activity diagram.
according to the process a consumer first searches for and selects a desired secondhand item with an app service which can be provided by a mobile client of a secondhand market.
based on the returned item and seller information the process queries the price of the corresponding new product with a web service and requests a site inspection of the item with a crowd service in parallel.
then the consumer examines the returned item information site inspection results and product price and determines whether to continue.
if the consumer chooses to continue a crowd service is invoked to assess the price of the selected item.
if the price set by the seller is lower than certain threshold e.g.
.
times of the assessed price an order is generated and submitted with a web service.
a business process is implemented as a template that can be executed on mobile devices after being instantiated into a composite service by binding a concrete service for each activity.
the process template specifies the interaction flow and parameter passing among different services.
figure business process for buying secondhand items .
framework in this section we first present an overview of c rowd service and then present details on the underlying techniques.
.
overview an overview of our agent based crowd service framework is presented in figure .
it shows the software agents and other modules of the crowd service platform consumer client and worker client together with the interactions between them.
basic information of registered workers such as age sex and ability is stored in the worker profile database on the platform.in order to report availability and update the real time state e.g.
location the worker agent on the mobile device of a worker periodically e.g.
once minutes sends heartbeat messages to the checkin agent on the platform.
the checkin agent updates the real time states of available workers in the worker profile database.
to protect privacy a worker can control when to report availability to the platform or choose to send heartbeat messages without location information which means only participating in locationindependent tasks .
moreover privacy policies regulatory strategies and computational algorithms e.g.
anonymity and obfuscation could be used for protecting privacy data which will be employed in the future work.
to execute a composite service involving crowd services on a mobile device the consumer needs to specify the overall cost and time constraints of the composite service and the acceptable minimal number of successfully returned worker results i.e.
rn for each involved crowd service.
the execution engine on consumer client executes a composite service by invoking the crowd services and computational services involved in it.
each time right before a crowd service is invoked the execution engine requests an execution plan for the remainder of the composite service.
the planner in c rowd service executes a planning process to produce an optimized execution plan which allocates the resources response time and cost to each unexecuted crowd service or computational service and estimates the feasibility probability of success of the composite service.
if the estimated feasibility is lower than the threshold e.g.
specified by the consumer the execution engine terminates the execution and reports a failure to the consumer.
otherwise the execution engine sends a request of the current crowd service with the allocated resources i.e.
cost and time to the platform and gets a service response from it.
each time a crowd service request is received the crowd service wrapper on the platform creates a task agent and assigns the service request to it.
the task agent gets input parameters from and returns an output result to the wrapper.
it executes a series of behaviors to accomplish the assigned task i.e.
crowd service invocation .
open call the task agent sends an open call with task instructions including task description target locations and input parameters to all the available candidate workers who may satisfy specific conditions e.g.
with the required capabilities or near the target locations .
worker selection the task agent receives responses from workers who are willing to participate and selects a nearoptimal subset of workers based on the cost and time constraints.
after that it sends a participation confirmation to each selected worker.
result aggregation the task agent receives results from workers and aggregates all the received results to generate an output result see section .
.
correspondingly the worker agent on the mobile device of a worker executes a series of behaviors to communicate with the task agent and guides the worker to accomplish his her microtask.
task examination the worker agent receives an open call from the platform and presents the task instructions on the worker s ui user interface .
the worker examines the task instructions and inputs an offer i.e.
expected reward .
then the worker agent sends a response to the platform.
microtask execution the worker agent generates a microtask view presenting task instructions and an interaction form to capture the result.
the worker accomplishes the microtask and returns his her result in the interaction form for example by typing in a text input choosing in a drop down box or taking a picture etc.
see section .
.
216figure overview of crowd service framework result submission the worker agent sends the worker s result to the platform after he she finishes the microtask.
.
crowd service description to develop and publish a crowd service a developer only needs to specify a crowd service description and deploy it on the platform.
a crowd service description includes input output parameters location information task fields and an aggregation method.
based on this description the platform can automatically generate a web service with the specified input output parameters and execute the specified execution strategy when the service is invoked.
the description of each input output parameter includes its name and type.
a parameter can be of primitive data type e.g.
string integer or multimedia data type e.g.
image audio .
location information specifies whether a crowd service is location dependent or not and if so the way to get the target locations current location direct input input transformation .
current location means to use the current location of the consumer e.g.
when ordering food from restaurants nearby as the target location.
direct input means to use a specified input parameter e.g.
the location of a seller for the site inspection service as the target location.
input transformation means to transform a specified input parameter e.g.
the name of a restaurant into target locations e.g.
the locations of its branches using coordinate transformation services.
task fields specify the schema of worker results provided by workers.
the name and type of each task field is described in service description.
the types of task fields include primitive data type choice type and multimedia data type.
a primitive data type can be string integer or float.
for a string field its length needs to be specified.
for a number field integer or float its range and precision need to be specified.
a choice field provides predefined options for a field.
a multimedia field can be an image audio or video that needs to be recorded by a worker using corresponding sensors e.g.
camera on his her mobile device.
task field definition of a crowd service is used as the schema of worker result representation and microtask view generation see section .
.
aggregation method specifies how the value of each output parameter can be aggregated from the workers results.
c rowd service provides standard aggregation methods such as computing the average or taking the result of the highest ranked expert.
for an output parameter using a standard aggregation method the developer can simply choose the corresponding aggregation method provided by the template.
in other cases the developer can define his her own aggregation method which can be either a simple standard aggregation or a more complex customized computation see section .
.
.
microtask execution for each assigned microtask a worker agent generates a microtask view on the worker ui showing task instructions and an interaction form to guide the worker to accomplish the microtask.
task instructions consist of a task description an optional task map and an input value panel.
the task description is the text de table a virtual table of worker results worker level time assprice conf w1 h w2 h w3 m w4 m w5 l scription of the corresponding crowd service.
for a location based task the task map shows the target locations on an online map e.g.
google maps which can be used for navigating to the target locations.
the input value panel shows the input values provided by the consumer client.
the interaction form allows the worker to input the required result after accomplishing the microtask.
it is generated based on the task field definition of a crowd service.
for each task field a text label is generated to show its name and an input is generated based on its data type.
for a primitive data type a text input is generated for the worker to input a value.
for a choice type a drop down box is generated for the worker to choose an option.
for a multimedia data type a button is generated which if clicked will open a specific recorder e.g.
camera or voice recorder on the worker s mobile device based on the media type e.g.
image or audio with a multimedia container for preview.
based on the task instructions the worker accomplishes the assigned work and provides his her result with the interaction form.
.
result aggregation worker results received from workers are stored in database and can be regarded as a virtual table.
as an example five worker results for the price assessment service are shown in table .
in the table each record corresponds to a worker result including the worker worker level submission time and values of task fields.
to aggregate worker results into an output result task agent needs to generate a value for each output parameter.
an output parameter can be generated by simple aggregation or complex computation.
simple aggregation .
simple aggregation generates an output value by using standard aggregation operations which can be defined as an sql query on the worker result table.
it reports a failure if the query returns no results.
for example the following query specifies an aggregation method for output parameter assessedprice which computes the average price assessment returned by workers.
select avg assprice from workerresult the following query defines a more complex aggregation method which selects price assessments with the highest worker level from those with high confidence and computes their average.
select avg assprice from workerresult t1 where conf h and not exists select from workerresult t2 where conf h and t2.level t1.level apart from returning a single value simple aggregation can also return a list of values as an output value.
for multimedia data simple aggregation can be used to select the best result.
for example a picture that is submitted earliest or returned by a worker with the 217highest level.
more complex aggregation of multimedia data have to be implemented by more complex computations.
complex computation .
complex computation generates an output value by using service specific algorithm.
for example an algorithm can be used to select a picture of the best quality from all the submitted results based on service specific criteria.
this kind of computation can be implemented as service specific plugin which can be registered to the crowd service platform and invoked by task agent for result aggregation.
.
implementation we have implemented the c rowd service framework on the android platform using jade which is an open source agent development framework .
the implementation includes a crowd service platform a consumer client and a worker client.
the consumer client is implemented on the android platform using the osgi framework.
specifically we choose apache felix an open source implementation of osgi.
both composite services and component services local services or stubs to remote services are implemented as osgi bundles.
when a consumer chooses a composite service to execute the execution engine requests corresponding composite service bundle and required component service bundles from the service repository and dynamically installs and activates them.
after that the engine invokes the execution method of the composite service defined in its base class.
consumer ui includes a composite service execution list view and an execution process view.
to execute a composite service the consumer can click the plus button on the execution list view and choose a composite service on a pop up dialog.
the execution process view see figure a provides user interaction for the consumer to specify execution settings and gets feedback of estimated probability of success.
after the execution of a composite service starts the execution process view shows execution logs for the consumer to understand its execution process.
a consumer ui b worker ui figure c rowd service android client ui worker client is also implemented on the android platform including worker agent and worker ui.
worker ui includes a task examination view and a microtask view.
when worker agent receives an open call it initiates a task examination view showing received task instructions.
if the worker chooses to participate a pop up dialog is shown for him her to input an offer.
when worker agent receives a participation confirmation it initiates a microtask view showing received task instructions and an interaction form.
the task examination view and microtask view are dynamically generated based on received task instructions and task field descriptions.
a series of android ui controls are used to show different kinds of information and interaction fields for example edittext for primitive data type field spinner for choice field imageview for image display .
figure b shows a microtask viewof the site inspection service which asks the worker to confirm the description and take a picture of a secondhand laptop.
.
user study we conducted a user study to evaluate the usability of our framework and implementation.
our user study was performed by executing the composite service of buying secondhand items see figure in a real life scenario.
we recruited students including phd students master students and senior undergraduate students .
among them three students played the role of secondhand laptop seller and were located in three different buildings in the campus students played the role of worker and three of them also played the role of consumer.
for the price assessment service all the workers were set to be experts who can be selected.
the reliability of each worker was equally set to .
.
each consumer executed the composite service four times and was given yuan rmb or roughly usd for each execution.
he she could decide the overall cost and time constraints and the result number constraint of each crowd service by himself herself but was told to try different settings in the executions.
all the workers walked around the three buildings within meters and decided whether to participate in a crowdsourcing task and the expected reward by themselves.
they could get the expected rewards as bonus if they were selected and successfully finished their work.
therefore they were motivated to provide reliable service with reasonable cost as in the real world scenario.
after the experiments we conducted a questionnaire survey and a group interview to get the feedback of the users.
.
execution processes and results table shows statistics of the execution processes and results of our user study.
for each execution it lists the consumer con.
consumer specified time t and cost constraints c and execution information of the two crowd services.
for each crowd service it lists the result number constraint rn synthesized time constraint st and cost constraint sc estimated probability of success pro.
whether succeeded or not succ.
execution time et and the numbers of worker offers of selected workers se and workers who successfully returned their results wr .
for crowd service site inspection on average each service execution had nine worker offers six selected workers and six returned results and was finished in seconds.
for crowd service price assessment on average each service execution had worker offers nine selected workers and eight returned results and was finished in seconds.
the numbers of worker offers of service were usually larger and the expected rewards were usually lower than those of service .
this is reasonable since service is location independent and all the workers were qualified.
among all the executions of service executions succeeded i.e.
the required number of worker results were returned to the platform and only one failed making a success rate of .
among all the executions of service executions succeeded and the other three failed making a success rate of .
after analyzing the execution results and logs we found that there are two main causes for failed executions.
one cause is that constraints synthesis was unable to find a feasible resource allocation plan which was usually due to high result number constraint insufficient workers available low cost or insufficient time.
the other cause is that worker selection was unable to select a set of workers which was usually due to high result number constraint insufficient worker offers or low cost.
the above analysis shows that crowd services can be provided as reliable services in real life when sufficient workers are available.
218table execution processes and results of user study con.constraint crowd service site inspection crowd service price assessment t c rn st sc pro.
succ.
et s workerrn st sc pro.
succ.
et s worker of se wr of se wr c1600 .
yes .
yes .
yes .
yes .
yes .
yes .
yes no c2750 .
yes .
yes .
yes .
yes no .
yes .
yes c3600 .
yes no .
yes .
yes .
yes .
yes .
yes .
yes .
user feedback we analyzed the feedback of the consumers and workers collected in the survey and interview.
the consumers generally think crowd service provides a convenient and cost efficient way to fulfill their needs by leveraging crowd intelligence and labor.
their main concerns include reliability result quality and privacy.
they regard the estimation of probability of success is useful for them to establish confidence on crowd services and provides useful feedback for their execution settings.
they would usually have enough confidence to start the execution if the estimated probability of success was higher than .
in cases they adjusted their execution settings i.e.
cost time and result number constraints to improve the probability of success.
some consumers mentioned that they were not sure about the quality of the returned results as they did not know whether the workers had done their work properly.
some consumers were concerned about privacy issues as some tasks may involve private information such as home address.
they suggested that c rowd service could allow consumers to set the scope of worker selection to specific groups of people such as those in the same university.
some workers think crowd service provides an opportunity for them to create value by making use of their location conveniences and capabilities.
they suggested to provide more transparency.
for instance they often felt overwhelmed when considering expected rewards as they did not know whether their expectations were too high or too low.
this problem can be addressed by providing a reference price based on historical data of similar tasks or estimation formula.
the workers suggested two improvements on the interaction modes supported by c rowd service .
one suggestion is to provide a negotiation process between consumers and workers.
this is useful for some crowd services with high cost and high quality requirements but may introduce unnecessary disturbance for other crowd services.
the other suggestion is to provide a pull mode for task participation instead of pushing tasks to them.
the current task participation is push mode i.e.
the platform pushes task invitations to workers while by pull mode workers can search for interested crowdsourcing tasks when they are available.
.
conclusion in this paper we have proposed the c rowd service framework to supply crowd intelligence and labor as publicly accessible crowd services.
to support their composition with computational services the framework wraps each crowd service as a web service.
the execution of these wrapped crowd services launches mobile crowdsourcing tasks and aggregates the results returned by individual workers.
for reliability c rowd service dynamically synthesizes and updates near optimal cost and time constraints for each crowd service involved in a composite service and selects a nearoptimal set of potential workers for each to be executed crowd ser vice.
we have developed an implementation of c rowd service on the android platform and evaluated its usability.
.