visualization of combinatorial models and test plans rachel tzoref brill school of computer science tel aviv university and ibm research israelpaul wojciak ibm systems usashahar maoz school of computer science tel aviv university israel abstract combinatorial test design ctd is an e ective and widely used test design technique.
ctd provides automatic test plan generation but it requires a manual de nition of the test space in the form of a combinatorial model.
one challenge for successful application of ctd in practice relates to this manual model de nition and maintenance process.
another challenge relates to the comprehension and use of the test plan generated by ctd for prioritization purposes.
in this work we introduce the use of visualizations as a means to address these challenges.
we apply three di erent forms of visualization matrices graphs and treemaps to visualize the relationships between the di erent elements of the model and to visualize the strength of each test in the test plan and the relationships between the di erent tests in terms of combinatorial coverage.
we evaluate our visualizations via a user survey with ctd practitioners as well as via two industrial projects in which our visualization was used and allowed test designers to get vital insight into their models and into the coverage provided through ctd generated test plans.
ccs concepts software and its engineering !software testing and debugging human centered computing !visualization keywords combinatorial testing software visualization .
introduction combinatorial test design ctd a.k.a.
combinatorial testing see e.g.
is a widely used test design methodology and is supported by many academic and commercial tools e.g.
.
close to ctd tools are listed in .
ctd is based on a combinatorial model consisting of a set of parameters their respective values and constraints on the value combinations.
a valid test in the test space is de ned to be an assignment of one value to each parameter that satis es the constraints.
a ctd algorithm automatically constructs a test plan consisting of a small subset of the set of valid tests that covers all valid value combinations of every tparameters where tis usually a user input.
the e ectiveness of ctd is based on empirical data that shows that in most cases the occurrence of a bug depends on the interaction between a small number of features of the system under test .
successful application of ctd in practice is however challenging.
one challenge relates to the manual process of de ning combinatorial models and maintaining them i.e.
as the system under test evolves since it requires both domain knowledge of the system under test and testing expertise.
another challenge relates to the comprehension and use of the test plan.
although a test plan is in many cases automatically generated from the model understanding its tests the relations between them and their relation to the model in terms of its t way coverage requirements e.g.
in order to identify the more important tests and prioritize them or in order to gain higher con dence in using them is di cult.
in this work we introduce the use of visualizations as a means to address these challenges.
speci cally we apply three di erent forms of visualization matrices graphs and treemaps to visualize the relationships between the di erent elements of the model such as parameters constraints and parameter combinations and to visualize the strength of each test in the test plan in terms of t way coverage both globally and with respect to every other test in the test plan.
our work follows the classic overview rst zoom and lter details on demand paradigm in a number of ways.
the parameter matrix and the treemap allow the engineer to drill down from the parameter combinations level to the value combinations level.
the graphs allow the engineer to focus on a selected node and explore its relations with the other nodes in the graph.
the treemap for the test plan enables ltering by parameters to allow the engineer to focus on parameters of higher importance.
these features of interactive exploration are an important aspect of our work.
we have implemented all the proposed visualizations as part of ibm functional coverage uni ed solution ibm focus an industry strength ctd tool developed by ibm research.
all screenshots in the paper are taken from ibm focus.
as color plays an important role in our visualizations we directly refer to colors in some of the views and related screenshots.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september singapore singapore c acm.
... .
table example online shopping model parameter values itemstatus is instock outofstock nosuchproduct exportcontrol ec yes no shippingdestination sd domestic foreign pricingscheme ps scheme1 scheme2 scheme3 deliverytimeframe dt immediate oneweek onemonth ordershipping os ground sea air constraints dt immediate !os air os sea!dt onemonth dt onemonth !os6 air sd foreign !ps6 scheme3 sd domestic !os6 sea we further report on an evaluation consisting of two parts a user survey with ctd practitioners and two realworld industrial projects in which our visualizations were used.
the evaluation shows that the visualizations were well received by ibm focus users who participated in the survey and allowed the test designers in the studied projects to get vital insight into their models and into the coverage provided through the ctd generated test plans.
thus the visualizations helped them better tune trust and ultimately improve their test design and execution approach.
the next section presents a running example of a combinatorial model and two test plans that we will use throughout the paper.
section presents the visualizations.
section presents the data structures and algorithms we use as well as an overview of our implementation.
section presents the evaluation.
section discusses related work and section concludes.
.
running example we use a running example shown in table both to demonstrate the basic concepts of ctd and to demonstrate our various views in section .
the table depicts the parameters values and constraints of a combinatorial model for an online shopping system.
the constraints de ne which value combinations are invalid in the test space.
for example the rst constraint in the online shopping model de nes the following invalid combinations dt immediate os ground and dt immediate os sea .
a valid test is an assignment of one value to each parameter in the model that does not violate any of the constraints.
for example is outofstock ec yes sd domestic ps scheme1 dt oneweek os air is a valid test.
all tests produced by a ctd algorithm must be valid tests.
to generate a test plan from a combinatorial model the ctd algorithm automatically constructs a subset of the test space so that it covers all valid value combinations of every tparameters where tis usually a user input.
for example the test plan in table containing valid tests is a way test plan since every single value of the model appears in at least one test of the test plan.
however it is not a way test plan since it does not cover all valid pairs of values from the model.
for example the valid pair dt oneweek os ground does not appear in any of the tests.
in contrast the test plan in table containing valid tests is a way a.k.a.
pairwise test plan since every valid pair of values of the test space appears in at least one of its tests.table a way test plan for the online shopping model consisting of tests is outofstock ec yes sd domestic ps scheme1 dt oneweek os air is nosuchproduct ec no sd foreign ps scheme2 dt onemonth os ground is instock ec yes sd domestic ps scheme3 dt immediate os air is outofstock ec yes sd foreign ps scheme1 dt onemonth os sea table a pairwise test plan for the online shopping model consisting of tests is outofstock ec no sd foreign ps scheme1 dt immediate os air is instock ec no sd domestic ps scheme3 dt oneweek os ground is nosuchproduct ec yes sd foreign ps scheme2 dt onemonth os ground is instock ec yes sd domestic ps scheme2 dt immediate os air is instock ec yes sd foreign ps scheme1 dt onemonth os sea is nosuchproduct ec yes sd domestic ps scheme3 dt immediate os air is outofstock ec yes sd foreign ps scheme2 dt oneweek os ground is nosuchproduct ec no sd domestic ps scheme1 dt oneweek os ground is outofstock ec no sd foreign ps scheme2 dt onemonth os sea is nosuchproduct ec no sd foreign ps scheme1 dt onemonth os sea is outofstock ec yes sd domestic ps scheme3 dt onemonth os ground is instock ec yes sd domestic ps scheme3 dt oneweek os air .
visualizations we provide an overview of the new visualization views that we de ned and support in ibm focus.
for each we provide motivation for the view what information it displays and how it is presented using the running example discussed in section .
the examples and descriptions in this section are for demonstration purposes only.
in section we will describe how these views were used in real world projects involving real world use cases and data.
we divide the di erent views according to their visualization form.
we support three such forms matrices graphs and treemaps .
we describe the views per visualization form from the simplest form to the most complex one.
.
matrix based visualizations matrices are one of the most basic and popular forms for the presentation of data.
in the context of ctd matrices are a natural way to visualize the relationship between pairs of parameters in a model and in its derived test plan.
the matrix helps explore the parameter pairs space as a means to review and con rm understanding of which pairs are constrained more than others in the test space and which pairs are covered more than others in the test plan.
figure illustrates the visualization of the online shopping model from table together with the way test plan from table .
the upper half of the matrix represents the validity status of the parameter pairs.
each cell re ects the percentage of valid value pairs out of all value pairs of the corresponding parameter pair.
darker cells draw attention to pairs that are more constrained than other pairs and may 145figure matrix visualization for online shopping model and its way test plan.
upper half visualizes percentage of valid value pairs out of all pairs for each parameter pair.
lower half visualizes percentage of covered pairs out of all valid pairs for each parameter pair.
see section .
.
call for an additional review by the practitioner.
similarly cells that are expected to be constrained but are marked with light colors can also draw attention from the practitioner.
for example the darkest cell in the upper half of the matrix in figure is for the parameter pair dt os indicating the multiple constraints on their relationship resulting in only of the value pairs being valid.
the lower half of the matrix represents the coverage status of the parameter pairs with respect to the test plan.
each cell re ects the percentage of covered value pairs out of all valid value pairs of the corresponding parameter pair.
darker cells draw attention to pairs that are less covered than other pairs.
for example the darkest cell in the lower half of the matrix in figure is for the parameter pair dt ps indicating that only of valid value pairs are covered by this way test plan.
of course in a pairwise or high interaction level test plan we expect all cells to have value coverage.
we note that ibm focus can also analyze the coverage of existing manually designed test plans where each test case was mapped to a combination of values from the model.
in this case we expect di erent levels of coverage for di erent parameter pair cells.
double clicking on a parameter pair cell will drill down to the value pairs level where one can view their validity and coverage status as depicted in figure .
for example the value pair dt oneweek os ground is the only valid pair marked with green that is uncovered by the test plan marked with an x .
we added support in ibm focus also for creating a matrix visualization for the model only without a corresponding test plan.
in this case only the validity status is visualized and the lower half of the matrix is empty.
in section we refer to this case as a separate view than the one that incorporates both validity and coverage visualization.
.
graph based visualizations we use graphs to visualize elements and their relationships via three di erent views.
.
.
parameter graphs parameter graphs visualize the relationships between parameters speci cally to indicate the amount of constraints they share.
the motivation is the same as for the matrix figure drill down to the values level for the parameter pair osand dt.
valid pairs are marked green invalid ones are red.
covered pairs are marked v uncovered ones with an x. green x cells are darker green than green v cells.
upper half to assist the practitioner in reviewing and debugging the ctd model during its development.
we construct the parameters graph as follows.
nodes represent parameters edges represent constraints and two parameters are connected if there is a constraint in which they both appear.
the more constraints are in common between the two parameters the thicker the edge between them.
hovering over an edge displays all its constraints in a pop up message.
figure depicts the parameter graph for our online shopping example.
the thickest edge in the graph indicates that the parameters dtand osshare the largest amount of constraints.
clicking on a certain node highlights all nodes it shares constraints with and the respective edges.
when a node is selected the user can view the graph in radial tree layout as shown in figure to visually emphasize the relations between the selected node and the other nodes.
.
.
constraint graphs constraint graphs are the dual of parameter graphs where each node represents a constraint and edges between two nodes represent common parameters between the two respective constraints.
constraint graphs can be used to locate complex constraints that may need to be simpli ed and similar constraints that may be merged.
as opposed to parameter graphs constraints graphs are hyper edged graphs i.e.
there may be multiple edges between two nodes one for each common parameter.
the constraints graph for our online shopping example is depicted in figure .
.
.
test plan graphs the motivation for visualizing combinatorial test plan via graphs is to provide an understanding of how much powerful each test is with respect to the other tests in the test plan and help prioritize the test plan.
this is achieved by visualizing the amount of unique value tuples that each test case covers and how many of its value tuples are common with other tests and with which ones .
we construct the test plan graph as follows.
nodes represent tests numbered according to their numbering in ibm focus and the more unique value combinations the corresponding test covers the larger the node.
edges represent value combinations.
two tests are connected if there are value combinations which they both cover.
the more combinations are in common between the two tests the thicker the edge between them.
146figure on the left the parameter graph for our example.
in the middle the same graph where the os parameter is selected by the engineer in radial tree layout highlighting the parameters it shares constraints with and the respective edges.
on the right the constraint graph for our example nodes represent constraints numbered according to their order in ibm focus edges represent parameters and are labelled with the parameter names.
see sections .
.
and .
.
.
it is important to note that the value combinations are determined according to the interaction coverage requirements that were used to generate the test plan.
for example when one requests way coverage the edges represent triplets of values that the two related nodes are both covering.
when hovering over a node its parameter values are displayed in a pop up message.
similarly when hovering over an edge all the value combinations it represents are displayed in a pop up message.
figure depicts the test plan graph for the pairwise test plan of our online shopping example which was presented in table .
according to the nodes size it is easy to see that test contains the most unique value pairs.
when clicking it the tests it shares value pairs with are highlighted together with their respective edges.
one can see that test shares value pairs with out of other tests though only a few value pairs in each case.
the next most unique test is test and it shares value pairs with out of other tests.
.
treemap based visualizations treemap is a visualization method for displaying hierarchical data by using nested rectangles of di erent sizes and colors.
each of the dimensions of size and color represents a di erent aspect of the visualized data.
we use treemaps for two types of visualization.
.
.
test plan treemap the motivation for visualizing test plans using treemaps is similar to that explained in section .
.
for graph visualization i.e.
understanding the respective strength of each test case and prioritizing the test plan.
similarly to testplan graphs we use the value combination coverage of each test as the main measure to be visualized.
however there are di erences in the nature of the displayed information.
each square in the treemap represents a test of the test plan numbered according to its numbering in ibm focus.
the size of the square re ects the percentage of value tuples it uniquely covers in the test plan while its shade re ects the same information only with respect to a user selected subset of parameters.
this allows for prioritizing tests according to speci c parameters of high importance.
the tests are always visualized ordered according to their size.
figure at the top the test plan graph for the online shopping example and its derived pairwise test plan containing tests.
at the bottom the same graph after the largest node representing test is clicked in radial tree layout highlighting the nodes it shares value pairs with and the respective edges.
see section .
.
.
147we present two ways to calculate the unique coverage of each test incremental coverage and non incremental coverage.
a test incrementally covers a value tuple if this tuple is not covered by any preceding test according to the order in which they are produced by ibm focus when creating the test plan .
a test non incrementally covers a value tuple if this tuple is not covered by any other test in the test plan.
figure depicts the test plan treemap for the same pairwise test plan of our online shopping example as in section .
.
.
when using incremental coverage the tests coverage more or less follows the order in which they were generated by the ctd tool due to the greedy nature of the ctd generation algorithm.
when using non incremental coverage we get that test and have the most unique coverage of value pairs in accordance with the test plan graph visualization note the size of nodes and in figure .
.
.
model and test plan treemap this view visualizes similar information to the one visualized by the matrix described in section .
i.e.
amount of validity and amount of coverage of value combinations.
however as opposed to matrices which are two dimensional the treemap is not limited to pairs only.
each square represents a parameter combination tuple .
the size of the square re ects its coverage percentage while its shade reects its validity percentage.
for example if the test plan was generated using way requirements then the squares in the treemap represent parameter triplets.
figure depicts the model and test plan treemap for the online shopping example and its derived pairwise test plan which appears in table .
all squares are of equal size indicating that all parameter pairs are equally covered by the test plan.
the darker squares indicate lower percentage of valid pairs for the respective parameter pairs.
as seen before dt os is the darkest square due to its lowest percentage of valid value pairs.
as in the matrix view by clicking a square the treemap view allows the user to drill down to the value tuples level.
.
computation and implementation in this section we provide details on the algorithmic aspects of the data queries required for the visualizations as well as on the implementation of the visualization views.
.
data query computation we describe the data queries computation for each of the visualization views.
we implemented these computations as part of ibm focus.
matrix data query computation the matrix visualization requires two types of information for each pair of parameters the percentage of valid value pairs out of the total number of value pairs and the percentage of value pairs covered by the test plan out of all valid value pairs.
in the matrix view we display both the actual percentage in the cell itself and the numerator and denominator values in a tooltip when hovering over the cell .
the percentage is also used to determine the color and shade of the cell.
algorithm presents the pseudo code for computing the above information.
it receives as input a combinatorial model s p v c where pis the set of parameters vis the set of value sets one value set per parameter and cis the set of constraints a binary decision diagram bdd input a combinatorial model s p v c the bdd v alid sof all valid tests of s optional a test plan t output an array total of the number total value pairs per parameter pair an array valid of the number of valid value pairs per parameter pair optional an array covered of the number of covered value pairs per parameter pair for pi pj2pdo if i j then total i j v i v j validpairs project v alid s i j valid i j jcoveredpairsj ifjtj 0then covered i j for v1 v2 2validpairs do covered i j covered i j iscovered t v1 v2 end end end end algorithm query for matrix visualization.
see section .
.
v alid srepresenting the set of all valid tests in the model will be explained in the following and optionally also a test plan t which is a set of value combinations where each value combination t2tassigns a single value to each parameter in p. the algorithm iterates over all parameter pairs in the model and for each pair computes the total number of value pairs the valid number of value pairs and the number of value pairs covered by the test plan if given .
the total number of value pairs can be easily computed by multiplying the number of values of the rst parameter with that of the second parameter see line .
however computing the number of valid pairs is much more challenging.
note that we cannot simply evaluate the constraints in cagainst a given value pair as there may be insu cient information to conclude whether or not they are satis able.
instead to precisely and e ciently compute the number of valid value pairs for a given parameter pair we use a symbolic representation based on binary decision diagrams bdds a compact data structure for representing and manipulating boolean functions.
speci cally we follow segall et al.
and represent the set of all valid tests in the combinatorial test space using a single bdd which is given to our algorithm as input v alid s .
note that by nature of construction v alid sconsiders both the constraints explicitly speci ed by the user who de ned the model and those implicitly derived from combinations of explicit constraints.
to compute the number of valid value pairs we project the v alid sbdd on the parameter pair by existentially quantifying all other parameters from the bdd line .
finally we compute the coverage of the parameter pair in the input test plan tby iterating over all valid value pairs and for each valid pair checking whether it appears in at least one test in t line .
the time complexity of algorithm is proportional to the number of pairs in pwhich is jpj multiplied by the complexity of the most expensive operation inside the loop which is the projection operation by itself proportional to the size of v alid s. 148figure on the left the test plan treemap for the online shopping example and its derived pairwise test plan containing tests using incremental coverage.
on the right the same test plan using non incremental coverage.
see section .
.
.
figure the model and test plan treemap for the online shopping example and its derived pairwise test plan.
the size of the squares indicates the percentage of coverage of the related parameter pairs in the test plan.
they are all of equal size because the test plan achieves full pairwise coverage.
the shade of the squares indicates the percentage of valid pairs for the respective parameter pairs.
see section .
.
.
the values level drill down uses the validity and coverage data computed for the parameter level matrix to determine for speci c value pairs whether or not they are valid and whether or not they are covered by the test plan.
graph data query computation the parameter and constraint graphs require data queries on the identity of the parameters that appear in each constraint.
this information is relatively easy to extract via parsing of the constraints and can be performed in time linear to the size of the constraints.
in contrast the test plan graph requires a more complex computation of the value tuples that are uniquely covered by each test in the test plan and the number of value tuples shared between each two tests.
thus for each test in the test plan we compute both the set of all value tuples it covers and the set of value tuplesit uniquely covers in the test plan.
the former is used to calculate the value tuples intersection with every other test in the test plan to form the graph edges and determine their thickness.
the latter is used to calculate the size of each node.
note that the value tuples are determined according to the parameter tuples that were de ned in the interaction coverage requirement that were used to form the test plan.
for example in a way test plan the value tuples are all valid triplets of values.
in a mixed strength test plan where di erent tlevel requirements are de ned for di erent sets of parameters di erent value tuples may correspond to di erent sizes of parameter tuples.
to compute the set of covered value tuples for each test we iterate over the parameter tuples and extract the corresponding value tuple from the test.
to compute the set of uniquely covered value tuples for each covered tuple we iterate over the rest of the test plan to check if there is another test that covers the same value tuple.
if so the value tuple is removed from the set of uniquely covered tuples.
the complexity of the computation of the above data queries is o k jtj2 where kis the number of parameter tuples in the coverage requirements.
for example if the requirements are pairwise coverage then k jpj .
treemap data query computation the two treemap based views require data queries that are similar to the queries of the other views with slight differences.
the model and test plan treemap requires validity percentage and coverage percentage for each parameter tuple hence the calculation is similar to the symbolic calculation described in algorithm .
the only di erence is that instead of iterating over parameter pairs we iterate over parameter tuples based on the coverage requirements that were used when constructing the test plan.
the time complexity is similar to that of the matrix computation where rather than depending on the number of parameter pairs it depends on the number of parameter tuples in the coverage requirements for the given test plan.
the test plan treemap requires the computation of the number of uniquely covered value tuples by each test similarly to the computation that is performed for the test plan graph but it also requires the same computation with respect to a selected subset of parameters.
this information 149is computed in a similar manner where parameter tuples that are not in the selected subset are skipped.
another di erence is the option for incremental coverage which is achieved by counting unique value tuples with respect to the previous tests only in order of their generation by ibm focus instead of with respect to the entire test plan.
the complexity is again o k jtj2 as that of the computation for the test plan graph.
.
implementation in ibm focus for the visualization implementation we used open source libraries which were incorporated into ibm focus as well as the java swing library which is an integral part of java.
our main technological consideration was to use open source implemented purely in java for compatibility with the existing implementation of ibm focus and in order to keep it a pure java tool.
another consideration was to use open source libraries that provide a license that is suitable for use by a commercial tool as required by ibm.
we implemented the matrix visualization in java using its embedded swing library which supports two dimensional tables.
we implemented the graph visualization using java universal network graph framework jung .
we implemented the treemap visualization using treemaplib .
.
evaluation we present an evaluation of our work in two di erent dimensions.
we start with a user survey we conducted to evaluate di erent aspects of the e ectiveness of our visualization views.
we then continue with reporting on two real world industrial projects in which our visualization was used as part of the deployment of ctd for test design.
.
user survey the research questions guiding our user survey are rq1 which of the visualization views are the most popular among the practitioners and do they consider some of them as better than others?
and rq2 how do practitioners rate the value of the visualizations in terms of their usefulness comprehension assistance trust in the results and support for communication?
.
.
setup and participants our survey consisted of an online questionnaire that the users of ibm focus were asked to ll in an ibm network.
for each of the views in ibm focus matrix views with and without coverage information were counted as di erent views we rst asked whether the participant has used this view in their work.
if they answered positively we followed with four additional questions asking them to rate their level of agreement on a likert scale from to from strongly disagree to strongly agree with statements indicating that the view was useful assisted in comprehension of the model and or test plan increased trust in ibm focus results and provided support for communication of the model and or test plan to others.
we also asked the participants to indicate whether they are visual by rating their level of agreement with the statement i am a visual person and typically like using visualizations in my work .
we concluded the survey with two general rating questions asking the participants to rate their level of agreement with the statements that the visualizations in ibm focus made it better and more fun to use.
practitioners answered the survey all of whom are ctd practitioners regularly involved in creating and comprehending combinatorial models for test designs as part of their work in ibm.
of the participants indicated that they have already used at least one of the visualization views in their work and the results we report are based on their answers.
of these indicated they use ibm focus for test design for more than years use it for years and for less than a year.
.
.
results out of the participants indicated they used the testplan and model matrix in their work and indicated they used the model matrix in their work.
the test plan graph and the test plan treemap were used by participants.
the test plan and model treemap and the constraints graph were used by participants.
finally the parameter graph was used by participants.
these numbers indicate that the matrix based views are the most popular ones they were used more than twice than the non popular ones.
to assess the perceived quality of each of the views we report for each view its overall rating average median and standard deviation sd .
note that each view was rated by a di erent number of participants as detailed above.
the median rating for each of the views was out of .
the model and test plan treemap received the highest average rating of .
sd .
followed by the test plan treemap with average of .
sd .
then both model matrix and constraints graph with average of .
sd .
and .
respectively .
next was the parameter graph with average of .
sd .
followed by model and test plan matrix with average of .
sd .
.
closing the list is the test plan graph with average of .
sd .
.
to answer the results show that the matrix visualizations are the most popular ones and that the treemap visualizations and speci cally the model and test plan treemap view are the ones most appreciated by the survey participants.
to assess the four quality aspects asked about in the survey we report for each view its overall rating average median and standard deviation.
the median rating for each of the four qualities was .
for usefulness the average rating was .
sd .
for comprehension assistance .
sd .
for trust in the results .
sd .
and for communicating to others .
sd .
.
in addition the average rating for the statements that the visualizations made ibm focus better and more fun to use were .
median sd .
and .
median sd .
respectively.
of the participants indicated they are visual people i.e.
agreed or strongly agreed to the statement that they liked using visualizations in their work.
when considering the answers of these participants only the overall ratings increase in all aspects with lower standard deviation.
for usefulness the average rating is .
sd .
for comprehension assistance .
sd .
for trust in the results .
sd .
and for communicating to others sd .
.
the average rating for the statements that the visualizations made ibm focus better and more fun to use are .
sd .
and .
sd .
respectively.
to answer all quality aspects were rated relatively high and with low variance.
none of these four qualities was very di erent than the others.
.
.
limitations and threats to validity we discuss threats to the validity of the survey results starting with internal validity.
our visualization views were introduced recently to ibm focus and their use is optional.
we note that out of more than practitioners who are registered as users of ibm focus in ibm only chose to answer our survey.
from these only have indicated that they have already used at least one of the visualizations in their work.
the results we report here are based on the answers of these practitioners.
this relatively small number of answers re ects the fact that the visualizations are not perceived as a critical feature of ibm focus and that it may take time until more users of ibm focus adopt and take advantage of them.
that said we are encouraged by comments we have received from several practitioners who answered the questionnaire including e.g.
i didn t know about a couple of the later graphs until taking this survey like the constraints one .
and i really like all the new graphical features unfortunately i ve not had the time to really understand how they all work.
if i did i think i d use them in my work much more.
tks .
there are also threats to external validity.
due to the selfselection of our survey participants and the small sample the survey results may not be representative hence generalization is questionable.
.
real world industrial projects we report on two real world industrial projects in which our visualization was used as part of the deployment of ctd for test design.
the projects are reported by the second listed author who works as a test architect in the systems division of ibm.
they were not done speci cally for the purpose of evaluating the visualizations but as part of the ordinary work of this author in ibm.
ibm ts7700 virtual tape server vts vts tests were designed and used for functional testing covering functional operation variations.
the emphasis was on proper completion of a single task in a given test environment.
the model contained parameters in total.
the test environment was represented by model parameters machinemodel values number of drives values drive type values mediatype values and encryptedtype values and functional tasks were represented by another parameter test with values for the di erent tasks.
there were constraints on the value combinations for example limiting speci c tasks to speci c environment elements in which they can be performed resulting in legal tests.
pairwise requirements were used and ibm focus created a test plan containing tests.
at rst no limitation was considered with respect to affordability of total tests given test resources people machines time .
the resulting tests were considered a ordable.
however the test team was informed that an early milestone playback existed.
this milestone entailed providing a beta version of the new function to select customers.
given that there were not enough resources to execute all the tests prior to the early milestone the test team began using ibm focus visualizations.
before any testing was started the test team used the visualizations to assist in making the decision on which combinations of test to prioritize.
the prioritization would allow su cient coverage prior to support of beta customers.
the tests were prioritized for execution by studying the treemapsshowing incremental and coverage bene ts.
figure depicts the incremental and non incremental treemap for vts pairwise test plan.
initially the incremental treemap for the test plan was explored pointing out how much more incremental coverage bene ts the rst couple tests provide.
by deselecting incremental the tests with the highest value coverage were quickly seen.
these views enabled the team to think about what tests they may want to try rst.
from both treemaps they got an idea that they like tests and for incremental bene ts but they also like tests and for the value coverage bene ts.
the test designers then used the graphs to see the speci c relationships covered by the tests they selected to execute rst then and .
for example figure visualizes the relationship between test and the other tests by selecting the node that represents test in the graph.
the graph shows how test dominates most of the other tests i.e.
covers value pairs also covered by most other tests but does not have common coverage with tests and .
the test designers then looked at the test plan model matrix view depicted in figure .
this allowed them to con rm the total coverage o ered by the test plan.
incidentally it was mentioned that it might be helpful if there were a matrix view that would show percentage coverage o ered by the subset of tests they had selected for their beta support1 .
lastly the test designers drilled down into the cells with validity percentage less than to see that the expected constraints were applied as desired.
ibm zenterprise ec12 enhanced driver maintenance edm edm tests were of a system level.
they cover interactions between di erent system functions.
each test represents what can be described as an end to end sequence of several steps for related and also unrelated tasks.
these main steps are re ected by the parameters pre xed with pre during and post.
in total there were parameters in the model with number of values per parameter ranging from to and with constraints resulting in a test space containing 109valid tests.
given that many of the tasks introduced into the execution sequences are unrelated to edm ow and that these same tasks can take hours to complete the test designer wished to limit the appearance of some tasks in the test case matrix.
parameter value weights as supported by ibm focus were de ned in order to meet this requirement.
the coverage requirement was way across three di erent parameters that were considered central to the execution sequence pre condition during workload and post condition .
all of the other parameters were allowed to be distributed across the resulting tests a.k.a.
to oat in the jargon used by the test designers .
this is where weights were chosen to emphasize and de emphasize certain parameter values in the resulting tests2.
using the above coverage requirements and weights the resulting test plan produced by ibm focus contained tests.
edm testing had an early milestone like vts testing.
again this milestone was de ned such that not all the tests could be attempted before that date.
the test designer considered whether certain tests might be likely to provide more 1we have added this to ibm focus list of feature requests.
2assigning weights to values in a combinatorial testing model is a requirement on the distribution of values in the solution test set.
this requirement re ects the importance of di erent values to the tester .
151figure on the left the test plan treemap for vts and its pairwise test plan containing tests using incremental coverage.
on the right the same test plan using non incremental coverage.
figure the test plan graph for vts and its pairwise test plan containing tests where the node representing test is selected in order to explore its coverage relative to the other tests.
figure the matrix for vts model and its derived pairwise test plan containing tests.
coverage bene ts.
from studying the test plan treemaps and graphs for edm tests it became clear that unlike vts testing where there were coverage bene ts o ered by starting with certain tests edm tests did not o er such an advantage.
the coverage was largely equivalent from one test to another albeit for di erent parameter values.
this was reected by identical sizes and shades for the treemap and identical node sizes for the graph.
for this reason edm test execution leader was given the freedom to select which tests to do and when.
the matrix view was used to evaluate the impacts of the di erent weights as applied to parameter values.
figure top and bottom depict the matrix views for the test plan with and without the use of weights respectively.
as expected the pairs involving the three central parameters mentioned earlier maintain coverage.
the intent was as mentioned to minimize speci c parameter values appearance in the resulting tests.
by using the matrix view with the drill downs for speci c cells judgements were made by the subject matter expert test designer regarding suitability of resulting test coverage.
these judgements were based on historical data relating to prior edm test e orts and performance on customer systems.
for example previous edm releases demonstrated that while there were many di erent pre level parameter values one particular parameter value dominated actual customer usage.
coincidentally the dominant value was also the least costly in terms of test environment setup time.
weights were used to favor this value in the tests.
by using the matrices in figure and drilling into the pre level precondition post condition during workload cells the test engineer con rmed that the desired pre level parameter value distribution was achieved.
in prior edm releases without this ctd visualization capability the engineer resorted to this evaluation by eye over the entire test list.
projects discussions the similarities and di erences between these two case studies of ibm focus visualizations are interesting.
on the one hand both test e orts were motivated by early milestone coverage objectives.
the visualizations allowed the test designers to plan for test execution accordingly.
on the other hand the two projects di ered in the type of testing functional versus system testing and in the interaction coverage requirements.
the resulting observation that the test plan treemap and graph were useful for vts test plan and less useful for edm test plan may be related to these di erences.
the reason is that while using pairwise requirements to generate the test plan induces di erent levels of pairwise coverage for di erent tests with respect to the rest of the test plan having most of the parameters oat without coverage requirements as in edm induces similar levels of coverage for di erent tests.
both test plan design e orts did bene t from the matrix view with the drill down.
in vts test plan the matrix view proved bene cial for constraint evaluation.
in edm it proved advantageous for deciding on oating parameter value distribution and for constraint evaluation.
in sum ibm focus visualizations allowed test designers to get vital insight into their models and into the coverage provided through ctd generated test plans and thus helped them better tune trust and ultimately improve their test design and execution approach.
152figure at the top the matrix for edm and its test plan derived from way requirements on the three central parameters without weights.
at the bottom the matrix for the test plan derived using the same coverage requirements with the addition of weights.
note the di erent shades and coverage levels for the same cells in the two matrices.
.
related work many ctd tools are listed in e.g.
.
to the best of our knowledge almost none is providing visualization of models and test plans with the exceptions described below .
we are aware of only three works that suggest the use of visualizations related to combinatorial models and test plans.
a short paper by lopez herrejon and egyed suggested the use of visualizations related to combinatorial models and test plans speci cally for pairwise test plans in the context of software product lines.
this paper did not present implementation and evaluation.
the nist combinatorial coverage measurement tool creates a graphical view for a given test set showing for each level of value coverage the percentage of parameter combinations that reached that coverage level.
the view is accumulative and does not refer to individual parameter combinations.
finally the commercial ctd tool hexawise includes a value level coverage matrix and has a slider one can use to see how the coverage increases as one adds tests from the test plan.
the tool does not show a matrix at the parameters level and does not include any additional visualizations.
save of the above to the best of our knowledge our work is the rst to present implement and evaluate interactive visualizations for combinatorial models and test plans.
.
conclusion and future work we presented visualizations based on matrices graphs and treemaps as a means to assist in comprehension of combinatorial models and test plans and in prioritizing a test plan.
we integrated the visualizations into ibm focus a commercial industry strength ctd tool using a non trivial symbolic implementation and evaluated it via a user survey and two real world industrial projects.
the evaluation shows that the visualizations can help testers better tune trust and improve their test design and execution approach.matrices graphs and treemaps are useful if they are not too large and complex otherwise additional techniques should be used to help the viewer in exploring them such as sheye graph views see e.g.
.
our use of interactive drilldown and focus in all three visualization forms which follows the overview rst zoom and lter details on demand paradigm is one means to address this challenge.
in terms of performance our use of bdd based data structures and algorithms makes the computation of the data for the visualizations scale well in all cases we encountered the computation took no more than a few seconds we did not receive any scale complaints from the users of ibm focus.
in the future we plan an extended and more systematic user evaluation.
we would also like to expand the interactivity of our visualizations by enabling on they updates to the views following changes in the underlying data layer e.g.
when choosing di erent subsets of the test plan for execution.
finally we plan to investigate the use of visualization to help ibm focus users compare between di erent versions of a combinatorial model and between alternative combinatorial test plans.
.