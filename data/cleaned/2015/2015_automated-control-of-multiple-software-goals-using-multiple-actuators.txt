p y v o e automated control of multiple software goals using multiple actuators maggio martina papadopoulos alessandro vittorio filieri antonio hoffmann henry published in esec fse proceedings of the 11th joint meeting on foundations of software engineering .
.
document version peer reviewed version aka post print link to publication citation for published version apa maggio m. papadopoulos a. v. filieri a. hoffmann h. .
automated control of multiple software goals using multiple actuators.
in esec fse proceedings of the 11th joint meeting on foundations of software engineering pp.
.
association for computing machinery acm .
total number of authors general rights unless other specific re use rights are stated the following general rights apply copyright and moral rights for the publications made accessible in the public portal are retained by the authors and or other copyright owners and it is a condition of accessing publications that users recognise and abide by the legal requirements associated with these rights.
users may download and print one copy of any publication from the public portal for the purpose of private study or research.
you may not further distribute the material or use it for any profit making activity or commercial gain you may freely distribute the url identifying the publication in the public portal read more about creative commons licenses take down policy if you believe that this document breaches copyright please contact us providing details and we will remove access to the work immediately and investigate your claim.automated control of multiple so f tware goals using multiple actuators martina maggio lund university sweden martina control.lth.sealessandro vi t torio papadopoulos m alardalen university sweden alessandro.papadopoulos mdh.se antonio filieri imperial college london uk a. f ilieri imperial.ac.ukhenry hoffmann university of chicago us hankhoffmann cs.uchicago.edu abstract modern so f tware should satisfy multiple goals simultaneously it should provide predictable performance be robust to failures handle peak loads and deal seamlessly with unexpected conditions and changes in the execution environment.
for this to happen so f tware designs should account for the possibility of runtime changes and provide formal guarantees of the so f tware s behavior.
control theory is one of the possible design drivers for runtime adaptation but adopting control theoretic principles o f ten requires additional specialized knowledge.
to overcome this limitation automated methodologies have been proposed to extract the necessary information from experimental data and design a control system for runtime adaptation.
t hese proposals however only process one goal at a time creating a chain of controllers.
in this paper we propose and evaluate the f irst automated strategy that takes into account multiple goals without separating them into multiple control strategies.
avoiding the separation allows us to tackle a larger class of problems and provide stronger guarantees.
we test our methodology s generality with three case studies that demonstrate its broad applicability in meeting performance reliability quality security and energy goals despite environmental or requirements changes.
ccs concepts computer systems organization !embedded systems redundancy robotics networks!network reliability keywords adaptive so f tware control t heory dynamic systems non functional requirements.
acm reference format martina maggio alessandro vi t torio papadopoulos antonio filieri and henry hoffmann.
.
automated control of multiple so f tware goals using multiple actuators.
in proceedings of 11th joint meeting of the european so f tware engineering conference and the acm sigsoft symposium on the foundations of so f tware engineering paderborn germany september esec fse pages.
.
.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for pro f it or commercial advantage and that copies bear this notice and the full citation on the f irst page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permi t ted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior speci f ic permission and or a fee.
request permissions from permissions acm.org.
esec fse paderborn germany acm.
.
.
.
.
.
.
introduction t he growing complexity and dynamic unpredictability of computer systems has motivated the design and implementation of a new class of self adaptive so f tware systems .
such so f tware automatically reacts to changes in both the operating environment and application behavior to ensure that certain high level goals are met.
t he development of self adaptive so f tware creates however a huge challenge designing so f tware systems that are robust in the face of dynamic behaviors we are not aware of at design time.
to face the challenge so f tware systems are o f ten highly con f igurable and can o f ten modify their behavior during runtime.
control theory provides a vast array of tools for designing robust adaptive systems that operate with formal guarantees .
t his combination of robustness and formal grounding has led to increased interest in developing self adaptive so f tware based on control theoretic techniques .
while several ad hoc approaches to control design have arisen recent work proposes a general automated methodology for creating formally robust so f tware control .
however this f irst approach can handle only a single measurable goal e.g.
performance or reliability but not both .
modern so f tware however must meet multiple o f ten con f licting goals.
for example so f tware for cyber physical systems must meet performance energy and security requirements simultaneously.
very li t tle research has addressed automating the design of selfadaptive so f tware that meets multiple goals.
a f irst step proposes a hierarchy of single goal controllers .
in this approach goals are ordered.
higher priority goals are met f irst using one set of actuators or tunable so f tware parameters and then those actuators are removed from consideration for the controllers that manage lower priority goals.
priorities can be set based on user preference.
t he actuators are partitioned into disjoint sets with fewer actuators available to meet lower priority goals.
despite being one of the f irst solutions to offer multidimensional control this hierarchical approach has two limitations.
first due to the partitioning of actuators the controller may not reach low priority goals even when they are feasible.
a combined approach that considers the effects of concurrent actuation however should reach any set of feasible goals.
second the hierarchical approach only provides formal guarantees for the highest priority goal others are not guaranteed.
t hus there is a need for a formally veri f iable methodology to automate the design of self adaptive so f tware that meets multiple goals using multiple actuators.
finally the approach in requires actuators to assume only a f inite number of values.
while continuous actuators can be automatically discretized the complexity of control may grow exponentially esec fse september paderborn germany m. maggio a.v.
papadopoulos a. filieri h. hoffmann limiting its applicability when timely decisions are required or when the available computational capacity is limited e.g.
iot .
we therefore propose a novel automated strategy based on multivariable control that simultaneously uses all available actuators to meet all goals.
unlike prior work our approach allows users to reach sets of goals that are unreachable with the prior hierarchical approach and in fact to reach any set of feasible goals.
identify the largest subset of goals that are reachable with the available actuators.
additionally users can express desires like controlling the largest subset of goals that contains speci f ic nondeniable objectives e.g.
f inding the largest set of reachable goals where request latency is below .
seconds.
shape the so f tware s dynamic behavior by specifying a cost function to be optimized while prioritizing the goals based on their relevance.
for example users may prefer upgrading an existing virtual machine instead of starting up a new one.
provide faster convergence to goals a f ter system perturbation.
t he cascaded approach determines an actuator se t ting for each goal waits for that goal to be reached and then addresses the next goal.
in contrast the multivariable controller sets all actuators simultaneously offering much faster convergence to the goals and response to environmental f luctuation.
model and exploit the mutual dependencies that exist among the actuators and goals.
instead of considering partitions of actuators one by one we model all the combined effects and exploit them to obtain more precise and efficient control.
limit the identi f ication time needed for the system design.
instead of testing all possible values for different actuators during the learning phase we only need to test random switches from the minimum to maximum value for each actuator.
t he length of the initial model identi f ication phase is then greatly reduced becoming proportional to the number of actuators and not to the number of permutations of all the possible actuator values.
tune the tradeoff between control overhead and optimality of the actuator se t tings with respect to the cost function.
t his tunability allows users to construct solutions with acceptable overhead whereas no prior control synthesis approach supports user adjustable overhead.
we demonstrate the advantages of the proposed approach through three case studies developing self adaptive so f tware including a video encoder a secure radar system and a dynamic service binder.
we use case studies from prior work to highlight the additional capabilities proposed in this paper.
t he remainder of this paper is organized as follows.
section compares the approach presented in this paper to other automated methodologies for automated multiconcern control.
section presents the technical details of the proposed approach and the section discusses the formal guarantees that can be given using the proposed strategy.
section shows experimental evidence of how the proposed strategy works and section concludes the paper.
to foster future research and enable comparison with our approach we published the source code for our experiments and to generate the control strategies used in the remaining of this paper1.
1h t tp related work modern so f tware systems must be robust to frequent unpredictable changes to their execution environment users and requirements.
self adaptive so f tware adjusts its behavior at runtime withstanding external changes as they are detected or even proactively avoiding critical situations .
one great challenge of self adaptation is ensuring its effectiveness and dependability .
control theory has de f ined a variety of techniques for controlling the behavior of physical plants and its formal framework serves as a basis for a variety of so f tware adaptation mechanisms .
control of so f tware systems.
recent surveys capture the current state of the art applying control theory to so f tware applications from controlling web server delays to data service management resource allocation operating systems tuning and energy management .
some of these systems use automata based formalisms to abstract so f tware s behavior and temporal logic to specify some of its requirements while we focus here on discrete time control where equation based models are used to satisfy quantitative so f tware properties.
most discrete time control approaches satisfy quantitative nonfunctional requirements controlling tunable actuators identi f ied either by the designer or automatically and whose value affects the so f tware behavior.
t he majority of so f tware controllers belong to the family of proportional integral derivative pid controllers .
pids are computationally inexpensive and support formal analysis of their dynamics.
t hey are however limited to linear or linearized system models and mostly control a single goal e.g.
the response time using a single actuator e.g.
the number of vms .
t his approach is known as single input single output siso .
in contrast multiple input multiple output mimo controllers are more complex managing con f licting goals and contending actuators.
model predictive control mpc .
mpc is an effective f lexible solution for mimo problems .
mpc design incorporates the different actuators higher order dynamics i.e.
it captures how each actuator affects each goal and interferes with the other actuators.
mpc controllers decide the control signals for the next time step by optimizing a utility function that accounts for both the current operating point and all possible trajectories up to a given horizon .
reasoning based on predictions of future behavior has proven effective in other self adaptation approaches though with reasoning techniques mostly ad hoc and tailored to user de f ined models.
in contrast mpc provides a more general analysis framework and the ability to re f ine and compensate for model inaccuracies by exploiting a feedback loop.
mpc based adaptation mechanisms have been used to de f ine controllers for a class of goal models and resource provisioning in cloud environments under uncertainty .
t hese mpc solutions however requires the developer to explicitly provide a system model and are tied to speci f ic problems in turn they require the developer to master modeling techniques and do not generalize beyond the models manually de f ined by the developer.
automated controller synthesis.
automated controller synthesis eases the integration of control theoretical adaptation into so f tware systems.
abstracting speci f ic views of the so f tware systemautomated control of multiple so f tware goals using multiple actuators esec fse september paderborn germany into equation based models and de f ining adequate control strategies are open problems for current development processes .
t he f irst automated modeling and controller synthesis approach has been proposed in .
it builds a locally linearized model of a siso system collecting input output measurements during system execution.
t hen a tunable controller is continuously adjusted around the current operation point to provide computationally efficient and robust adaptation decisions under mild assumptions on the smoothness of the possibly non linear system behavior.
t his approach cannot deal with general mimo systems however.
recent work automatically synthesizes mimo controllers for discrete systems by chaining multiple siso controllers one for each goal together in a hierarchy .
t he hierarchy re f lects goal prioritization and each controller produces a continuous reference signal that is converted into a mixture of the discrete input con f igurations using pulse width modulation .
t he two main limitations of this solution are the use of disjoint sets of actuators along the hierarchy of siso controllers and the need for actuators to assume values from a f inite domain.
actuators that are used to reach a higher priority goal cannot be changed to meet the lower priority ones limiting the controller s ability to achieve all goals optimally at the same time see also the experimental comparison in section .
.
t he need for f inite domains for the actuators requires the discretization of continuous control inputs while this can be done automatically as in the complexity of the control law may grow exponentially limiting the practical applicability of the approach when timely decisions are required or the controller has to run on low power devices like embedded systems.
t he approach in extends formulating the conversion of the continuous