.
million links in source code comments purpose evolution and decay hideaki hata christoph treude raula gaikovina kula and takashi ishio nara institute of science and technology hata raula k ishio is.naist.jp university of adelaide christoph.treude adelaide.edu.au abstract links are an essential feature of the world wide web and source code repositories are no exception.
however despite their many undisputed benefits links can suffer fromdecay insufficient versioning and lack of bidirectional traceabil ity.
in this paper we investigate the role of links contained insource code comments from these perspectives.
we conducted alarge scale study of around .
million links to establish theirprevalence and we used a mixed methods approach to identifythe links targets purposes decay and evolutionary aspects.we found that links are prevalent in source code repositories that licenses software homepages and specifications are commontypes of link targets and that links are often included to providemetadata or attribution.
links are rarely updated but many linktargets evolve.
almost of the links included in source codecomments are dead.
we then submitted a batch of link fixingpull requests to open source software repositories resulting inmost of our fixes being merged successfully.
our findings indicatethat links in source code comments can indeed be fragile andour work opens up avenues for future work to address theseproblems.
i. i ntroduction and motiv ation when ted nelson started project xanadu1in he envisioned an entire form of literature where links do not break as versions change where documents may be closelycompared side by side and closely annotated where it ispossible to see the origins of every quotation and in whichthere is a valid copyright system a literary legal and businessarrangement for friction less non negotiated quotation atany time and in any amount .
links were supposed tobe visible and could be followed from all endpoints withpermission to link to a document explicitly granted by theact of publication .
decades later nelson witnessed thebirth of the world wide web which in his words trivializedthis original xanadu model vastly but incorrectly simplifyingthese problems to a world of fragile ever breaking one waylinks with no recognition of change or copyright and nosupport for multiple versions or principled re use .
aspredicted by nelson the internet and its implementationof links have afforded us countless opportunities since butalso experienced issues such as link decay digitalplagiarism and the need to rely on external services tokeep historical copies of web content .
this work we investigate the role of links contained in source code comments from the perspective of these oppor tunities and challenges what purposes do they serve how dothey and their targets evolve and how often do they break?the significance of this work is closely related to softwaredocumentation and self admitted technical debt .
toimprove documentation and mitigate potential issues it isimportant to understand developers typical knowledge sharingactivities by referencing external sources and to investigatelink decay as a potential problem.
our work is related to and inspired by recent research on source code comments in terms of documentation traceability licensing and attribution.
for example source code commentshave been found to document technical debt and tosupport articulation work .
they are fragile with respectto identifier renaming i.e.
traceability between comments andcode is easily lost .
source code comments located at thebeginning of a file often include a text or a link indicatingthe copyright and license information of the file .
thesecomments are updated during the evolution of a product bythe copyright holders .
links in source code commentsare sometimes used for attribution when source code hasbeen taken from elsewhere however the vast majority ofcode snippets is copied without attribution .
despitethese research efforts to the best of our knowledge therole of links in source code comments has not been studiedcomprehensively so far.
to fill this gap in this paper we first lay the foundation for understanding the role of links in source code commentsby collecting links from source code comments in25 git repositories.
our parser is able to extract commentsfrom source code written in programming languages.
wefind that links in source code comments are common morethan of the repositories in our study contained at least onelink.
through a qualitative study of a stratified sample of 146links we establish the kinds of link targets that are referencedin source code comments.
to understand how links are used toindicate issues related to attribution technical debt copyright and licensing our qualitative study also uncovers the variouspurposes for including links in source code comments.
wefind that licenses software homepages and specifications areamong the most prevalent types of link targets and that linksare often used to provide metadata or attribution.
ieee acm 41st international conference on software engineering icse .
ieee authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
link decay has the potential of making documentation in source code comments fragile and buggy.
we investigate this issue from two perspectives we analyze the evolution of the links in the repositories commit histories and we examine how often link targets referenced in source code comments change.
we find that links are rarely updated but their targets evolve in almost of all cases leading to dead links.
we then submit fixes to a subset of these broken links as pull requests most of which were successfully merged by the maintainers of the corresponding open source projects.
in summary this paper s contributions are three fold a large scale and comprehensive study of around .
million links to establish the prevalence of links in source code comments a mixed methods study to identify targets purposes and evolutionary aspects of links in source code comments and an analysis of the extent to which links in source code comments are affected by link decay with all nine linkfixing pull requests submitted to active open source projects already merged by the projects maintainers.
ii.
r esearch method in this section we present our research questions and data collection methodology and we introduce the data contained in our online appendix.
a. research questions the main goal of the study is to gain insights into the purposes evolution and decay of links in source code comments.
based on this goal we constructed seven research questions to guide our study.
we now present each of these questions along with the motivation for each.
rq1 how prevalent are links in source code comments?
the motivation of rq1 is to understand whether the use of links in source code is a common practice in the wild.
furthermore we would like to quantitatively explore the distribution diversity and spread of these links across different types of software projects.
rq2 what kind of link targets are referenced in source code comments?
rq3 what purpose do links in source code serve?
rq2 and rq3 require a deeper analysis of the repositories where we would like to understand the nature and purpose that the links serve.
the key motivation for rq2 is to identify the types of link targets that developers are likely to refer to in source code comments.
furthermore we would like to characterize the most common types of linked domains.
the key motivation for rq3 is to determine the reasons why developers use links.
rq4 how do links in source code comments evolve?
rq5 how frequently do link targets referenced in source code comments change?
rq6 how many links in source code comments are dead?table i collected repositories and links candidate repo obtained repo links c c java javascript python php ruby sum rq4 rq5 and rq6 investigate the phenomenon of links in source code comments from an evolutionary and maintenance standpoint.
we would like to understand whether developers are updating or maintaining these links after introducing them to the source code whether the targets evolve and how many of the links are affected by link decay.
rq7 can we fix dead links in source code comments?
our aim for rq7 is two fold.
first we would like to show that dead links can be restored and fixed.
second the results can serve as a validation that developers care about the maintenance of links in their code.
b. data collection we now describe our methods for repository preparation comment extraction and link identification.
repository preparation.
in this work we analyzed active software development repositories on github written in common programming languages.
as common programming languages we selected seven languages c c java javascript python php and ruby.
these languages have been ranked consistently in the top languages on github from to based on the number of repositories from to the number of pull requests from to and the number of pull requests in .
using the ghtorrent dataset2 we collected active repositories for the seven languages using the following criteria i having more than commits in their entire history the same threshold used in previous work and ii having at least commits in the most active two years.
we designed the second criterion to remove long term less active repositories and short term projects that have not been maintained for long and may not be software development projects .
for example we were able to exclude software engineering amsterdam sea of ql which is a repository of a collaboration space for students in a particular university course and was reported as a false positive of software project identification .
we determine repositories languages based on the ghtorrent information.
forked repositories are excluded if repositories are recorded in ghtorrent as forks of other repositories.
with the above criteria we prepared the candidate list of target repositories for the seven languages as shown in table i.
2mysql database dump from html.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
when we collected these candidate repositories from may to june some repositories were not available because they had been deleted or made private.
in total we obtained more than repositories which is almost of the candidate repositories.
comment extraction.
from each git repository we extract source files of the labeled language in the head commit the latest snapshot of a cloned repository .
for example only .java files are extracted from a java repository.
to process source files we employ antlr4 lexical analyzers for six languages other than ruby because their grammar definitions are available in the official example repository.3for ruby we use a standard library ripper parser.
we extract all single line comments e.g.
in c and multiline comments ... according to the grammars.
in the case of python string literals ... are also regarded as comments because they include documents known asdocstring .
in the case of php both html comments and php code comments are extracted.
link identification.
from the extracted comments links are identified using the regular expression http s localhost and ip addresses which are mainly used for private addresses are excluded and validated with the perl module data validate uri .
we identified a total of links from the collected repositories as seen in table i. all links are recorded with the information of the corresponding file repository identifiers pairs of account and repository names commit hashes and the line number where the surrounding comment starts.
considering the number of repositories we found that repositories written in c c and java tend to contain more links compared to repositories in python and ruby.
c. online appendix our online appendix contains our links associated with the information of languages and comment location github links including account names repository names commit hashes file paths and line numbers .
the appendix is available at iii.
f indings in this section we present our findings for each research question.
a. prevalence of links rq1 to understand the prevalence of links referenced in source code comments rq1 we conducted a quantitative analysis of our collected dataset in terms of link existence domain diversity and domain popularity.
link existence.
figure 1a show the percentages of repositories that have at least one link in their source code comments.
we see that in every language more than of the repositories contain links in source code comments.
especially for repositories written in c c and php more than of the repositories refer to external sources via links.
diversity.
in the obtained links there are distinct domains internet hostnames .
figure 1b shows the distribution of the number of distinct domains per repository for repositories that have at least one link in their source code comments.
median values are presented in the figure.
we found that there is a diversity of links in a single repository even when summarized by their domains.
especially in repositories written in c c javascript and php source code comments link to or more different domains median .
popular domains.
figure 1c illustrates the proportion of languages shared by the top most referenced domains.
note that domain ranking is based on the number of repositories instead of the number of links.
if links belonging to a domain appear in a small number of repositories the domain will be low ranked even if those repositories contain many links.
thegithub.com domain is the top referenced domain in our dataset.
more than repositories across seven languages referenced content on github.com .
as we will describe in detail in section iii b such content includes software homepage code and profile of a github contributor.
however we find in section iii f that many links togithub.com are no longer available.
we also found many links to code.google.com 7th rank .
such content includes bug report software homepage and code .i na statistically representative sample of common domains sampling described in section iii b two out of three links to code.google.com are redirected to github.com and one links to code.google.com archive .
thestackoverflow.com domain is the second most referenced domain and has been linked to from repositories.
as identified in previous work stack overflow is widely used as a knowledge exchange platform between programmers where programmers can obtain knowledge of good practices from code examples for example.
the large number of links to stackoverflow.com in source code comments can be another piece of evidence of developers needs for knowledge acquisition from external resources.
we study how code could be obsolete by not being updated when external sources change in section iii e. the top domains differ by programming language the domain is frequently linked from java repositories and the domain is referenced from c and c repositories.
repositories written in javascript have many links to the web related domains of anddeveloper.mozilla.org .
summary we revealed that links in source code comments are prevalent.
in more than of the active repositories written in seven common languages there exists at least one link in each repository.
the top three most frequently referenced domains per repository are github.com stackoverflow.com and en.wikipedia.com .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
cc javajavascriptphppythonruby type a anolink link a ratio of repositories with links12 c c java javascript php python ruby b distribution of number of different domains per repository .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
others developer.mozilla.org tools.ietf.org msdn.microsoft.com code.google.com en.wikipedia.org stackoverflow.com github.com a a a a a a aruby phppythonjavascript java c c c proportion of repository languages shared by the top most referenced domains.
fig.
analysis of links by a languages b domain diversity and c top domains for rq1 fig.
distribution of links per domain b. link targets rq2 to understand what kind of link targets are referenced in source code comments rq2 we conducted a qualitative study of a statistically representative and stratified sample ofall links in our dataset.
after an initial analysis of the link data it quickly became obvious that some domains account for many links while otherdomains are rare.
based on this observation and to ensurediversity of our sample we divided the data into three strata links to commonly linked domains links to domains sometimes linked and links to rarely linked domains.
to decide on thresholds for distinguishing domains into those that are commonly sometimes and rarely linked weconducted a visual analysis of the distribution of links perdomain in our dataset.
figure shows this distribution usinga log scale.
while content from the most commonly linkedtable ii construction of the stratified sample strata domains links links in sample common sometimes rare sum domain was linked more than a million times many domainsappeared in our dataset with a much lower frequency.
we usedthe step in the distribution on the left hand side of figure 2to distinguish between domains that are commonly linked anddomains that are sometimes linked with a cutoff frequency of230.
we consider domains which account for exactly one linkin our dataset to be rarely linked.
table ii shows the number ofdomains and the number of links in each strata.
we then drewa statistically representative sample from each bucket.
therequired sample size was calculated so that our conclusionsabout the ratio of links with a specific characteristic wouldgeneralize to all links in the same bucket with a confidencelevel of and a confidence interval of .
4the calculation of statistically significant sample sizes based on population size confidence interval and confidence level is well established first published by krejcie and morgan in .
the qualitative analysis was conducted in multiple iterations in the first iteration the first two authors independentlycoded links from the sample discussed a common coding authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
guide and tested this coding guide on another links from the sample refining the guide merging codes and adding codes which had been missed.
the initial codes were informed by those used by aniche et al.
to categorize content posted on news aggregators however we found that their codes did not cover all types of link targets present in our dataset.
in the second iteration the four authors of this paper then independently coded another links from the sample using the coding guide designed by the first two authors.
we then calculated the kappa agreement of this iteration between all four raters for cases and all codes that emerged from the qualitative analysis.5the kappa agreement was .
or almost perfect .
based on this encouraging result the remaining data was then coded by a single author.
the following list shows the codes that emerged from our analysis along with a short description which was available in the coding guide link target does not exist anymore or cannot be accessed licence licence of a software project software homepage main web presence of a library or software project specification anything that resembles a requirements document or a technical standard organization homepage main web presence of an organization or company other anything that does not fit the other codes including if sign in is required tutorial or article technical article or tutorial without commenting section blog post otherwise api documentation documentation of an api element blog post technical content with a commenting section application interactive application e.g.
web application online utility bug report bug report or issue in an online bug issue tracker research paper academic paper personal homepage personal homepage of one individual code a source code file forum thread thread in a forum or entire forum github profile profile of a github contributor book content chapter section of a book or entire book q a thread question and answer thread but not stack overflow stack overflow question and answer thread on stack overflow taxonomy of link targets.
table iii shows the result of our qualitative analysis.
for commonly linked domains license is the most common type of link target accounting for more than half of the links in our sample followed by software homepages i.e.
the main web presence of a library or software project.
for domains that are linked sometimes from source code comments the most common type of link target was a non existing link target.
this is a first indicator of the decay 5kappa agreement was calculated using iii frequency of link target types in our sample common sometimes rare license software homepage specification organization homepage other tutorial or article api documentation blog post application bug report research paper personal homepage code forum thread book content github profile stack overflow thread q a thread sum of links in source code comments which we will analyze in detail in the next sections.
software homepages are also prevalent as are organization homepages both accounting for more than of all links in our sample.
finally for links from domains which are rarely linked the problem of decay is even more serious affecting of the links in this sample.
in other words we can conclude with a confidence that between and of all links to domains which are rarely linked from source code comments are dead or inaccessible.
the prevalence of the code other in the results for links to rarely linked domains is an indicator of the diversity of links present in source code comments.
summary we identified more than a dozen different kinds of link targets with dead links licenses and software homepages being the most prevalent.
dead links are particularly common for rarely linked domains.
c. link purpose rq3 to understand the purpose of links referenced in source code comments rq3 and similar to rq2 we again employed a qualitative analysis of our statistically representative and stratified sample of links only this time focusing on the origin of a link in a source comment rather than the target of the link.
we used the same iterative approach to design a coding guide and validated the coding guide by having the four authors code links independently this time leading to a kappa agreement of .
which indicates substantial agreement .
the somewhat lower agreement can be explained by the need to extrapolate the purpose of a link from its context in the source code alone without being able to interview the contributor who added the link.
the following list shows all codes that emerged from our analysis for link purpose along with a short description authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table iv frequency of link purposes in our sample common sometimes rare metadata source attribution source code context see also commented out source code link only self admitted technical debt see sum which was available in the coding guide.
the coding guide was informed by work on source code comments e.g.
selfadmitted technical debt e.g.
and attribution e.g.
.
metadata the link relates to the author of the source code a related organization or the license source attribution the comment explicitly indicates that the link is a source of some aspect of the source code e.g.
algorithm source code context the link adds additional information to the source code use this code for things that do not obviously fit into any of the previous see also the comment explicitly indicates that the link points to additional reading material usually accompanied by a phrase such as see also .
commented out source code the link is part of the source code e.g.
as a parameter value but has been commented out link only the comment only contains the link self admitted technical debt bug related like workaround under development and so on see the link is accompanied by see but no further explanation note that our coding guide required the indicators of seealso and source attribution to be explicit thus reducing the guesswork required as part of the qualitative analysis.
taxonomy of link purpose.
table iv shows the results of the qualitative analysis.
for links to commonly linked domains providing metadata e.g.
in the forum of licenses or author information is by far the most common purpose of a link covering three quarters of the links in our sample.
for links to domains which are only sometimes linked metadata only accounts for one third of the data followed by links included for the purpose of attribution providing context or see also information.
the results for links to rarely linked domains are even more diverse we can see from the table that these links are used for context attribution and as part of the source code functionality albeit commented out to name the top three.
six of the eight codes account for at least of the links in this part of our sample.
matching link target with purpose.
based on the qualitative analysis conducted for answering rq2 and rq3 about the targets and purposes of links in source code comments we are now able to investigate the relationships between the different types of link targets and the different purposes whichtable v associations between link target type and link purpose strata association rule conf.
supp.
common license metadata .
common metadata license .
common software homepage metadata .
common organization homepage metadata .
common bug report satd .
common satd bug report .
common personal homepage metadata .
sometimes software homepage metadata .
sometimes organization homepage metadata .
sometimes personal homepage metadata .
sometimes license metadata .
rare personal homepage metadata .
emerged from our qualitative analysis.
to do so we applied association rule learning using the apriori algorithm as implemented in the r package arules6to our data treating each link as a transaction containing two items its target type and its purpose.
we used as threshold for support and .
as threshold for confidence i.e.
all rules that we extracted are supported by at least four data points and we have at least a confidence that the left hand side of the rule implies the right hand side.
table v shows the association rules extracted from our data with these settings separately for each stratum in our sample.
unsurprisingly the link target type license and the purpose of providing metadata are tightly connected in particular for links referring to commonly linked domains.
in fact all links to licenses were found to have been included for the reason of providing metadata and of the metadata is license information.
links to software organization and personal homepages are also associated with metadata across all strata.
although with a relatively low support of seven instances it is also interesting to note the tight coupling of the link target type bug report and the purpose of admitting technical debt.
summary we identified different purposes for the inclusion of links in source code comments with providing metadata and attribution being the most common.
links are also included for background information to provide context or to admit technical debt.
in some cases the link is part of source code which has been commented out.
d. link evolution rq4 to understand how links evolve rq4 we investigated the revision histories of repositories in the samples from rq2 .
for each sample link we searched an old version of the link that has been revised by a commit that introduced the link.
we extracted such a commit introducing a link by using the git log command soption with tracking file renaming .
we searched http s links removed from the code location where authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table vi link evolution types common sometimes rare license organization https content move content update content change other sum the sample link has been added.
we identified revised links out of samples including .
in common .
in sometimes and .
in rare.
less than of the links had been revised in each strata that is most of the links have never been updated.
we manually analyzed the old and new paths of the links and identified the following evolution types license replacement a new link refers to a new software license.
for example a link to gnu gpl has been replaced with a link to the apache license.
organization update a project or an organization changed its name or website.
for example a project that acquired their own domain updated links to their project website.
change to https a new link uses https instead of http for the same location as the previous link.
content move a new link refers to a slightly different location e.g.
the same path on a different server the same document name on a different wiki which is likely the same content.
content update a new link refers to different content from the previous link but the new content is likely updated.
for example the apache jackrabbit project replaced a link pointing to a draft version of a document7with a link to an rfc version.
content change a new link refers to relevant but different content from the previous link.
for example the pi4j project replaced a link related to the usage of a serial port of raspberry pie9with another similar document.
other we could not identify types for some links whose contents are no longer available.
it should be noted that the contents for updated links are not found.
reasons for link evolution.
table vi shows the numbers of link evolution in the three strata.
for commonly linked domains license replacement and updating organizational information account for about of link revisions.
for domains sometimes linked organization update is the most common followed by other and content change.
for rarely7 disable serial port terminal output on raspbian table vii link target evolution within a day timeframe evolution of links no content returned on both dates no changes between the two dates content not available anymore auto generated changes e.g.
of visitors content changed latest updated design change e.g.
new banner added different error e.g.
page title changed sum linked domains links are revised for content move content update and change to https.
summary links are rarely updated less than .
common modifications are updating licenses and organization homepages.
e. link target evolution rq5 after understanding the evolution of links our next research question rq5 asks about the evolution of their targets.
to investigate whether link targets referenced in source code comments evolve we attempted to download all link targets in our sample of links using the curl command with a timeout of seconds.
as already discussed as part of rq2 not all link targets are available.
we were able to download a total of link targets .
we then repeated the same download process exactly ten days later to see how many of the link targets had changed within this short time frame and what kind of changes had happened.
changes to the link target.
table vii summarizes the results of this analysis out of the link targets for which curl returned a result had not changed at all in the ten day time frame the downloaded content was exactly the same as per the windows file compare tool fc .
we manually analyzed the cases in which the content had changed by opening both versions in a web browser and conducting a visual comparison.
the majority of the changes in the remaining can be attributed to automatically generated changes such as the display of a visitor count or the current date in a footer.
however a non negligible number of link targets underwent more significant changes in the ten day time window for six links for which we were able to retrieve data on the first download date there was no content available anymore ten days later.
for three links which had displayed an error message when we first attempted to download their content the specific error message changed.
some link targets changed their website design and for a few links the content changed.
for example the download page of taskwarrior11included the following notice when we first downloaded its content for authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
those of you wishing to build task from source on cygwin you will need some components installed make g clang gnutls libuuid libreadline but don t forget task is a standard part of the cygwin distribution so you do not need to build from source unless you want the latest development snapshot .
ten days later this notice was replaced with please note that cygwin is not supported anymore.
please use the windows subsystem for linux to use taskwarrior on windows .
we argue that this kind of change is relevant to software developers.
stack overflow case study.
to investigate this phenomenon in more detail we conducted a case study with the subset of links pointing to stack overflow.
as seen in section iii a stackoverflow.com is the second most referenced domain.
in all obtained links there are links belonging to stackoverflow.com .
among those stack overflow links there are varieties of expressions an abbreviated path to an answer a answer id an abbreviated path to a question q question id and a full path to a question questions question id title .
older links start with http and newer links start with https .
for each stack overflow link we identified the timestamp of when the link was added to a repository by using the same git log command soption with tracking file renaming used in section iii d. for duplicate links we consider only the oldest timestamp.
consequently we obtained a list of distinct links with their timestamps.
we then made use of the sotorrent dataset to investigate the extent to which stack overflow content had changed since the link to the question or answer had been added to a source code comment in a git repository.
we created a statistically representative sample of links from the population of all unique links to stack overflow content in our dataset and we queried sotorrent to determine the following metrics for each link the number of text edits on any post i.e.
question or answer in the same thread the number of new comments on any post i.e.
question or answer in the same thread the number of new answers in the same thread and the number of edits to the thread title.
thread updates.
figure shows the results of this analysis.
more than half of all stack overflow threads had at least one change made to the text of a question or answer in the same thread median third quartile after they were committed to a git repository as part of a source code comment and more than half of these links attracted at least one new comment in the meantime median third quartile .
while the number of new answers to a thread was zero in the median case a quarter of the stack overflow threads attracted at least new answers after the link was added in a source code comment median third quartile .
in total only of the stack overflow threads in our sample did not undergo any changes after they were added to a git repository.text edits comments answers title edits02 text edits comments answers title edits02 fig.
number of changes to the linked stack overflow threads after they were first referenced the most extreme example in our sample a stack overflow thread titled how do you split a list into evenly sized chunks?
had new answers added out of a total of and attracted new comments edits and one change to the thread title after being first referenced in a source code comment in early september .
summary we found that even within a short ten day time window a non negligible portion of link targets referenced in source code comments evolve in some cases adding or modifying pertinent information.
in our case study on links pointing to stack overflow we found that more than three quarters of all stack overflow threads linked in source code comments attracted at least one change edit new answer or new comment after being first referenced in a source code comment.
f .
link decay rq6 among the obtained links there are distinct links.
to investigate the amount of dead links in source code comments rq6 we accessed all web contents from the unique links by using the perl module lwp.
link retrieval responses.
table viii shows obtained http status codes for all unique links.
more than of the links were successfully reachable including redirecting to new locations.
although some http status codes do not clearly mean links are dead we found that about of the links are not available now not found .
among these links we saw some patterns internet host lost web content move deletion fake url for showing examples of parameters or data structures and link typo.
the domain with the largest number of 404s is github.com with links no longer available or pointing to private repositories.
13we used lwp useragent andlwp robotua .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table viii http status codes for all unique links status links 2xx success .
not found .
internal server error .
method not allowed forbidden .
others .
sum summary we found that .
of the link targets are not available not found considering all unique links.
g. fixing dead links rq7 to fix dead links rq7 we collected fixable dead links and submitted pull requests to fix.
we select dead links that are not metadata need multiple files to be fixed nor commented out source code.
personal blog articles were avoided because they tend to be no longer available.
consequently we obtained dead links to api documentation research papers and so on.
after checking the original content in wayback machine14 we manually investigated new links by searching specific keywords in the original content.
our fixing process included first forking a personal copy of the project fixing the link and then later submission of a pull request to the project.
pull request results .
developers showed they cared about dead links by accepting to all nine pull requests.
since the link itself is a comment we speculate that it has almost no conflicts with existing code so our pull requests are likely to pass all tests and to be merged immediately.
developers responded with comments such as lgtm looks good to me and thanks for spotting the broken link .
overall the responses from developers provide sufficient motivation for tool support to assist with fixing broken links.
we argue that such comments indicate that developers are concerned with keeping their links alive.
summary developers generally responded positively to the request to fix dead links.
all nine responsive projects accepted our pull requests to fix dead links.
.
r ecommendations our findings can be summarized into recommendations for developers and researchers.
recommendations for software developers including links in source code comments are try referencing permanent links as it is reported that more than of links will not work after a year period .
referencing research papers with preferable instead of researchers personal web pages.
explicitly mentioning tags or commit hashes to referenced code in github would be recommended as software structure can be changed we found many dead links to github in section iii f .
check link targets for new information on a regular basis as referenced external resources can be considered to be software documentation to support comprehension and maintenance activities.
in addition link target updates can be triggers of improving and updating code as seen in section iii e .
we can also consider future work with the following possible challenges.
further understanding of external sources .
we found many sources as shown in figure 1c and table iii.
although some sources have been already studied for example licenses self admitted technical debt and stack overflow other sources have not been well studied with regard to their impact and influence on software development such as research papers and wikipedia articles.
further studies of source code comments to understand how knowledge related to knowledge based theory and human capital is summarized and shared via source code comments.
further analyses of source code comment contents would be required.
tool support for external source referencing tracking and updating .
although we recommend developers to maintain links and associated code it is not always possible.
tools or systems to help developers fix link issues and maintain code automatically could be practically useful.
v. t hreats to validity threats to the construct validity exist in our approach to link identification.
since we identified links per line in source code comments links located across multiple lines cannot be extracted.
note that we did not encounter any such multipleline links in our representative sample of links.
hence we consider that the impact of incorrect link identification because of multiple line links is small.
threats to the external validity exist in our repository preparation.
although we analyzed a large amount of repositories on github we cannot generalize our findings to industry nor open source projects in general some open source repositories are hosted outside of github e.g.
on gitlab or private servers.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
to mitigate threats to reliability we prepared an online appendix of our links with associated information see section ii c .
vi.
r elated work we have discussed complementary work throughout the paper in the relevant sections here we discuss literature related to web resources and source code comments.
one of the most related studies is the one by xia et al.
.
they investigated what developers search for on the web and found that developers search for explanations of unknown terminology explanations for exceptions error messages e.g.
http reusable code snippets solutions to common programming bugs and suitable third party libraries services.
furthermore they found that searching for solutions to performance bugs solutions to multi threading bugs public datasets to test newly developed algorithms or systems reusable code snippets best industrial practices database optimization solutions solutions to security bugs and solutions to software configuration bugs are the most difficult search tasks that developers consider.
many researchers have made use of code comments in their work.
tan et al.
automatically identify bugs by analyzing inconsistencies between code and comments.
ratol and robillard used code comments to assist refactoring activities.
wong et al.
used code comments to map source code and stack overflow content.
german et al.
developed the ninka tool that automatically identifies a software license in code comments.
goldman and miller developed the tool codetrail that demonstrates how the developer s use of web resources can be improved by connecting the eclipse integrated development environment ide and the firefox web browser.
self admitted technical debt is a commenting activity that has been well studied in recent years .
maldonado et al.
and zampetti et al.
studied the removal of self admitted technical debt based on the modification of comments.
our finding of referencing bug reports for selfadmitted technical debt could be another opportunity to study development activities around technical debt.
there are also studies which analyze link sharing occurring in other software artifacts.
gomez et al.
investigated link sharing on stack overflow to gain insights into how software developers discover and disseminate innovations.
rath et al.
investigated links to issue tracking systems in commit comments.
they reported that developers often do not provide external links to issues.
they evaluated several methods to automatically recover links by searching issues related to a given commit.
alqahtani et al.
proposed a tool to automatically link dependent components in a system to online resources for analyzing their vulnerabilities.
chen et al.
proposed a tool to link problematic source code to relevant stack overflow questions using similarity of source code fragments.
traceability links between source code and documents is another related research topic.
scanniello et al.
reportedthat developers can understand source code effectively if they can refer to design models including source code element names.
their observation has been obtained through a controlled experiment of program comprehension tasks with uml models produced in a requirements engineering phase and a design phase.
antoniol et al.
proposed a method to identify links between source files and design documents because developers may update source file names without updating related documents.
their method uses similarity of attribute names of a class to identify its original class definition in design documents.
rahimi et al.
proposed a rule based method to update links between source files and requirements documents.
their method recognizes a change scenario from semantic differences of source code and then updates links according to a rule corresponding to the change scenario.
those methods would be effective to automatically update traceability links.
similar tool support for external source referencing is a future direction of our research.
however none of the related work provides a comprehensive study of the role of links in source code comments which is the goal of this paper.
vii.
c onclusion to understand purposes evolution and decay of links in source code comments we conducted i a quantitative study of links from source code comments in git repositories to establish the prevalence of links in source code comments ii a qualitative study of a stratified sample of links to determine the kinds of link targets and purposes for including links present in our dataset iii a quantitative and qualitative study to investigate the evolution of links in source code comments and their targets and iv a quantitative study to determine the extent to which links in source code comments are affected by link decay.
our work has shown that links in source code comments indeed suffer from decay from insufficient versioning when link targets evolve and from lack of bidirectional traceability which could help avoid decay .
based on this work which has established the prevalence of links in source code comments their multiple purposes and targets issues of decay and practical needs of fixing dead links there are many open avenues for future work understanding the role of external sources for software development further studies of source code comments and tool support for external source referencing to name a few.
acknowledgment we thank the respondents to our pull requests for their availability and sebastian baltes for his support in querying the sotorrent dataset.
this work has been supported by jsps kakenhi grant numbers jp16h05857 jp17h00731 and jp18kt0013 as well as the australian research council s discovery early career researcher award decra funding scheme de180100153 .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.