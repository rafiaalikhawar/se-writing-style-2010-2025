improving missing issue commit link recovery using positive and unlabeled data yan sun1 celia chen4 qing wang1 barry boehm4 1university of chinese academy of sciences beijing p.r.
china 2laboratory for internet software technologies 3state key laboratory of computer science institute of software chinese academy of sciences beijing p.r.
china sunyan wq itechs.iscas.ac.cn 4department of computer science occidental college los angeles ca 5center for systems and software engineering university of southern california los angeles usa qianqiac boehm usc.edu abstract links between issue reports and corresponding fix commits are widely used in software maintenance.
the quality of links directly affects maintenance costs.
currently such links are mainly maintained by error prone manual efforts whichmay result in missing links.
to tackle this problem automatic link recovery approaches have been proposed by building traditional classifiers with positive and negative links.
however these traditional classifiers may not perform well due to the inherent characteristics of missing links.
positive links which can be used to build link recovery model are quite limited asthe result of missing links.
since the construction of negative links depends on the number of positive links in many existing approaches the available negative links also become restricted.
in this paper we point out that it is better to consider the missing link problem as a model learning problem by using positiveand unlabeled data rather than the construction of traditional classifier .
we propose pulink an approach that constructs the link recovery model with positive and unlabeled links.
our experiment results show that compared to existing state of theart technologies built on traditional classifier pulink can achieve competitive performance by utilizing only positive links that are used in those approaches.
i. i ntroduction issue reports and commits as different software artifacts are usually managed in separate systems .
links between issue reports and commits reflect the fix relationship between the two kinds of artifacts and are widely used in softwaremaintenance activities such as bug prediction and commitanalysis .
the maintenance of such links are normally reliedon labor intensive manual efforts by developers which arevulnerable to human errors.
as a result some considerablelinks are missing and the quality problem of the links mayincrease software maintenance costs .
many automatic approaches such as relink mlink rclinker and frlink have been proposed to recover missing links between issues and commits.
existing approaches solve the missing link problem by constructing atraditional binary classifier with positive and negative links.
a positive link indicates that the corresponding commit is a fix for the issue.
a negative link in contrast indicates that thecommit is not related to the issue.
developers usually record corresponding author.the fixed issue id in the commit log message to maintain thelinks between issues and commits .
as a result positive links can be found by analyzing the issue id in commit logmessages .
however negative links cannot be achieveddirectly since developers do not explicitly identify commitsthat are not for the issue fix.
the construction of negative links can be implemented as follows if a commit is confirmedto be a fix for one or more issue reports by developers we can safely consider the links between the commit and otherissues which are not explicitly mentioned by developers asnegative links.
for example if commit 1is a fix for issue andissue i.e.
developers only record the ids of issue 1and issue 2in the log message of commit we can assume that commit 1is not fix for issues other than issue 1andissue .
the links between other issues e.g.
issue and commit are considered as negative links.
this assumption is widely applied in existing link recovery approaches to get the negativelinks in order to build the traditional binary classifier .
however considering the inherent characteristics of missing link problem there are two major problems found in existinglink recovery approaches limited positive links.
several studies have showed that positive links are quite limited in software projects .
bachmann et al.
found that links recorded bydevelopers only cover of the fixed issues in eclipseproject.
brindescu et al.
analyzed softwareprojects and noticed that less than of the links arerecorded in the code repositories.
the limited positivelinks result in a small training dataset which may leadto an underperformed link recovery model.
negligence of unlabeled links.
in existing link recovery approaches negative links are built based onpositive links.
links constructed from commits thatare not found in the positive links are considered asunlabeled i.e.
such links can be positive or negative .
according to existing link recovery approaches theseunlabeled data cannot be used in the model training.however many studies have demonstrated that whenpositive data are limited in model learning problems .
c circlecopyrt2017 ieeease urbana champaign il usa t echnical research new ideas147 authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
unlabeled data can be used as data source for model learning .
proper usage of unlabeled links may helpto improve the performance of link recovery approaches.
in this paper we propose pulink a missing link recovery approach built with positive and unlabeled links.
by introducing unlabeled links into the model training pulink utilizes the usage of data that cannot be used in existing link recovery approaches.
the major contributions of our work include i to the best of our knowledge we are the first to point out that the missing link problem should be considered as a model learning problem with positive and unlabeled links rather than a traditional binary classifier construction problem.
ii we propose pulink a novel automatic link recovery approach built on positive and unlabeled links.
throughcomparison experiments we demonstrate that our proposedapproach can effectively reduce the maintenance costs inrecovering missing links.
iii compared to the latest state of the art technologies pulink can achieve better performance with only of positive links used in existing link recovery approaches.
ii.
b ackground in this section we introduce a binary classifier based on positive and unlabeled data proposed in .
assuming xis an instance and yis the corresponding classification of x. y means xis a positive instance.
y means xis a negative instance.
sindicates whether an instance is labeled or not.
s means the instance is labeled.
s means the instance is unlabeled.
with the definition of x y and s the model learning problem using positive and unlabeled datacan be described as follows for any instance with s the corresponding yequals to which indicates that the instance is positive.
for any instance with s the corresponding ycan be or which indicates that the instance can be either positive or negative.
considering x y and sas random variables the overall distribution of these three variables canbe represented as p x y s .
the objective is to achieve a classifier f x p y x built on positive and unlabeled data.
a traditional binaryclassifier g x p s x can be trained by applying all labeled data i.e.
data with s as positive instances and all unlabeled data i.e.
data with s a sn e g a t i v e instances.
it can be proved that g x can be transferred to f x using f x g x c in which c p s x y .
to calculate c we need vwhich is extracted according to the overall distribution of p x y s .prepresents all labeled instances in v. with g x v and p ccan be estimated as the average value of g x forxinp that is e n summationtext x pg x .
eis the estimated value for c. with g x and the estimated value of c the classifier f x with positive and unlabeled data can be constructed.
iii.
o verview of pulink in this section we explain and further elaborate on the design of our proposed link recovery approach pulink.
figure presents the overall framework of pulink.
figure .
overall framework of pulink a. data selection in our data selection process each issue report is first compared with all commits in the code repository.
if thedifference between the submission date of a commit and any ofthe four date attributes i.e.
create date fix date last modifieddate and comment create date in the issue report is withinseven days before or after a potential link is constructed.
thepotential link is then put into the positive link index dataset if it is positive.
otherwise it will be put into the unlabeled link index dataset.
the positive link index dataset is then applied in f eature extraction and model learning while the unlabeled link index dataset is used in f eature extraction model learning and missing link recovery.
the construction of training links in pulink is different from existing link recovery approaches such as frlink.
assuming two issues i.e.
i 1andi2 and three commits i.e.
c1 c2andc3 .i1is fixed by c1and the developer recorded the issue id in c1.i2is fixed by c2but the issue id is missing.
link i1 c1 represents the link between i1andc1.
to recover the missing link six potential links are generatedby two issues and three commits.
in frlink the training data is constructed with the positive link link i c1 and the negative link link i2 c1 .
the other four links cannot be used in the training data as the status i.e.
positive or negative cannot be identified.
however in pulink according to the definition in section ii link i c1 is considered as labeled.
and other five links including the negative link link i2 c1 could be considered as the unlabeled links.
the labeled and unlabeled data together consist of the training data in pulink.
b. feature extraction there are two types of feature exaction in pulink metadata feature extraction and similarity feature extraction.
metadata authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table i definition of metada ta features and similarity features in pulink type name description used in frlink metadata issuetype type of an issue report e.g.
bug task etc.
no feature committype type of a commit.
it indicates whether all modified files in the commit are non source documents.
yes interval result from comparison using date attributes of issue reports and commits.
yes intervaltype type of interval.
it depends on the type of attributes which are used to get interval.n o similarity simv al the larger value between code feature similarity and text feature similarity.
yes feature simsource it indicates where simv al gets its value i.e.
code feature similarity or text feature similarity .
yes simbyissue for potential links constructed by the same issue get simv al sorted according to the issue.
no simbycommit for potential links constructed by the same commit get simv al sorted according to the commit.
no features describe the basic characteristics of issues and commits such as the type of an issue report or a commit.
similarityfeatures are exacted based on the fact that similar terms may exist in issues and corresponding fix commits.
the same idea of similarity can be found in some existing studies such as .
both metadata and similarity features are extractedfrom each potential link.
table i summarizes the metadatafeatures and similarity features.
metadata features four kinds of metadata features are extracted according to each link.
these features includeissuetype committype interval and intervaltype.
issuetype describes the type of a given issue report e.g.
bug new feature improvement task sub task wish story dependency upgrade documentation etc .
it is important to know the specific type of an issue report as fix commits may have different characteristics due to the differences among each issue type .
committype describes the type of a given commit.
sun et al.
pointed out that separate processing of code fixesand non source documents in commits lead to performance improvement in link recovery approaches.
therefore we distinguish the types of commits.
if all modified files in a givencommit are non source documents we set committ ype .
otherwise set committ ype .
interval records the comparison results of date attributes found in commits.
assuming that an issue report includes2 comments time periods between submission date of thecommit and date attributes of the issue i.e.
creation date fix date last modified date comment creation date andcomment creation date are and respectively.according to interval is the corresponding time period of the minimum absolute value which is .
intervaltype is used to further explain the values of interval.
intervaltype with value and implies that interval is calculated by comparing commit submission date with creationdate fix date last modified date and comment creation date respectively.
similarity features for each link we extract four kinds of similarity features including simv al simsource simbyissue and simbycommit.
detailed steps to get simv al and simsource features can be found in frlink .
steps to get simbyissue and simbycommit are as follows simbyissue many potential links may be constructed from the same issue in positive link index and unlabeled linkindex.
for potential links with the same issue we sort these links according to simv al and record results in simbyissue.
simbycommit the idea of simbycommit is similar to simbyissue.
many potential links may be constructed from thesame commit in positive link index orunlabeled link index.
for potential links with the same commit we sort these linksaccording to simv al and record the results in simbycommit.
c. model learning once we have all of the eight extracted features we then can build the binary classifier f x based on positive and unlabeled links.
as mentioned in section ii there are two steps to get f x .
first we take all of the positive links as positive instances and unlabeled links as negative instances to build a traditional classifier g x .
then we estimate the value of c i.e.
c p s x y .
according to the overall distribution ofpositive links and unlabeled links we form a validation dataset.
the estimate value of cis calculated by applying the validation dataset and the equation e n summationtext x pg x .
with g x andc we can get our binary classifier f x .
d. missing link recovery with the binary classifier f x we can decide whether links in the unlabeled dataset are positive or negative.
the naturalthreshold of f x is set to .5c .
for each potential link in the unlabeled dataset f x yields the probability of the link being positive.
we then compare the probability of thelink with the natural threshold .5c.
if the probability is no less than the natural threshold the potential link is consideredas a positive link.
otherwise the link is considered negative.identified results are generated after all links in the unlabeleddataset have been compared.
iv .
e mpirical ev alua tion a. subject projects we compare and evaluate our pulink with the baseline frlink .
frlink reported its performance in active apache software foundations projects .
among the projects there are six projects which have less than 200positive links in the ground truth data.
the limited number of positive links in these six projects may lead to unreliabletraining results or incomplete training model.
based on this consideration we exclude these six projects and keep theremaining projects for the comparison.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table ii subject project sta tistics project fixed issue commit ground truth studied period avro buildr chukwa falcon giraph ivy knox log4net nutch oodt tez tika total table ii lists the data of the projects.
ground truth represents the number of all positive links indicated in the issue tracking system.
ground truth data are built by analyzingissue ids in the commit log message according to existingstudies such as .
manual inspection has been taken byauthors on more than links i.e links per project andall verified links are positive.
b. experiment settings and evaluation metrics first we need to remove issue ids from commits before utilizing them in pulink.
the reason for the filtering operation is that with the instruction of explicitly issue ids recovering missing links becomes an easy task for the automatic link re covery approach .
similar process has been implementedto remove the commit ids from issue reports as well.
traditional binary classifier g x and the objective classifier f x are built by random forest as existing studies and our practical experience both suggest that it is a betterchoice compared to other methods such as svm.
ten foldcross validation is applied in each project.
potential links arepartitioned into ten equal size subsets randomly.
one subset isreserved as testing data and the other nine subsets are used astraining data.
the validation process is then repeated for tentimes and the average result is used for the evaluation.
we expect pulink to achieve high recalls in order to reduce maintenance costs.
the natural threshold is set to .5cwith c 1inpulink.
to attain high recalls the threshold needs to be set to small values.
in the experiment we set thethreshold from .9cto0.1c with a decreasing step of .1c.w e also include the performance of pulink when the threshold is set to .05c and0.01c respectively.
in the baseline method frlink input training recall itr represents the minimum recall that the model should satisfy in the training data.
alarger itr value results in higher recalls in the performance offrlink.
according to we set the itr values to range from .
to .
with an increasing step of .
.
there are11 sampling performance points in both pulink and frlink approaches for the performance comparison.
precision recall and f measure are utilized to evaluate our approach.
these metrics are widely used in evaluating the efficiency of many existing link recovery approaches .c.
experiment results the effectiveness of pulink in order to get the best performance of pulink all positive links are labeled and the unlabeled data contain only negative links.
figure demonstrates the performance of pulink in each project.
the experiment results show two major findings.
first as shown in figure the highest precision of pulink is higher than in out of the projects.
in out of theprojects the median of precision is above .
similarly in9 out of the projects pulink has the highest recall that is greater than .
and in out of the projects the medianof recall is also above .
these two findings illustrate thatpulink can recover most of the missing links in software projects without introducing many negative links.
with thehelp of pulink developer can identify missing links without too many manual efforts.
pulink vs. frlink existing approaches such as frlink build their models based on positive and negative trainingdata.
to get the best performance of frlink all positive links in the training data are labeled and unlabeled data containsonly negative links.
we calculate the average precision recall and f measure ofpulink and frlink in all projects.
figure shows the precision recall curve pr curve of the two approaches.
as shown in figure the pr curve ofpulink is above frlink in all circumstances.
it indicates that pulink can outperform frlink even when frlink gets its optimal performance.
moreover when frlink gets the highest recall i.e.
.
the precision and f measure are .
and .
respectively.
by contrast when pulink achieves the recall of .
the precision is .
and f measure is .
.
with a slightly higher recall i.e.
.
.
.
the improvement of pulink over frlink in precision and f measure are .
and .
respectively.
when frlink reaches its lowest recall i.e.
.
the precision is .
and f measure is .
.
however when pulink reaches a higher recall than frlink s lowest recall which is .
the improvement in precision and f measure is .
and .
respectively.
these findings indicate that pulink can outperform frlink even when frlink achieve its optimal performance using the training data with only positive and negative data.
small amount of positive links in practical software development positive links recorded by developers are quitelimited.
link recovery approaches can only rely on quite fewpositive links to construct the model.
in order to compare the performance of two approaches when the training datasetcontains only a small amount of positive links we remove a certain amount of positive links from the training data.
to be more specific of the positive links from the trainingdataset are removed.
for pulink we make the of the positive links as unlabeled i.e.
their class is set to thenwe exclude them from the positive link data and put theminto unlabeled link data.
the remaining positive link data which contain of the positive links and the new generatedunlabeled link data which include of the positive links authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
figure .
performance of pulink in each individual project figure .
performance comparison between pulink and frlink without label are used for training pulink.f o rfrlink of the positive links are removed from the training data the remaining of the positive links are used for generating negative links.
the new training dataset include the ofthe positive links and corresponding negative links generatedby of the positive links.
the new training dataset will beused for constructing the frlink model.
the performance of two approaches are evaluated as we iteratively remove ofthe positive links from the training dataset at a time.
positivelinks remain in the training data fall from to .
figure shows the performance comparison between pulink and frlink when training data contain to of the positive links.
pulink and frlink represent the performance of pulink and frlink when the training data contain of the positive links.
other legends suchas pulink frlink etc.
are similar.
in figure we notice that the decrease of positive links in the trainingdata leads to performance decline in both approaches.
when the training data contain of the positive links the pr curve ofpulink is above frlink.
for the training data that includes of the positive links the pr curve of pulink is also above frlink within the highest recall that both approaches can achieve.
additionally the highest recallofpulink is less than the highest recall of frlink.
when the train data contains of the positive links the loss in recall is minimum with the value of .
.
when only of thepositive links remains the loss in recall is .
which is themaximum.
therefore we conclude that in most cases pulink can outperform frlink when the training data contain only a small amount of positive links.
there might be a loss in the highest recall of pulink compared to frlink.
however the loss is usually minor since it ranges from .
to .
.
we further analyze the data to answer the question to what extent pulink compared to frlink can reduce the reliance on the positive link data.
when considering theoptimal performance of frlink figure shows that the performance of pulink i.e.
training data that contain only of the positive links is superior to the optimalperformance of frlink.
when considering the worst performance of pulink we iteratively compare frlink to frlink with pulink.
the results indicate that although the highest recall of pulink is .
lower than that of frlink the performance of pulink withinthe highest recall it can reach is superior to frlink .
ov erall in most cases pulink can achieve a much better performance compared to frlink when only a small amount of positive links remain in the training data.
pulink can get a comparable performance as frlink when the positive links required by pulink is less than that of frlink.
important features we use the gain ratio to evaluate the contribution of the eight extracted features in pulink.
a larger gain ratio value indicates that the feature is more effective in recovering missing links.
according to the effectiveness in recovering missing links the eight features are sorted by importance from high to low simv al simbyissue simbycommit interval simsource intervaltype committype and issuetype.
the most important three features are all from similarity features.
compared to metadata features similarity features are more effective in recovering missing links.
although similarity features areimportant in all projects the significance order of the specificsimilarity features is different for each project.
v. r elated work missing links between issue reports and commits can cause negative impacts on maintenance activities .
in release authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
figure .
performance comparison between pulink and frlink when positive links remain in training data figure .
positive links required by each approach when pulink and frlink get comparable performance documents important information about changes may be left out.
consequently maintenance cost can be raised as usersmay get incorrect expectations on software behaviors .results in commit analysis studies can be inaccurate and havelimited generalizability due to the missing link problems .models of prediction e.g.
defect prediction and bug fix time prediction or recommendation e.g.
bug localization and bug fixer recommendation may suffer from performance loss orevaluation biases if built on low quality link data.
consider the impact of missing link problems in software maintenance many approaches have been proposed to recovermissing links.
these existing approaches such as relink mlink rclinker and frlink were built based on positive and negative links.
however for problems that donot have explicitly negative data many studies have shownthat considering as an learning problem using positive andunlabeled data would be a better choice .
vi.
c onclusion this paper presents a new approach pulink built on positive and unlabeled links.
pulink is evaluated in projectsand the experiment results show that it can effectively recovermissing links from those projects.
we also compare pulink against frlink which is the state of the art technique.
as a result with only of the positive links as used in frlink pulink has competitive performance compared to frlink.
a cknowledgments this work is supported by national natural science foundation of china under grant nos.
.