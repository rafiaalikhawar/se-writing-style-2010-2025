was my contribution fairly reviewed?
a framework to study the perception of fairness in modern code reviews daniel m. german university of victoria canada dmg uvic.cagregorio robles universidad rey juan carlos spain grex gsyc.urjc.esgerm n poo caama o university of victoria canada gpoo uvic.ca xin y ang osaka university japan xinyang ist.osaka u.ac.jphajimu iida nara institute of technology japan iida itc.naist.jpkatsuro inoue osaka university japan inoue ist.osaka u.ac.jp abstract modern code reviews improve the quality of software products.
although modern code reviews rely heavily on human interactions little is known regarding whether they are performed fairly.
fairness plays a role in any process where decisions that affect others are made.
when a system is perceived to be unfair it affects negatively the productivity and motivation of its participants.
in this paper using fairness theory we create a framework that describes how fairness affects modern code reviews.
to demonstrate its applicability and the importance of fairness in code reviews we conducted an empirical study that asked developers of a large industrial open source ecosystem openstack what their perceptions are regarding fairness in their code reviewing process.
our study shows that in general the code review process in openstack is perceived as fair however a significant portion of respondents perceive it as unfair.
we also show that the variability in the way they prioritize code reviews signals a lack of consistency and the existence of bias potentially increasing the perception of unfairness .
the contributions of this paper are we propose a framework based on fairness theory for studying and managing social behaviour in modern code reviews we provide support for the framework through the results of a case study on a large industrial backed open source project we presentevidence that fairness is an issue in the code review process of a large open source ecosystem and we present a set of guidelines for practitioners to address unfairness in modern code reviews.
keywords fairness software development modern code review open source software human and social aspects transparency acm reference format daniel m. german gregorio robles germ n poo caama o xin y ang hajimu iida and katsuro inoue.
.
was my contribution fairly reviewed?
a framework to study the perception of fairness in modern code reviews.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than the author s must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden copyright held by the owner author s .
publication rights licensed to the association for computing machinery.
acm isbn .
.
.
.
icse 40th international conference on software engineering may june gothenburg sweden.
acm new y ork ny usa pages.
introduction the goal of modern code reviews is to ensure the high quality of software .
code reviewing is a process in which a reviewer makes a decision on somebody else s contribution.
as with many other human intensive activities code reviewing is prone to bias reviewers might have their personal points of view interests andcircumstances that affect the decisions that they make .
when an author has a patch rejected it is natural to ask if the decision was fair.
if an author has the perception that her patch was treated unfairly it might lead towards resentment and might result in actions that are not in the best interest of the project such as selfishness retaliation and leaving the project .
these actions might affect the long term success and survival of a software project especially open source software oss .
in oss projects it is reasonable that its participants expect to be treated fairly even if they might not agree on what fair is.
in projects that use code reviews the review process becomes not only a way to guarantee quality but it could also stifle some contributors eventually turning them away.
one important goal of any system that involves human decisions is to guarantee that the allocation of resources and decisions arefair to both the participants and the system as a whole.
fairnessinvolves many different aspects.
one of them is bias however a fair system can be biased towards certain participants for example it is widely accepted that important bug fixes should be reviewed first or that reviewers should give more constructive comments to newcomers than regular contributors.
fairness is also concerned with the creation of procedures and appealing mechanisms the manner in which actors interact etc.
we have developed a framework grounded on fairness theory to explain fairness in modern code review process.
a theoretical framework is the structure that makes the context of a case study clear particularly when introducing a theory from a different field .
we use this framework to conduct an empirical study of the perception of fairness in the code review process of a major oss project.
the contributions of this paper are we present a framework based on fairness theory for studying and managing social behavior in modern code reviews support for the framework through the results of a case study on a large industrial backed open source project evidence that fairness is an issue in the modern code review process of a major industrial oss ecosystem and a set of guidelines to address unfairness in modern code reviews.
acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden german robles poo yang iida and inoue on the concept of fairness any time individuals form a group from very small to entire societies they face the challenge of allocating resources and rewards among its members.
thus individuals are continuously subject to the decisions of others.
these decisions have both economic and socioemotional consequences and the way that the group deals with these issues has a great impact on its effectiveness and on the satisfaction of its members .
the importance of these decisions prompts those subject to a decision to ask was that fair?
.
at the core of this issue is the notion of fairness how to decide and allocate resources in a way that is fair and just to the individuals and the group as a whole.
philosophy psychology law sociology management sciences and economics among many other disciplines have extensively researched these issues in what is known as justice theory also known as fairness theory fairness and justice are synonyms in these fields .
according to folger and cropanzano fairness theory within the context of organizations predicts that individuals will react negatively to decision making events when the decision maker could have done somethingdifferently should have done something differently or the current state of well being would have been better if the event had played out differently.
and focuses on explaining when authorities should be held accountable for unfavorable events.
in particular organizational justice is the study of fairness within an organization it is divided into four main areas of study see table distributive fairness concerns the allocation of outcomes decisions and rewards according to the participation of the individuals in the system procedural fairness concerns the decision process that leads towards an outcome interactional fairness is defined as the interpersonal treatment of people and the degree to which the people affected by an outcome are treated with dignity and respect and informational fairness focuses on the dissemination of information about why procedures exist and how outcomes are reached .
.
distributive fairness distributive fairness also known as distributive justice is con cerned with how to balance the distribution of outcomes with theamount of participation of individuals in a system.
according to cohen distributive fairness is concerned with four dimensions outcomes are allotted to persons whose relative shares can be described by some functional rule and by some standard.
in other words the decision to allot an outcome including a resource a treatment or a decision to an individual might depend on both her contribution to the system and certain minimal standards as defined by the system.
these latter two aspects highlight the fundamental dichotomy of distributive fairness it must find a balance between equity an individual who contributes more deserves more and equality every individual deserves the same outcomes regardless of contribution .
organizations favor equity because it rewards those who contribute more to the organization .
however in an organization that emphasizes equity there is still a minimal need of its members to receive an allocation of outcomes in order to guarantee their continuing participation in the system.
distributive fairness is also concerned with how newcomers should be treated as they have not had an opportunity to contribute to the system .equity s fundamental challenge is how to effectively measure the contributions of an individual.
imperfection of this measurement might prompt participants to game the system.
also equity might emphasize selfishness in detriment of the well being of the overall system.
in practice an organization might implement equity in some aspects e.g.
salary and equality in others e.g.
benefits .distributive fairness attempts to address the challenges created by self interest if i contribute more i should receive more in favor of a long term benefit that comes from the restrain of this self interest in benefit of others .
.
procedural fairness procedural fairness refers to the perceptions of fairness in the pro cedural components used to determine outcomes in a system andfocuses on the events that precede the determination of the out come .
the determination of the outcome is done by decision makers who control the process.
when this process is perceived as fair the final distribution is likely to be accepted as fair even in the presence of bias e.g.
such as existence of equity .
procedural fairness relies upon the application of several rules.
when these rules are upheld the procedure is perceived to be fair .
these rules are consistency the process is applied consistently across all instances of decisions and across time bias suppression decision makers are neutral accuracy of information the decision is made based on accurate information control those affected by the decision have a voice that can alter the outcome correctability there exist appeal processes for correcting bad outcomes and ethicality the process upholds personal and organizational standards of ethics and morality.
procedural fairness requires the documentation of the decision process including how to select those making the decisions and a clear establishment of policies and guidelines that cover the rules cited above.
note that consistency and bias suppression run orthogonal to equity.
equity presupposes a bias those that contribute more should receive more within this bias procedural fairness should strive to be consistent across all decisions and without other bias.
accuracy of information implies that decisions should be made based upon correct information.
a transparent decision process allows the verification of its accuracy.
we will discuss information transparency further under informational fairness.
control and correctability give a voice to those affected by the outcome.
control implies that the decision process allows thoseaffected to add or correct information or to question the decision process while in progress .
correctability implies that those affected by a decision can appeal the process ideally to a different decision maker.
having a voice in the decision process has been found to improve the satisfaction and perception of fairness in a system known as the fair voice effect .
ethicality implies a certain common set of values in the organization.
an agent that acts unethically favors certain individuals or ideas over others against the set of values of the system.
ethicality overlaps with interactional fairness described below .
to be effective procedural fairness requires a set of policies that serve both as a guideline on how a process should be performed and a social contract indicating the responsibilities and obligations of those making decisions and how they can be appealed.
and it also requires that decision makers abide by these policies.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
perception of fairness in modern code reviews icse may june gothenburg sweden table dimensions of fairness in organizational justice.
derived from colquitt .
rules process distributive fairnessequity resources treatment and outcomes are distributed in accordance with one s contribution equality all participants deserve the same resources treatment and outcomes regardless of contribution need the resources treatment and outcome meet the minimal requirements of the recipient newcomers newcomers should receive a positive bias procedural fairnesscontrol the abilities to voice one s views and influence the outcome consistency the process is applied consistently across time and persons bias suppression decision makers are neutral information accuracy decisions are not based on inaccurate information correctability appeal procedures exist for correcting bad outcomes ethicality the process upholds personal and organizational standards of ethics and morality interactional fairnessrespect actions and signals should reflect the intrinsic value that a person has for another psychological safety a mechanism to prevent harassment and protect victims when unacceptable treatments occur informational fairnesstruthfulness need to avoid deception adequacy of explanations need of individuals to receive explanations that are reasonable and timely .
interactional fairness interactional fairness is based on the fact that individuals are not only concerned with outcomes but also with the way they are treated during the process that reaches those outcomes .
its main concern is that individuals should be treated with dignity and respect during the entire decision process.
bies argues that people have a view of themselves that is sacred and when this view is violated it results in a painfully intense experience and that there are three main violations to this dignitythat are of concern disrespect invasion of privacy and exposure to personal danger.
respect are actions and signals that reflect the intrinsic value that a person has for another and disrespect are actions and signals that demean the perceived value of an individual her own perceived value self respect or her value as perceived by others the respect of others .
the most typical forms of disrespect are inconsiderate actions e.g.
not receiving timely feedback not receiving an explanation for a decision abusive words or actions e.g.
rudeness public criticism berating that humiliates a person or prejudicial statements sexism or racism .
invasion of privacy is concerned with the disclosure of secrets including asking improper questions.
finally exposure to personal danger refers within the organization context to actions that violate the psychological safety of the individual e.g.
increase of stress due to an abuse .
.
informational fairness informational fairness is concerned with two dimensions truthfulness and adequacy of explanations.
truthfulness is the need to avoid deception as people who feel lied to become resentful .
truthfulness also includes not having others stealing somebody else s ideas and or divulging false information that might incorrectly affect other s perception of a person.
adequacy of explanations is the need of individuals to receive explanations that are perceived to be adequate reasonable timely and specific .
fairness and code reviews code reviewing is a decision process.
fundamentally the decision to accept or not a patch should be based on the merits of the patch itself.
however how this process is performed and how the different participants interact can have negative effects on the process and long term success of the system.
for these reasons fairness is an intrinsic property of code reviewing.
how the review is conducted treatment the resources it gets its resource allocation and how the person submitting the patch is treated by the decision makers thereviewers are issues of concern to fairness theory.
applying fairness theory to code reviews has the potential to increase the satisfaction effectiveness and productivity of its participants the quality of these reviews and overall the success of the system.
in the rest of this section we describe a framework that we have developed to describe how the different types of fairness can beapplied to code reviewing see table .
many of these issues arealready addressed in many code review processes currently in use.
this framework can be used to analyze these processes with the goal of identifying their strengths and potential areas of improvement.
.
distributive fairness a system that favors equality in code reviews would give every patch contributor and every patch the same allocation of resources and the same treatment.
in the context of the contributor who the authorof the patch is should not affect how the review is performed its prioritization the quality of the review the overall time to complete the review etc.
.
in the context of a patch equality would imply that every patch would have to be treated equally e.g.
a critical bug fix should not be prioritized first .
a system that favors equity assumes that who the author of the patch is or characteristics of the patch should affect the allocationof resources and treatment.
equity at the contributor level would imply that those that contribute more e.g.
those who author more code or more difficult code or those who donate more money to the project etc.
should receive preferential treatment in the review process.
similarly equity at the patch level would imply that patches that contribute more e.g.
implement a more desirable feature fix a more important defect etc.
should receive better treatment.
as mentioned before equity has been found to favor productivity .
it can be argued that the measure of contribution of a patch is its importance a more important patch deserves more than a less important one.
it is natural to expect that a code review system would consider with regards to the treatment of patches equity as a more desirable property than equality.
with respect to the treatment of individuals it is less obvious if a system should benefit those that contribute more e.g.
core developers versus less frequent contributors .
a system might give preferential treatment to core developers e.g.
their patches should be prioritized and or to authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden german robles poo yang iida and inoue table a framework of fairness applied to modern code reviews categories rules concerns distributive fairnessequity patch level what types of patches are important and should receive preferential treatment need patch level what is the minimal treatment that a patch should receive equity vs equality individuals decide if those who contribute more should be given preferential treatment and how to measure contribution newcomers decide what preferential treatment to give them procedural fairnessconsistency and bias suppression define standards of quality of treatment and requirements for successful patches control and information accuracy allow authors and other non reviewers to comment on the review in progresscorrectability create an appeal process for rejected reviews ethicality define ethical standards regarding how reviews should be conducted including potential conflict of interest interactional fairnessrespectdefine a code of conduct and a mechanism to enforce itpsychological safety informational fairnesstruthfulness conduct code reviews with full ongoing transparency to all involved parties including the publication of metrics adequacy reviewers should provide good feedback explain delays and unexpected treatment and outcomes in a timely manner newcomers who should have their patches reviewed in a more detailed and constructive way than seasoned developers.
however giving preferential treatment to core developer might deter non core developers from participating .
nonetheless a review system must satisfy a minimal level of need .
hence need determines the minimal level of quality a code review should have such as being reviewed by a minimum number of reviewers should not stay in the reviewing queue for too long and or should have a minimal level of quality in their feedback .
another aspect relevant to distributive fairness is the distribution of the decision making power to reviewers.
some systems award to certain reviewers more weight than others such as core reviewers in openstack and super reviewers in apache whose votes weight more than other reviewers giving them the ability to have a higher influence on the direction of the project.
similarly some systems might only allow certain contributors to be reviewers.
.
procedural fairness a basic prerequisite of procedural fairness in code reviews is the enactment of policies that indicate who the reviewers are the decision makers and how the code reviews should be performed.
usually the selection of reviewers is clearly documented in some cases asystem might allow any developer to review in others reviewers are selected by vote or by appointment in the organization .
as mentioned above some reviewers might have more weight than others in the review process.
documenting the way to perform reviews should address multiple aspects including how to select a patch to review prioritization the minimal standards that a review should satisfy the requirements that a patch should satisfy to be accepted etc.
organizations might already have some of these policies in place .
consistency and bias suppression apply primarily to prioritization of reviews and the expected quality of treatment for a patchunder review.
prioritization is mainly concerned with the order in which reviewers should process patches.
this ordering should bewell documented and applied consistently.
for example due to equity there might exist different classes of patches each with a different priority consistency implies that within each class patches should be prioritized according to their time of arrival or any other property of the patch .
the expected quality of treatment determines what an author of a patch should expect from a review and what a reviewer is expected to do including how to provide feedback incase of rejection especially to newcomers .
bias suppression indicates undesirable treatments to avoid.
individuals can be used to do quality control to help reach consistency and bias suppression and could anonymize the authors or reviewers of the patch.
regarding control the desirability of the fair voice effect implies that the code review process should allow the author of the patch to contribute its discussion before a decision is made.
control is usually satisfied by allowing the author to reply to reviewers comments reviewers can consider this rebuttal if submitted before makinga decision.
rebuttals will also improve information accuracy as it will be possible to correct misunderstandings and consider any missing information.
correctability implies that there is an appeal process in place for those situations where the author feels that the decision was wrong.
such process might include some type of penalty to reviewers who are found at fault during the review process.
with respect to ethicality it should be expected that reviewers only accept good patches although determining what a good patch isis highly subjective.
as stated above ethicality also implies a set of organizational values and practices explicit or implicit .
approvalof own patches by core developers or bias towards colleagues of thesame organization might be perceived as ethical in some systems and unethical in others what is important is to know if this is acceptable behavior or not.
nonetheless the existence of an acceptable bias should not imply lowering the quality of reviews i.e.
accepting badpatches from oneself or somebody from the reviewer s organization .
another example of unethical behavior is two reviewers colluding to have the patches of each other accepted irrespective of their quality.
.
interactional fairness of all the types of fairness interactional fairness is arguably the one that has been addressed the most in code reviews and in software development in general in the form of codes of conduct which are expected to cover dignity respect and psychological safety.
tourani et al.
found that codes of conduct are becoming pervasive in oss projects they usually require participants to be respectful and avoid disrespectful language such as insults sexism violence .
in most cases they offer a mechanism to report violations.
code reviews place the author of the code being reviewed in a perilous situation.
while it is the code that is being judged the authormight feel by extension that her qualities as a software developer authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
perception of fairness in modern code reviews icse may june gothenburg sweden are also being judged.
code reviews require language that concentrates on critiquing the code not the person.
linus torvalds has been criticized for his verbal abuse and public shaming of other kernel developers leading to some developers leaving the project .
in response linux adopted a code of conflict that emphasizes an adversarial process of critique and criticism that has been proven to create the most robust operating system kernel ever it does plea however for respect and psychological safety .
many codes of conduct refer violators to a committee who decides what action should be taken .
however there is not a lot of experience on how to act in such instances.
in fact the punishment or lack of of a violator can trigger feelings of unfairness either for the one being judged or for the accusers .
this is exemplified recently in node.js where one of its technical leaders was reported to have violated its code of conduct the process and resolution of this complaint has been acrimonious and has lead to a split of its community .
.
informational fairness since their conception modern code reviews have strived to beopen .
the evaluation of the code is done in an open environment accessible to the author the reviewers and the rest of thedevelopment team.
usually oss projects make sure that all decisions are documented for others to evaluate.
the use of code review metrics is becoming a common method to guarantee informational fairness .
such procedures maximize truthfulness in the code review process.
adequacy in code reviews requires specific feedback in a timely manner requirements of procedural fairness also .
if a review takes too long or has an unexpected outcome an explanation decreases the likelihood that the author feels unfairly treated.
case study we conducted an empirical study on openstack to evaluate the role of fairness in its code review process.
openstack is an oss cloud computing platform initiated as a joint project of rackspace hosting and nasa composed of different official components each developed as an independent but all sharing common devel opment infrastructure.
as of today more than companies including major players such as ericsson hauwei hp ibm intel among others actively contribute to the ecosystem .
we chose openstack as our case study due to its perceived novelty its high inter networked nature that involves many firms and individual contributors its heterogeneity involving both start ups and high tech corporate giants its market size .2bn in revenues in which may grow to .4bn by as claimed by research and its size over community members over code reviews and more than million lines of code .
we conducted a qualitative study to better understand the perception of fairness that authors and reviewers might have.
we asked openstack developers about their perception of whether the code review process of openstack was fair and whether they had experienced unfairness as an author or acted unfairly as a reviewer .
for this purpose we conducted a web survey composed of four questions taking into consideration the design and implementation procedures suggested by punter et al.
.we selected as potential respondents all openstack developers who had participated in code reviews in the last four years as authors of code to be reviewed or as reviewers .
we invited the openstack developers who matched the previous criteria to participate in the survey via email.
the survey was open for two weeks.
we received responses response rate of .
above the average in software engineering studies were both authors and reviewers were only authors and only reviewer .
the respondents were from eight different official projects of openstack.
for each question respondents were invited to add comments and clarifications in free textual form.
these open ended responses were analyzed by the authors and categorized into the types of fairness of code reviews presented in section .
we followed a case study protocol to mitigate the bias of the categorization.
two authors of this paper performed the coding separately then their results were cross validated and with the help of a third author to achieve agreement.
results since our goal was to explore if there was perception of unfairness and what it was we kept our questions simple and we did not define what fair was.
the questions were have your contributions been treated fairly?
have you treated others contributions fairly?
do you think the project process is fair?
when you review code how do you prioritize what contribution to review?
each question had an answer in a point likert scale.
in addition for each question respondents were asked to explain or provideevidence for their answer.
the fourth question included a list of potential prioritization strategies asking reviewers to rank them in importance.
.
regarding fairness in openstack figure shows the summary of the responses to the first threequestions.
as an author of a patch many participants considered they had being subjected to unfair treatments consider thishappens occasionally and believe is occurs often or always.
as patch reviewers the claimed to never perform unfair reviews however considered they do unfair reviews rarely or occasionally.
while the majority agreed that the review process of openstack is fair respondents disagree or strongly disagree that the entire review process is fair.
these results imply that while the process is in general perceived as fair still a significant proportion of participants perceive unfairness some claiming that it occurs frequently .
this perception of unfairness is more common in authors than in reviewers.
two authors of this study separately open coded each open ended answer.
in particular we concentrated only on responses where the respondent feels there is unfairness.
because this study is exploratory and our objective is to show that fairness is an issue at least to some contributors those that imply the system is fair were ignored as shown in figure 1c most respondents feel that the review process of openstack is fair .
these responses were classified according to the fairness categories presented in section .
after classifying theydiscussed the responses that were not consistently classified to reach an agreement.
table summarizes the results.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden german robles poo yang iida and inoue never rarely occasionally often alwayspercentage of responses a have your contributions been treated unfairly?
responses never rarely occasionally often alwayspercentage of responses b according to your experience as a reviewer do you perform code reviews unfairly?
responses strongly agree agree neutral disagree strongly disagreepercentage of responses c in general is the code review process in openstack fair?
responses figure responses to likert scale questions in the web survey on the perception of fairness in openstack a as patch author b as code reviewer and c in general of the openstack code review process table result of the categorization of the open ended responses of the perception of unfairness in openstack category rule frequency as author frequency as reviewer frequency general distributiveequity equality need proceduralcontrol consistency bias suppression information accuracy correctability ethicality interactionalrespect psychological safety informationaltruthfulness adequacy non applicable out of context too broad etc.
some responses fall into several categories and rules hence the sum of the frequency is higher than the total number of the responses.
as it can be seen distribute fairness and procedural fairness mainly consistency and bias suppression were the most common issues mentioned.
this is in part because equity affects consistency.
in the following subsections we proceed to show examples of comments from respondents by category.
distributive fairness equity equality there is a dissonance in the expectations of different contributors.
some expect equity and see equality as unfair contributing members in good standing that regularly and unselfishly carry their share of the workload can and should expect to receive higher priority for reviews.
other respondents expect equality and see equity as unfair a submitter is presented with the illusion that all submissions are equal when in reality the community prioritizes pull requests from known submitters.
newcomers rather than receive special attention newcomers appear to sometimes suffer a negative bias.
a respondent describes a textbook example of the impact of unfairness on her motivation to be a contributor i have only tried to make one contribution.
i was so discouraged by the response from the reviewer i have not tried again.
while a reviewer acknowledges having a bias against newcomers when short on time tend to prefer patch styles i m familiar with and agree with over patch styles unfamiliar .
this leads to me preferring people i m already familiar and that i know write good patches over newcomers.
need respondents stated that some projects do not have enough core reviewers which delays the entire process.
as the openstack projects are becoming bigger the review process is slowed down by the small number of core reviewers.
some respondents also believe that some reviewers do not invest the appropriate effort to review their code e.g.
a reviewer judges a patch before completely understanding it .
procedural fairness consistency respondents stated that reviews are not performed consistently.
one case is when some reviewers tend to complain about minor issues more than others authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
perception of fairness in modern code reviews icse may june gothenburg sweden ... many reviewers in openstack ... give a negative review not for functionality but rather for a typo or an extra space.
some respondents however do not regard this type of behavior as being unfair.
respondents also stated that consistency varies from one project to another names of projects have been replaced i have contributed and reviewed in projects and .
i found that and to be quite reasonable and fair .
as stated above is a disaster .
bias suppression bias was frequently mentioned however bias was seen in many different aspects.
one major bias is cross project collaboration and code cleanup ... each project tends to reject code that could be implemented in the other projects in an effort to minimize their own codebase.
but if when they do that important features cant land because no one will take a fair share of the code.
the review process is sufficiently onerous and unpredictable that contributors are actively dissuaded from code cleanup as this is not directly bug or feature driven.
control and correctability were rarely mentioned.
control was positively mentioned to avoid unfairness the culture in is to gain mind share for new features through discussion on m l and summits.
regarding correctability one respondent mentioned the lack of an appeal process core reviewer gave me a which was not understandable.
i asked him times on irc to discuss and he ignored it.
ethicality some responses can arguably fall into this area.
in particular where reviewers explicitly benefit people that they know people look out for friends instead of looking out for their projects.
interactional fairness this type of fairness was only mentioned in the context of respect primarily by satellite developers and who feel disrespected by more central contributors.
for example requests for reviews from core members in the irc channel have sometimes been responded to with contempt.
another writes how she feels demeaned by reviewer s lack of attention contributions are ignored unless i beg for attention.
i mighthave time to contribute a minor improvement.
i never havetime to beg for attention.
if you don t want my help i got the message loud and clear .
newcomers appear to be a target also to a point where i have actually heard cores indicate that people need to be hazed or prove themselves or suffer really hard reviews to earn their stripes .
i cannot imagine how many developers we have chased away because of this fraternity culture.
informational fairness only adequacy was mentioned in the answers and it was mentioned only in the context of being an author not the reviewer.
answers covered both dimensions the quality or lack of feedback the reviewer does not explain what the problem is or does not include the context of the argument.
and the lack of explanations for unexpected treatments in this case a long delay reviews that take too long are very demoralizing for potential contributors if they don t hear feedback in a timely manor .
summary these responses clearly show that unfairness especially with respect to equity equality consistency and bias suppression are important concerns to some contributors.
this is probably because the documented procedures of openstack do not address these issues leavingthem to interpretation.
in our analysis we omitted positive responses i.e.
those who considered the review process as fair .
due to this and the limited number of responses we can not make any general ization regarding the fairness of the review process in openstack.
.
prioritization openstack does not document how reviewers should prioritize patches to review.
that is the reason why we asked reviewers how they prioritize what contribution to review.
the purpose of this question was to evaluate if reviews were prioritized consistently and without bias.
we asked openstack reviewers how they prioritize patches to review and offered five possible answers a patch is selected based on the developer s expertise the importance of the patch the author of the patch the difficulty the easiest or the most difficult patch first or its freshness the newest or the oldest patch first and gave them the option to elaborate on their answer in a free textual answer.
figure shows the results.
at it can be seen the expertise of the reviewer and the importance of the patch are consistently considered the most important prioritization strategies by the majority of the reviewers.
importance of the patch implies that as expected equity is applied to the treatment of patches to review.
the most often mentioned reasons a patch is important are security fix and other patches depend upon it.
the rest of the options to the question are more divided.
a significant number of people chose easiest first while others chose the most difficult first similarly some reviewers chose oldest first and others newer first.
this result shows a significant lack of consistency in the selection of patches to review.
the respondents were very divided on whether to prioritize reviews from people they know.
some of the answers imply that some reviewers might lean towards equity giving priority to patches from frequent over satellite contributors tend to emphasize reviewing code submitted by team particularly when i don t have much time for review.
in some cases people look for patches that benefit them or their organization and this might lead towards ethicality issues.
two respondents wrote i try to review the contributions of my co workers at company name primarily.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden german robles poo yang iida and inoue percent row count totals oldest firstnewest firstmost difficult firsteasiest firstbased on who the author ismost importance firstbased on expertise not a priority low priority medium priority high priority essential figure breakdown of answers to the question when you review code how do you prioritize what contribution to review?
patches that align with my interests.
regarding self interest another reviewer highlighted that selfishness is not necessarily good for the project most important for me !
most important for the project.
some reviewers wrote that they tend to review patches after being contacted by the author who they usually know .
this puts newcomers at a disadvantage since they are unlikely to have connections with reviewers.
overall we found that reviewers prioritize for a variety of reasons some grounded on technical aspects and others in social ones.
however without a clear policy of what the reviewing prioritization is authors of patches could find it difficult to know when the review of their patch should be completed.
this was summarized by one respondent f or example a developer might think they are being treated unfairly because other reviewers were completed and merged before theirs.
discussion and implications modern code reviews have considerable advantages both to the quality of the system and to the knowledge of its developers.
however social aspects of code reviews cannot be ignored .
every time a person evaluates the work of another social tensions tend to arise especially when the outcome is unsuccessful i.e.
the patch is rejected .
in code reviews the individual s work is subjected to the decisions of others and these decisions might have economic and socioemotional consequences to the developers .
the literature on code reviews has concentrated on the mechanics of code reviews barely addressing its social interactions.
these interactions have been a growing concern for developers as reflected in blog posts and online discussions .
frequentrecommendations to address these issues are to be polite to be objective to avoid nit picking etc.
however that is not enough.
many other aspects of fairness need to be taken into consideration.
during social interactions events are likely to produce emotions especially the negative ones.
these emotions affect directly the attitudes and behavior of people .
in organizational settings the frequency and accumulation of the events rather than their intensity determine the outcomes .
that is people in an organization can tolerate one or two major events and yet have difficulty to overcome relatively minor but constant events that affect their work.
thus for example the white space reviewers drive me crazy!
is a reflection of an event that triggers a negative emotional response.
within our framework the developer feels unfairly treated which may be exacerbated if the code is not reviewed before fixing the white spaces.
in the long term the accumulation of these small details may determine the satisfaction in the project and futureparticipation.
fisher argues that behaviors and attitudes are dynamic they change with the hassles and uplifts of everyday work.
the same occurs with the perception of fairness.
therefore fairness in code review must be constantly monitored.
fairness theory provides a solid foundation to create better policies and procedures for code reviewing.
fairness has many dimensions and ignoring any of them might lead to unfairness even if the rest of the dimensions are properly addressed.
the framework that we provide can serve as a starting point of discussion and as a way to evaluate perceptions of unfairness as we have demonstrated in our qualitative study .
.
lessons for practitioners guidelines for conduct code reviews usually address issues of interactional fairness politeness and constructive language and informational fairness provide good and precise feedback .
however distributive and procedural fairness are considered much less.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
perception of fairness in modern code reviews icse may june gothenburg sweden a reviewing system should start by addressing distributive fairness from which guidelines for procedural fairness are derived.
this includes defining the minimal needs of a patch review the measurement of importance of patches the decision of whether to use equity or equality with respect to authors and how to treat newcomers.
equity should be used in the treatment of patches.
it is clear that some patches are more important than others e.g.
security bug fixes should have higher priority .
implementing equity of patches requires the ability to measure a patch s importance.
even in the presence of equity all code reviews should have a minimal level of quality the needs of the review .
some of these needs might be a function of the patches difficulty e.g.
larger patches require longer reviews while others should remain above a minimal threshold e.g.
the reviewer will apply the same level of concentration and care to any review .
the needs of a patch might also depend on what the patch achieves i.e.
a patch to documentation might require less reviewers or votes than a patch that affects a critical area of the system .
often the needs of a patch are in direct conflict with the reviewing resources especially where there is a shortage of reviewers .
one way to address this shortage is to allow some patches to have incomplete reviews or no review at all this will require that each review clearly documents level of attention that the patch has received.
for example certain types of patches could be approved with a mark saying hastily reviewed or not reviewed .
this way others are informed of the potential risks of the accepted patch.
in such a scenario the stated minimal need of a patch is lower but the system provides a way of signaling the risks of this process.
it is less obvious if some authors should be treated differently than others.
a code reviewing system should determine if equity or equality be implemented.
if equity is chosen it requires a way to measure contribution.
it is not uncommon in reviewing systems for core contributors to gain an advantage against other patch authors but it is important that this advantage is documented those who are biased against should know why which reduces their perception ofbeing treated unfairly.
procedural fairness requires the establishment of clear procedures that document how the review is to be performed.
consistency and bias suppression go hand in hand.
the reviews should be consistent and without bias except when the bias is a result of equity some patches authors patches should have priority .
lack of consistency was one of the major complaints in our survey.
regarding control modern code review process should always give a voice to the author of the code.
it is important that a patch is not rejected and the review closed without allowing its author to respond to the reviewer s evaluation.
similarly a system should be in place that allows the author of a rejected patch to appeal the decision ideally involving new reviewers who did not participate in the former review process.
due to the open nature of code reviews information accuracy is often not an issue especially when the author and other developers can contribute to the review.
ethicality appeared in some of the responses to our survey.
authors are concerned that some reviewers approve patches from certain authors without actually reviewing them quid pro quo .
acode review process can specify some ethical expectations of the reviewer such as the requirement that a patch will never be approvedwithout a minimal level of review and that both the author and the reviewer will not deceive others or collude with each other.
interactional fairness is being addressed with codes of conduct.
in general these documents address the issues of disrespect and exposure to personal danger but should also address issues of invasion of privacy where the reviewer improperly uses information regarding the author outside the review scope .
regarding informational fairness the openness of code reviews especially in oss systems minimize the issues of truthfulness.
with respect to adequacy there are two main aspects a give specific reasons for a rejection typically documented in guidelines of how to properly do code reviews and b it is important that when reviews veer off from the expected procedures such as taking too long the author is properly notified why.
the existence of metrics and analytics of the code review process that document the load of reviewers the length of the review queue the turn around time of reviews rejection rate etc.
appear to facilitate adequacy as it createsexpectations on the authors regarding the quality of service that theyshould expect although we acknowledge that research is required to verify this .
the existence of procedures guidelines and code of conduct might be sufficient.
however in some cases it might be necessary to have mechanisms for monitoring compliance and enforcement.
.
implications for researchers evaluating the work of others in a way that is perceived as fairis not trivial yet little research has been done to study fairness within the scope of software engineering.
recent work has found that social issues in code reviews such as organizational membership or anger in communication affect the outcomes but work is needed to evaluate if these behaviors are perceived as fair or not.
fairness needs to be considered an important part of the health of a system.
the potential negative effects of unfairness might require its early identification and removal.
this requires research in methods to monitor how fair the system iswith respect to the expectations of the organization and its members and perhaps even more important how fair the system is perceived by its members.
metrics serve an important role for this purpose.
however metrics must be consistent with distributive fairness and they should consider the merit equity of the patches and their minimal need e.g.
some patches should be reviewed faster than others but no patch should take longer than acertain time .
being able to do this requires research in assessing the merits of a patch e.g.
when does a patch require to be prioritized?
.
similarly it might be desirable to automatically monitor the fairness of each reviewer.
empirical studies can help clarify the more important attributes of fairness.
similarly studies are needed to evaluate the cost benefit ratio of implementing fairness policies and mechanisms.
this will inform organizations in terms of what actions are more likely to yield results depending on their particular needs and resources.
our empirical study was exploratory of one oss system.
more research is needed to better understand how developers feel about fairness in code reviews both in open source and industry and what are the effects of unfairness in both the system being developed and the individuals who perceive unfairness.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden german robles poo yang iida and inoue threats to v alidity internal validity relates to the validity of causal inferences researcher bias made by the study.
the framework is derived from our interpretation of how the concepts in fairness theory could apply to code reviews and other researchers may arrive at a slightly different framework to apply.
the manual coding of the open ended responses in the survey may have introduced subjective bias in the results.
to reduce this bias two authors coded independently the responses.
the results were merged afterwards.
we calculated cohen s kappa to evaluate the level of inter rater agreement between the two authors which was slightly above .
.
in case of disagreement both authors discussed it with the help of a third author.
particularly the comments referring to equity and equality from distributive fairness and bias suppression were difficult to split into different categories so we grouped them all into one.
construct validity refers to whether the studied parameters are relevant to the research questions and actually measure the social constructs or concepts intended to be studied.
in our study we may have missed some developer s information as we can only include the people who have recognizable and available information on theinternet e.g.
email address .
we lack information for less than of developers.
considering that openstack is an industrial leading oss project we may safely ignore those developers.
participation in the web survey was low.
however as stated by lethbridge et al.
if the objective is to understand trends with reasonable confidence then low response rates may well be fine .
external validity is concerned with the extent to which it is possible to generalize the findings.
we do not claim that our results apply to other software projects.
our study is exploratory whose objective is to support the framework to study social behavior in modern code reviews.
we presented preliminary evidence from the results that further supports the framework being applicable to modern code reviews and demonstrates that the issues of fairness exist and should be taken into consideration.
although providing rich data a single case study has limitations and further research may help refine the framework presented.
nevertheless a frequent misconception is that single case studies provide little value for the academic community and do not contribute to scientific development.
historical evidence shows otherwise.
it is known from the social sciences that more discoveries have arisen from intense observation than from statis tics applied to large groups page as cited by begel and zimmermann .
similarly individual cases have contributed to discovery in physics economics and social sciences .
both single case studies and research on large samples are essential for the development of an empirical body of knowledge .
related work with respect to code review studies bacchelli and bird studied the motivations expectations and outcomes of modern code review .
rigby et al.
studied the review policies and examined which metrics have the largest impact on review efficacy in oss projects .
von krogh et al.
note that some oss projects have a socialization process when accepting technical contributions .
balachandran suggested using review bot to reduce human effort and improvecode review quality .
bosu et al.
investigated the factor of useful reviews to improve the effectiveness of code reviews .
thongtanunam et al.
studied traditional code ownership heuristics using code review activities .
baysal et al.
found the non technical factors of code review can significantly influence the code review outcomes .
mcintosh et al.
found that there is a negative influence on software quality when the poorly reviewed code is merged .
jiang et al.
found that experience of developers impacts the patch acceptance and the reviewing time .
y ang et al.
studied the social relationships between patch authors and reviewers .
dabbish et al.
found that information transparency motivates participation.
tsay et al.
found that the level of previous participation of a developer improves the politeness of the review.
sentiment analysis has been used to study security related pull requests in github where it was found that these discussions tendto have more negative emotions .
gachechiladze et al.
argued that detecting anger can be helpful to maintain the health of a software project.
the use of codes of conduct in oss projects has been of interest to researchers.
tourani et al.
studied how codes of conduct are used in a large collection of oss projects.
schneider et al.
studied the interactions in the linux mailing list where it is highlighted the dispute between kernel developers that lead to sharp leaving the kernel development.
squire et al.
provide a collection of data about insults and improper language in oss projects discussions and how they relate to their code of conducts.
conclusions code reviews are a sociotechnical process where the author is subjected to the decision of others.
the exploratory survey of contributors and code reviewers of openstack presented in section demonstrates that unfairness is starting to be perceived as an issue.
lack of fairness can be demoralizing and affect the productivityand or participation of some of its members and can potentiallyaffect the long term success of a project.
codes of conduct are becoming common in software development especially oss but theytypically address only interactional fairness.
we created a framework that helps study understand and manage the potential challenges that code reviews face regarding fairness.
we have also contributed a set of guidelines that practitioners can use to improve fairness in their code reviews.
fairness is likely to be an issue in other decision processes in software engineering.
having a fair development process might be particularly important for oss projects where members choose to participate specially for large industrial baked oss projects where the entities that choose to participate also make large investments .
fairness is a nascent area of research in software engineering among many topics research is needed to i understand how softwaredevelopers feel about fairness during their day to day activities ii to measure the perceivable fairness of a software development project and how it affects its productivity and iii how to improve it.