disseminating architectural knowledge on open source projects a case study of the book architecture of open source applications martin p .
robillard school of computer science mcgill university montr al qc canada martin cs.mcgill.canenad medvidovi c computer science department university of southern california los angeles ca usa neno usc.edu abstract this paper reports on an interview based study of authors of di erent chapters of the two volume book architecture of open source applications .
the main contributions are a synthesis of the process of authoring essay style documents esds on software architecture a series of observations on important factors that in uence the content and presentation of architectural knowledge in this documentation form and a set of recommendations for readers and writers of esds on software architecture.
we analyzed the in uence of three factors in particular the evolution of a system the community involvement in the project and the personal characteristics of the author.
this study provides the rst systematic investigation of the creation of esds on software architecture.
the observations we collected have implications for both readers and writers of esds and for architecture documentation in general.
ccs concepts software and its engineering !software architectures documentation keywords architecture description open source software .
introduction large software systems realize a number of important design decisions that are intended to remain stable .
these decisions and the properties they induce are often referred to as a software system s architecture .
knowledge of a system s architecture helps ensure the preservation of its conceptual integrity in the face of on going modi cations.
however while every system has an architecture whether it is documented or not an architecture must be documented for stakeholders to take it into account.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
icse may austin tx usa c acm.
isbn .
.
.
.
have been a number of well known attempts to codify architectural documentation from the establishment of standard architectural views as a documentation basis to semi formal and formal architecture description languages to the standard uni ed modeling language uml to suggested best practices for producing architectural documentation .
despite these e orts however there is no universally agreed upon method for documenting a software system s architecture.
in recent years we have witnessed the growing emergence of informal attempts at communicating software architecture knowledge through essays that combine narrative prose diagrams and in some cases source code.
this kind of essaystyle documentation is already publicly available for many systems e.g.
chromium firefox application domains e.g.
consumer electronics mobile robotics and computing paradigms e.g.
grid cloud .
essaystyle documents esds on software architecture target the broad dissemination of knowledge as opposed to the systematic speci cation of the properties and elements of a software system.
their increasing prevalence as vehicles for capturing important software development ideas and experiences makes them extremely relevant to the software architecture discipline.
as their popularity and availability grows we can expect them to play an increasing number of roles in software projects from recruiting and on boarding new developers to maintaining architectural conformance.
without a good understanding of the esd approach to architectural documentation we are limited in our ability to properly interpret the information they capture and to help improve their quality.
as a rst step towards the better understanding of the phenomenon of essay style documentation of software architecture we conducted a case study of a book project in which each chapter was the description of the architecture of an open source software system .
our study relies on multiple surveys and interviews with the authors of of the book s chapters or of the applicable chapters.
to ensure that the data we collected could be interpreted in a meaningful way we analyzed in detail many other contextual aspects of the case including by studying the text of all chapters and by interviewing the editors of the book.
the major contributions of this paper include a synthesis of the process of authoring esds on software architecture a series of observations on three important factors that in uence the content and presentation of architectural ieee acm 38th ieee international conference on software engineering knowledge in this documentation form a set of speci c recommendations for readers and writers of essay style documents on software architecture.
the three in uential factors we surfaced are the evolution of a system the community involvement in the project and the personal characteristics of the author.
in addition to the inevitable fact that software architecture is a function of the technical aspects of a system the insights that emerge from the study motivate the formulation of a hypothesis we call themultiple lens hypothesis which states that architectural information is focused from four di erent types of lenses technical historical personal and social.
although non technical elements have been part of software architecture descriptions for decades our study surfaces new and unexpected insights about the relation between technical factors and the other lenses.
for example we describe how some architects used stories of the evolution of their system to describe and justify design rationale as opposed to the traditional approach of capturing rationale to support evolution.
this paper is organized as follows.
section details the design of our case study and section the context for the case under study.
section summarizes our key ndings while section discusses their implications threats and limitations.
section describes the related work that informed the study and provided its theoretical departure point.
section concludes the paper.
.
case study design there are so many di erent contexts in which open source contributors produce architectural documentation that attempting to study the phenomenon generally bears the risk of becoming intractable.
to scope our initial investigation of the phenomenon we decided to conduct a case study of the production of architectural descriptions for the book architecture of open source applications henceforth referred to with its acronym aosa.
the case as part of the aosa book project co editors amy brown and greg wilson recruited open source contributors to author a total of chapters of which described the architecture of di erent open source systems four of the chapters are not strictly on the architecture of a system but address more general topics e.g.
release engineering .1the project started in the spring of and was completed with the publication of the second volume in june .
the authors were instructed to write about pages on the major design decisions for their system and to write for an audience of experienced software developers.
given the relatively loose initial editorial guidance the authors produced a body of work that varies greatly in quality style and choice of topics.
the result of this e ort is freely accessible .
our research design is thus that of the embedded multiple case study with two levels of context.
the book project as a whole provides a rst general context recruitment strategy editorial process review process etc.
and the creation of each chapter forms a distinct embedded case with its own context type of system technology development process etc.
.
we distinguish between these two levels of context with the terms general context vs.system context.
1these are chapters and in vol.
and and in vol.
.table study participants.
id an alias for the participant ch chapter reference volume chapter system the type of project occ.
participant s occupation role the participant s role in the project.
id ch.
system occ.
role audio editor technical developer development env.
technical contributor communication technical developer version control technical developer web application technical developer image processing technical founder operating system technical outsider compiler research founder image processing technical developer data visualization technical developer web content platform media contributor web content platform technical developer web server business founder middleware technical founder persistence framework technical founder web app.
framework technical founder build tool technical developer middleware technical founder research questions our case study seeks to answer the following questions rq1 how do authors approach the production of essaystyle documentation of software architecture?
we de ne essay style documentation esd as software architecture description in free narrative form as opposed to architectural documentation that follows prescribed systematic templates or standards .
in addition to book chapters formats for esd on software architecture include technical reports e.g.
on the chrome browser and on line articles e.g.
on the firefox os .
given a set of esds and a proper description of the context in which they were produced we then seek to answer rq2 what factors in uence what authors select to include in an essay style informal document on software architecture and how they present it?
case selection this case study relies on interview data from the editors and authors of the aosa book.
as in most case studies we had to follow an opportunistic approach to participant recruitment we invited every author to participate and involved all volunteers in the research up to one per chapter .
a total of authors of distinct chapters participated in the study.
table summarizes relevant attributes of the study participants which map one to one with cases.
although participants agreed to be personally identi ed we refer to them through identi ers to a ord them a certain degree of privacy p xrefers to participant number x. the table includes selected contextual information.
we include occupation to distinguish between participants with a primarily technical occupation software engineering and variants from a researcher media expert and business person.
the information about the participant s role in the project is our categorization based on the participant s self reported quali cation.
the roles have an implied order of importance.
with founder we indicate a person who was critical to the inception of the project and except for p acted as the main 477architect or co architect of the system.
developer indicates a person who makes substantial technical contributions to the project and exercises some degree of leadership or authority in the project.
contributor indicates someone who may have contributed to the project in non developer capacity.
outsider is someone who is not involved in the technical aspects of the project as a contributor but who has technical knowledge of the system.
this variety of roles is re ective of how architectures are documented in more traditional development settings where in practice di erent stakeholders may author or contribute to such documents.
data collection we began with a close reading of a sample of chapters to get acquainted with the material and identify salient aspects e.g.
use of source code informal diagrams .
in early we asked one of the book s editors wilson to invite by email all of the authors to participate in this project.
authors of di erent chapters agreed to participate phase i of the data collection .2we sent each of the authors a questionnaire shown in figure comprising seven questions about the context for their contribution and their approach for writing the chapter.
upon receiving a completed questionnaire we scheduled a follow up interview with each author.
the interviews were semi structured we prepared an interview guide by studying each participant s chapter and questionnaire responses and adapting a baseline interview template to the speci cs of author and their chapter x2.
.
for example for the participant who was a project outsider we used the interview to learn about the participant s connection to the project a piece of information that was not required from other participants.
the interviews which lasted around minutes on average were conducted using text messaging software so that we could collect the exact transcript of each interview.
we also interviewed the two co editors of the book to collect information on the general context of the project.
following the analysis of the questionnaires and interviews we emailed each participant a validation questionnaire.
in may we sent to the authors of the remaining chapters a follow up invitation to contribute to the project.
four more authors submitted the questionnaire and participated in an interview phase ii of the data collection .
we did not send the validation questionnaire to the phase ii participants because their interviews focused on themes already validated as part of phase i. finally we sent each participant a draft of this paper and asked them to ag any errors and to comment on the credibility and usefulness of the ndings participants responded.
in the end our case study can take into account the experience of authors and editors in the writing of chapters or exactly of the applicable chapters.
data analysis method we analyzed the questionnaire responses and interview transcripts using a qualitative approach adapted from grounded theory methods .
the initial analysis of the chapters was exploratory and served as source of input for designing the survey and interview instruments.
we then systematically analyzed the questionnaire responses and interview transcripts using open 2in several instances a single author of a multi author chapter replied to our invitation but also copied their co authors.
.
how do you describe your role in the project described in the chapter?
if there were other architects what was the division of responsibilities?
.
did you consult any other people in writing the chapter?
if so who were they?
what was the purpose of consulting them?
.
what were the major types of topics a.k.a concerns aspects or issues of the system that you decided to describe in your chapter.
why did you select those?
what did you leave out?
.
what approach did you follow for presenting di erent topics?
this includes the choice of gures and code snippets and their notation and the writing style you adopted.
.
how did you decide on the sequence of topics what to present rst second etc.
?
is this sequence important to understand the system?
.
did you use any materials documents diagrams in writing the chapter?
if so what are those materials?
.
did the fact that the chapter was intended for a broad audience impact how you approached wrote it?
if so in what ways?
did you include change or omit information because this was a book chapter and not an architectural design document?
if so what information?
figure pre interview questionnaire.
the summary keywords following each question are for ease of reference in the paper they did not appear on the questionnaire.
coding we assigned codes to sentences or paragraphs and we de ned the codes as the study progressed.
we subsequently used axial coding and went through the codes to link them to categories of code that synthesize high level concepts e.g.
use of diagrams .
we jointly completed this analysis while immersed in the data during a week long work session during which we were physically collocated.
as a result of this initial analysis we identi ed three important themes evolution community and personal factors and reached out to additional participants to specifically develop them.
at the end of phase ii in which we interviewed four additional participants we systematically re coded all transcripts and questionnaires using the three codes evolution community and personal factors.
we then re analyzed the data along each dimension and produced the interpretations described in section .
paragraph main themes .
we also integrated the input of the participants in our nal version.
.
general context in this section we distill the critical aspects of the general context in which architectural descriptions were produced.
editorial process this section is a summary of the editorial process based on the interview with the book editors.
the project proceeded in two phases corresponding to the two volumes.
the recruitment process involved email advertisement and solicitation and snowball recommendations friend of a friend introductions wilson .
the authors worked on 478their chapters asynchronously and at di erent paces which varied from a few days to several months.
the text of an email for the authors included the following guidelines a our target is approximately pages per chapter but can go higher... b your audience probably been programming for ve years or more on top of a in some computer related discipline but hasn t worked in your speci c area c somebody once de ned software architecture as the set of decisions made in writing an application.
i think that s a good rule for deciding what should be in or out of your chapter what are the things that are only obvious in retrospect?
another way to think about the chapter is what the whiteboard talk you d give to a new developer who was about to start coding for you.
.
some authors did not strictly adhere to the guidelines a development that was recognized and accepted by the editors if authors thought the most important useful thing was to say xyz who was i to tell them they were wrong?
wilson except for holding the line on marketing brown.
each chapter was sent out to two reviewers.
the reviews were returned to the editors who forwarded the appropriate comments to the authors with a request to incorporate them into the nal version.
the chapters were then lightly copyedited by the two book editors.
although the editors gave feedback to the authors the authors creative license was extensive and what you get in each chapter is often exactly what the author originally wrote brown.
the editors also did not give guidance about diagrams except that they wanted many.
they did not say anything about the use of source code.
chapter metrics table provides baseline metrics on the chapters that were the target of our case study.
the chapters are identi ed in the form volume chapter .
the size metric is the number of words of text excluding code blocks punctuation and tables.
the number of system diagrams corresponds to the number of diagrams that describe the structure of the system.
we excluded from this count the gures that depict screen shots of an application or the application s output.
in the column listing the number of diagrams we also indicate in parentheses the number of system diagrams that were drawn in the uni ed modeling notation uml as a subset of the total.
finally the last column indicates the number of code blocks in the chapter.
the median values in the last row of the table are the median values across all applicable chapters.
the complete metrics for the remaining chapters are omitted for lack of space.
collaboration process although all authors interacted with the editors and reviewers of their chapter we noticed di erent collaboration models for obtaining the information for a given chapter from other stakeholders.
the authors engaged in three types of collaboration processes solo e ort with primary informants or through community feedback.
solo effort.
nine participants clearly indicated that they authored their respective chapters alone p or only with their co author p .
in all cases these authors were developers or founders of their project see table .
primary informants.
in ve instances the participant authored their chapter with the help of one or two principal informants p .
in all cases the primary informantstable chapter metrics.
chapter the chapter id in the form volume chapter nb.
au.
the number of authors size the number of words of text dia.
the number of system diagrams with the number of diagrams drawn using uml in parentheses code the number of code fragments.
note that the median values are computed for all relevant chapters of the aosa book.
chapter nb.
au.
size dia.
in uml code median were the project s founder or core developers.
the contributions of the primary informants included answering questions i might have asked a question or two the primary architect p4 validating the architecture description had x and y both major contributors of the life of the project read early drafts of the chapter for clarity accuracy and completeness p10 providing feedback on content selection the purpose of consulting them was to get feedback on the chapter outline and the amount of focus put on each one of the sections p9.
community feedback.
the four remaining participants relied on community feedback when putting together their respective chapters.
p 2and p 5were technical contributors to the system described who interviewed the other major contributors for questions and feedback.
p 11was a nontechnical contributor to the project who set up a community feedback process through a wiki we consulted dozens of people to get information and make sure our understanding was correct.
p11 p13was a founder of the project who was not involved in technical work and who relied on input from developers to author the chapter.
i consulted the original author of the system and the principal co founder of the company as well as the other core developers we employ.
i also ran the drafts against a handful of the most prominent 3rd party developers... x in particular gave a permission to re use quite a bit of his guide that one became the foundation for the last section.
p13 supporting material most authors used a combination of information sources to produce their chapter including the application source code 479the project web site a developer wiki mailing lists bug descriptions etc.
although most chapters do not provide an explicit list of