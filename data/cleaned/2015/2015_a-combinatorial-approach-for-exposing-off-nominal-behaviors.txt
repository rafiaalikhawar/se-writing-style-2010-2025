a combinatorial approach for exposing off nominal behaviors kaushik madala university of north texas denton texas kaushikmadala my.unt.eduhyunsook do university of north texas denton texas hyunsook.do unt.edudaniel aceituna distek integration inc. daniel.aceituna distek.com abstract off nominalbehaviors onbs havebeenamajorconcerninthe areas of embedded systems and safety critical systems.
to address onbproblems someresearchershaveproposedmodel basedapproaches that can expose onbs by analyzing natural language requirementsdocuments.whiletheseapproachesproducedpromisingresults theyrequirealotofhumaneffortandtime.inthispaper toreducehumaneffortandtime weproposeacombinatorial based approach combinatorial causal component model combi ccm whichusesstructuredrequirementspatternsandcombinationsgeneratedusingtheipogalgorithm.weconductedanempiricalstudy using several requirements documents to evaluate our approach and our results indicate that the proposed approach can reduce human effort and time while maintaining the same onb exposure ability obtained by the control techniques.
ccs concepts computer systems organization embedded and cyberphysicalsystems softwareanditsengineering requirements analysis keywords off nominal behaviors requirements verification combinatorial approach model based approach acm reference format kaushikmadala hyunsookdo anddanielaceituna.
.acombinatorial approachforexposingoff nominalbehaviors.in proceedingsoficse 40th international conference on software engineering gothenburg sweden may june icse pages.
introduction off nominalbehaviors onbs areunexpectedorunintendedbehav iorsofasystem .onbscanoccurforvariousreasonssuch as human errors caused by not following the intended procedures components of a system being in conflicting states of operation andenvironmentalconditionsresultinginsuchconflictingstates.
onbs have been a major concern in the areas of embedded sys tems medical devices autonomous robotic systems and permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may june gothenburg sweden association for computing machinery.
acm isbn ... .
systems because not addressing onbs in these application domains might result in hazardous accidents and even catastrohpic results .
unlike expected or nominal behaviors onbs requires knowledge acquisition of missing requirements and they are usually not specified in natural language nl requirements .
some researchers have tried to address onb problems .forexample jensenetal.
proposedamodel drivendesign that uses the concept of safety functions to handle onbs and a studybyvermaetal.
utilizesoff nominalbehaviortestcasesfor airplane runway operations to expose possible onbs.
iverson proposedasimulation basedapproachthatcreatesaknowledge basebygroupingrelatedbehaviorsinnominaldatasetsthatcontain theacceptablebehaviorsofthesystem.thecreatedknowledgebase is used to identify onbs by collecting behaviors that diverge from the acceptable behaviors.
despite the progress this research has achieved there are some limitations with the existing approaches.
mostonbproblemshavefocusedonhowahumanoperatorreacts to off nominal situations within the operating environment rather than from the system s perspective.
also onb problems are often addressed only after the system has been implemented whose solutionmayinvolvesubstantialredesigning andadditionalcost because it is applied late in the development cycle.
someworkhasbeendoneatrequirementsleveltoaddressthese limitations.
causal component model ccm and enhanced causalcomponentmodel eccm wereproposedtoexpose onbs in nl requirements by converting the requirements into system state transition rules and parsing them to find user identified undesired states that result in onbs.
however ccm and eccm havesomedrawbacks.bothapproachesinvolvenlrequirements to be converted into transition rules.
because common nl requirements often contain ambiguities directly generating rules from requirements can be an error prone process and tracing back from rules to nl requirements requires a lot of time and effort.
both models ccm and eccm suffer from these problems.
toreducehumanerroraswellastoreducethenumberofstates thatneedtobemanuallyanalyzedtoexposeonbs inthispaper we propose a combinatorial causal component model combi ccm a component driven model.
unlike ccm and eccm combi ccm does not require writing rules from common natural language requirements butitrequiresuserstowriterequirementsbyfollowingamodifiedversionofeasyapproachtorequirementssyntax ears requirements patterns .
the use of these patterns forceselicitation reducesambiguities andmakeswritingrules lesserrorprone.oncetherequirementsarewrittentobeconsistent with patterns the rules are generated by a direct mapping.
the rules generated are component state transition rules which will be converted into system transition rules by rule expansion.
while theexpansionincombi ccmissimilartothatofccmandeccm acm ieee 40th international conference on software engineering authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden kaushik madala hyunsook do and daniel aceituna the number of states that users need to examine to identify onbs is much smaller.
combi ccm uses the combinatorial algorithm ipog to reduce the number of system states that a person needstoexaminewhileexposingonbs.therulescausingonbs are analyzed and corresponding requirements are corrected via reversemappingfromrulesbacktorequirementsinmodifiedears patterns.
to evaluate our proposed approach we conducted an empirical study using requirements specifications comparing ccm eccm andcombi ccmwithandwithoutstateflattening using wayand3 waycombinations.ourresultsshowthatthe2 way combination of combi ccm performs well in identifying possible onbs with a smaller number of states to be analyzed manually than ccm eccm and way combi ccm.
the rest of the paper is organized as follows.
section provides brief descriptions of ears patterns ccm and eccm.
section presentstheproposedapproach andsection4detailstheexperimentation threats to validity and results.
section analyzes theresults and discusses limitations and section discusses related work.
section presents conclusions and discusses future research directions.
background in this section we briefly explain ears requirements patterns ccm eccm and their model elements.
.
ears requirements patterns commonnaturallanguageiswidelyusedforwritingrequirements.
however commonnlcanbeambiguous wordy andhardtoanalyzeandformalize.toaddresstheseissues mavinetal.
proposedaneasyapproachtorequirementssyntax ears namely simplesentencepatternsforrequirements.thesentencepatterns includepatternsforgenericrequirements ubiquitousrequirements requirementsthatneedtobetruealways event drivenrequirements state driven requirements unwanted behaviors requirementssuchasfailurehandlingrequirements optionalfeaturerequirements and complex requirements that are logical combina tions of earlier stated requirements.
an example of an ears re quirements pattern is while in a specific state the system name shall systemresponse whichisastate drivenpattern.
it has been proven in various case studies that ears decreasesvagueness wordiness andambiguity andincreasestestabilityandverifiability.earsrequirementspatternsaremoresuitableforsystem levelrequirementsthanrequirementswrittenfor component drivendevelopment.motivatedbythebenefitsofears patterns we adapt state driven and event driven patterns into patternsthatcanbeusedforcomponent drivendevelopment asapart of our proposed approach.
.
ccm and eccm beforewediscussccmandeccmapproaches wewillexplainthe model elements of ccm and eccm.
.
.
model elements.
ccm and eccm include three major modelelements component componentstate andtransitioncondition.
a component is a part of a system that has a well defined functionality and can change states when transition conditions are met.
in the case of embedded systems and robots a componentis a piece of hardware and its associated software.
for example in a robot system the motor actuator and ultrasonic sensor are components.
every component has states.
a component state describes the currentconditionofacomponent.forexample amotorcanhave two states off and on .
a component state that has a parent state is considered to be a sub state of the parent state.
for example a motor s on state can have sub states such as accelerate and decelerate.
states without parent states abstract level of states areconsideredtobeatlevel0andwithanincreasedlevelofsub states thelevelvalueisincreased.forexample thelevelofthemotor s on state is while its accelerate state is .
a component state is represented as component name state name .
for example a motor s on stateisrepresentedasmotor on .ifacomponentstate is a sub state we represent it as the component name followed by a concatenation of ancestral states of the component state using a period .
asaseparator appendedbythecomponentstateatthe end.
for example the accelerate state of the motor is represented as motor on.accelerate .
asystem state is a combination of concurrent component states as the behavior of various components together constitute the behaviorofasystem.forexample fortherobotsystemdescribeabove asystemstatewouldbewrittenas motor on actuator active ul trasonicsensor nodetection .a transitioncondition isacomponent state that allows or enables the transition of another component state or a trigger that results in a state transition of componentstates.
a transition condition can be environmental i.e.
due to humanfactorsorenvironmentalconditionssuchaspressureand temperature oritcanbesystemrelatedsuchasthetransitionof acomponentstateduetoothercomponentstate s becauseofdependency.
an example of an environmental transition condition isthetemperaturebeinggreaterthan100 f whichresultsinthe transitionofthetemperaturesensorfromasafetoanoverheated state.
an example of a system transition condition is an ultrasonic sensor detecting an object which results in the transition of the motorfrom on to off .usingthemodelelements rulesarewritten in the pattern transition condition component current state component next state .
.
.
ccm.
ccm isamodelingtechniqueusedtoexpose onbs.
the major steps in ccm involve the conversion of common nlrequirementsintocomponentstatetransitionrules.theserules arethenconvertedintonumericalformtofacilitatecomputation.
thesenumericalrulesareinturnusedinruleexpansiontoconvert component state transition rules to system state transition rules.once the system state transition rules are generated rules with user identifiedundesiredstatesareseparatedout.theprocessof identifying rules with undesired states is a semi automatic process.
theusermustexamineallpossiblesystemstatesandidentifythe undesiredstatesthatresultinonbs thesestatesarethenmappedtorulesautomatically.oncetherulesareseparated anyrulewithboth the current and next state identified as undesired is omitted.
for restoftherules stateprofilesforundesiredstatesintherulesare determinedusingthestateprofilingalgorithm tocheckwhether the state is recoverable without human intervention.
any rule that has an undesired next state that is not recoverable is considered anunrecoverablerule.rulesthatarenotrecoverablearediscussedwith stakeholders and subject experts and corresponding requirements are corrected.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a combinatorial approach for exposing off nominal behaviors icse may june gothenburg sweden z d z d w d z d d z z ke d z lj lj wk lj lj ke nj d z e ke ke figure overview of the proposed approach .
.
eccm.
eccm is an enhanced version of ccm.
if substatesarepresent eccmunlikeccm doesnotrequirestateflattening .
the state flattening process involves removing hierarchicalrelationshipsamongstatesandforcingthemtoberepresentedatthesamelevel.thisapproachinsteaddividesrulesinto rule sets using the rule set generation algorithm see algorithm .
this helps alleviate the rule explosion problem and state explosion problem .
in addition eccm requires users to identify undesiredstatesonlyfromalistofnonrecoverablestates.therestofthe approach is similar to ccm.
ccm cannot accommodate sub states without performing state flattening but eccm can handle the concept ofsub states.
despitethe advantagesof theseapproaches as mentioned in section both ccm and eccm requires a lot of humaneffortandtime.tohandletheselimitations weproposeour approach combi ccm.
approach anoverviewoftheproposedapproachisshowninfigure1.the ovalsdenotetheprocesses steps therectanglesdenoteinputs outputs and the cylinder represents database.
the input to the approach is therequirementsdocuments andthefinaloutputisthefinalized requirements in modified ears patterns.
the numbers next to the ovals denote step numbers.
beforewedescribeeachstepindetail weprovideabriefoverview of combi ccm.
first nl requirements are converted into requirementswritteninmodifiedearsrequirementspatterns orccmearspatterns.duringthisstep components states andsub states are identified and stored in the database.
the converted requirements are used to generate component state transition rules step .thegeneratedrulesaredividedintorulesetsifsub statesare present.therulesineachrulesetareexpandedtogeneratesystem state transition rules step .
while the rules are being expanded systemstatesaregeneratedusingipog an waycombinatorial algorithm step3 .thegeneratedstatesaremanuallyanalyzedto identify onbs and a filter for each onb is created step .
filters arenumerical patternsthat canidentify undesiredstates andthey arefurtherexplainedlaterinthissection.thefilters alongwiththe state profiles generated using the state profiling algorithm are used to identifyrules with onbs thatrequire human intervention toreturntoadesirablestate step5 .thecorrespondingrequirements of these identified rules are found and corrected step .
inthispaper weusetheterms onbs and undesiredbehaviors interchangeably.step convert requirements to ccm ears patterns and generate rules mostrequirementsarewrittenincommonnaturallanguage .
common nl requirements are often wordy ambiguous and incomplete.
ears patterns were proposed to address these issues.earspatternsrefertosixrestrictednlsentencepatterns that were created to reduce the problems associated with common nl requirements.
case studies that used ears indicate that ears patterns are less ambiguous less vague less complex and more verifiable than common nl requirements.
further ears patternsfacilitatetherequirementselicitationprocessbyforcing engineerstofillinmissinginformation.touseearspatternsinour approach wemodifiedthembecauseearspatternsarenotsuitable forcomponent drivenrequirementsandwerenamedthemccmears.
in this paper we modified only two ears patterns because theycancapturetheessentialelementsinbuildingacomponentdriven state transition model.
the rest of patterns are out of scope ofthispaperastheyarenotusedinthebasicmodelthatwebuildin our approach.
the two ears patterns we modified are as follows event driven when tri er optionalprecondition the systemname shall systemresponse .
state driven while systemstate the systemname shall systemresponse .
we converted them into the following ccm ears patterns event driven fortransitionsresultingfromtriggersinvokedby environmentalreasons when environmentaltri er the componentname shalltransitionfrom componentstate to componentstate .
state driven for transitions resulting from dependency between components if component 1name is in component 1state state the component 2name shall transition from component 2state1 to component 2state2 .
inadditiontothesetwopatterns wecanalsoconvertrequirements into a complex pattern similar to complex requirements pattern of ears which contains a logical combination of the two patternsincludingthelogicalcombinationsofpatterns.forexample a sample complex pattern is when environmentaltri er and component 1name is in component 1state state the component 2name shall transition from component 2state1 to component 2state2 .
as a first step of exposing onbs we consider common nl requirements and find components their authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden kaushik madala hyunsook do and daniel aceituna states andsub states andtransitionconditionsusingwhichwecreaterequirementsthatfollowevent driven state driven orcomplex ccm earspatterns.ccm earspatternsforcetheusertoelicit requirements if details are missing in the pattern to be followed.
in addition itiseasytoenforceconstraintsonccm earspatterns thanthatonccmrules.thishelpsidentifytheunknowncomponents states andsub states.theinformationaboutcomponents states and sub states is stored in the database and used later in the generation of filters to expose onbs.
an example of the conversion of requirements into ccm ears patterns is illustrated as follows requirements sample the robot system shall consist of a push button switch a motor an ultrasonic sensor and a temperature sensor.
the system can be turned off and on using the switch which also activates the motor.
thesystemmuststopiftheultrasonicsensordetectsanobject.
the system must move only when the robot is on and the temperature is safe i.e.
less than f. inthisexample wehaveassumedtheswitchtohave off and on states unlikeastatelessswitch.consideringthiscondition the requirements in requirements sample can be converted into the following ccm ears requirements ccm ears requirements for requirements sample the robot system shall consist of a push button switch a motor a ultrasonic sensor and a temperature sensor.
whentheuserpressestheswitch theswitchshalltransition from off to on.
when the user releasesthe switch the switchshall transition from on to off.
if the switch is in the off state the motor shall transition from on to off.
if the switch is in the on state the motor shall transition from off to on.
when an object is present the ultrasonic sensor shall transition from no detection to detection.
if ultrasonic sensor is in detection state the motor shall transition from on to off.
whenthetemperature islessthan100 f the temperature sensor shall transition from overheated to safe.
if the temperature sensor is in the safe state and the switch is in the on state the motor shall transition from off to on.
once the ccm ears requirements are generated they are converted into rules.
as mentioned in section a transition rule is of the form transition condition component current state component next state .
the state driven pattern if component1 name is in component1state state the component2name shalltransitionfrom component2 state to component2 state will be converted intotransitionruleofform component1name component1state component2name component2state1 component2name component2 state .
the event drivenpattern when environmentaltrigger the componentname shalltransitionfrom componentstate1 to componentstate2 willbeconvertedintotransitionruleofformenvironmental trigger component name component state component name component state .
in the case of the complex pattern the environmental trigger component1 name component1 state will be followed by the conjunction and followedbyother environmentaltrigger component3 name component3 state as transition condition until we specify all conditionsinthecombination thegenerationofcomponent current state to component next state is similar to the aforementioned transformations.
whenweconverttheccm earsrequirements requirements sample1 intotransitionrules weobtainthe followingrules dueto space limitations we illustrate a small portion of rules example rules from ccm ears requirements for re quirements sample user presses switch switch off switch on rule temperature sensor safe andswitch on motor off motor on example of complex pattern rule algorithm generation of rule sets input a set of components in system c c1 c2 c3 ... cn a set of states at level for each component maxlevel maximum level of sub statessets of sub states for each component at level ... maxlevelrules r r1 r2 r3 r4 ... rw output rulesets 1rulesetnum forcurrentlevel 0tomaxlevel do 3i f currentlevel 0then foreach ruleriin rdo 5i fstates inri any of component states at level then rulesets rulesets ri rulesetnum rulesetnum else foreach component ciin cdo ifcomponent cihas sub states at level currentlevel then foreachruleriin rdo ifcomponent in ri cithen ifstate inri sub states of ciat level currentlevel then truncate states with lower level sub states rulesets rulesets ri else ifstates inri any of states at level then rulesets rulesets ri rulesetnum rulesetnum step divide and expand the rules oncetherulesarewritten ifthesystem scomponentshavesubstates the rules can be divided into rule sets.
the engineers domain experts and stakeholders are at libertyto decide whether to considersub statesseparatelyortoflattenthestatespace.stateflattening refers to the process of removing hierarchical states and representing all the states at the same level.
for example suppose that a component motorhas two states off and on and that the on state has two sub states idle and move.
by applying state authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a combinatorial approach for exposing off nominal behaviors icse may june gothenburg sweden flattening we represent the states of motoras off idle and move.
algorithm1 generatesrulesets.
riinthealgorithmrepresents rule number iin the list of transition rules e.g.
transition condition component currentstate component nextstate .
ci represents ithcomponent in the system.
the formal definitions of model elements and more details on rule set generation algorithm can be found in and respectively.
thealgorithmgeneratesonlyonerulesetifstateflatteningis done forhierarchical states.
the algorithmassigns levels tostates basedonthehierarchy.forexample statesatlevel0arestateswith noparentstates whereasstatesatlevel1haveparentstatesthat areatlevel0.thealgorithmgeneratesrulesetsuntilalllevelsof sub statesarecovered line2 .iflevel0statesarebeingexplored line3 any rulewithlevel0 statesintheinputset line4 isadded to the first rule set lines and .
if the level of states is greater than i.e.
if there are sub states line the following series ofoperations are performed for each component line .
for eachlevel of sub states of the component if the component contains sub states at that level line a new rule set is created.
any rule withsub statesinthecomponentatthatlevel lines11 isadded tothenewruleset line15 .ho wever iftheoneofthestatesinthe rule is at the current level while other state has the next level of information we truncate the other state to retain only the current level of information line .
for the rules whose components are notbeinginvestigated onlytherulesthathavelevel0states states with no parents are added to the rule set lines .
we illustrate the algorithm using the following example.
requirements sample user presses switch switch off switch on user releases switch switch on switch off switch on motor off motor on.idle switch off motor on motor off user enters location motor on.idle motor on.move destination reached motor on.move motor on.idle asmentionedinsection2 asub stateisrepresentedbyconcatenatingitsparents statesfollowedbyperiod .
andthenappending sub stateitself.forexample intherequirementssample2rules motorhas two outermost states off and on.
but in on state the motor can be in idle or move state.
these states are represented in the rules as on.idle and on.move.
byapplyingalgorithm1 ontherequirementssample2rules thealgorithmfirstconsidersruleswithatleastonestatewithno parent state and forms the first rule set as follows rule set for requirements sample user presses switch switch off switch on user releases switch switch on switch off switch on motor off motor on switch off motor on motor off from this example we can observe that the algorithm truncates anystatethathassub stateinformationwhenanalyzingtheparent states i.e.
in the rule switch on motor off motor on.idle on.idle is truncated to on as idle represents a sub state.
next thealgorithmstartscheckingsub statesforeachcomponent starting with switch.switchdoes not have any rules withsub states and thus motoris examined.
because motorhas substates a second rule set is formed as follows rule set for requirements sample user presses switch switch off switch on user releases switch switch on switch off switch on motor off motor on.idle user enters location motor on.idle motor on.move destination reached motor on.move motor on.idle theadvantageofpartitioningintorulesetsisthatitreducesthe ruleexplosionproblemthatcanoccurwhentransformingcomponentstatestosystemstates.flatteningstatesincreasesthepossible numberofcombinationsofcomponentstates therebyincreasing thenumberofsystemtransitionrules.partitioningintorulesets allows to process a small number of component states at any given time by restricting the state space thereby reducing the number of systemtransitionrulesthatwillbegenerated.theruleswehave generatedfortheexamplerequirementsinstep1aregroupedin onlyonerulesetbecausethecomponentshavenosub states.once the rule sets are generated the rules in a rule set are converted into numerical rules in which component states are represented in numerical form to make computation easier during rule expansion.
figure numerical states representation the representation of states and sub states in numerical form is illustratedinfigure2.therowsshowcomponentsandthecolumns show states.
sub states are listed in the columns within states.
the numerical states are generated by considering the ordinal position of components and states.
in the case of sub states the ordinalposition is concatenated with the parent state with period .
asa separator.
for example refers to state of component which is in a system that consists of components and .
represents sub state of state of component .
the value 0indicates that the component can be in any of its states.
when a specificvalueisassignedinsteadof0 theresultisasystemstateas wehaveinformationaboutallthecomponents states i.e.
asystem state is a combination of components states.
the first and eighth rules in requirements sample are converted into the following numerical rules numerical rules of requirements sample user presses switch and ruleexpansionisperformedoncetherulesareconvertedinto numericalrules.themaingoalofruleexpansionistoconvertcomponent state transitions into system state transitions.
we followed authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden kaushik madala hyunsook do and daniel aceituna the same rule expansion process used in ccm and eccm .
when the transition rule has a component s state s as a transition condition itimpliesthatthecomponentinthetransitioncondition mustbeinthestatespecifiedforthetransitiontohappen.itfurther impliesthatthecurrentstateaswellasthenextstateofthesystem must have that component in the specified state.
to achieve this we perform absorption and propagation operations.
absorption involves thetransferof stateinformation fromthe transitioncondition to the current componentstate.
when we apply absorption to rule in requirements sample we obtain and .
the propagation operation involves moving the state information from the current state to the nextstate.
after propagation rule becomes and .
once absorption and propagation are done the transition conditions that have only the component s states will be converted into a notation of t t refers to a transition caused by system concatenated with the rule number from the list of rules with the component s state s as their transition condition.
for example rule will be changed into t4 .
next we perform expansion which involves replacing zeroes in the numerical states withall possible component state values that makeupthesystem sstatespace.ifarulesethasacomponent s sub states wereplacethevalueofzeroeswithonlythevaluesof sub states of that component.
for example rule after expansion generates the following rules expansion of rule in requirements sample t t step generate possible system states with n way combination of component states as mentioned early traditional ccm and eccm approaches requireuserstoexaminealargenumberofstatesmanuallytofind undesired states.
because the number of possible system states is a cartesianproductofcomponentstates ifthetargetsystemislarge and complex the number of states that are to be checked manually can be very large.
for example if a system has components states each then the cartesian product of the states would be .
examining all these states manually would take substantial timeand human effort.
our goal is to reduce the number of states requiring manual analysis thereby reducing human effort.
to reduce human effort we use the ipog algorithm to reduce the number ofstatesthatneedtobemanuallyanalyzed.ipogalgorithm is widely used in the combinatorial software testing community.
becauseonbsoccurduetoconflictingcomponentstates checkingann waycombinationofcomponentstatesmustbeabletocoverall types of behaviors between any ncomponents.
for example when n waycombination ensuresthatallpossiblecombinations of component states between any two components are covered.
in general 2and3arewidelyusedfor nvalue .forexample for requirementsample1 whenweappliedtheipogalgorithmusing waycombinations only6statesneededtobeanalyzedinstead of states.
further we can add constraints when we generatecombinations so that only sensible combinations are considered.
for example if we consider a server and server communication as twocomponentsofasystem servercommunicationispossibleonlywhen the server is on checking whether the server is communicatingwhenitisoffisnotnecessary.thus unnecessarybehaviorscan be omitted by using in this case the constraint server communicationcanbeincommunicatingstateonlyiftheserverisinon state.
thevalueof n mustbechosenbasedonthedependencies betweenthecomponents.ifacomponentinteractswithallother components in the system then the n value must be the number of components.
however in reality most systems do not function such that each component is dependent on every other component.
mostsystemshaveacomponentthatactsasacontroller andthe restofthecomponentsinteractwithit.asaresult the n values of and are sufficient to represent dependencies in most systems.
our approach is meant for such systems.
we plan to work on reducingthenumberofstatesinwhichmultiplecomponentsmust cooperate e.g.
amultiplerobotcoordinationsystemformoving heavy objects as part of future work.
step identify undesired behaviors and generate filters once the n way combinations of states are generated the states are analyzed to determine whether any system components of the systemareinanyconflictingstates.itispossibleforasinglesystem state to exhibit multiple undesired behaviors especially when analyzing a complex system with large number of components.
to identify all the states in a system with undesired behaviors we createfiltersofthesestates.filtersarenumericalpatternsofundesired statesandarerepresentedsimilartosystemstates.anystatethatmatchesthe filteris anundesired stateand thefiltersare usedfor exposing onbs.
if the state value of a particular component in the filter is then the state of that component is ignored when the comparisonismade.forexample inrequirementssample1 the onbidentifiedis motoris on when temperaturesensor is overheated .thecorrespondingfilterrepresentationis2 .thestates thatmatchthisfilterinrequirementssample1are 2and2 .
these states are considered undesired states.
step generate state profiles and profile rules afterruleexpansion allthecomponentstatetransitionrulesare converted into system state transition rules.
because our goal is to notonlyexposeonbsbutalsofindthecauseofonbsandcheck iftheyarerecoverable wegeneratestateprofilesforeachsystem state.stateprofilesrepresentthein degree id andout degree od of a state that result from environmental transition conditions e as well as a component s state s as transition conditions t .
state profilingrequiresfindingtod tid eod andeid foreachstate.
figure illustrates state profiles for a given system state.
todisthenumberofcomponent sstatetransitionconditions resulting in transition from the state being profiled.
tid is thenumber of component s state transition conditions resulting intransitiontothestatebeingprofiled.eodisthenumberofenvi ronmental transition conditions resulting in transition from the state being profiled.
eid is the number of environmental transition conditions resulting in transition to the state being profiled.
these values are calculated for each state by parsing through each rule and checking the current state and the next state of the rule.
if the transition condition is environmental then eod of the current state is incremented by andeid of the nextstate is incremented authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a combinatorial approach for exposing off nominal behaviors icse may june gothenburg sweden by .
if the transition condition is system originated coming from component s states then tod of the current state is incremented by and tid of the next state is incremented by .
lj k d dk figure representation of state profile for example let us consider the following expanded rules from requirements sample user releases t whenthefirstrulestatedaboveisparsed becausethetransition conditionhasanenvironmentalcause theeodvalueofthesystem state1 1isincrementedby1andtheeidvalueof2 1is incremented by .
in the second rule because the transition condition is system originated the tod value of is incremented by and the tid of is incremented by .
thestateprofilesgeneratedalongwiththefiltersofundesired behaviors that are generated by manual identification of undesired behaviors explained in step will be used to profile rules.
filters asstatedearlier arepatternsthatrepresentundesiredstates.these filters are used to find rules with undesired states and thereby exposeonbs.thisisdonebycheckingwhetherthecurrentsystem stateornextsystemstateintherulematcheswiththepatternof the filter.
any rule that has undesiredcurrent and next states will be removed and the corresponding requirement is corrected or removed.anyrulewithanextstateastheundesiredstatewillbe analyzed further.
if a rule contains only an undesired next state then the state profile of the undesired next state is examined to determine whether its tod is or greater than .
if tod is this indicatesthattheundesiredstatecannotberecoveredautomatically and human intervention is required because it has no component s state asystemoriginatedcause thatcantransitionintoadesirable system state.
we identify such rules as nonrecoverable rules.
weillustratethisconceptusingrequirementsample1.inthis example one of the undesired behaviors is that motoris on when temperaturesensor is overheated .toidentifystatesthatarerelated to undesired behavior we use filter .
when we applied this filter wefoundarulethathastheundesirednextstate whichis t2 .
the tod value of undesired state 2i s zero which implies that the rule leads to the nonrecoverable state.
step perform corrective action once the nonrecoverable rules are identified stakeholders requirementsengineers anddomainexpertsdiscussandanalyzethecausesofthoserulesandcorrecttheccm earsrequirements.inrequire mentssample1 thenonrecoverablerulefoundinstep5wascaused byrequirement5becausehaving switch on withoutchecking temperature sensor isletting motor to transition from off to on .
tocorrectrequirement5 weomitteditastheexpectedbehavioris covered by requirement .
once the requirements are corrected the process is repeated until no undesired behaviors are found.
empiricalstudy to evaluate our proposed approach we conducted an empirical study to investigate the following research questions rq1 does combi ccm reduce the number of system states that should be analyzed manually compared to ccm and eccm?
rq2 does a reduction in the number of states affect the onb exposure ability?
.
objects of analysis we used requirements specification documents to investigate our research questions as follows automatic delivery system ads automatic delivery system isa175 pagerequirementsdocument.therequirements specifications concern a robot asked with deliveringpackages.inthisstudy weconsideredonlytherobot s behavioral requirements.
ab mail robot abmr ab mail robot is a page requirements document written for a course project.
the requirements specificationsconcern arobot asked withdelivering mail from mailboxes to people.
we have considered behavioral aspects in this study.
autonomousroboticvacuumcleaner arvc therequirementsspecificationsofautonomousroboticvacuum cleaner is a page document written for a course project that lists requirements for a robot vacuum cleaner that must be able to clean a room.
oddbotics oddbotics requirements are a page document.
the requirements specifications are for a robot that musttocapturevideowhilemovingaroundinanenvironment.
digitalhome software dhs therequirementsspecifications for digital home software is a page document that details a complex system that helps automatically controltemperature humidity aswellassmallappliances usingamobileorotherpersonaldevice.weconsideredonly of contact sensors to find and analyze onbs.
pacemaker pacemaker specification is a page document that describes the functionality of a pacemaker.
thisdocumentiswidelyusedbyotherresearchers .
in this study we concentrate on the pulse generator component of pacemakers whose malfunction results in complications to the patient.
excavator excavatorrequirements wereusedforaccm case study.
they consist of sample requirements aboutan excavator a real world system with details about the operator safety features in an excavator.
.
variables and measures our study manipulated one independent variable the modelingtechnique that exposes onbs.
we considered two control tech niques ccm and eccm and four heuristic techniques combi ccm f2 combi ccm h2 combi ccm f3 combi ccm h3 .
a description of these techniques can be found in table .
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden kaushik madala hyunsook do and daniel aceituna table independent variables modeling techniques type technique description controlccm ccm requires users to analyze all possible system states to identify onbs and determine the causes of these onbs.
eccm theenhancedversionofccm.eccmgeneratesrulesetsgivenhierarchicalstates.eccm requiresuserstomanuallyanalyzeonlynonrecoverable states.
heuristiccombi ccm f2this technique performs state flattening when there are hierarchical statesand generates the states to be analyzed using way combinations.
combi ccm h2this technique generates rule sets when there are hierarchical states and generates thestatestobeanalyzedusing2 waycombinations.
combiccm f3this technique performs state flattening when there are hierarchical statesand generates the states to be analyzed using way combinations.
combiccm h3this technique generates rule sets when there are hierarchical states and generates thestatestobeanalyzedusing3 waycombinations.
the dependent variable for rq1 is the number of states that needs manual analysis and for rq2 the dependent variable is the number of onbs exposed by the techniques.
.
experimental setup and procedure to perform the experiment we implemented the combi ccm tool in java.
we used acts to generate system states that a person needs to analyze manually.
the eccm and ccm tools were implemented in java and c respectively.
the experimental procedure followed the approach explained in section .
the common nl requirements of all the requirements documents suitable for creating model are converted into ccmearsrequirements1.these ccm earsrequirements areusedto generaterulesbydirectlymappingsentencepatternstorulepatterns.therulesarethendividedintorulesetsandruleexpansionisperformed.theusercandecidewhethertoperformstateflattening or not.in our experiment we investigated research questionsbyconsidering techniques with and without state flattening.
after ruleexpansion usingacts wegeneratedthesystemstatesthat users would need to examine to find onbs.
in our experiment weusedboth2 wayand3 waycombinationstogeneratesystem states.
based on the onbs found by the users filters are created.
these filters are used to expose rules with onbs.
the rules with onbs that are not automatically recoverable are reverse mapped to ccm ears requirements and corresponding requirements are corrected.
whileccmandeccmrequiretranslationofnlrequirements into rules it is an error prone process and tends to create incorrectrules.inordertohavefaircomparisonsbetweencontroland heuristictechniquesintermsofhumaneffortreduction weused 1sample ccm ears requirements ccmperformsruleexpansionusingtherules.ccmdoesnotdivide rules into rule sets as it takes only flattened states as an input.
the usersmanuallyanalyzeallpossiblesystemstatesandidentifythe undesiredstates.theseundesiredstatesareusedtoexposeonbs.
similartocombi ccm ccmusesstateprofilestocheckfortheautomatic recoverability of a system rules with onbs that cannot be addressed without human intervention are separated out and corresponding common natural language requirements are addressed.
the eccm approach is similar to ccm but in eccm the rules are dividedintorulesetswhenhierarchicalstatesarepresent rather thanflatteningstates.eccmalsorequiresuserstogothroughonly nonrecoverable states to identify undesired states.
.
threats to validity inthisstudy weassumedthatthegeneratedccm earsrequirements are complete.
this assumption might affect our ability todetermine onbs.
we can address this threat by checking the requirements for completeness before the model is built.
further the identification of onbs involves human judgment which can be subjective.weplantomitigatethisthreatbyusingmultipledomain experts during decision making.
.
results inthissection wepresenttheresultsofourstudyconsideringeach research question.
.
.
reduction of manually analyzed system states rq1 .
our first research question rq1 asks whether the combi ccm approach can reduce the number of system states compared to ccm and eccm.
to answer this research question we compared thetwo control and four heuristic techniques shown in table .
the numberofstatesthatrequiremanualanalysisforeachtechnique and requirements document is shown in table .
from table we can observe that ccm produced the largest numberofstatesthatrequiremanualanalysis.forexample ccm produced46 000statesforadsandapproximately1022states for dhs which are prohibitively large numbers of states for manual analysis.
eccm requires users to examine only nonrecoverable states which reduces the number of states for manual analysis.heuristic techniques produced much smaller numbers of states than the control techniques.
combi ccm f2 produced the smallest number of states ranging from to among heuristics.
thenumber of states produced by combi ccm h2 ranges from to .
this technique produced a similar number of states compared to combi ccm f2 for oddbotics and excavator because these requirements do not have sub states but it produced greater number of states than combi ccm f2 for the rest of the requirements.
combi ccm f3 produced a number of states ranging from to .
combi ccm f3 produced a smaller number of states for abmr arvc and dhs than did combi ccm h2.
.
.
onb exposure ability rq2 .
from the results in rq1 we learnedthatcombi ccmwasabletosubstantiallyreducethenumber of states that require manual analysis compared to control techniques.however ifcombi ccmisnoteffectiveindetecting onbs statereductionswouldnotbebeneficial.thus inrq2 we investigated whether a reduction in the number of states can affect authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a combinatorial approach for exposing off nominal behaviors icse may june gothenburg sweden table2 numberofsystemstatesbeinganalyzedmanually req.doc.
ccm eccm combi combi combi combiccm ccm ccm ccm f2 h2 f3 h3 ads abmr arvc oddbotics dhs pacemaker excavator onbexposureability.toanswerthisquestion weexaminedthe number of states created as part of addressing rq1 and identified the onbs exposed by each technique.
the number of onbs found using each technique is shown in table .
ccmrequiresuserstoexamineallpossiblesystemstates thus ccm expose all possible onbs based on the knowledge of users.
because it is not possible to know all the onbs in the requirements which would be analogous to exposing all the faults in the program inthisexperiment weusethenumberofonbsfound by ccm as a baseline.
table shows that ccm exposed onbsin abmr in arvc in oddbotics in pacemaker and inexcavator.
the onb numbers for ads and dhs were estimated byconsideringonbvaluesfrom2 wayand3 wayheuristictechniques because they have too many states to manually examine.
the actual number of onbs that we could find by analyzing all those states might be larger than what we estimated.
eccm did not detect as many onbs as ccm.
eccm found onbs in ads in abmr none in arvc and oddbotics 40in dhs.
the onb numbers found by eccm were smaller than those from ccm and for some cases it failed to expose any onbs.
weconjecturethatthereasonforthisresultisthateccmallows users to check only nonrecoverable states.
the technique does not considerundesiredstatesthattransitionintootherundesiredstates.
whenexaminingtheresultsfromheuristic techniques allfour techniques produced results similar to those of ccm with one exception in abmr.
in abmr the way techniques combi ccm f2 and combi ccm h2 produced a smaller number of onbs than ccm.
in abmr one of the onbs is caused by concurrent conflictingstatesofthreecomponents asaresult waytechniquesdid notcoverthe combination.forallotherrequirementsdocuments heuristics found the same number of onbs as ccm.
fromtables2and3 wecanobservethatheuristictechniques withstateflatteningsuchascombi ccmf2andcombi ccmf3 foundthesamenumberofonbswithasmallernumberofstates comparedtothetechniquesthatdonotusestateflattening combiccm h2 and combi ccm h3 .
to investigate whether it is always preferabletousetechniqueswithstateflattening wemeasuredthe number of expanded rules for each technique as shown in table .
therulesintable4areautomaticallyparsedandanalyzedbased on undesired states found.
intable4 thenumberofrulesthatneedtobeanalyzedusing a heuristic techniques with state flattening is very large when comparedtotheheuristictechniquethatdonotusestateflattening.
for example as shown in table the number of expanded rules estimatedtobeanalyzedusingtechniqueswithstateflatteningis approximately whereas techniques without state flattening require only .
if the system has no sub states techniques withandwithoutstateflatteningmustanalyzethesamenumberofrules as in oddbotics and excavator with all the techniques requiring to parse through and rules respectively.
these results indicate that the benefits of state flattening depend on the number ofcomponents theirstates andtheirsub states.forexample inthe case of dhs the total number of expanded rules generatedby replacing every unknown component state with all possible componentstatesisapproximately1025 whichcanresultinrule explosion and scalability problems.
for such a case it would be wise not to use state flattening.
table number of onbs found req.doc.
ccmeccm combi combi combi combiccm f2 ccm h2 ccm f3 ccm h3 ads abmr arvc oddbotics dhs pacemaker excavator discussion and limitations weproposedourapproachtoreducehumaneffortsandtimeneeded toidentifyonbsandcorrectrequirementstomakeasystemfoolproof.ourapproachusedccm earsrequirementspatternstoconvertcommonnlrequirementsintosimple easy to understand and verifiable requirements.
based on our example in section and requirements we created as part of the study we conclude that ccm ears patterns help users with elicitation if requirements have missing model elements or details.
we also found that tracing back from rules to ccm ears requirements is easier than tracing back from rules to common natural language requirements.
this is because rules are created by mapping ccm ears patterns to rule patterns and tracing back to ccm ears requirements is done by mappingrulepatternstorequirementspatterns.further wealso found that ccm ears requirements can be reused for analysis more easily compared to state transition rules or nl requirements.
wecandrawthefollowingconclusionsfromtheresultsobtained in our empirical study.
first overall the results indicate that the proposedapproachcanreducehumaneffortsandtimebyreducing the number of states that need to be analyzed manually.
further the results also demonstrate that a system with ncomponents does not necessarily need n way combinations to expose all onbs because for most systems not every component in the systeminteracts with other n 1components.
second our results imply that state flattening decreases the number of states that users need to analyze but increases the number of expanded rules that require machinepowerratherthanhumanpower.inthecaseofapproaches withoutstateflattening thenumberofexpandedrulesdecreases but the number of states that require manual analysis increases.
therefore thereisatrade offinselectingonetechniqueoverthe other.
because the rules can be analyzed automatically we can use state flattening approaches as long as they do not result in rule explosion problems due to flattening hierarchical states.
while combi ccm was able to reduce the number of states that require manual analysis the approach can face a scalability problembecausegivenalargenumberofcomponentsandstates combi ccmcangenerateaverylargenumberofexpandedrules.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may june gothenburg sweden kaushik madala hyunsook do and daniel aceituna table total number of system transition rules to be analyzed automatically req.doc.
ccm eccm combi combi combi combiccm f2 ccm h2 ccm f3 ccm h3 ads abmr arvc oddbotics dhs pacemaker excavator onewaytoaddressthislimitationistogroupthecomponentsthat interactwitheachotherandanalyzetheirbehaviors.thissolves the problem by restricting the state space being analyzed thereby reducing the number of system states being generated.
another alternative is to identify the onbs first and then expand the rules thatidentifyonbs.thiswouldreducethenumberofruleswemust analyze considerably and thereby addresses scalability problems.
relatedwork wecanrelateourworktotwotopics.thefirsttopicismodelslicing and the second topic is the methods used to find and expose onbs.
modelslicing manytechniqueshavebeenproposedformodel slicing to reduce the state space being analyzed.
forexample wangetal.
proposedaslicingmethodforuml state machinesusing hierarchical automata.
the methodremoves any concurrent states or hierarchies that are not relevant to the automataandreducesstatespace.anotherexampleistheslicing methodproposedbylano whichdividesstatemachinemodels into smaller and simpler models for analysis by considering the slicing of the state machine at a higher level of abstraction.
while these methods reduce state space being analyzed none ofthemaresuitableforwhenrepresentingthecomponentstates togetherassystemstates.therefore weusedacombinatorialapproach to reduce the number of states that people need to analyze.
onb analysis to date different techniques have been proposed tofindandexposeonbs.manyresearchershaveanalyzedonbs usingmodelingtechniquesormodelingframeworksatearlydesign stages.
for example kurtoglu et al.
proposed a functionalfailureidentificationandpropagation ffip frameworktoassess andevaluateonbsduringtheconceptualdesignstage.ffipuses component drivenhierarchicalmodelinginwhichonbsarechecked duringbehavioralsimulationusingfunctionalfailurelogic ffl .
dayetal.
proposedamethodtomodelonbsusingsysml.their approachused sysmlactivity andstatediagrams tomodelonbs and then used fmea to analyze onbs.
other examples includecorrectness modeling andperformanceofaerospacesystems compass approach failure mode effects analysis fmea failuremode effectsandcriticalityanalysis fmeca faulttreeanalysis fta andprobabilityriskassessment pra .inadditiontothesemethods manysimulationbased models have been used to find onbs.
other researchers have used machine learning techniques to identify onbs .
for example vemuri et al.
proposed a neural networkbasedapproachtoclassifyonbsinrobotmanipulators.
in thier method the robot first learns the series of onb conditions and then identifies similar onbs during simulation.some researchers have analyzed onbs as part of testing by considering them at the experimental design stage.
for example foyle and hooey proposed an off nominal testing approach tolocateonbsinsoftwareunderdevelopment.inthisapproach off nominaleventsbasedonhuman systeminteractionsarelocated and then used for testing.
while these techniques are able to find onbs none of these methods provide a systematic way of finding onbs and all consideronbsexclusivelyfromahumanpointofview.unlikethese approaches we proposed an systematic approach that considers off nominalbehaviorsfromsystem sviewpointmakingthesystem more foolproof.
the systematic approach we proposed can be used as requirements acquisition which can be later used to build a better formal model.
conclusion and futurework inthispaper wehaveproposedcombi ccm acombinatorialapproachtoreducethenumberofstatesthatrequiremanualanalysistoexposeonbs.wehavealsointroducedtwoccm earspatterns tohelpengineerstoelicitinformationwhenwritingcomponentdriven requirements that are less ambiguous less wordy and more verifiablethancommonnaturallanguagerequirements.toevaluate theeffectivenessofourapproach weconductedanempiricalstudy using7requirementsspecifications.ourresultsindicatethatthe useofcombinatorialtechniquescanreducethenumberofstates thatrequiremanualanalysiswhilemaintainingtheabilitytoexpose onbs.from ourresults wealso learnedthatwehave toconsider a trade off between the number of states that must be manuallyanalyzed and the number of expanded rules that must analyzed when we choose an onb detection technique.
whiletheresultsfromcombi ccmarepromisingwhencomparedto ccmandeccm theapproachstill hassomelimitations asdiscussedinsection5.aspartoffuturework weplantoaddress theselimitationsusingthestrategieswementionedinsection5.in addition to addressing our limitations we plan to create a broader setofccm earspatternsthatcanaccommodateundesiredbehavior requirements and other types of requirements that can be handled by ears patterns.
we also plan to improve the combinatorial approach so that it can generate fewer combinations of component states retaining dependencies among components especially for systems that need multiple components to work simultaneously.
finally we plan to perform additional experiments using different types and sizes of requirements documents to better understand and improve combi ccm.
acknowledgment this work was supported in part by nsf career award ccf1564238 to university of north texas.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a combinatorial approach for exposing off nominal behaviors icse may june gothenburg sweden