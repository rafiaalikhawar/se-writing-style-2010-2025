analyzing the validity of selective mutation with dominator mutants bob kurtz software engineering george mason university fairfax va usa rkurtz2 gmu.edupaul ammann software engineering george mason university fairfax va usa pammann gmu.edujeff offutt software engineering george mason university fairfax va usa offutt gmu.edu m rcio e. delamaro instituto de ci ncias matem ticas e de computa ao universidade de s o paulo s o carlos sp brazil delamaro icmc.usp.brmariet kurtz the mitre corporation mclean va usa mkurtz mitre.orgnida g k e department of statistics mu gla s tk ko man university mu gla turkey nidagokce yahoo.com abstract various forms of selective mutation testing have long been accepted as valid approximations to full mutation testing.
this paper presents counterevidence to traditional selective mutation.
the recent development of dominator mutants and minimal mutation analysis lets us analyze selective mutation without the noise introduced by the redundancy inherent in traditional mutation.
we then exhaustively evaluate all small sets of mutation operators for the proteum mutation system and determine dominator mutation scores and required work for each of these sets on an empirical test bed.
the results show that allpossible selective mutation approaches have poor dominator mutation scores on at least some of these programs.
this suggests that to achieve high performance with respect to full mutation analysis selective approaches will have to become more sophisticated possibly by choosing mutants based on the speci cs of the artifact under test that is specialized selective mutation.
ccs concepts software and its engineering !software testing and debugging keywords mutation analysis subsumption dominator mutants .
introduction mutation testing is a test criterion that generates a set of alternate programs called mutants and then challenges the tester to design tests to detect the mutants.
tests that permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
fse november seattle wa usa c acm.
isbn .
.
.
.
a mutant to behave di erently from the original program are said to detect or kill the mutant.
some mutants behave exactly the same as the original on all inputs.
these are called equivalent mutants and cannot be killed.
mutants are generated by mutation operators.
a mutation operator is a rule that generates variants of a given program based on the occurrence of particular syntactic elements.
early on researchers observed that mutation operators produced far more mutants than necessary .
one response to this observation was selective mutation which deliberately limits the number of mutation operators to a small carefully chosen set.
in selective mutation a reduced set of mutation operators is chosen to generate a reduced number of mutants.
these mutants are intended to represent the larger body of potential mutants that could be generated by additional operators.
one problem with measuring the e ectiveness of selective mutation is the very redundancy that selective mutation is intended to tame.
speci cally the redundant mutants introduce noise into mutation scores.
for example some mutants are killed by almost any test.
hence eliminating such mutants from consideration does not a ect which tests are chosen but does result in a di erent mutation score.
in other words mutation scores can be in ated by redundant mutants making the mutation score harder to interpret.
this same problem of diminished utility of score due to redundancy has long been recognized in statement and branch coverage metrics .
minimal mutation a recent development precisely de nes redundancy among mutants by identifying dominator mutants.
prior research shows that dominator mutation scores are not consistent with traditional mutation scores for some subsets of mutation operators .
papadakis et al.
con rmed this observation in a more rigorous study involving larger real world programs.
this inconsistency motivates us to revisit selective mutation using dominator mutation score as a key measure.
selective mutation hypothesizes that there is a reduced set of mutation operators that when applied to all programs consistently elicits test suites that are nearly as e ective as test suites based on all mutation operators.
any examplewhere selective mutation fails to work consistently challenges this underlying hypothesis.
proper experimental design suggests that we start with simple test subjects and expand to larger more complex test subjects only if the hypothesis holds true in the simple cases.
the siemens suite of programs is a well known set of such simple test subjects with the advantage of extensive test suites.
in addition the siemens programs are written in c which suggests the use of the proteum mutation tool.
proteum is especially well suited to this experiment because it has a broad set of mutation operators compared to other tools.
the main result of the paper is negative a selective approach that is highly e ective for one program will almost certainly perform poorly on another program.
this variance is extremely undesirable test engineers need to be con dent that the analysis techniques they apply have predictable results.
one way out of this di culty might be for selective mutation analysis techniques to be specialized to the program under test in essence choosing a small yet e ective set of mutants for that particular program.
the goal of this paper is to demonstrate the need for specialized selective sets actually nding those sets is out of current scope.
the contributions of this paper are .
a de nition of normalized work to allow comparison of di erent selective mutation operator sets based on the e ort required to develop a test suite.
.
a deterministic method for nding worst case mutation scores based on mutant subsumption relationships.
.
an evaluation that shows that all one size ts all approaches to selective mutation performs poorly on some programs.
.
a con rmation using dominator mutation scores that random mutant selection and statement deletion perform as badly as traditional selective mutation.
the paper is organized as follows.
section discusses related work.
section describes an approach to measure redundancy and equivalency within a set of mutants and proposes a metric for measuring work required to develop a mutation adequate test suite.
section introduces our research questions which are explored in sections and .
section discusses threats to validity.
section summarizes our conclusions.
.
related work the large number of mutants generated by mutation testing has long been a recognized problem.
mathur determined that the complexity of mutation testing is o n2 wherenis the size of the program under test and introduced the idea of constrained mutation to reduce that complexity too n by reducing the number of mutation operators to create fewer mutants.
o utt et al.
took an empirical approach to de ning an appropriate set of selective mutation operators and proposed the e selective set of ve operators1based on achieving a mutation score of .
or 1the e selective operators derived from mothra are absolute value insertion abs arithmetic operator replacement aor logical connector replacement lcr relational operator replacement ror and unary operator insertion uoi .higher over ten small programs.
wong et al.
evaluated combinations of mutation operators for e ciency and e ectiveness.
this paper reassesses the performance of eselective mutation using dominator mutation score.
barbosa et al.
applied a well de ned set of guidelines to obtain a su cient set of mutation operators that would substantially reduce the computational cost of mutation testing without losing e ectiveness.
they applied such guidelines in two experiments with two di erent sets of c programs.
they obtained reduced sets of mutant operators that would produce e ective test cases but these sets of su cient operators were substantially diverse between the experiments showing that it was not possible to select a single set of operators that was optimal for both programs.
namin et al.
analyzed the siemens suite programs using variable reduction techniques to identify three high performing operator sets using between seven and operators.
delamaro et al.
de ned a growth model for mutation operator selection adding operators using a greedy algorithm until a mutation score of .
was achieved and concluded that there is no single way to select the best set of operators for any particular program.
taking mutation operator reduction to an extreme untch evaluated the performance of the statement deletion sdl operator on its own and found it to be competitive with the operator sets found by namin.
deng et al.
applied the sdl operator to classes written in java using the mujava tool and found that sdl achieved a mutation score close to that of o utt s e selective operators while generating approximately fewer mutants.
delamaro et al.
evaluated the sdl operator against programs written in c using proteum and con rmed deng s ndings.
kaminski et al.
were the rst to consider mutation operators at the next level of detail recognizing that the relational operator replacement ror mutation operator has many sub operators replacing with !
etc.
.
they showed that for any given relational operator three mutants will always weakly subsume the other four mutants making them redundant.
lindstr om and m arki later showed that this subsumption does not always hold under strong mutation.
just kapfhammer and schweiggert performed a similar analysis for the conditional operator replacement operators and yao et al.
found similar results for the arithmetic operator replacement mutation operators.
just and schweiggert identi ed seven sub operators that are needed to form a su cient set of nonredundant mutants analyzed a set of real world programs and determined that redundant mutants cause an in ated mutation score that fails to accurately re ect the e ectiveness of a test suite.
the performance of selective mutation approaches at the sub operator level while certainly of interest is beyond the scope of this paper.
other researchers have examined whether selective mutation is more e ective than random sampling of similar numbers of mutants.
acree and budd separately concluded that executing tests that kill a randomly selected of mutants could provide results close to executing tests that kill the full set of mutants.
wong and mathur demonstrated similar results and found that adding randomlyselected mutants beyond yielded comparatively small improvements.
more recently zhang et al.
explored selective mutation and random selection using the proteum mutation tool and the siemens suite programs and also foundno appreciable di erence in performance between selective mutation and random selection.
gopinath et al.
expanded this investigation using a much larger body of open source code and compared several di erent mutation selection strategies with random selection again nding that random selection performs as well as any other strategy.
in a later paper gopinath et al.
took a di erent approach to dealing with the large number of mutants and showed that determining the mutation score based on as few as randomly selected mutants provides an estimate of quality of a test suite in terms of mutation score.
it seems counterintuitive that a targeted approach to mutant selection should perform no better than a random approach.
while part of the explanation might be the e ect of mutant redundancy on mutation score this paper suggests that an additional reason might be that existing mutation selection strategies including random selection perform poorly when evaluated in terms of dominator score.
in our previous paper we showed that dominator mutation score was a superior metric to traditional mutation score for determining how much testing work has been done and how much remains.
we also classi ed sets of mutants based on redundancy and equivalency and examined the effect on the ability to determine test completeness.
in this paper we use the same characterization for sets of mutants generated by selective operators.
.
dominator mutants redundancy and equivalency .
subsumption and dominator mutants in previous papers we de ned a method for determining the relationship between mutants based on their behavior with respect to a set of tests .
given a nite set of mutantsmand a nite set of tests t mutantmiis said todynamically subsume mutantmjif some test in tkills miand every test in tthat killsmialso killsmj.
where two mutants miandmjinmare killed by exactly the same tests int we say that miandmjareindistinguished .
we capture the subsumption relationship among mutants with a directed graph the dynamic mutant subsumption graph or dmsg .
each node in the dmsg represents a maximal set of indistinguished mutants and each edge represents the dynamic subsumption relationship between two sets of mutants.
more speci cally if midynamically subsumesmj then there is an edge from the node containing mito the node containing mj.
consider a set of ten mutants each named for the mutation operator that created it followed by a sequence number.
these mutants are tested using a set tof four tests where the mutants are killed by tests as shown in the score function in table .
we can see that mutants oabn and oeaa are indistinguished since they are killed by exactly the same test set ft1g .
similarly mutants oeaa and olbn are indistinguished as are oeaa and vlsr .
we can also see that every test that kills ccdl also kills oeaa oeaa olbn and vlsr .
consequently ccdl subsumes these mutants.
we can determine all of the subsumption relationships between these mutants and construct the resulting dmsg as shown in figure .
mutants that aretable example score function t1t2t3t4 ccdl t ccdl oabn 1t oaln 1t t obbn t oeaa 1t oeaa 2t t oeaa 3tttt olbn 1t t vlsr tttt not subsumed by any other mutants are called dominator mutants these are listed in the graph in dominator nodes which we denote with a double line.
figure has three dominator nodes a mutant from each forms a dominator mutant set.
in this example the three mutantsfccdl oabn obbn 1gform a dominator mutant set as do the three mutants fccdl oeaa obbn 1g.
because each dominator set contains one mutant from each dominator node all dominator sets are equally useful and a dominator set can be selected arbitrarily from all possible sets.
consequently only three of the ten mutants matter if tests kill the mutants in a dominator mutant set they are guaranteed to kill all non equivalent mutants.
all other mutants are redundant.
this leads us to adopt thedominator mutation score ordominator score as a more precise metric.
we de ne the dominator score as the number of killed mutants in a dominator set divided by the total number of mutants in the dominator set.
mutant ccdl is not killed by any of the tests in t so it is shown in its own unconnected node with a dashed border.
ccdl might be equivalent or it might be killable but not by any of the four tests in t. from the dmsg perspective which is based on a nite test set we can not distinguish between these two possiblities.
in this study we compute dominator scores with respect to mutants that are killed by our full test sets.
for example consider the test set ft1g which kills the shaded mutants in figure .
the mutation score for test setft1gis but its dominator score with respect to tis only .
figure example dmsg the dmsg represents the subsumption relationship between all mutants with respect to the test set.
if we kill any mutant in the dmsg we are guaranteed to kill all the mutants that it subsumes i.e.
all connected mutants below it in the graph.
a test that kills a mutant may by chancealso kill mutants above it or elsewhere in the graph but this is not guaranteed by the subsumption relationship.
dominator mutants tend to be hard to kill in the sense that they are usually killed by relatively few tests.
however the relationship between dominator mutants and hard tokill mutants as identi ed in other research is not strict it is possible to have a dominator mutant that is killed by many tests yet is not subsumed by any other mutants.
.
measuring redundancy and equivalency in our previous paper we de ned redundancy as the number of killable mutants that are not in the dominator mutant set divided by the number of mutants in the dominator set as shown in equation .
in prior research the number of equivalent mutants has typically been measured as a percentage of all mutants generated.
however this naturally couples the measurement of equivalent mutants with the measurement of redundant mutants.
we seek a metric for equivalent mutants that is independent of redundancy so we de ne equivalency as the number of equivalent mutants divided by the size of the dominator set as shown in equation .
redundancy jkillablemutantsj jdominatorsetj jdominatorsetj equivalency jequivalentmutants j jdominatorsetj .
research questions researchers frequently use mutation score to evaluate the e ectiveness of test suites designed by other means.
mutation score is de ned as the number of mutants killed by a test suite divided by the total number of non equivalent killable mutants.
our previous paper showed that mutation score has a non linear relationship with test completeness due to redundancy among mutants rendering it of limited usefulness for determining how much testing work has been completed.
we now seek the impact of redundant and equivalent mutants in other ways and we consider these research questions rq1 how does redundancy and equivalency a ect the amount of work required to develop mutation adequate tests?
rq2 do the e selective mutation operators identi ed by o utt et al.
reliably generate high dominator mutation scores across a range of programs?
rq3 is there a small set of mutation operators that improves upon e selective and consistently generates higher dominator mutation scores with low work across a range of programs?
rq4 with respect to dominator score and work how do any improved selective operator sets compare with eselective operators random mutant selection and statement deletion?
.
rq1 how redundant and equivalent mutants affect work consider an engineer testing the print tokens program from table using proteum.
proteum rst generates a set of mutants.
in a simpli ed model of software testing the engineer selects a mutant for analysis and tries to write a test to kill the mutant if successful the tool removes thatmutant from the set of unkilled mutants.
then the tool runs the tests on all other unkilled mutants and removes any that are also killed.
if the engineer determines the mutant is equivalant then it is removed.
this process is repeated until the set of unkilled mutants is empty.
of course this is not an e cient process nor is it the process that an engineer would use an engineer would likely generate some tests by other means and then use mutation testing to evaluate and enhance that test suite.
nevertheless it is a convenient idealization for our purpose and it helps us to understand what happens across the whole range of testing.
we simulate this process using a process described in detail in our previous paper on redundancy and equivalency .
we generate the mutants using proteum then create a score function that indicates which mutants are killed by which tests.
we select a mutant at random then randomly select a test that kills it.
if we can nd such a test we remove the selected mutant and all other mutants that are killed by the selected test.
note that some tests may kill the selected mutant and many additional mutants while others may kill few or no additional mutants.
if no tests kill the mutant we assume it is equivalent and discard it.
we repeat this process until all mutants are killed or identi ed as equivalent.
because the process involves random selection of mutants and tests we repeat the analysis times and derive an average score.
to estimate the work required to develop a test set we must rst de ne work.
an obvious metric for work is time expended to develop tests and identify equivalent mutants.
however some mutants are easily killed while some are much more di cult.
gr unet al.
and schuler and zeller found that it took nearly minutes on average to determine that a single mutant was equivalent on the other hand some equivalent mutants e.g.
those of the form return a are trivially easy to identify.
because time is not easily quanti ed we de ne work as the number of mutants that are examined by the engineer or in other words the sum of the number of tests written to kill all non equivalent mutants and the number of equivalent mutants identi ed as shown in equation .2while this de nition of work is easily understood it makes it di cult to directly compare the multiple programs in the siemens suite because the test sets and number of equivalent mutants vary between programs.
to compare e ectively between programs we introduce normalized work which we de ne as work divided by the number of dominator mutants as shown in equation .
in other words normalized work of .
is the amount of work required to kill a dominator set of mutants by picking the least advantageous set of tests such that each test kills only one of the dominators.
with zero redundancy and zero equivalency we expect normalized work to be somewhat below .
since it is likely that some of the selected tests will kill not only the intended dominator mutant but other dominators as well and somewhat fewer than one test per dominator will be required.
work jtestsetj jequivalentmutants j normalizedwork jtestsetj jequivalentmutants j jdominatorsetj 2it is possible that identifying equivalent mutants is easier or harder than developing a test case.
a more sophisticated model might weight these tasks di erently.note that we measure work on a per trial basis.
if during a particular trial we have written ve tests and identi ed two equivalent mutants our work at that point is .
if the mutant set contains ten dominator mutants then our normalized work at that point is .
imagine a version of proteum that generates only a dominator mutant set with no redundant or equivalent mutants.
such a tool might work by intelligent selection of mutation operators by static analysis and ltering of mutants or by some other mechanism.
the mechanism is irrelevant so long as the results are achieved.
mutation score and dominator score are identical because all mutants are dominator mutants.
next imagine a version of proteum that generates redundant mutants in addition to a dominator set but that does not generate equivalent mutants.
if it generates a number of redundant mutants equal to the size of the dominator set that is twice as many mutants as before then the redundancy is .
as per equation .
we simulate this by selecting a dominator set and then selecting other killable mutants at random until we have the proper number.
to determine the e ect of redundancy on work required we repeat the engineer focused approach described above selecting increasing redundancy from .
to .
at increments of .
.
equivalent mutants are eliminated from consideration.
the results are shown in figure where the columns show the mean normalized work and the error bars show the variation in normalized work.
with no redundancy the normalized work is .
this means that just over half as many tests as dominator mutants were needed to kill all of the dominators.
there is signi cant variation in normalized work caused by random selection of tests.
in some cases we nd a remarkably small test that set kills the dominators with very little work while in other cases we need nearly one test per dominator.
as redundancy is increased the mean work increases only slightly.
even with redundancy of .
normalized work is .
.
with times as many mutants the total e ort to produce a mutation adequate test set increases by only !
figure work to develop a mutation adequate test set for the siemens suite with equivalency .
to determine the e ect of equivalency on work required we repeat the approach described above this time holding redundancy constant and varying equivalency.
because redundancy does not signi cantly impact work and becausewe measure equivalency in terms of dominator mutants there is no need to consider the e ect of equivalency at di erent redundancy levels.
redundancy is simply held at .
.
as equivalency is increased the mean work increases linearly 3as shown in figure .
from the engineer s perspective all of that extra work is wasted because it does not directly contribute to a mutationadequate test set.
figure work to develop a mutation adequate test set for the siemens suite with redundancy .
.
rq2 analyzing e selective mutation to answer our second research question we analyzed the siemens suite of programs using the proteum mutation tool to create mutants for the seven programs in table and executed each program against a subset of tests.
we created a score function for each analyzed program that shows which tests kill which mutants.
in a previous paper we analyzed all un killed mutants and determined that only a small number of these mutants are killed by the full siemens test set but not killed by the selected tests .
in terms of mutation score the tests kill more than of the non equivalent mutants those mutants that were not killed by any of the tests were considered equivalent for our purposes.
we identi ed all of the mutants created by the e selective operators.
these operators map approximately to proteum operators4oaan olln olng and orrn .
we then determined a minimal set of tests that kill the non equivalent mutants using a monte carlo approach to determine minimal test sets as shown in algorithm .
this algorithm begins by randomly removing one test from the entire test set.
if the remaining tests kill all of the mutants of interest then the selected test is discarded otherwise the test is restored and another test is randomly selected without 3the growth rate of work is sublinear and the variation increases above equivalency of because siemens programs schedule andtcas have a maximum equivalency of just under see table and thus cannot contribute the required number of equivalent mutants.
4delamaro et al.
describes the proteum mutation operators.
missing from that list are ccdl constant deletion oodl operator deletion and vvdl variable deletion .table siemens suite programs program loc mutants dominators equivalents redundancy equivalency print tokens .
.
print tokens2 .
.
replace .
.
schedule .
.
schedule2 .
.
tcas .
.
totinfo .
.
average .
.
.
.
.
.
replacement .
the process is repeated until no tests can be removed from the test set while still killing the desired mutants.
the result is a minimal test set.
algorithm test set minimization input mutant set m and test set t output a minimal test set minset t for each t in minset note t selected arbitrarily if minset t maintains mutation score wrt m and t minset minset t return minset each minimal test set is guaranteed to kill the mutants of interest that is the mutants generated by the selected mutation operators.
however there may be many possible minimal test sets and each one may have a di erent e ect on the remaining mutants not generated by the selected mutation operators including the dominator mutants.
consequently we executed runs for each mutation operator combination to determine the average performance of the operator combination.
for each run we measured the mutation score based on the number of mutants killed compared with the number of non equivalent mutants and the dominator mutation score based on the total number of all dominator mutants killed as compared with the total number of dominator mutants .
our results for the programs in the siemens suite using the e selective mutation operators are shown in figure .
this graph shows that while the e selective operators consistently yield high mutation scores above .
the dominator mutation scores for is considerably lower ranging from .
to .
with considerably more variation than the mutation score.
with respect to question rq2 we conclude that the e selective mutation operators do not produce consistently high dominator mutation scores across a range of programs.
.
rq3 improving upon e selective mutation since the e selective operator set does not reliably produce high dominator mutation scores we look for other operator combinations that have better performance than eselective .
.
analyzing sets of four mutation operators we repeated the test based process for all combinations of up to four mutation operators for each program in the siemens suite.
proteum has operators and taken one figure e selective mutation scores for the siemens suite two three and four at a time totals over .
million combinations.
the programs actually used only of the proteum operators which is still almost combinations.
the combinations of four operators required about hours of processing on a quad core intel i7 platform.
because computation increases by approximately a factor of for each additional operator this brute force approach was impractical for larger sets of operators.
figure selective mutation scores for print tokens using operators the results for siemens program print tokens are shown in figure .
this program used di erent proteum oper5see section .
for an analysis of more than four operators.ators and the graph plots di erent combinations of these operators with two points plotted for each operator combination.
mutation scores are shown in dark gray and dominator mutation scores are shown in light gray.
score values are shown on the vertical axis and the normalized work required to kill the mutants generated by the operators is shown on the horizontal axis.
bold points show the mutation and dominator mutation scores for the e selective mutation operators.
we see that mutation scores for various mutation operators are fairly closely grouped they quickly approach .
as mutants are added and more work is needed to kill them .
the e selective set of operators generate a mutation score of .
which is high but not among the best of all operator combinations.
normalized work to kill these mutants is a relatively small .
.
the dominator mutation scores show much more variation.
while in general sets of operators that require more work score higher there is considerable variation in the dominator score for similar amounts of work.
for example sets of operators that require work of about .
generate dominator scores between about .
and .
.
it is possible to achieve dominator scores of .
with normalized work less than .
which seems a very attractive proposition.
the eselective operators generate a dominator mutation score of .
.
it is clear that many selective operator combinations signi cantly outperform e selective for the print tokens program.
the other six siemens programs show generally similar patterns with the e selective operators performing roughly in the middle of all sets of selective operators with one to four operators.
many other operator sets have higher dominator scores.
this suggests identifying new selective mutation operators that improve upon e selective .
however when operator combinations are averaged across all seven programs of the siemens suite as shown in figure data points it becomes clear that there is no combination of one to four mutation operators that reliably produces dramatically higher dominator mutation scores across allprograms.
the e selective operators on average produce among the best mutation scores and while there are better candidates for dominator mutation score e selective remains a reasonable choice.
figure selective mutatation scores for the siemens suitewith respect to rq3 we conclude that while each individual program may have many operator combinations that outperform e selective on average across multiple programs it is among the better of a collection of poor performers.
.
analyzing more than four mutation operators if we cannot nd a set of up to four operators that reliably generates a very high score what is the best that we can nd and how does it compare to e selective ?
it may be possible to nd sets of more than four mutation operators that produce high dominator mutation scores across our sample programs.
unfortunately it is not practical to evaluate arbitrarily large sets of operators using the brute force techniques from section .
since with operators represented in the siemens programs there are or almost x operator combinations.
even checking combinations of ve operators results in more than ve million combinations and combinations of six operators results in more than million.
if we wish to explore larger sets of operators we must take a di erent approach.
to expand the number of operators we replaced the averagecase monte carlo approach to determining mutation scores with a deterministic approach that would be computationally faster and would eliminate the need to perform repeated runs to determine an average.
we created such a deterministic approach based on the dynamic subsumption relationship between mutants.
computationally using the dmsg allows us to reduce the amount of data processed for each operator set and because it is deterministic it allows us to eliminate the averaging of multiple executions as was done with the average case analysis.
this substantially reduces the analysis e ort.
to compute the dmsg based scores we rst identify all mutants in the dmsg that are generated by the selected mutation operators.
we know that there is some set of tests that kill these mutants though we no longer need to be concerned with exactly which tests they may be.
because any other mutants in the same nodes as the generated mutants have the exact same behavior as the generated mutants these are also killed by the same tests.
finally all mutants in all nodes subsumed by the generated mutants are also killed by the same tests.
as an example consider figure .
we choose mutation operators obbn and olbn as our selective operator set.
mutants obbn and olbn shown in black nodes and marked with asterisks are generated by these operators and are killed by some set of tests.
mutant oeaa is in the same dmsg node as olbn so this mutant is also killed.
mutant oaln is subsumed by obbn and mutants oeaa and vlsr are subsumed by both obbn and olbn so these mutants shown in gray nodes are killed as well.
this results in a mutation score of .
six of the nine non equivalent mutants killed but a dominator mutation score of .
kills one of three mutants from a dominator mutant set .
we would like to use this easily computed dmsg based score as a proxy for the more computationally intensive average case score.
however the dmsg based approach does not compute the same scores as the test based approach.
the dmsg based approach determines a worst case score scores evaluated using minimal test sets may actually be higher.
consider the same example using a test based ap proach to determining mutation and dominator mutation scores.
to kill selected mutant obbn we must choose testt4.
to kill selected mutant olbn we may choose either test t1ort3 assume for this example we choose t1.
this test also kills oeaa .
testt4kills subsumed mutant oaln and both tests kill subsumed mutants oeaa and vlsr .
however t1also kills dominator mutants oabn and oeaa which were not killed in the worst case approach based on subsumption we are simply lucky to have killed these additional mutants.
the resulting mutation score is .
eight of nine non equivalent mutants killed and the dominator mutation score is .
kills two of three mutants from a dominator mutant set both of which are signi cantly higher than the worst case approach.
to reliably use the worst case score as a proxy for the average case score we must have con dence that there is a correlation between the two scoring approaches not only with respect to dominator mutation score but also with respect to work as de ned in section .
speci cally we need to know that sets of selective operators that generate higher worst case dominator scores tend to generate higher averagecase dominator scores.
this allows us to nd the best operator combinations using worst case analysis with the assurance that they are also among the best using average case scoring.
we generated worst case scores for all combinations of one to four mutation operators for the seven siemens programs with the results shown in figure .
compared to the average case scores in figure these worst case mutation scores are slightly lower but the worst case dominator mutation scores are signi cantly lower.
figure selective mutation scores for the siemens suite worst case we then compared the worst case dominator scores to the earlier average case dominator scores.
figure shows all combinations of one to four operators graphed with worstcase dominator scores on the x axis and average case dominator scores on the y axis.
using spearman s rank correlation we found a strong positive monotonic correlation between worst case and average case scores p n .
normalized work correlates even more strongly p n .
this con rms the validity of using worst case dominator score as a proxy for average case dominator score.
while this approach is more computationally e cient than figure dominator score correlation averaging the results of multiple tests we can further reduce analysis e ort by eliminating computation of mutation operator sets that are unlikely to produce good results.
starting withn we performed a breadth rst search for all combinations of operators of length nfor each of the seven siemens suite programs individually selecting up to a total working set of best combinations.
each combination of lengthnthat was within the top scores served as the basis for combinations of length n combinations that were not among the top scores were not explored at additional lengths.
we measure best in this context by searching for operator combinations that have higher dominator scores and lower work than other combinations.
consider points e h i and j shown in the shaded area in figure .
these points are all dominated by point b which has a higher dominator score and lower work.
the points within the shaded area are sub optimal solutions as compared with b. if we remove all sub optimal solutions dominated by any other point we are left with points a b c and d. these points form the pareto front of optimal points.
figure example pareto front we compute the goodness of points that are dominated by the pareto front by using their hausdor distance dh the distance between the dominated point and the nearestmember of the pareto front.6smaller values of dhindicate more optimal solutions.
in figure the dhof point e is .
while point f has dhof .
.
thus point e is closer to the pareto front and is a superior solution to f. because worst case scores correlate to average case scores we assume that optimal worst case points will be near optimal when evaluated by the average case technique and conversely near optimal worst case points may prove to be optimal in the average case analysis.
thus we select more than just the optimal worst case points for further evaluation.
after calculating all combinations of length n we identify successive pareto fronts until we have accumulated at least best solutions for the next round of evaluation.
this processing resulted in a total of operator combinations.
to nd the very best performing selective operators in terms of average case scores we reprocessed these best operator combinations using the testbased average case approach described in section and then reduced the operator combinations to the best combinations that represent the pareto front of optimal solutions.
the results are shown in figure with optimal dominator scores shown in medium gray.
for comparison dominator scores for all combinations of one to four operators are shown in light gray.
figure best operator combinations for all siemens programs average case while it is tempting to identify a best set of operators based on this data the best choice actually depends on the risk tolerance of the program.
engineers developing noncritical programs might select a set of operators that provide a modest dominator mutation score with a small amount of work while those developing mission critical programs might be willing to perform far more work to achieve a higher dominator score.
thus every point in the optimal solutions plot is a potential best choice for some situations.
nevertheless a few points stand out for additional discussion.
if we are satis ed with the dominator score that e selective achieves we can accomplish the same score with less than half the work from .
to .
by using operator setfoabn obsn olsn smtc sswm stri vgpr vlpr vscrg which produces the point labeled a. al6hausdor distance has a well known limitation that points in the gaps of a sparse pareto front score poorly with the relatively dense pareto fronts generated by our analysis this is not a signi cant problem.ternatively if we are willing to perform the same amount of work as for e selective we can signi cantly increase our dominator score from .
to .
by using the operator setfoabn oaln olsn smtc smtt sswm vgpr vtwdg which produces the point labeled b. finally we can see a knee in the curve at work using operator setfoabn olsn oido smtc smtt sswm stri swdd vgar vgsr vlpr vscr vtwd vvdl g which produces point c beyond this point substantially more work is required to achieve even modestly higher dominator scores.
there are several potential selective operator sets that are an improvement over e selective but such improvements are clearly incremental.
no matter how many operators we use in our combinations our optimum solutions are only moderately better than the best combinations of one to four operators.
there is no combination of operators that reliably produces high dominator scores for small amounts of work across our selection of programs.
our desire for a highperforming set of operators that are program independent remains unful lled and a customized program dependent approach to mutant selection is still needed.
with respect to question rq3 we conclude that no sets of selective mutation operators of any size consistently produce among the very best dominator mutation scores with a small amount of required work across a range of programs.
.
rq4 comparison to other selective techniques several empirical studies have indicated that there is no signi cant di erence in performance between selective mutation approaches and random selection of mutants.
in this section we compare random with the best operator sets that we have discovered with respect to dominator score and normalized work.
to develop the random scores we select mutants at random until we reach the desired percentage of total mutants.
as before this is repeated ten times for each of the seven siemens suite programs and the results are averaged.
we evaluated random selection at ve di erent percentages of mutants generated similar to the number of mutants generated by e selective suggested by numerous authors as a threshold for very high mutation scores and .
we also evaluated the performance of the statement deletion operator ssdl on its own.
all of these were compared to the pareto front of most optimal selective operator sets as shown in figure .
random selection of of mutants performs very similarly to e selective but all random selection approaches are sub optimal compared to the best selective operators found in our evaluation.
similarly the ssdl operator is also suboptimal requiring less work but delivering a lower dominator score than e selective or any of the random selection approaches.
table shows the hausdor distances from the pareto front for each of these alternate approaches.
with respect to question rq4 we conclude that random selection and statement deletion are about as e ective as current selective mutation operators.
this is because traditional mutation score is in ated due to the redundancy between mutants and the e selective operators are not optimized for dominator score.
when redundancy is removed with dominator score alternate sets of selective mutationtable hausdor distance dhof alternate points alternate approach dh ssdl .
e selective .
random .
random .
random .
random .
random .
operators can be found that outperform these approaches.
all of these current techniques are sub optimal compared to selective operators speci cally selected for high dominator scores and low work.
.
threats to validity as in any experimental paper we must acknowledge threats to validity.
the use of the siemens suite has both advantages and disadvantages.
the siemens suite is a well known set of programs that has been used many times.
however the individual programs themselves are fairly small and may not be representative of more typical real world programs.
for our particular research however we do not consider the disadvantages of the siemens suite to be disqualifying if selective mutation has shortcomings with respect to any particular set of programs then it must be considered suspect with respect to software in general.
future work should expand this analysis to larger real world programs to verify that the results still hold for those programs.
our experimental data is from proteum speci c mutation operators and unkilled mutants were not veri ed to be equivalent.
the proteum limitation of tests leaves a small percentage of unkilled mutants that we treat as equivalent.
as a result the speci c operator sets identi ed in section .
may not be the very best operator sets possible.
nevertheless the broader point remains that common selective mutation approaches based on any xed set of operators or on random selection of mutants cannot provide high dominator scores with low amounts of work over a range of programs.
of course our modeling decisions also limit our results.
our model of how the test engineer proceeds namely one test or one equivalent mutant at a time is a simpli cation of how testing occurs in practice.
our model further assumes that the e ort to nd a test to kill a mutant is comparable to the e ort to declare a mutant equivalent.
more precise models would more closely match the actual test process as well as weight tests and equivalent mutants di erently.
for example a model that placed more weight on the work of equivalent mutant detection would tend to rate approaches such as sdl which are explicitly designed to limit equivalent mutant generation more favorably than e selective or random which do not.
.
conclusions scientists and practitioners alike have long known that mutation systems create large numbers of redundant mutants.
what is new is a way to measure that redundancy and moreover to nd a non redundant set of dominator mutants .
the concept of dominator mutants allows us to rede ne the mutation score to be signi cantly more precise.
the rst and most important result is that previous results on selective mutation were at best imprecise.
the original study using the mothra mutation system concluded that ve of the mutation operators could serve as a selective proxy for the rest because on average tests that killed all or most of the selective mutants also killed all or most of the complete set.
as the results in section show these results were biased by two factors.
first they are largely an artifact of the large redundancy inherent in the mutants.
when this redundancy is eliminated by nding a dominator set of mutants the full mutation scores of the selective tests dropped o dramatically.
second in the original study the ve selective operators performed best on average but each speci c program in our study was best serviced by a di erent set of operators.
just as medical researchers sometimes argue for personalized medicine where treatment is optimized for individual patients we suggest that mutation operators should be specialized for individual programs.
prior results found that selective approaches were comparable with statement deletion and even random selection .
this paper nds that these results hold even when modeled in terms of work and the more sensitive metric of dominator score.
in particular e selective and random selection score remarkably similarly in terms of dominator score and work when applied to the siemens suite.
none of these approaches however score particularly well compared to selective operator sets that are optimized to maximize dominator score and minimize work which in turn are worse than operator sets optimized for a particular program.
one interpretation is that all one size ts all selective operator approaches are equally far from optimal and that better approaches are required.
one such approach might involve determining a correlation between program features and mutation operators that tend to produce dominator or near dominator mutants.
this may allow a more sophisticated mutation engine to produce mutants that are speci cally tailored to the program under test.
we hope to explore this approach in future work.
all of these results are based on nding dominator sets of mutants which of course is not easy.
in our prior research we leveraged manual analysis and symbolic execution to nd approximate dominator set of mutants.
the general problem is unfortunately undecidable .
if we could nd dominator sets of mutants mutation analysis would become dramatically cheaper and more practical.
but even without a practical way to e ciently nd dominator mutant sets before testing concludes this paper demonstrates that minimal mutation can be used as an e ective research tool to re ne and expand our knowledge of mutation.