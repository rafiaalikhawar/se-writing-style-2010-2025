how much up front?
a grounded theory of agile architecture michael waterman james nobley george allanz specialised architecture services ltd wellington new zealand mike specarc.co.nz yschool of engineering and computer science victoria university of wellington new zealand james.noble ecs.vuw.ac.nz zemail drgeorgeallan gmail.com abstract the tension between software architecture and agility is not well understood by agile practitioners or researchers.
if an agile software team spends too little time designing architecture up front then the team faces increased risk and higher chance of failure if the team spends too much time the delivery of value to the customer is delayed and responding to change can become extremely difficult.
this paper presents a grounded theory of agile architecture that describes how agile software teams answer the question of how much upfront architecture design effort is enough.
this theory based on grounded theory research involving participants presents six forces that affect the team s context and five strategies that teams use to help them determine how much effort they should put into up front design.
i. i ntroduction software architecture is the high level structure and organisation of a software system .
because architecture defines system level properties it is difficult to change after development has started causing a conflict with agile development s central goal of better delivering value through responding to change .
to maximise agility agile developers often avoid or minimise architectural planning because architecture planning is often seen as delivering little immediate value to the customer .
too little planning however may lead to anaccidental architecture that has not been carefully thought through and may lead to the team spending a lot of time fixing architecture problems and not enough time delivering functionality value .
an accidental architecture can potentially lead to gradual failure of the project.
on the other hand too much architecture planning will at best delay the start of development and at worst lead to expensive architectural rework if the requirements change significantly.
up front architecture design effort is therefore a trade off between the need for architectural support and agility.
this conflict does not yet have a satisfactory solution .
many agile methodologies recommend some architecture planning but there is little guidance as to which architecture decisions should be made up front and what factors influence those decisions.
many agile developers deal with this absence in guidance by designing just enough architecture up front to enable themto start development with the rest being completed during development as required .
how much is just enough depends on context which includes technical and environmental factors such as the organisation and the domain as well as social factors such as the background and experience of the architects.
a particular system may have more than one architectural solution and two architects are likely to produce different architectures for the same problem with the same boundaries .
it is therefore difficult to determine in advance how much just enough is.
there has been little research on the relationship between software architecture and agile development to date .
this lack of research does not mean that it is not an important issue at the xp2010 conference how much architectural effort to expend was rated as the second equal most burning question facing agile practitioners .
this paper addresses this problem by presenting a grounded theory of agile architecture a high level descriptive theory that explains how teams determine how much architecture to design up front.
a team s up front effort depends on five agile architecture strategies that a team may choose which strategies a team chooses depend on the context of the team and the system being built.
context is characterised by fig.
.
the forces and strategies that comprise the theory of agile architecturesixforces that a team must consider when designing an agile architecture.
the forces and strategies are listed in figure .
this theory was derived using grounded theory a systematic and rigorous methodology that allows researchers to develop a substantive theory based on data that is a formal testable explanation of some events that includes explanations of how things relate to each other .
the theory is more than a description of experiences or perspectives based on a compilation of anecdotes expert opinions and experience reports it is a well codified and systematically generated set of propositions .
this paper is based on research published in waterman s phd thesis .
the rest of this paper is as follows section ii defines some of the terminology used in the paper and section iii presents the research methodology.
section iv describes the agile architecture forces and section v describes the agile architecture strategies.
section vi discusses the relationships between the forces and the strategies and the theory in context of related work.
section vii discusses the limitations of the theory.
finally section viii concludes the paper.
ii.
d efinitions we define software architecture as the set of significant decisions about the high level structure and the behaviour of a system where significant is measured by the cost of change .
in other words architecture comprises the planning and design decisions that are made up front because they are difficult to change once development has started.
architecting is the process of making architectural decisions and may include research analysis modelling verification and the creation of architectural artefacts.
architects make the architectural decisions in agile software development this is often the whole team through collaboration.
we define agility from a conceptual perspective based on an abridged version of conboy s definition a software development team s ability to create change respond to change and learn from change so that it can better deliver value.
adolph used a similar definition .
this definition avoids specifying particular methodologies and practices and refers simply to the team s ability to deliver value more quickly by responding to change and by improving its processes.
we define an agile architecture as an architecture that satisfies the definition of agility by being able to be easily modified in response to changing requirements is tolerant of change and is incrementally and iteratively designed the product of an agile development process.
iii.
r esearch methodology this research used the grounded theory methodology .
qualitative research methodologies such as grounded theory are used to investigate people interactions and processes and architecture is very dependent on the architects and the development teams themselves.
qualitative research is generally inductive it develops theory from the research unlike deductive research which aims to prove or disprove ahypothesis or hypotheses.
because of the scarcity of literature on the relationship between architecture and agile methods an inductive strategy that develops a new hypothesis was more suitable for this research.
we selected grounded theory because it allowed us to develop a high level theory based on a broad range of participants.
a. data collection we collected data primarily through face to face semistructured interviews with agile practitioners who design or use architecture or who are otherwise architecture stakeholders.
the average interview length was minutes.
we asked participants to select a project that they had been involved with to discuss during the interview.
types of projects varied hugely from green field to system redevelopment from standalone systems to multi team enterprise systems and from start up service providers and ongoing mass market product development to bespoke business systems.
systems varied from highly mission critical systems such as flight control and health record management to business critical systems such as banking and retail through to largely noncritical administration and entertainment broadcast systems.
we also obtained documentation such as software architecture documents which were able to confirm the decisions made and why they were made and copies of architecture models which provided overviews of the architectures.
additional data in the form of discussions by email and telephone clarified earlier interviews and documentation where necessary.
b. research participants we interviewed participants in interviews.
participants were gathered through industry contacts agile interest groups and through direct contact with relevant organisations.
almost all participants were very experienced architects senior developers team leaders and development managers with at least six years experience twenty years was not uncommon and most were also very experienced in agile development.
organisation types included independent software vendors isvs government departments mass market product developers and sole contractors.
different types of agile development were included with most participants using scrum other methods included xp lean and bespoke methods.
most participants adapted their processes to some extent to suit their team or customer s requirements.
the inclusion of this range of participants and systems enabled the research to include the effects of different factors on architecture decision making.
to maintain confidentiality we refer to the participants using labels p1 to p37 reflecting the interview numbers.
where there are several participants in a single interview we give the labels alphabetic suffixes such as p23a p23b and p23c.
a summary of participants and their projects is listed in table i on the following page.
c. data analysis the first step of grounded theory data analysis is open coding which can begin as soon as the first data are obtained.table i summary of participant details role experience in role organisation type domain agile methods team size or no.
of teams system description p1 developer years government agency health single developer team member web based .net p2 developer architect years isv e commerce scrum team members .net cloud based p3 devopment manager years agile isv personnel scrum teams web based .net p4 director of architecture years isv digital archiving scrum developers java rich client suite of standalone tools p5 coach dev.
manager years start up entertainment scrum kanban various various p6 man.
dir.
lead dev.
years service provider telecoms iterative developers suite of standalone applications p7 business analyst years isv telecoms scrum team members suite of web based services p8 lead developer years isv digital archiving scrum team members ruby on rails java back end p9 developer years financial services telecoms bespoke team members web based system p10 coach years hardware and services transport scrum xp developers large distributed web based system p11a development manager years government government services scrum team members web based .net p11b architect years p12 senior developer years financial services financial services scrum developers web based .net p13 architect years isv medical scrum team members monolithic .net app p14 architect years isv animal health scrum team members .net large gis component p15 customer years start up service provider retail electricity scrum developers ruby on rails p16a ceo chief engineer yearsisv retail health xp team members ruby on railsp16b head of engineering years p17 manager coach years government statistics scrum dev admin web based php using dao pattern p18 dev.
manager years multinat.
hardware vendor health scrum team members web based java platform p19 dev.
manager years start up service provider retail travel lean developers php symfony javascript backbone p20 coach and trainer years independent consultant n a scrum n a n a p21a p21dmanager coach architect team leader team leader20 years n a n a n a isv retail publishing scrum teams total .net websphere commerce sap others.
p22 senior manager years isv contact management marketingscrum xp more than total .net p23ap23cengineering manager product lead team leadn a years n a service provider pharmaceutical bespoke teams various web based client server p24 customer years start up service provider retail electricity scrum developers ruby on rails web applications p25 team lead years isv banking scrum team .net single tier web p26 team lead years isv water management scrum team members .net web based tier p27 ceo coach years start up service provider retail electricity scrum developers ruby on rails p28 technical lead years service provider broadcasting scrum team members python with django cmss for multiple websites p29 development manager years banking banking kanban team members web based interface to mainframe p30 consulting architect years service provider telecoms scrum team members python with django and twisted nosql p31 enterprise architect years government transport bespoke team members web services soa using .net wcf p32 software dev.
director years isv government fdd kanban n a n a p33 product architecture team leader15 years medical service providers medical kanban scrum one team per product streammultiple product streams soa p34 development unit manager years p35 design engineer n a p36 development unit manager years p37 consultant freelance software developer architect13 years service provider broadcasting bespoke xp team members java embedded in open coding phenomena in the data are methodically identified and labelled using a code that summarises the meaning of the data .
as open coding progresses emerging codes are compared with earlier codes codes with related themes are aggregated into higher levels of abstraction called concepts .
this process called constant comparison continues at the concept level with similar concepts being aggregated into a third level of abstraction called categories .
categories are the highest conceptual elements of grounded theory analysis a grounded theory research project may have hundreds of different codes but will typically have no more than four or five categories .
the relationships between the categories are analysed and focused using selective coding a dominant category emerges as the core category which is central to the emerging theory.
this theory is a formal testable explanation of some events that includes explanations of how things relate to one another .
throughout the analysis process memos free form notes ranging anywhere in size from a sentence to several pages are written to record thoughts and ideas about developing relationships between codes concepts and categories and to aid the development of the theory .
grounded theory uses iteration to ensure a wide coverage of the factors that may affect the emerging theory later data collection is dependent on the results of earlier analysis.
data collection and analysis continue until saturation is reached which occurs when no new insights are learned and all fig.
.
an example of a concept emerging from its codes variations and negative cases can be explained .
we can illustrate the grounded theory process with an example from this research.
one participant commented that they had regular tax law changes that meant regular changes to their requirements you ve got your taxation changes coming in on specific dates throughout the year so those are generally around our release dates because we have to stay compliant with that.
p3 development manager we coded this as having regulatory changes.
similarly another participant commented on the pharmaceu tical regulations that affected his company s product the regulations keep changing every six months.
p23 senior manager we also coded this as having regulatory changes.
codes that had similar themes to this example included having changes in usage patterns or system load requirements evolving and understanding of requirements changing.
we combined these similar codes into a concept called having unstable requirements as shown in figure .
a full discussion of the methodology is presented in waterman s phd thesis .
iv.
a gile architecture forces this research has found six forces that make up the team s and the system s context the set of conditions that can affect how the team designs the agile architecture.
the six forces are f1 requirements instability f2 technical risk f3 early value f4 team culture f5 customer agility and f6 experience .
f1 requirements instability f1 requirements instability refers to the effect that unstable requirements have on up front planning.
being able to respond to changing requirements is one of the underlying values of the agile manifesto and is central to our conceptual definition of agility see section ii .
all participants in this research reported unstable requirements to some extent whether they were part of team working on a relatively stable redevelopment project or whether they were part of a start up in a highly dynamic environment even within a week there s a lot of fluidity about the customer .
p27 ceo founder agile coach unstable requirements are caused by incomplete requirements and by changing requirements .
incomplete requirements are caused by the customer not initially knowing what they want or coming up with new ideas about what they want during development.
in some instances requirements are fairly stable but it is not possible for the team to develop a complete understanding of those requirements up front a full understanding comes later during development.
as an example p13 s team was replacing an old system with a new system that was functionally very similar.
they were not able to understand the intricacies of the system before starting development i don t know if the actual requirements ever changed but our understanding of them changed enormously.
p13 architect requirements may also change frequently during development due to the customer changing their mind about what they have already requested or by changing usage patterns.
often it is impossible for a team or their customer to know how their system will be used once it goes live if the system is commercially successful usage is likely to be higher than anticipated leading to the performance suffering unless thesystem is redesigned to ensure it can maintain the required performance levels assumes you know to begin with the usage patterns that your system is going to be put through... and you don t. you have to play it out in real life.
p10 coach in a business environment any delays caused by detailed requirements gathering and planning increase the chance that requirements will change there s a fat chance that by the time you get around to starting the work your world has changed.
p3 development manager teams therefore only define the high level requirements up front.
detailed requirements are gathered as needed any requirements not immediately being implemented are left undefined because any additional time spent on requirements gathering is wasted when requirements change.
by avoiding detailed requirements gathering analysis and architecture design software engineers can start development and demonstrating the product to the customer early in development and therefore can get feedback from the customer early.
f2 technical risk f2 technical risk describes the effect that exposure to potentially negative outcome has on a team s up front effort.
risk is caused by complex architecture as described by the participants complexity in terms of how complicated the code and the solution underneath it are going to be does influence how much planning we re going to do.
p33 product architecture team leader participants described architecture complexity as being caused by one or more of three things challenging or demanding architecturally significant requirements asrs by having many integration points with other systems and by involving legacy systems.
asrs are the requirements that drive and constrain a system s architecture and consist primarily of the qualities or non functional requirements such as performance security and reliability.
challenging asrs are difficult to design for and may lead to many trade offs.
participants described how challenging requirements lead to a complex architecture highly demanding non functional requirements are in my mind a direct driver of complexity and will require more effort to address particularly as there are tradeoffs between them for example performance versus security.
p31 enterprise architect legacy systems are those that are no longer being engineered but rather are simply patched or hacked as requirements change .
legacy systems have increased complexity systems become more complex with age.
just the burden of code entropy over time and all that.
p32 software development director good engineering practices such as simplicity modularity and high cohesion are eroded and continuing to develop or even interfacing with these entropic legacy systems are a source of complexity that requires more up front exploration or experimentation to ensure that integration succeeds.
participants also identified integration points or interfaces to external systems as a major source of complexity in the systems being developed particularly when the other systems are legacy or are built from different technologies.
integration with other systems require data and communications to be mapped between the systems adding to the up front effort to ensure integration is possible with the technologies being used.
for example today s systems tend to be more interconnected they have a lot more interfaces to external systems than older systems which are typically standalone.
they have a lot higher level of complexity for the same sized system.
p14 solutions architect teams must reduce the risk to a suitable level.
the amount of risk reduction and hence architecture effort depends on the team s and the customer s appetite for risk.
while complexity is a direct cause of risk size is not if it does not also increase complexity if we have size that just extends the time it s of little concern to us .
it s just a slightly larger backlog management overhead.
p32 software development director a team mitigates risk through using the strategy s2 address risk described in section v. f3 early value f3 early value refers to a customer s need to gain value from a system or product being built rather than simply provide feedback before all functionality has been implemented perhaps in the form of a minimum viable product .
early value is frequently required by businesses operating in a dynamic commercial environment who cannot wait for the full product to be developed today they ve got an opportunity for a business idea that might make them some money if they don t pounce on it it s gone regardless of how clever they think they are.
p26 team lead teams that deliver early value must reduce the time to the first release by spending less time on up front architecture design.
they achieve this by reducing the planning horizon how far ahead the team considers high level requirements for the purpose of architecture planning.
in its extreme teams do no planning ahead using s3 emergent architecture described in section v to start delivering value as soon as possible.
no up front design increases the overall effort because the architecture must be evolved with each iteration and hence cost of development increases.
with each iteration the team has to consider if the existing architecture is suitable for the current set of requirements being implemented if it is not thenthe architecture must be redesigned.
overall there is likely to be more redesign than if a longer planning horizon is used with more initial design.
for example as the product grows and the user base grows the architecture that was designed for day one will no longer be suitable and will need to be redesigned a redesign that may not have occurred with a larger planning horizon.
while cost is always a concern p10 participants accepted this increase in cost because it occurs later when the customer has cash flow from early adopters to pay for that cost maybe it ll cost a lot more to replace it a year later but you already have some business... p22 senior manager and if we needed to go to a million we d have to rewrite swathes of the software you absolutely would have to.
but it s a problem you can have once you ve got a million users and you ve got a million users worth of revenue.
p27 ceo agile coach particularly important for start ups with limited cash.
f4 team culture f4 team culture describes the effect that a team s culture has on its agility and the effort it puts into up front planning.
a culture that is people focused and collaborative is a very important factor in a team s ability to communicate.
for example there was a very good culture we could be full and frank in our discussions and planning and nobody would get too offended.
p12 senior developer many participants also commented on the importance of trust in an agile culture and the most important thing when it comes to agile is trust.
p15 customer a team without a trusting people focused and collaborative culture has to rely on documentation for communication and formal plans and hence requires more up front effort to guide development.
the size of the team affects its ability to communicate small teams are able to collaborate better while large teams require more structure and more up front planning and hence are less agile and the team has been going too big can t communicate hate the meetings.
it definitely takes more effort and negotiation in iteration zero.
i don t think it changed the complexity of the architecture or the way we attack the architecture it s just comms time.
p29 development manager the agile experience of team members also affects up front planning because a people focused and collaborative culture does not come into being instantaneously it comes with experience and practice as the team members become more experienced working together it is a continuous journey people have to get accustomed to the culture.
p20 coach and trainer a team new to agile particularly if it consists of developers from a traditional plan driven background is likely to struggle to be successful without a predefined architectural plan but as the team becomes more experienced and develops an agile mind set it will become more comfortable working without the guidance of up front plans will find it very difficult to start without having a concrete design in place.
the culture will be different.
they always want to follow what is already laid out.
an experienced set of developers or members in the team will make it easier to actually the design.
p22 senior manager f5 customer agility f5 customer agility describes the culture of the customer s organisation and the huge impact that it has on the amount of up front architecture design a team does.
a customer must have an agile culture that is similar to the team s culture whether the team is in house or an isv independent software vendor for the team to be truly agile.
a highly agile team will not fit in well with a heavyweight process oriented organisation that prefers planning and formal communication.
like trust within a team trust between the company and the team is important to help the company become part of the team and break down formal processes improving agility we ve become the same team.
that removes a lot of the tension streamlines the process massively.
what we started finding is that our customers then start breaking down their own processes and start making processes for us.
p27 ceo coach highly agile customers do not require their development teams to produce excessive documentation or plans and do not need fixed budget approval for fixed scope delivery.
conversely it is difficult for an agile team to operate in a non agile process driven environment a customer that does not buy in to the agile mind set greatly reduces the team s ability to be agile.
this can happen in many ways.
for example a non agile customer that prefers a command and control management style will impose their own processes upon the team.
p32 commented that some of their planning was simply because their customer expected it and preferred to see the developers perform traditional planning we have learned that a lot of the planning we ve done up front has been more a planning art or a planning play or some sort of production because there s some air of respectability around it.
it s necessary people demand it.
p32 software development director another way in which a non agile customer can negatively affect a team s agility is by taking on a benediction role in which it blesses or approves the team s architectural decisions prior to development.
a customer may want to ensure the decisions are compatible with a larger system with company policy or they may simply want comfort in the quality of the design decisions.many non agile customers prefer the accountability of a fixed price contract with a fixed scope and fixed delivery dates perhaps with penalties if milestones are not met they ve mandated quite a draconian liquidated damages kind of risk contract about if you miss a milestone.
p32 software development director for a team these contracts mean investing significant amounts of time up front to map out in detail how much work is required to deliver the customer s list of requirements.
other reasons for a customer not buying into the agile mind set include needing advance budget approval from their cfo or board for which they need a fixed scope and simply being unable to commit to ongoing time with the development team.
agile developers solve this latter problem by spending more time planning to compensate for the lack of feedback and hence are less agile.
f6 experience f6 experience describes the impact that an experienced architect s tacit knowledge and implicit decision making ability has on the time that an agile team spends on up front design.
experienced architects have breadth of knowledge they are more likely to be aware of suitable options for implementing a solution and better understand what will work and what will not.
hence they can make better decisions figuring out whether there s something out there appropriate that already does it that sort of thing that s where experience and knowledge really come into play.
p36 development unit manager while generally important for all software development methods experience is more important in agile development because the tacit knowledge and implicit decision making that come with experience supports agile development s reduced process and documentation and reduces the up front effort you implement certain patterns without thinking you ve done this kind of pattern for solving this kind of a problem without even thinking that this is the way that you are going.
p16b head of engineering while inexperienced architects rely more on explicit decisions that are written down and which need more effort in the form of proofs of concept experiments spikes and research.
it is also important for developers to know the technology being used.
knowledge or experience in the technology helps the team to speed up design and avoid the technology s weaknesses the architect we had working on this worked on another project or two using this framework plus also other portal ones and has definite opinions on pitfalls to avoid.
p7 business analyst if a team does not have the required experience they may have to gain that knowledge through research or they may bring in someone with suitable experience to join the team.v.
a gile architecture strategies the theory of agile architecture consists of six strategies that teams may choose from in response to the forces described above and which help the teams determine how much architecture to design up front.
the strategies are s1 respond to change s2 address risk s3 emergent archi tecture s4 big design up front and s5 use frame works and template architectures .
s1 respond to change a team s ability to use s1 respond to change is directly related to how agile it is.
s1 increases the architecture s agility by increasing its modifiability and its tolerance of change and allows the team to ensure the architecture continuously represents the best solution to the problem as it evolves the key thing is is not going to be frozen.
it s not going to be documented and put it in a glass case and hung on the wall and say that s the architecture let s look at it and keep developing no that s not it.
p22 senior manager teams proactively review their architecture to ensure it stays up to date ...so it s very much evolving and living with the system in response to what have we learned what are the things we need to do now?
p10 coach agile teams use s1 because of f1 requirements insta bility .
there are five tactics that teams can use to implement the strategy and design an agile architecture keep designs simple prove the architecture with code iteratively use good design practices delay decision making and plan for options .
keeping designs simple means only designing for what is immediately required no gold plating and no designing for what might be required or for what can be deferred.
proving the architecture with code iteratively means testing a design by building it and testing it in real life rather than through up front analysis and refining the design if it proves to be unsuitable.
this tactic can be used once development has started.
using good design practices such as separation of concerns is important in all development whether agile or not but is particularly important in agile development because it makes it easier to modify the architecture as requirements evolve.
delaying decision making means not making architecture decisions too early waiting until sufficient information on the requirements is known so that there is less likelihood of the decisions needing to be changed.
planning for options means building in generality and avoiding making decisions that are unnecessarily constrained and which may close off possible future requirements without significant refactoring.
three of these tactics keeping the design simple proving the architecture with code iteratively and following good design practices increase the modifiability of the architecture so that when requirements change or become known the architecture can be easily updated.
the other two tactics delaying decisions and planning for options increase the architecture s tolerance of uncertainty its resilience to change so that any changes to the requirements have less impact on the architecture.
keeping the design simple proving the architecture with code and delaying decisions all reduce upfront effort.
following good design practices and planning for options may slightly increase the up front architecture effort but will most likely decrease overall effort.
the tactics are summarised in table ii.
table ii acomparison of the respond to change tactics tacticimpact on responsiveness to changereduces upfront effort?
keep designs simple increases modifiability yes prove the architecture with code iterativelyincreases modifiability yes use good design practices increases modifiability no delay decision making increases tolerance of change yes plan for options increases tolerance of change no s2 address risk s2 address risk reduces the impact of risk before it causes problems and is usually done up front particularly for risk relating to system wide decisions for example risk in selecting the technology stack or top level styles .
using s2 a team designs the architecture in sufficient detail that it is comfortable that it is actually possible to build the system with the required asrs with a satisfactory level of risk that s essentially what you re in the technical design planning phase you re trying to reduce the risk of the whole thing going off the rails it s very much a risk based process.
p36 development unit manager more technical risk f2 means more up front architecture design is required meaning the team is less able to use s1 to reduce risk a team must sacrifice some of the team s ability to respond to change.
the team can find a balance between s1 and s2 by sufficient up front design to reduce risk to a satisfactory level and delaying decisions where the impact of risk is low.
the higher the impact of the risk the more important it is to mitigate that risk early.
for example p33 p36 s medical system had clinical and security risks that meant the design had to undergo additional architectural scrutiny anything that is deemed to relate to either a clinical risk or a security risk is actually assessed by a separate independent team who will tell you how bad it is.
p16a ceo chief engineer while p2 s customer was willing to risk a small financial loss in certain circumstances to get a cheaper system with less planning the customer has said to us he is quite willing to trade the risk of accidentally redeeming the same vouchertwice once in a blue moon so if two different people in different geographies within a tenth of a second of each other try to redeem the same voucher there s lowish odds that they ll redeem it twice.
p2 developer architect teams can reduce risk through the use of research modelling and analysis performing experiments spikes or by building a walking skeleton of the system.
s3 emergent architecture s3 emergent architecture produces an architecture in which the team makes only the minimum architecture decisions up front such as selecting the technology stack and the highest level architectural styles and patterns.
in some instances these minimum decisions will be implicit or will have already been made and can therefore be considered as constraints in which case the architecture is totally emergent.
when using s3 the team only considers the requirements that are immediately needed for its design ignoring even highlevel requirements that are to be implemented in the longer term.
s3 helps ensure the design is the simplest it can be and the product being built can be released to market as quickly as possible hence satisfying a need for early value f3 .
for example p29 looked no further than a few weeks ahead we re bugger all actually.
most of the time we re working a couple of iterations ahead we re looking at the design things that might have to go through to committee so we tend not to plan a year or two out we re planning a few weeks out.
p29 development manager s3 is likely to be used when developing a minimum viable product or mvp see f3 .
if the system has demanding architecturally significant requirements asrs or unique requirements it may need a more complex solution that requires bespoke components or multiple frameworks and more upfront design to address risk s2 .
hence f2 precludes an emergent design.
s4 big design up front s4 big design up front requires that the team acquires a full set of requirements and completes a full architecture design before development starts.
there are no emergent design decisions although the architecture may evolve during development.
s4 is undesirable in agile development because it reduces the architecture s ability to use s1 respond to change by increasing the time to the first opportunity for feedback increasing the chance that decisions will need to be changed later and increasing the chance of over engineering.
while s4 may be considered the case of addressing risk s2 taken to the extreme in reality the use of s4 is driven primarily by an absence of customer agility f5 rather than the presence of technical risk f2 there s a definite need to estimate and there s a definite need to give confidence on the functional scope at a big level.
p32 software development director the up front design in s4 is sufficient to satisfy the nonagile customer either sufficient to prove that the team knows how to solve the problem before starting sufficient that the team can estimate the cost of the system for the given requirements for a competitive tender or sufficient that they are able to complete the design without ongoing interaction with their customer there s a definite need to estimate and there s a definite need to give confidence on the functional scope at a big level.
p32 software development director while the team using s4 cannot fully implement s1 for example they cannot use the delay decisions tactic they may be able to use other s1 tactics such as good design practices and planning for options so that they can still evolve their architecture as requirements change.
not being able to delay decisions however will compromise their ability to be agile so if we re going to have to do a heavy architecture which plans for a year or two or five years into the future on every one of those experiments we re screwed.
we cannot be agile.
p29 development manager larger independent software vendors isvs often use s4 because their customers are more likely to be larger processdriven organisations who require more financial accountability.
larger isvs therefore often struggle to become as agile as smaller organisations.
s5 using frameworks and template architectures s5 use frameworks and template architectures is the use of software frameworks and template and reference architectures sourced from particular framework vendors for use with those frameworks.
frameworks such as .net hibernate and ruby on rails include default architectural patterns which constrain the systems to these patterns.
s4 provides the benefit of standard solutions to standard problems which means that software engineers do not need to make as many architectural decisions and can greatly reduce the effort required to design a system and get it up and running so we don t have architectural discussions we don t need to the problem s been solved .
don t try to solve it again.
so we have very very little discussion.
p27 ceo coach frameworks particularly those that follow the convention over configuration paradigm also greatly reduce the complexity of the architecture because many of the architectural decisions are embedded in the framework and hence architectural changes can be made with a lot less effort.
what used to be considered architecture decisions in the past can now sometimes be considered design non architecture decisions what used to be architectural decisions ten years ago can now almost be considered design decisions because the tools allow you to change these things more easily.
p4 director of architecture which means that fewer decisions have to be set in stone fig.
.
the relationships between the forces and strategies.
the rectangular boxes represent forces and the round cornered boxes strategies.
arrows represent dependencies or causal relationships a change in the independent force or strategy causes either a positive change solid line or a negative change dashed line in the dependent force or strategy.
a dotted line represents a trigger dependence the presence of the force is a trigger for the corresponding strategy.
the symbol represents mutual exclusion.
those decisions can be very emergent nowadays i don t think they re nearly as intractable.
p29 development manager while frameworks and templates are hugely beneficial to all development methods the ability to change architecture decisions more easily is most useful to agile methods.
despite their immense importance and ubiquity teams must be aware that frameworks cannot always provide a complete solution.
if the problem is not standard if the requirements are critical and the required architecture is sufficiently complex or unique there may be no suitable frameworks or existing libraries that a team can use to implement a design either as a whole or in part.
in these situations a team needs to design and build bespoke components or libraries and for those components miss out on the benefits that frameworks can provide.
having to design bespoke components increases the complexity of the architecture decisions that need to be made and increases the technical risk and hence increases the use of s2 address risk .
s5 can be used at the same time as any of the other strategies s1 s4.
vi.
d iscussion a. relationships between forces and strategies figure shows the relationships between the forces and the strategies.
a team s use of s1 respond to change is triggered by the presence of f1 requirements instability .
a team s agility and thus its ability to use the tactics of s1 is increased by f4 team culture f5 customer agility and f6 experience .
agility is not directly affected by f1 rather less stability may motivate the team to improve its agility through improving f4 f5 and f6 so that it is better able to respond to change.
s1 is in tension with s2 address risk which must be used to address f2 technical risk and hence s1 and s2 must be in balance.
an extremely agile team that does not need to use s2 can when triggered by f3 the need for early value reduce its up front effort to the point where it is using s3 emergent architecture .
on the other hand a team with low levels of f4 f5 and f6 may have to use s4 big design up front which will reduce its ability to use s1.
s5 use frameworks and template architectures can be used to significantly reduce development and design effort in particular it significantly reduces risk and up front effort for standard problems.
a team successfully using s3 would typically be using s5 to build a low risk system.
b. relationships with related work abrahamsson ali babar and kruchten listed eight factors that affect up front architecture design one of these is rate of change of requirements which corresponds to f1 requirements instability .
this research however has found that f1 does not affect the team s up front design effort rather the reverse is true the team s agility and thus its ability to use s1 respond to change impacts its ability to reduce up front effort and its ability to respond to unstable requirements.f2 technical risk is caused by complexity and causes a team to use s2 address risk increasing up front effort.
abrahamsson et al.
identified sizeas a factor that affects upfront design .
this research has found that size is not a direct factor in up front effort rather complexity is although size is an attribute of complexity .
size is possibly considered a proxy for complexity.
abrahamsson et al.
listed three other factors that can affect f2 and hence s2 stable architecture which is how well defined the architecture can be at the start of development age of system which is reflected in the legacy component of f2 and criticality which affects the customer and team s tolerance of risk .
fairbanks proposed a non agile specific method using only risk to determine which architecture decisions should be made up front .
boehm and turner also discussed up front architecture design being used to reduce risk .
in an interview the lead for the nasa software architecture review board described spending more effort on areas where there are more challenging asrs and hence more risk .
we explored complexity and risk and its impact on up front effort in an earlier paper .
f3 early value is a trigger for s3 emergent archi tecture .
another factor suggested by abrahamsson et al.
as affecting up front design effort was the business model of which the customer s need for f3 is a part.
we described the effects of early value in an earlier paper .
f4 team culture lies at the heart of agile methodologies.
a team culture that is people focused and collaborative greatly reduces the time required to relay information and hence reduces the feedback cycle.
a team with a highly agile culture has team members who are physically close together are trusting and amicable and use face to face communication instead of written documentation .
abrahamsson et al.
s team distribution factor affects the team s ability to communicate .
the importance of team culture on agility is well recognised in the literature as is trust .
f5 customer agility has similar effects to abrahamsson et al.
s business model andgovernance factors which both impact the customer.
small organisations are often more able to provide an agile environment while large organisations often prefer heavy weight processes and are non learning preferring extensive planning and formal communication .
hence large organisations are often not very agile.
f6 experience is important in agile methodologies as it is in other methodologies .
dreyfus and dreyfus explained that as a learner moves from being a novice to becoming a master decision making changes from requiring analysis to being intuitive which speeds up the decisionmaking process and hence increases agility.
kruchten obbink and stafford called frameworks precooked architectures because much the architecture is defined within the framework.
mirakhorli and cleland huang also noted the benefits of reference architectures .
the use of frameworks and reference architectures corresponding to s5 use frameworks and template architectures make agile development more effective because they simplifythe design and reduce the architectural and development effort required .
this simplified design and reduced effort increases the team s ability to use s1 respond to change reduces f2 technical risk and hence reduces the need to use s2 address risk .
cervantes velascoelizondo and kazman also noted that the framework functionality may need to be extended if it does not provide the required functionality out of the box .
this need increases risk and effort requiring increased use of s2.
vii.
l imitations like any grounded theory study the result is only applicable to the domain and context being studied and therefore cannot be assumed to be applicable to other contexts or in general.
the result is to some extent dependent on the research participants selected for the research and how they described their experiences.
we took a number of steps to prevent threats to the validity of the results.
the first step was to minimise bias being introduced by similar participants architecture experts all taking a common perspective by including a number of non architecting participants such as customers and business analysts.
participants from different roles in the same team or organisation were also included to help negate any personal bias.
the second step was to collect data in the form of documentation to back up data obtained from interviews which helped prevent bias being introduced through only collecting data in one form.
thirdly feedback on the emerging results was obtained directly from participants and from conference audiences to help validate the results.
we have evaluated the full theory using qualitative research criteria proposed by lincoln and guba miles and huberman and creswell .
criteria included trustworthiness originality resonance and usefulness.
viii.
c onclusion the aim of agile software development is to increase the delivery of value through the ability to respond to changing requirements.
to increase agility up front effort is reduced so that the customer can start providing feedback earlier.
reducing the up front design too much however could lead to an accidental architecture that does not support the team s ability to develop functionality and fails to meet requirements.
to maximise agility a team must find an appropriate tradeoff between a full up front architecture design and a totally emergent design.
this paper presented a grounded theory of agile architecture that describes how teams determine how much architecture they design up front.
the theory includes five strategies that teams use to determine how much architecture to design up front.
the strategies are chosen according to the context of the team and the system it is building which is described by six forces.