phrase based extraction of user opinions in mobile app reviews phong minh vu hung viet pham tam the nguyen tung thanh nguyen computer science department utah state university phong.vu hung.pham tam.nguyen aggiemail.usu.edu tung.nguyen usu.edu abstract mobile app reviews often contain useful user opinions like bug reports or suggestions.
however looking for those opinions manually in thousands of reviews is ine ective and timeconsuming.
in this paper we propose puma an automated phrase based approach to extract user opinions in app reviews.
our approach includes a technique to extract phrases in reviews using part of speech pos templates a technique to cluster phrases having similar meanings each cluster is considered as a major user opinion and a technique to monitor phrase clusters with negative sentiments for their outbreaks over time.
we used puma to study two popular apps and found that it can reveal severe problems of those apps reported in their user reviews.
ccs concepts software and its engineering !software maintenance tools keywords opinion mining review analysis phrase extraction .
introduction millions of mobile apps are available on app markets making app development a highly competitive business.
to attract retain and improve users satisfaction app developers are interested in user opinions about their apps.
fortunately app markets allow users to rate and write reviews about the apps they use.
those user reviews often contain useful information such as reports of bugs suggestions of new features or improvements or simply praises or frustrations .
however a popular app often receives thousands of reviews each day and most of them do not contain information useful for app developers .
due to this large volume and noisy nature of such reviews reading and analyzing them manually for relevant opinions is very ine ective and timeconsuming.
therefore researchers have proposed and deacm isbn .
.
1235veloped many automated and semi automated techniques to analyze app reviews .
most current approaches represent user opinions using single words .
for example mark detects and ranks keywords frequently appearing in reviews with negative ratings and allows users search for reviews with a speci ed set of keywords.
ar miner clusters reviews into di erent topics using latent dirichlet allocation lda and aspect and sentiment uni cation model asum .
however single words could only brie y and loosely describe semantics and sentiments of reviews.
for example if mark reveals that keyword connect appears frequently in negative reviews we could guess that users are complaining about some connection issues.
a phrase like cannot connect to facebook will inherently provide more useful information.
therefore in this paper we propose puma a novel approach to extract user opinions using phrases.
puma considers a phrase as a sequence of consecutive words corresponding to a grammatically correct phrase clause or sentence in english.
the noun phrase facebook messenger the verb phrase kill my phone battery or the sentence the game app gets the wrong pro le are examples of phrases we aim to extract in app reviews.
we could extract phrases directly by parsing the reviews and collect word sequences correspondingly to phrase clause or sentence structures in the resulted parse trees.
however app reviews are often noisy e.g.
containing many typos and grammar errors.
thus direct parsing would be ine cient and non scalable to large amount of reviews.
to avoid this problem puma uses part of speech pos tags of words rather than parse trees to extract phrases in user reviews.
the pos tag of a word in a given sentence indicates its functional type e.g.
whether it is used as a noun nn averb vb a modal verb md a determiner dt etc.
given a word sequence pos tagging is the task to infer the pos tag for each of its words which is clearly much easier than parsing it.
for example pos tagging the sentence my phone does not connect to facebook results in the pos tag sequence prp nn md not vb to nn .
note that we use the pos tags de nition from stanford postagger .
let us explain how puma uses pos tags to extract phrases via an example.
first we could observe that many valid noun phrases contain two consecutive nouns such as network connection or battery consumption .
that means they all have the tag sequence nn nn .
thus if a word sequence has the tag sequence nn nn like account pro le or sms message it is likely a valid noun phrase.
our phrase extraction technique has two phrases.
first permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september singapore singapore c acm.
... .
mark preprocessorphrase templatestemplated phrase extractor predefined words templated phrasescleansed text phrase clusters amazon reviewsapp reviews cleansed textmark preprocessor phrase clustererphrase template mineropinion tracker tracked opinionsfigure flow of our phrase based approach to extract user opinions table example of phrases extracted from a review actual phrases phrase templates templated phrases can not connect to facebook md not vb to nn can not connect to facebook kill my phone battery in game vb prp nn nn in nn kill prp phone battery in game game freeze nn vbp game freeze facebook messenger and internet connection nn nn and nn nn facebook messenger and internet connection game app get the wrong pro le nn nn vbp dt jj nn game app get the wrong pro le we mine the phrase templates which are tag sequences frequently appearing in valid phrases in a corpus of high quality product reviews from amazon.com like nn nn mentioned above.
then we extract in mobile app reviews the templated phrases i.e.
word sequences whose their tag sequences match the mined phrase templates .
the same opinion can be expressed by di erent phrases having similar meanings.
for example internet connection has similar meaning to network access or connect to internet .
thus it would be more convenient to analysts of app reviews to group similar phrases.
to do that in puma we have proposed a new similarity measure for phrases based on the similarity of single words appearing in those phrases which in turn is computed based on vector based representation of those words word embedding .
then we implemented a soft clustering algorithm to group phrases based such similarity measurements between them.
after extracting and clustering phrases puma can rank the resulted clusters of similar phrases based on their associations with the ratings of reviews.
thus it can discover phrases frequently appearing in negative reviews which likely indicate some complaints or issues that make users unhappy.
puma can also monitor the occurrences of resulted clusters of similar phrases over time.
thus it can help app developers to identify issues or complaints that are currently a ect a lot of users.
in short our contributions in this work include .
a new phrase extraction approach using phrase templates .
a new similarity measurement to estimate phrase similarity using vector representation of words.
.
new techniques to cluster rank and track groups of similar phrases overtime.
we organized the remaining of this paper the following.
section describes our approach in details.
section presents preliminary evaluation results of our approach.
section discusses related work and section concludes this paper.
.
approach in this section we present our approach puma in details.
figure illustrates its main components and data ow.
as seen in the gure puma mines phrase template from a corpus of high quality product reviews from amazon.com.
after mining it fetches the raw app reviews from app markets and uses mark tool to pre process them.
after that it extracts phrases in the pre processed reviews using phrase templates that we have mined.
then it clusters the extracted phrases into groups with similar meanings and consider each group to express a major opinion.
finally puma rank and monitor those groups over time.
we now discuss the details of each component.
.
preprocessing puma uses mark to pre process both the raw app reviews and the product reviews from amazon.com.
mark pre processor has a customized word stemmer to convert english words into its base form without being over stemmed.
it can also correct errors typos slang words acronyms and abbreviations typically appear in reviews of mobile apps.
.
mining phrase templates in our approach a phrase template is a sequence of pos tags corresponding to a large number of valid i.e.
grammatically correct phrases in english such as nn nn noun phrases containing two nouns .
to mine those phrase templates we collected a corpus of high quality reviews of products in amazon.com .
we mine phrase template from this dataset instead of mining directly from reviews of mobile apps because we expect the product reviews in amazon.com to be better in grammar and spelling i.e.
less noisy than mobile app reviews while having the expressions and writing styles of user reviews.
after pre processing the collected reviews puma parsed them using stanford parser .
for each resulted parse tree 727it located the sub tree for a phrases a clause or a sentence and counted its corresponding tag sequence.
after counting we only kept sequences that have at least counts and have length of at most .
we observe in the review data that some functional words e.g.
connectors intensi ers negators have the same pos tag but lead to very di erent meanings.
for example both and and but are tagged as coordinating conjunction cc .
therefore we obtained a list of functional words from several english websites123so we can keep those functional words instead of replacing them with their pos tags.
for example bread and butter will correspond to the tag sequence nn and nn not nn cc nn .
we also investigated the mined phrase templates manually and removed ones that obviously do not make sense such as ending with but or and .
finally we have more than phrase templates.
although parsing amazon reviews counting tag sequences of valid phrases and validating the resulted sequences manually are time consuming we only need to do it once.
.
extracting templated phrases figure illustrates the algorithm in puma to extract phrases using the mined phrase templates.
it rst separates a review into sentences.
for each sentence it uses a pos tagger to produce the corresponding tag sequence.
then it collects all word sequence in that sentence whose tag sequence matches a mined phrase template.
if a word sequence is collected all its sub sequences are disregarded.
in addition sequences containing only stop words are also ltered because they would not express any useful opinion.
puma also performs some reductions to increase the generality of the extracted phrases.
first some modal verbs like do can will etc.
would not contribute signi cantly to the meanings of phrases containing them.
thus puma replaces them with their pos tag md .
as mark puma only keeps verbs nouns and additionally adjectives commonly used to describe user sentiments e.g.
intrusive unreliable .
all other words e.g.
possessive adjectives and pronouns like my yours our etc.
are replaced by their pos tags.
table provides some examples of the phrase templates the actual phrases in reviews and the nal templated phrases after extraction and reductions.
.
clustering phrases users opinions can change over time after each bug x or update.
therefore monitoring the major problems opinions and discover new ones is an important task for app developers.
the simplest way to monitor these opinions is to track the occurrences overtime of the phrases expressing such opinions.
however an opinion could be described in many ways or in other words many phrases could describe the same opinion.
because there are many phrases having the same meanings thus trying to list similar phrases manually for tracking would be time consuming.
it is better to extract phrases from reviews and cluster them into more coherent topics for tracking.
ers function extracttemplatedphrase input tis a list of phrase templates ris a review wis a list of prede ned words lis the maximal length of extracted phrases output pis a list of templated phrases p s extractsentence r foreach sentence s2s fsequencex2s length x lg fsequencex2 9t2tsuch thatxmatches with tg remove subsequences of larger sequences in remove sequences containing only stop words in add top returnp figure extraction algorithm for templated phrase .
.
phrase similarity our clustering algorithm requires a reliable method to compute the similarity or distance between the templated phrases.
however we could not nd a well established technique in the literature for that task.
lin et al.
propose to use point wise mutual information to nd the feature vector of each phrase based on their co occurrence with other words in the same context.
mikolov et al.
proposed word2vec tool with a similar intention of nding context vector for words or phrases.
however both approaches su er from the fact that our templated phrases can be too long e.g.
can contain up to words and the average length of a review can be very short our dataset of .
million reviews has an average of .
words per review .
sometimes the phrase can be as long as a whole sentence or even a review.
thus the methods of nding context based on co occurrence of words is not applicable for our phrases.
to address this limitation we propose our own technique to compute similarity between two phrases using vector representation of words from word2vec.
our technique considers two phrases as two bags of word of size mandn.
first it greedily nds the pairs of words iin our phrases that has highest vector similarity measured by cosine similarity .
similarity of two phrase would then be equal to the average similarity of these pairs times with the modi ed jaccard similarity of the two bags of word.
this jaccard similarity considers all paired words to be in the intersection set instead of only identical words.
this modi cation favors phrases of similar lengths.
the following formula shows how we calculate such similarity phrasesim a b pk i i n m k k number of word pairs a b two phrases that have the number of word nand m respectively.
similarity of a pair of words.
.
.
soft clustering the soft clustering algorithm uses the templated phrase s vectors as shown in algorithm .
in each iteration the algorithm does the following steps starting choose a starting phrase with highest negative sentimental score in the pool of available phrases s. the negative sentimental score is the same contrast score we used in mark .
the negative sentimental score can also be function simplesoftcluster input sis a list of templated phrases kis the number of clusters is the releasing percentage is threshold fordistance similarity output pis a list of clusters sortsby negative sentimental score in desc order c while !isempty s h popfirst s .add h centroid !
foreach ins c cosinesimilarity if c !
!
c if omega .add centroid if .size k break release top phrases closest to centroid in froms add toc returnp figure simple soft clustering algorithm for templated phrase modi ed to positive sentimental score simply by changing negative ratings for positive ratings.
expanding choose a phrase lwith the closest cosine similarity to the centroid of chosen phrases given that the distance is no more than a threshold mu.
stop expanding when there is no phrase left to chose in the pool or a k number of phrase in cluster is reached.
releasing release top percents of the chosen phrases closest to centroid from phrase pool for the next iteration.
this step helps allocating phrases with di erent meanings in di erent context to all clusters they belongs hence the name soft clustering .
each of the nal clusters represents a topic that users are talking about.
we rank them by the sum of negative sentimental score of each phrase within them by month.
this way analysts can nd out which problems have changed their ranking over time.
moreover they can narrow down the list of reviews they need to read.
our case studies in section .
show that our tracking approach can catch real problems for the studied apps.
.
evaluation in this section we evaluate our phrase based approach on the ability to track real life problems.
the rst subsection discusses about our review data used for this evaluation.
in the second subsection we show case studies resulted from our clustering and tracking of opinions.
.
data the dataset we prepared for our evaluation is showed on table .
we have crawled nearly three millions of reviews from mobile apps on google play from january to september .
each crawled review contains the creation time the reviewer id a title a long text description of the review content and the associated rating.
the crawling process is the same as in mark .
we need all appstable statistics of collected data total number of mobile apps total number of crawled reviews total number of reviews can be extracted for phrases min number of reviews amazon mp3 average number of reviews per app .
average words per review .
collection time jan to sep table example of reviews from our case studies candy crush sagafacebook issue.
there have been several times now my king games wo not connect to my facebook after they have been connected.
i have tried everything right down to uninstalling everything and installing it over again.
this bug x needs to be xed in every king game not just this one.
facebook messengerpoorest app of all time.
not many knows but this app constantly runs in background whether you log in or not.
draining battery and hampering performance.
this kind of app disappoint android os as a whole.
for just two case studies is because the more apps we use the more general templated phrases we can extract.
this data was passed to mark for preprocessing and then we extracted templated phrases on it.
however due to the messy nature of app reviews even our mark custom spelling correction could not correct all words.
this left some strange misspelled words inside the cleansed reviews.
stanford pos tagger sometime label those words as foreign words or some other pos tags did not appeared in the amazon review text dataset.
therefore we were only able to extract templated phrases with a threshold of at least occurrence on .
millions reviews.
this can be improved with a better spelling corrector and a more extensive set of phrase templates in the future.
for the purpose of evaluating our approach we used this .
millions reviews dataset through out this evaluations.
.
case studies for problem tracking by applying the opinion tracking technique in section .
we were able to discover many interesting clusters for various mobile apps.
further investigations on problems discovered by our technique for di erent categories of app showed us that our technique can discover real major user opinions problems.
the following sub sections shows our nding forcandy crush saga facebook messenger .
.
facebook connection in candy crush saga we detected a cluster of phrases related to the complaint cannot connect to facebook that has an abnormal increase in frequency on february figure .
some example phrases are shown in table .
investigation on this complaint showed that starting from february all games from king developers of candy crush saga cannot connect to the login system using facebook4 .
since this happened to all games not just this game it could be a back end systems problem.
even though we have never got an o cial announcement from king regarding this problem.
the number of complaints was going down on the next month which was likely because developers had xed it.
.
.
battery consumption in facebook messenger similar to our nding in prior work mark we also found a cluster dedicated to battery draining problem on 729table examples of phrases extracted from reviews of candy crush saga belong to the cluster of facebook connection problem connection to facebook access to facebook my facebook account let me connect no facebook connect ... jan feb mar apr may jun julscorecandy crush saga facebook connection figure candy crush saga outbreak of the cluster for facebook connection facebook messenger on february figure and example phrases in table .
on feb users of facebook messenger noticed a signi cant loss in their battery power and started complaining about it.
on the same day facebook developers con rmed it was a syncing problem with their app and released a new update to x it6.
this is an interesting nding since mark was a semiautomated tool which means we had to use human intervention to nd this problem.
however the soft clustering approach can automatically discover it.
.
threat to validity there are two threats to validity of our evaluation process.
the rst is we only applied our process on .
millions reviews of apps.
therefore the apps used in this research might not be representative.
to address this threat we made our data publicly available when requested to encourage researchers to replicate and extend our experiments.
the second is our approach cannot extract opinions corresponding to textual expressions that were not extracted from amazon reviews dataset.
.
prior and related works in the recent years researchers had answered quite a few interesting questions about app reviews.
as of hamad khalid found that there are at least types of user complaints present in mobile app reviews by manually inspecting reviews from ios apps.
guzman and maalej used topic modeling techniques to group extracted features from reviews and found users sentiments for them.
another study was conducted by khalid et al.
with reviews is to explore the correlation between them and the devices that the app is running on then use this information to help quality assurance prioritize their e ort.
wano examples of phrases extracted from reviews of candy crush saga belong to the cluster of facebook connection problem started using most of my battery it drains my battery running in the background and drain waste my battery using of my battery ... jan feb mar apr may jun julscorefacebook messenger battery consumption figure facebook messenger outbreak of the cluster for battery consumption and lio found out that review styles are di erent for each category in their research .
more into this trend researchers found that app reviews could contain many valuable information.
a number of recent researches have focused on extracting such information such as the work of iacob et al.
that extract feature requests from reviews.
in the same year carreno et al.
also proposed a way to extract changed or new requirements for next versions of the app from user feedbacks.
following the trend fu et al.
proposed wiscom a tool that can discover inconsistencies in reviews identify why an app is being liked or disliked and provide some users major concerns and preferences of di erent types of apps.
in iacob et al.
introduced the next version of mara to extract relevant information such as feature requests and bug reports.
ar miner from chen et al.
was the rst framework to extract informative user reviews then group and rank them.
while some researchers study mobile app reviews in general some others prefer to target speci c needs and concerns that are expressed in the reviews.
for instant chen et al.
made a study about the unreliable maturity content ratings for mobile apps on android market and apple store.
they discovered that these ratings can be not accurate and inconsistent with the published policies.
security and privacy issues were extracted by cen et al.
using a two dimensional labeling system.
palomba et al.
developed crystal to nd traceability link between code changes and app reviews to analyze how reviews a ect development process.
however mining user opinion using a phrase based approach was not mentioned in prior works.the most similar work to our research is our prior work with mark framework .
in this work we use keyword based approach as a mean to discover user opinions.
however using keywords alone cannot express as many sentiment levels as the phrases because of their abstract nature.
without phrase based approach currently there is no method to show a complete 730user opinion using only keyword.
.
conclusion and future work we proposed a novel phrase based approach for user opinions discovering in mobile app reviews.
our approach includes a phrase extraction process to extract templated phrases from reviews an user opinions tracking techniques using phrases.
moreover for phrase extraction we have semi manually developed a dataset of phrase templates for extracting user reviews.
we also conducted a preliminary evaluation of our approach on case studies of real life problems showing that it can automatically detect major user opinions and support developers in understanding them.
for future development we plan to conduct more experiments to compare the e ectiveness of our approach with the parsing approach on a reasonable sized dataset compare the explanation power of single word approach to our phrase based approach discover newly introduced problems on several popular apps and contact developers to verify if our approach really helps them discovering problems.
moreover we intent to develop a technique that can automatically highlight the important opinions on actual reviews to support developers on the reading task using our approach.
.