codecarboncopy stelios sidiroglou douskos eric lahtinen anthony eden fan long martin rinard stelios elahtinen aeden fanl rinard csail.mit.edu mit eecs and mit csail cambridge ma usa abstract we present codecarboncopy ccc a system for transferring code from a donor application into a recipient application.
ccc starts with functionality identified by the developer to transfer into an insertion point again identified by the developer in the recipient.
ccc uses paired executions of the donor and recipient on the same input file to obtain a translation between the data representation and name space of the recipient and the data representation and name space of the donor.
it also implements a static analysis that identifies and removes irrelevant functionality useful in the donor but not in the recipient.
we evaluate ccc on eight transfers between six applications.
our results show that ccc can successfully transfer donor functionality into recipient applications.
ccs concepts softwareanditsengineering softwaremaintenancetools reusability keywords automatic code transfer acm reference format stelios sidiroglou douskos eric lahtinen anthony eden fan long martin rinard.
.
codecarboncopy.
in proceedings of 11th joint meeting of the european software engineering conference and the acm sigsoft symposium on the foundations of software engineering paderborn germany september esec fse pages.
introduction software developers often transfer functionality between applications by copying code originally developed for one application the donor application into another application the recipient application .
current practice involves manually adapting the copied code to operate within the environment of the recipient.
the software development overhead associated with this manual adaptation can complicate the ability of developers to rapidly and easily transfer functionality between applications.
one particularly challenging aspect of transferring code between applications is translating the data representation from the donor representation to the recipient representation.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than the author s must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
esec fse september paderborn germany copyright held by the owner author s .
publication rights licensed to association for computing machinery.
acm isbn .
.
.
.
codecarboncopy ccc we present codecarboncopy ccc functionality identification the developer identifies the donor function that implements the functionality to transfer.
the code that implements this functionality is the transferred code .
insertion point the developer identifies a program point in the recipient as the insertion point of the transferred code.
donor and recipient executions ccc executes both the donor and the recipient on the same seed input file ccc is designed to support code transfer between applications that can process the same input file format .
the executions are instrumented to record symbolic expressions for every value that the applications compute.
these expressions record the complete computation of the value as a function of the constants and input file bytes that contribute to its value.
ccc uses the symbolic expressions to compute a mapping from the recipient data representation to the donor data representation.
input and output adapters the transferred code accesses data in the original donor data representation.
to enable the transferred code to execute in the recipient environment ccc uses the mapping to automatically generate input andoutput data adapters.
the input data adapter reads the recipient data structures to build and populate the donor data structures that the transferred code will access when it executes.
the output adapter writes the computed values back from the donor data structures into the recipient data structures.
the ccc adapters work with forests of structures where the leaves can be arrays of primitive types such as integers or characters.
the arrays can be dynamically allocated and the sizes of the arrays can depend on the input.
the ccc data structure mappings are based on matched arithmetic sequences which map data indexed by one arithmetic sequence in the recipient to data indexed by another arithmetic sequence in the donor.
for example ccc can use matched arithmetic sequences to translate data stored in separate arrays in one application into data stored interleaved in a single array in another application and vice versa section .
irrelevant functionality removal ccc deploys a static analysis that identifies and removes irrelevant code e.g.
gui code that accesses irrelevant values derived from developer identified irrelevant parameters to the transferred code.
code extraction and transfer ccc extracts the transferred code from the donor into the insertion point in the recipient.
to facilitate the extraction ccc transforms global variable