jens knoop uwe zdun hrsg.
software engineering lecture notes in informatics lni gesellschaft f ur informatik bonn nopain no gain?
the utility of parallel fault injections stefan winter1oliverschwahn1roberto natella2neeraj suri1domenico cotroneo2 abstract the article reports on interferences between concurrent fault injection test executions.
keywords software fault injection robustness testing test interference software fault injection sfi emulates defects in software components to assess the robustness of other software components the yinteract with.
after such defects ha vebeen introduced the software composition is exposed to aworkload and the effects of the introduced defect on the component under assessment are monitored.
sfi tests entail relati vely long execution times for three reasons the yoperate on afully integrated software system which entails corresponding loading and initialization times.
toactivate the introduced defects and assess their impact on possibly comple xcomponent interactions theexecution of comple xworkloads is required.
after each sfi test execution the entire software system under test sut needs to be reset to aknown fault free state to prevent residual side effects of injected faults from affecting subsequent tests.
especially the last point entails significant execution time overhead.
as the possible effects of an injection cannot be predicted if the ycould no sfi tests were needed resetting the sut usually requires acomplete termination and re initialization sometimes even of its execution environment e.g.
the test machine sfile system if it can be affected by the injected fault.
toimpro vetest throughput we propose to exploit parallel hardware and execute sfi tests concurrently .while this appears to be asimple and straight forward solution it is based on an assumption of non interference between sfi tests.
in apaper that we presented at icse this year w ee xperimentally evaluated this assumption.
weexecuted sfi tests on the android os kernel by injecting faults into the sd card dri ver.tocontain the effects of fault acti vations during these tests the system wasexecuted in an emulator that wasreset after each test.
werepeated the tests with varying degrees of concurrenc yb y instantiating varying numbers of emulator instances.
toassess whether concurrenc yhas an effect on the experiment outcome we compared the result distributions for the varying degrees of concurrenc y.our initial results showed significant deviations for higher degrees of concurrenc y indicating that an unreflected replication of sut instances threatens the validity of test results.
weidentified the sut instances competition for shared system resources and the resulting execution latenc yincreases which directly affected some of 1technische uni versit at darmstadt deeds group hochschulstr .
darmstadt german y sw os suri cs.tu darmstadt.de 2federico ii uni versity of naples dieti via claudio naples italy roberto.natella cotroneo unina.it46 s. winter o.schwahn r. natella n. suri d. cotroneo the employed test oracles as the root cause for the observed deviations.
wethen devised apre test measurement approach to adjust these oracles for the concurrent execution of a givennumber of sut instances on agiven test machine.
using this approach we were able toexecute up to sfi tests concurrently without an ysignificant test result deviations on amachine with cpu cores and gib main memory .the highest throughput for this configuration was157experiments per hour with concurrent instances amore than 12fold throughput increase compared to sequential test execution.
forthis configuration we also observed the lowest correlation between the degree of concurrenc yand the test result distribution in a 2test for independence which indicates that the initially observed result deviations were indeed caused by performance interference of concurrent test executions.
besides the direct impact of our result on sfi and other robustness testing approaches where performance sensiti veoracles are used to detect so called hang failures our result indicates that test parallelization requires careful analysis to obtain valid results whenever tests rely on execution latencies .forexample an yjunit tests that use the timeout parameter or timeout rulewould be similarly affected.
an interesting observation from ourexperiments wasthat the sut initialization contributed significantly to the observed test latencies.
this is not surprising as we used heavy weight isolation measures to make testexecutions as independent as possible from each other by running them in almost as our results show completely isolated environments.
this opens up the possibility for a trade off performance interference decreases with less isolation which on the other hand increases the risk for other types of test interference .
while our pre test measurement approach pro vedeffectivefor time dependent oracle adjustment it required the execution of around tests for reliable predictions.
our goal is to reduce this calibration overhead and ideally devise an analytical model for accurate predictions of safetime dependent oracles and achie vable concurrenc ydegrees for agiven test type and test machine configuration that do not even require additional test executions for calibration.
toachie vethis we need to better understand the root causes behind latency increases.
wehope the related research to also shed some light on the factors that caused throughput to degrade when more than concurrent sut replica were instantiated in our experiments and to guide hardware and scheduler configuration for better test throughput.