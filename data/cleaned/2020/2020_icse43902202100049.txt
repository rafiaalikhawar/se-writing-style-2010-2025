evaluating szz implementations through a developer informed oracle giovanni rosa luca pascarellay simone scalabrino rosalia tufanoy gabriele bavotay michele lanzay and rocco oliveto university of molise italy ysoftware institute usi universit a della svizzera italiana switzerland abstract the szz algorithm for identifying bug inducing changes has been widely used to evaluate defect prediction techniques and to empirically investigate when how and by whom bugs are introduced.
over the years researchers have proposed several heuristics to improve the szz accuracy providing various implementations of szz.
however fairly evaluating those implementations on a reliable oracle is an open problem szz evaluations usually rely on i the manual analysis of the szz output to classify the identified bug inducing commits as true or false positives or ii a golden set linking bug fixing and buginducing commits.
in both cases these manual evaluations are performed by researchers with limited knowledge of the studied subject systems.
ideally there should be a golden set created by the original developers of the studied systems.
we propose a methodology to build a developer informed oracle for the evaluation of szz variants.
we use natural language processing nlp to identify bug fixing commits in which developers explicitly reference the commit s that introduced a fixed bug.
this was followed by a manual filtering step aimed at ensuring the quality and accuracy of the oracle.
once built we used the oracle to evaluate several variants of the szz algorithm in terms of their accuracy.
our evaluation helped us to distill a set of lessons learned to further improve the szz algorithm.
index terms szz defect prediction empirical study i. i ntroduction the szz algorithm proposed by sliwerski zimmermann and zeller at msr identifies given a bug fixing commitcbf the commits that likely introduced the bug fixed incbf.
these commits are termed bug inducing commits.
in essence given cbfas input szz identifies the last change commit to each source code line changed in cbf i.e.
changed to fix the bug .
this is done by relying on the annotation blame feature of versioning systems.
the identified commits are considered as the ones that later on triggered the bug fixing commit cbf.
szz has been widely adopted to i design and evaluate defect prediction techniques and to ii run empirical studies aimed at investigating under which circumstances bugs are introduced .
the relevance of the szz algorithm was recognized a decade later with a mip most influential paper award presented at the 12th working conference on mining software repositories msr .
several researchers have proposed variants of the original algorithm with the goal of boosting its accuracy .
for example one issue with the basic szz implementation is that it considers changes to code comments and whitespaces like any other change.this means that if a comment is modified in cbf the latest change to that comment is mistakenly considered as a buginducing commit.
an improvement by kim et al.
was therefore to ignore changes to code comments and blank lines as candidate bug inducing commits.
despite the major advances made on the accuracy of szz alencar da costa et al.
highlighted the major difficulties in fairly evaluating and comparing the szz variants proposed in the literature.
they observed that the studies presenting and evaluating szz variants mostly rely on manual analysis of a small sample of szz results with the goal of evaluating its accuracy.
such an evaluation is usually performed by the researchers who not being the original developers of the studied systems do not always have the knowledge needed to correctly identify the bug introducing commit.
also due to the high cost of such a manual analysis it is usually performed on a small sample of the identified buginducing commits.
other researchers built instead a ground truth to evaluate the performance of the szz algorithm .
however also in these cases the ground truth is produced by the researchers.
alencar da costa et al.
called for evaluations performed with domain experts e.g.
developers or testers reporting however that such an analysis is impractical since the experts would need to verify a large sample of bug introducing changes which is difficult to scale up to the size of modern defect datasets .
we present a methodology to build a developer informed oracle for the evaluation of szz implementations.
to explain its idea let us take as example commit a8a97bd from the apache thrift github project accompanied by a commit message saying thrift fix bug in comparator introduced by e58f75d .
the developer fixing the bug is explicitly documenting the commit that introduced such a bug.
based on this observation we defined a number of strict nlp based heuristics to automatically identify notes in bugfixing commits in which developers explicitly reference the commit s that introduced the fixed bug.
we applied these heuristics to a total of mined through gh archive which archives all public events on github.
our goal with the above described process is not to be exhaustive i.e.
we do not want to identify all bug fixing commits in which developers indicated the bug inducing commit s but rather to obtain a high quality dataset of commits that were certainly of the bug inducing kind.
ieee acm 43rd international conference on software engineering icse .
ieee approach name refer ence based on used by oracle type projects bug fixes b szz sliwerski etal.
ag szz kim etal.
b szz manually defined researchers dj szz williams and spacco ag szz manually defined researchers l szz r szz davies et al.
ag szz manually defined researchers ma szz dacosta et al.
ag szz automatically computed metrics ra szz neto etal.
ma szz manually defined researchers ra szz neto etal.
ra szz none manually defined researchers table i variants of the szz algorithm.
for each one we specify i the algorithm on which it is based ii