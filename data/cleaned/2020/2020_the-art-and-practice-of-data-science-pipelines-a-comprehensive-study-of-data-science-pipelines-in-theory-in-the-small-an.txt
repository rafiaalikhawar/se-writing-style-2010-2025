the art and practice of data science pipelines a comprehensive study of data science pipelines in theory in the small and in the large sumon biswas iowa state university ames ia usa sumon iastate.edumohammad wardat iowa state university ames ia usa wardat iastate.eduhridesh rajan iowa state university ames ia usa hridesh iastate.edu abstract increasinglylargernumberofsoftwaresystemstodayareincluding datasciencecomponentsfordescriptive predictive andprescriptive analytics.
the collection of data science stages from acquisition to cleaning curation to modeling and so on are referred to as data science pipelines.
to facilitate research and practice on data science pipelines it is essential to understand their nature.
what are the typical stages of a data science pipeline?
how are they connected?
dothepipelinesdifferinthetheoreticalrepresentationsandthatin the practice?
today we do not fully understand these architecturalcharacteristics of data science pipelines.
in this work we present a three pronged comprehensive study to answer this for the stateof the art datascience in the small and datascience in the large.
ourstudyanalyzesthreedatasets acollectionof71proposalsfor datasciencepipelinesandrelatedconceptsin theory acollection of over 105implementations of curated data science pipelines from kagglecompetitionstounderstanddatascience in the small and a collection of mature data science projects from github tounderstand data science in the large.
our study has led to three representationsofdatasciencepipelinesthatcapturetheessence of our subjects in theory in the small and in the large.
ccsconcepts softwareanditsengineering softwarecreationandmanagement computingmethodologies machinelearning.
keywords data science pipelines data science processes descriptive predictive acm reference format sumon biswas mohammad wardat and hridesh rajan.
.
the art and practice of data science pipelines a comprehensive study of data science pipelines in theory in the small and in the large.
in 44th international conference on software engineering icse may pittsburgh pa usa.
acm new york ny usa pages.
.
introduction data science processes also called data science stages as in stages of a pipeline for descriptive predictive and prescriptive analytics are becoming integral components of many software systems today.
this work is licensed under a creative commons attribution international .
license.
icse may pittsburgh pa usa copyright held by the owner author s .
acm isbn .
datasciencepipeline wheredatamightflowfromonestageinthepipelinetothenext.
these data science stages generally perform different tasks such asdataacquisition data preparation storage featureengineering modeling training evaluationof themachinelearning model etc.
in order to design and build software systems with data science stages effectively we must understand the structure of the data sciencepipelines.previousworkhasshownthatunderstandingthe structureandpatternsusedinexistingsystemsandliteraturecan help build better systems .
in this work we have taken the first stepto understand the structure and patterns of ds pipelines.
fortunately we have a number of instances in both the state ofthe artandpracticetodrawobservations.intheliterature there havebeenanumberofproposalstoorganizedatasciencepipelines.
we call such proposals ds pipelines in theory.
another source of information is kaggle a widely known platform for data scientists tohostandparticipateindscompetitions sharedatasets machine learning models and code.
kaggle contains a large number of data sciencepipelines butthesepipelinesaretypicallydevelopedbya single data scientist as small standalone programs.
we call such instances dspipelinesin the small.thethirdsourceofdspipelines are mature data science projects on github developed by teams suitablefor reuse.
we call such instances ds pipelines in the large.
this work presents a study of ds pipelines in theory in thesmall and in the large.
we studied different proposals for ds pipelines and related concepts from the literature.
we also studied 105instancesofdspipelinesfromkaggle.finally westudied21 matured open source data science projects from github.
for both kaggleandgithub weselectedprojectsthatmakeuseofpythontoeasecomparativeanalysis.ineachsetting weanswerthefollowing overarching questions.
representative pipeline what are the stages in ds pipeline and how frequently they appear?
organization how are the pipeline stages organized?
characteristics what are the characteristics of the pipelines in a setting and how does that compare with the others?
thisworkattemptstoinformtheterminologyandpracticefor designing ds pipeline.
we found that ds pipelines differ significantlyintermsofdetailedstructuresandpatternsamongtheory in the small andin the large.specifically anumberofstagesare absent in the small and the pipelines have a more linear structure with an emphasis on data exploration.
out of the eleven stages seen in theory only six stages are present in pipeline in the small namelydata collection data preparation modeling training evaluation and prediction.
in addition pipelines in the small do not haveclearseparationbetweenstageswhichmakesthemaintenance harder.
on the other hand the ds pipelines in the large have a ieee acm 44th international conference on software engineering icse icse may21 pittsburgh pa usa sumon biswas mohammad wardat and hridesh rajan more complex structure with feedback loops and sub pipelines.
we identified different pipeline patterns followed in specific phase development post development of the large ds projects.
the abstractionofstagesarestricterin the largehavingbothloosely and tightly coupled structure.
our investigation also suggest that ds pipeline is a well used software architecture but often built in ad hoc manner.
we demonstrated the importance of standardization and analysis framework fordspipelinefollowingthetraditionalsoftwareengineeringresearch on software architecture and design patterns .
wecontributedthreerepresentationsofdspipelinesthatcapture the essence of our subjects in theory in the small and in the large thatwouldfacilitatebuildingnewdssystems.weanticipateour results to inform design decisions made by the pipeline architects practitioners andsoftwareengineeringteams.ourresultswillalso help the ds researchers and developers to identify whether the pipeline is missing any important stage or feedback loops e.g.
storageandevaluation are missed in many pipelines .
the restof thispaper isorganized asfollows insection we present our study of ds pipelines in theory.
section describes ourstudyofdspipelinesin the small.insection wedescribe our study of ds pipelines in the large.
section discusses the implications section 6describesthethreatstothevalidity section describes related work and section concludes.
ds pipeline in theory datascience .datascience ds isabroadareathatbringstogether computational understanding inferential thinking and the knowledge of the application area.
wing argues that ds studies how to extract value out of data.
however the value of data and extraction process depends on the application and context.
ds includes a broadsetoftraditionaldisciplinessuchasdatamanagement data infrastructurebuilding data intensivealgorithmdevelopment ai machine learning and deep learning etc.
that covers both the fundamental and practical perspectives from computer science mathematics statistics and domain specific knowledge .
ds also incorporates the business organization policy and privacy issues of data and data related processes.
any ds project involves three main stages data collection and preparation analysis and modeling and finally deployment .
ds is also more than statistics or data mining since it incorporates understanding of data and itspattern developingimportantquestionsandansweringthem and communicatingresults .
data science pipeline .
the term pipelinewas introduced by garlanwith box and line diagramsandexplanatoryprosethatassist softwaredeveloperstodesignanddescribecomplexsystemssothat the software becomes intelligible .
shaw and garlan have providedthe pipes and filter designpatternthatinvolvesstageswith processingunits filters andorderedconnections pipes .they also argued that pipeline gives proper semantics and vocabulary whichhelpstodescribetheconcerns constraints relationshipbetweenthesub systems andoverallcomputationalparadigm .
bydatasciencepipeline dspipeline wearereferringtoaseriesof processing stages that interact with data usually acquisition management analysis andreasoning .thesequentialdsstages from acquisition to cleaning curation to modeling and so on arereferredtoas datasciencepipeline .adspipelinemayconsistofseveral stages and connections between them.
the stages are defined to perform particular tasks and connected to other stage s with input outputrelations .however thedefinitionsofthestages are not consistent across studies in the literature.
the terminology vary depending on the application context and focus.
different study in the literature presented ds pipeline based on their context and desiderata.
no study has been conducted to unify the notions ds pipeline and collect the concepts .
while designinganew dspipeline dividingroles inds teams definingsoftwareprocessindata intensivesetting identifying best practices in ai and modularizing ds components it is important to understand the current state of the ds pipeline its variations and different stages.
to understand the ds pipelines and compare them we collected the available pipelines from the literatureandconductedanempiricalstudytounifythestageswith theirsubtasks.then we created a representative ds pipeline with thedefinitionsofthestages.next wepresentthemethodologyand results of our analysis of ds pipelines in theory.
.
methodology .
.
collecting data science pipelines.
we searched for the studiespublished intheliteratureand popularpressthat describesds pipelines.weconsideredthestudiesthatdescribedbothend to end ds pipeline or a partial ds pipeline specific to a context.
first we searched for peer reviewed papers published in the last decade i.e.
from to .
we searched the terms data science pipeline machinelearningpipeline bigdatalifecycle deeplearningworkflow andthepermutationofthesekeywordsinieeexplore acm digital library and google scholar.
from a large pool we selected papers that fall broadly in the area of computer science software engineering and data science.
then we analyzed each article inthispooltoselecttheonesthatproposeordescribeadspipeline.
we found many papers in this collection use the terms e.g.
ml lifecycle butdonotcontainadspipeline.weselectedtheones thatcontaindspipelineandextractedthepipelines screenshot description as evidence from the article.
the extracted raw pipelines are available in the artifact accompanied by this paper .
thus we found ds pipelines that were published in the last decade.
besides peer reviewed papers by searching the keywords on web we collectedthe ds pipelines from uspatent industry blogs e.g.
microsoft googlecloud ibmblogs andpopularpresspublished between and .
after manual inspection we found ds pipelines from this grey literature.
thus we collected subjects from peer reviewed articles and from grey literature that contain ds pipeline.
we used an open coding method to analyzethese ds pipelines in theory .
.
.
labeling data science pipelines.
inthecollectedreferences ds pipeline is defined with a set of stages data acquisition data preparation modeling etc.
and connections among them.
each stageinthepipelineisdefinedforperformingaspecifictaskand connectedtootherstages.however notallthestudiesdepictds pipelines with the same set of stages and connections.
the studies usedifferentterminologiesfordefiningthestagesdependingonthe context.
to be able to compare the pipelines we had to understand the definitions and transform them into a canonical form.
for a 2092theartandpracticeof data science pipelines icse may21 pittsburgh pa usa endtraining independent labeling train the raters label one subject discussion meeting reconciling disagreements finished traininglabel next pipeline perfect agreement independent re labelingno yesfinishedyes no reconcile all disagreements no yes figure labeling method for ds pipelines in theory given ds pipeline identifying their stages and mapping them to a canonical form is often challenging.
the sub tasks overall goal of the project utilities affect the understanding of the pipeline stages.
to counter these challenges we used an open coding method to label the stages of the pipelines.
two authors labeled the collected ds pipelines into different criteria.
each author read the article understood the pipeline identified the stages and labeled them.
in each iteration the raters labeled of the subjects pipelines .
the first subjects were usedfortrainingandformingtheinitiallabels.aftereachiteration wecalculatedthecohen skappacoefficient identifiedthemismatches andresolvedtheminthepresenceofamoderator who isanotherauthor.thus wefoundtherepresentativedspipeline afterrigorousdiscussionsamongtheratersandthemoderator.the methodologyofthisopen codingprocedureisshowninfigure1.
theentirelabelingprocesswasdividedintotwophases training and independent labeling.
training thetworatersweretrainedonthegoalofthisproject andtheirroles.werandomlyselectedeightsubjectsfortraining.
first the raters and the moderator had discussions on three subjectsandidentifiedthestagesintheirdspipeline.thus weformed the commonlyoccurred stages and their definitions whichwere updatedthroughtheentirelabelingandreconciliationprocesslater.
aftertheinitialdiscussionandtraining theratersweregiven the already created definitions of the stages and one pipeline from the remainingfivefortraining.theraterslabeledthispipelineindependently.afterlabelingthepipeline wecalculatedtheagreementand conductedadiscussionsessionamongtheratersandthemoderator.
inthissession wereconciledthedisagreementsandupdatedthe labels with the definitions.
we continued the training session until wegotperfectagreementindependently.theinter rateragreement wascalculatedusingcohen skappacoefficient .ahigher indicatesabetteragreement.theinterpretationofof isshown in figure 2a.
in the discussion meetings the raters discussed each label both agreed and disagreed ones with the other rater and moderator arguedforthedisagreedonesandreconciledthem.in this way we came up with most of the stages and a representative terminologyforeach stage includingthe sub tasks.
independentlabeling aftercompletingthetrainingsession the rest of the subjects were labeled independently by the raters.
the raters labeled the remaining labels subjects in each of the iterations.
the distribution of after each independentrange agreement level .
.
slightagreement .
.
fairagreement .
.
moderate agreement .
.
substantialagreement .
.
perfect agreement a interpretation of kappa iteration iteration .
.
.
.
.
.
.
.
.
.
b agreement in different stages figure labeling agreement calculation labeling iteration is shown in figure 2b.
in each iteration first the raters hadthe labeling session and then the raters and moderator had the reconciliation session.
labeling.
the raters labeled separately so that their labels were private andtheydidnotdiscusswhilelabeling.theratersidentified the stages and connections between them and finally labeled whether the ds pipeline involves processes related to cyber physicalorhumancomponentinit.inindependentlabeling wefound almost perfect agreement .
on average.
even after high agreement there were very few disagreements in the labels which were reconciled after each iteration.
reconciling.
reconciliation happened for each label for the subject studies in the training session and the disagreed labels for the studies in independent labeling session.
in training session the reconciliationwasdoneindiscussionmeetingsamongtheraters and the moderator whereas for the independent labels reconciliationwasdonebythemoderatorafterseparatemeetingswiththe two raters.
for reconciliation the raters described their arguments for the mislabeled stages.
fora few cases we had straightforward solution to go for one label.
for others both the raters had good arguments for their labels and we had to decide on that label by updating the stages in the definition of the pipeline.
all the labeled pipelinesfrom the subjects are shared in our paper artifact .
furthermore after finishing labeling the pipelines stages we also classified the subject