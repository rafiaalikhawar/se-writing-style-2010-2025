statfier automated testing of static analyzers via semantic preserving program transformations huaien zhang southern university of science and technology shenzhen the hong kong polytechnic university hong kong china cshezhang comp.polyu.edu.hkyu pei the hong kong polytechnic university hong kong china csypei comp.polyu.edu.hk junjie chen college of intelligence and computing tianjin university tianjin china junjiechen tju.edu.cnshin hwei tan concordia university montreal canda shinhwei.tan concordia.ca abstract static analyzers reason about the behaviors of programs without executing them and report issues when they violate pre defined desirable properties.
one of the key limitations of static analyzers is their tendency to produce inaccurate and incomplete analysis results i.e.
they often generate too many spurious warnings and miss important issues.
to help enhance the reliability of a static analyzer developers usually manually write tests involving input programs and the corresponding expected analysis results for the analyzers.
meanwhile a static analyzer often includes example programs in its documentation to demonstrate the desirable properties and or their violations.
our key insight is that we can reuse programs extracted either from the official test suite or documentation and apply semantic preserving transformations to them to generate variants.
we studied the quality of input programs from these two sources and found that most rules in static analyzers are covered by at least one input program implying the potential of using these programs as the basis for test generation.
we present statfier a heuristic based automated testing approach for static analyzers that generates program variants via semantic preserving transformations and detects inconsistencies between the original program and variants indicate inaccurate analysis results in the static analyzer .
to select variants that are more likely to reveal new bugs statfier uses two key heuristics analysis report guided location selection that uses program locations in the reports produced by static analyzers to perform transformations and structure diversity driven variant selection that chooses variants with different program contexts and diverse types of transformations.
our experiments with five popular static analyzers show that statfier can find bugs in these analyzers of which have been confirmed.
corresponding author permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than the author s must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
esec fse december san francisco ca usa copyright held by the owner author s .
publication rights licensed to acm.
acm isbn .
.
.
.
concepts software and its engineering software reliability .
keywords software testing rule based static analysis program transformation acm reference format huaien zhang yu pei junjie chen and shin hwei tan.
.
statfier automated testing of static analyzers via semantic preserving program transformations.
in proceedings of the 31st acm joint european software engineering conference and symposium on the foundations of software engineering esec fse december san francisco ca usa.
acm new york ny usa pages.
introduction static analyzers check the behaviors of programs without executing them to learn about their properties.
when a program s behavior violates a desirable property a static analyzer produces a warning or reports an issue against the violation.
since they do not need to run the programs under analysis static analyzers are highly applicable in various situations and have been widely used to ensure the standard compliance performance reliability etc.
of programs in various stages of their development processes.
as with other types of software systems testing has been an indispensable way to help developers ensure that a static analyzer correctly implements its functionalities i.e.
performs its analyses as expected .
for example the developers of pmd a popular static analyzer that detects performance and code style issues in programs manually crafted programs as the input to verify the tool s behavior via testing.
as manually writing tests for static analyzers is tedious and expensive various approaches have been developed in the past few years to automatically test static analyzers as black box systems .
for instance prior work relies on feeding the same manually written input program to a pair of static analyzers implementing similar rules to detect inconsistencies between them.
although existing approaches have helped developers detect various bugs in analyzers the bug detection capacities of manually written or randomly generated input programs are insufficient because the number of viable ways to implement certain functionalities by combining different language constructs is typically huge while the number of those combinations covered by the test programs of these approaches is often small.
esec fse december san francisco ca usa huaien zhang yu pei junjie chen and shin hwei tan we identify two challenges in the automated testing of static analyzers.
the first challenge c1 has to do with the unavailability of automated test oracles i.e.
given execution of a static analyzer it is not always possible to automatically determine whether the produced reports are correct or not .
the test oracle problem is universal to the automated testing of many different types of systems and a popular technique to partially address the problem is differential testing which essentially utilizes the behaviors of similar applications or different implementations of the same application as cross