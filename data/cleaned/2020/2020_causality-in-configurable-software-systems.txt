causality in configurable software systems clemens dubslaff clemens.dubslaff tu dresden.de centre for tactile internet with human in the loop ceti technische universit t dresden dresden germanykallistos weis kallistos cs.uni saarland.de saarland university saarland informatics campus saarbr cken germany christel baier christel.baier tu dresden.de technische universit t dresden dresden germanysven apel apel cs.uni saarland.de saarland university saarland informatics campus saarbr cken germany abstract detecting and understanding reasons for defects and inadvertent behavior in software is challenging due to their increasing complexity.
in configurable software systems the combinatorics that arises from the multitude of features a user might select from adds a further layer of complexity.
we introduce the notion of feature causality which is based on counterfactualreasoning and inspired by the seminal definition of actual causality by halpern and pearl.
featurecausalityoperatesatthelevelofsystemconfigurationsand is capable of identifying features and their interactions that are the reason for emerging functional and non functional properties.
we present various methods to explicate these reasons in particular well established notions of responsibility andblamethat we extendtothefeature orientedsetting.establishingacloseconnection of feature causality to prime implicants we provide algorithmsto effectively compute feature causes and causal explications.
by means of an evaluation on a wide range of configurable software systems includingcommunitybenchmarksandreal worldsystems we demonstrate the feasibility of our approach we illustrate how our notion of causality facilitates to identify root causes estimate the effects of features and detect feature interactions.
acm reference format clemensdubslaff kallistosweis christelbaier andsvenapel.
.causality in configurable software systems.
in 44thinternationalconferenceon software engineering icse may pittsburgh pa usa.
acm new york ny usa pages.
introduction configurablesoftwaresystemsofferawidevarietyofconfiguration options that control the activation of features desired by the user and that influence critical functional and non functional properties such as performance.
the often huge configuration spaces render permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may pittsburgh pa usa association for computing machinery.
acm isbn ... .
detection prediction and explanation of defects and inadvertentbehaviorchallengingtasks.whiletherearespecificallytailored analysis methods to tackle this challenge research on their explainability is still in its infancy .
the potentially exponential number of system configurations and corresponding analysis results bug reports or other feature dependent properties demand techniques for a meaningful and feasible interpretation.
in this paper we present a set of fundamental concepts and methods to identify and interpret properties of configurable systemsattheleveloffeatures bycausalreasoning.
we introduce the notion of feature causes as feature selections that are the reason for emergent system behaviors.
our notion of feature causality is inspired by the seminal counterfactual definition of actualcausalityby halpern and pearl .
relevant analysis and reasoning tasksthatweaddressincludetodeterminefeaturesthatcauseabug the degree to which some configurations are responsible for bad system performance or which features necessarily have to interact for inadvertent behavior.
since features correspond to system functionalities specified by software engineers they often have a dedicated meaning in the target application domain .
to this end defects and other behaviors of interest detected at the level of features can provide important insights for the resolution of variabilitybugs andconfiguration dependent behavior .
as such they are certainly more informative and actionable than low level programtracesalone.developersmaychoosetofocusonthosefeature implementations identified as root causes of bugs or simply disallow or coordinate the activation of certain features when defects are related to them.
our presented techniques are generic in the sense that they are neither language architecture nor environment specific and applicablewithinanyeffectivemethodtoanalyzeortestvariabilityaware properties.
to this end causal reasoning on both variabilityaware white box and black box analyses is supported.
this complements existing causal reasoning techniques for the detection of root causes approaches such as delta debugging causal testing or causal trace analysis require a white box analysis that operates at the level of code and are not variability aware.
hence theyusuallywouldhavetobeappliedonamultitudeofsys temconfigurationsforavariability awarecausalanalysis suffering from a combinatorial blowup.
we envision applications of feature causality at those development phases where analysis methods are ieee acm 44th international conference on software engineering icse authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
used for instance in software product line engineering.
also in production level deployments our techniques shall be useful to optimize software through causally relevant configurations.
evaluation.
we present algorithms to compute feature causes represent and interpret them by means of concise logic formu las feature interactions and responsibility andblame .
our prototypical implementation relies on binary decision diagrams bdds and the computation of prime implicants using the defacto standard two level logic minimizer espresso .
by means ofananalysisofseveralconfigurablesystems includingcommunity benchmarks and real world systems we investigate feature causes and their properties.
we demonstrate that our notion of featurecauses and methods to represent them help to pinpoint features relevantfortheconfigurablesystem spropertiesandillustratehow feature interactions can be detected and quantified.
contributions.
in summary our contributions are we introduce the notion of feature causality inspired by the well establishedcounterfactualdefinitionofactualcausalityby halpern and pearl .
we show that feature causes coincide with certain prime implicants leading to an algorithm to compute all feature causes.
weprovidemethodstointerpretandrepresentfeaturecausesby propositional formulas responsibility and blame and potential feature interactions.
we offer a bdd based prototype to compute and represent feature causes and feature interactions.
we conduct several experiments illustrating how to determine and reason about feature causes in different realistic settings.
supplement.
proofs of the theoretical statements are included in .
the source code of our implementation and raw data to reproduce our experiments are publicly available .
background in this section we revisit basic concepts and notions from logics and configurable systems used throughout the paper.
interpretations.
apartialinterpretation over a set xis a partial mapping x true false .wedenoteby supp thesupport of i.e.
thesetofallelements x xwhere x isdefined.wesay that is atotal interpretation ifsupp xand denote by x and x the set of partial and total interpretations respectively.
given a partial interpretation x we define its semantics llbracket rrbracket x as the set of all total interpretations x where for allx supp we have x x .
we say that x covers prime x if llbracket prime rrbracket llbracket rrbracket.
for a set of partial interpretations p x wedefine llbracketp rrbracket uniontext.
p llbracket rrbracket.thex expansion ofapartial interpretation x is the partial interpretation x x wheresupp x supp x and where x y y for all y supp x .
for a set of total interpretations t x a n implicant oftis a partial interpretation x where llbracket rrbracket t. we call aprime implicant if is minimal i.e.
llbracket x rrbracket notsubseteqltfor all x supp .
propositional logics.
apropositional logic formula over a set xis an expression defined by the grammar true false x email system sign encryption caesar aes rsa figure feature diagram for the email system example wherexranges over x. thelength of a formula is recursively definedby true false x and 0 1 0 1 0 1 .forapartialinterpretation x w e write if either true x supp and x true and not 0 1and 0and 1 and 0 1and 0or 1. the semantics of is the set of all satisfying total interpretations llbracket rrbracket x .
configurablesystems.
a widely adopted concept to model configurable systems is by means of features .featuresencapsulate optional or incremental units of functionality and are used to describe commonalities and variabilities of whole families of systems.
at an abstract level we fix a set fof boolean configuration options where each element corresponds to some featureof the system.
we call a total interpretation f overfa configuration which we usually describe by listing the selectedfeatures i.e.
the features x fwhere x true.
the set of valid configurations v f comprises those configurations for whichthereexistsacorrespondingsystemimplementation usually specified by a feature diagram .
a partial interpretation over f is calledpartial configuration.
example2.
.
as the running example consider a simple email systemoverfeatures f m s e c a r formalizingthebasee mail system functionality optional features for signing and encryption and encryption methods caesar aes andrsa.
for the encryption features weassumethatexactlyonecanbeselected.thedescribed variability constraints for the email system are specified in the feature diagram shown in figure leading to valid configurations v m mec mea mer ms msec msea mser .
feature causality the notion of causality has been extensively studied in philosophy social sciences and artificial intelligence .
we focus onactual causality describing binary causal relationships between cause events cand effect events e. halpern and pearl formalized actual causality based on the concept of counterfactualdependencies using a structural equation approach .
the idea of counterfactual reasoning relies on the assumption that e would not have happened if chad not happened before which corresponds to the standard but for test used in law.
in this section we take inspiration of the definition by halpern and pearl to establish a notion of causality at the level of features.
here we interpret the selection of features as events consideredforactualcausality.thebasicreasoningtaskweaddressthenamountsto determinethosefeatureselectionsthatcauseagiven authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
causality in configurable software systems icse may pittsburgh pa usa f e v ev llbracket rrbracket llbracket rrbracket figure configuration sets for feature causality effect property.
examples for effect properties are the execution time is longer than five minutes or the system crashes .
we assume to have described the effect properties as effect set e vof valid configurations for which an effect property can be observed.
elements of eare called effectinstances.
all other valid configurationsin v eareassumednottoexhibittheeffect.feature selections are naturally specified by partial configurations.
clearly apartialconfiguration canonlybeacauseoftheeffectif ensures the effect to emerge i.e.
all valid configurations covered by are effect instances.
furthermore following counterfactual reasoning we require for being a cause that if we would select features of differently there might be a configuration for which the effect does not emerge.
these two intuitive conditions on causality are reflected in our formal definition of causes of ew.r.t.v definition .
.
afeature cause of an effect ew.r.t.
valid configurationsvis a partial configuration f where fc1 llbracket rrbracket v e and fc2 llbracket x rrbracket v notsubseteqlefor allx supp .
we denote by causes e v the set of all causes for ew.r.t.v.
in casefc1holds for a partial configuration we say that issufficient forew.r.t.v .
the counterfactual nature of fc2 ensures that for every feature cause andx supp there is a counterfactualwitness llbracket x rrbracket v e .
that is a valid feature configurationwheretheeffectdoesnotemergebutwherechanging one feature selection may yield an effect instance.
note that fc2 ensures minimality of the feature cause w.r.t.
its support i.e.
droppingconditionsoninterpretationsoffeaturesnecessarilyleadstoa partial configuration that is not sufficient for the effect anymore.
in the formal definition of halpern and pearl causality counterfactuality and minimality are stated in two distinct conditions.
we usually denote configurations in eby counterfactual witnesses in v eby and feature causes by .
figure depicts the relation between valid configurations effects causes and counterfactual witnesses.
example .
.
let us continue our running example of the configurable email system introduced in example .
.
we consider an effect property reflecting long decipher time e.g.
that it takes in averagemorethanthreemonthsforanattackertodecryptanemail.
assume that this effect property can be observed by configurations in which aes or rsa are selected i.e.
e mea mer msea mser .
conversely inallvalidconfigurationsinwhichaesandrsaarenot selected the effect does not emerge.
in this setting the encryption featuresaesandrsaarebothcausessinceallvalidconfigurations with either feature show the effect.
considered in isolation aes and rsa are not necessary for the effect as one can choose the other encryption feature rsa or aes respectively to ensure the effect.thesignfeaturedoesnottriggertheeffectandisnotacause.
interestingly afurthercauseisgivenbyselectingtheencryption feature and explicitly deselecting the caesar feature illustratingthat also explicitly not selecting features might be a cause of some effect.
this hints at the fact that causes can be represented in different ways addressed later in the paper.
formalizing this intuition we check whether the three partial configurations a r and e cgiven by i supp a a with a a true ii supp r r with r r true and iii supp e c e c with e c e trueand e c c false are indeed feature causes of ew.r.t.vaccording to definition .
first notethat llbracket e c rrbracket v llbracket a rrbracket llbracket r rrbracket v eandboth llbracket a rrbracket v and llbracket r rrbracket v are non empty.
hence fc1is fulfilled for e c a and r.tocheck fc2 weobservethat llbracket a a rrbracket llbracket r r rrbracket f and llbracket e c e rrbracket v e m ms and llbracket e c c rrbracket v e mec msec .
hence mis a counterfactual witness for a r and e cw.r.t.a r ande respectively while meccan serve as such for e candc.i ti s easy to check that there are no further feature causes since for all otherpartialconfigurationssufficientfor ew.r.t.v fc1 thereare expansions towards a r o r e c thus violating fc2 .
.
effect properties and sets ourdefinitionoffeaturecausalityreliesonagiveneffectset which is assumed to comprise all those valid configurations where the effectpropertyholds.wenowelaboratemoreonhowtoobtaineffect sets from analyzing configurable systems.
in fact our generic definition supports a multitude of effect properties for which the only assumptionisthatthereisaneffectivemethodtodetermineallconfigurations in which the effect property holds.
such methods also include variability aware white box analyses where the sourcecodeoroperationalbehaviorofsystemvariantsisaccessible aswellasblack boxanalysesrelyingontestingorsampling .
inthefollowingparagraphs weexemplifyhowtoobtaineffectsets from analysis results.
our discussions reflect the effect properties in the experimental evaluation section see section and do not claim to be exhaustive.
functionalproperties.
to reason about causality w.r.t.
functional properties the effect set can be determined by variability awarestatic analysis or model checking .
in the latter case effect properties can be formalized e.g.
in a temporal logic suchasltl orctl .modelcheckingconfigurablesystems againstltlandctlpropertieshasbroadtoolsupport .
given a formula that specifies the effect property these tools explicitly return the effect set e v ofvalidconfigurations vwhosecorrespondingsystemvariants satisfy .
since model checking is based on an exhaustive analysis an analysis also exposes those valid configurations for which the effect property does not hold.
the same is possible for variabilityaware static analysis .
non functionalproperties.
besides functional properties also non functional properties of configurable systems can serve aseffect property and give rise to an effect set.
let v rbe a functionthatresultsfromaquantitativeanalysisoftheconfigurable system in question.
values for a valid configuration v authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa clemens dubslaff kallistos weis christel baier and sven apel may stand for the performance achieved the probability of failure or the energy consumed in the system variant that corresponds to .
to obtain for real world systems siegmund et al.
p r e sented a black box method to generate linear equation models for performance measures by multivariable linear regression on sampledconfigurations.otherblack boxapproachesrelyonregression trees fourier learning or probabilistic programming .
related white box approaches use insights of local measurements and taint analysis information or profiling information .
variability aware probabilistic model checking pursues a whitebox analysis approach on state based operational models where effect properties are specified in quantitative variants of temporal logic .
these approaches have been implemented in the tools profeat and qflan .
given that results from one of the analysis approaches mentioned above an effect set can be specified by imposing a threshold rcombined with a comparison relation towards e v .
example3.
.
in example .
we informally specified the effect of a long decipher time as taking more than three months to decrypt an email without having the encryption key available.
by a variability aware quantitative analysis on the email system we may obtain a function that for a configuration returns the minimal time in years to decipher an email sent with the system variant corresponding to .
analysis results could be e.g.
with no encryption 7with caesar with aes and with rsa selected in respectively.
then e .
provides the effect set eof example .
.
on computing effect sets.
the effect set and the set of valid configurations can be of exponential size in the number of features.
an efficient computation of these sets depends on the analysis techniques used and are independent from our causal framework.
however specificallytailoredvariability awareanalysistechniquescantackletheexponentialblowup e.g.
throughsymbolicrepresentation of family models .
.
computation of feature causes for a given effect set eand a set of valid configurations valong with a partial configuration definition .
directly provides a polynomial timealgorithmtodecidewhether isacauseof ew.r.t.
vby checking fc1andfc2.
from this we obtain a simple approach to compute the set causes e v by successively checking expansions for sets of features applied on elements in eas candidates for causes.
since there might be exponentially many such expansions this approach easily renders infeasible already within a small number of features.
in this section we present a practical algorithm to compute the set of causes which relies on a connection of definition .
to the notion of prime implicants see section lemma .
.
for any partial configuration f llbracket rrbracket v e iff llbracket rrbracket parenleftbig f v parenrightbig e. following this lemma every cause of ew.r.t.vis also an implicant of parenleftbig f v parenrightbig edue tofc1and even a prime implicant due tofc2.
conversely every prime implicant of parenleftbig f v parenrightbig eforalgorithm computation of feature causes input e v f output causes e v 1ife then return 2p compute primes parenleftbig f v e parenrightbig 3forall pwhere llbracket rrbracket e dop p 4returnp which llbracket rrbracket e is a cause due to fc1.
this directly suggests an algorithmtocomputecausesviaprimeimplicants algorithm1first generates prime implicants as cause candidates and then removes those candidates that are not sufficient for ew.r.t.v.
figure reflects this situation where and are prime implicants with being a cause and not at least one effect instance is covered by while this is not the case for and hence would be removed by algorithm .
prime implicants of a set of configurations canbe computed in polynomial time in the size of the input set which directly leads to theorem .
.
given valid configurations v f and effect sete v algorithm1computes causes e v thesetoffeature causes for ew.r.t.v in polynomial time in f .
note that the set of valid configurations and the effect set can be both exponential in the number of features and there might be exponentiallymanyprimeimplicants intheworstcase.hence algorithm is exponential in the number of features.
example .
.
let us illustrate the computation of feature causes of example .
by algorithm .
first notice that parenleftbig f v parenrightbig e f m mec ms msec comprising60featureconfigurations.theprimeimplicantsforthis set are computed in line which yields p m a r e c ec .
here we used notations as in example .
e.g.
supp ec e c ec e false and ec c true.
clearly all configurations covered by mor ecare not valid and hence also no effects.
thus theyareremovedinline3 leadingto causes e v a r e c .
causal explications since the number of feature causes can be exponential in the number of features a mere listing of all causes is neither feasible norexpedient for real world software systems.
this holds for both humans that have to evaluate causal relationships in configurable systems e.g.
during software development and machines that might use feature causes for further processing and reasoning.
in this section we present and discuss several methods to computecausalexplications i.e.
mathematical or computational constructs that arise from processing feature causes to provide useful causalrepresentationsandmeasures .explicationsarecloselyrelatedtoexplanations bywhichwemeanhuman understandableobjectsemployedwithinanintegratedsystem e.g.
infeature oriented software development or in production level deployments.
ourmethodsforcomputingexplicationsrelyontechniquesfrom propositional logic and circuit optimization responsibility authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
causality in configurable software systems icse may pittsburgh pa usa andblame andfeatureinteractions .theyalltakeaglobal perspective on sets of feature causes rather than only considering single feature causes in isolation.
in the following we fix sets of valid configurations v f and effects e v. .
distributive law simplification a rather natural explication for a set of causes c causes e v is to represent cas propositional logic formula e.g.
as the characteristic formula c defined in disjunctive normal form dnf c logicalordisplay.
c parenleftbig logicalanddisplay.
x supp x truex logicalanddisplay.
x supp x false x parenrightbig.
clearly c has the same size as cand its representation does not exhibit any advantage compared to c. methods to minimize propositional logic formulas could be used to yield smallformulas coveringthesameconfigurationsas c i.e.
where llbracket rrbracket llbracketc rrbracket.
while beneficial for related problems in configurable systems analysis e.g.
for presence condition simplification such methods vanish causal information i.e.
the set of causes c cannot be reconstructed from the reduced formula .
to provide a small formula that maintains the causal information of c we use a simple yet effective reduction method which we call distributive law simplification dls .
the basic idea is to factorize common feature selections in a dnf formula step by step exploiting the n ary distributive law llbracket logicalortext.1n i i rrbracket llbracket logicalortext.1ni 1 i rrbracket.
each factorization leads to a length reduction of n where is the length of the propositional formula factored out.
obviously these transformations are reversible such that the original dnf c and hence the set of causes ccan be reconstructed.
the final formulalengthdependsontheformulasfactoredout thesubformulas and the factorization order.
determining a formula through dls that has minimal size is close to global optimization problems for propositional logic formulas and thus computationally hard.
for practical applications we hence employ a heuristics that reduces a givenformula indnfbystepwisefactoringoutliteralsthathave maximal number of occurrences in dnf subformulas.
we denote the reduced formula obtained by this heuristics by dls .
.
cause effect covers the complete set of causes may contain several candidates to describe reasons for the effect emerging in a single system variant.
if not interested in all causes but in a set of causes that covers all effects i.e.
that contains at least one cause for every system variant we might ask for a preferably small covering set.
formally a cause effectcover ofeis a setc causes e v wheree llbracketc rrbracket.
we say that such a cover cisminimal if there is no cause effect coverc primeofewhere c prime c .
example4.
.
fortheemailsysteminexample3.2wedirectlysee that e c and a r are the only cause effect covers of e. thus e c is a minimal cause effect cover of eas a r e c .
determining minimal cause effect covers is computationally hard for the same reasons as for minimal prime cover computation .
hence for practical applicability heuristics that lead to nearly minimal cause effect covers are of interest.definition4.
.
thebinaryrelation triangleleftequal f f where triangleleftequal prime stands for primeto beat least as general as w.r.t.e is defined by triangleleftequal primeiff llbracket rrbracket e llbracket prime rrbracket e. the set of most general causes mcauses e v comprises those causes for ew.r.t.vthat are triangleleftequal maximal in causes e v .
from the above definition we directly establish an algorithm to compute mcauses e v by computing triangleleftequaloncauses e v in quadratic time and selecting elements maximal w.r.t.
triangleleftequal.
while mcauses e v already provides a cause effect cover of e there might be different most general causes that cover the same set of effect instances.
towards nearly minimal cause effect covers we thus might pick one of those candidates with minimal support to obtain an even further concise representation.
.
responsibility and blame tomeasuretheinfluenceofcausesoneffects chocklerandhalpern introduced degrees of responsibility andblame ranging from zero to one for no to full responsibility and blame respectively.
responsibility measures how relevant a single cause is for an effect in a specific context.
blamedenotes the expected overall responsibility according to a given probability distribution on all contexts where the effect emerges.
we take inspiration from these measures and present corresponding notions for feature causality.
in short the degree of responsibility is the maximal share of features contributing to the effect i.e.
features that would have to be reconfigured to provide a counterfactual witness.
example .
.
we rephrase the majority example by chockler and halpern in our setting.
consider eleven features whose configurationsare allvalid.
we areinterestedin responsibilitiesfor theeffectthatthemajorityoffeaturesisactive.ifallelevenfeaturesareactive eachfeaturehasaresponsibilityof1 sincesixfeatures sharetheresponsibilityfortheeffect besidesthefeatureofinterest further five features have to be reconfigured towards a majority of inactive features.
in a configuration where six features are active and five not each of the six active ones is fully responsible for the effect if this feature would be reconfigured more features would beinactivethanactive.wethenassignresponsibilityofonetoeach of the six active features.
inwhatfollows weformalizedegreesofresponsibilityandblame for single features as in the example above.
an extension of this notion to partial configurations to explicate feature interactions is provided in section .
.
feature responsibility.
intuitively the degree of responsibility of a single feature x fis defined as the maximal share to contribute to causing the effect in an effect instance e. in the case that x does not appear in the support of any cause covering feature xdoes not contribute to causing the effect in and thus has no responsibility.
otherwise xshares its responsibility with at least a minimal number of other features whose switch of its interpretation in would lead to a counterfactual witness i.e.
v e. we formalize such switches in configurations by a function switch f f f whereforany y fand f wehave switch y y y ify yandswitch y y y otherwise.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa clemens dubslaff kallistos weis christel baier and sven apel definition .
.
thedegree of responsibility of a feature x f in the context efor which there is causes e v with llbracket rrbracketandx supp is defined as resp x min y y f x y switch y v e and asresp x otherwise.
note that due to fc2there exists at least one counterfactual witness in the case xappears in a cause covering and hence the denominator of the above fraction is finite and greater than zero.
example4.
.
continuing the email example see example .
themailfeature mandsignfeature sdonothaveanyresponsibility foralongdeciphertimeinanyconfigurationastheydonotappear in any of the causes a r and e c. also the aes feature ahas no responsibility in configurations merormers since the only covering causes are e cand r not containing ain their support.
besides the analogous case for the rsa feature r other degrees of responsibility are switching a feature xin usually requires one further feature to switch towards a configuration of v e. for example selecting the caesar feature cin mearequires also to deselect the aes feature a leading to mec v e. blame.degreesofresponsibilityarelocallydefinedw.r.t.acontext whileoneissurelyalsointerestedinaglobalmeasureofresponsibilityofafeatureorpartialconfigurationw.r.t.allpossiblecontexts i.e.
effectconfigurations.the degreeofblame isdefinedastheexpected degreeofresponsibilityonaprobabilitydistribution v over valid configurations v i.e.
where summationtext.
v .
definition .
.
thedegree of blame of a feature x fw.r.t.
a distribution overvis defined as blame x summationdisplay.
e resp x .
example4.
.
to illustrate the degree of blame continue example .
where we assume a uniform distribution over effect configurations i.e.
e for all eand otherwise.
then blame x summationtext.
eresp x and thus blame x is forx e c forx a r and for x m s .
on the choice ofblame distributions.
the distribution models the frequency of valid configurations to occur for which there are several scenarios that lead to a reasonable definition of .
one natural distribution may model the frequency of users choosing a configuration in the configurable system.
but also the frequencyof effect configurations is useful e.g.
to model the frequency a certain bug is reported by users when the effect corresponds to thepropertyofamalfunction.inthecasesuchstatisticsarenotathand or one is interested in the degree of blame from a developer s perspective uniform distributions over valid configurations or effects are canonical candidates for .
.
feature interactions a notorious problem in configurable systems is the presence of inadvertent feature interactions which describe system behaviors that emerge due to a combination of multiple featuresnot easily deducible from the features individual behaviors.
thedetection isolation and resolution of feature interactions play acentral role in the development of configurable systems and beyond .
we now show how our black box causal analysis at the level of features see section .
can be used for the detection and isolation of feature interactions.
these can provide the basis for fine grained white box feature interaction resolution as done by garvin and cohen .
detection.
the first problem we address is to detect the necessity of feature interactions for an effect to emerge.
garvin and cohen presented a formal definition of featureinteractionfaults to capture faults in configurable systems that necessarily arise from the interplaybetweenmultiplefeatures .notably theircharacterization is also at the abstraction level of features and relies on black boxtesting of faults similar to our perspective on effects.
we trans fer their definition to our setting but covering arbitrary effects instead of faults only.
recall that a partial configuration f issufficient forew.r.t.vif llbracket rrbracket v e seefc1 .
definition .
.
a partial configuration f is at way interaction witness forew.r.t.vif fi1 sufficient for ew.r.t.vwith supp tand fi2 there is no sufficient for ew.r.t.vwith supp t .
basically there is a one to one correspondence between interaction witnesses and feature causes with minimal support theorem .
.
for any partial configuration f witht supp we have that if is at way interaction witness for ew.r.t.v then causes e v and if causes e v and there is no causes e v with supp t then isat wayinteractionwitnessfor ew.r.t.v.
tothisend algorithm1 incombinationwithaprojectiontofeature causes with minimal support can be used to decide whether the effect emerges necessarily from feature interactions a nec essary feature interaction takes place in the case these minimal feature causes all have a support involving at least two features.
example4.
.
returning to example .
there are exactly two causes that are both way interaction witnesses aand r. the cause e cdoes not witness a necessary way feature interaction since although having support size of two aand rhave support size one cf.
theorem .
.
hence the effect describing long decipher time is not necessarily related to a feature interaction.
isolation.
the second problem we address is to pinpoint features responsible for feature interactions.
for this observe that definition .
is similar to definition .
but with a different notion of minimality while fi2ensures global minimality over all partial configurations fc2ensures local minimality through expansions takingtheindividualselectionoffeaturesintoaccount.topinpoint those features that actually interact towards the effect feature causes can be interpreted as a form of interactionwitnesses at the local level instead of the global perspective taken for t way interaction witnesses switching some feature a cause does not ensure theeffecttoemergeanymore hence theswitchedfeatureisnecessaryfortheeffect.forinstance inexample4.
theinteractionbetween encryption and caesar being disabled is witnessed by the feature authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
causality in configurable software systems icse may pittsburgh pa usa cause e c. feature causes thus also provide a criterion for feature interactionsattheoperationallevelandcanbeusedtoguideamore in depth white box feature interaction analysis possibly reducing the naive exponentially sized feature interaction search space.
feature interaction responsibility and blame.
any subset of thesupportsoffeaturecausesthatcontainsmorethantwofeatures provides candidates for an actual interaction between the features contained.
since both the number of feature causes and their expansions can be exponential in the number of features feature interactions isolated via a causal analysis might still be difficult to interpret by developers.
based on the degree of responsibility for single features we now provide a variant to measure responsibility andblameoffeatureinteractions wherehighvaluesindicatestrong relevance of the interaction and low values weak relevance.
definition .
.
thedegree of responsibility of a partial configuration f in the context efor which there is causes e v with llbracket rrbracketandsupp supp and x x for allx supp is defined as resp min y y f supp y switch y v e and asresp otherwise.
note that for x x andsupp x definition .
agrees with definition .
.
the degree of responsibility is non zero in the case of a single feature if the feature appears in some cause whereasthedegreeoffeatureinteractionresponsibilityisnon zero if some cause is an expansion of the potential feature interaction.
feature interaction blame is defined as in definition .
but withreplacing the single feature x fby the partial configuration f standing for the potential feature interaction of interest.
experiment setup to evaluate our causal analysis and explication algorithms we conducted a number of experiments comprising many analyses on community benchmarks and real world examples from the area of configurable software systems.
.
research questions ourevaluationisdrivenbyfourresearchquestionsthataddressthe key issue of whether and how the notion of feature causality facilitates identifying root causes estimating the effects of features and detecting feature interactions in controlled and practical settings.
rq1 can feature causes be effectively computed in real world settings and support the detection of reasons for different effects of interest?
rq2 dodlsrepresentation cause effectcovers andresponsibility and blame degrees provide concise causal explications?
rq3 is feature causality beneficial for guiding the configuration of systems under variability aware constraints?
rq4 canfeatureinteractionsandconfiguration dependentanomalies be detected and isolated based on feature causality?
.
implementation we implemented our algorithms to compute feature causes and explicationsintheprototypicaltoolfeatcause.writteninpython our tool relies on the engines for logical expressions and binary decisiondiagrams bdds of pyeda alibraryforelectronicdesign automation .
the tool takes the sets of valid feature configurationsvand effects eas input.
featcause supports different input formats for these sets e.g.
by boolean expressions in dnf or cnf.
internally sets of partial feature configurations are efficiently representedasreducedorderedbdds .inadditiontotheircompact and hence space efficient representation we chose bdds because they provide an efficient method to check satisfiability required e.g.
for line in algorithm .
we first implemented a naive al gorithm directly checking the conditions fc 1andfc2 but even for small examples we easily ran into timeouts.
hence we devised algorithm which uses prime implicants to efficiently determine feature causes cf.
section .
to compute prime implicants we used the tool espresso well known from circuit optimization through an interface that mediates between our bdd represen tations and the dnf representations in espresso s pla format.
this interface is also used to provide minimal and nearly minimal cause effect covers through espresso signature and espresso respectively whichcanthenbecomparedwithourheuristiccause effectcoverbymostgeneralcauses seesection4.
.whileitiswell known that the length of dnfs can be exponential in the size of thebddrepresentingthesamebooleanfunction generatingdnfs from our bdd representations did not face any significant blowup andrequirednegligibletimeinallourexperiments.besidesthecore tool we have implemented several conversion scripts to generate valid feature configuration sets from tvl and effect sets from analysis results returned by variability aware analysis tools such asprovelines andprofeat seealsosection3.
andthe data sets from siegmund et al.
and kaltenecker et al.
.
.
subject systems to answer our research questions we selected a diverse set of subject systems ranging from popular community benchmarks to more involved systems with non functional properties and from real world settings see table for an overview .
from cordy et al.
we use minepump elevator and cfdp systemsandanalyzedthemagainsttheaccompaniedltlproperties using the variability aware model checker provelines.
furthermore we took the email and elevator from von rhein et al.
and analyzed multiple defects provided as propositional logic formula generated by splverifier .
for quantitative properties we generated effect sets from configurable system analysis results as illustrated in section .
for three classes of systems.
first we considered configurable systems modeled for the variability aware probabilistic model checker profeat comprisingabodysensornetwork bsn model and a velocity control loop vcl model of an aircraft .
in both systems the reliability r of the system is analyzed in terms ofthe probability of failure of sensors and control components respectively.second wegeneratedeffectsetsfromperformancemeasurements of real world configurable software systems that have been used to evaluate performance modeling techniques .
in particular we selected five systems from different domains a compiler framework llvm a database system berkeleydb a compression tool lrzip a video encoder x264 and a toolbox for authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa clemens dubslaff kallistos weis christel baier and sven apel table statistics of feature causality experiments property system v f time average size of ec mcdls cfdp .
.
.
elevator .
.
.
minepump .
.
.
blinkedlist .
.
.
linux .
.
.
pkjab .
.
.
prevaylar .
.
.
snw .
.
.
zipme142 .
.
.
mcurl .
.
.
h264 .
.
.
sqlite .
.
.
wget .
.
.
property system v f time average size of ec mcdls tapache .
.
.
elevator .
.
.
email .
.
.
h264 .
.
.
zipme2 .
.
.
rbsn .
.
.
vcl .
.
.
tberkeleydb .
.
.
dune .
.
.
llvm .
.
.
lrzip .
.
.
x264 .
.
.
we list for each type of effect property functional ltl properties precision accuracy threshold properties and other threshold properties the considered subject systems the numbers of experiments valid configurations v features f and the overall time in seconds to compute feature causes and most general causes.
the second part of the table lists the average sizes of the effect sets e feature causes c causes e v cause effect covers by most general causes mc mcauses e v and dls formulas relative to the characteristic formula of causes dls dls c c in percent .
solving partial differential equations dune .
for these systems we chose thresholds on the runtime t of the system executions.
third we constructed effect sets for several systems from studies onperformancepredictionofnon functionalproperties such as apache linux sqlite and wget.
for these we used the black box approach by siegmund et al.
which uses multivariable linear regression methods to generate variability aware performancemodels.ourthresholdsforconstructingeffectsetsareimposedonthepredictionaccuracyofthefollowingthreedifferent non functional properties on those systems runtime t binary size b and memory footprint m .
.
operationalization forrq1 wecomputebothsets causes e v andcauses v e v i.e.
thefeaturecausesoftheeffectpropertyanditsnegation.based on these feature causes we further compute cause effect covers mcauses e v andmcauses v e v distributive law simplification dls as well as responsibility and blame values for each single feature and cause to answer rq2.
for blame computations we assume a uniform distribution over all effects due to the absence of further statistical information and taking a developers perspective cf.
section .
.
for rq we compute single feature blames based on a uniform effect distribution to measure the influence of individual features onto the effect.
we compute feature interaction blames on pairs of features to address rq4 again assumingauniformeffectdistribution.table1provideskeystatistics about our experiments focusing on model characteristics and the time to compute feature causes and most general feature causes.
allexperimentswereconductedonanamdryzen73800x8 core system with 32gb of ram running debian and python .
.
.
results wediscussourresultsw.r.t.thedifferentkindsofcausalexplications of section .
first we discuss statistics on our experiments also quantitativelyanalyzingthepotentialofcausalexplicationsbymost general causes and dls reduced formulas.
then we address our research questions in more depth by means of three representative subject systems.
here we focus on properties not detectable by classical causal white box analysis methods .
.
descriptive statistics rq 1and rq the computability of feature causes is of major interest for our evaluation.
table provides an overview of the subject systems for which we generated effect sets and applied our feature causality analysis.
we see that our algorithms compute feature causes in reasonable time within a few seconds for most subject systems.
to create the effect sets we considered several effect properties asdescribed in section .
stands for ltl properties b m and tfor thresholds on the accuracy of a prediction model for binary size memory footprint and run time and rand tforreliability and runtime thresholds respectively.
this variety of properties already illustrates the wide range of applications and potential use of feature causality.
the sizes of valid configuration and effect sets crucially influence the time for computing feature causes whichis as expected since the complexity of algorithm is dominatedby the computation of prime implicants of parenleftbig f v parenrightbig e. since our implementation relies on bdds for the representation of valid configurationandeffectsets itishoweverwellpossiblethatwithin similar sizes computation times can significantly differ.
this ismainly due to the fact that bdd sizes highly depend on the specific nature of the represented boolean functions and the variable order chosen .
for instance while the experiments on dune and berkeleydb see table have similar sized sets vande their runtimes differ in two orders of magnitude.
we see that the number of most general feature causes is often way smaller than the overall number of feature causes which renders the creation of cause effect covers by most general causes sensible to support concise explications.
interestingly cause effect covers by most general causes and espresso minimization yield the same results in almost all of our experiments which proves our heuristics to be effective.
in the same vein the application of dls leads to greatreductionsoflogicalrepresentationsoffeaturecauses e.g.
onaveragebyalmost3 4intheelevator 1subjectsystem seetable1 .
forrq1andrq2 we conclude that feature causes are computable in reasonable time.
a substantial reduction of the set of feature causes and cause effect covers can be performed with dls formulas and most general feature causes respectively.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
causality in configurable software systems icse may pittsburgh pa usa table minepump most general feature causes blame feature cause characteristic formula .
high command stop methanealarm .
high start methanealarm .
high command stop methanesensor methanequery .
high start stop .
high low start .
high start methanesensor methanequery .
high low command stop .
feature cause explications rq we discuss the explications of feature causes that we have generated by the example of the minepump system which is frequently used in the configurable systems analysis community.
this system models a water pump of a mine with f features on which requirements expressed in ltl are imposed see section .
.
an analysis of the stabilization property formalizing that the minepump system eventually stabilizes the pumps are eventually continuously on or off using provelines returned e 28configurationswherethepropertyholdsand v e configurations where it does not hold.
the direct interpretation of features responsible for this effect property is difficult as it requires to investigate the result of all v configurations.
a causal analysis returned seven feature causeslistedwiththeirdegreeofblameintable2.theyalreadyprovide hints which features are responsible for the property.
among the feature causes three are most general highlighted in table .
they have the highest degree of partial configuration blame while the most lengthy cause has the smallest degree.
our dls heuristics on most general causes yields high start stop low methanealarm providing a concise representation of feature cause candidates explicating the effect property.
that is selecting features high start and one of the three features stop low o rmethanealarm covers all causally relevant configurations for the minepump system to stabilize.
on other subject systems explications are also effective but with less drastic reductions than for the minepump example.
answering rq2 feature causes are of reasonable size compared to the complete analysis results i.e.
most general feature causes and dls provide concise explications for feature causes.
responsibility and blame reflect the impact of feature causes.
.
causality guided configuration rq featureblameprovidesaquantitativemeasureonthecausalimpactof feature selections w.r.t.
a set of configurations.
this measure can be used to support configuration decisions e.g.
by prioritizing featureswithhighblamevaluesincasetheeffectpropertyisdesirable.
we investigate such a causality guided configuration on the velocity control loop vcl subject system .
the vcl models an aircraft velocity controller in simulink for which its reliability in terms of probability of failure is of interest.
a common principle to increase the reliability of a system is by triple modular redundancy tmr where system components are triplicated and their output are combined via a majority vote.
dubslaff et al.
suggested tomodel and analyze systems with such protection mechanisms using family basedmethodsfromconfigurablesystems analysis.toeachcomponent they assign a protectionfeature that specifies whether a componentistriplicatedornot.comprising21componentseligible for protection the vcl model has v valid featureconfigurations.clearly thehighestreliabilityisachievedby protecting all components.
however each protection comes at its costs in terms of execution time energy costs and packaging size.
whileitisknownhowtodetermineprotectionconfigurationswith optimal reliability cost tradeoff reasons for why a protection configuration is optimal or why a component was selected for protection are typically unclear.
we address this issue exploiting our causal analysis methods.
using the variability aware probabilistic model checking tool profeat we generated effect sets e r w.r.t.
mapping to the probability of failure of the vcl within two control loop executions and reliability thresholds rbetween .
and .
.
table shows the degree of feature blame for protection features of the components of vcl cf.
section .
.
the three components not shown in the table are input components having zero degree of blame and hence do not contributeto the systems reliability.
with the lowest threshold r .
the effect set contains only out of the 221feature configurations almost all protections of components are responsible for the lowprobability of failure.
increasing the threshold lowers the degreeof blame since the effect set increases leading to less counterfac tual witnesses.
using our blame analysis we can directly deduce advice for engineers about components protections towards high reliability with tight reliability constraints one should protect the acceleration component followedbythe integrator component as their blames are significantly higher than for other components cf.upperrowsoftable3 .whenhigherfailureratesareacceptable one should prefer to protect the components sum2 and sum3 instead of the integrator component due to their higher impact on reliability cf.
lower rows of table .
forrq3 we conclude that feature causes and degrees of blame reveal and quantify the impact of features on the desired effect and this way are able to guide the feature configuration process.
.
feature interactions rq causalreasoningprovidesanewangletostudyfeatureinteractions in configurable systems.
for illustration of how to detect and isolate feature interactions we perform causal analysis on the lrzip subject system modeling a compression system for which runtime characteristics of the compression algorithms are of interest.
since thenumberoffeaturecausesandtheirexpansionscanbebothexpo nentialinthenumberoffeatures adirectevaluationoftheruntimesand causal analysis results is difficult.
we hence investigate feature interactions through their degrees of blame as described at the end ofsection4.
.thesubjecteffectsets e tdependontheruntime v rin seconds for a configuration compressing a file that is obtained as by siegmund et al.
and a runtime threshold t 1to ensure timely analysis results real world failure probability measures were increased by a factor .
resulting higher values might seem unrealistic but arguably do not affect the causal analysis measuring the impact of protections.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
icse may pittsburgh pa usa clemens dubslaff kallistos weis christel baier and sven apel table feature blame for the vcl redundancy system r mfunc sum1 sum4 memory mone p vcruise spentfuel i d prod dragforce ethrust integrator sum5 sum3sum2 acceleration .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.61table feature interaction blame for lrzip t gzip lrzip zpaq .
.
.
.
.
.
.
.
.
.
.
.
way .
.
.
way .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
see end of section .
.
we then focus on way interactions by investigating potential feature interactions between the compression algorithmandcompressionlevelresponsibletohavehighruntimes.
forthiswecomputedegreesoffeatureinteractionblameforpartial configurations wheresupp gzip lrzip zpaq ... and x truefor eachx supp .
in the columns of table weshowthedegreesoffeatureinteractionblamesforthresholds t ranging from t 200sto t 2300s.
empty cells correspond to combinationsofcompressionalgorithmandlevelthatdonotappear in any cause and thus have zero blame.
in these cases we can conclude that no feature interaction takes place.
higher blame values indicate that the combined responsibility of the compression algorithmandlevelhasagreatercausalimpactonruntime.notably weobservethat withanincreasingthreshold thelevelofcompressionisincreasinglyresponsibleforlongerruntime.certaincompression algorithms always have runtimes above the threshold independentlyofthecompressionlevel.thisleadstoaconfigurationblame of zero at any compression level e.g.
thresholds t 600sfor the zpaqalgorithm shown in the upper right of table .
note that in these cases zpaqserves as way interaction witness according to definition4.
.allgreaterthresholdsfor lrzipandzpaqdonothave way but way interaction witnesses.
that is being above the runtime threshold is a result of a feature interaction between the compression algorithm and those compression levels not showing zero blame.
notice that the sums of the given feature interaction blames for t 700sthat contain algorithms lrziporzpaqadd up to1 .thatis nootherfeaturesaretobeblamedforexceedingthe runtime threshold.
features have a dedicated meaning and one would hence expect higherruntimesforhighercompressionlevels.tothisend itseems odd that the feature interaction of lrzipand compression level is less to blame for higher runtimes than for levels and .
this indicates an anomaly of the feature interaction between lrzipand thecompressionlevels7 and9.furtherinvestigationsonanalysis results and feature causes support these findings averaged over all measurements of lrzipconfigurations we observe runtimes of .9s at compression level standard deviation .1s .7s at level8 standarddeviation3.2s andonly830.5satlevel9 standard deviation .6s .
hence lrzipat level is not causally relevant for exceedingtheexecutiontimethresholdof900s asthecompression level feature is not contained in any cause with lrzip.
however this insight is difficult to obtain relying purely on the performanceinfluencemodelgivenby asthiswouldrequirehandcraftedanalysis of all analysis results see table .
forrq4we conclude that feature causes can provide hints for feature interactions and anomalies arising from them.
blame measures render themselves promising to quantify the influence of feature interactions that contribute to certain effects.
discussion in this section we discuss potential threats to validity of our experiments and relate our findings to existing work from the literature.
.
threats to validity a threat to internal validity arises from the correctness of the analysis results from which we generated the effect sets.
while for functional properties this threat is not crucial due to exact modelchecking techniques used in our experiments for non functional properties the results have been partly established using machine learning.tomitigatethisthreat wecarefullychoseeffect setthresh oldssuchthattheeffectsetsremainstablealsowithinsmallthresh oldvariations.notethatthechoiceoftheeffectsethasnoinfluenceontheapplicabilityofourcausalitydefinitionsbutonlyontowhatextentcausalitycanserveasanexplication.forblamecomputations in our experiments we assumed a uniform distribution over all effects taking a developers perspective where frequencies on how often an effect occurs in a real world setting are not yet accessible.
other distributions could change our quantitative results it is unlikelythattheywouldalterourconclusionsaboutcausalinfluencesoffeaturesandfeatureinteractions.toincreasetheinternalvalidity of our prototype we implemented and evaluated several methods to compute causes.
these include a naive brute force approach and two additional methods to generate prime implicants independent from the tool espresso.
naturally the choice of subject systems threatens external validity which includes the kinds of effect sets on which we evaluatecausality.
to alleviate this threat we included a wide variety of systems with multiple properties from different areas to our evaluation.
they comprise several real world software systems often used to evaluate sampling strategies and performance modeling approaches.wefurtheraddedseveralcommunitybenchmarksfrom the feature oriented model checking community as well as a largescale redundancy system from reliability engineering.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
causality in configurable software systems icse may pittsburgh pa usa .
related work various techniques for software defect detection have been proposed in the literature ranging from testing and static code analysis to model checking .
these techniques have been also extended for analyzing configurable systems to tackle huge configuration spaces .
while such methods are able to identify defects and their location the challenge of finding root causes for defects remains.
a methodology to identify causes of defects during software development is provided through root cause analysis which can be supported by a multitude of techniques for causal reasoning .
to the best of our knowledge the foundationsforacombinationofconfigurablesystemsanalysisand causal reasoning as we presented in this paper have not yet been addressedintheliterature.inthefollowing wediscussrelatedwork in the fields of configurable systems analysis and causal reasoning.
configurablesystemsanalysisandexplications.
foranalyzing configurable software systems many approaches have been presented in the last two decades .
there is broad tool support forvariability awaretestingandsampling static analysis andmodelchecking .
there is a substantial corpus of work on determining those features in a configurable system that are responsible for emerging effects .
the focus has been mainly on detecting feature interactions .
siegmund et al.
and kolesnikov et al.
describe non functional feature interactions as interactions where the composed non functional property diverges from the aggregation of the individual contributions of the single features.
garvin and cohen provided a formal definition of feature interaction faults based on black box analysis to guide white box isolation of interaction faults.
an incremental software configuration approach to optimize non functional properties has been presented by nair et al.
which complements our causality guided software configuration we exemplified in section .
based on feature causality and precomputed analysis results.
toreducethesizeofpropositionallogicformulasinconfigurable systems vonrheinetal.
proposedtoexcludeinformationabout valid configurations and use two level logic minimization e.g.
by the espresso heuristics .
our dls method differs from this approach by prioritizing causal information over reduction.
causal reasoning.
algorithmic reasoning about actual causes following the structural equation approach by halpern and pearl iscomputationallyhardinthegeneralcase .however tractableinstancessuchasthebooleancasehavebeenidentifiedbyeiter and lukasiewicz .
for deciding whether a partial interpretationisanactualcauseinthebooleancase ibrahimandpretschner presented an approach based on sat solving .
to compute all causes their implementation relies on checking causality for all possible partial interpretations suffering from an additional exponential blowup in the number of variables which we avoid within our approach using prime implicant computations.
using test generation methods relying on program trace information program locations that are the origin of the defect can be identified .
analyzing differences between program states of sampled failing and passing executions deltadebugging identifies code positions relevant for an emerging failure .
similarly causes for detects can be determined by analyzing counterexample traces .
faults can be also located by causal inference on graphs constructed from statement and test coverage data .
iqbal et al.
present a static technique to generate causal models of a given configurable system using causal interference and statistical counterfactual reasoning .
this model is used to detect performance bugs and provide hints for their resolution.
while we focused on actual causality and rigorous analysis they are interested intype causality to answer more generic questions.
concluding remarks finding actual causes for an effect event becomes increasingly important in many research areas also driven by high demands from politics and society.
we introduced a formal definition and algo rithms to identify causes in configurable systems that relies oncounterfactual reasoning and connections to classical problems of propositional logics and circuit optimization.
we demonstrated their potential by analyzing several subject systems including realworld software systems and popular community benchmarks.
to enable explanations for causes and their impact onto effects we proposed explication techniques to concisely represent causes and quantify the causal impact of features.
we showed that our ex plications are meaningful and can support the development of configurable software systems by causality guided configuration andisolatingfeatureinteractions.withourprototypicalimplementation we showed that our algorithms are effective on real world systems of varying sizes and run in reasonable time.
while already shown to be effective our implementation could be enhanced by directly integrating feature cause computationsinto optimized algorithms to compute prime implicants e.g.
re lying on prime implicant computations at the level of bdds .
combined with state of the art bdd libraries such as cudd the computation of causes might become feasible for even larger systems than considered in this paper.
another direction is by enhancing our analysis of feature interaction blames see theorem .
with in depth white box analyses to pinpoint root causes in source code for a great variety of effect properties using feature causality.
further applications could be imagined for context aware systemswhere feature oriented formalisms have been shown great applicability .
here our causal framework could reason about contexts responsible for certain effects e.g.
in self adaptive systems .
in this vein dynamic configurable systems a r e also an interesting direction to be considered.
in such systems features can be activated or deactivated during runtime e.g.
to model upgrade and downgrade of systems.
the detection and isolation of feature interactions in dynamic configurable systems is a wellknown challenge .
it is a promising avenue of further work to extend our causal framework to determine root causes and identify feature interactions in the dynamic setting .