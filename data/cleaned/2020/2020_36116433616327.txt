nanofuzz a usable tool for automatic testgeneration matthewc.davis carnegiemellonuniversity pittsburgh pennsylvania usa mcd2 cs.cmu.edusangheonchoi rose hulmaninstituteoftechnology terrehaute indiana usa chois3 rose hulman.edusam estep carnegiemellonuniversity pittsburgh pennsylvania usa estep cmu.edu brad a.myers carnegiemellonuniversity pittsburgh pennsylvania usa bam cs.cmu.edujoshuasunshine carnegiemellonuniversity pittsburgh pennsylvania usa sunshine cs.cmu.edu figure1 thenanofuzzuserinterfaceinthevisualstudiocodeideprovidesone clicktestgenerationfortypescriptprograms.
key ui elements autotest button above a function signature nanofuzz testing window beside the program under test customizable input parameters with default values test button to start nanofuzz advanced options categorized testing results with likely bugs prioritized inthedisplay pinbuttonto add testcases to the testsuite injest format.
abstract in the united states alone software testing labor is estimated to cost billion usd per year.
despite widespread test execution automation and automation in other areas of software engineering testsuitescontinuetobecreatedmanuallybysoftwareengineers.
we have built a test generation tool called nanofuzz that helps esec fse december san francisco ca usa copyright heldby theowner author s .
acm isbn .
find bugsin their code by suggesting tests where the output islikelyindicativeofabug e.g.
thatreturnnan not a number values.nanofuzzisaninteractivetoolembeddedinadevelopment environmenttofitintotheprogrammer sworkflow.nanofuzztests afunctionwithaslittleasonebuttonpress analysestheprogramto determineinputsitshouldevaluate executestheprogramonthose inputs and categorizes outputs to prioritize likely bugs.
we conducted a randomized controlled trial with professional software engineersusingnanofuzzasthe interventiontreatment and the popular manual testing tool jest as the control treatment.
participantsusingnanofuzzonaverageidentifiedbugsmoreaccurately u1d45d .
by were more confident in their tests u1d45d .
by andfinishedtheirtasks more quickly u1d45d .
by30 .
thiswork islicensedunderacreativecommonsattribution4.0international license.
esec fse december3 san francisco ca usa ma t thewc.davis sangheonchoi samestep brad a.myers andjoshua sunshine ccs concepts softwareanditsengineering softwaretestinganddebugging human centered computing user studies .
keywords empiricalsoftwareengineering userstudy softwaretesting human subjects experiments usable testing automatictest generation acmreference format matthewc.davis sangheonchoi samestep brada.myers andjoshua sunshine.
.nanofuzz ausabletoolforautomatictestgeneration.in proceedings of the 31st acm joint european software engineering conference andsymposiumonthefoundationsofsoftwareengineering esec fse december san francisco ca usa.
acm new york ny usa 13pages.
introduction software testing often intends to prevent bugs of various forms fromaffectingusersandoperations .theseeffortsare estimated to represent to of the billion usd annual labor cost of us software engineering professionals.whileeach2 reductionintestingeffortmaysave 1billion usd per year in labor1 engineers largely create test suites manually .
an important problem is therefore how to provideautomation support for engineers creating test suites.
automatictestsuitegeneration atug toolsattemptto fill this gap by generatingpersistent test cases using various techniquesandobjectives e.g.
testsuitesize codecoverage readability mutants killed etc.
.
however most existing tools lack evidence thattheyimproveasoftware engineer s abilitytocreate effective test suites and these tools are not broadly adopted in industry .
for example when the atug tool evosuite was evaluatedwith humans itshoweda penaltyfor using it .
evosuiteusesthe buggy softwareundertestasitstestoracle asall tests pass the engineer must read the generated tests to find and fix the erroneous tests.
the negative human evaluation result implies that the newtask of finding and fixing invalid tests may be moredifficultthanthe oldtaskevosuiteseekstoreplace manually creatingatestsuite.subsequentresearchhastriedtoimprovethese results by improving test suite readability but evidenceisunclearthatthesehelpengineersrelativetomanualtest suite creation.
we argue that a human focused approach may be moreappropriatefordesigningatugtoolssothattheyimprove engineers abilityto find bugsandcreate test suites.
we present nanofuzz a human focused atug tool that is integrated into the visual studio code integrated development environment ide .
nanofuzz allows a software engineer to test a functionwithaslittleasoneclick.itaccomplishesthisbyanalyzing the function signature to determinewhattypes ofinputsthe function accepts.
it uses heuristics to propose default value ranges for each input and allows the engineer to refine those ranges if necessary.nanofuzzrapidly generates testcasesbysampling the input domain of the function.
as nanofuzz generates and executes testcases itautomaticallycategorizesandorganizesthetestresults in the engineer s ide using a set of heuristics to identify likely billion .97billion billion .74billionproblematicoutputvalues.thetestcasesmorelikelytobeelicitingbugsaremore prominentlydisplayedtodrawtheengineer s attention.
the engineer maythen add test casesto the test suite.
we conducted a randomized controlled human trial with professionalsoftwareengineersusingnanofuzzastheintervention treatmentandthepopularmanualtestingtool jest asthecontrol treatment.participants using nanofuzzonaverageidentified bugs more accurately u1d45d .
by were more confident in their tests u1d45d .
by20 andfinished theirtasks morequickly u1d45d .
by30 .
thispapercontributes i nanofuzz ahuman focusedautomatic testgenerationtool and ii an experimentalhuman evaluationof nanofuzzthatprovidesevidencethatnanofuzzimprovessoftware engineers abilityto generatetest casesfor atest suite.
definitions this paper uses a number of terms.
a test oracle proposed by howden allows one to check the correctness oftest output.
program under test is abbreviated as put and software engineer isoftenshortenedto engineer .testsuitesize measuresthe number of test cases or statements within the test suite.
a mutant is a modification made to the original program through simple and intentional syntax changes that aims to create faults .
mutants arekilledwhen a test case detects differences between the mutant and the original code.
code coverage measures what code is executed during a test .
afuzzeris a tool that exercises a putwithrandomly determinedinputstoelicitbugs .an opaque box fuzzer has no knowledge of the internals of the put andgeneratestest casesbasedoninput outputbehavior .
nanofuzz nanofuzzisintendedtohelpengineersfindincorrectnessduring development or testing.
salient aspects of nanofuzz are described below.we reference the interfaceelements showninfigure .
autotest button .
nanofuzz decorates exported typescript functionsdisplayedintheide seditorwithan autotest button.
clickingthe buttonopens nanofuzzinasidewindow .
nanofuzzwindow .thetestingwindowopensbesidethefunctionundertest sothat both the code andits tests are visible.
inputparameters .nanofuzzanalyzesthefunctionsignatureto determineitsinputs types anddefaultinputranges.thehuman inthe loop may adjust these ranges if desired.
to minimize cognitive load inputsare displayedinatypescript like format.
testbutton .thisbuttonstartsthetest whichusesastochastic opaque box fuzzer with an implicit oracle that classifies the following as likely errors runtime exceptions non termination within a configurable time threshold and outputs containing null nan infinity orundefined.whenthefuzzerterminates testingresults are displayedinthe results grid .
options .thisbuttontogglesthedisplayofadvancedoptions which are shown in figure 2and allow the engineer to e.g.
adjust the fuzzer s runtime.
by default the fuzzer returns results in seconds and runs at most tests to ensure the tool provides rapidfeedbackto maintaintheengineer sattention.longertesting sessions maybe configured.
1115nanofuzz a usable tool forautomatic testgeneration esec fse december3 san francisco ca usa figure nanofuzz with more options pane results .thispanedisplaysasetofrelevantcategorytabs each containingagridoftestresults.thecategoriesare non termination runtimeexception erroneousoutputs e.g.
null nan infinity undefined andpassedtests.tabscontainingnoresultarenotdisplayed.
todirecttheengineer sattentiontoteststhatarelikelytobeerrors thetabsareorganizedintheordershownabove.weoptedtodisplay tests and results in table form rather than as code to minimize the engineer s readingeffort.
pin button .
after nanofuzz displays test results the engineer may add any of the generated tests to the test suite by pressing the pin button next to the test result on the results grid .
in figure the engineer has pinned two tests.
when pinned nanofuzz saves the unit test in jest format to the file system.
when the test button is pressed again all pinned tests are re executed with their test results displayed at the top of the grid above any newly generated tests.
if a test is un pinned then the jest unit test is removed from the file system.
scope and limitations nanofuzz has a number of important limitations but it is a useful vehicle for evaluating how a human focused automatic testing tool mightaffectanengineer sabilitytogenerateatestsuite.asmentionedabove theexperimentalversionofnanofuzzinthisstudy usesanimplicitoraclesuchthatitiscurrentlynotpossibletospecify desired result values for a test case.
this version of nanofuzz also only supports exported typescript functions that have parameters of types finitenumbers integers andfloats strings booleans literalobjecttypes n dimensionalarraysofanyoftheprevioustypes as well as optional and mandatory parameters.
type