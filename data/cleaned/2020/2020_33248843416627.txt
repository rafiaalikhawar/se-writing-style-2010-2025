a deep multitask learning approach for requirements discovery and annotation from open forum mingyang li1 lin shi1 y ey a n g4 qing wang1 1laboratory for internet software technologies 2state key laboratory of computer sciences institute of software chinese academy of sciences beijing china 3university of chinese academy of sciences beijing china corresponding author 4stevens institute of technology hoboken nj usa mingyang itechs.iscas.ac.cn shilin iscas.ac.cn wq iscas.ac.cn yyang4 stevens.edu abstract the ability in rapidly learning and adapting to evolving user needs iskeytomodernbusinesssuccesses.existingmethodsarebased on text mining and machine learning techniques to analyze user commentsandfeedback andoftenconstrainedbyheavyrelianceonmanuallycodifiedrulesorinsufficienttrainingdata.multitask learning mtl isaneffectiveapproachwithmanysuccessfulapplications with the potential to address these limitations associatedwith requirementsanalysistasks.
inthispaper we proposea deepmtl basedapproach demar toaddresstheselimitations when discovering requirements from massive issue reports and annotating the sentences in support of automated requirements analysis.
demar consists of three main phases data augmentation phase for data preparation and allowing data sharing beyond single task learning model construction phase for constructing the mtl basedmodel for requirements discovery andrequirements annotation tasks and model training phase enablingeavesdropping by shared loss function between the two related tasks.evaluationresultsfromeightopen sourceprojectsshowthat theproposedmultitasklearningapproachoutperformstwostateof the art approaches cnc and fra and six common machine learningalgorithms withtheprecisionof91 andtherecallof83 for requirements discovery task and the overall accuracy of for requirements annotation task.
the proposed approach provides a novel and effective way to jointly learn two related requirements analysis tasks.
we believe that it also sheds light on further directionsof exploringmultitasklearninginsolving othersoftware engineering problems.
keywords requirementsdiscovery requirementsannotation multitasklearning deep learning acm reference format mingyang li1 lin shi1 y ey a n g4 qing wang1 .
.
a deep multitask learning approach for requirements discovery and annotation from permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
ase september virtual event australia association for computing machinery.
acm isbn ... .
forum.
in 35th ieee acm international conference on automated software engineering ase september virtual event australia.
acm newyork ny usa 13pages.
introduction modernapplicationsbecomeincreasinglydependentonknowledge learned from user community to improve and innovate services.
in general suchknowledgerevealshowusersdiscusstheirexperience with a specific version feature of the application and propose feedback or new features.
dozens of data sources have been identified andusedforrequirementsdiscoveryandanalysis includingchat messages emails forums projectdigests etc .suchdatasources contain large amount of textual data.
for example cleland huang et al.reported that forums such as sourceforge and jira typically consistofthousandsofrequirements andvlas etal.reported that16projectsfromsourceforgeaverage146 716wordsjustinfeaturerequests .itwouldbeanextremelylabor intensiveprocess formanualextractionofrequirements.inaddition suchtextualdoc umentsarefrequentlynoisy consistingoftrivial non requirements information suchassocialcommunications slang typos etc .
suchnoiseneedstobeappropriatelyhandledinordertosupport efficient and effective requirements discovery and analysis .
meanwhile intensiveapproacheshavebeenproposedtosupport automatic requirements analysis from user comments and issue reports employingtechniquessuchastextmining machinelearning social network analysis and feedback mechanisms etc.
forthisstudy wedefinetworequirementsanalysistasks according to the underlying problem addressed in existing studies.
one is requirements discovery rd which is a binary classification task foridentifyingwhetheranewdocumentisavalidrequirement.theotherisrequirementsannotation ra whichisamulti labelclassifi cationtaskforannotatingthesemanticcategoriesofthesentence s within a new document.
most existing rd and ra approaches are rule basedorlearning basedtechniquestoexplorevaluableuserre quirements.rule basedapproachesrelyheavilyonasetofheuristic rules pre codified by human experts .
while learning based approachesemploythemachinelearningalgorithms suchasrandom forest and convolution neural network to train model for future predictions.two example rule based ra approaches include a fuzzy rule based approach for annotating sentences in featurerequests and an ontology based approach consisting of six levels of classification patterns .
there are four major limitations in existing approaches.
first intherdtask existingstudiestypicallymodeldocumentsusing bag of words whichvectorizesthetextsundertheassumption 35th ieee acm international conference on automated software engineering ase thatthewordsareindependent.itignorestheabundantsemantic information containing in requirements descriptions.
second in thera task manually built rulesare labor intensiveand difficult to rebuilt across domains in practices.
third some methods aim at using supervised training instances on a single task but unfortunately theyignoretherichcorrelationinformationbetween thetasks.forth thetrainingdataforrdandraisoftenlimited.
the issue reports in the repositories are typically large in size.
but only a few labeled ones are categorized into requirements types.how to make the maximum use of the few labeled requirements toaccuratelyclassifytheunlabeledissuesbecomesanimportant problem.
to address these challenges this study proposes to adopt deepmultitasklearning mtl approach whichcombinesthedeep learning and mtl techniques which has led to successes in many applicationsofmachinelearning fromnaturallanguageprocessing speechr ecognition tocomputervision .mtlis a subfield of machine learning in which multiple learning tasksare solved at the same time while exploiting commonalities and differences across tasks .
this can result in improved efficiency and prediction accuracy when compared to training the models separately .
inthispaper wepresentadeepmtl basedapproach demar deepmultitask le arning for requirements discovery and annotation toautomatedsupportforrdandra.demarconsists of three main phases data augmentation phase for data preparationandallowingdatasharingbeyondsingletasklearning modelconstructionphase for constructingthemtl basedmodel forrequirementsdiscoveryandrequirementsannotation and model training phase enabling eavesdropping by shared loss functionbetweenthetworelatedtasks.evaluationresultsfromeight open source projects show that demar outperforms two state of the art approaches cnc and fra and six common machinelearning algorithms with the precision of the recall of forrdtask andoverallaccuracyof83 forratask.specifically by jointly learning the two tasks the performance of the discovery task increases of f1 and the annotation task increases ofaccuracy.
in summary the key contributions of this paper are demar a novel paradigm to support multitask learning with two relatedrequirementsanalysistasks includingdataaugmentation mtl based model construction and mtl based model trainingphases.
a novel deep mtl based model to enable sharing information through shared layers and task specific layer for jointly learningrdandratasks ademonstrationofthepowerofmtl in combination with deep learning for rd and ra tasks the publiclyaccessiblematerials1tofacilitateitsapplicationinother contexts.
background this section introduces a motivational example and the related techniques used in our study.
.
a motivational example in practices a typical requirements process in online open source communities goes like the following.
first project contributors new requirement.
this manual process is very labor intensive and time consuming.
the rd task aims at predicting whether a newissue is a requirement or not which can expedite the process of issuelabeling.second givenalistoflabeledissuesorrequirements release team review annotate and integrate important sugges tions from a requirement to a future release.
the ra task aimsat expediting the process of requirements understanding by providing semantic annotations at sentence level.
thus the release team memberscan obtain an initialunderstanding of theunstructured textual artifacts quickly.
they could pay attentions to the relevant information while ignoring the less important parts from thesubmittedartifacts .figure1illustratesanexampleofthe tworelatedrdandratasksonasetofnewlyopened unlabeled issue reports in keras project from github.
the rd task focuseson the entire issue report and the output is true or false.
meanwhile the ra task focuses on the sentences in each issue report and the output is a set of high level annotations for each sentence characterizing whether each sentence depicts the intent benefit example explanation drawback or triviaaspectofarequirement.
generally speaking sentences with intent and benefit anno tations reflect more essential requirements and sentences with trivia annotations maybe largelyignored.
as shownin figure1 the identified requirement from the rd task corresponds to seven more sentence level annotation labels produced from the ra task with the 2ndand 6thsentences highlighting the major intents of this requirement.
figure an example of rd and ra asintroducedearlier existingrdandramethodsmostlyemploy rule based or learning based approaches to resolve these two tasksindependently.butunfortunately theyignoretherichcorrela tioninformationbetweentasksandareoftenconstrainedbylimited amountsoftrainingdata.infact therdtaskisrelatedtothera task as they share the same inputs of the textual requirements and theyhavesharedinformationrelevanttoprediction.specifically the sequences of sentence annotations may comply with certain patterns when expressing requirements which can benefit ra task of judging whether an issue report is requirement or not.
takenthe requirement in figure as an example the user first writes 337an intent sentence to directly express a request and then gives someexplanationsaswellaswhatthebenefitstherequestcould deliver.
such intent explanation benefit pattern might largely exist in requirements rather than in non requirements like bug reports.
conversely the category information of an issue report may also benefit to determining the annotations of its sentences.
for example if anissuereport ispredictedas arequirement it would bemorelikelytocontain intent annotation.ifanissuereportis predictedasanon requirementreport itwouldbemorelikelyto contain drawback and current behavior annotations.
taking all the above into consideration we make the first attempt to propose anmtl basedapproachthatcanjointlylearnthetwotasks aiming to improve learning efficiency and prediction accuracy for both tasks.
.
multitask learning multitasklearning mtl isawidely usedapproachtoinductive transfer which can be used in combination with machine learning algorithms.
given mrelated learning tasks mtl takes the correlationinformationintoconsideration andbooststheperformance of each task by sharing the knowledge contained in the mtasks .
it achieves this by learning multiple tasks in parallel while using a shared representation between the related tasks to produce models with better generality.klgghq uhsuhvhqwdwlrq7dvn 7dvn 7dvn rqyhujh 16kduhg 5hsuhvhqwdwlrq od hu v 7dvn vshflilf od hu v rlqw rvv figure paradigm of mtl with hard parameter sharing inthecontextofsuperviseddeeplearning therearetwocommon waystoperformmtl hardparametersharing andsoftparameter sharingofhiddenlayers.mtlwith hard parameter sharing as illustratedinfigure2 hasbeenwidelyusedinmanyapplications such as natural language processing speech recognition and computer vision etc.
this paradigm consists of two parts in constructing the network i.e.
shard presentation layer s and task specificlayer s .throughthesharedrepresentationlayer s the general hidden vectors for input could be obtained.
the hidden vectors areused as the inputof the task specific layer s for many related tasks.
after that the shared information among tasks is learned by optimizing the model parameters using joint loss.
after several iterations the training stops until the model parameters stabilize.anotherparadigmismtlwith softparametersharing where each task has its own model with its own parameters.
since the ra and rd tasks share the same inputs of the textual issuereports they are naturally suitable to the hard parameter mode that sharing the same representation layer s and process multiple tasks in the task specific layer s .
therefore we choose the hard parameter sharing to jointly learn the rd and ra tasks.
approach as shown in figure the proposed approach demar consists of three main phases data augmentation phase for data preparationandallowingdatasharingbeyondsingletasklearning modelconstructionphase for constructingthemtl basedmodel forrequirementsdiscoveryandrequirementsannotationtasks and model training phase enabling eavesdropping by shared loss function between the two related tasks.
we will present details on each of the three phases next.
.
data augmentation inthisstep eachissuereportwillbeintroducedwithaugmented information beyond the scope of single task learning.
.
.
data pre processing .atypicalissuereportmaycontain two types of information textual content of the issue i.e.
title and description and embedded source information e.g.
code snippets patches stacktraces .inthisstudy wefocusonthetextualcontents toavoidnoiseassociatedwiththeembeddedsourceinformation.
specifically thefollowingstepsareconductedtopre processthe issuereportdata retainingtextualcontentsandexcludeembedded source information using a text parsing tool splitting issuedescriptiontextintoindividualsentences and applying standarddatacleaningpipelineincludingspecialcharacterremoval tokenization and lowercase conversion.
after data pre processing eachissuereport denotedas d isconsideredasaninstanceforthe learning tasks.
.
.
instance label sharing .designed based on supervised learning each issue report d comes with ground truth labels for rd and ra tasks respectively.
while rd task is a binaryclassificationtask i.e.
yes no demaralsoemploysasetofsevensentencecategoriesforratask assummarizedintable1.thefirst six are adopted from on shi et al.
s work which are identified from practice guidelines .
other than the six categories a new category of current behavior is introduced and highlighted in boldintable1.thereasonforthisadditionisthat whilethemajorityofshi etal scategoriesandtheirfuzzyrulesarestilleffective refinementontheexplanationcategoryisneededtohighlightmore semantic meanings in requirements.
at the outset demar allows to share instance labels across related tasks.
thus the issue data is explicitly augmented in the following two aspects augmented rd data.
by sharing labels the data used to traintherdmodelisautomaticallyaugmentedbyincluding additional information on each sentence.
the original rd dataistheplainissuereports andtheaugmentedrddata is the issue report with its sentences being tagged to one of the seven categories in table .
augmented ra data.
similarly thedatausedtotrainthe ra model is augmented by adding the category information of the issue report that each sentence belongs to.
338figure an overview of demar table description of ra categories.
category definition intent int ideas or needs to improve system functionalities.
benefit be results or effects if a proposed feature is deliver.
drawback dr disadvantages or negative aspects of the current system.
example exa examples or