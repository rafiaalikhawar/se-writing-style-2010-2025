interval change point detection for runtime probabilistic model checking xingyu zhao heriot watt university edinburgh u.k. xingyu.zhao hw.ac.ukradu calinescu university of york york u.k. radu.calinescu york.ac.uksimos gerasimou university of york york u.k. simos.gerasimou york.ac.uk valentin robu heriot watt university edinburgh u.k. v.robu hw.ac.ukdavid flynn heriot watt university edinburgh u.k. d.flynn hw.ac.uk abstract recent probabilistic model checking techniques can verify reliabilityandperformancepropertiesofsoftwaresystemsaffectedby parametric uncertainty.
this involves modelling the system behaviour using interval markov chains i.e.
markov models with transition probabilities orrates specified as intervals.
these intervals can be updated continually using bayesian estimators with imprecise priors enabling the verification of the system properties of interest at runtime.
however bayesian estimators are slow to reacttosuddenchangesintheactualvalueoftheestimatedparameters yielding inaccurate intervals and leading to poor verification results after such changes.
to address this limitation we introduce anefficientintervalchange pointdetectionmethod andweintegrateitwithastate of the artbayesianestimatorwithimprecise priors.ourexperimentalresultsshowthattheresultingend to end bayesian approach to change point detection and estimation of interval markov chain parameters handles effectively a wide range ofsuddenchangesinparametervalues andsupportsruntimeprobabilistic model checking under parametric uncertainty.
ccs concepts software and its engineering software verification and validation computersystemsorganization reliability mathematicsofcomputing bayesiancomputation metropolis hastings algorithm.
keywords change point detection interval markov chains bayesian inference impreciseprobability probabilisticmodelchecking runtime verification interval model checking permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acm mustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
ase september virtual event australia association for computing machinery.
acm isbn ... .
reference format xingyu zhao radu calinescu simos gerasimou valentin robu and david flynn.
.
interval change point detection for runtime probabilistic model checking.
in 35th ieee acm international conference on automated softwareengineering ase september21 virtualevent australia.acm new york ny usa pages.
introduction detectingsuddenchangesintheparametersofasoftwareorsoftware controlledsystemhasaplethoraofimportantapplications.for a system undergoing development such changes may correspond todefectsbeingintroducedinthecodebase andknowingthetime when the changes occurred can help identify and remove these defects.
for a running system sudden parameter changes may correspond to faults in a system component such as a disk drive storingasystemdatabase orasensorusedbyarobot.alternatively they may be due to violations of service level agreements by thirdpartycomponentssuchasapubliccloudservice ortocyberattacks ortoenvironmentalchangessuchasasuddenincreaseintherateof requests received by a web server.
in all these scenarios detecting thechangesupportstheidentificationofitscause theanalysisofits impact on the system and if needed the mitigation of this impact.
given these benefits numerous change point detection cpd methods have been developed to estimate the time of such sudden changesandthenewvaluesoftheaffectedparameters.thesemethods have been successfully used in domains ranging from software engineering to medicine and finance and are described in multiple surveys e.g.
.
inthispaper wefocusonself adaptivesystemswhoseclosedloopsoftwarecontrollersuse probabilisticmodelcheckingofmarkovian models at runtime to re verify the satisfaction of non functional requirements as new observations of the unknown modelparametersareobtained .consequently theprompt detectionofsuddenchangescancontributetothetimelyidentificationofrequirementviolationsandsupportadaptationtorecover from such violations.
our paper introduces an interval change point detection icpd method that complements existing cpd methods by efficientlysolving an important and previously unexplored variant of theproblem.
the key distinguishing features of icpd and thus the main contributions of our paper are summarised below 35th ieee acm international conference on automated software engineering ase ase september virtual event australia zhao et al.
tothebestofourknowledge icpdisthefirstmethodthattackles the detection of sudden changes in systems affected by parametric uncertainty and verified through the probabilistic model checking of interval markov chains .
interval markov chains are markov models whose transition probabilities for discretetime markovchains and transitionrates for continuous time markov chains are expressed as intervals due to the epistemic and or aleatory uncertainty affecting the corresponding system parameters.examplesofsuchparametersincludethesuccess probability of a web service invocation and the measurement rate of a sensor as incomplete knowledge and parametric variability often mean that these can only be estimated correctly using intervals such as and respectively.
the use of point estimates for these parameters masks theiruncertainty formarkovmodels thiscanleadtohighly inaccurateverificationresultsthatmayendorseinvalidsoftware engineering decisions .
icpdisintegratedwitharecentlydeveloped bayesianestimator with imprecise priors and computes new intervals of priors for this estimator after each sudden change detected in themonitored transition parameter i.e.
probability or rate of a markovchain.bayesianestimatorswithimprecisepriors also calledrobustbayesianestimators associateintervalswiththe uncertainparametersofasystem theyuseintervalsaspriors and their posteriors are also intervals.
itsintegrationwitharobustbayesian estimatorenablesicpd todecideinconstanttimewhetheranewsystemobservation correspondingtoastatetransitioninthemarkovchain should trigger the full cpd analysis which is computationally more expensive.thislightweightdecisionmechanismmakesicpd particularlysuitedforonlineuse andismissingfromtraditional cpd methods.
used in conjunction icpd and the robust bayesian estimator formanend to endbayesianapproachtochange point detectionandestimationofintervalmarkovchainparameters.
the approach supports the effective runtime probabilistic model checking of systems affected by parametric uncertainty.
westructuredtherestofthepaperasfollows.section2provides therequiredbackgroundonprobabilisticmodelcheckingandrobustbayesianestimators.ouricpd change pointdetectionmethodand its integration with a robust bayesian estimator are described in section and their effectiveness is evaluated in section .
finally section 5compares icpdto existingcpd methods and section6 summarises the paper and suggests areas of future work.
preliminaries .
probabilistic model checking probabilistic modelchecking pmc is aformal technique forverifying the correctness reliability and performance of systems characterisedbystochasticbehaviour wherethisbehaviouris modelled by markov chains.
formally a markov chain is a tuple m s s0 wheresis a finite set of states s0 sis the initial state and is a state transition function defined as s s for discrete time markov chains dtmcs with si sj pijgiving the probability of transition between statessi sj s and summationtext.
sj s si sj s s r 0for continuous time markov chains ctmcs with si sj rijgivingtherateoftransitionbetweenstates si sj s. pmcsupportstheverificationofdiscrete timeproperties e.g.
successful completion probability of a protocol using dtmcs and of continuous time properties e.g.
expected execution timeof an application or energy consumption ofa device using ctmcs.
to this end the states of markov models are labelled with atomic propositions thathold in thosestates and theproperties to verify are expressed in temporal logics over these atomic propositions e.g.
probabilistic temporal tree logic pctl for dtmcs andcontinuousstochasticlogic csl forctmcs.efficient pmcalgorithmsareavailable andareimplementedbywidelyused probabilistic model checkers such as prism and storm .
recent advances in pmc support the verification ofinterval markov chains .
in these models the transition probabilitiesofdtmcsandthetransitionratesofctmcscanbe specified as intervals enabling the representation of parametric uncertainty for the modelled systems.
accordingly the verification of interval markov chains with automated tools such as prismpsy andfact yieldsvalueintervalsforthereliabilityand performance properties of the verified system.
.
robust bayesian estimation of interval markov chain parameters building on the theory of imprecise probability with sets of priors ipsp recentresearchhasintroducedarobustbayesianestimator for the transition parameters of interval markov chains.
this ipsp estimator supports the use of imprecise prior knowledge inthebayesianlearningprocess andprovidesboundedestimates on transitionparameters.
due tospace constraints weonly detail theoperationoftheipspestimatorforagenerictransitionprobabilitypijbetween states siandsjof an interval dtmc idtmc the changesneededtousetheestimatorforanintervalctmc ictmc transition rate are mentioned at the end of the section.
given a dtmc s s0 and a state si s the outgoing transitionsfrom sifollowamultinomialdistribution withparameters given by the probabilities si of these transitions.
as such if weobserve nijtransitionsfrom sitoastate sjoutofnioutgoing transitions from si a scenario labelled data in the equations below thebinomiallikelihoodforthisscenariois byomittingthe combinatorial factor that will be cancelled in the bayes formula pr data pij pnij ij pij ni nij wherepij si sj .
as usual for mathematical convenience in bayesian inference the ipsp estimator uses a conjugate prior distribution for the above likelihood function i.e.
a beta distribution of pij thusensuring thatthe posterioris alsobeta distributed.however unlike point estimators that use the posterior mean as anapproximation for the value of pij e.g.
the ipsp estimator can morerealistically operatewith imprecisepriorknowledge obtained for instance from a group of experts or derived from noisy historical data.
164interval change point detection for runtime probabilistic model checking ase september virtual event australia theipspestimatorusesthecanonicalparameterisation beta parenleftbign i p ij parenrightbigofthebetadistribution 1whichallowsanintuitiveinterpretation ofp ijas the best prior guess and of n ias the size of an imaginary sample on which the prior estimation p ijis based .
however instead of point values for the two prior parameters the ipsp estimator operates with prior intervals bracketleftbig ni ni bracketrightbig bracketleftbig pij pij bracketrightbig forn iandp ij respectively.
accordingly the lower and upper boundsfor p ni ij theposteriorofinterestafter niobservationsof outgoing transitions from state siof the idtmc can be calculated in constant time as pij ni ni pij nij ni ni ifnij ni pij ni pij nij ni ni otherwise pij ni ni pij nij ni ni ifnij ni pij ni pij nij ni ni otherwise the ipsp robust estimator is generic to bayesian inference in canonical exponential families where the gamma poisson setup is typically applied cf.
proposition .
and example .
in pp.
.
thus ipsp can be applied to ictmc transition rates by replacing the beta priors with gamma priors.
interval change point detection .
problem definition our icpd method is applicable to systems modelled by interval markov chains whose transition parameters are associated with systemparametersaffectedbysuddenchanges.givensuchasystemandanintervalmarkovchainthatmodelsitsbehaviour weassume that thesystem ismonitored andall theevents thatcorrespond to statetransitionswithinthemarkovchain and forictmcs the timingoftheseevents arerecorded.examplesofsuchevents include the invocation of a method the receipt of a database query and the failure or repair of a server.
the intervals for the transition probabilities or rates of the interval markov chains are continually updated using the ipsp robust estimator from section .
.
the information required to detect sudden changes in the probabilitypijof transitioning between states siandsjof an idtmc consists of the sequence of observations o1 o2 ... oniof all events corresponding to the outgoing transitions from state si where k ... ni ok braceleftbigg if thek th transition is to state sj otherwise 1i.e.
a parameterisation in which the shape parameters and of the common parameterisation beta are replaced by n i andp ij where the superscript reflects the fact that these values represent the knowledge before any observation is available.themonitoringwindow definedas w niforanidtmc maybe fixed in which case only the most recent niobservations are used or may include all observations since the monitoring began.
given this information the interval change point detection problem for an idtmc transition probability pijis to determine whetherthevalueof pijexperiencedasuddenchangewithin the monitoring window w if the answer to is positive the time step from ... ni when the change occurred if the answer to is positive new prior intervals for the robust ipsp estimator of pij.
theintervalchange pointdetectionproblemforanictmctransition rate rijis definedsimilarly.
in thiscase the systemmonitor needstoalsorecordthesojourntimes t1 t2 ... tnithatthesystem spent in state siprior to undertaking each of the nioutgoing transitions given by observations and the monitoring window is defined as w summationtext.1ni k 1tk.
.
the icpd method fig.
shows a generic window of w niobservations for an idtmc wheretheshadedcirclescorrespondtotransitionsfrom statesito statesj and the empty circles correspond to transitions fromsito other states than sj.
assuming that the transition probabilitypijundergoes a sudden change from pij atopij bwithin this time window we use a random variable xto denote the unknown change point in the sequence and n x summationtext.1x k 1okand m x summationtext.1ni k x 1oktodenotethenumberoftransitionsfrom sitosj beforeandafterthetimestep x respectively.ananalogousnotation can be defined for a transition rate rijof an ictmc changing suddenly from rij atorij bwithin the time window in this case we have n x summationtext.1x k 1oktkandm x summationtext.1ni k x 1oktk.
given the parametric uncertainty associated with systems modelled byinterval markov chains not only the change time xbut also the precise values of aandbare unknown.
the following proposition definesabayesianestimatorforthesevalues thisisaformalisation of a known result e.g.
presented only for dtmcs in .
proposition3.
.
givenapriorjointdistribution f a b x forthe unknown values aandbof an interval markov chain parameter and for the unknown time xwhen the parameter value changes from ato b the marginal estimatesforthethreeunknownsaregivenbythe posterior joint distribution an x a x n x bm x b w x m x f a b x dan x a x n x bm x b w x m x f a b x dadbdx for an idtmc where d ... w and an x e axbm x e b w x f a b x dan x e axbm x e b w x f a b x dadbdx for an ictmc where d .
2we use lebesgue stieltjes integration in and throughout the rest of the paper to cover in a compact way both discrete and continuous prior distributions f as these integrals naturally reduce to sums for discrete distributions.
165166interval change point detection for runtime probabilistic model checking ase september virtual event australia fx x data lx x data summationtext.1ni x 1lx x data wherelx x data n x n x x n x x n x m x m x ni x m x ni x m x xx ni x ni x. proof.foranidtmctransitionprobability themlesfor aand bare a n x xand b m x w x so the likelihood becomes lx x data pr data x parenleftbign x x parenrightbign x parenleftbig n x x parenrightbigx n x parenleftbigm x ni x parenrightbigm x parenleftbig m x ni x parenrightbigni x m x additionally withnopriorknowledgeofwherethechangepoint x is we need to assume a discrete uniform distribution fx x for it x ... ni fx x ni.
theposterior cannowbeobtainedbyusingthelikelihood aftersimplealgebraicmanipulations andtheprior in with the lebesgue stieltjes integration rewritten as a summation.
square to estimate the univariate posterior distribution icpd uses themarkovchainmontecarlo mcmc methodwiththemetropolishastings algorithm whose presentation is out of the scope here but is available in .
this yields an mcmc sample sequence angbracketleftx1 x2 ... xk angbracketright for the change point x and from this icpd computes a sample sequence angbracketleftb1 b2 ... bk angbracketright angbracketleftbiggm x1 ni x1 m x2 ni x2 ... m xk ni xk angbracketrightbigg for the unknown transition probability b. note that computing the lattersequenceinthiswayisfarmoreefficientthanusinggibbs sampling ifwetreat basanunknown toobtain bi i k from a conditional probability distribution given xi.
giventhemcmcsamplesequences and icpdcomputes the change point as x summationtext.1k i 1xi k and calculates the following new ipsp prior intervals bracketleftbig ni ni bracketrightbig bracketleftbig pij pij bracketrightbig thesecalculationscanbeprecededbyaneliminationofanyoutliers that might be present in the sequences and .
icpd performs calculations similar to for an ictmc transition rate.
these calculations treat aandbas rates start from the likelihood function to compute the univariate likelihood function pr data x parenleftbiggn x x parenrightbiggn x e x parenleftbiggm x w x parenrightbiggm x e m x and yield prior rate intervals bracketleftbig rij rij bracketrightbig instead of the prior probability intervals bracketleftbig pij pij bracketrightbig in .
4retrospective ipsp estimation the ipsp estimates bracketleftbig pij x pij x bracketrightbig bracketleftbig pij x pij x bracketrightbig ... bracketleftbig pijni pijni bracketrightbig afterthechangepoint areretrospectivelycorrected.5tothis end the ipsp estimator is reapplied to the observations o x o x ... oniusing the new priors and the corrected interval estimates are used to retrospectively revise and re analyse the interval markov chain under verification.
this is often essential in order to establishtheimpactthatthesuddenchangehasalreadyhadonthe modelledsystem e.g.
duetoadditionalenergythatmayhavebeen used or as we will show in section loss of throughput between the change point and its detection time.
evaluation .
research questions we evaluated our icpd approach by performing extensive experiments to address the following research questions.
rq1 accuracy how accurately does icpd detect points of change in various scenarios?
we carried out experiments to assess the ability of icpd to detect a wide range of changes.
rq2 configurability how easy is to configure icpd to operatewithdifferenttrade offs?
weassessedtheeaseofcalibrating icpd to operate with data window sizes and triggering sensitivitiesthatsupportdifferentneedsintermsofdetectionspeed and or trade offs between false positives and false negatives.
rq3 efficiency what are the computational overheads of icpd?sincewedevisedicpdfortheruntimedetectionofchange points in the transition parameters of interval markov chains we measured its overheads across a range of configurations and parameter change scenarios.
rq4 verification support how effectively does icpd supporttheaccuratepmcofsystem levelpropertiesatruntime?
we examined the effect of using icpd to continually update interval markov chain parameters supporting the runtime pmc of key system properties.
.
evaluation methodology ourexperimental setupcomprisesawide rangeofninescenarios in which each scenario corresponds to a sequence of observations o1 o2 ... onifor the unknown transition parameter probability pijorraterijforidtmcand ictmc respectively instrumented with changes representing four classes of change patterns commonly studied in related research .
in particular we used thefollowingpatterns i stepwhereasuddenchangecausesthe 5we only describe this step for an idtmc transition probability as its application to an ictmc transition rate is entirely similar.
6note that a direct comparison of the icpd accuracy efficiency etc.
with those of existing cpd approaches is not possible because by tackling change point detection for point estimates of system parameters these cpd approaches solve a different problem than icpd .
167ase september virtual event australia zhao et al.
parameter value to increase instantaneously ii squarethat extends the steppattern with another sudden change indicating a recovery of the parameter to its original value iii rampthat representsagradualorsteepchangetotheparametervalue and iv fixedwheretheparametervalueremainsconstantfortheduration of the scenario to assess whether icpd produces false positives .
to answer rq1 rq3 for each scenario we firstly define an unknownchange point x as ground truth and the unknown actual ground truth transition parameter values aandbbefore and after thechangepoint x respectively.allthisinformationis unknown to icpd.
then for idtmcs we generate the sequence of observations o1 o2 ... oniby sampling from two binomial distributions whose probabilities are aandb respectively.
similarly the sequence of observationsforictmcsissampledfromtwoexponentialdistributionswhosemeantimeissetto1 aand1 b respectively.finally we run the scenario by providing to icpd the observations in order as described in section .
.
we answer rq4 using the ctmc model of an embedded system fromtheareaofautonomousunderwatervehicles auv adapted from .theauvisdeployedonanoceanicsurveillancemission and the successful mission completion requires the continual verificationofthectmcmodeltoensurecompliancewithapair of reliability and performance requirements.
the auv is equipped with several on board sensors whose operating rates are unknown andcouldpotentiallyvaryduetosensorfailureordegradationin operating rate.
we combine our icpd with the probabilistic model checker prism psy and evaluate the extent to which icpd can detect abrupt changes in sensor rates and update the transition parameters of thectmc thus supporting the promptsystem reconfiguration due to the violation of mission requirements.
all experiments were run on a windows pro bit machine withintel1.80ghzi7 8550ucpuand16gbram.thesourcecode markov models data used for the experimental evaluation and the full experimental results are publicly available at com x y zhao icpd.
.
results and discussion rq1 accuracy .
fig.
shows the estimated icpd transition probability interval for the unknown transition probability pijover nine idtmc scenarios instrumented with the following change patterns a bigstep b mediumstep c smallstep d square representing a normal recovery e square representing a quick recovery f steepramp g gradualramp h earlybigstepand i fixed.
table presents the configurations used for each scenario including the change pattern and the unknown actual values for both the change point xand the transition probability pij along with icpd related analysis results i.e.
the estimated change point x thetriggerpoint xtandthetotalcomputationalcost bothrepresentingthetiminginformationoficpd sruntimeanalysis .fig.
shows the approximated posterior distributions of xandbderived from mcmc sampling corresponding to the scenarios from fig.
.
in scenario a fig.
3a row a in table i.e.
the big step pij change from a .3t ob .
at change point x we observe that the interval width of the ipsp estimator the solid green and purple lines continually decreases as new observations are made signifying no prior data conflict.
at observation o690 thevertical blue line icpd detects the change that occurred at o500 causinga prior dataconflict .this detectiontriggersthecpd analysis step 3insection3.
whichutilisestheinformationupto the triggering point to approximate the posterior distribution of x fig.
4a concluding that the change happened at x the yellow vertical line which is very close to the actual change point x .
similarly icpd approximates the posterior distribution of b fig.
4a and uses to estimate the new ipsp prior intervals bracketleftbig ni ni bracketrightbig bracketleftbig pij pij bracketrightbig which capture the unknown transition probability b .
.
starting from theestimatedchangepoint x 504andthenewipsppriorintervals icpd uses observations o504 ... o690to execute the retrospective ipspestimation step 4insection3.
andrefinetheipspinterval dashedlineslabelled retrospected andshowingretrospectively corrected lower and upper bounds in fig 3a .
for completeness thedottedlines show thetransition probability interval estimated bythe ipspestimator withoutthe cpdcapability cf.section .
.
clearly thechangeisnotdetectedandasignificantnumberofnew observationsisneededbeforetheestimatedintervalenclosesthe updated transition probability.
the scenario shown in fig.
3b corresponds to a medium step change of the unknown transition probability pijfrom .
to .
.
icpd detects the change and triggers the icpd analysis xt .
as expected the change is detected later than the big step changeinscenarioa becausetheterm nij nineedsmoredata and consequently more time after the change point to accumulate to a levelthatleadstoapositivedegreeofprior dataconflict i.e.
ni 0in .similarlytoscenarioa theestimatedchangepoint x is very close to the actual change point x fig.
4b and the new ipsp prior interval bracketleftbig pij pij bracketrightbig captures the new unknown transition probability b .
fig.
4b .
incontrasttothepreviousstepchanges thesmallstepchange in scenario c does not trigger the icpd analysis.
this behaviour occurs because as new observations are made the term nij niis asymptotic to the upper bound of the ipsp estimated intervalpij .
butveryunlikelytoexceedit because nij ni also averages the data collected before xwhich is concentrated on a .
.
hence no prior data conflict is detected in .
inscenariod icpdcorrectlydetectedbothchangescorrespondingtothenormalrecoverypatterntriggeringtheicpdanalysis atxt andxt and accurately estimating change points x fig.
4d and x fig.
4d and the new ipsppriorintervals fig.4d 2andfig.4d .althoughscenarioe followsasimilarsquarepattern thequickrecoveryprevents icpd from identifying the prior data conflict and triggering the analysis.
we evaluate in rq2 how adjusting the icpd hyperparameters cf.
and canincreasetheicpd sensitivity and enable the detection of small and ephemeral changes.
thesteepandgradualrampscenariosinfigs.3fand3g respectively demonstrate the competency of icpd to cope adequately withthisclassofchanges.morespecifically icpdperformsparticularlywellinthesteeprampscenariotriggeringtheicpdanalysisat xt 750andcalculatingcloseapproximationsofthechangepoint x fig.
4f and new ipsp prior intervals fig.
4f .
the gradualrampscenarioismoredifficultduetothe unknown smaller 168interval change point detection for runtime probabilistic model checking ase september virtual event australia table configurations and icpd results over nine idtmc scenarios.
in all scenarios the ipsp prior parameters are set to and .
the scenario id is associated with the corresponding subfigure in fig notations x changepoint xt icpdtriggerpoint x icpdestimatedchangepoint k l ratioofacceptedsamplesoverthetotal number of mcmc trials angbracketleftx1 ... xk angbracketright mcmc sample sequence of the change point angbracketleftb1 ... bk angbracketright sample sequence of transition probability b n a icpd not triggered .
idpattern unk.
actual values icpd analysis ab x xt x k l angbracketleftx1 ... xk angbracketright angbracketleftb1 ... bk angbracketrighttime ms astep big .
.
5k fig.
4a fig.
4a bstep medium .
.
5k fig.
4b fig.
4b cstep small .
.
n a dsquare normal recovery .
.
5k 10k fig.
4d fig.
4d esquare quick recovery .
.
n a framp steep .
.
10k fig.
4f fig.
4f gramp gradual .
.
10k fig.
4g fig.
4g hstep big and early .
.
5k fig.
4h fig.
4h ifixed .
.
n a man.
n a 5k fig.
4i fig.
4i slopewhichentailsmoretimetoreachthefinalvalueandcomplete the change.
since ramp changes especially those with a gradual structure donotbydefinitionconstitutesuddenchanges the observed behaviour is expected and does not violate the statistical modelunderpinning icpd.
extending icpd with support for moreaccurateanalysisoframpchangesisplannedforfuturework.
inscenarioh weexaminedhowthetimingofachange affects the icpd accuracy by introducing early in the execution x the same big step change as in scenario a. the estimatedchangepoint x fig.4h1 isfairlyaccurate.duetothe significantlysmallernumberofobservationsavailableduringthe icpd analysis step xt the new ipsp prior interval is unsurprisinglywidercomparedtothatfromscenarioa.eventhoughthechangeoccursearly theendofthescenariofindstheipspestimator alone i.e.
without change point detection capability incapable to adapt its interval to include the new parameter value dotted lines in fig.
3h .
this result once more shows the usefulness of icpd.
finally we consider the scenario where the unknown transition parameter value is fixed throughout the scenario .
as expected the ipsp interval keeps decreasing and no icpd analysis is triggered.enforcingicpdtorunattheendofthescenarioresulted inanearlyuniformposteriordistributionof x fig.4i signifying the high uncertainty for the location of the change point.
hence we have evidence that icpd is not affected by false positives.
we provide a similar set of scenarios for ictmcs on our project webpage at that demonstrate very similar results.
given these experimental results we have sufficientevidencetoconcludethaticpdcansupportthedetection of sudden changes in the transition parameters of idtmcs and ictmcunderseveralchangepatternsandsteertheestimationof new ipsp prior intervals that enclose the new parameter value.
rq2 configurability .
the sensitivity of the icpd triggering eq.
canbeconfiguredeitherbymodifyingthepriorparametersof theipspestimatorin orbyassigningdifferentimportancelevels to observations o1 o2 ... owbased on temporal conditions.
to answerthisresearchquestionandassesswhethericpdcansupportthe detection of small and or transient changes we evaluated how icpd performs under different sensitivity configurations.
first we introduced a sliding time window based on which icpddiscardsoldobservationsandoperatesusingonlyobservationsfallingwithinthistimewindow.weevaluatedicpdenhanced withatimewindowinscenariocthatincludesasmallstepchange cf.
row c in table and for which the standard icpd did not detectaconflict cf.fig3c .usingatimewindowofsize500 this icpd variant detected the prior data conflict at xt triggering the icpd analysis and calculating new ipsp prior intervals that include the updated transition probability fig 5a .
by considering the most recent observations the term nij niin is influenced more by these observations leading to a positive degree of prior data conflict.
similar reasoning has been applied in which assigns ageing information to observations.
second we specified narrower ipsp prior intervals by setting and and evaluated icpd in scenario e row e in table that corresponds to a quick recovery.
compared to the icpd configuration used in rq1 under which both changes in scenario e were missed thenarroweripsppriorintervalsenabledicpdtodetectthefirst changedespiteitsshortduration occurringinobservations o500 o600 and accurately estimate the change point x .
given the sparse observations about the new unknown transition parameter after the first change pij .
the new ipsp prior intervals are unsurprisingly wider than usual this finding aligns with our resultsinscenarioh cf.fig.3h.thewideipsppriorintervalsand sparse observations are the primary reasons causing icpd to miss thesecondchange i.e.
therecovery .cpdusingsparseinformation is widely acknowledged as a very challenging problem .
investigating how icpd can handle more accurately changes of this type is part of our future work.
finally we evaluated an icpd variant that employs both a time window and narrower ipsp prior intervals using scenario i cf.
fig3 .althoughinthisscenariothevalueoftheunknowntransition parameter isfixed and since noprior data conflict occurs no icpdanalysisshouldbetriggered thisicpdvariantisprovenvery 169170171172interval change point detection for runtime probabilistic model checking ase september virtual event australia cpd agnosticipspestimator showingthatalthoughtheintervalsof both estimators typically become narrower with new observations the cpd agnostic estimator is in most scenarios unable to adapt its interval to include the new parameter value.
we also performed experiments with varied numbers of mcmc trials showing that moremcmctrialsleadtobetterestimatesofthechangepoint x thusconformingtothebayesianpractice .finally weenable replicationbymakingallexperimentalresultspubliclyavailableon our project webpage externalvalidity threatsmightchallengethegeneralisabilityof our findings to other types of systems and processes thus we mitigate these threats asfollows.
since icpd requires the sequence of observations o1 ... oniasdefined in we limitthisthreat bydevisingicpdtoworkinrunningsystemsenhancedwithclosed loop controls e.g.
mape k whichinclude a monitorcomponent that continually monitors the system and records data about its behaviour.
another threat might occur if the sensitivity level oficpd is inapplicable for the target system.
we mitigated this by demonstratinghowconfiguringtheicpdhyper parameters e.g.
ipsp estimator prior intervals monitoring window wsize enables achieving the desired trade off between false positives and falsenegatives.
finally to further reduce the risk that icpd might be difficult to use in practice we validated it both using idtmcs and ictmcs and showed in rq4 how it can be integrated with the probabilisticmodelcheckerprism psytoverifykeysystemproperties cf.
fig.
.
nevertheless additional experiments are needed to establish further the generalisability of icpd in interval markov chains modelling software systems other than those used in our evaluation.
related work cpdanalysishasbeenwidelystudiedandsuccessfullyappliedin manyareas includingsoftwareengineering climatechange and medicine .
from the numerous types of cpd solutions developed by this research likelihood ratio methods kernel based methods etc.
see forasurvey icpdfallsintothecategoryof hierarchicalbayesianmodels hbms i.e.
cpdmethodsthat rely on mcmc techniques to calculate change point posteriors.
however existing hbm methods employ mcmc each time a new data point becomes available which is too computationallyexpensive for online analysis.
this is also true about which to the best of our knowledge is the only other project that hastackledcpdfor discrete time markovchainparameters.in contrast icpdusealightweighttriggertodecidewhenthismcmcbased cpd analysis is needed and can therefore be much more efficiently used for online cpd.
additionally current hbm methods including compute point estimates for parameters affected by sudden changes.
asemphasised in point estimates of uncertain parameters can rarely be justified in practice.
unlike these methods which it complements icpd focuses on interval cpd computing new intervals of priors that support the robust bayesian estimation of the uncertain parameters after the detected change point.
bayesian methods to learn the transition parameters of markov chains at runtime have been proposed in and a lightweight adaptive filter is introduced in to reduce noise andprovide smooth estimates.
however those approaches do not consider change points explicitly and need a relatively long time to makeaccurateestimatesaftersuddenchanges.inaddition theseap proaches yield point estimates that can be affected by unquantified and potentially significant errors.
the work in is the first to synthesise bounds for unknown transition probabilities of dtmcs basedonthefrequentisttheoryofsimultaneousconfidenceintervals.
the only bayesian approach to computing bounded estimates forpmcthatweareawareofis .ouricpdbuildsonthisrobust bayesian estimatorand tothe bestof ourknowledge isthe first that provides cpd analysis for pmc with interval markov models.
conclusion future work weintroduced icpd an end to endbayesianapproach tochangepointdetectionandestimationofintervalmarkovchainparameters.
icpdenablesthequantitativeverificationofsystemsaffectedbyparametric uncertainty as using point estimates for the parametersofthesesystemshidesthisuncertainty andcanlead tohighlyinaccurateverificationresultsthatmayendorseinvalid software engineering decisions .
ourexperimentalevaluationcomprisingscenariosinstrumented withchangesfromfourwidelystudiedclassesofchangepatterns showed that i icpd can detect different types of changes accu rately and efficiently ii adjusting the icpd hyper parameters can enable achieving different trade offs between false alarms and missed changes and iii icpd supports the effective runtime pmc of systems affected by parametric uncertainty.
as future work we plan to extend icpd with support for other patterns of change e.g.
waves triangles andtoinvestigateprincipledmechanisms of eliciting the ipsp priors.