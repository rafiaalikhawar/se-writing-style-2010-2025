describectx context aware description synthesis for sensitive behaviors in mobile apps shao yang1yuehan wang2yuan yao3haoyu wang4yanfang fanny ye5xusheng xiao1 1case western reserve university 2university of illinois at urbana champaign 3state key laboratory for novel software technology nanjing university 4beijing university of posts and telecommunications 5university of notre dame sxy599 xusheng.xiao case.edu 2yuehanw2 illinois.edu 3y.yao nju.edu.cn 4haoyuwang bupt.edu.cn 5yye7 nd.edu abstract while mobile applications i.e.
apps are becoming capable of handling various needs from users their increasing access to sensitive data raises privacy concerns.
to inform such sensitive behaviors tousers existingtechniquesproposetoautomaticallyidentifyexplanatorysentencesfromappdescriptions however manysensitive behaviors are not explained in the corresponding app descriptions.
therealsoexistgeneraltechniquesthattranslatecodetosentences.
however these techniques lack the vocabulary to explain the uses of sensitive data and fail to consider the context i.e.
the app functionalities of the sensitive behaviors.
to address these limitations weproposedescribectx acontext awaredescriptionsynthesis approach that trains a neural machine translation model using a largesetofpopularapps andgeneratesapp specificdescriptions for sensitive behaviors.
specifically describectx encodes three heterogeneous sources as input i.e.
vocabularies provided by privacypolicies behaviorsummaryprovidedbythe callgraphs incode and contextual information provided by gui texts.
our evaluations on1 262androidappsshowthat comparedwithexistingbaselines describectxproducesmoreaccuratedescriptions .96inbleu and achieves higher user ratings with respect to the reference sentences manually identified in the app descriptions.
ccs concepts theoryofcomputation programanalysis securityand privacy software security engineering.
keywords mobile apps description synthesis static analysis deep learning acm reference format shao yang yuehan wang yuan yao haoyu wang yanfang fanny ye xushengxiao.
.describectx context awaredescriptionsynthesisfor sensitivebehaviors inmobileapps.
in proceedingsofthe 44thieee acm international conference onsoftware engineering icse may pittsburgh usa.
acm newyork ny usa 13pages.
.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
icse may pittsburgh pa usa association for computing machinery.
acm isbn ... .
a gif camera b auto sms figure example apps guis a permission request b gui context for sms and microphone permissions.
introduction mobileapplications i.e.
apps arebecomingcapableofhandling nearlyallkindsofneedsfromusers .however certainbehaviors ofappsare lessdesirableoreven harmful such as disclosing users location in the background .
mainstreamsmartphoneplatforms i.e.
androidandios require users to grant permissions for permission requests at run time figure a .
however as shown in research studies mostappsprovideonlyinformationabout whatpermissions theyrequest ratherthan howandwhy theywillusethepermissionprotected data causing users to make uninformed decisions on their privacy.
recognizingtheselimitations existingresearchefforts havebeenmadetoprovidedescriptionsbyidentifyingsentences in app descriptions.
app descriptions describe apps functionalities and features and may include sentences that provide justifications for certain permissions.
however as most app descriptions or privacy policies do not explain everysensitive behavior of the app these methods can only provide descriptions for a small subset of sensitivebehaviors.our empiricalstudy on1 popularapps from google play shows that only .
permission uses are explainedinappdescriptions.forexample wish isanuprising shoppingappwithmorethan500mdownloads.itrequestsmultipledangerouspermissions suchas location storage contacts and ieee acm 44th international conference on software engineering icse authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
camera without providing any information regarding how these dangerous permissions will be used in the app description.
alternatively there exist techniques that generate comments for code or translate permission protected api callsbasedonapre defineddescriptionmodel.unfortunately these techniquesmainlygeneratefunctionalitydescriptionsbyutilizing the words in comments and identifiers and lack the vocabulary to explain the uses of sensitive data.
more importantly these techniquesfailtoconsiderthe contextofsensitivebehaviors i.e.
what functionality justify the apps sensitive behaviors e.g.
car navigation justifying the use of gps locations making the generated sentences less accurate and informative.
in this paper we propose a context aware description synthesis approach describectx to generate app specific de scriptionsforsensitivebehaviors .specifically inspiredbythe recent advances of neural machine translation describectxtrainsasequence to sequence seq2seq modelbyusingtheapps codeandcontextualfeaturesextractedfromalargesetofpopularapps.
thesynthesizeddescriptionscanbeusedtodirectlyimprove the descriptions shown in permission requests e.g.
the promptsforrequestingpermissions orassistdevelopersinwritingcustomized messages for explaining the permission requests helping promote better security practices in mobile apps.
due to the unique characteristics of mobile apps there are three majorchallengestotraindescribectx xidentifyingtherepresentative features for the sensitive behaviors in the code and the apps contextualinformation ybuildingthevocabularyfordescribing thesensitivebehaviors and zextractingthereferencesentences tosupervisethemodellearning.toaddressthesechallenges describectx is built upon the following key insights representation of sensitive behaviors sensitive behaviors are triggered by permission protected api calls.
call graphs that lead to permission protectedapicalls referredtoas permission protectedapi call graph pacg have been shown to be effective in representing the contexts of sensitive behaviors for detecting undesired behaviors .
thus the pacg of a sensitive behavior provides a representative summary of the sensitive behavior s context in the code.
representationofcontextualinformation anapp sguiincludes thecontextualinformationthatdescribestheapp sfunctionality and justifies the uses of certain permissions.
as shown in figure1 b theguiprovidesthecontextualinformationofthe apps functionalityforsendingsmss andwecaninferthatthe intention of the auto reply button is to reply smss.
thus the text in the gui where a sensitive behavior is triggered providesthe contextual information for the sensitive behavior.
vocabularies for sensitive behaviors as shown in existing studies privacypoliciescontaininformationsuchaswhat kind of data will be collected and what permissions are required inthisapp.thus privacypoliciescanprovidethevocabularyfor the apps sensitive behaviors.
referencesentencesforsensitivebehaviors inordertoassessthe quality of the synthesized descriptions during both training and testing stages we need high quality reference sentences thatdescribe sensitive behaviors in apps.
as indicated by recent studies app descriptions contain sentences that explain permission uses.
since these descriptions are provided by the app developers who own the apps code and are mainly used to promotetheapps theyaremoreconciseandeasyfortheusersto understand.thus thesentencesthatdescribesensitivedatauses in app descriptions can be used as the reference sentences for sensitive behaviors.
based on these key insights describectx represents the featuresofapps pacgs guitexts andprivacypoliciesasthesources and the reference sentences in app descriptions as the targets and learns the conversionfrom the sources to thetarget.
furthermore appsmaylackpermissiondescriptionsforsensitivebehaviorsin theirprivacypolicies.asshowninexistingwork and our empirical results in section .
most apps use permissions forsimilarpurposes andthusdescribectxborrowstherelevant permission descriptions from the training apps for these apps.
weevaluatedescribectxusingpopularandroidappsdownloadedfromgoogleplay.1withinouraffordableeffort weexamine 814appsintotal andthencurateanevaluationdatasetconsistingof1 292popularandroidappsamongthem .86gb .93mbon average .
all of these apps contain permission descriptions in privacy policies and reference sentences of sensitive behaviors in app descriptions so that describectx can use the permission descriptions to train the seq2seq model and use the reference sentences to evaluatedescribectx.wemeasuretheperformanceusingboth standardmetricsinmachinetranslation bleu androugel and user studies.
the results show that describectx achieves bleuscore .
whenapps ownprivacypoliciesaremissingand bleuscore25.
when they are available which is at least .
better than the state of the art description synthesis approaches code2vec anddescribeme .furthermore theuserstudyresultsshowthat onaverage describectxachieveshigherratingsforsyntactical correctnessandsemanticclosenessthanthebaselines withrelative improvements over .
and .
respectively.
these results indicatethatasmostpermissionsareusedforsimilarpurposes evenifappsdonotprovidedescriptionsinprivacypolicies theguidance ofbehaviorrepresentation guicontextualtext andtherel evant permission descriptions of other apps privacy poli cies can be leveraged to synthesize accurate descriptions.
insummary thepapermakesthefollowingmajorcontributions a novel approach describectx that synthesizes natural language descriptions for sensitive behaviors in apps.
anovelsetoftechniquesthatextractfeaturesfromguis privacy policies and pacgs of apps and a novel model that combines these features to synthesize descriptions for sensitive behaviors.
an evaluation on apps that demonstrates the effectiveness of describectx and the improvement over the state of the art.
a prototype implementation of describectx and the results that are both publicly available .
1we focus on android apps due to its market dominance and open source ecosystem but the general idea is applicable to other smartphone platforms such as ios.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
oncreate setcontentview getlastknownlocation getbestprovider ...... ... pacg permission descriptiongui layout files ... we may use gps to determine your location ...sensitive behavior description synthesisreference sentence find your current location to get weather based on your location and gps... textviewn1 text size .0sp ...n1 text string weather wait for location ... this clock weather app displays weather temperature based on your current location figure motivating example of describectx.
background .
app descriptions and privacy policies an app description is a short summary that describes the app s functionality justifyingthesensitivedataitwillneed.forexample the facebook app declares that its functionality include share photos videos andyourfavoritememories findlocalsocialevents andmakeplanstomeetupwithfriends and backupphotosby savingtheminalbums .thisimpliesthatusershavetoprovidethe app with the corresponding permissions to access the camera the location data and the storage.
a privacy policy is legally required by google play.
in mostcases a privacy policy should specify the data being collected and the user rights.
additionally if the app usesanypermissioninthefollowingdangerouspermissiongroups i.e.calendar contacts location camera sms storage phone microphone thedevelopershavetodisclosetheuseofthepermissionbecause these permission groups collect personal sensitive data from the app users.
.
attentive seq2seq model fromaprobabilisticperspective translationfromagivensourcesentence x x1 ...x n to a target sentence y y1 ...yn i s equivalent to finding the maximum conditional probability i.e.
argmax yp y x .
in neural machine translation a parameterized model such as seq2seq is trained to maximize the conditional probabilityofsentencepairs.atypicalseq2seqmodelhastworecurrentneuralnetworks rnns .onernn encoder isused to transform source natural language sequences into vector rep resentations.
the other rnn decoder is used to transform the vectorrepresentationstothetargetnaturallanguagesequences.as thelengthofinputsequencegrows choetal.
showthatthe performanceoftraditionalseq2seqarchitecturedeterioratesdrastically.
in order to address this issue bahdanau et al.
extend the typical seq2seq model with attention mechanism where the attentive seq2seq adaptively learns the weights of each input word at the decoding stage.
motivation example figure shows how describectx extracts features and synthe sizes the description for the sensitive behavior triggered by the permission protected api getlastknownlocation whichrequires the permission access coarse location .
this example is simplified from theapp mobi.infolife.ezweather.widget.liveweather forcast .
describectxextractsthreetypesoffeaturesfromtheapp.thefirst feature is the text in the guis referred to as gui contextual text which provides rich information to inform users about the apps purposes and expected functionalities .
the second feature is the text in the pacg which is a call graph that leads to the permission protected api getlastknownlocation and contains not only direct method calls but also edges representing intercomponentcommunications icc lifecyclemethod calls andmultithreadingmethodcalls .thethirdfeature isthepermissiondescriptionof locationinitsprivacypolicy i.e.
...we may use gps to determine your location ... .
thesethreetypesoffeaturesformthreeheterogeneousinputsequences andarefedintodescribectx ssynthesismodel whichistrainedusingpopularappsingoogleplay.asshowninfigure2 the synthesizeddescriptionisquitesimilartothereferencesentence achievinga bleuscoreof46 .
.thecoloredlinesshowhowthe threetypes offeatures contributeto thewords inthesynthesized description.
if describectx discards gui contextual text from the modelandretrainsthemodel thesynthesizeddescription i.e.
the app can use your location and gps will lose some important appspecificinformation i.e.
weather .infact wehaveconductedan empiricalstudyon1 262appstomeasurethe worduniqueness ofthe gui contextual text and the results show that gui contextual text can provide .
unique words for the synthesized descriptions.
furthermore if describectx further discards both gui contex tual text and pacg from the model the synthesized descriptionbecomes very short and general i.e.
access location and gps .
thisdemonstratestheimportantrolesplayedbyprivacypolices gui contextual texts and pacgs in describectx.
approach .
overview figure3showstheoverviewof describectx.describectxconsists of two phases training phase and prediction phase.
the training phase has two major steps feature extraction and sensitivebehavior descriptionlearning.inthefeatureextractionstep describectx acceptsthe apkfiles andprivacypolicies oftrain ing apps as input and extracts three text sequences i.e.
pacgs gui contextual texts and privacy policies from each app.
in the sensitivebehavior descriptionlearningstep describectxtrains a description synthesis model based on the three inputs and thereference sentences in app descriptions.
in the prediction phase givenanappwithsensitivebehaviors describectxextractsthe pacgs and the gui contextual texts from the app s apk file.
then the permission description selection module checks whether the app sprivacypolicyprovidesdescriptionsforthepermissionsused by the sensitive behaviors.
if the privacy policy contains related permission descriptions it directly extracts such descriptions otherwise it usesthe most relevant permissiondescriptions from the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
feature extractioncall graph construction description synthesis modelapp to predict sensitive behavior description synthesis sensitive behavior descriptionguianalysis permission description extractiontext embeddingseq2seq learningtraining prediction pacggui contextual text sensitive behaviordescription learningpermission description selection permission description training appsapk privacy policypacg gui contextual text permission description figure overview of describectx.
privacy policies of the training apps.
using the pacg thegui contextual text and the permission description as input describectx synthesizes a description for each sensitive behavior of the app.
.
feature extraction describectxappliesstaticanalysisandtextualanalysistechniques toextractthreetypesoffeatures pacg guicontextualtext and privacy policy.
.
.
permission protected api call graph pacg .
in android apps building a call graph for a sensitive behavior needs to consider the unique characteristics of android runtime.
android apps arecomponent basedandevent drivenapplications whereapps code is developed as components e.g.
activities for defining the guisandservicesforperformingbackgroundjobs andexecuted when user events e.g.
clicking buttons or system events e.g.
receiving a phone call occur .
in particular the communications between components i.e.
inter component communications icc lifecycle methods triggered when apps executionstateschange e.g.
openorclose andmultithreading methods used to run worker threads cause apps executions to split into different components or threads forming implicit calling relationships among the methods in the apps code.
tobuildapacgforapermission protectedapicallinanapp describectxfirstconstructsaninter componentcallgraph iccg for the app and then identifies the pacg based on the iccg for thesensitivebehavior.basedontheidentifiedpacg describectx extractsthetextsofthenodesinthepacgastherepresentation for the sensitive behavior.
we next formally define an iccg and a pacg and describe how to build them in detail.
definition .
an inter component call graph iccg is a directedcallgraphofanappthatcontainsboththeedgesthatrepresent calling statements and the edges that represent implicit calling re lationships including multi threading methods android lifecycle methods event driven methods and icc methods.
to build an iccg describectx first leverages existing static call graph techniques to build a call graph based on calling statements and lifecycle methods.
it then expands the static callgraphwiththeedgesrepresentingmoreimplicitcallingrelationships.
in particular our analysis includes three types of implicitcallingrelationshipsthataremostcommonlyusedinandroidapps includingmulti threading event drivenmethod andintercomponentcommunication icc .representativecallersandcallees include setonclicklistener and onclick thread.start and thread.run asynctask.execute and sendmessage and handlemessage etc.additionally describectxintegratesiccmethodsusingan existing tool ic3 .
based on iccgs we next formally define pacgs definition .
a permission protected api call graph pacg is a subgraph of an iccg which is formed by the union of the paths fromthedummyentrynodeoftheiccgtothenodethatrepresentsa given sensitive api call.
to identify a pacg for a sensitive api call in an iccg describectx performsbreadth first search bfs fromthis apicall to find all the paths leading to the dummy entry node of the iccg and then uses all the nodes and edges found in these paths to constructthepacg.ifnopathsarefound thepacgcontainsonlythe sensitive api call.
in our evaluation dataset section each iccg contains34 897nodesand83 949edgesonaverage andeachpacg contains only nodes and edges on average.
note that oneapp can have multiple pacgs because it may use multiple sensitive api calls when requiring one certain permission.
for example anappthatrequires camerapermissioncaninvoke takepicture and mediarecorder.start to take pictures and record videos.
representation for sensitive behaviors .
describectx generates the representation of a sensitive behavior by extracting the textfromthenodesofitspacg.notethatamethodcallcontains thetextthatrepresentstheclassname thereturntype themethod name and the parameters.
as method names often present useful and relatively unique information while class names return types andparametersmaybesharedbymanymethods describectxex tractswordsfromonlythemethodnames.asandroidappsmainly followthecamelcaseconventionindefiningmethodnames describectxsplitseachmethodnameintoasetofwordsbasedon theconvention.forexample getlastknownlocation issplitinto get last known andlocation.
one particular challenge for extracting texts from a pacg is code obfuscation which is widely used in android apps.
the ob fuscated words e.g.
zzab will make the extracted texts contain lots of noises.
to address this challenge describectx removesthe obfuscated methods by leveraging two english dictionaries nltk and wordnet .
specifically describectx looks authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
up each extracted word in both dictionaries to filter out the nonenglishwords.describectxadoptstwodictionariestoexpandthe scopeoftheacceptablewords.forexample app isnotlistedas an english word in nltk s word list but it is listed in wordnet.
in addition describectx directly removes those method names that use a single character such as aorb.
.
.
guicontextualtext.
toextractguicontextualtextsfrom anapp wefirstapplyapktool todecompileanappandextract its xml layout files.
to extract gui information that is relevant to a sensitive behavior describectx performs a static analysis toassociatelayoutfilestosensitivebehaviors.first basedonthe pacg of a sensitive behavior describectx identifies the activ ities that invoke the sensitive api calls.
in android apps layout filesaremostlyloadedinactivitiesusingmethods setcontentview or oncreateview with their unique layout ids.
our static analysis identifiesthesemethodsandassociatesthelayoutidstotheactivitiesandfragments andfurtherassociatestheactivitiestothecorresponding layout files using the layout id mapping.
the gui contextual text mainly consists of two types string valuesofanyguiwidgetwith textattributefromthegui sxml layout files and names of images and icons used in the app.both types of text can be found in the resource folder res of a decompiled apk file.
for the textual gui widgets such as textview and button weextracttheir textattributes.fortheimage basedgui widgets suchas imageview and imagebutton weextracttheir idand srcattributes wherethe idattributeslinktheguiwidgetsinthe layoutfilestothevariablesinthesourcecode andthe srcattributes provide the names of the resource files i.e.
images and icons .
we mainly use the text from the textand srcattributes.
if they are not available we use the idattributes of the gui widgets.
sensitivebehaviorswithoutguicontextualtexts .notethat forcertainsensitivebehaviorsthathavenorelevantguicontextual text we apply a text similarity based approach to borrow gui contextual text from another app.
specifically describectx computesthe text similarity based on tf idf between the extracted text ofthesensitivebehavior scallgraphandtheguicontextualtext of other apps that use the same permission.
then describectx choosestheguicontextualtextwiththehighestsimilarityscore for the sensitive behavior.
.
.
privacy policy.
in addition to permission descriptions privacypoliciesalsoincludetheinformationunrelatedtothesensitive behaviorsoftheapp suchaslegalinformationanduseragreements.
toeffectivelyextractpermissiondescriptionsfromapps privacy policies describectxincorporatesbert whichhasachieved dominatingperformanceinnaturallanguageprocessing nlp taskssuchasquestionanswering qa andtextclassification.specifically describectx issues permission related questions e.g.
why does ituse smspermission?
totheqamoduleofbert andtheqa modulereturnsananswer i.e.
ansentence fromtheprivacypolicy with the highest confidence.
as apps may use the same permission toperformdifferentsensitivebehaviorsandthepermissiondescriptionsoftenincludemultiplesentences describectxappliesthis extraction process for ktimes each time describectx gets a sentence describectx removes the sentence from the privacy policy and issues the same question to the qa module.
to ensure the pre cision of the extracted permission descriptions describectx onlyaccepts the answers whose confidence are greater than a threshold s. based on our empirical evaluations section we set kto andsto .
.
finally to take into consideration the contexts for the sentences describectx also extracts the previous and the next sentences of each returned sentence.
.
sensitive behavior description learning inthisstep describectxlearnsaneuralmachinetranslationmodelusingtheextractedfeaturesfromthetrainingappsandthereference sentences identified from the corresponding app descriptions.
.
.
model overview.
the overview of our behavior description learningmodelisshowninfigure4.themodeladaptsaseq2seq architecture but accepts three heterogeneous input sequences i.e.
word sequences from pacgs gui contextual texts and privacy policies .
each input sequence is transformed by a text embedding modeland passed to abidirectional lstm long short term memory layer.
next before combining three representations into a single vector we apply the co attention mechanism t o combine the representations of the gui contextual text and pacg.
the main reason for using co attention is that a pacg usually contains many irrelevant words for a specific sensitive behavior and the gui contextual text helps identify the words that are most relevanttothesensitivebehavior.then theconcatenatedvector representation is used as input of the decoder.
when decoding describectx applies another attention layer which computes the relative weights of the three input sequences as well as the relative weights of each word in terms of generating each target word to form the description.
.
.
modeling input sequences.
we adopt similar modeling for all the three input sequences.
in the following we take the guicontextual text as an example.
we denote the embeddings of the wordsintheguicontextualtextas wherexi rl istheembeddingofthe i th word listheembeddingdimension andnis themaximumlength ofthe inputsequence.
toobtain xi we adopt glove which is a pre trained and widely used word embeddingmodelinmachinetranslation asourtextembedding model.then tocapturethe sequentialorderofwords weusethe widely used bidirectional lstm .
each lstm neuron takes thewordembedding xiandtheoutputof theprevious neuron hi as input and outputs hifor the current word hi bi lstm xi hi wherehi rdof sizedis the hidden state of the current lstm neuron anditalsostandsfortheupdatedfeaturevectorforthe i th word.
the output of the bidirectional lstm contains the feature vectors for each input word i.e.
fgui where fgui rd n.notethattheembeddingsofallthewordsincluding those in pacgs gui contextual texts and permission descriptions are maintained in the same lookup table.
.
.
featurecombination.
toeliminatetheirrelevantinformationinapacg weadopttheparallelco attentionmechanismtosimultaneouslyupdatethepacgfeatureandtheguicontextual textfeaturewiththeguidanceofeachother.inthefollowing we showhowtoupdatethepacgfeaturesbasedontheguicontextual text features and the opposite direction can be analogously authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
... we may use gps to determine ... ... weather wait for location ... ... get last known location ... text embedding text embedding text embeddingbilstm bilstm bilstmco attention layer c encoder decoder ... start find yourfind your location ... ... gps end gui contextual text pacgpermission description attention layer figure overview of the behavior description learning model.
obtained.
here the attention improves the pacg feature vector by highlighting the words that are relevant to gui contextual text.
specifically weuse fgui rd nandfcg rd mtodenotethe featurevectors ofthe inputpacgand guicontextualtext where nandmarethemaximumlengthsoftheinputguicontextualtext andpacg respectively.wethencomputethecorrelationmatrix c rn mas follows c tanh ft guiwcfcg wherewc rd distheparametertolearn.notethatthereare n andmfeaturevectorsfortheguicontextualtextandthepacg and thiscmatrix contains the similarities correlations between thesen mpairs of feature vectors.
based on the above correlation matrix we can correlate fgui andfcgbytransferringthefeaturesforeachother.inparticular we update fcgwith the guidance of fgui hcg tanh wcgfcg wguifgui c acg softmax whhcg fcg m summationdisplay.
i a i cgf i cg where fcg rdindicates the final attentive feature vector for the pacg and wgui wcg rr d wh r1 rare learnable parameters.acgstands for the attention importance for each word to the final pacg feature vector.
similarly we can obtain the feature vector fguifromfgui.
in practice we update fguiandfcgin parallel.
for the permission description from the privacy policy since it usually contains human written high quality sentences we directly use the output of the lastlstm neuron as its feature vector.
we denote it by fperm and obtain the final output vector f of the encoder.
.
.
attentivedecoder.
whengeneratingthetargetsequence the relativeimportance weightsofthethreeinputsequencesarenot necessarilyequal.forexample theprivacypolicyismoreimportant whengeneratingwordsrelatedtothedescriptionofpermissions and the gui context and call graph explain more on the specificbehaviors.
therefore describectx applies an attentive decoderto learn the relative importance of three input sequences whengenerating each word of the target sequence.
in particular we alsouselstmtogeneratethebehaviordescription.supposethehiddenstateofthelstmneuronis st rdattimestep t i.e.
when generatingthe t thword .theattentiondistributionofthethree input sequences is then calculated as follows et i vttanh wffi wsst at i softmax et i wheref1 fperm f2 fcg f3 fgui andwf ws rr d v rr areparameters tolearn.the normalized at idetermineshow much attentionshouldbegiventothe i thinputsequencewhengenerating thet th word in the description.
then we can produce the overall representation ct summationtext.
i 1at ifiof thethree inputsequences when generating the t th word.
.
sensitive behavior description synthesis basedonthetrainedmodel givenanappthatcontainssensitive behaviors describectx applies the feature extraction techniques to extract the features from the app and feeds the features intothe model to synthesize descriptions for each sensitive behavior.given the fact that the privacy policy of an app does not neces sarily contain all related permission descriptions the permission descriptionselectionmoduleindescribectxisusedtochooserelevant permission descriptions from the training apps when the related permissiondescriptionsaremissing.itcomputesthetf idfsimilarity betweentheguicontextualtextandthepermissiondescriptions ofthetrainingapps andchoosesthetop ksimilarsentencesasthe permission description.
evaluation we evaluate the effectiveness of describectx on real world apps.
specifically we aim to answer the following research questions rq1 howeffectiveisdescribectxingeneratingdescriptions for sensitive behaviors with and without app specific privacy policies?
rq2 how does describectx compare with the existing work?
rq3 how do different techniques in extracting features affect the effectiveness of describectx?
rq4 howeffectiveisdescribectxingeneratingdescriptions for sensitive behaviors from users perspectives?
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table1 effectivenessresultsof describectxandexistingwork.describectxperformssignificantlybetterthantheexisting work.
describectx pcan further improve describectx when the app specific privacy policies are available.
approach metric calendar camera contact location microphone sms storage average describectxbleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
describectx pbleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
code2vec bleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
code2vec pp bleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
describeme bleu .
.
.
.
.
.
rouge l .
.
.
.
.
.
describectx ctxbleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
describectx guibleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
describectx ppbleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
describectx cpbleu .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
rouge l .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
evaluation subjects and setup wecollectedreal worldappsofdifferentcategoriesfromgoogle play as our evaluation subjects which are then grouped based ontheirpermissiongroups .notethatallpermissionsare protecting user understandable sensitive data .
thus wefocuson12dangerouspermissionsin7groups whichare the representative permissions that protect user understandable sensitive data.
since we need to use the permission descriptions in privacy policies for training and the explanations of permission usesinappdescriptionsforassessingthequalityofthesynthesizeddescriptions we choose apps that use at least one of the dangerous permissions and satisfy the following two requirements permissiondescriptionsinprivacypolicy foreachapp ifitprovides a link for a privacy policy we apply relevant keyword searchtocheckwhethertheprivacypolicycontainssentences to explain the permission.
permissionexplanationinappdescription foreachchosenpermission we apply relevant keyword search to check whether their app descriptions contain sentences that may explain the usesofthepermission.wethenmanuallyinspectthesesentences to determine whether they can be used as reference sentences.
intotal weexamine8 814apps anduse1 262qualifiedapps .86gb .93mbonaverage .thedetailednumberofappsineachpermission group can be found in table .
note that we exclude the phone permission group because its permissions i.e.
read phone state call phone read write call log are barely explained in apps descriptions only apps .
we compile a list of permission protected apis from api level to level from the android developer website.wealsomanuallyinspectthepermission apimappings providedbypscout andaddmoreapisiftheapisaccesssensitivedataandarenotdeprecatedafterapilevel20.intotal weobtain unique permission protected apis.
for each app describectx is applied to build an iccg and extract pacgs from the iccg for each permission protected api call.
on average describectx extracts .
pacgs from each app.
training and prediction .foreachpermission protectedapiin an app we extract its pacgs gui contextual text and permissiondescriptionasaninputtriple andusethereferencesentenceasthe output.
in total we obtain data samples from the apps.
to evaluate the effectiveness of our model we perform ten fold crossvalidation.fortheparameters wesetthewordembedding sizel 100andthelstmstatesize d .themaximumlengths ofthetextsequencesextractedfromguicontextualtext pacgs and privacy policy are all set to .
based on our empirical results section .
describectx uses top relevant permission descriptionsfromthetrainingappswhenanapp sownprivacypolicydoes notproviderelatedpermissiondescriptions.themodelistrained using stochastic gradient descent with the adam optimizer.evaluation metrics .
we measure the effective of describectx using two widely used metrics for machine translation bleu androuge .bleu n nfrom1to4 score represents the percentage of the n grams from the synthesized description thatalsoco occurinthereferencesentence wherescore100means a perfect match.
the bleumetric used in our evaluations is the average of bleu n nfrom to .
for rouge w eu s erougel which takes the longest common subsequences in reference sentences and synthesized descriptions into account.
similar to bleu rouge lscore percentageisalsointherangeof with indicating a perfect match.
user study .a sbleuandrouge ldo not fully consider semanticmeaningsandgrammaticalstructures wefurtherconducttwo userstudiestoevaluatewhetherthesynthesizeddescriptionsare similar to the reference sentences.
the first study recruits students with android usage experiences in their daily lives and android development experiences and the second study leverages amazon mechanical turk mturk to recruit users with more diverse backgrounds.
mturk is a crowdsourcing marketplace which enables researchers to easily harness the collective insights from the survey participants with different backgrounds and experiences.
havingtwodifferentgroupswithparticipantsfromvariousbackgrounds is more representative and bias resistant.
for both user studies we compare the synthesized descriptions generated by describectxwiththebaselinesdescribectx ctxandcode2vec pp.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table permission groups and reference sentences.
permission group apps refs coverage storage .
location .
microphone .
camera .
contact .
sms .
calendar .
average .
describectx ctxuses the features of permission and privacy policies sothatitcanbuildthevocabulariesforsensitivebehaviors but does not use pacgs and gui contextual text to represent sensitivebehaviors.code2vec ppusescode2vec tomodelcode and generate sentence and extends it by incorporating the privacypolicyasinput.wealsoprovideanintroductiontohelpthe participants better understand the purpose of the survey.
for the first user study we recruited graduate students and undergraduate students.
the participants are provided with a referencesentenceandthreesynthesizeddescriptions andaskedto provide ratings on whether each synthesized description is similar to the reference sentence from two aspects syntactical correctness and semantic closeness.
for each aspect the students rate each synthesized description using a point scale very bad bad so so good and very good .
to reduce the bias of the userstudy werandomlyshufflethethreesentencesproducedby the three approaches.
in total each student is given a survey of quadruples of one reference sentence and three synthesized sentences and each synthesized sentence is rated by students.
fortheseconduserstudy weresorttomturkforanopensurvey.
wedivide1 556data samplesinto50splits eachcontaining31or samples and send out splits i.e.
for each split .
each sampleconsistsofareferencesentenceasthequestionandthree synthesizedsentencesfromthethreeapproachesastheanswers.
theorderofthethreeanswersisrandomlyshuffled.ratingthesynthesizedsentencescanbetime consuming andmturkparticipants areperhapsmoreimpatient.thus insteadofratingthesynthesized sentences for each question mturk participants are asked to pick one or more answers that look like the reference sentence in terms of semantic closeness.
to ensure the quality of the collected an swers we constrain that each sample is displayed for at least secondsbeforeitcanbemovedtothenextsample.foreachdata split wealsointentionallypluginanadditionaldatasamplewith oneobviousanswerandtwoirrelevantanswers.iftheuserchose the irrelevant answers we consider all his her answers invalid and removethemall.thereare275uniqueusersparticipatinginour study and out of them are considered valid.
the example survey the consent form the detailed statistics oftherecruitedstudents andmoredetailsoftheuserstudiesare available at our project website .
.
rq1 overall effectiveness table shows the effectiveness results of our approach.
we first compare describectx which uses relevant permission descriptionsfromtheprivacypoliciesoftrainingapps withdescribectx p whichusesthepermissiondescriptionsfromtheapps ownprivacy policies.onaverage describectxachieves24 .47bleuscorewith a standard deviation of .
and achieves .88rouge lscore with a standard deviation of .
.
describectx pachieves slightly higherbleu .75withastandarddeviationof3 .
androugelscores .
with a standard deviation of .
.
these results indicate that most popular apps use permissions for similar purposes and thus with the guidance of behavior represen tation and gui contextual text the relevant permission de scriptionsofotherapps privacypoliciescanbeleveragedtosynthesize accurate descriptions.
ingeneral describectxperformswellinallpermissiongroups bleu even in the calendarand smsgroups where we have a limited number of training samples only and as shownin table .
the possible reason is that the permissions in thesegroups are used for similar purposes e.g.
send sms or send text message for send sms and add event for write calendar .
the lowestrouge lscoreisfromthe microphone group.onepossible reasonisthatthoseappsusemicrophonesforquitediversepurposes includingdetectingsurroundingnoise recordingspeech having audio or video chat or even playing games.case study .weprovidesomeexamplesintable3.thefirsttwo examplesarefromthe cameragroup.wecanobservealthoughthese two appsuse camerasfor different purposes take photosvs.
scan qr code describectx is able to synthesize non trivial and highquality descriptions for both of them.
this is due to the fact that we take app specific contextual information as input.
for example describectxextracts photo and gallery fromtheguiofthe firstappandextracts scantheqrcode fromtheguiofthesecondapp.additionally thesecondapp sprivacypolicydoesnotprovide any permission description for this behavior and describectx addressesthisproblembyextractingthepermissiondescriptions fromthemost similar appsinourtrainingset e.g.
ourappuses camera permission for scanning purpose and connecting them with the gui contextual text.
two more examples from the storage and locationgroups are shown in the table where unique words areextractedfromapps guistosynthesizethedescriptions.the lastexampleisfromtheapp com.lily.times.tweenshusky.all whichusesthemicrophonetorecorduser sspeechandrep eatsitusingthe voice of husky dog.
describectx precisely identifies the sensitive behavioroftheapp i.e.
usingthemicrophonetorecordyourvoice .
however app specific words such as husky and funny voice from the app s gui contextual text are ignored given the fact that theyareveryrareinthetrainingdata.insummary theseexamplesshowthat apps guicontextualtextsandrelevantpermission descriptions in privacy policies can provide app specific in formation to improve the synthesized descriptions.
.
rq2 comparison with existing work next we compare describectx with the following three linesof the state of the art approaches.
approach that identifiessentences in app descriptions to explain sensitive behaviors authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table3 synthesizedexamplesfromdifferentpermissiongroups.theboldwordsrepresenttheuniquewordsthatareextracted from apps guis and used by describectx to synthesize the descriptions.
app permission group reference sentence describectx bleu app.tocus.photoframe.
missyouphotoframecameratake your photos from your gallery or from the cameratake photos from your gallery or take fromthe camera62.
com.citylife .cachier camerascan the qr code of the cards andquickly receive the informationyou canscan the qr code with phone camera .
nl.fotoview.shatter storagesave and share your imagein jpg or png formatyou cansave image to your phone and share with social media on social31.
com.cedarfair.
canadaswonderlandlocationthe app uses your location to keepyou up to date with offers eventsand activities relevant to your locationthis app will read your location informationyou cansearchlocation and nearby service25.
com.lily.times.
tweenshusky.allmicrophonetalk to husky dog and he will repeateverything you say with a funny voicethe app uses microphone to record your voice .
.
two closest related approaches code2vec and describeme .
code2vec leverages only the source code of the app constructs abstract syntax tree ast of each method and usesattentiveseq2seqmodeltogeneratesummaryforthesource code.
describeme leverages both gui contexts and call graphsof the app and uses pre defined templates to generate sensitivepermission descriptions.
traditional comment generation ap proach that does not consider app contexts i.e.
gui contextualtext and call graph or app specific vocabulary i.e.
privacy pol icy or uses code context i.e.
call graphs solely .
specifically thesemethodscanbeseenasvariantsof describectx describectx ctxthatusesonlyprivacypoliciesoftheappsasinput describectx guithat uses both privacy policies and pacgs as inputs and describectx ppthat uses app contexts as inputs.
comparison with sentence identification .
in this comparison wemeasurethenumberofdangerouspermissionsrequestedbythe apps apps and the number of reference sentences provided to explain them as shown in table .
as we can see each app requests .
dangerous permissions on average and the reference sentences cover only .
permissions which results in the average coveragebeingonly37 .
.thisshowsthatappdescriptionsdo not always have the descriptions for all the dangerous permissions requested by the apps.
in contrast describectx can synthesize descriptions for all permissions.comparison with code2vec and describeme .thecomparison results of these two approaches are shown in table .
we can seethatdescribectxoutperformscode2vecforallpermission groupsintermsof bleuandrouge lscores atleast43 better .
ascode2veclacksthevocabularyfromprivacypolicies wealso feedtheprivacypoliciesintocode2vec slearningmodel resultinginavariantof code2vec thecode2vec ppapproach.code2vec pp is much better than code2vec achieving a bleuscore of .
and arouge lscore of .
.
nonetheless describectx still outperforms code2vec ppby .
for the bleuscore and20 .
for therouge lscore.
these results indicate that gui contextual textsandpacgsoftheappscontributemoreonsynthesizingaccuratesensitivebehaviordescriptionsthanusingthesourcecode representationalonewithcode2vec.fordescribeme wecompare only three permission groups i.e.
sms storage and contact sincewecanonlyfindthesethreetemplatesfromtheirpaper2.wecan seethatdescribectxsignificantlyoutperformsdescribemeon bothbleuandrouge lscoresinthesethreepermissiongroups especially the smsgroup bleuscores .
versus .
.
comparisonwithtraditionalcommentgeneration .asshown in table describectx outperforms the three competitors for all permissiongroups.describectx ctxonlyachievesa bleuscoreof .38andarouge lscoreof17 .74onaverage.thisissignificantly lowerthandescribectx droppingrelativelyby24 .
and22 .
respectively .describectx guiachievesa bleuscoreof18 .79and arouge lscore of .
on average.
these scores are slightly higher than those of describectx ctx indicating the effectiveness ofusingpacgsinsteadofthepermissionnames.still describectxachievesmuchhigher bleuandrouge lscoresin6outof7permission groups i.e.
calendar camera location microphone sms and storage indicating that gui contextual text plays an important rolefordescribectxtogenerateapp specificdescriptionsinthese sixpermissiongroups.fordescribectx pp itperformsrelatively poor indicating the importance of incorporating the vocabulary of privacy policies.
overall these results demonstrate that describectx outperforms the state of the art techniques in terms of bleuand rouge lscores.
.
rq3 impact of feature extractions we next evaluate the impacts of different design choices in the feature extraction.impactofpacgs .wefirstdesigndescribectx cpthatusesacall path instead of a pacg as its features for behavior representation.
asshownintable1 describectxoutperformsdescribectx cp by .
and .
on average in terms of bleuandrouge l scores.
for the permission groups smsand contacts the scores of both methods are almost identical as the gui contextual text in thesetwopermissiongroupsalreadycontainssufficientinformation for explaining sensitive behaviors e.g.
send sms or open contact .overall thisexperimentindicatesthatcomparedtocall 2we have contacted the authors but they were not able to provide the complete set of the templates used in their study.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
a user study a b user study b figure user ratings for the synthesized descriptions of different approaches.
the proposed describectx is betterthan the two competitors in both user studies.
paths ourpacgscontainmoreusefulinformationthatcanbeused to synthesize sensitive behavior descriptions.impact of permission descriptions extraction .
existing work provides various techniques that can be used to extract permission descriptions from apps privacy policies .
we comparedescribectx spermissiondescriptionextractiontechnique with a keyword based search approach and two text classification techniques using bert and cnn .
we manually label the sentencesthatdescribepermissionusesintheprivacypoliciesas the ground truths and compute the precision recall and f 1values ofeachtechnique.theresultsshowthatdescribectxachievesthe best f1score .
among all the compared approaches while the keyword based search technique achieves the worst f 1score .
.
theseresultsclearlydemonstratethesuperiorityof describectx s permissiondescriptionextractiontechniqueovertheexistingones.
impact of top krelevant permission descriptions .
in this experiment wecomparetheresultsof describectxusingdifferent kvalues ranging from to .
the results show that describectx achieves the best results when kis or .
to mitigate the overfitting issue k is used in our evaluations.
the bleuscores achieved by describectx drop sharply when k .
the probable reasonis thatwhen kbecomeslarger morenoisesare introduced and it becomes more difficult to synthesize accurate descriptions.
.
rq4 user study figure shows the results of our two user studies where we compare describectx with describectx ctxand code2vec pp.
figure5 a showstheaverageratingsfromtherecruitedstudentsof differentapproaches.wecanseethatdescribectxachieveshigherratingsforbothsyntacticalcorrectnessandsemanticclosenessthanthetwocompetitors.forexample comparedwithdescribectx ctx therelativeimprovementsof describectxare5 .
.30versus .
and9.
.55versus3 .
respectively.figure5 b shows the results from mturk workers.
here we collect the pick ratios of differentapproaches i.e.
thepercentageofsentencesselectedas themostsemantically similaronetothereference sentences.the resultsshowthatusersaremoreinclinedtochoosethesynthesized sentences from describectx.
compared with describectx ctx describectx improves it by .
.
versus .
.
we also observe some inconsistencies between user ratings and bleu rougescores.
we show two examples in table .
the first example uses the calendarpermission and its bleuscore is .
whichismuchlowerthantheaverage.however theuserratingsindicatethatthisisanaccuratedescriptionasitssemanticratingis much higher than the average i.e.
.
versus .
.
the reason isthatbleu rouge lscoresmeasuretheword levelsimilarity between the synthesized description and the reference sentence whereas user ratings could better cover the semantics.
for the second example although the bleuscore of the synthesized descriptionismuchhigherthantheaverage thesemanticratingis only2.83asthekeyword usb ismissing.theseexamplesillustrate the necessity of conducting the user study.
overall thesetwouserstudiesshowthat thesynthesized descriptions of describectx are better than the existing ap proaches from users perspectives.
threat to validity themaininternalthreatcomesfrommistakenlylabellingthereferencesentencesforthesensitivebehaviors.tomitigatethethreat each sentence is verified by at least two authors and we further check the guis and the code when we are not sure whether a sentenceisprovidingjustificationtoapermission.anotherinherent limitation is that describectx does not consider dynamic loading gui texts in the feature extraction phase.
this would cause describectx miss some gui contextual texts of the sensitive behaviors.wemitigatethisissuebyusingsimilarguicontextualtexts from other training samples.
the main external threat comes from the representativesness of our evaluation dataset.
we have used dangerous permissionsin groups that protect user understandable sensitive data andchose apps that contain both reference sentences and privacypoliciesasweneedtousetheapps referencesentencesand privacy policies to assess the effectiveness of describectx.
tomitigate the threat for generalizing sentences for the apps that do not contain privacy policies describing their requested permissions describectxleveragesthetrainingapps privacypolicies tocomplementthemissingprivacypoliciesfortheapps.wealso exclude the phonepermission group due to lack of training data.
thesethreatscanbefurthermitigatedbycontactingthedevelopers of the apps to provide the accurate descriptions.
discussion application of describectx .
the synthesized descriptions of describectxcanhelpusersunderstandthefunctionalitiesofapps when the original app descriptions are incomplete or absent.
also the synthesized descriptions can be used to check whether an app provides only low qualify general descriptions for permission uses bycomparingthesynthesizeddescriptionswiththeprovideddescriptions and serve as the basis for developers to provide customized permission descriptions.sensitive behaviors .
describectx focuses on the sensitive behaviors resulted by invoking sensitive apis.
however apps may usesensitivedatainandroid s intentandurimessages orthrough the inputs from guis .
such issues can be mitigated by integratingexisting static dynamicanalysis techniquesto expand the scope of the sensitive behaviors.codeobfuscationandthird partylibraries .inourevaluation subjects we observe that at least .
of the apps out of apply obfuscation techniques on their code.
as demonstrated authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
table example synthesized descriptions with contradictory bleuscores and user ratings.
bleurating semantics syntax reference sentence describectx .
.
.
you can view all schedules in calendar or create a schedule you can read calendar and add event to calendar .
.
.
download recordings to a usb storage download files to your phone storage in section .
while describectx discards obfuscated names in callgraphs describectxisstillabletoeffectivelysynthesizedescriptions with the help of the contextual information provided by gui text.
also section .
shows that describectx cpthat uses call paths instead of call graphs are more sensitive to obfuscations due to the limited nodes in the call paths.
currently describectx does not consider third party libraries as apps generally do not explainthe usesoflibraries tousers.these issuescanbeaddressed by requesting developers of third party libraries to provide their own descriptions on the permission uses.
malicious apps .describectx isdesignedto synthesizedescriptions for sensitive behaviors but not to detect malicious behaviors thatdeliberatelyevadedetection .formaliciousapps thataimtomanipulatepermission protecteddata describectxcan still synthesize descriptions for them by training a model on maliciousappswithreferencesentences e.g.
malwarefamilydescription thatexplainthemaliciousbehaviors.formaliciousbehaviorsthatdonotconcernaboutthesensitivedataprotectedby permissions suchasrootphonesandc c commandandcontrol we can adopt the advanced detection techniques which is out of the scope of describectx.
referencesentences .
we consider the app descriptions provided bytheappdevelopersasthemostreliableandeasy to accesssource forreferencesentences.tomitigatetheriskthatdevelopersmay lieaboutthepermissionuses wechooseonlyhigh qualitypopular apps and manually inspect the chosen apps functionality to verify that the provided app descriptions can be used.
crowd sourcingapproaches may also be adopted to collect reference sentences especially for the apps that lack such sentences in the app descriptions.
however obtaining anaccurate referencesentence requires deployingappsandinspectingcode whichisanon trivialeffort.
nonetheless we conductsuch an evaluation byfirst randomly selecting apps that are not included in our evaluation dataset.
then two authors spent over hours to verify the apps and write thebehaviordescriptions bydeployingtheminandroid8 .0virtual machine and inspecting the source code via jadx .
in total we obtain64sensitivebehaviorsfromtheseappsbyexcludingthose requiring login leading to failures or triggering sensitive behavior inthebackground.amongthem author writtendescriptions are semantically consistent with the synthesized sentences by describectx.
this result shows that describectx synthesizes sentencesthatcanwelldescribethesensitivebehaviorsthemselves.
related work extracting descriptions for sensitive behavior .
there exists a line of work that adapts nlp techniques and machine learning techniques to extract sentences in app descriptions for explaining thepermission uses.
however thesesentences usually cannot cover all the permissions requested by the apps.
unlikethese approaches describectx incorporates app descriptions and privacy policies into the neural machine translation model to synthesize descriptions for sensitive behaviors.
recent work generates descriptions using behavior description model for the call graphs of sensitive apis.
unlike describectx this approach uses only words from the code failing to consider app specific functionality described inprivacy policies and guis.in addition some work identifies sentences that describe what types of informationhave beenused inthe apps while describectx identifies the permission descriptions for the sensitive behaviors.code comment generation .earliercodecommentgeneration workadoptstemplate basedorheuristic basedtechniquestogenerate comments for source code .
however these proposals have been shown to be less effective and flexible comparedto data driven techniques.
later deep learning techniques such asconvolutionalneuralnetworksandrecurrentneuralnetworks have been adopted to translate a small piece of the source code into comments .
however these proposals do not consider the context of sensitive behaviors and are not as effective as describectx as shown in section .
and section .
.seq2seq and attention mechanism .
seq2seq learning and the attention mechanism have become the de facto standard in many applications including neural machine translation text summarization and question answering.
as a promising deep learning model seq2seq model has also been used in addressingplenty of other software engineering tasks such as commit mes sage generation comment generation api migration and program synthesis .
in this work we also adopt the attentive seq2seq model for synthesizing natural language descriptions.
different from existing work we encodethree way information in our seq2seq model and pay special attention to learning the context of sensitive behaviors via applying co attention on the call graph and gui words.
conclusion we have presented a context aware neural machine translation approach describectx that trains a seq2seq model using a large number of apps and generates descriptions for sensitive behaviorsintheappsbasedonapp specificcontextualinformation.describectx provides static analysis techniques and text analysistechniquestoextractfeaturesfromapps callgraphs guilayout files andprivacypolicies formingthreeheterogeneousinputsequences for training the model.
our evaluations on real apps showthatdescribectxachieveshigh bleu rouge lscoreswith respect to the reference sentences in the app descriptions.
usersalso provide relatively high ratings for describectx in terms of syntactic and semantic aspects of the synthesized descriptions.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.