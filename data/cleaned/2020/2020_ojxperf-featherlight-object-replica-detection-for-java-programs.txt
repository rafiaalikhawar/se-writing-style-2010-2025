ojxperf featherlight object replica detection for java programs bolun li north carolina state university raleigh north carolina usa bli35 ncsu.eduhao xu college of william and mary williamsburg virginia usa hxu07 email.wm.eduqidong zhao north carolina state university raleigh north carolina usa qzhao24 ncsu.edu pengfei su university of california merced merced california usa psu9 ucmerced.edumilind chabbi scalable machines research milind scalablemachines.orgshuyin jiao north carolina state university raleigh north carolina usa sjiao2 ncsu.edu xu liu north carolina state university raleigh north carolina usa xliu88 ncsu.edu abstract memory bloat is an important source of inefficiency in complex productionsoftware especiallyinsoftwarewritteninmanagedlanguagessuchasjava.priorapproachestothisproblemhavefocused on identifying objects that outlive their life span.
few studies have however lookedintowhetherandtowhatextentmyriadobjectsof the same type are identical.
a quantitative assessment of identical objects with code level attribution canassist developersin refac toring code to eliminate object bloat and favor reuseof existing object s .theresultisreducedmemorypressure reducedallocation and garbage collection enhanced data locality and reduced re computation all of which result in superior performance.
we develop ojxperf alightweight sampling based profiler which probabilistically identifies identical objects.
ojxperf employshardwareperformancemonitoringunits pmu inconjunction with hardware debug registers to sample and compare field valuesof differentobjects ofthe sametypeallocatedat thesame callingcontextbutpotentiallyaccessedatdifferentprogrampoints.
the result is a lightweight measurement a combination of object allocation contexts and usage contexts ordered by duplication frequency.
this class of duplicated objects is relatively easier to optimize.
ojxperf incurs9 runtimeand6 memoryoverheads on average.
we empirically show the benefit of ojxperf by using itsprofilestoinstructustooptimizeanumberofjavaprograms including well known benchmarks and real world applications.
the resultsshowanoticeablereductioninmemoryusage upto11 andasignificantspeedup upto25 .
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation onthe firstpage.copyrights forcomponentsof thisworkowned byothersthan the author s mustbehonored.abstractingwithcreditispermitted.tocopyotherwise or republish topostonserversortoredistributetolists requirespriorspecificpermission and or a fee.
request permissions from permissions acm.org.
icse may pittsburgh pa usa copyright held by the owner author s .
publication rights licensed to acm.
acm isbn ... .
reference format bolun li hao xu qidong zhao pengfei su milind chabbi shuyin jiao and xu liu.
.
ojxperf featherlight object replica detection for java programs.in 44thinternationalconferenceonsoftwareengineering icse may pittsburgh pa usa.
acm new york ny usa pages.
introduction memorybloatisacommonprobleminmanagedlanguages suchas javaandc .theproblemisparticularlysevereinlarge production software whichemployslayersofabstractions third partylibraries andevolvesovertimeintocomplexsystemsnotcomprehendibleby anysingledeveloper.furthermore theseprogramsrunforalong time severalmonthsatatime givingthemanopportunitytogrow their memory footprint and become a source of major problems in production environments often shared by several other programs.
an object that is not reclaimed by the garbage collector gc but neither read nor written any more is considered to be leaked .
a memory leak happens in managed languages because useless objects remain unreclaimed by the gc because of unnecessary