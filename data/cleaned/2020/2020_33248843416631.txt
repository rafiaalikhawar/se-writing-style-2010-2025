trace checking signal based temporal properties a model driven approach chaima boufaied university of luxembourg chaima.boufaied uni.luclaudio menghi university of luxembourg claudio.menghi uni.ludomenico bianculli university of luxembourg domenico.bianculli uni.lu lionel briand university of luxembourg university of ottawa lionel.briand uni.luyago isasi parache luxspace s rl isasi luxspace.lu abstract signal based temporal properties sbtps characterize the behaviorofasystemwhenitsinputsandoutputsaresignalsovertime they are very common for the requirements specification of cyberphysical systems.
although there exist several specification languagesforexpressingsbtps suchlanguageseitherdonoteasily allow the specification of important types of properties such as spikeoroscillatorybehaviors orarenotsupportedby efficient trace checking procedures.
in this paper we propose sb tempsy a novel model driven trace checking approach for sbtps.
sb tempsy provides i sbtempsy dsl a domain specific language that allows the specificationofsbtpscoveringthemostfrequentrequirementtypesin cyber physical systems and ii sb tempsy check an efficient model driven trace checking procedure.
this procedure reduces theproblemofcheckingansb tempsy dslpropertyoveranexecution trace to the problem of evaluating an object constraint language constraint on a model of the execution trace.
we evaluated our contributions by assessing the expressiveness ofsb tempsy dslandtheapplicabilityofsb tempsy checkusing a representative industrial case study in the satellite domain.
sbtempsy dsl could express of the requirements of our case study and sb tempsy check yielded a trace checking verdict in ofthecases withanaveragecheckingtimeof .7s.fr oma practical standpoint and compared to state of the art alternatives our approach strikes a better trade off between expressiveness and performanceasitsupportsalargesetofpropertytypesthatcanbe checked in most cases within practical time limits.
ccs concepts software and its engineering software verification and validation specification languages.
permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation on the first page.
copyrights for components of this work owned by others than acmmustbehonored.abstractingwithcreditispermitted.tocopyotherwise orrepublish topostonserversortoredistributetolists requirespriorspecificpermissionand ora fee.
request permissions from permissions acm.org.
ase september virtual event australia association for computing machinery.
acm isbn ... .
.
.3416631keywords tracechecking run timeverification temporalproperties specification patterns model driven cyber physical systems signals acm reference format chaima boufaied claudio menghi domenico bianculli lionel briand and yago isasi parache.
.
trace checking signal based temporal properties a model driven approach.
in 35th ieee acm international conference on automated software engineering ase september virtual event australia.
acm new york ny usa pages.
https introduction trace checking is a run time verification technique that uses anautomateddecisionproceduretocheckproperties basedona system s requirements ontraces representing system executions.
trace checkingtoolsareusedforsoftwareverification validation v v activities as test oracles and run time monitors .
in this paper we consider a specific subset of trace checking tools whichcanbedefinedusingtheconceptsrecentlyintroducedina taxonomy for run time verification tools supporting explicit declarative temporal specifications i.e.
tools that require users to formally express the requirements to be checked usingadeclarativespecificationformalismthatallowsfor expressing constraints over time deployedatthe offlinestage i.e.
toolsthatrunafterthesystem has finished its execution which has been recorded in traces yielding a verdictasoutput i.e.
an indication e.g.
a boolean value ofwhethertheinputtracesatisfiesthepropertybeingchecked.
insuchtools therequirementstocheckareexpressedusinga declarative specification formalism such as temporal logic based ordomain specificlanguages.temporallogic basedlanguages e.g.
ltl mtl mltl qtl provide mathematical based constructs to express arbitrarily complex requirements using a basic set of temporal operators.
domain specific languages dsls for temporal specifications e.g.
propel dnl structuredenglish grammar for real time specifications temporal ocl oclr vispec graphicalformalism tempsy tempsyag promobobox propertylanguage fretish provide a set of predefined constructs that concisely capture certain typesofrequirementsthatare specificto acertaindomain possibly relying on property specification patterns .
in terms of applicabilityforrequirementspecifications logic basedlanguages typically require a strong mathematical background limiting their 35th ieee acm international conference on automated software engineering ase adoptionamongpractitioners.ontheotherhand dslsaremoreaccessible for domain experts since they make available as first class constructsinthelanguage concepts orpatterns thatarespecific tothedomain.forexample tworecentempiricalstudies provideevidencethathigh levellanguagesbasedonpropertyspecificationpatternsresultintoahigherlevelofunderstandabilitythan logic based languages like ltl.
typically forbothtypesofspecificationlanguages theexpressiveness of the language is inversely related to the efficiency of thecorrespondingtrace checkingprocedure.therefore themain challenge facedwhen defining atrace checking approach suitable for industrial contexts is finding a reasonable trade off between these two conflicting aspects.
in this work we consider the problem of trace checking requirements expressed in terms of signal based temporal properties sbtps .sbtpscharacterizethebehaviorofthesystemwhenitsinputsandoutputsaresignalsovertime theyareusedinavarietyofcyber physicalsystem cps domains includingaerospace automo tive anddefense .anexampleofansbtp comingfromourcase studyinthesatellitedomain is thevelocityofthesatellitealongthe x axis shall oscillate with a maximum amplitude of 8000km hand a maximum period of 180min where the velocity of the satellite along the x axis isa signal.
this property requires the systemto ensure that the signal exhibits an oscillatory behavior with certain parameters in this case the amplitude and the period .
sbtps areusually evaluatedon tracesthat arecollected byrecording the valuesofsignalsovertime.traceentriescanberecordedatfixed or variable sampling rates meaning that trace entries are recorded attimeinstantsthatareseparatedbyfixedorvariable timeintervals respectively.
system and software engineers have to assess either manually or by means of tools whether the recorded traces satisfy or violate the system requirements.
although there exist severallogic based e.g.
stl stl sfo rfol and domain specific languages that have been proposed in the literature toexpress sbtps such languageseither donot support thespecificationofimportanttypesofproperties orarenot supported by efficient trace checking procedures .
in this paper we propose sb tempsy a trace checking approach forsbtpsthatstrikesagoodbalanceinindustrialcontextsasitcan beefficientlytrace checkedandcoversthemostimportanttypes of properties in practice across cps domains.
sb tempsy provides sb tempsy dsl a domain specific language that allows the specificationofsbtpscoveringthemostfrequentrequirement types in cps domains an efficient trace checking procedure implemented in a prototype tool called sb tempsy check.
sb tempsy dsl is a pattern based specification language.
it has been defined in collaboration with system engineers in the satel lite domain and supports the specification of the most common typesofsbtpsincps recentlyidentifiedinataxonomy .sbtempsy dsldiffersfromthepattern basedspecificationlanguages for temporal properties mentioned above since it is tailored to express sbtps.
its syntax provides constructs that allow engineers to specify in a simple and precise way complex signal based behaviors such as spikes and oscillations without requiring a strong theoretical background in logic based languages for sbtps.our trace checking procedure is based on the idea of modeldriven trace checking originally proposed by dou et al .
for the verification of temporal properties based on dwyer et al .
s specification patterns and thus not supporting sbtps .
using a model driventracecheckingapproach we reducetheproblemof checkingansb tempsy dslpropertyoveranexecutiontraceto the problem of evaluating an object constraint language ocl constraint thatissemanticallyequivalenttothesb tempsy dsl property onamodeloftheexecutiontrace.wemadethischoice sinceoclisastandardizedconstraintspecificationlanguagedefinedbyomg and asaresult issupportedbyamatureconstraintcheckingtechnology suchastheconstraintcheckerincluded ineclipseocl .basedontheseobservationsandtheencouraging efficiency results reported in the literature for model driven trace checking approaches we surmised that this choice wouldallowthedevelopmentofatrace checkingtoolabletoanalyzecomplexrequirementsonreal worldexecutiontraceswithin practical time limits.
the evaluation of this conjecture was part of our empirical investigation.
we evaluated our solution by assessing the expressiveness of our specification language sb tempsy dsl and the applicabilityof our trace checking tool sb tempsy check to a representativeindustrial case study in the satellite domain we also comparedthem to state of the art approaches.
using sb tempsy dsl wecould express out of requirements of our case study.
sbtempsy dsl was considerably more expressive than stl which is supported by publicly available trace checking tools.
furthermore inmostcases sb tempsy checkcompletedtheverification of these requirements on industrial execution traces within a settime out of two hours which we deemed practical based on the developmentcontextofourcasestudy.overall theresultsofour empiricalinvestigationshowthatsb tempsyrepresentsaviable trade offbetweenanexpressivespecificationlanguageforsbtps sb tempsy dsl and an efficient trace checking procedure sbtempsy check .furthermore theresultssuggestthatsb tempsy could be combined with existing approaches efficiently supporting stl.
in this way we show we can make optimal use of a given verification budget while avoiding most time outs by relying on thebesttooloptiondependingonthetypeofthecheckedproperty.
the rest of this paper is organized as follows.
section presents our case study in the satellite domain and discusses the motiva tionsforthiswork.section3explainsthenotationandthebackgroundconceptsusedintherestofthepaper.section4provides an overview of sb tempsy further detailed in section whichpresents sb tempsy dsl and in section which presents our model driventracecheckingprocedureimplementedinsb tempsy check .
section reports on the empirical investigation of our contributions.
section discusses related work.
section concludes the paper and provides directions for future work.
case study and motivations luxspace our industrial partner has developed in collaboration with esa and exactearth a maritime micro satellite tocollectais automaticidentificationsystem trackinginformation from vessels operating on earth and to relay those data to the ground.
1005throughoutthesatellitedevelopment ourpartnerfollowsdifferentdevelopmentphases.thisworkissetinthecontextofthe design phase i.e.
phases b c in the satellite domain which includesseveralactivities suchasthedefinitionofthesystemrequirementsandinterfaces thedefinitionofthespacecraft payload launcher and ground segment and the design and development of the on board satellite software obsw .
the obsw is a complex mission critical software component which includes several modules that control and monitor the operationsandthephysicalbehaviorofthesatellite.itsmainmodules are theon board data handling controlling the satellite platform and payload andcollectingand storingthe data the electric power system regulatingthepowerofthesatellite the telemetryandtelecommand receivingtele commands fromand sendingdata tothe ground the thermal control ensuring that each component of the satellite remains within its operational temperature ranges and theadcs attitude determination and control system estimating and regulating the satellite attitude .
v vplayacrucialroleduringthedevelopmentoftheobsw given the complexity of the physical behavior being controlled by the obsw and the various hardware components e.g.
sensors and actuators and software modules involved.
for example a typical v v step is an in depth testing of the adcs module of the obsw .
attheverylaststageofthedevelopment testingisperformed ontheactualhardware basedfacilitiesandinvolvesallthesoftware modulesoftheobsw.asinmanyothercyber physicaldomains our industrial partner relies on a multi purpose simulator that supportstestexecutionbothontheactualhardwarecomponentsofthesatelliteandonsoftwarestubsreplacingsuchcomponents.thisfeatureallowsdeveloperstoanticipatetestingactivities whenhardware components are not yet available and to reduce the risk of hardware damages by running high risk test cases relying on simulation andthusensuring beforehandthere isno unexpectedand harmfulbehavior.duringobswtesting aspecificconfigurationofthesatellite software hardwarecomponents isloadedonthesimu latorforeachtestcase then thesatellitebehavioroveragiventimeissimulatedanddataarecollectedintraces .duetothecomplexity of thephysical modelsinvolved during simulation itself resulting from the complex physical behavior being controlled by obsw the time to complete a simulation and generate the corresponding trace is on the order of several days.
in the current practice luxspace engineers are using ad hoc solutions to inspect whether these traces satisfy the system re quirements.
in the case of the obsw requirements are complex propertiesconstrainingthebehaviorofaninputoroutputsignal e.g.
intermsofthetypeofoscillationsallowed wewillpresent examples of these properties in section .
.
inthiscontext themainchallengeistoautomatethecheckingof system requirements expressed as complex sbtps on simulation traces by means of an efficient offline run time verification i.e.
trace checking procedure.
1we remark that our solution can also be applied in phases d e. 2note that simulation is used in its broad sense generally indicating a simulation scenario.
as such a simulation also considers the case in which all the hardware components of the satellite are in place.although this case study is set in the satellite domain it is in many ways representative of other complex cyber physical do mains where the behavior being controlled involves convolutedphysical dynamics such as the satellite attitude and the system requirements are therefore expressed as complex properties on the shape of the input and output signals e.g.
spikes and oscillations .
background .
traces asimulationtrace yieldedattheendofthesimulation containsentrieswiththevalueofasubsetofthesignalsandthesimulationtime at which they were recorded.more precisely let s s1 s2...sn beasetofsignals.weusethesymbol ttoindicatethesequence t t1 t2 ... tm containing the progressive simulation times associated with theentries ofa simulation trace.
we also use si v to denote a record assigning the value v rto signalsi.
letabe theuniverseofallpossibleassignmentsforthesignalsin s.atrace is a tuple angbracketleftt f angbracketright withtdefined as above and f t 2a.a n entry is a tuple angbracketleftt f t angbracketrightthat contains the simulation time t tat whichtheentrywassampled andasetofrecords f t thatspecify thevaluesofthesignalsattime t.wesaythatasignal sisassigned a valuevat timetif there exists a record s v f t fort t. we now introduce some useful notations used in the rest of the paper.
let angbracketleftt f angbracketrightbe a trace sbe an arbitrary element of s i.e.
a signal and t tbe a simulation time.
the initial value of s denotedby init s isvifvisthevalueassignedto sthrough thefirstassignmentperformedon sin weassumethatsuchan initialassignmentalways exists aspartof theinitializationofthe simulation.the last seenvalue ofsattimet denotedby last s t isthevalue vif sisassigned vattimetor swasassigned vin themostrecentassignmentto sin atasimulationtimepreceding t or vis equal to init s ifsstill has notbeen assigned a value since theinitialization.
the next seen value ofsat timet denoted bynext s t isthevalue vif sisassigned vattimetor s isassigned vinthefirstassignmentto sin atasimulationtime ensuingt.
.
signal based temporal properties sbtps cps requirements are specified using sbtps.
in this section we present with examples from our case study the main types of sbtp proposed in a recent taxonomy .
dataassertion.it specifiesa constrainton thevalueof asignal.
example pda the beta angle shall vary between and .
spike.
it is a large increase or decrease of the value of a signal.
whenitrepresentsanincreaseofthesignalvalue aspikeischaracterizedbythreeextrema showninfigure1a alocalmaximum p2surrounded by two local minima p1andp3.
a spike behavior can be characterized in terms of two features the width defined as t3 t1 theamplitude definedas max a1 a2 wherea1isthe amplitudeofthefirst halfofthespikeshape a1 v2 v1 anda2is the amplitude of the second half of the spike shape a2 v3 v2 .
example psk the beta angle shall show a spike with an amplitude less than90 .
oscillation.itisarepeatedvariationovertimeofthevalueofa signal.anoscillationoccurswhenthesignalvalueswingsfromoneextremumtotheadjacentextremumofthesametype bytraversing 1006t1t2 t3v3v1v2 p1p2 p3a1 a2 width timesignal value a t3 t5vlvup1 p2p3 p5 p4p2pampperiod timesignal value b figure main features adapted from used to characterize a a spike and b an oscillatory behavior anextremumoftheothertype.forinstance infigure1bonecan see an oscillation when the signal goes from p1top3 two peak points through p2 avalleypoint andanotheronewhenthesignal goes from p3top5throughp4.
an oscillation can be characterized in terms of the period which is the time required to perform a completeoscillation e.g.
t5 t3 andthe peak to peakamplitude p2pamp whichisthedifferencebetweentwoadjacentextrema e.g.
vu vl .
example pos the velocity ofthe satellite along the x axisshalloscillatewithamaximumamplitudeof 8000km hour and a maximum period of 180min.
risetime.itisaconstraintonthe transient behaviorofasignal whileitreaches possiblymonotonically atargetvalue.itsdual is called fall time .
example prt the x current of the sun sensor shall rise monotonically reaching the value of 3650 a. overshoot.
it specifies a maximum value above the target value that a signal can reach when overshooting i.e.
when the signal exceeds its target value its dual is called undershoot .
example pov the x current of the sun sensor shall overshoot 3650 aby at most 50 a. order relationship response .
it captures the responsepattern proposed by dwyer et al .
.
it expresses a constraint over the sequenceofapairof causeandeffectevents possiblywithatemporaldistancebetweenthetwo.example por ifthesafemode convergencestatusisequalto b dotconvergedmode thenitshould become equal to sun acquired mode within at most minutes.
the sb tempsy approach model driven trace checking is an approach that reduces the problem of checking a temporal property over a trace to the problemofevaluatinganoclconstraint thatissemanticallyequivalent to on a model of the trace equivalent to .
inthispaper wepresentourmodel drivenapproach sb tempsy for trace checking of sbtps.
we have decided to follow a modeldriven paradigm for trace checking because ocl is a standardized constraint specification language defined by omg and as a result is supported by a mature constraint checking technology suchastheconstraintcheckerincludedineclipseocl .furthermore existingapproachesformodel driventracechecking for checking linear temporal logic properties and properties with temporalaggregations havebeenshowntoyieldencouraging efficiency results.
hence we surmise that choosing a model driven approachallowsthedevelopmentofatrace checkingtoolabletoanalyzesbtpsonreal worldexecutiontraceswithinpracticaltime limits wereportontheempiricalinvestigationofthisconjecture in section .
our sb tempsy approach is illustrated in figure it takes as input a trace and a property to check it returns a boolean verdict indicatingwhether satisfiesorviolatesproperty .the trace recordsthevaluesofsignalssampledatdifferentsimulation times as discussed in section .
.
the property represents a requirementofacps expressedusingoneofthetypesofsbtps illustrated in section .
.
wehavedefinedanexpressive pattern baseddomain specific language to ease the specifications of such requirements as sbtps.
thelanguage called sb tempsy dsl signal basedtemporalproperties madeeasy hasbeendefinedincollaborationwithluxspacesystem engineers.
it draws inspiration from tempsy an existing pattern basedlanguageforthespecificationoftemporalproperties and supports the specification of the most common types of sbtpsincps e.g.
spike oscillation recentlyidentifiedinataxonomy and presented in section .
.
sb tempsy dsldiffersfromexistingpattern basedspecification languages for temporal properties such as propel dnl structured english grammar for real time specifications temporal ocl oclr vispec graphical formalism tempsy tempsy ag promobobox propertylanguage since it is tailored to express sbtps.
furthermore differently from existinglogic basedspecificationlanguagesforsbtps e.g.
stl stl rfol sfo sb tempsy dsl enables practitioners tospecify ina preciseway keyrequirements ofcps whichin many cases are not supported by the aforementioned languages see without requiring a strong theoretical background.
ourapproachfortracechecking calledsb tempsy checkand implemented in a prototype tool includes two main steps preprocessing whichpreparesthetracefortheverification and modeldriven trace checking which computes the verification verdict.
pre processing.asdiscussedinsection3.
thetrace isobtained by recording the values of a set of signals sampled at differentsimulation times therefore at a given simulation time a signal maybeunassigned.thepre processingstepanalyzesthetrace angbracketleftt f angbracketrightandgenerates usinganinterpolationfunction anewtrace angbracketleftt f angbracketrightthatincludesassignmentstosignalsforthesimulation times at which such signals were unassigned in .
we discuss function f the interpolation function and the pre processing step in more detail in section .
.
model driven trace checking.
this step detailed in section .
checkswhether property expressed in sb tempsy dsl holds overthetrace by a convertingthepre processedtrace intoan instanceofatracemeta model b evaluatinganoclconstraint semantically equivalent to over the model of .
the sb tempsy dsl language .
syntax the syntax of sb tempsy dsl is shown in figure optional items areenclosedinsquarebrackets thesymbol separatesalternatives.
aproperty non terminal is defined using a scope non terminal sc or as a boolean expression over other properties.
1007pre processing sb tempsy model driven trace checking mpre processed trace verification verdictproperty sb tempsy dsl tracesb tempsy check figure overview of sb tempsy ascopeoperatorconstrainsa pattern non terminal p tohold withinagiventimeintervaldelimitedeitherbyabsolutetimeinstants denoted by t t1 and t2 or by events i.e.
occurrencesof a pattern denoted by p p1 and p2 .
for example the between t1 and t2p scope operator specifies that pattern pholds between thetimeinstants t1andt2.thescopeoperatorssupportedbysbtempsy dslareinspiredbythoseproposedbydwyeretal .
globally before after between and they support not only events i.e.
intheformofoccurrencesofapattern butalsoabsolute timeinstantsasscopeboundaries.furthermore sb tempsy dsl includes a punctual scope at to reference a specific time instant.
a pattern specifies a constraint on the behavior of one or more signals.forexample pattern exist oscillations in swith p2pamp v1period v2 specifies that the value of signal sshows an oscillatory behavior with a peak to peak amplitude denoted by the keyword p2pamp equal to value v1and a period denoted by the keyword period that is equal to value v2 it corresponds to the property type oscillation discussed in section .
.
acondition non terminal c isalogicalpredicateonasignal s of the form s v with or a logical expression over predicates.
belowweshowhowtheexamplepropertiesfromourcasestudy presentedinenglishinsection3.
canbeexpressedinsb tempsydsl for simplicity we omitted the corresponding scopes pda assert s1 and s1 psk exists spike in s2with amplitude pos exist oscillations in s3with p2pamp with period prt s4rises monotonically reaching pov s4overshoots by50 por if assert s5 then assert s5 within at most .
formal semantics figure presents the formal semantics of sb tempsy dsl.
thesemantics is defined over a pre processed trace angbracketleftt f angbracketright with t t1 t2 ... tm optional items are enclosed in square brackets withagreeklettersubscript.weusethenotation fp t s todenote the value xassigned to signal sat timetin the pre processed trace angbracketleftt f angbracketright i f s x f t fort t. we omit the semantic definition of language elements for which the dual is available i.e.
fall time vs rise time overshoot vs undershoot and whose semantics can be easily derived.property 1and 2 2or 1 not sc scope sc globally p before tp after tp attp before p1p after p1p between t1and t2p between p1and p2p pattern p assert c sbecomes v ifp1then p2 exists spike in s exist oscillations in s srises reaching v sfalls reaching v sovershoots v1byv2 sundershoots v1byv2 exactly at most at least condition c c1and c2 c1orc2 notc s v t t1 t2 r v v1 v2 r sis a signal in sor a mathematical expression over the signals in s figure sb tempsy dsl syntax conditions areconstraintsonsignalsthatshouldholdpunctually i.e.
in a specific time instant t t. we use the notation t cto indicatethatcondition choldsinthepre processedtrace attimet.
for example the predicate s vholds at time tif the value fp t s assigned to signal sat timetsatisfies the predicate fp t s v. patternsare evaluated over a time interval wheretl tu tandtl tu.
we use the notation pto indicate that pattern pholdsinthepre processedtrace withinthetimeinterval .
the semantics of the spike and oscillation patterns rely on theauxiliarypredicates uni m min uni sm min uni m max and uni sm maxdefinedintable1.thesepredicatesevaluatetotrueif withinagiventimeinterval thesignalhasanextremum minimum ormaximum anditsvaluechangesinacertainway seecolumn description in table for the complete description .
for example in the case of the oscillation pattern the semantics requires the signaltoexhibitamaximumfollowedbyaminimumfollowedbyamaximum orviceversa seealsosection3.
.inaddition inthefirst case the value of the signal shall increase strictly monotonically before the first maximum and between the minimum and the second maximum and shall decrease strictly monotonically between the first maximum and the minimum and after the second maximum.
alsoscopesare evaluated over a time interval .
for example thesemanticsofthe between t1andt2p scopeoperator evaluates pattern pin the time interval .
the semantics of a propertyis defined by evaluating the satisfaction of a scope scwithin the time interval wheret1and tmare respectively thefirstandlastsimulationtimeinthetime sequence tof the pre processed trace .
the semantics of properties obtained by composing other properties through boolean operators follows the standard semantics of such operators.
finally wedefinethesemanticsforcheckingansb tempsy dsl property over an input trace.
let be a trace be an interpolationfunction and beansb tempsy dslproperty.wesaythat thetrace satisfiestheproperty whenusingtheinterpolation function in the pre processing denoted by if the preprocessed trace obtained from using theinterpolation function is such that .
1008table definition of predicates uni m max uni sm max predicates uni m min uni sm minare the dual predicate mathematical formulation description uni m max s t fp t s xand t1 fp t1 s xand t1 t2 ift1 t2thenfp t1 s fp t2 s and t1 t2 ift1 t2thenfp t1 s fp t2 s thevalue xofsignalsattimeinstant tistheminimumvalueassigned toswithintheinterval .furthermore thevalueof xchanges accordingtoaunimodalfunction i.e.
foreverytimeinstantin the value of sis monotonically increasing and for every time instant in the value of sis monotonically decreasing.
uni sm max s t fp t s xand t1 fp t1 s xand t1 t2 ift1 t2thenfp t1 s fp t2 s and t1 t2 ift1 t2thenfp t1 s fp t2 s as above except that for every time instant in the value of sisstrictlymonotonicallyincreasingandforeverytimeinstantin the value of sisstrictlymonotonically decreasing.
property sc sc condition t s v fp t s v 1and 2 1 and 2 t c1andc2 t c1 and t c2 1or 2 1 or 2 t c1orc2 t c1 or t c2 not negationslash t notc t negationslash c absolute scope globally p p eventscope before p1p t1 t2 tl t1 t2 tu p1 before tp tl t tuand p and t3 t4 tl t3 t4 t1 p after tp tl t tuand p after p1p t1 t2 tl t1 t2 tu p1 between nandmp tl n m tu and t3 t4 t2 t3 t4 tu p and p between p1andp2p t1 t2 t3 t4 tl t1 t2 t3 t4 tu attp t tl t tuand p parenleftbig p1and p2 parenrightbig p data assertionpattern assert c t t c sbecomes v t tl tu parenleftbigfp t s vand t1 tl t parenleftbigfp t1 s notsimilarv parenrightbig parenrightbig spikepattern exists spike in s bracketleftbig with bracketrightbig t1 t2 t3 t1 t2 t3 parenleftbig uni m min s t1 anduni sm max s t2 anduni m min s t3 or uni m max s t1 anduni sm min s t2 anduni m max s t3 bracketleftbig bracketleftbig andmax parenleftbig barex barexfp t1 s fp t2 s barex barex barex barexf p t2 s fp t3 s barex barex parenrightbig v2 bracketrightbig bracketrightbig parenrightbig oscillation pattern exist oscillations in s bracketleftbig with bracketrightbig t1 t2 t3 t4 t5 t1 t2 t2 t3 t4 t5 parenleftbig uni sm min s t2 anduni sm max s t3 anduni sm min s t4 or uni sm max s t2 anduni sm min s t3 anduni sm max s t4 bracketleftbig bracketleftbig and barex barexfp t2 s fp t3 s barex barex v1and barex barexf p t3 s fp t4 s parenrightbig v1 bracketrightbig bracketrightbig parenrightbig rise time pattern srises reaching v t tl tu parenleftbig fp t s vand t1 tl t parenleftbigfp t1 s v parenrightbig bracketleftbig and t2 tl t t3 t2 t parenleftbigfp t2 s fp t3 s parenrightbig bracketrightbig parenrightbig overshootpattern sovershoots v1byv2 t tl tu parenleftbig fp t s v1and t1 t tu parenleftbigfp t1 s v1 v2 parenrightbig parenleftbigfp t2 s fp t3 s parenrightbig bracketrightbig parenrightbig order relationship pattern ifp1then p2 t1 t2 t1 t2 parenleftbig p1 t3 t4 t3 t4 parenleftbig p2 bracketleftbig and t3 t2 dblbracketleft dblbracketrightt bracketrightbig parenrightbig parenrightbig where exactly at most at least and dblbracketleft dblbracketrightis defined such that dblbracketleftexactly dblbracketright dblbracketleftat most dblbracketright dblbracketleftat least dblbracketright t t1 t2 r v v1 v2 r sis a signal in sor a mathematical expression over the signals in s scis a scope pis a pattern.
figure sb tempsy dsl formal semantics sb tempsy check in this section we present the main steps of and the artifacts used within sb tempsy check.
section .
describes the pre processing step section .
illustrates the meta model of the pre processed trace and section .
explains how the ocl constraint solver is used to perform trace checking.
.
pre processing thepre processing step converts the original simulation trace in which signal values are recorded at different simulation times to a new trace in which signal values are recorded for every entry.ourconversionreliesonaninterpolationfunctiontogenerate themissingsignalvalues.moreprecisely let r r rbean interpolationfunctionoverrealvalues and sand be respectively the set of signals and the simulation trace as defined in section .
thepre processed trace obtained from angbracketleftt f angbracketrightand denoted by isdefinedas angbracketleftt f angbracketright where fisafunctionsuchthatforall t t andforall s s theassignment s last s t next s t f t .intuitively inthepre processedtrace ateverytimeinstant tithe value of signal sis the interpolation between the last seen value and the next seen value of satti.
note that this definition is compatible with the case in which signal sis actually assigned a valuevintherecordsampledattime ti.indeed insuchacaseboth function lastand function nextyieldv and we have v v v. traceentry simulationtime doublerecord signalid string value double figure uml class diagram of the trace meta model users can choose different interpolation functions e.g.
piecewise constant linear cubic dependingonthedomainofthevaluesof the signals and their expected variation over time.
we discuss the choice of the interpolation for our case study in section .
before signals however apropertytobechecked onthetracemayrefer to only a subset of these signals.
hence we remove from the trace all the entries that do not contain any record with a signal referred to by the property to be checked.
.
trace meta model our trace meta model of the pre processed trace is an extension of the one proposed by dou et al .
tailored to the cps domain tosupport i sbtps and ii traceentriesrecordingthe valuesof several signals at a certain time instant.
thetracemeta modelincludesthebasicentitiesthatareused to represent a trace when a new instance is created from a tracefile.
these entities are accessed by the ocl functions during the model driven trace checking step.
themodel depictedinfig.5withaumlclassdiagram contains atrace which is composed of a sequence of entrys.
aentryhas anattributerepresentingthesimulationtimeatwhichtherecord has been sampled and contains one or more records one for each signal .
a recordhastwoattributes representingthesignal identifier and its value.
.
model driven trace checking our model driven trace checking procedure checks whether an sb tempsy dslproperty holdsoveratrace byevaluatingan ocl constraint semantically equivalent to over a model i.e.
an instance of the trace meta model described in section .
of the pre processed trace derived from .
this check is done using a standard ocl checker such as eclipse ocl.
inputpreparationphase.first ourapproach buildsaninstance objof the trace meta model from the pre processed trace and translates the property into an ocl constraint ocl.
the translation from sb tempsy dsl properties to ocl constraints is syntax directed and covers all the constructs of sb tempsy dsldefined in figure .
as an example below we illustrate the ocl function showninfigure6 correspondingtothe oscillation pattern.
thisfunctiontakesasinputatrace anobjectrepresentingthe parametersoftheoscillationpattern andtheboundsofthetrace interval on which the pattern should be evaluated.
notice that the ocl variables tlandtucorrespond to the variables tlandtuused inthedefinitionofthesemanticsoftheoscillationpatterninfigure4.thefunctionfirstsavesthevalueofthepatternparameter s signal name in the corresponding variable s line which is used inside the expression at lines .
this expression encodesthe semantics of the pattern presented in figure .
for instance lines constrain the existence of five trace entries el1 el2 el3 el4andel5suchthattheyhaveconsecutivesimulationtimes.in addition lines express the presence of consecutive maxima and minima according to the semantics presented in figure .
functions islminandislmaximplement functions uni sm minand uni sm maxdescribed in section .
.
in addition line checks the optional constraints on the peak to peak amplitude and or the period associated with the pattern.
constraint evaluation phase.
the second and final phase uses the ocl checker to evaluate the constraint oclon the object obj denotedby eval obj ocl .theresultofthisevaluationisa boolean value that corresponds to the verdict of checking property overtrace .moreformally wehavethat ifandonlyif eval obj ocl yieldstrue.
correctness.
the correctness of our procedure intuitively follows from these observations.
the semantics of sb tempsy dslpresented in section .
depends on the interpolation function selectedbytheuser.moreprecisely givenauser selectedinterpolation function the semantics specifies that property is satisfied on trace i.e.
if the pre processed trace obtained using the interpolation function satisfies the property i.e.
.
since i the objobject is built from which is obtained from thepre processingstepdescribedinsection6.1usingthe interpolation function and ii the ocl constraint oclis obtained from withaone to onemappingfromtheformalsemanticsdefined in figure our procedure is correct i.e.
the verdict returned byourtrace checkingprocedureisconsistentwiththesemantics presented in section .
.
time complexity.
the time complexity of our procedure depends on the size of the trace and on the ocl definitions for the different constructs of sb tempsy dsl.
the evaluation of constructs like condition property and absolute scope does not depend on the size of the trace since condition is evaluated at a specific timeinstant property isevaluatedatthefirsttimeinstant and absolutescope isevaluatedbysettingthevaluesofthetimebound wherethepatternisevaluated.theevaluationofthe assertvariant of the data assertion construct is linear in the size of the trace.
the evaluation of all the other constructs is polynomial in the size of the trace.
for example the encoding of the oscillation patternpresented in listing contains five nested existential operators leading to a procedure with a time complexity of o .
in light of these complexity results we defined an alternative semantically equivalent ocl definition which relies on an opti mized usage of ocl collections specialized for each construct.morespecifically theoptimizationreplacestheuseoffirst order quantifierswithcollectionoperations inparticular iterateexpressions.
thanks to these optimizations the complexity of evaluating the dataassertion spike oscillation rise falltime and overshoot undershoot patterns is linear in the size of the trace the complexityofevaluatingthe event scopeand orderrelationship patternisstillpolynomialinthesizeofthetrace.weusedthisalternative ocl definition for our empirical investigation section .
evaluation in this section we report on the evaluation of our contributions.first we evaluate our specification language sb tempsy dsl in 10101def checkpatternoscillation trace orderedset trace traceelement pattern oscillation tl real tu real boolean 2let s string pattern.s in 3trace exists el1 el2 tl el1.simulationtime and el1.simulationtime el2.simulationtime trace exists el3 el4 el2.simulationtime el3.simulationtime and el3.simulationtime el4.simulationtime trace exists el5 el4.generationtime el5.generationtime and el5.generationtime tu and islmax trace el2 el1 el3 s and islmin trace el3 el2 el4 s and islmax trace el4 el3 el5 s or islmin trace el2 el1 el3 s and islmax trace el3 el2 el4 s and islmin trace el4 el3 el5 s and checkfeatures trace el1 el2 el3 el4 el5 pattern figure ocl function for the oscillation pattern of sb tempsy dsl terms of expressiveness and compare with state of the art specification languages.
second we evaluate the performance of the implementationofourmodel driventracecheckingapproachsbtempsy check andcompareittoastate of the arttoolfortrace checkingofsbtps.inbothcases aspropertiestoexpressandcheck we consider the requirements of our industrial case study see section .
summing up we evaluated our contributions by answering the following research questions rq1 to which extent can sb tempsy dsl express requirements ofreal world industrial cps applications and how does it com pare with state of the art specification languages in terms of expressiveness?
section .
rq2can sb tempsy check verify sbtps on real world executiontraces within practical time and how does it compare with a state of the art tool?
section .
rq1focusesonthe expressiveness ofsb tempsy dsl whereasrq2 focusesonthe applicability inindustrialsettings ofsb tempsycheck.
.
expressiveness of sb tempsy dsl to answer rq1 we assessed the suitability of sb tempsy dsl for expressing the requirements of our industrial case study.
wealso triedto expressthe same requirements with state of the art specificationlanguagesforsbtps i.e.
stl andsfo and compared the result with that of sb tempsy dsl.
obsw requirements.
we defined requirements expressed in english throughaseriesofmeetings cumulativelylastingabout hours with a senior software engineer leading the development of the obsw.
the engineer defined the requirements and also validated the corresponding sb tempsy dsl properties written by two of the authors.
results.outofthese101requirements wecouldexpress98insbtempsy dsl.inthevastmajorityofthecases thetranslationfrom english to sb tempsy dsl was straightforward only in two cases we had to rephrase the original requirement into an equivalent form that could then be mapped to sb tempsy dsl.
out of the threerequirementsthatwecouldnotexpressinsb tempsy dsl two were constraints on the number of occurrences of a certainsignal pattern e.g.
spike behavior and would have required acounting aggregate operator the other requirement was a constraint on the signal value in two consecutive time instants which would have required a modality for referring to the value of asignalinaprevioustimeinstant.weplantoextendsb tempsydsl with these constructs as part of future work.
table2showstheoccurrencesofthevariousscopes left hand side andpatterns right handside ofsb tempsy dslacrosstherequirementsofourcasestudy.thepatterndistributionisinline with the findings of a recent taxonomy of sbtp in which data assertion assertpattern in sb tempsy dsl is the most represented pattern type followed by the order relationship if theninsb tempsy dsl .the globally andatscopesarethemost used we observed they are usually combined with data assertions to specify invariants that should hold during the entire simulation and conditions that should hold at specific time instants.
using state of the art specification languages out of the requirements wecouldexpress59instland101insfo.thelower numberofrequirementsexpressibleinstlisduetothelackofa modality that allows for referring to and comparing signal values at different time instants.
such a modality would be required to specifyspike oscillation rise falltime andovershoot undershoot patterns.ontheotherhand stlcanexpressdataassertionsand alsoorderrelationshipproperties wheninthelatterthe cause and effect sub properties are data assertions as it was the case in our case study or recursively other order relationship sub properties.
sfoallowsustoexpressall101requirements thankstoitssupport for first order quantification.
theseexpressiveness results for stl andsfoareinlinewithpreviousfindings whichassessedthe expressiveness of stl and sfo and stl with respect to different types of sbtps.
the answer to rq1 is that when using sb tempsy dsl we could express out of requirements of a real world indus trial system in the satellite domain.
this result shows the highexpressiveness of sb tempsy dsl for specifying sbtps of cps.
when compared with state of the art logic based specification languages sb tempsy dslcouldexpressmanymorerequirements thanstl sincestlcannotexpressspike oscillation rise falltime and overshoot undershoot patterns.
nevertheless sb tempsy dsl is slightly less expressive than sfo vs. .
however thereis no tool support for sfo trace checking.
while we could have implemented such a tool it would have likely exhibited low performancesincethetimecomplexityoftrace checkingsfoformulae is exponential in the number of quantifiers function symbols and length of the sfo formula as well as in the length ofthe trace .
ontheotherhand asdiscussedinsection6 thetimecomplexity of the trace checking procedure for sb tempsy dsl is polynomial inthelengthofthetraceforthe orderrelationship patternand the event scope andislinearinallothercases.suchalowertime complexity is likely to result in wider applicability in industrial contexts wewillexperimentallyinvestigatetheperformanceofour trace checking approach for sb tempsy dsl in the next section.
1011table2 occurrencesofthesb tempsy dslscopes left and patterns right in the requirements of the case study scope type req globally before after at between 9pattern type req pattern type req assert rises becomes falls if then overshoots oscillations undershoots spike .
applicability of sb tempsy check to answer rq2 we assessed the applicability of sb tempsy check on execution traces from our industrial case study.
furthermore we also compared in terms of applicability of the trace checking procedure sb tempsy check with breach a state of theart offline trace checking tool for sbtps expressed in stl.
we chosebreachamongothersimilartoolslistedinarecentsurvey i.e.
amt ands taliro becauseamt .
in contrastto breach is not publicly available and also because breach has been shown to be faster than s taliro.
dataset.our dataset consists of traces provided by our industrial partner.
these traces have been obtained by simulating the behavioroftheobswindifferentscenarios withasimulationtime rangingapproximatelyfromonehourto 18h.theirsize innumber of entries ranges from to entries avg stddev thecorrespondingfilesizerangesfrom .7mb to .9mb avg .6mb stddev .4mb .
methodologyandsettings.
ourdatasetcontainstracesrecorded while a satellite system was tested in different environmental conditions see section the entries in each trace contain only sig nals whose behavior was relevant to the specific test performed.
consequently foreachtraceinthedataset ourindustrialpartner indicated which properties had to be checked based on the signals recordedinthetraceandthesignalsreferredtointheproperties.
overall we ran sb tempsy check over distinct combinations3 of traces and properties.
thefinaltracesize innumberofentries rangedfrom12to13068 entries avg stddev the corresponding file size ranged from 255bt o .
mb avg .4mb stddev .8mb .
weconfiguredsb tempsy checktouse linearinterpolation as interpolation function for the pre processing step see section .
.
we chose this function since it is relatively simple and produces reasonablygoodapproximationsofthesignalbehavior suitablefor checking typical sbtps e.g.
oscillation spike .
asforthecomparisonwithbreach weusedversion1.
installed onmatlabversion2018a andonlyranthetoolforthe59properties that could be expressed both in sb tempsy dsl and in stl see section .
.
overall we ran breach over distinct combinations of traces and properties.
wecarriedouttheexperimentsononenode usingfourcores of the hpc facilities of the university of luxembourg .
each run checkingadistinctcombinationofatraceandaproperty was repeated times to account for variations in the performance of thehpc.wesetthetimeoutofeachrunto 2h whichisarelatively shortandpracticaltimewhencomparedtothetime intheorder 3we also removed combinations in which the trace had less than entries.ofseveraldays takenbythe obswsimulatortogenerateatrace inourdataset seesection2 .thetotalwall clocktimetorunallthe experiments was days reduced to about three days by exploitingtheparallelizationmechanismsoftheunderlyinghpc infrastructure.
in total we measured the execution time over runs for sb tempsy checkandover1100runsforbreach.theexecution timeofsb tempsy checkwasmeasuredusingtheunix timeutility forthepre processingstepandthe system.currenttimemillis method fromthejavalibrary fortheinvocationoftheoclchecker the execution time of breach was measured using the ticandtoc functions of the stopwatch timer integrated within matlab.
results.sb tempsy checkyieldedaverdictwithinthetimeoutin oftheruns 1884outof2170 .onaverage sb tempsy check took5.98s min .35s max 103s for thepre processing and .7s min .18s max .8s forthetracecheckingthrough the ocl solver.
overall sb tempsy check took less than 10sto check properties i whose pattern is different from order relationship and ii whose scope is of type absolute such properties account for of the completed runs out of .
intheremaining286runs inwhichsb tempsy check didnotfinishwithinthetimeout thepropertytobeverifiedcontainedeitheraninstanceofthe orderrelationship patternoran event scope.asdiscussedinsection6.
checkingthesetypesof propertieshasatimecomplexitythatispolynomialinthelength of the trace.
we remark that sb tempsy check was still able toreturn a verdict in out of the runs in which the propertycontained the aforementioned pattern type or scope type in all thesecases thetracedidviolatethepropertyandtheviolationwas found before the timeout.
asforthe1100runsthatcheckedoneofthe59propertiesthat couldbeexpressedbothinsb tempsy dslandinstl andthus could be checked by breach breach finished within the time out in of the runs with an average execution time of .01s min .006s max .15s sb tempsy check finished within the timeout in of the runs out of .
for these runs sb tempsy check took on average .28s min .18s max .8s .
for the remaining of the runs in which sb tempsy checkdidnotfinishwithinthetimeout theproperty tobecheckedcontainedan orderrelationship pattern thesame observationsmadeaboveaboutthecomplexityofcheckingsuch properties apply also here.
in terms of execution time when considering the runs in whichbothsb tempsy checkandbreachterminatedwithinthe timeout though sb tempsy check was slower than breach it was able to yield a verdict within 10sfor all the properties i whose patternisdifferentfrom orderrelationship and ii whosescopeis of type absolute such properties account for the vast majority of thecompletedruns 1050outof1064 .thiscostisreasonable giventhatsb tempsy checksupportstheverificationofamuch larger set of property types than breach.
summingup theanswertorq2isthat in87 oftherunssbtempsy check could complete within practical time limits i.e.
thetimeoutdeterminedbasedonthedevelopmentcontextofour casestudy theverificationofsbtps expressedinsb tempsy dsl over industrial traces with an average checking time of .7s.w e deemthistimetobereasonableforpracticalapplications sinceitis 1012ordersofmagnitudelowerthanthetimeneededforsimulationand tracegeneration asdiscussedinsection2 .inotherwords itallows engineerstointegratesb tempsy checkwithinthedevelopment processatanegligiblecost.furthermore thoughsb tempsy check wasslowerthanbreach itwasalwaysabletoyieldaverdictwithin 10sin ofthecases despitesupportingtheverificationofa much larger set of property types.
.
discussion and threats to validity the results of our empirical investigation show that sb tempsy representsaviabletrade offbetweenanexpressivespecificationlanguage for sbtps sb tempsy dsl and an efficient trace checking procedure sb tempsy check .usingsb tempsy dsl wecould express98outof101requirementsofanindustry gradecps.sbtempsy dsl was considerably more expressive than stl which is atemporallogicforsbtpssupportedbypubliclyavailabletracecheckingtools.furthermore sb tempsy checkcompletedtheveri ficationoftheserequirementsonreal worldexecutiontraceswithinpracticaltimelimits determinedbasedonthedevelopmentcontext of our case study in of the runs.
this also confirms our conjecture that a model driven approach is a viable solution for trace checking of sbtps.
supportinganexpressivespecificationlanguagelikesb tempsydsl comes with a performance loss in terms of the trace checking procedure.
for the requirements of our case study that couldbe expressed in stl in of the runs in which sb tempsycheck terminated it was slower than breach but it was able to yield a verdict within 10sfor of the cases.
furthermore differently from sb tempsy check breach always terminated within the timeout.
basedon theaboveobservations takingadvantageof thecomplementary strengths of both approaches we propose to combine sb tempsyandbreach.sb tempsy dslpropertiesthatcanalsobeexpressedinstl i.e.
logicalexpressionsofdataassertions should becheckedwithbreach sinceityieldsbetterperformance.more complex sbtps which cannot be expressed in stl should thenbe checked with sb tempsy check since it is the only tool that canefficientlyverifythem.overall thiscomplementaryusageof the two verification tools would significantly reduce the execution time and number of timeouts of the trace checking procedure.
asmentionedin section .
althoughourmodel driventrace checkingapproachiscorrect theinterpolationfunctionusedinthepre processingstepinfluencestheverdictsreturnedbysb tempsycheckandbreach.inpracticalscenarios engineersmaywantto consider different interpolations functions depending on the ex pected signals behaviors.
for this reason we plan to i provideadditional interpolation functions and ii allow the selection ofa different interpolation function for each signal.
engineers can thenchoosetheinterpolationfunctionbasedonthetypeandthe domainofthesignal andontheirdomainknowledge.sincesignals usually represent the state either of some cps software componentsoroftheirenvironment engineersusuallyhaveaprecise yetintuitive understandingofhowthesesignalswillchangeovertime.
therefore theycaneasilyselectthemostappropriateinterpolation function given their usage scenario.threats to validity.
in our evaluation we used a set of requirementsandtracescomingfromoneindustrialcasestudyfromthe satellite domain.
though the targeted system and requirementsare in many ways representative of what can be found in satelliteand othercyber physicaldomains wherethe behaviorbeing controlled involves convoluted physical dynamics and the system requirementsareexpressedascomplexsbtps thiscouldinfluence the generalization of our results.
another threat to the validity of the evaluation results is the presence of coding errors in the implementation of sb tempsycheck.
we tried to mitigate it by thoroughly testing the tool.
data availability.
the supplementary material accompanying this work is available at related work ourapproachisrelatedtoworkdoneintheareasof i specification languagesforsbtps ii trace checkingmethods and iii modeldriven approaches for trace checking.
specification languages.
stl has been one of the first logicbased languages proposed for specifying sbtps.
stl i sa n extension of stl with the signal value freezing operator whichbinds the value of a signal at a precise time instant.
sfo i sa first order temporal logic for signals.
boufaied et al .
compared the expressiveness of stl stl and sfo analytically based on different formulations of the main types of sbtps see section .
incontrast wehaveempiricallycomparedtheexpressivenessofsbtempsy dsl stlandsfoaspartofourevaluation section7.
usingpropertiesfromarepresentativeindustrialcasestudy.bakhirkinandbasset proposedanextensionofstlwith i anewformof untiloperator ii supportforcomputableaggregatefunctionovera sliding window and iii formulae having the possibility of producing and manipulating real valued output signals.
these extensions givethepossibilityofexpressingsomesbtppatterns e.g.
stabiliza tion maximum minimum value linear increase spike without theneed for more expressing languages like stl or sfo.
menghi et al .
haverecentlyproposedrfol alogicthatismoreexpressive than stl and less expressive than sfo.
we did not consider rfol since this work is focused on offline trace checking whereas rfol is supported by an online trace checker.
sb tempsy dsl is also relatedtootherdslsforexpressingtemporalproperties suchas propel dnl structuredenglishgrammarforreal timespecifications temporal ocl oclr vispec graphical formalism tempsy spear tempsy ag promobobox property language fretish .
the majority of them is based on some property specification patterns noneofthemsupportsbtps.thecontractlanguageproposedby bernaerts et al .
is the closest to sb tempsy dsl since it is pattern based and has been developed for the cps domain however it supports only stl like properties and thus cannot express more complex behaviors such as spikes and oscillations.
sb tempsy dsl supports the main types of sbtps identified in boufaiedetal .
staxonomy whichalsoprovidesaformalization of the properties in sfo.
for sb tempsy we have refined sucha formalization since our goal was to develop a trace checkingprocedure for sb tempsy dsl properties rather than providinga mere formalization in a temporal logic.
for example our ocl 1013definitionofthesb tempsy dslsemanticsusesdifferentpredicates for determining the local extrema see table since they are more appropriate by requiring the signal value to change according to a unimodalfunction tomodelthesignalbehaviorinthecontextof trace checking.
trace checking methods and tools.
among the temporal logics for sbtps discussed above stl is supported by tools such as amt breach ands taliro forofflinetracechecking a toolisalsoavailableforthestlextensionproposedin .notools are available for stl and sfo.
rfol is supported by an online trace checking procedure socrates .
the contract language proposed by bernaerts et al .
is translated into stl and then relies on breach for verification.
model drivenapproachesfortracechecking.model driventrace checkinghasbeenoriginallyproposedbydouetal .
fortheverification of simple temporal properties.
dou et al .
s work has been extended by boufaied et al .
to support service provisioning specificationpatterns usingaggregateoperators.inthiswork wehaveapplieddouetal .
sideaofmodel driventracecheckingin the context of sbtp through the development of the sb tempsy approach.
the main differences with dou et al.
are i thesb tempsy dsllanguagehasconstructsspecifictothe domain of sbtp based on the property types proposed in a recent taxonomy also the scope operators though inspiredbydwyeretal .
swork havebeentailoredtothe domainofsbtp e.g.
tosupportabsolutetimeinstants .on theotherhand thetempsylanguage anditspredecessor oclr areonlybasedondwyeretal .
sspecification patterns and thus do not support sbtps .
ii sb tempsy checkincludesapre processingstep todealwith trace entrieswith missingsignal valuesand recordedbothat fixed and at variable sampling rates.
iii sb tempsy checksportsanimprovedtracemeta model to supporttraceentriesrecordingthevaluesofseveralsignalsat a certain time instant.
iv themappingofthesemanticsofsb tempsy dslintoocl constraints is completely new since it is based on the semantics presented in section .
.
tothebestofourknowledge sb tempsyisthefirstapproachto provide model driven trace checking of sbtps.
conclusion and future work in this paper we propose sb tempsy a model driven approach for checkingsignal basedtemporalproperties sbtps onexecutiontraces of cpss.
sb tempsy includes sb tempsy dsl a domainspecificlanguageforspecifyingsbtpsthatcoverthemostfrequent requirement types in cpss and sb tempsy check an efficient trace checking procedure that reduces the problem of checking an sb tempsy dsl property over a trace to the problem of evaluating an ocl constraint on a model of the trace.
we evaluated sb tempsy by assessing the expressiveness of sb tempsy dsl and the applicability of sb tempsy check to a representativecpsinthesatellitedomain.theresultsofourempir icalinvestigationshowthatourapproach whencompared fromapracticalstandpoint tostate of the artalternatives strikesabetter trade offbetweenexpressivenessandperformanceasitsupportsa much larger set of property types that can be checked in mostcases within practical time limits.
moreover the results suggest thatsb tempsycouldbecombinedwithexistingapproachesefficientlysupportingstl.inthisway weshowwecanmakeoptimal useofagivenverificationbudgetwhileavoidingmosttime outsby relying on the best tool option depending on the type of the checked property.
as part of future work we plan to extend sb tempsy dsl with additional constructs based on the expressiveness results of our evaluation.
furthermore we are going to develop alternative ocl definitionsinsb tempsy check optimizedtominimizethenumber oftime outswhencheckingspecifictypesofproperties.also we plantoinvestigatehowdifferentimplementationsofsb tempsycheck e.g.
using an smt based encoding or another type of logicbasedencodingrelyingontoolsliker2u2 farewithrespect to the one based on ocl.
finally we plan to extend the output returnedbysb tempsy checkincaseofviolationswithdiagnostic information inspired by existing work .