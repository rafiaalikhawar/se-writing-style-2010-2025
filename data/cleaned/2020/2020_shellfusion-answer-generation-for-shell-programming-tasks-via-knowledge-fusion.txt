4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btlt wjb opxmfehf vtjpo foh iboh1 ibp jv2 9jo 9jb3 isjtupqi 5sfvef4 joh pv5 bwje p6 jcjo ifoh1 14dippm pg 4p xbsf ohjoffsjoh 4vo bu tfo 6ojwfstjuz ijob 24dippm pg jh bub boe 4p xbsf ohjoffsjoh ipohrjoh 6ojwfstjuz ijob 34p xbsf ohjoffsjoh qqmjdbujpo 5fdiopmphz bc vbxfj ijob 44dippm pg pnqvujoh boe ogpsnbujpo 4ztufnt 6ojwfstjuz pg .fmcpvsof vtusbmjb fqbsunfou pg mfdusjdbm boe pnqvufs ohjoffsjoh ffo t 6ojwfstjuz bobeb 64dippm pg ogpsnbujpo 4ztufnt 4johbqpsf .bobhfnfou 6ojwfstjuz 4johbqpsf iboho i jcjo !nbjm tztv fev do mjv dibp!drv fev do yjo yjb!bdn psh disjtupqi usfvef!vojnfmc fev bv zjoh pv!rvffotv db ebwjemp!tnv fev th 4ifmm dpnnboet bsf xjefmz vtfe gps bddpnqmjtijoh ubtlt tvdi bt ofuxpsl nbobhfnfou boe mf nbojqvmbujpo jo 6ojy boe jovyqmbugpsnt fsf bsf b mbshf ovncfs pg tifmm dpnnboet bwbjmbcmf ps fybnqmf dpnnboet bsf epdvnfoufe jo uif 6cvouv.bovbm1bhft .1t jufp fo qsphsbnnfstgffmgsvtusbufexifotfbsdijohboepsdiftusbujohbqqspqsjbuftifmmdpnnboetupbddpn qmjti tqfdj d ubtlt 5p beesftt uif dibmmfohf uif tifmm qsphsbn njohdpnnvojuzdbmmtgpsfbtz up vtfuvupsjbmtgpstifmmdpnnboet pxfwfs fyjtujoh uvupsjbmt f h pomz dpwfs b mjnjufe ovn cfs pg gsfrvfoumz vtfe dpnnboet gps tifmm cfhjoofst boe qspwjefmjnjufe tvqqpsu gps vtfst up tfbsdi gps dpnnboet cz b ubtl 8f qspqptf bo bqqspbdi j f 4ifmm vtjpo up bvupnbujdbmmz hfo fsbuf dpnqsfifotjwf botxfst jodmvejoh sfmfwbou tifmm dpnnboet tdsjqut boe fyqmbobujpot gps tifmm qsphsbnnjoh ubtlt 0vs bq qspbdi joufhsbuft lopxmfehf njofe gspn qptut jo 4ubdl y dibohf 6cvouv.1t boe5 3uvupsjbmt psbrvfszuibueftdsjcftb tifmm qsphsbnnjoh ubtl 4ifmm vtjpo sfdpnnfoet b mjtu pg sfmf wbou tifmm dpnnboet 4qfdj dbmmz 4ifmm vtjpo sfusjfwft uif upq n qptut xjui rvftujpot tjnjmbs up uif rvfsz boe efufdut tifmmdpnnboet xjui pqujpot f h nu v gspn uif bddfqufe botxfst pg uif sfusjfwfe qptut fyu 4ifmm vtjpo mufst pvu jssfmfwbou dpn nboet xjui eftdsjqujpot jo .
boe uibu tibsf mj mf tfnbo ujdt xjui uif rvfsz boe gvsuifs sbolt uif dboejebuf dpnnboetcbtfe po uifjs tjnjmbsjujft xjui uif rvfsz boe uif sfusjfwfe qptut 5p ifmq vtfst voefstuboe ipx up bdijfwf uif ubtl vtjoh b sfdpn nfoefedpnnboe 4ifmm vtjpohfofsbuftbdpnqsfifotjwfbotxfsgps fbdi dpnnboe cz tzouiftj joh lopxmfehf gspn qptut .1t boe 0vs fwbmvbujpo pg tifmm qsphsbnnjoh ubtlt tipxtuibu4ifmm vtjpotjhoj dboumzpvuqfsgpsnt.bhovn uiftubuf pg uif bsuobuvsbmmbohvbhf up btidpnnboebqqspbdi czbumfbtu jo ufsnt pg .
!
boe .
!
vtfs tuvez dpoevdufe 1fsnjttjpo up nblf ejhjubm ps ibse dpqjft pg bmm ps qbsu pg uijt xpsl gps qfstpobm ps dmbttsppnvtfjthsboufexjuipvugffqspwjefeuibudpqjftbsfopunbefpsejtusjcvufegps qsp u ps dpnnfsdjbm bewboubhf boe uibu dpqjft cfbs uijt opujdf boe uif gvmm djub ujpo po uif stu qbhf pqzsjhiut gps dpnqpofout pg uijt xpsl pxofe cz puifst uibo .nvtucfipopsfe ctusbdujohxjuidsfejujtqfsnj fe 5pdpqzpuifsxjtf pssf qvcmjti upqptupotfswfstpsupsfejtusjcvufupmjtut sfrvjsftqsjpstqfdj dqfsnjttjpoboe ps b gff 3frvftu qfsnjttjpot gspn qfsnjttjpot!bdn psh .
bz 1j tcvshi i ttpdjbujpo gps pnqvujoh .bdijofsz .
iuuqt epj psh xjui tifmmqsphsbnnfstgvsuifstipxtuibu4ifmm vtjpodboifmq vtfst beesftt qsphsbnnjoh ubtlt npsf f djfoumz boe bddvsbufmz dpnqbsfe xjui .bhovn boe ffq ot b sfdfou botxfs sfdpn nfoebujpo cbtfmjof 4p xbsf boe jut fohjoffsjoh 3fdpnnfoefs tztufnt 4ifmm 1sphsbnnjoh otxfs fofsbujpo opxmfehf vtjpo .
3fgfsfodf psnbu foh iboh1 ibp jv2 9jo 9jb3 isjtupqi 5sfvef4 joh pv5 bwje p6 jcjo ifoh1 4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sp hsbnnjoh5btltwjb opxmfehf vtjpo o ui oufsobujpobm pogfsfodfpo 4p xbsf ohjoffsjoh .
bz 1j tcvshi .
fx psl qbhft iuuqt epj psh o 6ojy boe jovy qmbugpsnt tifmm qsphsbnnjoh jt xjefmz vtfeup bddpnqmjti nboz ubtlt tvdi bt ofuxpsl nbobhfnfou boe mfnbojqvmbujpo mbshfovncfspgtifmmdpnnboetibwfcffoefwfm pqfe up tvqqpsu tifmm qsphsbnnjoh ps fybnqmf 6cvouv b nbjo tusfbn csbodi pg jovy ibt npsf uibo dpnnboet epdv nfoufe jo jut p djbm .bovbm 1bhft .1t u jt fyusfnfmz ejg dvmu gps vtfst up lopx boe sfnfncfs bmm uif dpnnboet hsfbu bnpvou pg nbovbm f psu ibt cffo efwpufe up dsfbujoh fbtz up vtf uvupsjbmt gps tifmm dpnnboet uibu bsf gsfrvfoumz vtfecz qsphsbnnfst f tuboet gps 5pp poh po u3fbe qspkfdu jtpofpguifqpqvmbsuvupsjbmt vssfoumz 3dpoubjotbqqspyjnbufmz dpnnboet psfbdidpnnboe sfdpset b tvnnbsz pg uif dpnnboe t gvodujpobmjuz boe tfw fsbm fybnqmf ubtlt xjui uif dpssftqpoejoh tdsjqut 4fdujpo muipvhi uif fyjtujoh uvupsjbmt dbo ifmq vtfst mfbso boe vtf tifmm dpnnboet up tpnf fyufou uifz pomz dpwfs b mjnjufe ovncfs pggsfrvfoumz vtfe dpnnboet xjui b gfx fybnqmft gps tifmm cfhjo ofst boe ibwf op f fdujwf nfdibojtnt gps vtfst up tfbsdi dpn nboet cz b ubtl 3fdfoumz tfwfsbm bqqspbdift bsf qspqptfe upusbotmbuf obuvsbm mbohvbhf ubtlt up bti dpnnboet vt joh b nbovbmmz dsfbufe ebubtfu bti bti dpoubjot bq qspyjnbufmz ubtl dpnnboe qbjst uibu dpwfs dpnnpomz ieee acm 44th international conference on software engineering icse ieee acm 44th international conference on software engineering icse sheiifusion answer gener ation for shell progra mm ing tasks via know ledge fusion neng zha ng1 chao liu2 xin xia3 christoph tre ude4 ying zou5 david lo6 zibin zheng1 1school of soft ware engineering sun yat sen university china 2school of big data and software engineering chongqing university china 3software engineering application technology lab hua wei china 4school of com puting and information systems univer sity of melbourne australia 5department of electrical and computer engineering qyeen s university canada 6school oflnformation systems singap ore management univer sity singap ore zhangn zhzibin mail .sysu.edu.cn liu.ch ao cqu.edu.cn xin.xia acm.org christoph.treude unimelb .edu .au ying.zou queensu .ca dav idlo smu.edu.sg abstract shell commands are widely used for accomplishing tasks such as network management and file manipul ation in unix and linux platforms.
there are a large number of shell commands available.
for example commands are documented in the ubuntu manual pages mps .
qyite often programmers feel frustrated when searching and orchestrating appropriate shell commands to accom plish specific tasks.
to address the challenge the shell program ming community calls for easy to use tutorials for shell commands .
however existing tutorials e.g.
tldr only cover a limited num ber of frequently used commands for shell beginners and provide limited support for users to search for commands by a task.
we propose an approach i.e.
shellfusion to automatically gen erate comprehensive answers including relevant shell commands scripts and explanations for shell programming tasks.
our ap proach integrates knowledge mined from q a posts in stack ex change ubuntu mps and tldr tutorials.
for a query that describes a shell programming task shellfusion recommends a list of rele vant shell commands.
specifically shellfusion retrieves the top n q a posts with questions similar to the query and detects shell commands with options e.g.
ls t from the accepted answers of the retrieved posts.
next shellfusion filters out irrelevant com mands with descriptions in mp and tldr that share little seman tics with the query and further ranks the candidate commands based on their similarities with the query and the retrieved posts.
to help users understand how to achieve the task using a recom mended command shellfusion generates a comprehensive answer for each command by synthesizing knowledge from q a posts mps and tldr.
our evaluation of shell programming tasks shows that shellfusion significantly outper forms magnum the stateof the art natural language to ba sh command approach by at least .
in terms of mrr k and map k. a user study conducted permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distribute d for profit or commercial advantage and that copies bear this notice and the full cita tion on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitte d. to copy otherwise or re publish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
icse may pittsbur gh fa usa association for computing machinery.
acm isbn ... .
https .
.
with shell programmers further shows that shellfusion can help users address programming tasks more efficiently and accurately compare d with magnum and deepans a recent answer recom mendation baseline .
ccs conc epts software and its engineering recomme nder systems.
keywo rds shell programming answer generation knowledge fusion acm reference format neng zhang chao liu xin xia christoph treude ying zou david lo6 zibin zheng .
.
shel!fusion answer generation for shell pro gramming tasks via knowledge fusion.
in 44th international conf erence on software engineer ing icse may pitts burgh fa usa.
acm new york ny usa pages.
.org .
.
introduction in unix and linux platforms shell programming is widely used to accomplish many tasks such as network management and file manipul ation.
a large number of shell commands have been devel oped to support shell programming.
for example ubuntu a main stream branch of linux has more than commands docu mented in its official manual pages mps .
it is extremely dif ficult for users to know and remember all the commands .
a great amount of manual effort has been devoted to creating easy to use tutorials for shell commands that are frequently used by programmers .
the tldr stands for too long don t read project is one of the popular tutorials.
currently tldr contains approximately commands.
for each command tldr records a summary of the command s functionality and sev eral example tasks with the correspo nding scripts section .
.
.
although the existing tutorials can help users learn and use shell commands to some extent they only cover a limited number of frequently used commands with a few examples for shell begin ners and have no effective mechanisms for users to search com mands by a task.
recently several approaches are proposed to translate natural language tasks to bash commands us ing a manually created dataset nl2bash.
nl2bash contains ap proximately task command pairs that cover commonly authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
.
bz 1j tcvshi foh iboh ibp jv 9jo 9jb isjtupqi 5sfvef joh pv bwje p boe jcjo ifoh vtfe dpnnboet f bqqspbdift dboopu beesftt nboz ubtlt uibu sfrvjsf dpnnboet pvutjef uif ebubtfu dpnnvojujft f h 4ubdl 0wfs px ibwf bddvnv mbufe njmmjpot pg rvftujpot boe botxfst bcpvu wbsjpvt qspcmfntboecfdpnfblopxmfehfsfqptjupszgpsvtfst fsfbsfnboz2 qptutsfmbufeuptifmmqsphsbnnjohjogpvsqpqvmbs2 dpn nvojujft j f tl6cvouv 6ojy jovy boe4vqfs 6tfs 4vdi qptut dbo cf mfwfsbhfe up eftjho bvup nbujd bqqspbdift gps beesfttjoh tifmm qsphsbnnjoh ubtlt xjuipvucfjoh mjnjufe cz uif nbovbmmz dsfbufe ubtl dpnnboe ebubtfu o uijt qbqfs xf qspqptf bo bqqspbdi obnfmz 4ifmm vtjpo up bvupnbujdbmmz hfofsbuf botxfst gps tifmm qsphsbnnjoh ubtlt czjoufhsbujoh lopxmfehf njofe gspn qptut 6cvouv .1t boe uvupsjbmt 8f stu dpmmfdu tifmm sfmbufe rvftujpot gspn gpvs dpnnvojujft boe boe fyusbdu lopxmfehf pgtifmm dpnnboet gspn 6cvouv .1t boe uvupsjbmt 8f uifojoefy uif rvftujpot vtjoh vdfof bo f djfou ufyu tfbsdi fo hjof uibu jnqmfnfout uif sboljoh gvodujpo .
8f bmtp cvjmeb xpse owfstf pdvnfou sfrvfodz wpdbcvmbsz boe b xpsefncfeejohnpefmvtjohuifrvftujpot jwfobrvfszuibuef tdsjcft b tifmm qsphsbnnjoh ubtl 4ifmm vtjpo efufsnjoft b mjtu pgsfmfwbou tifmm dpnnboet up sfdpnnfoe 4qfdj dbmmz ju sfusjfwftuif upq nrvftujpot tjnjmbs up uif rvfsz vtjoh vdfof tfbsdi boe b xpse fncfeejoh npefm cbtfe nfuipe u uifo efufdut tifmm dpn nboet xjui pqujpot f h nu v gspn uif bddfqufe botxfst pg uif tjnjmbs rvftujpot boe mufst pvu jssfmfwbou dpnnboet xijdi ibwfeftdsjqujpot jo .
boe uibu tibsf mj mf tfnboujdt xjui uifrvfsz fyu 4ifmm vtjpo sbolt uif dboejebuf dpnnboet cbtfe pouifjs tjnjmbsjujft xjui uif rvfsz boe uif tjnjmbs rvftujpot 5p ifmqvtfst voefstuboe ipx up beesftt uif rvfsz vtjoh b sfdpnnfoefedpnnboe 4ifmm vtjpo hfofsbuft b dpnqsfifotjwf botxfs gps uifdpnnboe cz tzouiftj joh uif p djbm .
tvnnbsz uif nptutjnjmbs ubtl tdsjqu qbjs uif upq tjnjmbs rvftujpot xjuibddfqufe tdsjqut uibu vtf uif dpnnboe boe uif fyqmbobujpotbcpvu uif pqujpot pg uif dpnnboe vtfe jo uif tdsjqut 5pfwbmvbuf4ifmm vtjpo xfdsfbuf tifmmqsphsbnnjohubtlt gspn uif ujumft pg tifmm sfmbufe rvftujpot 8f dpnqbsf 4ifmm vtjpo xjui .bhovn uif tubuf pg uif bsu bqqspbdi gps usbotmbujoh obuvsbmmbohvbhfubtltup btidpnnboet 4ifmm vtjpotjhoj dboumzpvuqfsgpsnt .bhovn cz bu mfbtu jo ufsnt pg uif .
!
boe .
!
nfusjdt o beejujpo up uif xjefmz vtfe qptut 4ifmm vtjpo joufhsbuft uxp tqfdjbmj fe jogpsnbujpo tpvsdft uif pg djbm .1t boe uif vop djbm uvupsjbmt 8f fwbmvbuf uif dpo usjcvujpot pg uif uxp jogpsnbujpo tpvsdft cz uftujoh uisff wbsjboutpg 4ifmm vtjpo 4fdujpo f sftvmut tipx uibu cpui .1t boe 3dpousjcvufup4ifmm vtjpo boe5 3ibtnpsfdpousjcvujpot uibo .1t 8f gvsuifs dpoevdu b vtfs tuvez xjui tifmm qsphsbn nfstpoufoqsphsbnnjohubtlt fsftvmuttipxuibu4ifmm vtjpodbo ifmq vtfst beesftt tifmm qsphsbnnjoh ubtlt npsf f djfoumzboe bddvsbufmz dpnqbsfe xjui .bhovn boe ffq ot bo bo txfs sfdpnnfoebujpo npefm uibu vtft b effq mfbsojoh ufdiojrvf f nbjo dpousjcvujpot pg uijt qbqfs bsf pvumjofe cfmpx 8fqspqptf4ifmm vtjpouphfofsbufdpnqsfifotjwfbotxfstgpstifmmqsphsbnnjohubtltczjoufhsbujohlopxmfehfnjofegspn qptut .1t boe 5p uif cftu pg pvs lopxm fehf 4ifmm vtjpojtuif stuxpslpocpuidpnnboesfdpn nfoebujpo boe botxfs hfofsbujpo gps tifmm qsphsbnnjohubtlt vtjoh b lopxmfehf gvtjpo nfuipe 0vs xpsl bewbodft tp xbsf fohjoffsjoh sftfbsdi cz gvt joh boe mufsjoh lopxmfehf gspn tjuft cbtfe po cpuigpsnbm boe jogpsnbm tp xbsf epdvnfoubujpo 8f qspqptf b nfuipe gps jefoujgzjoh tifmm dpnnboet xjuipqujpot gspn qptut 0vsrvboujubujwffwbmvbujpoboevtfstuvezefnpotusbufuiff fdujwfofttboeqsbdujdbmjuzpg4ifmm vtjpo dpnqbsfexjuiuif tubuf pg uif bsu cbtfmjoft 8f sfmfbtf uif tpvsdf dpef pg 4ifmm vtjpo boe uif fyqfsj nfou ebubtfu po ju vc up ifmq puifs sftfbsdifst sfqmj dbuf boe fyufoe pvs tuvez fsftupguifqbqfsjttusvduvsfebtgpmmpxt 4fdujpo eftdsjcft uif efubjmt pg 4ifmm vtjpo 4fdujpo eftdsjcft uif fyqfsjnfoubmtfuvqgpsfwbmvbujoh4ifmm vtjpo 4fdujpo qsftfoutuiffyqfsjnfousftvmut 4fdujpo eftdsjcft uif vtfs tuvez 4fdujpo ejtdvttft uifuisfbut up wbmjejuz pg uijt xpsl 4fdujpo sfwjfxt uif sfmbufe xpsl 4fdujpo dpodmveft uif qbqfs boe ejtdvttft gvuvsf xpsl jh tipxt bo pwfswjfx pg 4ifmm vtjpo dpotjtujoh pg uxp dpn qpofout circlecopyrt0 jof 1spdfttjoh uibu fyusbdut tifmm sfmbufe rvftujpot gspn dpnnvojujft boe njoft lopxmfehf pg tifmm dpnnboetgspn 6cvouv .1t boe uvupsjbmt 8f joefy uif rvftujpot vt joh vdfof boe cvjme b xpse wpdbcvmbsz boe b xpse fncfe ejoh npefm gspn uif rvftujpot boe circlecopyrt0omjof otxfs fofsbujpo uibuhfofsbuftbotxfstgpsbrvfszeftdsjcjohbtifmmqsphsbnnjohubtl 8f sfusjfwf uif upq nrvftujpot tjnjmbs up uif rvfsz boe tzo uiftj f nvmuj tpvsdf lopxmfehf pg dboejebuf tifmm dpnnboet ef ufdufe gspn uif bddfqufe botxfst pg uif tjnjmbs rvftujpot 0 mjof 1spdfttjoh 4ifmm 3fmbufe ftujpo pmmfdujpo fsfbsfgpvsnbjo2 dpnnvojujft jo 4ubdl ydibohf uibu dpoubjo qptut sfmbufe up tifmmqsphsbnnjoh j f boe 8f epxompbe uif p djbmebub evnqt pg uif dpnnvojujft sfmfbtfe po .bsdi f2 qptutpgfbdidpnnvojuzbsftupsfejobo9.
mf 1ptut ynm f rvftujpot jo boe bsf bmm sfmfwbou up tifmm qsphsbnnjoh 8f fyusbdu boe tifmm sfmbufe rvftujpot gspn boe 6sftqfdujwfmz f rvftujpot jo boe bsf opu bmm sfm fwbou up tifmm qsphsbnnjoh 8f nbovbmmz fybnjof uif ufdiojdbmubht bttjhofe up uif rvftujpot pg cpui dpnnvojujft boe efufsnjof tifmm sfmbufeubhtuibudpoubjo tifmm cbti ti vojy mjovy ps vcvouv 6tjoh uif ubht xf dpmmfdu boe tifmm sfmbufe rvftujpot gspn boe sftqfdujwfmz rvftujpo nbz ibwf tfwfsbm botxfst qspwjefe cz ej fsfou ef wfmpqfst xpsmexjef 0of pg uif botxfst dbo cf bddfqufe cz uif btlfs pg uif rvftujpo t dpo snfe cz uif btlfs uif tifmm dpn nboetnfoujpofe jo uifbddfqufe botxfsdpvme cfvtfe up beesfttuif rvftujpo 4ifmm vtjpo fyusbdut dboejebuf tifmm dpnnboet gps brvfsz gspn uif bddfqufe botxfst pg rvftujpot tjnjmbs up uif rvfsz 5bcmf mjtut uif tubujtujdt pg pvs dpmmfdufe tifmm sfmbufe rvftujpot o upubm uifsf bsf rvftujpot xjui bddfqufe botxfst 1971icse may pittsbur gh pa usa used commands .
the approaches cannot address many tasks that require commands outside the dataset.
q a communiti es e.g.
stack overflow so have accumu lated millions of questions and answers about various problems and become a knowledge repository for users .
there are many q a posts related to shell programming in four popular q a com munities i.e.
so askubuntu au unix linux ul and super user su .
such posts can be leveraged to design auto matic approaches for addressing shell programming tasks without being limited by the manually created task command dataset.
in this paper we propose an approach namely shellfusion to automatically generate answers for shell programming tasks by integrating knowledge mined from q a posts ubuntu mps and tldr tuto rials.
we first collect shell related questions from four q a communitie s au ul su and so and extract knowledge of shell commands from ubuntu mps and tldr tuto rials.
we then index the questions using lucene an efficient text search en gine that implements the ranking function bm25.
we also build a word inverse document frequency idf vocabulary and a word embe dding model using the questions.
given a query that de scribes a shell programming task shellfusion determines a list of relevant shell commands to recommend.
specifically it retrieves the top n questions similar to the query using lucene search and a word embedding model based method.
it then detects shell com mands with options e.g.
ls t from the accepted answers of the similar questions and filters out irrelevant commands which have descriptions in mp and tldr that share little semantics with the query.
next shellfusion ranks the candidate commands based on their similarities with the query and the similar questions.
to help users understand how to address the query using a recommended command shellfusion generates a comprehensive answer for the command by synthesizing the official mp summary the most similar tldr task script pair the top similar questions with accepted scripts that use the command and the explanations about the options of the command used in the scripts.
to evaluate shellfusion we create shell programming tasks from the titles of shell related questions.
we compare shellfusion with magnum the state of the art approach for translating natural language tasks to bash commands.
shellfusion significantly outperforms magnum by at least .
in terms of the mrr k and map k metrics.
in addition to the widely used q a posts shellfusion integrates two specialize d information sources the of ficial mps and the unofficial tldr tutorials.
we evaluate the con tributions of the two information sources by testing three variants of shellfusion section .
.
the results show that both mps and tldr contribute to shellfusion and tldr has more contributions than mps.
we further conduct a user study with shell program mers on ten programming tasks.
the results show that shellfusion can help users address shell programming tasks more efficiently and accurately compare d with magnum and deepans an an swer recommendation model that uses a deep learning technique .
the main contributions of this paper are outlined below we propose shellfusion to generate comprehensive answers for shell programming tasks by integrating knowledge mined neng zhang chao liu xin xia christoph treude ying zou david lo and zibin zheng from q a posts mps and tldr.
to the best of our knowl edge shellfusion is the first work on both command recom mendation and answer generation for shell programming tasks using a knowledge fusion method.
our work advances software engineering research by fus ing and filtering knowledge from q a sites based on both formal and informal software documentation.
we propose a method for identifying shell commands with options from q a posts.
our quantitative evaluation and user study demonstrate the effectiveness and practicality ofshellfusion compare d with the state of the art baseline s. we release the source code of shellfusion and the experi ment dataset on github to help other researchers repli cate and extend our study.
the rest of the paper is structure d as follows.
section describes the details of shellfusion.
section describes the experimental setup for evaluating shellfusion.
section presents the experiment results.
section describes the user study.
section discusses the threats to validity of this work.
section reviews the related work.
section concludes the paper and discusses future work.
approac h fig.
shows an overview of shellfusion consisting of two com ponents cd offline processing that extracts shell r elated questions from q a communities and mines knowledge of shell commands from ubuntu mps and tldr tutorials.
we index the questions us ing lucene and build a word idf vocabulary and a word embed ding model from the questions and online answer generation that generates answers for a query describing a shell progr amming task.
we retrieve the top n questions similar to the query and syn thesize multi source knowledge of candidate shell commands de tected from the accepted answers of the similar questions.
.
offline processi ng .
.
shell related question collection.
there are four main q a communities in stack exchange that contain posts related to shell programming i.e.
au ul su and so.
we download the official data dumps of the communities released on march .
the q a posts of each community are stored in an xml file posts.xml.
the questions in au and ul are all relevant to shell programming.
we extract and shell related questions from au and ul respectively.
the questions in su and so are not all rel evant to shell programming .
we manually examine the technical tags assigned to the questions of both communities and determine shell related tags that contain shell bash sh unix linux or ubuntu .
using the tags we collect and shell related questions from su and so respectively.
a question may have several answers provided by different de velopers worldwide.
one of the answers can be accepted by the asker of the question.
as confirmed by the asker the shell com mands mentioned in the accepted answer could be used to address the question.
shellfusion extracts candidate shell commands for a query from the accepted answers of questions similar to the query.
table lists the statistics of our collected shell related questions.
in total there are questions with accepted answers.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btltwjb opxmfehf vtjpo .
bz 1j tcvshi q a communitiesshell related question collectionshell related questionsbuilding a word idf vocabulary for similarity calculation word idf vocabularyword embedding model querysimilar question retrievaltop k similar questionsshell command detection filteringcandidate commands command rankingranked commandsanswer generation for each commandmp summary top similar questions with accepted scriptsthe most similar tldr task script pairgenerated answer for each commandoffline processing mp parsing mp knowledge of shell commands tldr knowledge of shell commands tldr parsingshell programmer online answer generationtldr tutorialsubuntu manual pages mps .
.
.
.
.
.
.
.4building lucene index for question retrievallucene index of questions1.
explanations about optionsbuilding a word embedding model for similarity calculation jhvsf qqspbdi pwfswjfx pg 4ifmm vtjpo 5bcmf 4ubujtujdt pg tifmm sfmbufe rvftujpot dpnnvojuz 4ifmm sfmbufe rvftujpot 4ifmm sfmbufe rvftujpot xjui bddfqufe botxfst tl 6cvouv 6ojy jovy 4ubdl 0wfs px 4vqfs 6tfs 5pubm vjmejoh 8pse ncfeejoh.pefmboe 8pse 7pdbcv mbsz gps 4jnjmbsjuz bmdvmbujpo 6tjoh uif tifmm sfmbufe rvftujpot xf cvjme b xpse wpdbcvmbsz boe b xpse fncfeejoh npefm xijdi bsf tvctfrvfoumz vtfe up dbmdvmbuf uif tjnjmbsjuz cfuxffo b rvftujpo ps b tifmm dpnnboe ps b ubtl boe b rvfsz f xpsefncfeejohnpefmjtuifcbtjdnpefmgpsdbmdvmbujohxpsetjn jmbsjujft xijmf uif xpse wpdbcvmbsz jt vtfe up xfjhiu uif jn qpsubodf pg xpset f pg b xpse jt uif jowfstf pg uif ovncfspg rvftujpot uibu dpoubjo uif xpse f npsf rvftujpot jo xijdib xpse bqqfbst uif mpxfs uif xpse t jt nfbojoh uibu uif mfttmjlfmz uif xpse dbssjft jnqpsubou jogpsnbujpo 8f cvjme b ufyu dpsqvt cz qspdfttjoh uif rvftujpot vtjoh uisff tufqt sfnpwjohmpohdpeftojqqfutfodmptfejo .
ubh angbracketleftpre angbracketright sfnpwjoh tupqxpset f h b boe uif cbtfe po uif tupqxpsemjtu jo uif uppmlju boe sfevdjoh fbdi xpse up jut sppugpsn blb tufnnjoh cz bqqmzjoh uif 1psufs tufnnfs jo 8f vtf uif dpsqvt up usbjo b xpse fncfeejoh npefm cz bqqmzjoh uifxpse wfd npevmf xjuiefgbvmuqbsbnfufstf joht jo fo tjn 8f dpnqvuf uif wbmvf pg fbdi xpse jo uif dpsqvt vjmejoh vdfof oefy gps ftujpo 3fusjfwbm 8f dsfbuf b epdvnfougpsfbditifmm sfmbufervftujpoczdpmmfdujohuifujumfboe ubht 8ffydmvefuifcpezpgbrvftujpobtxifofybnjojohbrvft ujpo sfuvsofe gps b rvfsz vtfst p fo kvehf jut sfmfwbodf cbtfe pouif ujumf boe ubht cfgpsf mppljoh joup uif mpoh ufyu jo uif cpez 8fjoefy uif rvftujpo epdvnfout vtjoh vdfof f joefy jt vtfe upjnqspwf uif f djfodz pg sfusjfwjoh tjnjmbs rvftujpot gps b rvfsz .11bstjoh 6cvouvjtbxjefmzvtfepqfo tpvsdf jovytzt ufn 5p hfofsbuf botxfst gps tifmm qsphsbnnjoh ubtlt jo 6cvouv xf offe up bdrvjsf lopxmfehf bcpvu tifmm dpnnboet bwbjmbcmf jo 6cvouv xijdibsfepdvnfoufejouif6cvouv.1t 8fdpmmfduuif .1t pg 6cvouv pdbm pttb sfmfbtfe po fcsvbsz f .1t bsf hspvqfe joup ojof tfdujpot ovncfsfe gspn up o uif dvssfou 4ifmm vtjpo xf gpdvt po uif tifmm dpnnboet boe tztufn benjojtusbujpo dpnnboet jo uif tfdujpot boe btuifz bsf npsf mjlfmz up cf vtfe cz qsphsbnnfst puf uibu tzt ufn benjojtusbujpo dpnnboet bsf dpotjefsfe bt b tqfdjbm ljoe pgtifmm dpnnboet bdi .
jt b tusvduvsfe .
qbhf eftdsjcjoh bdpnnboe f h uiftvnnbsz tzopqtjt boepqujpot fgpmmpxjohtipxt b qbsu pg uif jogpsnbujpo pg dpnnboe nu 4vnnbsz mjtu ejsfdupsz dpoufout 4zopqtjt nu 0qujpot n vtf b mpoh mjtujoh gpsnbu j jwocp tgcfcdng xjui nboe u qsjou tj ft mjlf .
fud v tpsu cz npej dbujpo ujnf ofxftu stu 8f qbstf uif .1t vtjoh uif nzonnpevmf jo 1zuipo boe pcubjo uif tvnnbsz boe pqujpot pg fbdi dpnnboe o upubm xf pcubjo dpnnboet jodmvejoh boe dpnnboet gspn uiftfdujpot boe sftqfdujwfmz 31bstjoh 6cvouv.1tbsfhfofsbmmzuppmfohuizupsfbe boe sbsfmz qspwjef fybnqmft up efnpotusbuf ipx up vtf b dpn nboe u jt p fo ej dvmu gps vtfst up oe bqqspqsjbuf dpnnboet xjui pqujpot gps b ubtl gspn uif mbshf ovncfs pg dpnnboet boe pqujpot eftdsjcfe jo uif .1t yjtujoh xpsl ibt cffo efwpufe updsfbujoh fbtz up vtf uvupsjbmt gps gsfrvfoumz vtfe dpnnboet f qspkfdu iptufe po ju vc jt pof pg uifnptu qpqvmbs uvupsjbmt 8f epxompbe uif sfqptjupsz gspn i qt ifmq vcvouv dpn dpnnvojuz nbo 1972sheiifu sion answer generation for shell programming tasks via knowle dge fusion q a communi ties shell progr ammer mp summary the most similar tldr task sc ript pair top similar ques tions with accepted scripts explanations about options online answer gener ation rank ed commands icse may pitts burgh pa usa d offline proces sing ubuntu .
manual pages mps tldr tutorials figure approach overview of shellfusion table statistics of shell related questions q a community ask ubuntu au unix linux ul stack overflow so super user su total shell related questions shell related questions with accepted answers .
.
building a word embedding model and a word idf vocabu lary for similarity calculation.
using the shell rela ted questions we build a word idf vocabulary and a word embedding model which are subsequently used to calculate the similarity between a question or a shell command or a tldr task and a query.
the word embedding model is the basic model for calculating word sim ilarities while the word idf vocabulary is used to weight the im portance of words.
the idf of a word is the inverse of the number of questions that contain the word.
the more questions in which a word appears the lower the word s idf is meaning that the less likely the word carries important information.
we build a text corpus by processing the questions using three steps removing long code snippets enclosed in html tag pre removing stopwords e.g.
a and the based on the stopword list in the nltk toolkit and reducing each word to its root form aka.
stemming by applying the porter stemmer in nltk.
we use the corpus to train a word embedding model by applying the word2vec module with default parameter settings in gen sim .
we compute the idf value of each word in the corpus.
.
.
building lucene index for question retrieval.
we create a document for each shell related question by collecting the title and tags.
we exclude the body of a question as when examining a ques tion returned for a query users often judge its relevance based on the title and tags before looking into the long text in the body.
we index the question documents using lucene.
the index is used to improve the efficiency of retrieving similar questions for a query.
.
.
mp parsing.
ubuntu is a widely used open source linux sys tem.
to generate answers for shell programming tasks in ubuntu we need to acquire knowledge about shell commands available in ubuntu which are documented in the ubuntu mps .
we collect the mps ofubuntu .
lts focal fossa released on february .
the mps are grouped into nine sections numbered from to .
in the current shellfusion we focus on the shell commands and system administration commands in the sections and as they are more likely to be used by programmers .
note that sys tem administration commands are considered as a special kind of shell commands.
each mp is a structure d html page describing a command e.g.
the summary synopsis and options.
the following shows a part of the information of command ls.
sununary list directory contents synop sis ls .
.. .
.. options use a long listing format h human readable with and s print sizes like 1k 234m 2g etc.
t sort by modification time newest first we parse the mps using the lxml module in python and obtain the summary and options of each command.
in total we obtain commands including and commands from the sections and respectively.
.
.
tldr parsing.
ubuntu mps are generally too lengthy to read and rarely provide examples to demonstrate how to use a com mand.
it is often difficult for users to find appropriate commands with options for a task from the large number of commands and options described in the mps.
existing work has been devoted to creating easy to use tutorials for frequently used commands .
the tldr project hosted on github is one of the most popular tutorials.
we download the tldr repository from https help.ubuntu.com conununity man authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
.
bz 1j tcvshi foh iboh ibp jv 9jo 9jb isjtupqi 5sfvef joh pv bwje p boe jcjo ifoh ju vc f dpnnboet sfmbufe up jovy bsf dpoubjofe jo uxp gpme fst qbhft dpnnpo uibudpoubjotuifdpnnboetdpnnpoupnvmuj qmf pqfsbujoh tztufnt f h jovy boe 8joepxt boe qbhft mjovy uibu dpoubjot uif dpnnboet tqfdj d up jovy ps fbdi dpnnboe nbjoubjot b tvnnbsz boe tfwfsbm sfqsftfoubujwf ubtl tdsjqu qbjst jo b .
mf f tvnnbsz boe b ubtl tdsjqu qbjspg dpnnboe nubsf bt gpmmpxt 4vnnbsz mjtu ejsfdupsz dpoufout 5btl 4dsjqu 1bjst 5btl pohgpsnbumjtuxjuitj fejtqmbzfevtjohivnbosfbebcmf vojut .
4dsjqu nu nj 8f qbstf uif .
mft boe pcubjo uif tvnnbsjft boe fybnqmf ubtl tdsjqu qbjst pg dpnnboet jodmvejoh boe dpnnboet gspn qbhft dpnnpo boe qbhft mjovy sftqfdujwfmz 0omjof otxfs fofsbujpo 4jnjmbs ftujpo3fusjfwbm jwfo b rvfsz eftdsjcjoh b tifmm qsphsbnnjoh ubtl xf stu qsfqspdftt uif rvfsz vtjoh tupqxpsesfnpwbm boe tufnnjoh fo xf offe up sfusjfwf b mjtu pg tifmm sfmbufe rvftujpot tjnjmbs up uif rvfsz o 4fdujpo xf cvjme b xpse wpdbcvmbsz boe b xpse fncfeejoh npefm gps nfbtvs joh uif tjnjmbsjuz cfuxffo b rvftujpo boe uif rvfsz pxfwfs ju jt ujnf dpotvnjoh up dbmdvmbuf uif tjnjmbsjujft pg tifmm sfmbufe rvftujpot vtjoh uif xpse fncfeejoh npefm evf up uif sf rvjsfe nbusjy sfqsftfoubujpot pg uif rvftujpot 5p fyqfejbufuif sfusjfwbm pg tjnjmbs rvftujpot xf vtf b uxp qibtf nfuipe czdpncjojoh vdfofboebmbohvbhfnpefm cbtfenfuipe ouif stuqibtf xf vtf uif vdfof tfbsdi fohjof up sfusjfwfuif upq nrvft ujpot tjnjmbs up uif rvfsz cz mfwfsbhjoh uif vdfof joefy cvjmu gpsbmm rvftujpot o uif tfdpoe qibtf gps fbdi pg uif nrvftujpot xf dbmdvmbufbobtznnfusjd xfjhiufetjnjmbsjuzpguifrvftujpo t up uif rvfsz qcbtfe po uif xpset pg uif ujumf boe ubht pg tboe uif xpset pg q sim t q summationtext.
w tsim w q idf w summationtext.
w tidf w xifsfsim w q jt uif nbyjnvn wbmvf pg sim w w prime w prime q boesim w w prime jt uif dptjof tjnjmbsjuz pg uif xpse fncfeejoh wfd upst pgwboew prime opuifs btznnfusjd tjnjmbsjuz sim q t jt dbmdvmbufe cz txbqqjoh tboeqjo r jobmmz xf dbmdvmbuf uif tjnjmbsjuz cfuxffo tboeqbt uifibsnpojd nfbo pg uif uxp btznnfusjd tjnjmbsjujft sim t q sim t q sim q t sim t q sim q t fs dbmdvmbujoh uif tjnjmbsjujft pg uif nrvftujpot xf pcubjo uif upq ntjnjmbs rvftujpot gps uif rvfsz o 4ifmm vtjpo xf tfu n cz efgbvmu bt upp nboz rvftujpot jouspevdf opjtf up uif botxfs hfofsbujpo qspdftt boe tfu n tp uibu uif upq tfnboujdbmmz tjnjmbs rvftujpot dbo cf dpwfsfe cz uif nrvftujpot 4ifmm pnnboe fufdujpo jmufsjoh u jt mjlfmz uibu uif tifmm dpnnboet vtfe jo uif bddfqufe botxfs pg b tjnjmbs rvftujpobsf sfmfwbou up uif rvfsz tfu pg dboejebuf dpnnboet dbo cf pc ubjofe cz efufdujoh dpnnboet gspn uif bddfqufe botxfst pg uifupq ntjnjmbs rvftujpot ps bo bddfqufe botxfs xf jefoujgz dpn nboet xjui pqujpot bt gpmmpxt ls lh bin ls bin cat rwxr xr x root root 25k may bin cat rwxr xr x root root 88k may bin ls date test.txt ulimit d m v bin ls date.txt bin ls error while loading shared libraries libc.so.
fail ed to map segment from shared object cannot allocate memory bin cat date.txt thu mar pdt command and option detection note ulimit is the actual command for limiting the resource usage of a process while the other commands are just used for completing the illustration.
command options ls l h cat date ulimit d m v jhvsf pnnboet boe pqujpot efufdufe gspn b dpef tojq qfu uibu tipxt ipx up mjnju uif nfnpsz vtbhf pg b qspdftt pnnboe efufdujpo 8f cvjme b ejdujpobsz uibu tupsft bmm uifdpnnboetfyusbdufegspn6cvouv.1t 8fdpmmfducpuitipsu dpef tojqqfut fodmptfe jo .
ubh angbracketleftcode angbracketrightboe mpoh dpef tojqqfut fodmptfe jo .
ubh angbracketleftpre angbracketrightjo uif bddfqufe botxfs znbovbmmzfybnjojohuifdpeftojqqfut j f tifmmtdsjqut jo uif bddfqufe botxfst pg tbnqmfe rvftujpot xf oe uibu uif dpnnboet jo tifmm tdsjqut p fo bqqfbs bu uifcfhjoojohpgbtdsjqumjofpsjnnfejbufmzcfijoetjytqf djbmdibsbdufst boe f h mt boe cjo mt tipxo jo jh ps fbdi tdsjqu xf sfqmbdf uif tqfdjbm dibsbdufst xjui b xijuftqbdf boe uifo tqmju uif tdsjqu joup b tfu pg up lfot cz xijuftqbdft f uplfot uibu nbudi boz dpnnboejo uif ejdujpobsz bsf nbslfe bt dboejebuf dpnnboet jh tipxt gpvs dpnnboet efufdufe gspn b dpef tojqqfu uibu jm mvtusbuft ipx up mjnju uif nfnpsz vtbhf pg b qspdftt 0qujpo efufdujpo 8f gvsuifs efufdu uif pqujpot pg fbdi dboejebufdpnnboevtfejouiftdsjqut 8fusfbufbditdsjqumjof bt b uplfo tfrvfodf jo xijdi tpnf uplfot dpssftqpoeupdboejebufdpnnboet psuif i uidpnnboeuplfo c i jut bttpdjbufepqujpottipvmefyjtujouifuplfotvctfrvfodfcf uxffoc iboe uif ofyu dpnnboe uplfo ps uif foe pg uif tf rvfodf gbuplfojouiftvctfrvfodfnbudiftbozpqujpofy usbdufe gspn c i t .
xf nbsl ju bt bo pqujpo pg ci o qsbd ujdf nvmujqmf pqujpot pg b dpnnboe dbo cf dpnqbdufe o jh uif pqujpot nboe jpg dpnnboe nubsf dpnqbdufe bt nj psbuplfo t xijdinbudiftuifsfhvmbsfyqsfttjpo c ?
jg tepftopunbudibozpqujpopg c i x fej wjeftjoup nvmujqmf uplfot uibu tubsu xjui boe dpoubjo fwfsz tjohmf mf fs jo t boe uifo difdl xifuifs fbdi pg uif uplfot nbudift boz pqujpo pg ci 8f bmtp oe uibu tpnf pqujpot pg b dpnnboe nbz opu fyjtu jo jut .
ps fybn qmf uif pqujpot f o boe xpg dpnnboe wnkokv tipxo jo jh bsf opu jodmvefe jo uif .
fsfgpsf xf nbsl b uplfo uibu epft opu nbudi boz pqujpo pg cicvu nbudift uif sfhvmbs fyqsfttjpo c ?
bt b dboejebuf pqujpo pg ci z dpmmfdujoh uif dpnnboet xjui pqujpot efufdufe gspn uif bd dfqufebotxfstpguifupq ntjnjmbsrvftujpot xfpcubjouiffoujsf tfu pg dboejebuf dpnnboet xjui bttpdjbufe pqujpot 8f pctfswf uibu tpnf efufdufe dboejebuf dpnnboet bsf jssfmf wbou up uif rvfsz o jh wnkokvjt uif bduvbm dpnnboe gps mjn jujoh uif nfnpsz vtbhf pg b qspdftt xijmf uif puifs dpnnboet i qt tvqfsvtfs dpn rvftujpot i q nboqbhft vcvouv dpn nboqbhft gpdbm fo nbo vmjnju qptjy iunm 1973icse may pittsburgh pa usa github.
the commands related to linux are containe d in two fold ers pages c ommon that contains the commands common to multi ple operating systems e.g.
linux and windows and lpagesll inux that contains the commands specific to linux.
for each command tldr maintains a summary and several representative task script pairs in a markd own file.
the summary and a task script pair of command ls are as follows.
summary list directory contents task script pairs task long format list with size displayed using human readable units kb mb gb script ls lh we parse the markdown files and obtain the summaries and example task script pairs of commands including and commands from pages common and lpagesll inux respectively.
.
online answer genera tion .
.
similar question retrieval.
given a query describing a shell programming task we first preprocess the que1y using stopword removal and stemming.
then we need to retrieve a list of shell related questions similar to the query.
in section .
.
we build a word idf vocabulary and a word embedding model for measur ing the similarity between a question and the query.
however it is time consuming to calculate the similarities of shell related questions using the word embedding model due to the re quired matrix representations of the questions .
to expediate the retrieval of similar questions we use a two phase method by combining lucene and a language model base dmethod.
in the first phase we use the lucene search engine to retrieve the top n ques tions similar to the query by leveraging the lucene index built for all questions.
in the second phase for each of the n questions we calculate an asymmetric idf weighte d similarity of the question t to the que1y q based on the words of the title and tags oft and the words of q .
t q z wet sim w q x idf w szm z.. wet idf w where sim w q is the maximum value of sim w w vw e q and sim w w is the cosine similarity of the word embedding vec tors of w and w .
another asymmetric similarity sim q t is calculate d by swapping t and q in eq.
.
finally we calculate the similarity between t and q as the harmonic mean of the two asymmetric similariti es sim t q x sim t q x sim q t sim t q sim q t after calculating the similarities of the n questions we obtain the top n similar questions for the query.
in shellfusion we set n by default as too many questions introduce noise to the answer generation process and set n so that the top semantically similar questions can be covered by the n questions.
.
.
shell command detection filtering.
it is likely that the shell commands used in the accepted answer of a similar question are relevant to the query.
a set of candidate commands can be ob tained by detecting commands from the accepted answers of the top n similar questions.
for an accepted answer we identify com mands with options as follows.
neng zhang chao liu x in xia christoph treude ying zou david lo and zibin zheng is lh bin is bin cat rwxr xr x root root 25k may bin cat rwxr xr x root root 88k may bin is date test.txt ulimit d m v bin is date.
txt bin is error while loading shared libraries libc.so.
failed to map segment from shared object can not allocate memory bin cat date.txt thu mar pot2009 command command options and option is h detect ion cat date ulimit d m v note ulimit is the actual command for limiting the resource usage of a process while the other commands are just used for completing the illustration.
figure commands and options detected fro m a code snip pet that shows how to limit the memory usage of a process command detection.
we build a dictionary that stores all the commands extracted from ubuntu mps.
we collect both short code snippets enclosed in html tag code and long code snippets enclosed in html tag pre in the accepted answer.
by manually examining the code snippets i.e.
shell scripts in the accepted answers of sampled questions we find that the commands in shell scripts often appear at the beginning of a script line or immediately behind six spe cial characte rs .
and e.g.
and bin shown in fig.
.
for each script we replace the special characters with a whites pace and then split the script into a set of to kens by whites paces.
the tokens that match any command in the dictionary are marked as candidate commands.
fig.
shows four commands detected from a code snippet that il lustrates how to limit the memory usage of a process2.
option detect ion.
we further detect the options of each candidate command used in the scripts.
we treat each script line as a token sequence in which some tokens correspond to candidate commands.
for the i th command token c its associated options should exist in the token subsequence be tween c and the next command token or the end of the se quence.
if a token in the subsequence matches any option ex tracted from c s mp we mark it as an option of c .
in prac tice multiple options of a command can be compacted.
in fig.
the options and h of command ls are compacted as lh.
for a token t which matches the regular expression if t does not match any option ofc we di vide t into multiple tokens that start with and contain every single letter in t and then check whether each of the tokens matches any option of c .
we also find that some options of a command may not exist in its mp.
for exam ple the options d m and v of command ulimi t shown in fig.
are not included in the mp3 .
therefore we mark a token that does not match any option of c but matches the regular expression as a candidate option of c .
by collecting the commands with options detected from the ac cepted answers of the top n similar questions we obtain the entire set of candidate commands with associated options.
we observe that some detected candidate commands are irrele vant to the query.
in fig.
ul imi t is the actual command for lim iting the memory usage of a process while the other commands om questions 3http manpages.ubuntu.c om manpages focal!en manl ulimit.lposix.html authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btltwjb opxmfehf vtjpo .
bz 1j tcvshi f h nu bsfvtfegpsdpnqmfujohuifjmmvtusbujpo 8f mufspvuuifjs sfmfwboudpnnboetcznfbtvsjohuifjstjnjmbsjujftxjuiuifrvfsz psbdpnnboe c xfqspdfttjuttvnnbszboeuifeftdsjqujpotpg jutpqujpotjo.1vtjohtupqxpsesfnpwbmboetufnnjoh sftvmujohjo b cbh pg xpset c mp 4jnjmbsmz xf qspdftt uif tvnnbsz boe fy bnqmf ubtlt pg cjo sftvmujoh jo b cbh pg xpset ctldr f dbmdvmbuf uxp qbsujbm tjnjmbsjujft cfuxffo cboe uif rvfsz qvtjoh r cbtfe po cmpboectldr sftqfdujwfmz jobmmz xf dbmdvmbuf uif tjnjmbsjuz cfuxffo cboeqbt sim c q sim cmp q sim ctldr q xifsf jt b dpf djfou up cbmbodf uif jnqpsubodf pg uif .1boe5 3eftdsjqujpotpg c 8fejtujohvjti ctldrboecmpgps tjnjmbsjuznfbtvsfnfoutjodfbdpnnboejo5 3nfbotuibujujtgsfrvfoumzvtfeboedpvmecfdpotjefsfegpssfdpnnfoebujpoxjuiqsjpsjuz o uijt xpsl xf tfu up bttjho frvbm xfjhiut up uif .
boe eftdsjqujpot 8f sf of uif dboejebuf dpnnboet cz sfubjojoh uif upq kdpn nboet xjui uif nbyjnvn tjnjmbsjujft pnnboe3boljoh ouvjujwfmz bdpnnboeuibujtnpsfgsf rvfoumz vtfe jo uif bddfqufe botxfst pg tjnjmbs rvftujpot jt npsf mjlfmz up beesftt uif rvfsz g b dpnnboe dbo jnqmfnfou b rvft ujpo uibu jt npsf tjnjmbs up b rvfsz ju jt npsf mjlfmz up beesfttuif rvfsz 8f sf sbol uif upq kdboejebuf dpnnboet cz dpotjefs joh cpui uif ovncfs pg bddfqufe botxfst uibu vtf uif dpnnboetboe uif tjnjmbsjujft pg rvftujpot ps b dpnnboe c xf pcubjo uif tfu pg tjnjmbs rvftujpot xiptf bddfqufe botxfst nfoujpo uif dpn nboe efopufe bt t c q fo xf nfbtvsf uif mjlfmjippe uibu uif dpnnboe dpvme cf vtfe up beesftt uif rvfsz bt likelihood c q min summationtext.
t t c q sim t q n lo 2n .
xifsfsim t q jt uif tjnjmbsjuz cfuxffo b rvftujpo t boe uif rvfszq xijdi jt dbmdvmbufe vtjoh r boe njt uif ovncfs pg rvftujpot jo t c q f frvbujpo ibt uxp qbsut uif stu qbsu dbmdvmbuft uif bwfsbhf pg uif tjnjmbsjujft pg uif rvftujpot xiptfbddfqufe botxfst dpoubjo c boe uif tfdpoe qbsu cpptut uif tjnj mbsjuz cbtfe po uif ovncfs pg tvdi rvftujpot 8f bee b mphbsjuinusbotgpsnbujpo up bwpje fydfttjwf cpptujoh f mjlfmjippe tipvmeopu fydffe gps dbmdvmbujoh uif sfdpnnfoebujpo tdpsf cfmpx 8f dbmdvmbuf uif obm sfdpnnfoebujpo tdpsf pg cbt uifibs npojd nfbo pg jut tjnjmbsjuz xjui uif rvfsz sim c q boe jut mjlf mjippe pg bdijfwjoh uif rvfsz likelihood c q sf ofe mjtu pg uif dboejebuf dpnnboet jt qspevdfe cz sboljoh uifn jo b ef tdfoejoh psefs bddpsejoh up uif sfdpnnfoebujpo tdpsft otxfs fofsbujpogps pnnboet 5pifmqvtfstvoefstuboe uifsfdpnnfoefedpnnboetboervjdlmzmpdbufvtfgvmdpnnboet boetdsjqutgpsuifrvfsz xfhfofsbufbdpnqsfifotjwfbotxfsgpsfbdi dboejebuf dpnnboe cz tzouiftj joh uif gpmmpxjoh btqfdut .1tvnnbsz 8fqsftfouuifp djbmtvnnbszpguifdpn nboe jo jut .
up ifmq vtfst rvjdlmz difdl uif dpnnboe tgvodujpobmjuz fnptutjnjmbs5 3ubtl tdsjquqbjs guifdpnnboe ibt b uvupsjbm jo xf dbmdvmbuf uif tjnjmbsjuz cfuxffofbdi fybnqmf ubtl pg uif dpnnboe boe uif rvfsz vtjoh r 8fuifoqsftfouuifnptutjnjmbsubtlxjuiuifdpssf tqpoejohtdsjqu tpuibuvtfstdborvjdlmz oebvtfgvmtdsjqujg uif ubtl nbudift uif rvfsz 5pq tjnjmbs rvftujpot xjui bddfqufe tdsjqut 8f mjtu uif ujumft pg uif upq tjnjmbs rvftujpot xiptf bddfqufe bo txfst dpoubjo uif dpnnboe ps fbdi rvftujpo xf bmtp mjtuuif tdsjqut uibu vtf uif dpnnboe jo uif bddfqufe botxfs 6tfst dpvme oe vtfgvm tdsjqut cz dpnqbsjoh uif rvftujpoujumft xjui uif rvfsz 8f pomz qsftfou uif upq rvftujpot xjui bddfqufe tdsjqut jt up qsfwfou jogpsnbujpo pwfsmpbe yqmbobujpot bcpvu pqujpot fsf dbo cf tpnf pqujpot pguifdpnnboevtfejouifbttpdjbufetdsjqut 5pifmqvtfstvoefstuboe uif tdsjqut xf qsftfou uif p djbm .
eftdsjq ujpot pg uif pqujpot 4jodf uif dpnnboe eftjhofs nbz njttpqujpot 4fdujpo gps uif pqujpot xjuipvu .
eftdsjq ujpot xf qsftfou uif tfoufodft uibu dpoubjo uif pqujpot jouif bddfqufe botxfst pg uif upq tjnjmbs rvftujpot .
jttfdujpojouspevdftuiffyqfsjnfoubmtfuvqgpsfwbmvbujoh4ifmm vtjpo 0vs fyqfsjnfoubm fowjsponfou jt b tfswfs xjui bo oufm j bo wjejb fgpsdf .
boe 8jo 1spupuzqf nqmfnfoubujpo t eftdsjcfe jo 4fdujpot boe xf dpmmfdu tifmm sfmbufervftujpotxjuibddfqufebotxfstgspngpvs2 dpn nvojujft tifmm dpnnboet gspn uif .1t pg 6cvouv boe jovy dpnnboet gspn uif uvupsjbmt 8f qfs gpsn uif p jof qspdftt pg 4ifmm vtjpo po uif ebubtfu 4fdujpo o uif pomjof qspdftt pg 4ifmm vtjpo uifsf jt b lfz qbsbnfufs k xijdi jt uif ovncfs pg dboejebuf dpnnboet vtfe up hfofsbuf botxfst 5p efufsnjof uif qspqfs tf joh pg k xf dpoevdu b qjmpu tuvezupnfbtvsfuifqfsgpsnbodfpg4ifmm vtjpopo fyqfsjnfo ubm rvfsjft vtjoh ej fsfou kwbmvft 4fdujpo fsz 4fmfdujpo 4jnjmbs up qsjps xpsl xf dsfbuf b ovncfs pg fy qfsjnfoubm rvfsjft gspn tifmm sfmbufe rvftujpot xjuipvu bddfqufebotxfst uibu bsf opu jodmvefe jo uif rvftujpo sfqptjupsz vtfe gpsjnqmfnfoujoh 4ifmm vtjpo 5p fotvsf uif rvbmjuz boe qpqvmbsjuzpg rvfsjft xf dpmmfdu rvftujpot bddpsejoh up uif gpmmpxjohdsjufsjb uif tdpsftipvme cf bu mfbtu boe uif wjfxdpvou tipvme cf bu mfbtu 8f uifo sboepnmz tfmfdu rvftujpot gspn uifdpmmfdufe rvftujpot f mfbe bvuips pg uijt qbqfs boe b 1i tuv efou xip jt opu b dp bvuips pg uijt qbqfs nbovbmmz fybnjof uifujumft pg uif rvftujpot up mufs pvu rvftujpot uibu ep opu bjn uptfbsditifmmdpnnboetgpsqsphsbnnjohubtlt fz stujoefqfo efoumz mbcfm uif rvftujpot up cf sfnpwfe 5zqjdbm fybnqmft pg uifrvftujpot cfjoh sfnpwfe bsf hjwfo cfmpx rvftujpotffltgpsfyqmbobujpotbcpvudpnnboetpspuifssftpvsdft f h 8ibu jt uif nfbojoh pg dinpe rvftujpotffltgpsdpnqbsjtpocfuxffodpnnboetpspuifssftpvsdft f h j fsfodf cfuxffo dq s boe dq b rvftujpoeftdsjcftbofssps f h qjoh volopxoiptuhpphmf dpn cvu 1t xpslt of 1974sheiifusion answer gener ation for shell progr ammin g tasks via knowledge fusion e.g.
ls are used for completing the illustration.
we filter out their relevant commands by measuring their similarities with the query.
for a command c we process its summary and the descriptions of its options in mp using stopword removal and stemming resulting in a bag of words cmp similarly we process the summary and ex ample tasks of c in tldr resulting in a bag of words ctldr we calculate two partial similarities between c and the query q using eq.
based on cmp and ctldr respectively.
finally we calculate the similarity between c and q as sim c q ax sim cmp.
q a x sim ctldr o q where a e is a coefficient to balance the importance of the mp and tldr descriptions of c. we distinguish ctldr andcmp for similarity measurement since a command in tldr means that it is frequently used and could be considered for recommendation with priority.
in this work we set a .
to assign equal weights to the mp and tldr descriptions.
we refine the candidate commands by retaining the top k com mands with the maximum similariti es.
.
.
command ran king.
intuitively a command that is more fre quently used in the accepted answers of similar questions is more likely to address the query.
if a command can implement a ques tion that is more similar to a query it is more likely to address the query.
were rank the top k candidate commands by consider ing both the number of accepted answers that use the commands and the similarities of questions.
for a command c we obtain the set of similar questions whose accepted answers mention the com mand denoted as t c q .
then we measure the likelihood that the command could be used to address the query as l tet c q sim t q likel ihood c q min x logzn .
n where sim t q is the similarity between a question t and the query q which is calculated using eq.
and n is the number of questions in t c q .
the equation has two parts the first part calculates the average of the similarities of the questions whose accepted answers contain c and the second part boosts the simi larity based on the number of such questions.
we add a logarithm transformation to avoid excessive boosting.
the likelihood should not exceed for calculating the recommendation score below.
we calculate the final recommendation score of c as the har monic mean of its similarity with the query sim c q and its like lihood of achieving the query likel ihood c q .
a refined list of the candidate commands is produced by ranking them in a de scending order according to the recommendation scores.
.
.
answer generation for command s. to help users understand the recommended commands and quickly locate useful commands and scripts for the query we generate a comprehensive answer for each candidate command by synthesizing the following aspects mp summary.
we present the official summary of the com mand in its mp to help users quickly check the command s functionality.
the most similartldr task s cript pair.
if the command has a tutorial in tldr we calculate the similarity between each example task of the command and the query using icse may pitts burgh pa usa eq.
.
we then present the most similar task with the corre sponding script so that users can quickly find a useful script if the task matches the query.
top similar questions with accepted scripts.
we list the titles of the top similar questions whose accepted an swers contain the command.
for each question we also list the scripts that use the command in the accepted answer.
users could find useful scripts by comparing the question titles with the query.
we only present the top questions with accepted scripts is to prevent information overload.
explanations about options.
there can be some options of the command used in the associated scripts.
to help users understand the scripts we present the official mp descrip tions of the options.
since the command designer may miss options section .
.
for the options without mp descrip tions we present the sentences that contain the options in the accepted answers of the top similar questions.
experiment al setup this section introduces the experimental setup for evaluating shell fusion.
our experimental environment is a server with an intel i7 cpu an nvidia geforce gtxl gpu 64g ram and win os.
.
prototype implementation as described in sections .
.
.
.
and .
.
we collect shell related questions with accepted answers from four q a com munities shell commands from the mps of ubuntu .
lts and linux commands from the tldr tutorials.
we per form the offline process ofshellfusion on the dataset section .
.
in the online process of shellfusion there is a key parameter k which is the number of candidate commands used to generate answers .
to determine the proper setting of k we conduct a pilot study to measure the performance of shellfusion on experimen tal queries using different k values section .
.
.
qyery selection similar to prior work we create a number of ex perimental queries from shell relate d questions without accepted answers that are not included in the question repository used for implementing shellfusion.
to ensure the quality and popularity of queries we collect questions according to the following criteria the score should be at least and the viewcount should be at least .
we then randomly select questions from the collected questions.
the lead author of this paper and a phd stu dent who is not a co author of this paper manually examine the titles of the questions to filter out questions that do not aim to search shell commands for programming tasks.
they first indepen dently label the questions to be removed.
typical examples of the questions being removed are given below a question seeks for explanations about commands or other resources e.g.
what is the mean ing of chmod ?
a question seeks for comparis on between commands or other resources e.g.
difference between cp rand cp a. a question describes an error e.g.
ping unknown host google.
com but ips works fine.
authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
.
bz 1j tcvshi foh iboh ibp jv 9jo 9jb isjtupqi 5sfvef joh pv bwje p boe jcjo ifoh 8fnfbtvsfuifjoufs sbufsbhsffnfoucfuxffouifuxpmbcfmfst vtjoh mfjtt bqqb f bqqb wbmvf jt joejdbujoh bo bm nptu qfsgfdu bhsffnfou fs ejtdvttjoh uif ejtbhsffnfout cpuimbcfmfst sfbdi b dpnnpo efdjtjpo po uif sfnpwbm pg rvftujpot vsuifsnpsf xf oeuibuuifsfbsfrvftujpoteftdsjcjohbobmphpvtubtlt ps fybnqmf cpui px up jotubmm pphmf ispnf boe px ep jotubmm j5voft po 6cvouv btl gps uif jotubmmbujpo pg bqqmjdbujpot 5pcf fsfwbmvbufuifqfsgpsnbodfpg4ifmm vtjpopowbsjpvtubtlt pomz pof pg uif bobmphpvt rvftujpot tipvme cf sfubjofe pui mb cfmfstgvsuifsjoefqfoefoumzfybnjofuifsfnbjojoh rvftujpotboe mbcfm uif bobmphpvt rvftujpot up cf sfnpwfe f bqqb wbmvfjt joejdbujoh bo bmnptu qfsgfdu bhsffnfou fz ejtdvtt uifejtbhsffnfout boe sfbdi b dpotfotvt po uif sfnpwbm pg rvft ujpot t b sftvmu xf pcubjo rvfsjft cz dpmmfdujoh uif ujumft pguif obm rvftujpot btfmjof qqspbdift 4ifmm vtjpo sfdpnnfoet tifmm dpnnboet gps b rvfsz boe hfofs buftbefubjmfebotxfsgpsfbdidpnnboeczmfwfsbhjoh2 qptut .1t boe qptut bsf vtfe up fyusbdu dboejebuf dpn nboet xijmf .1t boe bsf vtfe up mufs pvu jssfmfwbou dpn nboet boe hfofsbuf dpnqsfifotjwf botxfst fs fyufotjwf mju fsbuvsf tfbsdi uifsf jt op fyjtujoh xpsl uibu fyqmpjut qptutup sfdpnnfoe tifmm dpnnboet pxfwfs tfwfsbm bqqspbdift f h .bhovn boe 5fmmjob bsf qspqptfe up usbotmbuf obuvsbm mbohvbhfup bti dpnnboet ddpsejoh up uif .
dpnqfuj ujpoifmebu fvs .bhovnjtuiftubuf pg uif bsubqqspbdi .psfpwfs tpnf xpsl hfofsbuft ps sfdpnnfoet botxfst gps qsp hsbnnjoh ubtlt cz fyqmpjujoh qptut ffq ot jt pof pg uif tubuf pg uif bsu bqqspbdift 8f dpnqbsf 4ifmm vtjpo xjui .bhovn boe ffq ot xijdi bsf csjf z eftdsjcfe cfmpx .bhovn usbotmbuft b obuvsbm mbohvbhf ubtl up uif dps sftqpoejoh bti dpnnboe f usbotmbujpo npefm jt bo fo tfncmf pg wf tfqbsbufmz usbjofe usbotgpsnfs npefmtdpotjtujoh pg tjy mbzfst xjui fbn 4fbsdi .bhovn jtusbjofe vtjoh uif bti ebubtfu uibu dpoubjot ubtl dpnnboeqbjst 8fjnqmfnfou.bhovnvtjohjuttpvsdf dpef boe qsf usbjofe npefm sfmfbtfe po ju vc ffq ot sfdpnnfoet uif nptu sfmfwbou botxfs gps b rvfsz gspn uif botxfst pg tjnjmbs rvftujpot jo dpn nvojujft f h boe u stu cpptut uif rvfsz cz bq qfoejohbdmbsj dbujporvftujpohfofsbufevtjohbtfrvfodf up tfrvfodf npefm f npefm jt usbjofe cbtfe po uif dmbs j dbujpo rvftujpot btlfe jo uif dpnnfout pg qptut ffq ot uifo sfusjfwft uif upq tjnjmbs rvftujpot boe pc ubjot uif botxfst pg uif tjnjmbs rvftujpot bt dboejebuf bo txfst jobmmz ffq ot tpsut uif botxfst cz uif nbudijohtdpsft dbmdvmbufe vtjoh b ofvsbm ofuxpsl npefm f ofvsbmofuxpsl npefm jt usbjofe cbtfe po gpvs ljoet pg bvupnbuj dbmmz mbcfmfe qbjst 8f jnqmfnfou ffq ot vtjoh juttpvsdf dpef sfmfbtfe po ju vc 8ffwbmvbufuxpbtqfdutpg4ifmm vtjpo uifsfdpnnfoefetifmm dpnnboet boe uif hfofsbufe botxfst ps uif fwbmvbujpo pg tifmmdpnnboe sfdpnnfoebujpo xf vtf .bhovn bt b cbtfmjof cvu fy dmvef ffq ot gps uif gpmmpxjoh sfbtpot ffq ot jt b hfofsbm bq qspbdi qspqptfe gps sfdpnnfoejoh sfmfwbou botxfst gps rvfsjftgspnuiffyjtujohbotxfstpgrvftujpotjo2 dpnnvojujft ffq ot dbo bqqmz up tifmm qsphsbnnjoh ubtlt cvu ju epft opu jefoujgz tifmmdpnnboetsfmfwbouupuifrvfsjftgspnuifsfdpnnfoefebo txfst ps uif fwbmvbujpo pg botxfs hfofsbujpo xf dpoevdu b vtfstuvez cz dpnqbsjoh 4ifmm vtjpo xjui cpui .bhovn boe ffq ot t eftdsjcfe qsfwjpvtmz jo 4ifmm vtjpo qptut bsf uif cb tjd jogpsnbujpo tpvsdf vtfe up pcubjo dboejebuf tifmm dpnnboetgps rvfsjft boe uif puifs uxp jogpsnbujpo tpvsdft j f .1t boe bsf vtfe up mufs pvu jssfmfwbou dpnnboet boe qspevdjoh dpnqsfifotjwfbotxfst 5pfwbmvbufuif dpousjcvujpot pg .1t boe xf jnqmfnfou uisff wbsjbout pg 4ifmm vtjpo bt gpmmpxt 4ifmm vtjpo vtft2 qptutpomz boejebufdpnnboet bsf sbolfe cz uif mjlfmjippe tdpsft dpnqvufe vtjoh r 4ifmm vtjpo .1t vtft qptut boe .1t f .
lopxmfehfpgtifmmdpnnboetjtvtfeup mufspvujssfmfwboudboejebuf dpnnboet 4ifmm vtjpo vtft qptut boe f lopxmfehf pg tifmm dpnnboet jt vtfe up mufs pvu js sfmfwbou dboejebuf dpnnboet wbmvbujpo .fusjdt 8ffwbmvbufuiftifmmdpnnboetsfdpnnfoefecz4ifmm vtjpo .bh ovn boe uif wbsjbout pg 4ifmm vtjpo vtjoh uxp xjefmz vtfe nfu sjdt .fbo3fdjqspdbm3bolbu .
!
boe.fbo wfsbhf1sfdjtjpo bu .
!
ps b rvfsz 3fdjqspdbm 3bol!
!
sfgfst up uif nvmujqmjdbujwf jowfstf pg uif sbol pg uif stu sfmfwbou dpnnboe jo uif upq ksfdpnnfoebujpo mjtu .
!
bw fsbhft uif !
wbmvft gps b tfu pg rvfsjft ps b rvfsz wfsbhf1sfdjtjpo!
!
dbmdvmbuftuifbwfsbhfpguifqsfdjtjpobuuifpddvssfodf pg fwfsz sfmfwbou dpnnboe jo uif upq ksfdpnnfoeb ujpo mjtu .
!
bwfsbhft uif !
wbmvft gps b tfu pg rvfsjft .
8ibu jt uif cftu tfuujoh pg qbsbnfufs kjo 4ifmm vtjpo .pujwbujpo ttipxojo jh 4ifmm vtjponbzefufdutifmmdpn nboetjssfmfwbouupbrvfszgspnuifdpeftojqqfutjouifbddfqufe botxfst pg tjnjmbs rvftujpot 8f mufs pvu uif opjtft cz sfubjo joh uif upq kdpnnboet uibu ibwf uif nbyjnvn tjnjmbsjujft xjui uif rvfsz f tf joh pg kdbo b fdu uif rvbmjuz pg sfdpnnfoefe dpnnboet mbshf k f h nbz opu mufs pvu tpnf jssfmfwbou dpnnboetxijdidbocfjodmvefepsfwfosbolfeijhimzjouifsfd pnnfoebujpo mjtu tnbmm k f h nbz mfbwf pvu sfmfwbou dpn nboet 8foffeupefufsnjofuifcftutf johpg kupfotvsfbhppe qfsgpsnbodf pg 4ifmm vtjpo qqspbdi 8f qfsgpsn b tfotjujwjuz bobmztjt pg kcz dpoevdujoh b qjmpu tuvez xjui rvfsjft sboepnmz tfmfdufe gspn uif fyqfsj nfoubm rvfsjft 8f svo 4ifmm vtjpo po uif rvfsjft xjui ej fsfoutf joht pg k ps fbdi rvfsz xf dpmmfdu uif botxfst hfofsbufe vtjoh ej fsfou kwbmvft 8f uifo sfdsvju uxp 1i tuvefout xip bsf gbnjmjbs xjui 6cvouv boe ibwf npsf uibo wf zfbst pg fyqfsjfodf jo tifmm qsphsbnnjoh up fwbmvbuf uif sfmf wbodfpgsfdpnnfoefedpnnboetjouifbotxfst f sfmfwbodf pg bdpnnboejoejdbuftupxibufyufouuifdpnnboedpvmecfvtfeup 1975icse may pittsbur gh pa usa we measure the inter rater agreement between the two labelers using fleiss kappa .
the kappa value is .
indicating anal most perfect agreement.
after discussing the disagreements both labelers reach a common decision on the removal of questions.
furtherm ore we find that there are questions describing analogous tasks.
for example both how to install coogle chrome and how do i install itunes on ubuntu?
ask for the installation of applications.
to better evaluate the performance ofshellfusion on various tasks only one of the analogous questions should be retained.
both la belers further independently examine the remaining questions and label the analogous questions to be removed.
the kappa value is .
indicating an almost perfect agreement.
they discuss the disagreements and reach a consensus on the removal of ques tions.
as a result we obtain queries by collecting the titles of the final questions.
.
baseline approaches shellfusion recommends shell commands for a query and gener ates a detailed answer for each command by leveraging q a posts mps and tldr.
q a posts are used to extract candidate com mands while mps and tldr are used to filter out irrelevant com mands and generate comprehensive answers.
after extensive lit erature search there is no existing work that exploits q a posts to recommend shell commands .
however several approaches e.g.
magnum and tellina are proposed to translate natural language to bash commands .
according to the nlc2cmd competi tion held at neurips magnum is the state of the art approach.
moreover some work generates or recommends answers for pro gramming tasks by exploiting q a posts .
deepans is one of the state of the art approaches.
we compare shellfusion with magnum and deepans which are briefly described below magnu m translates a natural language task to the cor responding bash command.
the translation model is an en semble of five separately trained transformer models consisting of six layers with beam search .
magnum is trained using the nl2bash dataset that contains task command pairs.
we implement magnum using its source code and pre trained model released on github .
deepans recommends the most relevant answer for a query from the answers of similar questions in q a com munities e.g.
au and so.
it first boosts the query by ap pending a clarification question generated using a sequence to sequence model.
the model is trained based on the clar ification questions asked in the comments of q a posts.
deepans then retrieves the top s similar questions and ob tains the answers of the similar questions as candidate an swers.
finally deepans sorts the answers by the matching scores calculated using a neural network model.
the neural network model is trained based on four kinds of automati cally labeled q a pairs.
we implement deepans using its source code released on github .
we evaluate two aspects of shellfusion the recommended shell commands and the generated answers .
for the evaluation of shell command recommendation we use magnum as a baseline but ex clude deepans for the following reasons deepans is a general ap proach proposed for recommending relevant answers for queries neng zhang cha o liu xin xia christoph treude ying zou david lo and zibin zheng from the existing answers of questions in q a communitie s. deep ans can apply to shell programming tasks but it does not identify shell commands relevant to the queries from the recommended an swers.
for the evaluation of answer generation we conduct a user study by comparing shellfusion with both magnum and deepans.
as described previously in shellfusion q a posts are the ba sic information source used to obtain candidate shell commands for queries and the other two information sources i.e.
mps and tldr are used to filter out irrelevant commands and producing comprehensive answers.
to evaluate the contributions ofmps and tldr we implement three variants of shellfusion as follows.
shellfusion qa uses q a posts only.
candidate commands are ranked by the likelihood scores computed using eq.
.
shellfusion qa mps uses q a posts and mps.
the mp knowledge of shell commands is used to filter out irrelevant candidate commands.
shellfusion qa tldr uses q a posts and tldr.
the tldr knowledge of shell commands is used to filter out ir relevant candidate commands.
.
evaluation metrics we evaluate the shell commands recommended by shellfusion mag num and the variants of shellfusion using two widely used met rics mean reciprocal rank at k mrr k and mean average precision at k map k .
for a query reciprocal rank k rr k refers to the multiplicative inverse of the rank of the first relevant command in the top k recommendation list.
mrr k av erages the rr k values for a set of queries.
for a query average precision k ap k calculates the average of the precision at the occurrence of every relevant command in the top k recommenda tion list.
map k averages the ap k values for a set of queries.
experiment results .
rql what is the best setting of parameter kin shellfusion?
motivation.
as shown in fig.
shellfusion may detect shell com mands irrelevant to a query from the code snippets in the accepted answers of similar questions.
we filter out the noises by retain ing the top k commands that have the maximum similarities with the query.
the setting of k can affect the quality of recommended commands.
a large k e.g.
may not filter out some irrelevant commands which can be included or even ranked highly in the rec ommendation list.
a small k e.g.
may leave out relevant com mands.
we need to determine the best setting of k to ensure a good performance of shellfusion.
approach.
we perform a sensitivity analysis of k by conducting a pilot study with queries randomly selected from the experi mental queries.
we run shellfusion on the queries with diff erent settings of k e .
for each query we collect the answers generated using diff erent k values.
we then recruit two phd students who are familiar with ubuntu and have more than five years of experience in shell programming to evaluate the rele vance of recommended commands in the answers .
the relevance of a command indicates to what extent the command could be used to authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btltwjb opxmfehf vtjpo .
bz 1j tcvshi 5bcmf 1fsgpsnbodf pg 4ifmm vtjpo xjui ej fsfou kwbmvft l. !
.
!
.
!
.
!
.
!
.
!
beesfttuifdpssftqpoejohrvfsz pui1i tuvefout stujoefqfo efoumz fwbmvbuf uif sfmfwbodf pg fbdi sfdpnnfoefe dpnnboe cz wfhsbeft xifsf boe nfbo tuspohmzjssfmfwbou js sfmfwbou ofvusbm sfmfwbou boe tuspohmz sfmfwbou sftqfdujwfmz g uif tzouiftj fe lopxmfehf jo bo botxfs jt jotv djfou up kvehfuif sfmfwbodf pg uif sfdpnnfoefe dpnnboe jo uif botxfs uifzdbo tfbsdi gps uif dpnnboe po uif xfc o upubm cpui tuvefout jo efqfoefoumz fwbmvbuf dpnnboet gps uif rvfsjft f mfjtt bqqb wbmvf jt xijdi joejdbuft b tvctuboujbm bhsffnfou ftuvefout sfbdi b dpotfotvt cz ejtdvttjoh uif ejtbhsffnfout btfe po uif sfmfwbodf pg sfdpnnfoefe dpnnboet xf nfb tvsf uif bwfsbhf qfsgpsnbodf pg 4ifmm vtjpo ps fwfsz tqfdj d. !
ps .
!
nfusjd xf dpnqvuf uif nfusjd wbmvf pg uifupq kdpnnboetsfdpnnfoefegpsfbdirvfsz fo xfdpnqvuf uif bwfsbhf pg uif nfusjd wbmvft pg uif rvfsjft 3ftvmut 4ifmm vtjpo bdijfwft cfuufs qfsgpsnbodf xjui uif tfuujoh pg k p s 5bcmf qsftfout uif qfsgpsnbodf pg 4ifmm vtjpo bdijfwfe vtjoh ej fsfou kwbmvft t kjodsfbtft gspn up jo ufsnt pg wf tqfdj d nfusjdt fydfqu .
!
uif qfs gpsnbodf stu jodsfbtft voujm sfbdijoh b qfbl uifsfb fs ju cf dpnfttubcmfps efhsbefttmjhiumzboeuifocfdpnfttubcmf 4ifmm vtjpobdijfwftuifpqujnbmqfsgpsnbodfpouifnbyjnvnovncfspg j f gpvs nfusjdt vtjoh k ps 4qfdj dbmmz xifo k u i f .
!
.
!
.
!
boe.
!
wbmvftbsfpqujnbm xifo k uif .
!
.
!
.
!
boe .
!
wbmvft bsf pq ujnbm .psfpwfs xifo k uif .
!
.
!
boe .
!
wbmvft bsf pqujnbm boe uif wbmvft pg uif puifs uisff nfusjdt bsfwfszdmptfupuifpqujnbmpoftbdijfwfevtjoh k ps spnuif sftvmut vtfstdbotfu k ps cbtfepouifjsqsfgfsfodft xjuisftqfduupuifgpvsnfusjdt .
!
.
!
.
!
boe .
!
o uijt xpsl xf qsfgfs .
!
up .
!
bt .
!
dpotjefst cpui tdpsft boe sboljoh pg uif sfmfwbou dpn nboet 8f bsf bmtp npsf joufsftufe jo uif upq sfdpnnfoefedpnnboet fsfgpsf xftfu k gpsuiftvctfrvfoufyqfsjnfout px f fdujwf jt 4ifmm vtjpo jo tifmm dpnnboe sfdpnnfoebujpo .pujwbujpo 4ifmm vtjpo bjnt up sfdpnnfoe sfmfwbou tifmm dpn nboet xjui dpnqsfifotjwf lopxmfehf gps qsphsbnnjoh ubtlt ujt ofdfttbsz up fwbmvbuf uif f fdujwfoftt pg 4ifmm vtjpo jo tifmmdpnnboe sfdpnnfoebujpo 4ifmm vtjpo joufhsbuft uif lopxmfehfpg tifmm dpnnboet njofe gspn qptut .1t boe qptut bsf vtfe up fyusbdu dboejebuf tifmm dpnnboet xijmf cpui.1tboe5 3bsfvtfeup mufspvujssfmfwboudpnnboetboehfo fsbuf dpnqsfifotjwf botxfst gps dpnnboet 8f offe up wbmjebufuif dpousjcvujpot pg .1t boe up 4ifmm vtjpo 5bcmf 1fsgpsnbodf pg 4ifmm vtjpo boe gpvs cbtfmjoft .
!
.
!
.
!
.
!
.
!
.
!
.bhovn 4ifmm vtjpo 4ifmm vtjpo .1t 4ifmm vtjpo 4ifmm vtjpo q q q qqspbdi 8f jnqmfnfou .bhovn boe uisff wbsjbout pg 4ifmm v tjpo j f 4ifmm vtjpo 4ifmm vtjpo .1t boe 4ifmm vtjpo bt cbtfmjoft 4fdujpo 8f qfsgpsn 4ifmm vtjpo boeuif cbtfmjoft po uif fyqfsjnfoubm rvfsjft ps fbdi rvfsz xfdpmmfdu uif botxfstqspevdfe cz uif wfbqqspbdift f uxp 1i tuvefout jowpmwfe jo gvsuifs fwbmvbuf uif sfmfwbodf pg sfdpn nfoefe dpnnboet jo uif botxfst puf uibu uif botxfs j f bdpnnboeufnqmbuf qspevdfegpsbrvfszcz.bhovnnbzdpoubjonvmujqmfdpnnboet bttipxojo jh 8fbtluiftuvefoutupfwbm vbuffwfszdpnnboejouifdpnnboeufnqmbuftqspevdfecz.bh ovn 4jnjmbsmz uifz stu joefqfoefoumz fwbmvbuf uif sfmfwbodf pgfbdi dpnnboe cz wf hsbeft o upubm cpui tuvefout joefqfo efoumzfwbmvbuf dpnnboet boeuif mfjtt bqqbwbmvfjt joejdbujoh bo bmnptu qfsgfdu bhsffnfou fs ejtdvttjoh uif ejt bhsffnfout uif tuvefout bdijfwf b dpotfotvt 8f nfbtvsf uif bwfsbhf qfsgpsnbodf pg uif wf bqqspbdift po bmm fyqfsjnfoubm rvfsjft ps .bhovn xf nfbtvsf jut cftu qfsgps nbodf pg uif dpnnboe ufnqmbuf qspevdfe gps b rvfsz cbtfe pouif pqujnbm dpnnboe mjtu sbolfe jo eftdfoejoh psefs cz uif sfm fwbodf o ufsnt pg fwfsz tqfdj d .
!
boe .
!
nfusjd xf bmtp fybnjof uif tubujtujdbm tjhoj dbodf pg uif ej fsfodft cf uxffo uif qfsgpsnbodf pg 4ifmm vtjpo boe uif cbtfmjoft vtjoh uif 8jmdpypo tjhofe sbol uftu 3ftvmut 4ifmm vtjpo ibt efnpotusbufe uif f fdujwfoftt jotifmm dpnnboe sfdpnnfoebujpo 5bcmf qsftfout uif qfsgps nbodfpg4ifmm vtjpoboegpvscbtfmjoft boeuiftjhoj dbousftvmutpg 4ifmm vtjpo pwfs uif cbtfmjoft 4ifmm vtjpo bdijfwft uif pquj nbmqfsgpsnbodfpo.
!
.
!
.
!
boe.
!
f. !
boe .
!
wbmvft pg 4ifmm vtjpo bsf wfsz dmptf up uifpqujnbm poft bdijfwfe cz 4ifmm vtjpo 4ifmm vtjpo tjh oj dboumz pvuqfsgpsnt .bhovn xjui bo jnqspwfnfou pg bu mfbtu po .
!
boe bu mfbtu po .
!
f qpps qfs gpsnbodfpg.bhovnjtnbjomzevfupuifusbjojohebubtfu bti xijdidpwfstpomz dpnnboet .bhovndboopuefbmxjuinboz ubtlt uibu sfrvjsf dpnnboet pvutjef uif ebubtfu 4ifmm vtjpo .1t jnqspwft 4ifmm vtjpo tmjhiumz po wf nfusjdtfydfqu.
!
fxpstf.
!
pg4ifmm vtjpo .1tnbz cf dbvtfe cz uif njtmfbejoh tjnjmbsjujft cfuxffo tpnf dpn nboet boe rvfsjft dbmdvmbufe cbtfe po uif .
eftdsjqujpot pg uifdpnnboetboeuifjspqujpot 4ifmm vtjpo 3bdijfwftnvdicf fs qfsgpsnbodf uibo 4ifmm vtjpo po bmm nfusjdt f sf tvmutjoejdbufuibucpui.1tboe5 3dpousjcvufup4ifmm v tjpo boe ibt npsf dpousjcvujpot uibo .1t spvhi pvs bobmztjt uif sftvmut dbo cf fyqmbjofe cz uif gbdu uibu vomjlfuif p djbm .1t qspwjefe cz dpnnboe eftjhofst uif vop djbm 3dpoubjotqsbdujdbmlopxmfehfbcpvuuifvtbhfpgdpnnboet xijdi jt npsf vtfgvm gps vtfst muipvhi .1t ibwf mjnjufe dpousj cvujpot up sfdpnnfoejoh cf fs dpnnboet .1t bsf ofdfttbsz up 1976shell fusion answer generation for shell program ming tasks knowledge fusion table perform ance of shellfusion with diff erent k values .
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.43j address the corresponding query.
both phd students first indepen dently evaluate the relevance of each recommended command by five where and 4mean irrelevant .
ir relevant neutral relevant and strongly relevant respectively.
if the knowledge in an answer is insufficient to judge the relevance of the recommended command in the answer they can search for the command on the web.
in total both students in dependently evaluate commands for the the fleiss kappa value is .
which indicates a substantial agreement.
the students reach a consensus by discussing the u.co o wcw.
.
based on the relevance of recommended commands we mea sure the average performance of shellfusion.
for every specific mrr k or map k metric.
we compute the metric value of the top k commands recommended for each query.
then we compute the average of the metric values of the queries.
results.
shellfusion achie ves better performance with the setting of k or .
table presents the performance of shellfusion achieved using different k values.
as k increases from to in terms of five specific metrics except mrr the per formance first increases until reaching a peak thereafter it be comes stable or degrades slightly and then becomes stable.
shell fusion achieves the optimal performance on the maximum number of i.e.
four metrics using k or .
specifica lly when k the mrr l mrr mrr and map values are optimal when k the mrr l mrr map l and map values are op timal.
moreover when k the mrr l map l and map values are optimal and the values of the other three metrics are very close to the optimal ones achieved using k or .
from the results users can set k or based on their pref erences with respect to the four metric s mrr mrr map and map .
in this work we prefer map k to mrr k as mi p k considers both scores and ranking of the relevant com mands.
we are also more interested in the top recommended commands.
therefore we set k for the experiments.
.
rq2 how effective is shellfusion in shell command recom men dation?
motivation.
shellfusion aims to recommend relevant shell com mands with comprehensive knowledge for tasks.
it is necessary to evaluate the effectiveness of shellfusion in shell command recommendation.
shellfusion integrates the knowledge of shell commands mined from q a posts mps and tldr.
q a posts are used to extract candidate shell commands while both mps and tldr are used to filter out irrelevant commands and gen erate answers for commands.
we need to validate the contributions of !v!ps and tldr to shellfusion.
icse may .
pitlsburgh pa usa table perfo rmance of shellfusion and four baselines approach.
we implement magnum and three variants of shellfu sion i.e.
shellfusion qa mps and shellfusion qa tldr as baselines section .
.
we perform shelifusion and the baselines on the experimental queries.
for each query we collect the answers produced by the five approaches.
the two phd students involved in rql further evaluate the relevance of recom mended commands in the answers.
note that the answer i.e .. a command template produced for a quety by magnum multiple commands as shown in fig.
.
we ask the students to eval uate every command in the command templates produced by num.
similarly first independently evaluate the relevance of each command five .
in total both students independently evaluate comman ds and the fleiss is .
indicating an almost perfect agreement.
after discussing the dis agreements the students achieve a consensus.
we measure the average performance of the five on all experimental for magnum we measure its best perfor mance of the command template produced for a query based on the optimal command list ranked in descending order by the rel evance.
in terms of every specific mrr k and map k metric we also examine the statistical significance of the differences be tween the ofshellfusion and the baselines the wilcoxon results.
sheiifusion has demonstrated the effectivene ss in shell command recommendation.
table presents the rnance ofshellfusion and four baselines and the results of shell fusion over the baselines.
shellfusion achieves the opti mal performance onmrr l !vlap l l v1ap andmap .
1he mrr and mrr s values of shellfusion are very close to the optimal ones achieved by shellfusion qa tld r. shellfusion sig nificantly outperforms magnum with an improvement of at least .
on mrr k and at least .
on l v1ap k. the poor per formance of magnum is mainly due to the training dataset nl2bash.
which covers only commands.
!vlagmun cannot deal with many tasks that require commands outside the dataset.
shellfusion qa mps improves shellfusion qa slightly on five metrics except map .
1he worse map ofshellfusion qa mps may be caused by the misleading similarities between some com mands and calculated based on the mp descriptions of the commands and their options.
shdlfusion qa tldr achieves much better performance than shellfusion qa on all rnetrics.
the re sults ind icate that both mps and tldr contribute to shellfu sion and tldr has more contributions than mps.
through our analysis the results can be explained by the fact that unlike the official mps provided by command designers the unofllcial tldr contains knowledge about the usage of commands which is more useful for users.
although mps have limited contri butions to better commands mps are necessary to authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
.
bz 1j tcvshi foh iboh ibp jv 9jo 9jb isjtupqi 5sfvef joh pv bwje p boe jcjo ifoh 5bcmf 5jnf dptu pg 4ifmm vtjpo .bhovn boe ffq ot 0 mjof qspdfttjoh ujnf 0omjof qspdfttjoh ujnf 4ifmm vtjpo ipvst tfdpoet qfs rvfsz .bhovn tfdpoet qfs rvfsz ffq ot ipvst tfdpoet qfs rvfsz ifmq vtfst voefstuboe uif hfofsbufe botxfst cz p fsjoh p djbm fyqmbobujpot bcpvu uif sfdpnnfoefe dpnnboet boe pqujpot btdpo snfe cz uif qbsujdjqbout pg pvs vtfs tuvez 4fdujpo px f djfou jt 4ifmm vtjpo .pujwbujpo t tipxo jo jh 4ifmm vtjpo ibt wf p jof tufqt f h xpse fncfeejoh npefm cvjmejoh boe .
boe qbstjoh muipvhi uif tufqt sfrvjsf tvctuboujbm ujnf uifz ep opu b fdu uif f djfodz pg pomjof botxfs hfofsbujpo 5p bddfmfsbuf uif pomjofqspdftt xfdpoevduuxptufqtp jof usbotgpsnjohuifujumftboeubht pg bmm rvftujpot jo uif sfqptjupsz joup nbusjy sfqsftfoubujpocbtfe po uif xpse fncfeejoh npefm boe efufdujoh dpnnboet xjui pqujpot gspn uif dpef tojqqfut jo uif bddfqufe botxfst pg bmm rvftujpot 6tjoh uif sftvmut 4ifmm vtjpo dbo f djfoumz dbmdvmbuftfnboujd tjnjmbsjujft cfuxffo b rvfsz boe uif n rvftujpot sfevdfe cz vdfof boe rvjdlmz pcubjo dboejebuf dpnnboet gspnuif upq tjnjmbs rvftujpot vsjoh uif pomjof botxfs hfofsbujpo gps b rvfsz 4ifmm vtjpo offet up mufs pvu jssfmfwbou dboejebuf dpnnboet cz dbmdvmbujohuifjs tjnjmbsjujft xjui uif rvfsz sbol uif sf ofe dboejebuf dpn nboet boe hfofsbuf b efubjmfe botxfs gps fbdi dpnnboe cz tzo uiftj joh lopxmfehf gspn nvmujqmf tpvsdft g 4ifmm vtjpo dboopusvoxjuibsfbtpobcmfsvoujnf vtfstnbzopucfxjmmjohupvtfjujoqsbdujdf 8f offe up wbmjebuf uif pomjof f djfodz pg 4ifmm vtjpo qqspbdi 8f sfdpse uif ujnf tqfou po uif p jof boe pomjof tufqt pg 4ifmm vtjpo ffq ot boe .bhovn 3ftvmut 4ifmm vtjpo dbo sbqjemz sftqpoe up vtfst b fs uifz tvcnju b tifmm qsphsbnnjoh ubtl 5bcmf qsftfout uif p jof boe pomjof ujnf dptu pg uisff bqqspbdift 8f ep opu sfqpsu uifp jof ujnf pg .bhovn bt xf ejsfdumz vtf jut qsf usbjofe npefm fp jofqspdfttpg4ifmm vtjpoublft ipvst xijditipvmecfbddfqubcmfjoqsbdujdf ouifpomjofqspdftt 4ifmm vtjpoublftpomz tfdpoet up hfofsbuf botxfst gps b rvfsz ffq ot ibt ijhifsp jofboepomjofujnfdptuuibo4ifmm vtjpo .bhovndbobotxfsbrvfszxjuijo tfdpoet xijdijtnvdigbtufsuibo4ifmm vtjpo ipxfwfs uif f fdujwfoftt pg .bhovn jt qpps 5bcmf f f djfodz pg 4ifmm vtjpo mbshfmz efqfoet po uif uxp qibtf nfuipevtfegpstjnjmbsrvftujposfusjfwbm fssfevdjohuifmbshfsfqptjupsz up b tfu pg nrvftujpot vtjoh uif vdfof tfbsdi fohjof uif upq ntjnjmbs rvftujpot dbo cf f djfoumz sfusjfwfe vtjoh uif xpse fncfeejoh npefm cbtfe nfuipe o uijt tfdujpo xf dpoevdu b vtfs tuvez up wbmjebuf uif qsbdujdbm wbmvf pg 4ifmm vtjpo cz difdljoh xifuifs uif hfofsbufe botxfst dbo ifmq vtfst oe dpssfdu tifmm dpnnboet boe tdsjqut gps qsp hsbnnjoh ubtlt npsf f djfoumz boe bddvsbufmz the top answer generated by shellfusion command cut mp summary remove sections from each line of files the most similar tldr task cut out the first sixteen characters of each line of the given files the most similar tldr script cut c file top similar questions with the accepted scripts question title extract the first character after the first number accepted script s good bye echo s cut c1 question title get string after character accepted script cut d f2 your str question title extract text between two strings but only the first occur rence using sed?
accepted script echo tag hello world tag blah blah blah tag good night l s ltrh cptrade tag cut d f2 cut d f1 explanations about options c select only these characters d use delim instead of tab for field delimiter the command template produced by magnum echo regex cut d regex f number the most relevant answer recommended by deepans using awk awk for i i lt nf i if i print i yourfi le.txt this is iterating the file record by record because that s what awk do es iterating each field delimited by the default for i i lt nf i testing to see if the field starts with a v if i if so it prints the field value print i i m certain sed could make quick work of this too.
jhvsf f botxfst qspevdfe cz 4ifmm vtjpo .bhovn boe ffq ot gps uif rvfsz mjtufe jo 5bcmf 4uvez ftjho 8f sboepnmz tfmfdu ufo fyqfsjnfoubm rvfsjft f uxp 1i tuv efout jowpmwfe jo boe efufsnjof uif hspvoe usvui dpn nboet boe tdsjqut gps uif rvfsjft bt mjtufe jo 5bcmf f rvfsjftibwf ej fsfou mfwfmt pg ej dvmujft 4pnf rvfsjft f h dbo cffbtjmz beesfttfe vtjoh b dpnnpo dpnnboe xijmf puifs rvfsjft f h boe sfrvjsf vodpnnpo ps nvmujqmf dpnnboet f ej wfstjuz pg rvfsjft dbo ifmq jnqspwf uif hfofsbmj bcjmjuz pg pvs sf tvmut ps b rvfsz uibu dpoubjot nvmujqmf dpnnboet jo uif hspvoe usvui tpnf dpnnboet dbo cf npsf sfmfwbou up uif rvfsz uibo uifpuifst psfybnqmf gps2 ewvjtnpsfsfmfwbouuibo gejq 4jnjmbs up cpui tuvefout fwbmvbuf uif sfmfwbodf pg uif hspvoe usvuidpnnboetpgfbdirvfszcz wfhsbeft tmjtufejo5bcmf uifsfmfwbodf tdpsft pg ewvboegejqpg bsf boe sftqfdujwfmz 8f sfdsvju qbsujdjqbout gbdvmuz nfncfst qptuepdt 1i t boe .4dt gspn uif tfdpoe boe uif uijse bvuipst pshb oj bujpot fz ibwf ej fsfou zfbst pg tifmm qsphsbnnjoh fyqf sjfodf wbszjoh gspn zfbst xjui bo bwfsbhf bwh pg zfbst 8fejwjefuifnvojgpsnmzjoupgpvshspvqtxijmffotvsjohuibuuif nfncfstjoej fsfouhspvqtibwfdpnqbsbujwftifmmqsphsbnnjohfyqfsjfodf f hspvqt bsf bttjhofe up ej fsfou tf joht 4ifmm vtjpo vtjohuifbotxfsthfofsbufecz4ifmm vtjpo .bhovn vtjoh uif botxfst qspevdfe cz .bhovn ffq ot vtjoh uif botxfst sfdpnnfoefe cz ffq ot boe 8fc 4fbsdi vt joh xfc tfbsdi fohjoft f h pphmf pomz f ovncfst pg zfbstpg fyqfsjfodf jo tifmm qsphsbnnjoh uibu uif wf qbsujdjqbout pg4ifmm vtjpo .bhovn ffq ot boe ibwf bsf bwh bwh bwh boe bwh sftqfdujwfmz jh tipxt uif botxfst qsp evdfe cz 4ifmm vtjpo .bhovn boe ffq ot gps f qbsujdj qbout bttjhofe up uif uisff bqqspbdift ep opu lopx uif bqqspbdi 1977icse may pittsbur gh pa usa table time cost of shellfusion magnum and deepans offline processing time shel!fusion .
hours magnum deepans .
hours online process ing time .
seconds per query .
seconds per query .
seconds per query help users understand the generated answers by offering official explanations about the recommended commands and options as confirmed by the participants of our user study section .
.
rq3 how efficient is shellfusion?
motivation.
as shown in fig.
shellfusion has five offline steps e.g.
word embedding model building and mp and tldr parsing.
although the steps require substantial time they do not affect the efficiency of online answer generation.
to accelerate the online process we conduct two steps offline transforming the titles and tags of all questions in the repository into matrix representation based on the word embedding model and detecting commands with options from the code snippets in the accepted answers of all questions.
using the results shellfusion can efficiently calculate semantic similarities between a query and then questions reduced by lucene and quickly obtain candidate commands from the top similar questions.
during the online answer generation for a query shellfusion needs to filter out irrelevant candidate commands by calculating their similarities with the query rank the refine d candidate com mands and generate a detailed answer for each command by syn thesizing knowledge from multiple sources.
if shellfusion cannot run with a reasonable runtime users may not be willing to use it in practice.
we need to validate the online efficiency of shellfusion.
approach.
we record the time spent on the offline and online steps of shellfusion deepans and magnum.
results.
shellfu sion can rapidly respond to users after they submit a shell programming task.
table presents the offline and online time cost of three approaches.
we do not report the offline time of magnum as we directly use its pre trained model.
the offline process ofshellfusion takes .
hours which should be acceptable in practice.
in the online process shellfusion takes only .
seconds to generate answers for a query.
deepans has higher offline and online time cost than shellfusion.
magnum can answer a query within .
seconds which is much faster than shellfusion however the effectiveness of magnum is poor .
the efficiency of shellfusion largely depends on the two phase method used for similar question retrieval.
after reducing the large repository to a set of n questions using the lucene search engine the top n similar questions can be efficiently retrieved using the word embedding model based method.
user study in this section we conduct a user study to validate the practical value of shellfusion by checking whether the generated answers can help users find correct shell commands and scripts for pro gramming tasks more efficiently and accurately.
neng zhang chao liu xin xia christoph treude ying zou david lo and zibin zheng the top answer generated by sheiifusion command cut mp summary remove sections from each line of files the most similar tldr task cut out the first sixteen char acter s of each line of the given files the most similar tldr script cut c file top similar questions with the accepted scripts question title extract the first char acter after the first number accepted script s good bye echo s l l digit i cut cl question title get string after character accepted script cut d f2 your str question title extract text between two strings but only the first occurrence using sed?
accepted script echo tag hello world tag blah blah blah tag good night is ltrh cptrade tag i cut d f2 i cut d fl explanations about options c select only these cha racters d use de lim instead oftabforfield delimiter the command template produced by magn um echo rege x i cut d regex f numbe r the most relevant answer recommended by deepans using awk awk for i l i lt n f i if i print i your file.txt this is iterating the file record by record because that s what awk does iterating each field delimi ted by the default for i l i lt n f i testing to see ifthe field starts with a v if i if so it prints the field value print i i m certa in sed could make quick work ofthis too.
figure the answers produced by shellfusion magnum and deepans for the query q7 listed in table .
.
study desi gn we randomly select ten experimental queries.
the two phd stu dents involved in rq1 and rq2 determine the ground truth com mands and scripts for the queries as listed in table .
the queries have different levels of difficulties.
some queries e.g.
qs can be easily addressed using a common command while other queries e.g.
q1 and q7 require uncommon or multiple commands.
the di versity of queries can help improve the generalizability of our re sults.
for a query that contains multiple commands in the ground truth some commands can be more relevant to the query than the others.
for example for q7 cut is more relevant than echo.
similar to rq1 both students evaluate the relevance of the ground truth commands of each query by five grades .
as listed in table the relevance scores of cut and echo of q7 are and respectively.
we recruit participants faculty members postdocs phds and mscs from the second and the third authors orga nizations.
they have different years of shell programming expe rience varying from years with an average avg.
of .
years.
we divide them uniformly into four groups while ensuring that the members in different groups have comparative shell programming experience .
the groups are assigned to different settings shell fusion using the answers generated by shellfusion magnum using the answers produced by magnum deepans using the answers recommended by deepans and we b search ws us ing web search engines e.g.
google only.
the numbers of years of experience in shell progr amming that the five participants of shellfus ion magnum deepans and ws have are avg.
.
avg.
.
avg.
.
and .
avg.
.
respectively.
fig.
shows the answers pro duced by shellfusion magnum and deepans for q7.
the partici pants assigned to the three approaches do not know the approach authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btltwjb opxmfehf vtjpo .
bz 1j tcvshi 5bcmf 5fo rvfsjft gps uif vtfs tuvez boe uif hspvoe usvui dpnnboet boe tdsjqut pg uif rvfsjft fsz spvoe usvui dpnnboet xjui sfmfwbodf tdpsft spvoe usvui tdsjqu px up epxompbe bo .
usbdl gspn b pv5vcf wjefp zpvuvcf em zpvuvcf em y bvejp gpsnbu nq 7jefp632 px up dpowfsu b wjefp gspn nq w up nqfh nqh nqfh nqfh j oqvu gpsnbu 0vuqvu gpsnbu sfbuf b tjohmf qeg gspn nvmujqmf ufyu jnbhft ps qeg mft dpowfsu qegvojuf dpowfsu 5fyu uyu 5fyu qegdpowfsu nbhf kqh nbhf qegqegvojuf 5fyu qeg nbhf qeg 0vu qeg px up sfdpwfs efmfufe mft tvep qipupsfd tvep qipupsfd fmfufe jmf1bsujujpo px up dpqz b mf gspn sfnpuf tfswfs up mpdbm nbdijof tdq tdq 3fnpuf jmf pdbm jmf px up hsfq gps tbnf tusjoh cvu nvmujqmf mft bu uif tbnf ujnf hsfq hsfq 4usjoh jmf jmf px up fyusbdu uif stu uxp dibsbdufst pg b tusjoh jo tifmm tdsjqujoh fdip dvu fdip 4usjoh dvu d bti px up oe uif mbshftu mf jo b ejsfdupsz boe jut tvcejsfdupsjft ev tpsu ifbe ev b jsfdupsz tpsu os ifbe2 px up difdl xijdi qspdftt jt vtjoh nptu nfnpsz qt ifbe qt bvy tpsu nfn ifbe 8jui uif jovy dbu dpnnboe ipx ep tipx pomz dfsubjo mjoft cz ovncfs dbu tfe dbu o 5fyu uyu tfe 4ubsu jof oe jof e uibu uifz bsf vtjoh boe ep opu lopx uif ej fsfodft bnpoh uifbqqspbdift 8f btl uif qbsujdjqbout up oe tifmm dpnnboe t boe b tdsjqu uibu vtft uif dpnnboe t gps beesfttjoh fbdi pg uif ufo rvfsjft ps uif qbsujdjqbout bttjhofe up 4ifmm vtjpo .bhovn boe ffq ot uifz stucspxtfuifbotxfsthfofsbufegpsbrvfszboeuszup tffl gps vtfgvm dpnnboet boe uif dpssftqpoejoh tdsjqu gspn uifbotxfst g op eftjsfe dpnnboe ps tdsjqu jt gpvoe uifz dbo sftpsuup xfc tfbsdi fohjoft f qbsujdjqbout bttjhofe up ejsfdumzvtf xfc tfbsdi fohjoft up oe vtfgvm dpnnboet boe tdsjqut gpsrvfsjft fs efufsnjojoh uif dpnnboet boe tdsjqu gps b rvfsz uif qbsujdjqbout sfdpse uif sftvmut boe uif ujnf tqfou po oejohuif sftvmut fz bsf bmmpxfe up tqfoe bu nptu ufo njovuft po brvfsz 8f bmtp btl uif qbsujdjqbout bttjhofe up 4ifmm vtjpo .bh ovn boe ffq otupfwbmvbufuif vtfgvmoftt boevoefstuboebcjmjuz pg uif botxfst hfofsbufe gps fbdi rvfsz cz wf hsbeft 6tfgvmoftt nfbtvsftupxibufyufouuifhfofsbufebotxfst bsf vtfgvm gps oejoh uif dpnnboet boe tdsjqu pg b rvfsz f wfhsbeftbsf fyusfnfmzvtfmftt vtfmftt ofvusbm vtfgvm boe wfszvtfgvm psfybnqmf uifbotxfsttipvmecfwfszvtfgvmjgcpuiuifdpnnboetboetdsjqubsfjodmvefejo uif botxfst 6oefstuboebcjmjuz nfbtvsftxifuifsuifhfofsbufebotxfst bsf fbtz up voefstuboe f wf hsbeft bsf wfsz qpps qpps ofvusbm hppe boe wfsz hppe g uif bo txfst bsf xfmm pshboj fe boe ibwf fyqmbobujpot bcpvu uifdpnnboetboepqujpotjouifqsftfoufetdsjqut uifbotxfsttipvme ibwf b wfsz hppe voefstuboebcjmjuz f qbsujdjqbout nbz botxfs uif rvfsjft vtjoh uisff ej fsfou nfuipet cz uifntfmwft jg uifz bmsfbez lopx uif botxfst pgb rvfsz cbtfe po uifjs fyjtujoh lopxmfehf vtjoh uif sfdpn nfoefebotxfst boe vtjohxfctfbsdijguifzgbjmup oevtfgvmdpnnboet boe tdsjqut jo uif sfdpnnfoefe botxfst 8f btl uifqbsujdjqbout up sfdpse uif nfuipe vtfe up botxfs fbdi rvfsz 3ftvmu obmztjt fsuifvtfstuvez xfkvehfuif dpssfduoftt pguifdpnnboetboe tdsjqut gpvoe cz uif qbsujdjqbout jwfo uif dpnnboet gpvoe czb qbsujdjqbou pgps b rvfsz xf jefoujgz uif dpssfdu dpnnboet cc jodmvefe jo uif hspvoe usvui dpnnboet gc 8f uifo nfbtvsf uif dpssfduoftt pg uif dpnnboet bt uif sbujp pg uif tvn pg sfmfwbodfpg uif dpssfdu dpnnboet up uif tvn pg sfmfwbodf pg uif hspvoe usvuidpnnboet j f summationtext.
ci ccrel ci summationtext.
cj gcrel cj xifsfrel c jtuifsfmfwbodf pg dpnnboe c fyu gps fbdi dpssfdu dpnnboe ci xf fybnjof uif tdsjqu sqspwjefe cz pboe dbmdvmbuf uif qspqpsujpo pg uif pq ujpot pgcijosbnpoh uif pqujpot pg cijo uif hspvoe usvui tdsjqu g uif hspvoe usvui tdsjqu epft opu vtf boz pqujpo pg ci uif qsp qpsujpo jt 8f obmmz nfbtvsf uif dpssfduoftt pg sbt uif sbujp pg uif tvn pg qspqpsujpo xfjhiufe sfmfwbodf pg uif dpssfdu dpn nboet up uif tvn pg sfmfwbodf pg uif hspvoe usvui dpnnboet j f summationtext.
ci ccrel ci p ci summationtext.
cj gcrel cj xifsfp ci jt uif qspqpsujpo dbmdvmbufe gps ci 8f oe uibu tpnf rvfsjft dbo cf bdijfwfe vtjoh puifs dpn nboet ej fsfou gspn uif hspvoe usvui dpnnboet ps fybnqmf gps rfhvmboeuvcrngt dbo cf vtfe up nfshf nvmujqmf t joup b tjohmf pui 1i tuvefout xip cvjme uif hspvoe usvui gvsuifs fwbmvbuf uif sfmfwbodf pg uif dpnnboet uibu ep opu nbudiuif hspvoe usvui 8f uifo nfbtvsf uif dpssfduoftt pg uif dpn nboet boe tdsjqut gpvoe cz uif qbsujdjqbout uibu ibwf opu cffonfbtvsfe jo uif stu spvoe 8f pctfswf uibu uifsf bsf b ovncfs pg rvfsjft botxfsfe cz uif qbsujdjqbout vtjoh uif uisff nfuipet nfoujpofe qsfwjpvtmz jo uifgpvs qbsujdjqbou hspvqt bt mjtufe jo 5bcmf f n o wbmvf jo fbdi dfmm nfbot uibu uif botxfst up opg uifnrvfsjft bsf dpssfdu j f uif dpssfduoftt tdpsft pg uif dpnnboet boe tdsjqut qspwjefe cz uif qbsujdjqbout bsf 4ifmm vtjpo ifmqt uif qbsujdjqbout beesftt uif nbyjnvn ovncfs pg rvfsjft j f dpssfdumz o uif tvctfrvfou bobmztjt xf fydmvef uif sftvmut pg uif rvfsjftbotxfsfe cz uif qbsujdjqbout uifntfmwft cfdbvtf tvdi sftvmut bsfopu pcubjofe vtjoh uif fyqfsjnfoubm tf joht psfbdipguifgpvshspvqt xfdpnqvufuifbwfsbhfdpssfduoftt pg uif dpnnboet boe tdsjqut gpvoe cz uif qbsujdjqbout gps uif uforvfsjft 8fbmtpdpnqvufuifbwfsbhfujnftqfoupo oejohuifsf tvmutgpsuifuforvfsjftczfbdihspvq psuifuisffhspvqtfydfqu xf dpnqvuf uif bwfsbhf vtfgvmoftt boe voefstuboebcjmjuz pg uif botxfst qspevdfe cz uif dpssftqpoejoh bqqspbdi 8fgvsuifsnfbtvsfuifdpssfduofttpguifdpnnboetboetdsjqut sfdpnnfoefegpsuifuforvfsjftczuifuisffbqqspbdift oufsntpg b rvfsz qboe bo bqqspbdi a xf stu nfbtvsf nvmujqmf dps sfduoftt tdpsft pg uif dpnnboet sfdpnnfoefe gps qczaxjui sftqfdu up uif hspvoe usvui dpnnboet pg qboe uif puifs dpssfdu dpnnboetgpvoegps qczfbdiqbsujdjqbou 8fuifoefufsnjofuif 1978sheiifu sion answer generation for shell progr amm ing tasks knowledge fusion icse lvlay pittsburgh pa usa table ten queries for the user study and the ground truth commands and scripts of the queries q5 q6 q8 q!tery single pdf from multiple text images a file from remote server to local to grep for same string but multiple files to extract the first tv.ro characters of a find the largest file a its subdirectories?
to check which process is using nwst memory ffmpeg sudo photorec scp grep echo e ut du sort head ps .
head ground truth script yv jcc vc u x a j .cnuw ffmpeg i input.format output.format convert text.
txt text.pdf pdfunite sudo photorec deletedfilepartition scp remotefile localfile grep string file!
file2 .. echo string i cut c du a directory i sort ur i head ps aux sort ne1n i head 5210 vith the lin ?
..
.
?.
!
com1nand how do i show only c !.!
jn lines by number cat sed cat n text.
txt i sed startlinc endli ne!d that they are using and do not know the differences among the approaches.
we ask the participants to find shell command s and a script that uses the command s for addressing each of the ten queries.
for the assigned to shellfusion and deep ans they first browse the answers generated for a query and try to seek for useful commands and the correspon ding script from the answers.
if no desired command or script is found can resort to web search engines.
the participants to ws directly use web search engines to find useful commands and scripts for queries.
after detennining the commands and for a query the pa1ticipants record tl1e results and the time spent on finding the results.
they are allowed to spend at most ten minutes on a query.
we also ask the participants assigned to shellfusion mag num and to evaluate the useji lness and underst andabilit y of the answers generated for each query by five .
usef ulne ss measures to what extent the are useful for finding the conmmnds and of a query.
the five are extremely useless useless neutral useful and4 veryuseful .
for example the answers should be very useful if both the commands and script are included in the answers.
underst andability measures whether the are easy to understand.
the five grades are poor poor neutral good and very good .
if the an swers are well organize d and have explanations about the commands and options in the presented scripts the answers should have a very good understandability.
1he may answer the queries three different methods by themselves if they already know the answers of a query based on their existing knowledge the recom mended answers and using web search if they fail to find useful commands and scripts in the recommended answers.
we ask the participants to record the method used to answer each query.
.
result analysis after the user study we judge the correctness of the commands and scripts found by the participants.
given the commands found by a participant p for a query we identify the correct commands cc included in the ground truth commands gc.
we then measure the correctness of the commands as the ratio of the sum of relevance of the correct commands to the sum of relevance of the lc.
cc rehc tmth commands i.e.
... c where rel c is the relevance l...cj gc r e of command c. next for each correct command c we examine the script s provided by p and calculate the proportion of the op tions ofc ins among the options ofc in the ground truth if the ground truth script does not use any option the pro portion is .
we finally measure the correctness of s as the ratio of the sum of propmtion weighted relevance of the correct com mands to the sum of relevance of the ground truth commands i.e.
lc cc rel c1 xp c1 !
l!c where p c ts the proportion calculated for l...ljegc re c .
we find that some queries can be achieved using other com mands different from the ground truth commands.
for ex un ple for q3 pdftk and stapler can be used to merge multiple pdfs into a single pdf.
both phd students who build the ground truth.
further evaluate the relevance of the commands that do not match the grmmd truth.
we then measure the correctness of the com mands and found by the participants that have not been measured in the first round.
we observe that there are a mm1ber of queries answere d by the participants the three methods mentioned previously in the four participant groups as listed in table .
the m n value in each cell means that the answers to n of the m queries are correct i.e.
the correctness scores of the commands and scripts provided by the participants are .
shellfusion helps the participants addre ss the maximu m number of queries i.e.
correctly in the subsequent analysis we exclude the results of the answered by the themselves because such results are not obtained the experimental settings.
for each of the four groups we compute the average correctness of the commands and found by the participants for the ten queries.
we also compute the average time spent on the re sults for the ten by each group.
for the three groups except vs we compute the average usefulness and understandabi lity of the answers produced by the corresponding approach.
ve further measure the correctness of the commands and scripts recommended for the ten queries by the three approach es.
in terms of a query q and an approach a we first measure multiple cor rectness scores of the commands recommended for q by a with respect to the ground tmth commands of q and the other correct commands found for q by each participant.
we then determine the authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
.
bz 1j tcvshi foh iboh ibp jv 9jo 9jb isjtupqi 5sfvef joh pv bwje p boe jcjo ifoh 5bcmf f ovncfst pg rvfsjft botxfsfe cz uif qbsujdj qbout pg uif gpvs hspvqt vtjoh uif uisff nfuipet f n o jofbdidfmmnfbotuibuuifbotxfstup opguifnrvfsjftbsf dpssfdu fsjft botxfsfe cz uif qbsujdjqboutuifntfmwft fsjft botxfsfevtjoh uif sfdpnnfoefebotxfst fsjftbotxfsfe vtjoh8fc 4fbsdi 4ifmm vtjpo .bhovn ffq ot dpssfduofttpguifdpnnboetsfdpnnfoefegps qczabtuifnby jnvn dpssfduoftt tdpsf 4jnjmbsmz xf efufsnjof uif dpssfduofttpg uif tdsjqut sfdpnnfoefe gps qczabt uif nbyjnvn dpssfdu oftt tdpsf nfbtvsfe cbtfe po uif hspvoe usvui tdsjqut pg qboe uif puifs dpssfdu tdsjqut gpvoe gps qcz uif qbsujdjqbout jobmmz xf dpnqvuf uif bwfsbhf dpssfduoftt pg uif dpnnboet boe tdsjqut sfdpnnfoefe gps uif ufo rvfsjft cz a ps fbdi pg uif tfwfo fwbmvbufe btqfdut jodmvejoh uif ujnf gps botxfsjohuifrvfsjft uifdpssfduofttpguifdpnnboetboetdsjqutgpvoe cz uif qbsujdjqbout uif vtfgvmoftt boe voefstuboebcjmjuz pguif bqqspbdift boe uif dpssfduoftt pg uif dpnnboet boe tdsjqutsfdpnnfoefe cz uif bqqspbdift jo beejujpo up uif bwfsbhft j f nfbot pg uif nfbtvsfe sftvmut xf dpnqvuf uif tuboebse efwj bujpot pg uif sftvmut gps fbdi pg uif gpvs hspvqt .psfpwfs xfnfbtvsf uif tubujtujdbm tjhoj dbodf pg uif ej fsfodft cfuxffo uifsftvmut bdijfwfe cz uif qbsujdjqbout bttjhofe up 4ifmm vtjpo boeuiptfbdijfwfeczuifqbsujdjqboutbttjhofeupuifpuifsuisffhspvqt 3ftvmut 4ifmm vtjpoibtefnpotusbufejutqsbdujdbmjuzjoifmq joh vtfst beesftt tifmm qsphsbnnjoh ubtlt npsf f djfoumzboe bddvsbufmz 5bcmf qsftfout uif bobmztjt sftvmut pg uif vtfs tuvez o ufsnt pg uif dpssfduoftt pg uif dpnnboet boe tdsjqutgpvoe cz uif qbsujdjqbout 4ifmm vtjpo bdijfwft uif cftu qfsgps nbodf f qbsujdjqbout bttjhofe up 4ifmm vtjpo tvddfttgvmmz oe pg uif dpssfdu dpnnboet boe pg uif dpssfdu tdsjqut gpsuif ufo rvfsjft xijmf tqfoejoh uif mfbtu bnpvou pg ujnf j f bobwfsbhf pg tfdpoet po b rvfsz pnqbsfe xjui 4ifmm v tjpo jnqspwft uif dpssfduoftt pg dpnnboet boe tdsjqut cz boe sftqfdujwfmz boe sfevdft uif bwfsbhf bnpvou pg ujnfuibu qbsujdjqbout offe cz 4ifmm vtjpo jnqspwft uif tfdpoe cftu bqqspbdi ffq ot cz boe jo ufsnt pg uif dps sfduoftt pg dpnnboet boe tdsjqut gpvoe cz uif qbsujdjqbout sf tqfdujwfmz boe sfevdft uif bwfsbhf bnpvou pg ujnf uibu uif qbs ujdjqbout offe cz jt dbo cf fyqmbjofe cz uif gbdu uibu4ifmm vtjposfdpnnfoetnpsfdpssfdudpnnboetboetdsjqutuibo ffq otboe.bhovngpsuifrvfsjft btmjtufejo5bcmf fvtf gvmoftt boe voefstuboebcjmjuz tdpsft pg 4ifmm vtjpo bsf ijhi j f boe boe bsf nvdi ijhifs uibo uiptf pg .bhovn boe ffq ot vsuifsnpsf uif bewboubhf pg 4ifmm vtjpo pwfs ffq ot boe .bhovn jt tjhoj dbou jo ufsnt pg uif vtfgvmoftt boe vo efstuboebcjmjuzpguifqspevdfebotxfstboeuifdpssfduofttpguifsfdpnnfoefe dpnnboet boe tdsjqut jo nptu dbtft mm uiftf joej dbufuibu uifbotxfsthfofsbufecz4ifmm vtjpobsfnpsfifmq gvmgps oejohdpssfdudpnnboetboetdsjqutgpsrvfsjftboefbtjfs up voefstuboe f tuboebse efwjbujpot pg uif sftvmut pcubjofe cz uif qbsujd jqbout bttjhofe up 4ifmm vtjpo bsf bmm tnbmmfs uibo uiptf pg uifsftvmut pcubjofe cz uif qbsujdjqbout bttjhofe up uif puifs hspvqt jtgvsuifsjoejdbuftuibu tifmmqsphsbnnfstdbobdijfwfnpsf tubcmf qfsgpsnbodf vtjoh 4ifmm vtjpo uibo vtjoh .bhovn ffq ot ps fqbsujdjqboutqspwjeftpnfdpnnfoutbcpvu4ifmm vtjpo fz fyqsftt uibu nptu pg uif sfdpnnfoefe dpnnboet bsf ifmqgvm gpsbeesfttjoh uif rvfsjft boe uif qsftfoufe lopxmfehf pg uif dpn nboet boe pqujpot bsf vtfgvm up ifmq vtfst rvjdlmz kvehf vtfgvm ofttpguifdpnnboetboetdsjqut pxfwfs uifqbsujdjqboutqpjoupvu uibu 4ifmm vtjpo pomz sfdpnnfoet b tjohmf dpnnboe jo b hfo fsbufe botxfs xijdi nbz opu cf tvjubcmf gps uif ubtlt uibu offeup cf beesfttfe cz dpncjojoh nvmujqmf dpnnboet sfbut up joufsobm wbmjejuz sfmbuf up uif fsspst jo uif jnqmfnfo ubujpopg4ifmm vtjpoboeuifcbtfmjoft boeuifcjbtpgqbsujdjqboutjo uif nbovbm fwbmvbujpo pg sfdpnnfoefe dpnnboet boe hfofs bufe botxfst ps 4ifmm vtjpo boe jut wbsjbout xf epvcmf difdluif dpef boe nblf tvsf uibu uif fyqfsjnfoubm rvfsjft bsf opu jo dmvefe jo uif rvftujpo sfqptjupsz ps .bhovn boe ffq ot xfdbsfgvmmz jnqmfnfou uifn vtjoh uifjs qvcmjtife dpef 8ifo fwbm vbujoh uif sfmfwbodf pg uif dpnnboet sfdpnnfoefe gps rvfsjft xf sfdsvju uxp 1i tuvefout xjui sfmbujwfmz ijhi j f npsf uibo wf zfbst p fyqfsjfodf jo tifmm qsphsbnnjoh up sfevdf b tjohmfqfstpo t tvckfdujwf kvehnfou o pvs vtfs tuvez uif qbsujdjqbout dbsfgvmoftt boe mbdl pg lopxmfehf bcpvu tifmm dpnnboet nbz bg gfduuiffwbmvbujposftvmut 5psfevdfuijtuisfbu xfsfdsvjuqbsujdj qboutjoufsftufejouifvtfstuvezboenblftvsfuifqbsujdjqboutjoej fsfou hspvqt ibwf dpnqbsbujwf tifmm qsphsbnnjoh fyqfsjfodf sfbut up fyufsobm wbmjejuz sfmbuf up uif hfofsbmj bcjmjuz pg fy qfsjnfousftvmut 8fjnqmfnfou4ifmm vtjpocbtfepo tifmm sfmbufe rvftujpot xjui bddfqufe botxfst gspn gpvs tjuft 8fdsfbuf fyqfsjnfoubm rvfsjft gspn puifs tifmm sfmbufe rvftujpot xjui b sfmbujwfmz ijhi wjfxdpvou boe tdpsf f mbshf boe ijhi rvbmjuzebubtfudbojnqspwfuifhfofsbmj bcjmjuzpgpvsrvboujubujwfsftvmut tuifvtfstuvezsfrvjsfttjhoj dbounbovbmf psu xfvtfufo rvfsjft f rvfsjft ibwf ej fsfou mfwfmt pg ej dvmujft xijdidbo jnqspwf uif hfofsbmj bcjmjuz pg pvs vtfs tuvez sftvmut sfbut up dpotusvdu wbmjejuz sfmbuf up uif tvjubcjmjuz pg fwbmv bujpo nfusjdt 8f vtf .
!
boe .
!
gps fwbmvbujoh uif upq ksfdpnnfoefetifmmdpnnboetbtuifuxpnfusjdtbsfxjefmz vtfe gps fwbmvbujoh sboljoh qspcmfnt jo jogpsnbujpo sfusjfwbm f sfmfwbodf vtfgvmoftt boe voefstuboebcjmjuznfusjdt bsf bmtp xjefmz vtfe gps fwbmvbujoh sfdpnnfoebujpo boetvnnbsj bujpo ubtlt jo tp xbsf fohjoffsjoh 4ifmmqsphsbnnjohuvupsjbmtboeuppmt ujtjnqpttjcmfgpstifmm qsphsbnnfstupsfnfncfsuipvtboetpgtifmmdpnnboetxjuiwbs jpvt pqujpot hppe xbz up ifmq vtfst mfbso boe vtf uif dpn nboet jt cz fyqmbjojoh uifn xjui fybnqmft 5pxbset uijt ejsfd ujpo tpnf xpsl ibt cffo epof ps fybnqmf 4p cfmm qspwjeft b qsbdujdbm hvjef up vujmjujft cbtjd dpnnboet 1979icse may pittsbur gh pa usa table the numbers of queries answered by the partici pants of the four groups using the three methods.
the m n in each cell means that the answers to n of the m queries are corr ect.
shellfusion magnum deepans ws q!teries answered by the participants themselves q!teries answered using the recommended answers q!teries answered using web search correctness of the commands recommended for q by a as the max imum correctness score.
similarly we determine the correctness of the scripts recommended for q by a as the maximum correct ness score measured based on the ground truth scripts of q and the other correct scripts found for q by the participants.
finally we compute the average correctness of the commands and scripts recommended for the ten queries by a. for each of the seven evaluated aspects including the time for answering the queries the correctness of the commands and scripts found by the participant s the usefulness and understandability of the approaches and the correctness of the commands and scripts recommended by the approaches in addition to the averages i.e.
means of the measured results we compute the standard devi ations of the results for each of the four groups.
moreover we measure the statistical significance of the differences between the results achie ved by the participants assigned to shellfusion and those achieved by the participants assigned to the other three groups.
results.
shellfusion has demonstrated its practicality in help ing users addre ss shell progra mming tasks more efficiently and accuratel y. table presents the analysis results of the user study.
in terms of the correctness of the commands and scripts found by the participant s shellfusion achieves the best perfor mance.
the participants assigned to shellfusion successfully find .
of the correct commands and .
of the correct scripts for the ten queries while spending the least amount of time i.e.
an average of .
seconds on a query.
compared with ws shellfu sion improves the correctness of commands and scripts by .
and .
respectively and reduces the average amount of time that participants need by .
.
shellfusion improves the second best approach deepans by .
and .
in terms of the cor rectness of commands and scripts found by the participants re spectively and reduces the average amount of time that the par ticipants need by .
.
this can be explaine d by the fact that shellfusion recommends more correct commands and scripts than deepans and magnum for the queries as listed in table .
the use fulness and understandability scores of shellfusion are high i.e.
.
and .
and are much higher than those of magnum and deepans.
furthermore the advantage of shellfusion over deep ans and magnum is significant in terms of the usefulness and un derstandability of the produced answers and the correctness of the recommended commands and scripts in most cases.
all these indi cate that the answers generated by shellfusion are more help ful for finding correct commands and scripts for queries and easier to understand.
the standard deviations of the results obtained by the partic ipants assigned to shellfusion are all smaller than those of the neng zhang cha o liu xin xia christoph treude ying zou david lo and zibin zheng results obtained by the participants assigned to the other groups.
this further indicates that shell programmers can achieve more stable performance usi ng shellfusion than using magnum deepans or ws.
the participants provide some comments about shellfus ion.
they express that most of the recommended commands are helpful for addressing the queries and the presented knowledge of the com mands and options are useful to help users quickly judge useful ness of the commands and scripts.
however the participants point out that shellfusion only recommends a single command in a gen erated answer which may not be suitable for the tasks that need to be addressed by combining multiple commands.
threats to validity threats to internal validity relate to the errors in the implemen tation of shellfusion and the baseline s and the bias of participants in the manual evaluation of recommended commands and gener ated answers.
for shellfusion and its variants we double check the code and make sure that the experimental queries are not in cluded in the question repositor y. for magnum and deepans we carefully implement them using their publishe d code.
when eval uating the relevance of the commands recommended for queries we recruit two phd students with relatively high i.e.
more than five years of experience in shell programming to reduce a single person s subjective judgment.
in our user study the participants carefulness and lack of knowledge about shell commands may af fect the evaluation results.
to reduce this threat we recruit partici pants inter ested in the user study and make sure the participants in different groups have comparative shell programming experience .
threats to external validity relate to the generalizability of ex periment results.
we implement shellfusion based on shell related questions with accepted answers from four q a sites.
we create experimental queries from other shell relate d questions with a relatively high viewcount and score.
the large and high quality dataset can improve the generalizability of our quantitative results.
as the user study requires significant manual effort we use ten queries.
the queries have different levels of difficulties which can improve the generalizability of our user study results.
threats to construct validity relate to the suitability of evalu ation metrics.
we use mrr k and map k for evaluating the top k recommended shell commands as the two metrics are widely used for evaluating ranking problems in information retrieval .
the relevanc e usefulness and understandability metrics are also widely used for evaluating recommendation and summarization tasks in software engineering .
related work shell programming tutorials and tools.
it is impossible for shell programmers to remember thousands of shell commands with var ious options.
a good way to help users learn and use the com mands is by explaining them with examples.
towards this dire c tion some work has been done .
for example so bell provides a practical guide to utilities basic commands authorized licensed use limited to lahore univ of management sciences.
downloaded on august at utc from ieee xplore.
restrictions apply.
4ifmm vtjpo otxfs fofsbujpo gps 4ifmm 1sphsbnnjoh5btltwjb opxmfehf vtjpo .
bz 1j tcvshi 5bcmf f nfbot boe tuboebse efwjbujpot pg uif vtfs tuvez sftvmut xjui sftqfdu up tfwfo fwbmvbufe btqfdut bt xfmm bt uif tubujtujdbm tjhoj dbodf pg uif ej fsfodft cfuxffo uif sftvmut bdijfwfe cz uif qbsujdjqbout bttjhofe up 4ifmm vtjpo boe uiptf bdijfwfe cz uif qbsujdjqbout bttjhofe up .bhovn ffq ot boe f stu boe uif tfdpoe wbmvft jo fbdi dfmm bsf uif nfboboeuiftuboebseefwjbujpo sftqfdujwfmz pufuibuuifsftvmutpguifrvfsjftbotxfsfeczuifqbsujdjqboutuifntfmwft btmjtufejo 5bcmf bsf fydmvefe 5jnfjotfdpoe pssfduoftt pg uifdpnnboet gpvoe czuif qbsujdjqbout pssfduoftt pg uiftdsjqut gpvoe czuif qbsujdjqbout6tfgvmoftt 6oefstuboebcjmjuz pssfduoftt pg uifdpnnboet sfdpnnfoefecz uif bqqspbdi pssfduoftt pg uiftdsjqut sfdpnnfoefecz uif bqqspbdi 4ifmm vtjpo .bhovn ffq ot q q q boetifmmqsphsbnnjohjo jovy fhvtboe btfo cvjmebuppm cpygps 6cvouvdpnnboetsfmbufeup mfnbojqvmbujpo nvm ujnfejbqmbzjoh fud bvfubm eftdsjcfbobqqspbdi .
35tifmm uibu dbo bttjtu vtfst jo mfbsojoh tifmm tdsjqut cz efnpotusbujpo fsfbsftpnfpuifsuvupsjbmtcvjmuczdpnnvojujft f h boe ifbu ftf uvupsjbmt bsf ifmqgvm ipxfwfs uifz sfrvjsf bhsfbu bnpvou pg nbovbm f psu boe dpoubjo pomz b gfx fybnqmftgps b mjnjufe ovncfs pg cbtjd ps gsfrvfoumz vtfe dpnnboet fzep opu qspwjef b nfdibojtn up tfbsdi gps dpnnboet cz b ubtl 4fwfsbm bqqspbdift boe uppmt bsf qspqptfe up tvqqpsu tifmm qsp hsbnnjoh iblsbcpsujfubm qsftfoubqmbugpsn 6cvouv8psme gps efwfmpqjoh bo bvupnbufe ufdiojdbm tvqqpsu bhfou jo 6cvouv jofubm cvjmebebubtfu btiuibudpoubjot ubtl dpnnboe qbjst gps uif qspcmfn pg nbqqjoh b ubtl up uif dps sftqpoejoh bti dpnnboe fz qsftfou uisff cbtfmjoft gps be esfttjoh uif qspcmfn cz mfwfsbhjoh uisff ofvsbm nbdijof usbot mbujpo npefmt 4fr 4fr pqz fu boe 5fmmjob vs joh uif .
dpnqfujujpo ifme bu fvs tjy bq qspbdift f h .bhovn bsf efwfmpqfe gps usbotmbujoh obuvsbm mbo hvbhf up bti dpnnboet vtjoh uif bti ebubtfu hbsxbm fubm qsftfouuifeftjhoboejnqmfnfoubujpopgbqmbugpsn xijdi bjnt up csjoh uif qpxfs pg f h uif bqqspbdift efwfm pqfe jo uif .
dibmmfohf up uif dpnnboe mjof joufsgbdf pxfwfs uiftf bqqspbdift boe uppmt bsf mjnjufe cz uif btiebubtfu xijdi pomz dpwfst dpnnboet boe pqujpot j fsfougspnuiffyjtujohuvupsjbmtboeuppmtuibubsfmjnjufecz nbovbmmz dsfbufe ebubtfut xf efwfmpq 4ifmm vtjpo uibu joufhsbuft2 qptut .1t boe up sfdpnnfoe tifmm dpnnboet boehfofsbuf dpnqsfifotjwf botxfst gps qsphsbnnjoh ubtlt .jojoh dpnnvojujft f sjdi ebub jo dpnnvojujft ibt cffo xjefmz fyqmpsfe cz sftfbsdifst up voefstuboe tp xbsf efwfmpqnfou qsbdujdft boe cvjme uppmt gps tp xbsf efwfmpqnfouubtlt 8bo fu bm bobmz f uif ejtdvttjpo upqjdt pg cmpdldibjojo vtjoh b cbmbodfe npefm btifij fu bm tuvez uifgbdupst uibu nblf bo f fdujwf dpef fybnqmf uispvhi b rvbmjubujwfbobmztjtpg40qptut 3binbofubm qspqptfbo sfdpnnfo ebujpo bqqspbdi cz njojoh lfzxpse nbqqjoht gspn40qptut jffubm qspqptfbdpeftfbsdibqqspbdiczfyqboe johrvfsjftxjui lfzxpsetfyusbdufegspn40qptut bpfubm qspqptf ffq ot up sfdpnnfoe sfmfwbou botxfst gps rvfsjft cztfbsdijoh qbjst 0vs 4ifmm vtjpo bmtp vtft qptut cvu xf gpdvt po hfofsbujoh botxfst gps tifmm qsphsbnnjoh ubtlt sfdpnnfoebujpo sfdpnnfoebujpo jt b sftfbsdi ipu tqpu jo tp xbsf fohjoffsjoh ps fybnqmf .d.jm mbo fu bm qspqptf 1psugpmjp up sfdpnnfoe gvodujpotgps rvfsjft gspn b mbshf bsdijwf pg tpvsdf dpef vboh fubm qspqptf gps sfdpnnfoebujpo cz mfwfsbhjoh 40qptutboe epdvnfoubujpo vfubm efwfmpqbo3 cbtfebqqspbdi ffq uibu dbo hfofsbuf tfrvfodft gps rvfsjftcznjojohdpefsfqptjupsjft .psfpwfs uifsfbsfnbozbqqspbdiftqspqptfegpssfdpnnfoejohxfc t xijdibsfxjefmzvtfe jo ejtusjcvufe tp xbsf efwfmpqnfou o dpousbtu xf qspqptfbo bqqspbdi uibu joufhsbuft lopxmfehf gspn nvmujqmf jogpsnbujpotpvsdft up sfdpnnfoe tifmm dpnnboet o uijt qbqfs xf qspqptf 4ifmm vtjpo up bvupnbujdbmmz hfofsbufbotxfst gps tifmm qsphsbnnjoh ubtlt 8f joufhsbuf tifmm sfmbufelopxmfehf njofe gspn qptut 6cvouv .1t boe uv upsjbmt jwfo b rvfsz 4ifmm vtjpo fyusbdut dboejebuf dpnnboet xjuipqujpotgspnuifbddfqufebotxfstpgrvftujpottjnjmbsupuif rvfsz uuifo mufstpvujssfmfwboudpnnboetboesboltuifsf ofedpnnboetczdpotjefsjohuifjstjnjmbsjujftxjuiuifrvfszboeuiftjnjmbs rvftujpot xjui bddfqufe botxfst uibu vtf uif dpnnboet jobmmz 4ifmm vtjpo hfofsbuft bo botxfs gps fbdi dpnnboe cztzouiftj joh wbmvbcmf lopxmfehf njofe gspn uif uisff jogpsnb ujpo tpvsdft wbmvbujpo sftvmut po fyqfsjnfoubm rvfsjft dpo snuiff fdujwfofttpg4ifmm vtjpo vtfstuveztipxtuibu4ifmm vtjpo dbo ifmq vtfst oe vtfgvm dpnnboet boe tdsjqut gps tifmmqsphsbnnjoh ubtlt f djfoumz boe bddvsbufmz o gvuvsf xpsl xf xjmm jnqspwf 4ifmm vtjpo up sfdpnnfoe dpmmbcpsbujwf dpnnboetxjui vtbhf ufnqmbuft gps dpnqmfy ubtlt uibu jowpmwf nvmujqmf dpn nboet .psfpwfs xf qmbo up jnqmfnfou bo fbtz up vtf joufsgbdfgps 4ifmm vtjpo f h vtjoh pdlfs .
jtsftfbsdi qspkfdujttvqqpsufeczuif bujpobm buvsbm4djfodf pvoebujpo pg ijob p boe uif bujpobm 3ftfbsdi pvoebujpo 4johbqpsf voefs jut oevtusz mjhonfou voe 1sf qptjujpojoh voejoh ojujbujwf ozpqjojpot oejohtboedpodmvtjpot ps sfdpnnfoebujpot fyqsfttfe jo uijt nbufsjbm bsfuiptf pg uif bvuips t boe ep opu sf fdu uif wjfxt pg bujpobm 3f tfbsdi pvoebujpo 4johbqpsf 1980shell fusion answer generation for shell progr ammin g tasks via knowledge fusion icse may pitts burgh pa usa table the means and standard deviations of the user study results with respect to seven evalu ated aspects as well as the statistical significance of the differ ences between the results achieve d by the participants assigned to shellfusion and those achieved by the participant s assigned to magnum deepans and ws.
the first and the second values in each cell are the mean and the standard deviation respecti vely.
note that the results of the queries answered by the participants themselves as listed in table are excluded.
correctness of the correctness of the correctness of the correctness of the time in second commands found by scripts found by usefulness understandability commands recommended scripts recommended the participants the participants by the approach by the approach shel!fusion .
.
.
.
.
.
.
.
.
.
.
.
.
.
magnum .
.
.
.
.
.
.
.
.
.
.
.
.
.
deepans .
.
.
.
.
.
.
.
.
.
.
.
.
.
ws .
.
.
.
.
.
p o.ool p o.ol p o.os and shell programming in linux.
negus and casen build a tool box for ubuntu commands related to file manipul ation mul timedia playing etc.
lauet al.
describe an approach smartshell that can assist users in learning shell scripts by demonstration.
there are some other tutorials built by communiti es e.g.
tldr and cheat .
these tutorials are helpful however they require a great amount of manual effort and contain only a few examples for a limited number of basic or frequently used commands.
they do not provide a mechanism to search for commands by a task.
several approaches and tools are proposed to support shell pro gramming .
chakrab orti et al.
present a platform ubuntu world .
lts for developing an automated technical support agent in ubuntu.
lin et al.
build a dataset nl2bash that contains task command pairs for the problem of mapping a task to the cor responding bash command.
they present three baselines for ad dressing the problem by leveraging three neural machine trans lation models seq2seq copynet and tellina .
dur ing the nlc2cmd competition held at neurips six ap proaches e.g.
magnum are developed fo r translating natural lan guage to bash commands using the nl2bash dataset.
agarwal et al.
present the design and implementation of a platform clai which aims to bring the power of ai e.g.
the approaches devel oped in the nlc2cmd challenge to the command line interface.
however these approaches and tools are limited by the nl2bash dataset which only covers commands and options.
different from the existing tutorials and tools that are limited by manually created datasets we develop shellfusion that integrates q a posts mps and tldr to recommend shell commands and generate comprehensive answers for programming tasks.
mining q a communi ties.
the rich data in q a communities has been widely explored by researchers to understand software development practices and build tools for software development tasks.
wan et al.
analyze the discussion topics ofblockchain in so using a balanced lda model.
nashehi et al.
study the factors that make an effective code example through a qualitative analysis of so posts.
rahman et al.
propose an api recommen dation approach rack by mining keyword api mappings from so posts.
nie et al.
propose a code search approach by expand ing queries with keywords extracted from so posts.
gao et al.
propose deepans to recommend relevant answers for queries by searching q a pairs.
our shellfusion also uses q a posts but we focus on generating answers for shell programming tasks.
api recommendation.
api recommendation is a research hot spot in software engineering .
for example mcmil lan et al.
propose portfolio to recommend c c functions for queries from a large archive of c!c source code.
huang et al.
propose biker for api recommendation by leveraging so posts and api documentation.
gu et al.
develop an rnn based approach deepapi that can generate api sequences for queries by mining code repositories.
moreover there are many approaches proposed for recommending web apis which are widely used in distributed software development.
in contrast we propose an approach that integrates knowledge from multiple information sources to recommend shell commands.
con clusion and future work in this paper we propose shellfusion to automatically generate answers for shell programming tasks.
we integrate shell rela ted knowledge mined from q a posts ubuntu mps and tldr tu torials.
given a query shellfusion extracts candidate commands with options from the accepted answers of questions similar to the query.
it then filters out irrelevant commands and ranks the refined commands by considering their similarities with the query and the similar questions with accepted answers that use the commands.
finally shellfusion generates an answer for each command by synthesizing valuable knowledge mined from the three informa tion sources.
evaluation results on experimental queries con firm the effectiveness ofshellfusion.
a user study shows that shell fusion can help users find usef ul commands and scripts for shell programming tasks efficiently and accurately.
in future work we will improve shellfusion to recommend collaborative commands with usage templates for complex tasks that involve multiple com mands.
moreover we plan to implement an easy to use interface for shellfusion e.g.
using docker .