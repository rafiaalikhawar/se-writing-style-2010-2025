restoring the executability of jupyter notebooks by automatic upgrade of deprecated apis chenguang zhu1 ripon k. saha2 mukul r. prasad2 and sarfraz khurshid1 1the university of texas at austin 2fujitsu research of america inc. email cgzhu utexas.edu rsaha fujitsu.com mukul fujitsu.com khurshid utexas.edu abstract data scientists typically practice exploratory programming using computational notebooks to comprehend new data and extract insights.
to do this they iteratively refine their code actively trying to re use and re purpose solutions created by other data scientists in real time.
however recent studies have shown that a vast majority of publicly available notebooks cannot be executed out of the box.
one of the prominent reasons is the deprecation of data science apis used in such notebooks due to the rapid evolution of data science libraries.
in this work we propose r elancer an automatic technique that restores the executability of broken jupyter notebooks in near real time by upgrading deprecated apis.
r elancer employs an iterative runtime error driven approach to identify and fix one api issue at a time.
this is supported by a machine learned model which uses the runtime error message to predict the kind of api repair needed an update in the api or package name a parameter or a parameter value.
then r elancer creates a search space of candidate repairs by combining knowledge from api migration examples on github as well as the api documentation and employs a second machine learned model to rank this space of candidate mappings.
an evaluation of r elancer on a curated dataset of un executable jupyter notebooks from kaggle shows that r elancer can successfully restore the executability of of the subjects while baselines relying on just github examples and just api documentation can only fix and of the subjects respectively.
further pursuant to its real time use case r elancer can restore execution to of subjects within a minute time limit while a baseline lacking its machine learning models can only fix .
index terms data science api migration software evolution i. i ntroduction the ready availability of sensors and inexpensive compute resources coupled with a number of significant advances in machine learning and data analytics has fueled an explosive growth in the field of data science .
kaggle the relatively nascent online community of data scientists already boasts over million users and hosts public datasets .
data scientists typically follow the paradigm of exploratory programming iteratively refining code to comprehend new data and extract meaningful insights from it .
to do this they actively try to re use and re purpose solutions created by other data scientists in real time.
indeed kaggle proudly claims that inside kaggle you ll find all the code data you need to do your data science work .
jupyter notebooks interactive computational structures which interleave code snippets natural language text computation results and visualizations have become the medium of choice for data scientists to program record and share data analyses .
kaggle hosts 000such public notebooks .
similarly there are currently nearly million jupyter notebooks hosted on github with the number having grown fold over just the last two years .
a data scientist pursuing exploratory programming by reusing existing jupyter notebooks would require such notebooks to be easily reproducible or at the least executable.
in fact producing reproducible computational workflows was intended to be one of the defining features of jupyter notebooks and computational notebooks in general .
however this promise has not been realized in practice.
a large scale empirical study by pimental et al.
on jupyter notebooks projects on github found that only .
of their selected notebooks could execute without errors and only .
reproduced the original results .
the concerns about executability are echoed in a recent survey of data scientists .
similarly our study of a sample of machine learning notebooks on kaggle reported in section ii a revealed that of them could not be executed.
recent studies have identified a number of root causes for why archived jupyter notebooks cannot be easily re executed.
these include ambiguity in the execution order of the notebook cells lack of knowledge of the notebook s execution environment and