towards precise metrics for predicting graph query performance benedek izs zolt n szatm ri g bor bergmann kos horv th istv n r th department of measurement and information systems budapest university of technology and economics budapest hungary izso szatmari bergmann ahorvath rath mit.bme.hu abstract queries are the foundations of data intensive applications.
in model driven software engineering mdse model queries are core technologies of tools and transformations.
as software models are rapidly increasing in size and complexity most mdse tools frequently exhibit scalability issues that decrease developer productivity and increase costs.
as a result choosing the right model representation and query evaluation approach is a significant challenge for tool engineers.
in the current paper we aim to provide a benchmarking framework for the systematic investigation of query evaluation performance.
more specifically we experimentally evaluate existing and novel query and instance model metrics to highlight which provide sufficient performance estimates for different mdse scenarios in various model query tools.
for that purpose we also present a comparative benchmark which is designed to differentiate model representation and graph query evaluation approaches according to their performance when using large models and complex queries.
index terms performance benchmark model queries model metrics query metrics i. i ntroduction nowadays model driven software engineering mdse plays an important role in the development processes of critical embedded systems.
advanced modeling tools provide support for a wide range of development tasks such as requirements and traceability management system modeling early design validation automated code generation model based testing and other validation and verification tasks.
with the dramatic increase in complexity that is also affecting critical embedded systems in recent years modeling toolchains are facing scalability challenges as the size of design models constantly increases and automated tool features become more sophisticated.
a key factor in the scalability of mde toolchains is the performance of model representation which is in turn determined by the characteristics of persistence query evaluation and model manipulation operations.
traditionally modeling tools built on state of the art frameworks such as the eclipse modeling framework emf have relied on an in memory object model backed by an xml serialization.
more recently model repositories such as cdo or morsa have emerged that aim to tackle scalability issues by making use of advances in object persistence technology.
as the majority of model based tools uses a graph oriented data model recent results of the nosql and linked data movement are straightforward candidates for adaptation to mde purposes.model queries support several essential scenarios including model validation model transformations model synchronization view maintenance and model execution.
as a consequence many scalability issues can be addressed by improving query performance.
this led to the development of several model indexing and query evaluation engines such as eclipse ocl emf query complementary approaches that translate model queries into lower level queries that can be executed on the relational back end .
there are also several approaches such as emf i ncquery and the impact analyzer of eclipse ocl to support the incremental evaluation of model queries which reduces query response time by limiting the impact of model modifications to query result calculation.
for tool engineers benchmarks may provide guidance on picking the right technology for building a new tool architecture to fulfill increasing scalability requirements.
due to their central role in data intensive applications the performance of persistence technologies has been evaluated by many benchmarks that focus on throughput and response time measurements and investigate scalability in terms of the size of the data set and the number of transactions.
in addition to these traditional scalability aspects the semantic web community has investigated the scalability of semantic graph databases rdf triple stores .
these benchmarks rely on graph queries over a structurally richer data set and also investigate the effects of advanced semantic technologies such as inference.
up to now the most complex benchmarking workloads have been investigated by the academic and industrial mde tool building community in transformation tool contests which feature synthetic model transformation case studies inspired by real world applications.
despite all these efforts making a well founded technological choice based on existing benchmarking results remains a tough challenge .
first mde tools have very specific workloads both in terms of model structure and transaction complexity that are different in key aspects compared to traditional rdbms and newer graph persistence benchmarks.
mde tools rely on much more complex queries and their performance is dominated by response time and re evaluation time rather than throughput.
additionally rdbms and semantic technologies have key conceptual differences that require mapping layers which might have adverse and unpredictable effects on real life performance.
the generalizability of bench mark results is further limited by the scarcity of relevant metrics that could be used to assess an engineering problem and predict which technology would be best suited.
existing metrics emphasize a single aspect of the problem most typically model size while internal metrics used by e.g.
optimizing query evaluation engines or pattern matchers inside gt tools for estimating query evaluation difficulty are either not documented well or not accessible in a reusable way.
in this paper we aim to address these challenges by assessing existing metrics along with newly proposed ones .
these metrics take instance model characteristics static query characteristics and their combination into account.
based on our real life experiences with tools and models we outline a benchmark that uses model validation as its core scenario thus focusing on model loading and model validation workloads.
guidelines are provided on the generation of instance models and queries on which we evaluated the metrics and executed the benchmark using three characteristically different graph query tools.
in order to identify which metrics provide reliable performance prediction for a given workload and tool category wecalculate the correlation with significance values between execution times and metrics.
the rest of the paper is structured as follows.
sec.
ii overviews the most important concepts of modeling languages and model queries and sec.
iii discusses benchmarking and metrics related work.
sec.
iv presents our analysis of existing benchmarks and proposes new metrics and benchmarks with their evaluation presented in sec.
v. sec.
vi outlines directions for future work and concludes the paper.
ii.
b ackground graph based models can be used to abstract and formally describe real world structures.
vertices of such a model can be grouped into classes which are the types of these individuals and similarly relations can have labels to describe their types.
a metamodel consists of such labels and constraints that can restrict model combinations or can be used for inferencing.
in this section the emf eclipse modeling framework and rdf resource description framework model description languages are described briefly.
to process models of these languages imperative traversal or declarative query evaluation tools can be used.
a. model representation technologies and the example domain modeling languages theeclipse modeling framework emf uses the ecore language to describe domainspecific models and metamodels.
such models can be edited by framework provided graphical editors which are similar to uml class diagram editors.
instance model elements are eobjects in ecore which have exactly one type described by an eclass.
ereference or associations connect eclasses andeattribute of eclasses point to primitive datatypes like estring eint .
ereferences and eattributes can be singlevalued or multi valued and they can be ordered or unordered.
ereferences may additionally imply containment which is fig.
train metamodel described in emf mainly used during model serialization.
inheritance may be defined between classes which means that the inherited class has all the properties its parent has and its instances are also instances of the ancestor class but it may further define some extra features.
note that inheritance between relations is not supported by the language.
the language supports two level metamodeling where the metamodel is stored separately from instance models.
an example metamodel is depicted in fig.
.
the resource description framework rdf is inspired by the semantic web and describes graph models with subject predicate object triples.
the subject and object are vertices while the predicate is the type of the relation from subject to object.
one atom of a triple statement can be an iri internationalized resource identifier while objects can be iris or xml schema defined literals for describing values like string or int .
in contrast to emf rdf supports multilevel and multi domain metamodeling.
other constraints can be expressed like subsumption between classes or