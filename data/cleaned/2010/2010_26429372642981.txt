dompletion dom aware javascript code completion kartik bajaj karthik pattabiraman ali mesbah electrical and computer engineering university of british columbia vancouver bc canada kbajaj karthikp amesbah ece.ubc.ca abstract javascript is a scripting language that plays a prominent role in modern web applications.
it is dynamic in nature and interacts heavily with the document object model dom at runtime.
these characteristics make providing code completion support to javascript programmers particularly challenging.
we propose an automated technique that reasons about existing dom structures dynamically analyzes the javascript code and provides code completion suggestions for javascript code that interacts with the dom through its apis.
our automated code completion scheme is implemented in an open source tool called d ompletion .
the results of our empirical evaluation indicate that dom structures exhibit patterns which can be extracted and reasoned about in the context of code completion suggestions d ompletion can provide code completion suggestions with a recall of precision of and an average time of .
seconds.
categories and subject descriptors d. .
coding tools and techniques general terms algorithms design experimentation keywords code completion javascript dom web applications .
introduction web applications are growing fast in popularity.
javascript is nowadays heavily used to provide user interactivity on the clientside.
however integrated development environment ide support for web development still lags largely behind which makes writing javascript code challenging for many developers.
one of the major challenges faced by programmers is handling the interactions between javascript and the document object model dom .
the dom is a standard object model representing html at runtime.
javascript uses dom apis for dynamically accessing permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than the author s must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september vasteras sweden.
copyright is held by the owner author s .
publication rights licensed to acm.
acm ... .
.
and updating the content structure and style of html documents.
in a prior empirical study we found that such javascript dom interactions are responsible for the majority of programmer errors in web applications .
the dom of a web application evolves at runtime due to client side mutations through javascript and or server side dynamic html code generation.
due to the inherent difficulties of reasoning about this dynamic dom evolution there is a lack of ide support for writing javascript code that performs dom operations.
as a result when writing javascript code the developer needs to consider all possible states the dom could potentially be in when it is accessed by the javascript code which is an errorprone and time consuming task.
prior studies have revealed that developers make heavy use of code completion features provided within their ide and that they require code completion support for xml based languages such as xhtml and xpath.
although code completion for traditional languages such as java has been an active research topic code completion for web applications and javascript in particular has received very limited attention from the research community.
to the best of our knowledge dom based code completion support for javascript has not been addressed in the literature yet which is the focus of our work.
to assist web developers in writing javascript code that interacts correctly with the dom we propose an automated technique based on static and dynamic analysis of the web application s dom structure and javascript code under development.
our approach extracts various dom states from the application and infers patterns from the observed dom tree structure captures and analyzes all javascript code that interacts with the dom reasons about the consequences of these interactions on the dom state and provides code completion suggestions in terms of possible dom elements and properties that are accessible at that specific line of javascript code.
these suggestions help developers write valid javascript code that correctly interacts with the dom at runtime.
our work makes the following main contributions a discussion of the importance and main challenges behind dom based code completion in javascript.
a fully automated code completion technique based on a combination of static and dynamic analysis of javascript code and the dom.
an implementation of our approach in an open source tool called d ompletion .
an empirical evaluation to asses d ompletion demonstrating its efficacy real world relevance and helpfulness.
our examination of five real world web applications indicates that dom states do exhibit patterns in their structure which converge and can hence be learned.
the results of our case study on three ... 2var nav document.
getelementbyid site navigation 3var button menu 4button nav.
getelementsbytagname h3 5if !
button 6return 7menu nav.
getelementsbytagname ul ... figure example javascript code fragment based on wordpress.
open source web applications show that d ompletion is capable of providing code completion suggestions with a recall of and a precision of .
the results of our user study indicate that d ompletion can reduce the development time while improving the overall accuracy of developers in code completion tasks.
.
challenges and motivation in this section we discuss some of the challenges faced by developers when writing javascript code as well as challenges involved in providing automated code completion support for dom.
.
running example figure presents a javascript code fragment based on the wordpress application to illustrate some of the challenges involved in providing auto complete features for javascript.
figure represents the dom structure of a subset of the webpage that the javascript code in figure is interacting with.
the webpage pertaining to figure consists of a navigation menu with id site navigation at the top of the webpage.
the navigation menu contains one h3element element and one ulelement element that contains a number of lielements elements to constituting the menu items.
the javascript code obtains