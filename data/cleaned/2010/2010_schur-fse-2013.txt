mining behavior models from enterprise web applicationsmatthias schursap agdarmstadt germanymatthias.schur sap.comandreas rothsap agkarlsruhe germanyandreas.roth sap.comandreas zellersaarland universitysaarbr cken germanyzeller cs.uni saarland.deabstracttoday s enterprise web applications demand very high releasecycles and consequently frequent tests.
automating thesetests typically requires abehavior model a description ofthe states the application can be in the transitions betweenthese states and the expected results.
furthermore oneneedsscriptsto make the abstract actions transitions inthe model executable.
asspecifyingsuch behavior modelsand writing the necessary scripts manually is a hard task apossible alternative could be toextractthem from existingapplications.
however mining such models can be a chal lenge in particular because one needs to know when twostates are equivalent as well as how to reach that state.
wepresentprocrawl processcrawler a generic approachto mine behavior models from multi user enterprise webapplications.procrawlobserves the behavior of the applica tion through its user interface generates and executes teststo explore unobserved behavior.
in our evaluation of threenon trivial web applications an open source shop system ansapproduct compliance application and an open source con ference manager procrawlproduces models that preciselyabstract application behavior and which can be directly usedfor e ective model based regression testing.categories and subject descriptorsd.
.
testing and debugging testing tools tracing d. .
dis tribution maintenance and enhancement documentation d. .
software program verifi cation validationgeneral termsalgorithms design experimentationkeywordsspecification mining dynamic analysis model based testingpermission to make digital or hard copies of all or part of this work forpersonal or classroom use is granted without fee provided that copies arenot made or distributed for profit or commercial advantage and that copiesbear this notice and the full citation on the first page.
to copy otherwise torepublish to post on servers or to redistribute to lists requires prior specificpermission and or a fee.esec fse august saint petersburg russiacopyright acm ... .
.
.
introductiontoday s enterprise web applications1are characterized bya high frequency of updates.
to prevent such updates frombreaking functionality one has totest and frequent updatescall for frequent tests.
automating such tests requires amodeldescribing the possible and the expected applicationbehavior.
however typically web applications come withoutexplicit models which implies mostly manual and thus lesse cient testing but also slows down understanding andmaintenance of the application.the field ofspecification miningaims to facilitate theseactivities by mining abstractions from programs and theirexecutions typically models of the program s behavior.
ifthese models are precise enough they can even be used aspost facto specifications of the program.
specification mininghas been used to successfully derive axiomatic specificationssuch as function and data invariants from programs orfinite state automata describing states and transitions forindividual classes .
for suchsmall scaledomains itis fairly easy to validate specifications because both pro gram code and program state are accessible and amenableto symbolic reasoning and exhaustive testing.for enterprise applications extracting models that describetheir possible behavior is much more di cult.
program codeand program state for instance may not be available foranalysis as the application may be distributed across severallayers and sites.
in general the only assumption that can bemade is that there is someuser interface ui such as a webinterface that allows for human interaction.in this paper we presentprocrawl a fully automatictool thatmines explicit behavior models of enterprise webapplicationsfor the sake ofsystem testingandmaintenance.allprocrawlrequires is theurlof a web application2 l o gin credentials for its users a scope definition i.e.
the partsof the web application to be observed and a start event.the resulting behavior model is a finite state automaton fsa in which the nodes denote abstract individual statesof the web application numbered in the order they were de tected byprocrawl whereas the transitions denote actionsthat change the state and are performed by users acting indi erent roles.
this model may serve as a gold standard oracle detecting regressions which eliminate behavior fromone revision of the application to the other.1enterprise systems are about display manipulation and storageof data and the support or automation of business processes withthat data 2procrawlhandles rich web .
applications including dynamictechnologies such as ajax.permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
copyright is held by the author owner s .
publication rights licensed to acm.
esec fse august saint petersburg russia acm 422figure theprocrawlbehavior model foropenconf detailing the peer review process involving authors reviewers and chairs.
the model is unalteredprocrawloutput only the graph layout was manually adjusted.
figure theopenconfconference manager.as an example figure shows the reviewer s page ofopenconf3 a web based conference management system.usingopenconf authors can submit papers which are thenreviewed by peers and finally rejected or accepted a processwe assume is familiar to most readers of this paper .
usinga login script for an author a reviewer and a chair each procrawlinfers the life cycle of a submission cf.
figure after the author makes a submission the state of the submit ted paper ispending state .
the chair canaccept state orreject state the paper before assigning a reviewer.for each of the threeunassignedstates there is a correspond ing state after the assignment of a reviewer state and after the reviewer submitted the review state .at all times the chair can revoke an earlier decision or assigna new reviewer.
however after assigning reviewers thereis no way back to the unassigned state .
in orderto completely explore the behavior in the unassigned state procrawlrequires a command to resetopenconfto state .to extract such a model procrawlobserves the behaviorof the web application via theui.
from its observations procrawlinfersstate abstractionsallowing it to determinewhether a newly detected state is similar to a known one which implies a cycle in the model or whether it is not inwhich case it generates and executes test cases to explore the3 unobserved behavior .
this state abstraction is crucial forthe e ectiveness ofprocrawl while e cient web crawlingtools have been presented before they do not make theirunderlying model explicit or detect inappropriate processstates because they take only a single user and view ofthe webuias basis for state abstraction.to cater for the specific requirements of enterprise appli cations procrawlcan handle multiple users even simul taneously which is crucial for modeling the interaction of say vendors and clients it assumes that each such usercomes with aninit scriptfor logging into the system.
forguiding the mining procedure themining scope i.e.
theviews of thesut suithat shall be observed as well as astart action e.g.make submission have to be configured.for some applications additionally a command for resettingthe application s state has to be provided otherwise in ourexample procrawlcould not return to states before paperassignments were made.after discussing the requirements for analyzing and testingenterprise web applications section we make the followingcontributions .to the best of our knowledge procrawlis the first toolto extractabstract behavior models from multi user webapplications.section discusses howprocrawlworks and section gives details on the implementation.
.in our evaluation ofprocrawlon three enterprisesystems ansapweb application theoxideshop andtheopenconfconference manager behavior modelsas mined byprocrawlprecisely capture the essentialsof the underlying process.
section introduces the casestudies and section reports the results.
.the resulting behavior models can be used directly asinput tomodel based testing.in section we show howautomated tests following the mined behavior modelsdetect disruptive process changes.after discussing threats to validity section and therelated work section section closes with conclusionand future work.423figure howprocrawlworks.procrawltakes a configuration a describing individual actors and their initialdata e.g.
logins.
it then triggers the start event here submit in the web application b and determines theapplication state.
this leads to an initial behavior model c consisting of the start event and the observedstates.procrawlthen systematically and automatically generates further executions d to explore additionalstates and transitions.
the result is an enriched behavior model e obtained from the web application.
.
enterprise application testingenterprise web applications supportbusiness processescentered around data stored in aback endwhich is manip ulated when executing these business processes.
as typicalbusiness processes involvemultiple interacting roles suchas a seller and a vendor or an author a reviewer and aconference chair the central data is collaboratively editedthrough clients.
these clients may have varying functionalitydepending on the user role and typically consist of severaluiviews separating the functionality of the application.
instate of the art architectures the back end is accessed bybrowser based clients.
an illustrative example isopenconf while more business oriented ones are presented in section .to manage complexity thetesting of enterprise web ap plicationsusually takes place on several layers unittestsensure that software units are functionality correct inisolation with the goal of high code coverage whileserviceandintegration testsensure the fulfillment of contractualobligations of a service component and correct communica tion between coupled services components.
in this paper weare focusing on the top most level in this hierarchy where thesystem undergoes a cross modulesystem test replaying thebusiness processes that the application shall support.
notethat on this level we are not concerned with fully coveringthe source code through the tests but rather in successfullyexecuting all required business processes from an end userperspective i.e.
testing through theuiwith multiple usersacting in di erent roles.
in case of a system which integratesmany services components this has the advantage that ac cess to the source code is not required.
however it is a validassumption that we can at leastresetthe system state tothe initial one e.g.
by resetting the application s database.the release frequency in today s industrial practice ofengineering enterprise applications especially of applicationsdeployed in the cloud is usually very high.
thereforeregression testing which ensures that functionality ispreserved from one revision to the other on the system levelneeds to be highly e cient and automated.with the aim of such increased test automation model based testing mbt has expanded the automation ofsoftware testing towards the test design phase behavior mod els can be used to derive a test suite which is then executedthrough a test automation framework.
today industrial ap plication has shown positive e ects ofmbton developmentproductivity e.g.
however the wide scale adoptionsu ers from the absence of explicit models for testing andmaintenance.
especially for regression testing automati callyminingsuch models reflecting the actual behavior of arunning enterprise system gold standard would be asignificant step in pushing test automation even further.overall speaking such models need to cover as muchrequired behavior from the informal documentation userstories etc.
as possible but not more precision and recall see section .
moreover they should becorrectw.r.t.
theapplication implementation i.e.mbttest generators shouldtransform them into reproducible program executions.
theseexecutions should ideally only lead to failures if paths throughthe business process implemented in the predecessor versionare no longer possible.
we will revisit these high level goalsin sections to .technically these considerations lead to a number of es sentialrequirementsa model needs to satisfy to serve asreasonable input for model based regression testing of enter prise web applications first models need to provide anappropriate abstractionof the back end state reflecting the fact that both theuser interactionandthe data stored in the back enddetermine the application behavior.
second business processes typically span across multi ple users indi erent roles.
hence the state abstractionin the test model must take into account the combi nation of states from multiple user sessions.
moreovertests which cut across all implemented processes are notmaintainable and thus need to bemodularized i.e.
splitin one test model per business process.
third thoughuitests are the perfect means to testuser level requirements they are volatile as theuichanges frequently.
to prevent the models from becom ing obsolete in case ofuichanges they should onlyinclude business logic actions i.e.actions for navigat ing betweenuiviews should not lead to a new stateinthe behavior model and be separated inscriptsmakingthe abstract actions in the model executable.
.
model inferenceprocrawlhighly automatically infers behavior modelswith appropriate state abstraction covering multi user pro cess scenarios.
the process facilitated byprocrawlis de tailed as follows.
first almost completely automatically procrawlgenerates a behavior model by systematicallycrawling thesut.
this technique is described in section .
.the quality of the inferred behavior models strongly dependson the applied abstraction mechanisms which are describedin section .
.
second a test engineer may complementthe inferred model with additional properties.
based onthese models and theuiscripts generated byprocrawl acceptance tests can be derived and automatically executed cf.
section to check whether scenarios across multipleusers with di erent roles can be reproduced on a modifiedversion of thesutand lead to the expected result.
.
experimental behavior model miningprocrawlis anexperimental program analysistool i.e.it generates findings from multiple executions of the pro gram where the executions are controlled by the tool .to handle business processes involving multiple interactingroles procrawlsimulates multiple users actors operatingthesutvia a web browser.
actors are configured with alogin script to initialize a user session.
during the crawlingprocedure procrawluses a separate web browser4for eachactor.
figure illustrates an example run ofprocrawlonthe conference management system introduced in section .a procrawlis configured with as e to factorsoperating thesutvia its webui amining scopefor each actor i.e.
a set of scripts usu ally simplyurls for navigating to theuiviews to beconsidered for state abstraction auiscript for triggering thestart event here submit optionally a selector foruielements to be consideredfor state abstraction cf.
section .
and a command for resetting the state of thesut.b procrawlruns the start script and determines the stateof thesutby abstracting over the activeuielements.c an initial model with the observed behavior is generated.d the model is refined in an iterative process of state obser vation modeling and testing test procrawlgeneratesexecutable scripts from the behavior model and executesthem on thesutto explore as yet unobserved behav ior.observe procrawldetermines the state of thesut.model the model is refined based on the observations.e the enriched model is stored as afinite state automaton cf.
figure i.e.
a directed multigraph with propertiesannotated to nodes and edges and can be directly usedas a specification for model based testing cf.
section .nodesin the graph represent the states of thesutasobserved byprocrawlthrough thesut s webui edgesrepresent a sequence ofuievents triggered byprocrawlwith one of the configured actors.
.
state and event abstractionas discussed in section enterprise web applications sepa rate functionality in di erentviews which can be accessed bytriggeringnavigational eventson theui.
to extract a modeldescribing the business logic of thesutthat is exposed viatheui procrawlabstracts over the activeuielements to4the number and type of browsers can be configured.identify similar states and excludes navigational events fromthe behavior model.
without abstraction every single changein theuipresentation would lead to a distinct state.state abstraction.the idea behind the state abstrac tion mechanism applied byprocrawlis that the currentstate of thesutis reflected by theui where each actor viewrelation exposes a specific part of the application state.
there foreprocrawldistinguishes di erent states of thesutusingan abstraction function over the state of thedocument objectmodels doms of these actor view relations.
this allowsprocrawlto determine the application state without requir ing access to thesut s source code.
the set of views miningscope is configured for each actor.procrawlautomaticallynavigates to the respective views with all actors in parallel extracts thedoms and computes the state by applying filterson this set ofdoms.
in its default configurationprocrawlabstracts over all interactivehtmlelements visiblehyper linksandbuttons extracted from thedoms.
however thetype ofhtmlelements to be considered for state abstractioncan be configured by providingxpathexpressions such as or selectors for text with certainkeywords such astext status .event abstraction.procrawlclassifies events that donot change the observed state of thesut self loops in thefsa as navigational.
navigational events are specific tothesut suiand therefore volatile throughout the appli cation lifecycle.
furthermore the usually high number ofnavigational events clutters the behavior model masks thee ective business logic and makes the models likely to breakin case ofuichanges.
however since process scenarios typ ically span several views procrawlmay need to executenavigational events in order to activate anhtmlelementtriggering a functional event.
so the derivation of a sin gle step in the process scenario may require the executionof several navigational events plus one functional event.procrawladdresses this issue by introducing two layers ofabstraction amodel layerwhich is independent of naviga tional events and automatically executableuiscriptsinjavaas a second layer binding navigational to functional events.in this way if theuiof thesutchanges it is su cient toadapt the navigational events in the generated scripts only the model itself remains untouched.
.
steering the crawling procedureby computing the di between the set of activeuielementsbefore and after triggering an event procrawlis able todetermine the causal dependencies between events such astriggering themake submissionevent on thesubmissionviewof theauthoractor activates theassignevent on theassignreviewersview for theconference chair.procrawlonlytriggers events that have a causal relationship to the startevent defined in the configuration.
consequently the behaviormodels only contain events that are part of acausal chainasit is common in business processes resulting inmodularizedbehavior models that are easier to understand and maintain.
.
implementationprocrawlis implemented injava se using selenium5for web browser automation.
the tool provides an extensionmechanism based on the observer pattern observers canregister to certain events such as before or after clicking an5 test oracles that shall be called duringthe crawling procedure are implemented as observers.algorithm shows the initialization of the crawling pro cedure for inferring the behavior model.
first the initialstates0of thesutis retrieved line .
as described before a state has a set ofpending eventswhich are triggered byprocrawlthrough thesut suiin that state for the initialstates0the set of pending events is set to the start eventdefined in the crawl configuration line .
furthermore wemaintain a set ofpending statessp which have still to beexplored this set is initialized withs0 line .
an emptyfsais created withs0as initial state lines .
finally thecrawling procedure is called withs0and thefsa line which is then iteratively built up over the set of states.algorithm initdata set of actorsa set of pending statessp configoutput fsa1s0 retrievestate 2s0.pending config.startevent 3sp s0 4fsa newfi n i t e st a t e a u t o m a t o n s0 5returncrawl s0 fsa the state of thesutis retrieved as shown in algorithm .for each actor thedoms of the views defined in the actorconfiguration are retrieved by navigating to the view andinspecting the resultinghtmlcode line .
after removingdeactivated and invisiblehtmlelements from thedom line interactivehtmlelements are extracted and addedto the state s multiset of events line .
two states areconsidered as equal i the set of distinct elements in themultiset of events is equal.
for each distinct event auiscriptis generated line that triggers the event by navigatingto the respectiveviewwith the respectiveactorand clickingthehtmlelement associated with the event.algorithm retrievestatedata set of actorsaoutput current statesof thesut1s newstate 2foreachactor2ado3foreachview2actor.config.scopedo4dom actor.retrievedom view 5df filter dom 6s.events s.events events actor view df 7end8end9generatescripts s.events 10returns algorithm shows the crawl procedure recursively buildingup the behavior model.
in each recursion the current stateof thesuts0is checked for pending events.
if the set is notempty an event is removed lines and theuiscriptassociated with the event is executed line .
after thescript execution the current states1of thesutis retrievedand the set of pending events i.e.
the events activated bythe executed script is computed as the relative complementof the multiset of events ins1with respect to the events ins0 lines .
if not already present the current states1is added to the set of pending statesspandfsanodes anedge froms0tos1 labeled with the triggeredeventis addedto the set offsaedges lines .
finally the crawlingprocedure is recursively called withs1and the updatedfsa line .
if the set of pending events is empty s0is removedfromsp line .
in case there are still pending states insp the backtracking procedure algorithm is called toreach a pending statespand the crawling procedure is calledwithsp lines .
if the set of pending states is empty thefsais returned line .algorithm crawldata set of pending statesspinput current states0of thesut initialfsaoutput enrichedfsa1ifs0.pending6 then2event2s0.pending 3s0.pending s0.pending event 4executescript event 5s1 retrievestate 6s1.pending s1.events s0.events 7sp sp s1 8edge newedge s0 e ve n t s1 9fsa.nodes fsa.nodes s1 10fsa.edges fsa.edges edge 11fsa crawl s1 fsa 12else13sp sp s0 14ifsp6 then15sp backtrack s0 sp 16fsa crawl sp fsa 17else18returnfsa 19end20endalgorithm shows the backtracking procedure whichcomputes the shortest path from the current states0of thesutto a pending statespusing dijkstra s algorithm line and executes theuiscripts to reachsp line .
if thefsadoes not contain a path froms0to a state insp thesutisset to the initial state by executing the command provided inthe configuration line s0is set to the initial state andthe backtracking procedure is called again lines .
.
evaluation methodologyto assess the e ectiveness ofprocrawlin inferring behav ior models we conducted three case studies on real worldweb applications ansapenterprise web application anopen source web shop and a peer review system.
we useprocrawlto infer behavior models for the core processesand evaluate them in terms of three sets of measures accuracy.what is the fraction of relevant events i.e.
eventsrelated to the target process in the inferred model pre cision ?
what is the fraction of relevant events coveredby the model recall ?
what is the fraction of eventscorrectly classified as relevant or not relevant accu racy ?
to obtain these measures we manually comparethe inferred models with the application and availabledocumentation section .426algorithm backtrackdata fsa configinput current states0of thesut pending statesspoutput pending statesp1foreachp2spdo2edges fsa.shortestp ath s0 p 3ifedges6 then4foreache2edgesdo5executescript e.event 6end7returnretrievestate 8end9end10executecommand config.initsut 11s0 fsa.initialstate 12returnbacktrack s0 sp correctness.can the event sequences described in themodel be reproduced on the application?
for thispurpose we automatically generate test cases from themodel and execute the tests on the application usingtheuiscripts generated byprocrawl section .
.suitability for regression testing.are the inferred mod els useful for regression testing section .
?another criterion is the runtime procrawlshould passthe overnight challenge of completing within hours.
.
evaluation subjectssapweb application s1 .
in our first case study weappliedprocrawlon ansapenterprise web application forexchanging and processing product compliance information cf.
figure .
the main business processes supported bythe application include the connection with suppliers andcustomers and the exchange of product and component dec larations.
the user interface provides a navigation menu foraccessing several views inboxfor notifications and messages networkfor connecting with suppliers and customers com ponentsfor managing component declarations and requests productsfor product declarations suppliersandcustomersfor processing connection requests.
the server side of theapplication comprises about10.5klines ofjavacode and theweb interface about48klines ofjava jspand31klines ofjavascript using thesapui5sdk6 a nopenajaxcompliantlibrary for building rich internet applications.oxideshop s2 .
the second case study was performedonoxid eshop .
.
community edition7 an open source e commerce platform with about245klines of code including233klines ofphp .6klines ofjavascriptusing thejquery8library and6klines ofcsscode.
the webuiconsists ofa front end interface for ordering products and a back endinterface for shop administration and order processing.
anoteworthy characteristic of the back end is the heavy use offraming i.e.
theuiconsists of multiple web pages displayedsimultaneously within the same browser window.
figure sap web application for exchanging andmanaging product compliance information.openconf s3 .
in the third case study we appliedpro crawlonopenconf5.
community edition an open sourcepeer review and conference management system cf.
fig ure .openconfcomprises about14klines ofphpcodeand lines ofjavascriptcode.
.
evaluation environmentthe evaluation has been done on anintel core duo .
ghzwith4g br a m runningwindows x64withgoogle chrome .
.
model accuracyin this section we evaluateprecision recallandaccuracy acc of the models inferred byprocrawl as described insection cf.
table .
besides the configuration no userinput was necessary during the crawling procedure.
.
study sap web applicationtarget process.the objective of the first experimentwas to infer a behavior model for theconnect with supplierprocess scenario which is the first core scenario of the appli cation involving two partners.
in the scenario a manufacturer customer sends a connectionrequestto asupplier b yc l i c k ing theadd as supplierbutton on thenetworkview of theapplication.
the request can either beconfirmedordeclinedby thesupplier by clicking the corresponding button onthecustomersview orrevokedby thecustomer by clickingthecancelbutton on thesuppliersview.
each event exceptforrevokeresults in anotificationin theinboxof the otherpartner which can bedeletedat any time.setup.we conducted three runs with di erent configu rations c1 defaultstate abstraction consideringhtmlbutton elements and links and including all views of theapplication into the mining scope.
c2 defaultstate ab straction with areducedset of views in the mining scope.
c3 customstate abstraction only considering buttons witha certaincssclass9and areducedmining scope.for all runs we configuredprocrawlwith twoactorsrepre senting a customer and a supplier providedlogin credentials a batch file forresettingthe application database and astartscript triggering the connection request event by clicking theadd as supplierbutton on thenetworkview.findings.withc1andc2 procrawlinferred thefsadepicted in figure .
reducing the mining scope inc2 9this can simply be done by providing an xpath expression suchas .427table precision recall and accuracy acc ofprocrawlin terms of target processes covered in the model.subjectslocconfigstatestrans.eventsscriptsprecisionrecallacctimedefault14311141.
.
minsapjava 93kcustom12285351.
.
.
mindefault1317090.
.
minoxidphp 245kcustom6126181.
.
.
minopen default2790.
minconfphp 15kcustom103410270.
.
.
min figure theprocrawlbehavior model of the connection process in thesapweb application.reduced the runtime from to minutes and limiting theset ofhtmlelements considered for state abstraction inc3further reduced the runtime to minutes.
thefsainferredwithc1andc2consists of states and transitions where self loops i.e.
transitions that do not change the state are excluded from the model.
thefsaprecisely coversthe process description modeling the interaction behaviorbetween a customer cust.
and a supplier supp.
in theconnection process.
all transitions represent events relevantfor the target process and all events of the target process arecovered by the model resulting in aprecisionandrecallof1.
.procrawlgenerated 5uiscripts removing navigationalevents from the model and triggered compound events consisting of multipleuievents.with the custom configc3 procrawlmerged state 12with state and state with state resulting in statesand transitions.
by manually comparing the states withthe application we figured out that the two additional statesin the default configuration represent di erent message typesin theinboxview of the application.
in state and thecustomer sinboxcontains adeclinedand aconfirmednotifi cation.
however in the custom configurationc3 hyperlinks which determined the message type were not considered forstate abstraction.
.
study oxid eshoptarget process.the objective of the second case studywas to infer a behavior model for theoxidordering processinvolving acustomerand aretailer.
the customer interactsvia the shop front end whereas the retailer operates via aseparate back end interface .thecustomeradds a product to the shopping cart byselecting an article in theproductview and clicking theto cartbutton.
.thecustomerselects a payment method in theshoppingcartand clicks thecontinue to next stepbutton.
.thecustomerorders the product by clicking theordernowbutton in theshopping cartview.
.theretailersets the status of the order toshippedbyclicking theship nowbutton in theordersview.between step and thecustomermay submit a couponby entering a valid code and clicking thesubmit couponbutton.
between steps and thecustomermay removearticles by selecting them in theshopping cartview andclicking theremovebutton.
after step theretailermay cancelthe order by clicking a link in theordersviewand confirming the popup this changes the status ofthe order and prevents shipment step .
deletethe order by clicking a link in theordersviewand confirming the popup this deletes the order fromall views in the system disabling all events related tothat order.
generate aninvoiceby clicking thecreate pdfbuttonin theordersview.10however theship nowbutton is not deactivated.428figure theprocrawlbehavior model of the ordering process in oxid eshop del.
delete pau.
cancel .after step theretailermay reset the order status by clickingthereset shipping datebutton in theordersview.setup.we conducted two runs c1 defaultstate ab straction.
c2 customstate abstraction considering buttonsand links with specificcssclasses.
for both runs we con figuredprocrawlwith twoactorsrepresenting a customerand a retailer provided login credentials and a start scriptadding a product to theshopping cart.
themining scopewas set by providinguiscripts to access theshopping cartandorder historyof the front end as well as theordersviewof the back end.
since deleting an order via the back endresets the process procrawldid not require a command forresetting the application database.findings.with the default configurationprocrawlin ferred thefsadepicted in figure .
reducing the numberofhtmlelements considered for state abstraction inc2 reduced the runtime from to minutes as well as thenumber of triggered compound events from to .
thefsainferred withc1consists of states and transitions.thefsainferred withc2is equal but does not contain thedashed transition from state to state which represents alink with the same e ect as thecontinue to next stepbutton.for each distinct event in the model procrawlgenerated auiscript i.e.
inc1and inc2.in thefsainferred withc1 all transitions except for thedashed one represent relevant events resulting in aprecisionof .
.
withc2 all of the transitions are relevant.
inboth configurations procrawldid not include thesubmitcoupon as well as thecreate pdfevent.
although bothevents were triggered during the crawling procedure theydid not change any elements considered for state abstraction both models cover out of relevant events out of 10distinct events resulting in arecallof .
.
with true negatives inc1and inc2 theaccuracyis .
and .
respectively.
.
study openconftarget process.objective of the third case study was toinfer a behavior model for theopenconfpeer review processinvolving anauthor areviewerand a conferencechair .theauthormakes a submission by filling out the sub mission form and clicking themake submissionbutton.
.thechairassigns reviewers for the submission by navi gating to theauto assign reviewersview and clickingthemake assignmentsbutton.
.thereviewersubmits a review by filling out the reviewform and clicking thesubmit reviewbutton.
.thechairchanges the status of the submission pending accepted rejected by clicking the corresponding buttonin thesubmission scoresview.
note that the chair doesnot have to wait for the reviews.after step the author may withdraw the submission atany time by providing the submission id and the passwordfrom the submission form clicking thewithdraw submissionbutton and confirming the pop up dialog.setup.we conducted two runs c1 defaultstate ab straction.
c2 customstate abstraction considering buttonsof typesubmitand links with specific attributes.
for bothruns we configured three actors achair areviewerandanauthor provided login credentials where necessary and astart script for making the submission.
themining scopewasdefined by providinguiscripts to access the views mentionedin the scenario description.
furthermore we provided a batchfile for resetting the application database.findings.procrawlinferred thefsadepicted in fig ure with both configurations generating 7uiscripts.
re ducing the number ofhtmlelements considered for stateabstraction inc2 reduced the runtime from to minutes as well as the number of triggered compound events from 279to .
thefsaconsists of states and transitions asdescribed in section .
from the transitions representgoevents having the same e ect asacceptand thereforebeing irrelevant for the model resulting in aprecisionof .
.
however procrawlwas not able to successfullytrigger thewithdraw submissionevent11 which can be trig gered in each of the states after making the submission resulting in arecallof .
.
with truenegatives inc1and inc2 theaccuracyis .95and .
respectively.
.
summary and discussionprocrawlhighly automatically inferred behavior modelswith highprecision .
recall .
andaccuracy .
.
the default state abstraction ofprocrawl con sidering buttons and links was e ective for all three casestudies.
however adapting the state abstraction to the tar get application reduced the number of triggered events andconsequently the runtime ofprocrawlby on average.the runtime was below .5h for all case studies passing the overnight challenge of completing within hours bycustomizing the state abstractionprocrawlfinished within11to trigger the event procrawlwould need to provide thesubmission id displayed after submitting the paper as well as thepassword provided in the submission form.429table usingprocrawlbehavior models for detecting disruptive process changes a anduichanges b .testavg.
testfailurefailuresubjectmodelsutcasescase lengthtype atype bruntime1.
.
minsapapp1.
.
.
min4.
.
.
.
minoxideshop4.
.
.
.
min36 minutes even meeting the lunch challenge .
a majorpart of the overall runtime depends on the responsiveness ofthesut over the runs .
.
of the time has beenspent waiting for the web browser to load the application.
.
test case generationthe state automata inferred byprocrawlserve asgoldstandard oracles checking whether behavior observed ona trusted system can be reproduced on another version ofthat system.
failing test cases can be caused by disruptive changes in the process implementation i.e.process steps have been removed or mandatory stepshave been added.
type a changes on theui resulting in obsoleteuiscripts.uichanges appear frequently especially in an early stageof development.
therefore the manual e ort to fix thetest cases should be minimal.
type b setup.nodes and edges in the models are annotatedwithpropertiesused for testing such as theurlto thesut and