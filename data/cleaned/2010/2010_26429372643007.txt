automated requirements analysis for a molecular watchdog timer samuel j. ellis eric r. henderson titus h. klinge james i. lathrop jack h. lutz robyn r. lutz divita mathur and andrew s. miner iowa state university ames ia u.s.a. sjellis telomere tklinge jil lutz rlutz divita asminer iastate.edu abstract dynamic systems in dna nanotechnology are often programmed using a chemical reaction network crn model as an intermediate level of abstraction.
in this paper we design and analyze a crn model of a watchdog timer a device commonly used to monitor the health of a safety critical system.
our process uses incremental design practices with goal oriented requirements engineering software veri cation tools and custom software to help automate the software engineering process.
the watchdog timer is comprised of three components an absence detector a threshold lter and a signal ampli er.
these components are separately designed and veri ed and only then composed to create the molecular watchdog timer.
during the requirements design iterations simulation model checking and analysis are used to verify the system.
using this methodology several incomplete requirements and design aws were found and the nal veri ed model helped determine speci c parameters for biological experiments.
keywords probabilistic model checking requirements engineering molecular programming chemical reaction networks .
introduction molecular programming also called dna nanotechnology uses the information processing capabilities of dna to engineer the self assembly of nanoscale structures and devices.
born in the pioneering research of seeman in the 1980s molecular programming is now a large multifaceted eld in which teams of investigators from computer science chemistry molecular biology mathematics physics and various engineering disciplines collaborate to design ever more elaborate nanosystems.
many envisioned dna molecular programming applications will be safety critical.
examples include nanoscale bio sensors to detect the presence of disease markers in the human body and of dangerous pollutants in permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september vasteras sweden.
copyright acm ... .
.
or water and nanoscale drug therapy capsules that release their contents only when they encounter and bind to an associated tumor cell .
one such advance is a barrelshaped dna nanorobot programmed to autonomously navigate to a tissue sample unlock its cargo compartment when it encounters the proper antigen key and dispense appropriate antibody fragments .
other applications to medicine computer electronics and biological instrumentation are anticipated and many of these applications will be safety critical.
this paper concerns the reliable molecular programming programming in the literal sense of computer science of nanosystems that are dynamic and nonstructural.
by dynamic we mean that the objective is not the self assembly of static structures but rather the self assembly of devices that carry out desired processes at molecular scales.
by nonstructural we mean that the devices are not internally connected structures but are rather di use collections of molecules that carry out their tasks in well mixed solutions.
to make these distinctions concrete by example we do not in this paper consider the use of dna tiles or dna origami to create static not dynamic two and three dimensional nanostructures and we do not consider the creation of dynamic but structural molecular robots that walk on dna origami tracks or deliver molecular payloads .
we instead focus our attention on nanosystems that like recently engineered logic circuits and many natural biological circuits operate amorphously and probabilistically according to the laws of chemical kinetics.
a dynamic nonstructural molecular process in which the presence or absence of very small numbers of certain types of molecules e.g a single copy of a viral genome in a living cell may be signi cant is mathematically modeled by a stochastic chemical reaction network or brie y a crn .
all crns in this paper are stochastic so we omit stochastic from the terminology.
the crn model which goes back at least to has three desirable features.
first it is mathematically simple.
a crn is a nite collection of reactions each of which has a simple form such as a ck !b d where the lettersa b etc.
represent abstract molecules that hide all other properties of the molecular species that they represent.
such a reaction says that a molecule of aand a molecule of cmay collide and be consumed to produce a molecule of band a molecule of d where the rate at which the reaction occurs is determined by the positive real numberk the rate constant of the reaction.
a state of a crn is a vector specifying the number of each species present and the dynamics of the crn proceed as a continuous time markov process with rates derived from the rate constants .
see appendix a for more details a second feature of crns discovered only recently is that they are very general.
every algorithm can in at least one sense be simulated by a crn .
a third desirable feature of crns also discovered recently is that they can be implemented in a uniform way using dna strand displacement reactions .
this is fortuitous because dynamic systems in dna nanotechnology including dna walkers and logic circuits are typically implemented using dna strand displacement reactions .
the details of strand displacement reactions are not crucial for this paper but it is relevant to note that they are relatively easy to implement in the laboratory and that they are easy to specify.
in fact there is a programming language dsd in which a large expressive class of such reactions can be speci ed and compiled into explicit dna sequences .
moreover crns have recently been used as a higher level programming language that can be compiled into dsd .
monitoring a dynamic nonstructural molecular process for the occurrence of an event is relatively easy because matters can be arranged so that molecules that are indicative of the event react in chance encounters with molecules of the monitoring process thereby triggering a desired response to the event.
in sharp contrast monitoring such a molecular process for the nonoccurrence of an event involves timing issues that can be very hard to resolve .
this is why the above mentioned logic circuits and many others use a dual rail scheme in which the presence of a signal is represented by the presence of one species and the absence of this signal is represented by the presence of another species.
such dual rail schemes are useful and convenient for the ordinary operation of a process but they cannot be relied upon to monitor the process for failures.
awatchdog timer is a device often used to monitor a safety critical system and to issue an alarm if the system fails.
in simple but typical instances the watchdog timer monitors the system for expected periodic heartbeats that indicate the system s well being.
if a heartbeat does not occur for too long the system has failed and the watchdog timer detects this and trips an alarm i.e.
it barks .
in this paper we engineer a molecular watchdog timer which is a chemical reaction network that monitors an external system for a regular heartbeat indicated by the periodic introduction of h molecules into the ambient solution and trips an alarm if a heartbeat does not occur for too long a time.
since the absence of a heartbeat is indicative of a system failure it is notreasonable to assume that the system is representing its heartbeats in dual rail form.
if the systems fails to produce a heartbeat it is also apt to fail to produce an indicator of the absence of the heartbeat.
hence our molecular watchdog timer must despite the above mentioned di culties monitor for the prolonged absence of a heartbeat and respond accordingly.
the design of our molecular watchdog timer entailed a rigorous process of specifying the high level reliability requirements including very low probabilities of both false positives and false negatives re ning these high level requirements into a detailed requirements model proving theimplications implicit in the requirements model designing the molecular watchdog timer to achieve the low level requirements and model checking that it does so.
in addition the design of our molecular watchdog timer is modular with each low level requirement satis ed by one of the three components absence detector threshold lter and signal amplier and the overall process was iterative and incremental with both the requirements model and the design repeatedly revised in response to defects discovered by the process.
moreover our entire process was adapted to the novel computing in soup environment of dynamic nonstructural dna nanotechnology.
the nal product a fully veri ed crn level design for a reliable molecular watchdog timer together with the process that achieved it demonstrates the crucial role that rigorous software engineering processes and automated software engineering tools will play in the coming age of nanotechnology.
.
goal modeling the requirements for the molecular watchdog timer mwt were identi ed re ned and validated incrementally using a goal oriented requirements engineering approach kaos in concert with automated formal analysis tools .
the goal based requirements engineering framework that we used produces as its initial artifact an and or goal graph in which the top level node describes the high level functional requirement for the system to be built.
.
goal graph refinement figure shows an initial goal graph for the mwt with the top level goal of achieve .
this goal describes the prescriptive intent that if and only if the monitored application does not provide the appropriate signal within a speci ed time then the system shall issue an alarm .
the top level goal is and re ned into two subgoals since it can be satis ed if and only if both of the two second level goals are met.
these subgoals are subsequently re ned until each subgoal can be assigned to an agent.
an agent is a system component with responsibility for satisfying the goal s assigned to it .
the goal graph was re ned incrementally both from the top down and from the bottom up as our understanding of what was needed grew.
as described in the next section automated analysis tools especially matlab s simbiology package and the probabilistic model checker prism played essential roles in evaluating the realizability of the goals for the mwt given the dynamic non deterministic crn environment.
there are four environmental assumptions that must hold for satisfaction of the subgoals to mean that the parent goal is satis ed.
these environmental properties are the environment controls when heartbeats are present a heartbeat is a dose of molecules of species h and the size of the heartbeat dose must be within a certain range no molecules in the environment other than the heartbeats interact with our system and the solution is well mixed.
in other words the mwt molecules do not react with other molecules in the environment.
the correct formalization of the rst and third of these properties emerged from the process of proving that satisfaction of the subgoals implies the satisfaction of the top level goal.
the allowable range of the size of the heartbeat dose in the second property depends on the values assigned to several other parameters such as 768alarm iff no heartbeat is provided within t timeachieve achieveachieve achieve a void maintain alarmtripped iff no heartbeat detected in t timealarm iff alarmtripped and within t t time of the first alarmtripped alarm if not alarmtrippedalarm if alarmtripped alarm if the alarm has been issuedachieve alarmtripped iff no heartbeat provided in t time achieve alarmtripped iff threshold metcorrect delayachieve correct timer resetachieve achieve threshold if hdet is absentthreshold delay if resetachieve achieve reset if hdet initialize to resetachieve a void alarmtripped until first thresholdalarmtripped if reseta void achieve alarmtripped if threshold for some timeachieve achievehdet correctly tracks the presence of heartbeats within t t time hdet when heartbeat is presenthdet when heartbeat is not presenta voidfigure goal graph re nement.
the number of each species of molecule in the model and was investigated and con rmed using model checking.
another early environmental assumption that at initialization there is no heartbeat in the system was later removed as the mwt design evolved to become more robust.
the current goal graph and design handle both the presence and the absence of the heartbeat as the mwt begins execution.
.
tool assisted obstacle analysis to analyze the risks of not being able to achieve the intended system we used obstacle analysis .
this technique challenges the goal graph by identifying candidate obstacles to the satisfaction of the goals assessing the likelihood and criticality of those obstacles and controlling or resolving them e.g.
by adding or modifying goals.
we found in previous work on a product family of dna nanopliers that the use of a goal oriented requirements engineering approach with a focus on early analysis of the risks to satisfying the goals worked well in helping nd and remedy missing and unrealistic requirements .
with the obstacle analysis we sought to determine whether the goals are robust and realizable in a crn.
in fact we will see below that the automated formal analysis performed to assess the likelihood and impact of candidate obstacles showed that our initial requirements for the mwt were both inaccurate and incomplete.
the next section gives examples of how simbiology and prism helped identify goals that were missing and goals that were not realizable by the agents to which they were initially assigned.
the gaps in the requirements arose largely from the nondeterministic nature of crn reactions from the very large number of molecular agents operating in parallel and from the uncertainties of the probabilistic environment in which the mwt operates.
other related solutions to specifying goals in uncertain environments formalize the required de gree of goal satisfaction as in or the required probability of goal satisfaction as in .
the mwt di ers in that all possible failures inevitably will occur in some proportion of the individual agents but the system must be robust enough to keep the occurrence of failures acceptably low and to operate correctly with probability approaching even in the presence of some component faults.
the watchdog timer that we design must be one of which we can say with con dence that if the application it is monitoring fails that the mwt will detect and notify us and that if the mwt noti es us that the application has failed that we can trust it.
.
formal specification of goals in csl the goals in the goal graph are formally speci ed in continuous stochastic logic csl .
csl is expressive enough to reason about the continuous time markov chains ctmcs that form the semantics of our chemical reaction networks.
as an example the goal achieve is speci ed in csl as p hdet p wronreset wherereset is a boolean that is true when the absence detector s timer is reset and hdetis a boolean that is true when the absence detector has detected that a heartbeat is present.
in other words the goal is satis ed if every time a heartbeat is detected then with probability 1the timer will reset within wrontime.
the formal speci cation and proofs were developed incrementally as the goal graph was re ned and corrected.
we have proven that satisfaction of the conjunctive subgoals satis es the csl speci cation of the top level goal in the goal diagram.
the complete csl speci cations for the goal graph appear in appendix b. .
setting the goal parameters constructing a model satisfying all the constraints on the parameters provided in the goal diagram would have been prohibitively time consuming without the aid of automation.
we developed custom matlab scripts that both generated models of arbitrary paramters and allowed smooth integration with the model checkers prism and smart .
these scripts along with some features provided by prism automated the exploration of the parameter space to discover models that provably satisfy our requirements.
.
design of the molecular watchdog timer our molecular watchdog timer consists of three separate components which are the agents to which leaf goals are assigned.
these three components the absence detector the threshold lter and the signal ampli er are mathematically modeled by stochastic chemical reaction networks crns .
crns serve as a high level programming language to specify the behavior for a computational subsystem implemented in dna.
for example the absence detector component is assigned responsibility for the goal achieve reset if hdet .
.
the absence detector this component detects when a heartbeat signal has not been present for a speci ed period of time.
the heartbeat is a dose of a speci c molecular species h that is expected to be periodically output by the molecular application that is being monitored by the mwt.
if the heartbeat is not detected by the mwt for an extended period of time we can conclude that the molecular application being monitored has failed.
the absence detectors are assigned responsibility for achieving the leaf goals avoid hdet when heartbeat is not present achieve achieve achieve achieve and achieve threshold if hdet is absent .
the crn model for the absence indicator component is li u!li u lk u!y u li h!l1 y h!l1 the crn speci es a cascade or ladder such that at any rung li binding of the rung molecule with a u causes the cascade to climb a rung to li and binding with a heartbeat molecule h knocks the cascade back down to the bottom rung.
in the absence of binding of the rung with a heartbeat the ladder climbs to the next rung.
this is an implementation of the frog in the well markov process .
upon reaching the top rung the ladder releases a y molecule into solution.
the y molecule can then reach and bind to the threshold lter unless it rst encounters a heartbeat molecule.
in the latter case the ladder is returned to the bottom rung.
.
the threshold filter this component detects when a target number of absence detectors have each reached the y state releasing a signal that is received by the threshold lter.
if and only if enoughabsence detectors are in a y state will the threshold lter trip an alarm.
the threshold lters are assigned to the leaf goals avoid achieve alarmtripped if threshold for some time and avoid alarmtripped until rst threshold .
the crn for the threshold lter component is ti y!ti y tk y!tk y d ti r!t1 r the threshold lter crn creates a cascade similar to that of the absence detector.
binding of a ti molecule with a y molecule causes the cascade to climb a rung to ti and binding with a r molecule causes the cascade to fall to the bottom rung.
unlike the absence detectors all reactions involved with the threshold lters are catalytic meaning that they do not consume any molecules.
when a threshold lter is at its top rung reacting with y molecules releases d molecules which are consumed by the signal ampli ers to release alarms.
.
the signal amplifier this component takes a tripped alarm and increases it to make it more noticeable by another external system.
the signal ampli er cannot create an alarm by itself it requires the threshold lters to trip the alarm.
the signal ampli ers are assigned to the leaf goals avoid achieve and maintain alarm if the alarm has been issued .
the crn for the signal ampli er component is d ca!al ca al da!2al the signal ampli er crn consumes d molecules to produce al molecules representing an alarm.
al molecules then interact with da molecules to produce more al molecules.
da is initialized to a nite number to place an upper bound on the number of al molecules allowed in the model.
without a bound the model contains an in nite number of possible states.
.
verification of the molecular watchdog timer many of the intended uses of the mwt system are in situations where the absence of a heartbeat indicates an unsafe state.
in such applications it is critical that the mwt be robust reliable and correct.
these requirements for the mwt drove the software process towards veri cation of the crn mwt model.
ensuring that it is highly probable that the mwt will issue an alarm when it should and not alarm when it should not is complicated by the concurrency and large number of individual devices that comprise the mwt system the exceedingly dynamic dna environment the fault proneness of the individual devices and the very small size of each mwt.
due to the small size and individual signal strength any signal must be ampli ed to be externally observable further complicating debugging and analysis.
consistent with the assignment of responsibilities for satisfaction of the leaf subgoals in the goal diagram to the three heartbeats absent heartbeat detectedalarm time seconds concentration normalized figure mwt ode simulation using matlab s simbiology package agents the absence detector the threshold lter and the signal ampli er the system model describes the three agents in the crn language.
the properties to be checked against the crn model are the csl properties that are the formal speci cation of the goals and subgoals.
to build con dence in the correctness and robustness of the planned system we followed an incremental development process of simulation of the system model for sanity checks see figure and selection of likely parameter value ranges followed by model checking of the goal diagram leaf node properties for which the agents were responsible.
since we had previously proven that the high level goals were implied by the lower level goals we did not need to verify the higherlevel goals.
we also injected faults that had been previously discovered by analytical reasoning to con rm that the model checking found them.
we describe below some speci c examples of how incorporating model driven automated analysis into the development process helped identify missing requirements explore design alternatives and make the mwt more robust.
clock agent cannot achieve assigned goal our rst implementation of absence detection for the mwt used a binary counting device introduced in .
this design seemed promising but testing and simulation in matlab s simbiology package revealed that this device fails to meet our speci cations.
the problem with this binary counting design for absence detection is that it was designed to work in a setting in which it is assumed that all reactions are fast or slow and that all fast reactions occur before all slow reactions.
the stochastic and more realistic model in which we work here violates this assumption allowing slow reactions to interfere with the clock s function.
over time the accumulation of such violations inexorably leads to failure of the clock.
to resolve this obstacle we investigated an alternative renement in which the delay is achieved by a programmed cascade of interactions.
in this case the goal remained unchanged and we simply changed the agent used to satisfy the goal.missing domain property in re ning a goal into two subgoals we had to introduce the domain property that it takes an expected amount of time after a heartbeat arrives to detect its arrival.
this is because the detection occurs via the chemical binding of the heartbeat molecules to the absence detectors.
the subgoals did not satisfy the goal without this domain property.
this stochastic reality was handled by introducing a grace period before the heartbeat detection is required.
however we initially failed to propagate the addition of the grace period back up to the parent goal.
model checking with prism was able to detect this omission and it was corrected in the subsequent version.
missing initialization case model checking revealed a failure mode that can occur just after the mwt begins execution.
the initial intent was that execution of the mwt begin at time zero i.e.
when the mwt was poured into the test tube .
however as speci ed the mwt could violate this intent by alarming before the external application had a chance to input a heartbeat.
to resolve this we added a new csl property to the high level goal specifying that alarm must be o for a period of time after initialization.
this new goal trickled down through the goal diagram until it created the new leaf goal achieve which speci es that the timer must be considered in a reset stage at initialization.
along with the leaf goal achieve threshold delay if reset this implies that the alarm will not be active upon initialization.
we proved manually that the implication holds after the change and used model checking to con rm that it was possible for this failure mode to occur before the change.
this was con rmed using model checking by verifying that a model with an alarm in the initial state satis es the goals.
goal too strict automated veri cation of the goals assigned to the threshold lter revealed that they were insu cient to prove the correctness of their parent.
the obstacle derived from the fact the threshold lter was required to prevent the alarm from tripping if the threshold number of absence detectors was not reaching the y state.
however an insu cient threshold could be arbitrarily close to 771ctttcctacaccctacg gaaaggatgtgggatgc agagctttcctacaccctacg tctc cy3cy5 ctttcctacaccctacgcy5 gaaaggatgtgggatgc agag cy3ctttcctacaccctacg tctca a a a a a t tt t figure dna strands used in the simple dna experiment a su cient threshold.
therefore the threshold lter could not both satisfy the requirement to prevent the alarm from tripping during an insu cient threshold and trip the alarm during a su cient threshold.
the obstacle was resolved by tightening the constraint on the absence detector to not only enforce that the theshold was not high but also to enforce that it was low.
this enabled the threshold lter to satisfy both requirements and satisfy the parent goal.
we veri ed in prism that our mwt satis es the the new csl speci cations.
goals coupled too tightly prism veri cation revealed an error in the speci cation of a leaf goal assigned to the absence detector that was responsible for maintaining a high threshold in the absence of a heartbeat.
this goal enforced that the threshold be maintained until a heartbeat is detected.
however in the implementation of the absence detector the mechanism for detecting the heartbeat was too tightly coupled to the thresholding process.
therefore the threshold would not be maintained until a heartbeat was detected.
the obstacle was resolved by relaxing the csl property allowing the absence detector to turn the threshold o once a state is reached which has a high probability of detecting a heartbeat within a speci ed time.
prism veri cation conrmed that the change to the property corrected the error.
.
tool assisted design of preliminary experiment in this section we show how the nal veri ed model helped determine speci c parameters and molecules for initial laboratory experiments.
speci cally we used the smart model to determine what length of dna toeholds to use in the implementation.
here a toehold is a short length of unpaired nucleotides at the end of a dna strand.
since the toehold length changes the rate and therefore expected time of a reaction we wanted to specify a toehold length that allowed enough time for su cient observation of the experiment but was short enough to minimize the overall length of the experiment.
simply put we wanted the experiment to run for the shortest length of time where we could still perform enough observations.
we also used smart to generate an expected time until a threshold percentage of reactions completed which gave insight into how long the experiment should be run.
this tool supported automatic analysis of the design for the experiment saved laboratory time and cost.
the work described in this section was a simple preliminary experiment designed to check that we could achieve observable climbing of a single ladder rung.
this experiment is in no way novel but the experimental setup was new to us which motivated the e ort.
what is interesting in the context of this paper is that even with this very simpleexperiment the model checking proved useful in correcting two inadvertent errors in our original design.
we de ned a single dynamic strand displacement reaction as a crn ab c !ac b. brie y two single stranded dna strands aandbare initially bound together forming species ab.
strandcattaches to a toehold on aand displaces strand b leavingaandcbound together forming species ac with strand bnow unbound.
we created a model of this single reaction in prism and in smart both model checkers were used to increase con dence in the accuracy of our models.
we de ned the dna strands needed to implement the reaction in an experiment but before ordering the strands from the commercial provider we used the models to gain information about the experiment.
the automated analysis provided two unique bene ts.
first the automated analysis of design alternatives helped answer the question of what the dna strands toehold length should be for the reaction behavior to be slow enough that it would be observable with the equipment we were using described below .
analysis with the smart model checker showed that we needed to decrease the planned length of the dna toeholds in order for the experiment to be observable.
the 6nucleotide nt dna toeholds that we had initially planned to use would cause the experiment to complete too rapidly for samples to be taken during its progression.
the prism and smart models return the same values and agree with the ode solution .
using these results we chose a toehold length of nt to implement the reaction.
second the automated analysis of design alternatives helped answer the question of what the time to imaging should be for good observability.
we were unsure when the reactions would complete and based on our reading of the literature expected to run the experiment for a few hours.
automated analysis showed that with a toehold of length four the reaction takes approximately seconds to reach completion according to the smart model giving enough time to take multiple observations of the reaction while being short enough that there is little downtime.
based on the modeling results nt toehold strands were ordered and worked well in the experiments.
sampling intervals for the experiment also were chosen based on the information from the model.
figure shows the dna strands used in the experiment.
here strand is a domain aand a toehold t strand is the complementary domain of a and strand is the complementary domains of aandt.
cy3 and cy5 are uorophores that absorb and emit light at wavelengths of nm and nm respectively.
importantly there is su cient overlap in the emission spectrum of cy3 and the absorbance spectrum of cy5 that proximity dependent uorescence resonance energy transfer fret can occur between the two uorophores.
thus if the two dyes are separated by less than about nm irradiation of cy3 with nm light will 772figure results of simple initial experiment.
result in emission of photons from cy5 nm .
a fret signal between cy3 and cy5 is therefore a very useful measure of the proximity of dna strands to which the dyes are chemically coupled.
a change in fret signal was used to determine the rate of displacement of one strand by another in the experiments.
initial results see figure indicate that the reaction progressed as intended.
however we are not yet certain that the results match our model.
the uorophores attached to the dna strands su er from photo bleaching when they are exposed to light multiple times they start to give o less light.
to avoid photo bleaching we created a new sample for each observation and waited the speci ed amount of time before exposing the sample to light.
this eliminates the photo bleaching but also introduces the possibility of error due to the multiple samples.
compared to the initial longer expected time to equilibrium the model checking indicated that we only needed to run the experiment for a few minutes.
the time estimates are based on the length of the toeholds.
through modeling we were able to determine before experimentation began what was likely to be an appropriate length to enable observability.
it is telling that even with an experiment as simple as this early model checking reduced the overall development e ort.
we reduced the need to do trial and error experiments in the laboratory to nd the right toehold length.
this lowered the development cost by saving laboratory time and by reducing the number of di erent dna strands that had to be ordered.
.
related work probabilistic model checking permits the analysis and formal veri cation of systems that exhibit stochastic behavior.
nanosystems such as the molecular watchdog timer are inherently stochastic.
probabilistic model checkers allow the veri cation of the correctness of the modeled behavior at either the individual device level or at the higher level of the behavior of the assemblage population of devices.
in our work on the mwt we have used the open source probabilistic model checkers prism and smart to analyze the behavioral and performance requirements for the mwt.
prism has been used previously to model a variety of biological case studies including dna circuits and dna nanorobotic walkers .
prism also is used widely to model probabilistic protocols e.g.
in distributed sensor networks and stochastic multi player games .
prism interfaces with visual dsd a design tool for dna strand displacement .
smart has been used to model other types of stochastic systems e.g.
in a nasa funded study to evaluate an airport runway safety monitor protocol for false alarms .
stochastic petri net formalisms have also been used to model signal transduction in biological pathways .
a good overview of the formalisms used in population models including the stochastic petri nets used in smart appears in .
model checking in support of the preliminary experimental work reported here was performed using smart.
to the best of our knowledge this was the rst time that smart was used in molecular programming .
the rest of the model checking reported in this paper was done using prism in order to take advantage of its csl support.
773our work di ers from most of the previous work in probabilistic model checking by focusing more on the identi cation speci cation and analysis of requirements.
an exception is work by filieri ghezzi and tamburrelli to use probabilistic model checking to verify reliability requirements .
non probabilistic model checkers also have been used for goal oriented obstacle analysis during the requirements phase.
for example alrajeh et al.
have recently used model checking and machine learning to automatically generate obstacles for the safety critical london ambulance service from model checking counterexamples .
our work also di ers from previous computational approaches on molecular systems in that we formally specify and validate the requirements.
goal oriented requirements engineering including kaos and tropos repeatedly has shown bene ts in eliciting specifying and validating requirements for a wide variety of safety critical secure and high availability systems.
however despite the di culty of getting the requirements right for a new molecular device the requirements engineering of molecular programming is rarely considered as a separate activity from design.
more broadly there has been signi cant recent progress in modeling biological or chemical systems.
yordanov et al.
have formalized and encoded dna computing to allow use of satis ability modulo theories smt .
fisher harel and henzinger have done computational modeling of biological systems as reactive systems .
hetherington et al.
and sumner et al.
have composed an advanced computational model of a biological system from sub models describing its di erent aspects .
our experience developing the molecular watchdog timer is consistent with the twin peaks idea described by nuseibeh that requirements and architecture should coevolve.
we used the probabilistic model checker extensively and incrementally to check the alignment of goals with design alternatives.
the obstacle analysis gave us a framework for selecting among alternative designs .
it was hard to correctly specify the requirements and the automated analysis of the formal models revealed multiple instances of infeasible goals or inadequate agent assignments given the realities of the stochastic environment in which the dna device operates.
often the physical constraints drove our revision de idealization of the requirements.
whalen et al.
report similar experience with large avionic systems in which the requirements were as likely to be wrong as the models .
they found as we did that the analysis of formal models was e ective in uncovering inconsistencies between the requirements and implicit assumptions about the environment in which the system was to be deployed.
.
discussion the tool supported incremental requirements design process described here was developed to be general enough to be applicable to other molecular programmed systems.
the intent is for this to support the development of other new nanosystems by formally specifying an intended system and applying automated tool support to identify unforeseen risks to its achievement early on.
early computational resolution of missing and unrealizable goals saves time and cost by reducing the number of experiments needed.
the process also appears to be applicable beyond molecular programmed systems to other systems in which the system goal is achieved by the interactive behavior of a very large number of dis tributed autonomous agents that execute in a probabilistic environment and must be shown to satisfy key properties.
examples of such systems include distributed adaptive sensor networks and coalitions of systems that display probabilistic nondeterministic behavior .
the framework we used is incremental in that the obstacle analysis including of the feasibility of the requirements given the agents operating in the probabilistic environment forces consideration of the physical here chemical limitations and the associated design constraints.
the approach provides a growing understanding of the feasibility or infeasibility of the design alternatives and this drives the re nement of the requirements to match reality.
.
conclusion the work reported here shows how programmed molecular systems can bene t from automated requirements analysis and veri cation.
during incremental goal oriented requirements design re nements the use of model based simulation probabilistic model checking and formal analysis identi ed requirements aws and latent design constraints and helped us explore better alternatives.
the nal veried model of the molecular watchdog timer was then used to help select parameter values for initial laboratory experiments.
the veri ed model provides a baseline for a future family of molecular watchdog timers whose robustness must be assured in their envisioned uses.
.