taming uncertainty in self adaptive software naeem esfahani department of computer science george mason university nesfaha2 gmu.edu ehsan kouroshfar department of computer science george mason university ekourosh gmu.edu sam malek department of computer science george mason university smalek gmu.edu abstract self adaptation endows a software system with the ability to satisfy certain objectives by automatically modifying its behavior.
while many promising approaches for the construction of selfadaptive software systems have b een developed the majority of them ignore the uncertainty underlying the adaptation decisions.
this has been one of the key obstacles to wide spread adoption of self adaption techniques in risk ave rse real world settings.
in this paper we describe an approach called possibilistic selfadaptation poised for tackling the challenge posed by uncertainty in making adaptation decisions.
poised builds on possibility theory to assess both the positive and negative consequences of uncertainty.
it makes adaptation decisions that result in the best range of poten tial behavior.
we demonstrate poised s application to the pr oblem of improving a software system s quality of service via runtime reconfiguration of its customizable software compone nts.
we have extensively evaluated poised using a prototype of a r obotic software system.
categories and subject descriptors d. .
design methodologies .
general terms algorithms performance design.
keywords uncertainty self adaptation software architecture .
introduction self adaptation is an effective approach in dealing with the changing dynamics of many applic ation domains such as mobile and pervasive systems.
in response to changes in the environment or requirements a self adaptive so ftware system modifies itself to satisfy certain objectives .
while the benefits of such systems are plenty their development has shown to be more challenging than traditional software systems .
one key culprit is that self adaptation is subject to uncertainty .
we distinguish between the exte rnal and internal uncertainty.
external uncertainty arises from the environment or domain in which the software is deployed.
for example external uncertainty for a software system deployed in an unmanned vehicle may include the likelihood of certain weather conditions occurring.
software self adaptation is one approach in dealing with the effects of external uncertainty e. g. in a snow storm the vehicle s navigator component may be repl aced with a more conservative navigator to avoid a collision.
on the other hand internal uncertainty is rooted in the difficulty of determining the impact of adaptation on the system s qualit y objectives e.g.
determining the impact of replacing a soft ware component on the system s responsiveness battery usage etc.
while both sources of uncertainty are of great concern in this paper we focus our attention on the challenges posed by internal uncertainty .
uncertainty can be observed in every facet of adaptation albeit at varying degrees.
it follows from th e fact that the system s user adaptation logic and business logic are loosely coupled introducing numerous sources of uncertainty .
a key observation is that while the level of uncertainty could vary no self adaptive software system is ever completely free of it.
the research community has made great strides in tackling the complexity of constructing self ada ptive software systems .
however as corroborated by others there is a dearth of applicable techniques for handling uncertainty in this setting.
a few researchers have recently begun to address uncertainty issues in requirements specification and resource prediction but no approach that we are aware of has tackled the challenge posed by uncertainty in making adaptation decisions.
we believe this has been one of the primary obstacles to wide spread adoption of self adaptation in risk averse domains.
this is precisely the challenge we have aimed to address in this paper.
we present a general quantitative approach for tackling the complexity of automatically making adaptation decisions under internal uncertainty called possibilistic self adaptation poised .
estimates of uncertainty in the elements comprising a self adaptation problem are incorporated in possibilistic analysis of the adaptation choices.
possibilistic analysis is founded on the principles of fuzzy mathematic s which provides a sound basis for representing uncertainty as well as dealing with its negative and positive consequences on the adaptation choices.
poised redefines the conven tional definition of optimal adaptation decision to one that has the best range of behavior.
in turn the selected solution has th e highest likelihood of satisfying the system s quality objectives even if due to uncertainty properties expected of the system are not borne out in practice.
we demonstrate poised by appl ying it to the problem of improving a software system s qua lity of service via runtime reconfiguration of its customiz able software components.
we have evaluated poised under num erous circumstances and using a prototype of a robotic software system.
the results demonstrate poised s ability to d eal with uncertainty by making adaptation decisions that are superior to th ose of the conventional approach.
this paper is organized as fo llows.
section motivates the research.
section provides an overview of poised.
section formalizes the self adaptation problem used to describe and permission to make digital or hard copi es of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
esec fse september szeged hungary.
copyright acm ... .
.
evaluate poised.
section desc ribes techniques for quantifying uncertainty.
section presents our possibilistic analysis approach followed by detailed evaluation in section .
the paper concludes with a discussion of the related literature and future research.
.
motivating example we use a subset of a robotic soft ware system developed in another project to motivate and describe this research.
the robotic software is part of a distributed search and rescue system aimed at supporting the government agencies in dealing with emergency crises e.g.
fire hurricane .
figu re 1b provides an abridged view of the robotic system s archit ecture.
the software components comprising the robotic system ra nge from abstractions of the physical entities such as software controlled sensors and actuators on board the robot to purely logical functionalities such as image detection and navigation.
the bold path in figure 1b indicates the maneuver execution scenario which aims to safely steer the robot.
the camera feed is sent to obstacle detector which runs an image processing algorithm to identify obstacles.
obstacle information is used by navigator to plan the direction and speed of movement which are then put into effect by the controller .
the software components comprising this system are customizable meaning that they can be configured to operate in different modes of operation.
figure 1a shows some of the available configuration di mensions.
for instance power is a configuration dimension for the controller component.
a controller could operate in either energy saving or full power mode.
a component may have many configuration dimensions.
the configuration of a software component determines its quality attributes e.g.
res ponse time and resource usage e.g.
memory which could also impact the properties of the entire system.
for instance given the resource cons trained nature of the mobile robots the configuration decisions of each component have a significant impact on the system s performance as well as its battery life.
such decisions can only be effec tively made at runtime since the system prope rties e.g.
available bandwidth are often not known at design time and may change at runtime.
as shown in figure 1c for making runtime decisions utility functions capturing the user s satisfa ction with different levels of quality attribute e.g.
availability are used.
the adaptation logic uses analytical models to estimate the effect of configuration decision on the system s quality attributes and in turn the resulting utility.
for example given the configuration of the robot s components an analytic al model such as queueing network model may be used to quantify the response time for its maneuver scenario.
the objective is to find a configuration that achieves the maximum overall utility.
the above approach is rather myopi c since it does not consider the uncertainty of information used in making adaptation decisions.
consider that almost every facet of the approach outlined above faces some form of uncertainty uncertainty in system parameters the monitoring data obtained from a running system rarely corresponds to a single value but rather a distributio n of values obtained over the observation period.
for instan ce a sensor monitoring the available network bandwidth may return a slightly different number every time a sample is collected.
this variation could be either due to actual changes in the bandwidth or the error noise in the employed probes.
uncertainty in analytical models analytical models often make simplifying assumptions a nd thus provide only estimates of the system s behavior.
for instance an analytical model quantifying the system s res ponse time may account for the dominant factors such as exec ution time of components and ignore others such as the transmission delay difference between tcp and udp.
response time estimates provisioned by such a formulation are not only error prone but also the magnitude of error varies depending on the circumstances.
uncertainty in user preferences eliciting user s preferences in terms of utility functions such as those depicted in figure 1c is a well known challenge .
often users have difficulty expressing their preferences and thus the overall accuracy of the utility functions remains subjective making the analysis based on them prone to uncertainty.
the uncertainty in these elements challenges the system s ability in making decisions that bring about the intended effects.
.
approach in this section we first provide an intuitive description of our approach.
afterwards we provide a brief background on the applicable mathematical techni ques for realizing our approach and justify our choices.
.
underlying insights figure 2a shows the typical behavior of a self adaptive system that does not incorporate uncertainty in its analysis.
we abstractly refer to this as the traditional approach .
the system is initially executing with utility prior to time .
at time due to either an internal or external change the system s utility drops to .
by time the self adaptation logic detects this drop in utility finds and effects an optimal configuration which is conventionally defined as the one achieving the maximum utility.
as shown in figure 2a this corresponds to which represents the expected utility of the best configuratio n for the system.
in practice however the actual utility of the system may vary between the figure .
a subset of the robotic software a configuration dimensions and alternatives for components of the robot b software architecture where the bold path indicates the components participating in the maneuver execution scenario and c utilit y functions defined in terms of qualit y attributes.
two dashed lines representing the likely positive and negative consequences of uncertainty.
by not accounting for uncertainty the approach is vulnerable to gross overestimation of the utility.
the centerpiece of poised is the reconceptualization of what is traditionally considered as the optimal solution such that the uncertainty is incorporated into the analysis.
we illustrate the insights underlying poised using figure 2b.
similar to the scenario of figure 2a a new configuration is effected at time except poised concurrently follow s three objectives in selecting the new configuration maximizes which represents the most likely utility for the system under uncertainty maximizes the positive consequence of uncertainty which represents the likelihood of the solution being better than and minimizes the negative consequence of uncertainty which represents the likelihood of the solution being worse than .
the details of our approach incl uding how the likelihood of each objective is calculated are desc ribed in sections and .
nevertheless we can make a gene ral observation.
as depicted in figure concurrent satisfaction of the three objectives may result in a smaller value of expected utility i.e.
in poised compared to that of the traditional approach.
but since the information used to estimate the expected utility is uncertain expected utility is not guaranteed to occur in practice.
we argue the true quality of a solution is determined by the range of possible utility.
as depicted he re and evaluated in section poised s objective is to find solutions with a better range.
.
analysis technique the above discussion assumes one could quantify the range of utility under uncertainty.
there are two general techniques to estimating uncertainty probability theory and possibility theory .
probability theory is concerned with the analysis of random phenomena and forms the foundation of statistics.
possibility theory is founded on the concept of fuzzy set .
in a fuzzy set the elements have a degree of membership.
degree of membership is a value between zero and one a value of zero indicates the element is certainly not a member of the set a value of one indicates the element is certainly a member of the set and a value in between indicates the extent of certainty that the element is a member of the set.
in possibility theory the concept of possibility is defined as the degree of membership which plays a similar role as that of probability in statistics.
the most optimistic and most pessimistic values have a degree of membership of zero while the most possible value has a degree of membership of one.
the distinction between the two concepts is that probability theory deals with the statistical characteristic of data while possibility theory focuses on the meaning of data .
for an illustration of this difference see figures and in which the uncertainty in available netw ork bandwidth is modeled using possibility and probability distributions respectively.
the details of how such functions can be obtained are described in section .
possibility distribution models a fuzzy variable while probability distribution models a random variable .
possibility distribution in figure returns the degree of membership while probability distribution in figure returns the probability density .
while uncertainty can be represented using both approaches the ability to make adaptation decisions is significantly impacted by the representation.
the operations research technique for making decisions under probability theory is called stochastic programming .
when all the probability distributions follow normal distribution by applying the central limit theorem the problem can be solved effectively .
central limit theorem allows for the definition of commonly used algebraic operations on the normally distributed vari ables.
however as further demonstrated in this paper unce rtainty in self adaptive software systems rarely follows a normal distribution wh ich severely limits the application of stochastic programming.
an alternative approach that does not suffer from these limitations is possibilistic programming which is founded on possibility theory.
possibilistic programmi ng is widely used for making decisions under uncertainty in many fields of engineering including control theory robotics and artificial intelligence.
advantages of possibilistic programming are twofold generality and efficiency.
unlike stochas tic programming where simple algebraic operations require specia l considerations e.g.
central limit theorem and not even always possible in possibilistic programming fuzzy variables ca n be simply operated on using traditional algebraic operators.
this is true even if the distributions are complex and un ique.
possibilistic programming problems can be solved much more efficiently than stochastic programming problems making them desirable in many practical engineering problems including self adaptive systems.
for these reasons we have adopted possibilistic programming as the technique for achieving poised s objectives.
while the characteristics of our problem made possibility theory a better fit probability theory has shown to be suitable in many areas of software engineering.
thus the conclusions made here are only with respect to poised s objectives.
a more comprehensive analysis of the differences between the two theories can be found in the extensive body of literature .
.
self adaptation problem in this section we provide a formal specification of the selfadaptation problem introduced in section which we use to demonstrate and evaluate pois ed.
however note that the underlying concepts and technique s in poised are generally applicable and not tied to the problem described here.
.
configuration a system like the one depicted in figure 1b consists of several software components wh ich we denote as set .each component may have several configuration dimensions which we denote as set .
configuration dimensions correspond to the knobs depicted in figure 1a.
each configuration dimension may have configuration alternatives .
for example video quality dimension of the camera component in figure is figure .
impact of uncertain ty on the utility of a selfadaptive system traditional p art a versus poised s part b selection of optimal configuration.
comprised of the following alternatives and .
configuration alternativ es within the same dimension are mutually exclusive e.g.
video quality could be exactly in one of the possible alternativ es at any point in time.
we define the configuration space of component as the cartesian product of all the availabl e configuration alternatives for that component where represents a decision variab le with a binary domain and indicates whether an alternative has been selected or not.
a system may have several execution scenarios denoted as list ... where each scenario .a scenario represents a high level functiona l capability involving the services provided by software components.
for example the components bolded in figure 1b form a scen ario dealing with the robot maneuvering a terrain.
same com ponents can potentially form different scenarios thus we represent execution scenarios as a list.
configuration space of each scenario is the cartesian product of the configuration space of all the com ponents that participate in it we use with no subscript to denote the set of all possible configurations of comp onents in a system i.e.
.
configuration constraint not all configurations for a software system are valid.
there may be some constraints among the system s configuration dimensions.
for example one may not be able to configure the robot in a way that cruise speed is set to high and power is set to energy saving .
another class of constraints are among the alternatives in a given configurati on dimension i.e.
the fact that configuration alternatives are mutually exclusive recall section .
.
we represent these constraints as follows 0 1 where given a configuration returns if at least one constraint is vi olated and otherwise.
.
quality attribute we use to denote the set of qua lity attributes which are quantifiable non functional properties of interest e.g.
response time .
a quality attribute may take either discrete or continuous values e.g.
response time may take continuous values bigger than while security may take an enumeration of discrete values.
the quality attributes of an execution scenario are determined by the configuration of components par ticipating in that scenario.
for example the res ponse time of the maneuver scenario depicted in figure 1b is affected by the configuration of its four components.
given a configuration of a s cenario a quality attribute is estimated via an analytical formula model .
these analytical formulas are used by the adaptation logic for making decisions.
we represent an analytical formula estimating the configuration s impact on qua lity attribute of execution scenario as the tilde is the conventional nota tion for representing uncertainty.
description of analytical models for estimating quality attributes is beyond the scope of this pape r. numerous previous studies e.g.
have developed analytical approaches for estimating quality attributes in terms of the system s architectural configuration.
regardless of the approach the analytical models provide only estimates and thus represent a source of uncertainty.
.
resource we use set to denote the different co mputing resources utilized by the software system.
for each resource we use to represent the maximum available resource.
while in some cases the available resour ce is a known constant e.g.
physical memory in others the available resource may fluctuate e.g.
network bandwidth and thus introduce uncertainty.
the configuration of a system determines its resource usage.
for example consider that in the robotics system when the power dimension of the controller component is configured to operate at full power the system s battery consumption increases.
we represent an analytical formul a estimating the configuration s impact on the system s resource as follows numerous previous studies e .g.
have developed resource usage models that can be used in such setting.
while sophisticated models may reduce th e inaccuracy they are not ever completely free of it challenging the confidence with which adaptation decisions are made.
.
user preference similar to the previous research we use utility functions to represent the user s preferences for changes in the quality attributes.
a utility fu nction representing the user s satisfaction with quality attribute of an execution scenario is represented as 0 1 a higher value indicates more user satisfaction with the system.
given a vector we define the overall utility to be the cumulative satisfaction of all the user preferences eq.
where is defined as the projection of from onto and is the identity vector for .
in other words since not every component participates in every execution scenario of interest the above projection removes the unnecessary elements from vector to derive .
the assumption in the formulation of eq.
is that if the user has not specified a preference for a quality attribute of an execution scenario the corresponding utility function returns only zero.
.
optimization problem the objective of the adaptation logic is to find a configuration that maximizes the system s overall utility eq.
the solution maximizing the above objective should satisfy two constraints.
first ensure th at the solution satisfies the configuration constraints eq.
second ensure that the reso urce usage does not exceed the available resources eq.
for simplicity the above formula tion assumes the capacity of all resources is uncertain.
but as you may recall from section .
this may not always be the case.
.
quantifying uncertainty before uncertainty can be dealt with in the analysis it needs to be quantified for a given configuration of the system.
poised s accuracy depends on the ability to identify the sources of uncertainty and estimate the level of uncertainty.
to put it boldly our approach addresses known unknowns not unknown unknowns .
however even if the two conditions are partially satisfied i .e.
only some sources of uncertainty are identified and estimated poised produces better results than the traditional approach by incor porating the known uncertainties.
in this section we first de scribe two ways of estimating uncertainty eliciting it from the stakeholders e.g.
user engineer and observing it in th e system.
these techniques are not intended to be exhaustive or even generally applicable but rather concrete examples to illustrate the feasibility of our work.
we then describe how uncertainty in the individual elements can be combined to quantify the overall uncertainty for the system.
.
eliciting uncertainty from stakeholders stakeholders often provide inputs for different facets of a selfadaptive system.
one of the most crucial and commonly elicited inputs is the user s quality preferen ces.
it is commonl y agreed that eliciting user s preferences in term s of complex utility functions is challenging .
the specification of such utility functions is highly subjective and inevitably prone to uncertainty.
engineers may also provide inputs for certain software properties that cannot be easily monitored.
for instance the maximum memory consumed by a software compone nt is a property that may be available from the component s source code but not easily obtainable through runtime monito ring.
similarly engineers may provide inputs for certain syst ems parameters such as the available network ba ndwidth based on a combination of past experiences hardware specifications similar systems etc.
for the inputs provided by the stake holders it is also reasonable to ask them to estimate the range of uncerta inty based on the expected level of variation in the input.
for illustration figure shows how an engineer may estimate the range of uncertainty in the network bandwidth in the form of a triangular possibility distribution.
possibility distribution can be modeled in different ways e.g.
gaussian triangular but for simplicity we use only triangular di stribution in this paper.
the horizontal axis marks the network ba ndwidth while the vertical axis marks the possibility i.e.
degree of membership .
this distribution indicates that the range of feasible values for network bandwidth is anywhere between the most pessimistic denoted with and the most optimistic denoted with .
in a triangular distribution as we reach the boundaries the possibility of getting the expected value drops to .
the most possible value is which always has the value of .
in the example of figure the engineer sets the most possible value to be the expected networ k bandwidth which may be based on the engineer s past experiences similar systems etc.
the most pessimistic value is set to representing network failure and the most optimistic value to the ideal network bandwidth as advertised by the network provider.
by connecting the most pessimistic and optimistic points w ith the most possible point we arrive at a triangular possibil ity distribution representing the uncertainty in the network bandwi dth.
a similar approach could be used for eliciting and quantifying uncertainty with the other types of stakeholder provided inputs such as utility functions.
.
measuring uncertainty via monitoring a self adaptive software system often relies on monitoring to reason about changes in the execution condition.
dynamically fluctuating system parameters are one type of phenomena in this setting that are monitored.
for instance consider that while capacity of certain resources e.g.
available physical memory may be known prior to system s deployment other resources e.g.
available battery charge may change at runtime and thus would need to be sampled during the system s execution.
on top of the uncertainty created by the fluctuations in the monitored phenomenon monitoring is also impacted by the error in the sensors used for data collection.
such an error is in particular unavoidable with digital sensors th at take samples of a continuous physical phenomenon.
even if the observed phenomenon is constant the collected data may va ry due to noisy sensors.
system parameters may not be the only elements that need to be monitored.
in we showed th at analytical models used for making self adaptation decisions ar e abstractions of the system and by definition make simplifying assumptions which if not held at runtime may make the estimates inaccurate.
the inaccuracy of an analytical model could be determined by comparing its estimates i.e.
against the actual behavior of the system.
this can be achieved either prior to system s deployment by benchmarking the system or through runtime observation.
the uncertainty corresponding to any monitored phenomenon can be estimated as a probability distribution.
for example if the engineer is not able to use th e technique from section .
to manually specify the uncertainty in network bandwidth an alternative approach is to estimate it by monitoring the variations and constructing the equivalent pr obability distribution.
figure shows the probability distribution corresponding to the data collected for variations in the network bandwidth i.e.
.
there are numerous approaches for deriving a probability density function that represents the probability distribution of collected data including q q plot that could be used to estimate well known e.g.
normal beta distributions and quantile regression that could be used to estimate arbitrary complex distributions.
in our experiments we found qq plot to be sufficient as monito ring data often follows one of the well known distributions.
for the parameters that only have figure .
trian gular possibilit y distribution.
figure .
probability distribution.
monitoring noise we obtained approximate normal distribution.
however for most para meters the distributions were skewed and best represented using beta distribution.
as you may recall from section .
the fact that the ma jority of distributions were not normal was one of the primary motivations that led us to use possibilistic programming as opposed to stochastic programming.
the majority of existing self adap tive systems e.g.
ignore the probability distribution of the collected data and simply use the mean value in their analysis.
by basing the analysis on the mean behavior they esse ntially ignore th e statistical characteristics of the data and thus the underlying uncertainty.
.
quantifying the overall uncertainty from the estimates of uncertainty in the elements comprising a self adaptive software system we can estimate the overall uncertainty in the system s ability to satisfy its objectives i.e.
uncertainty in the overall utility .
as mentioned in section for efficient and effective analysis of uncertainty we have adopted the possibilistic model of uncertainty in poised.
however to quantify the overall uncertainty under the possibility theory and as a fuzzy variable we also need the uncertainty associated with each of the elements to be expressed as a fuzzy variable.
as you may recall from section .
the approach for estimating uncertainty in the inputs provided by the stakeholder already produces fuzzy variables.
recall that a possibility distribution such as the one depicted in figure defines a fuzzy variable.
on the other hand we need to transform the probability distribution representing the uncertainty in monitored elements to the equivalent possibility distribution.
we demonstrate this transformation via the network bandwidth example.
from the probability di stribution of figure we can derive the corresponding possibility distribution of figure as follows calculate the confidence interval and mode of probability distribution mode is the value that occurs most frequently in a distribution set the most pessimistic value equal to the low confidence limit of the probability distribution set the most optimistic value equal to the high confidence limit of the probability distribution set the most possible value equal to the mode of probability distribution connect the most pessimistic and optimistic points with the most possible point to arrive at the triangular possibili ty distribution of the collected data.
this approach could be used to derive the possibility distribution for all of the monitored elements.
the possibility distribution derived in this way is an approximation of the probability di stribution.
this is because the most pessimistic and optimistic va lues are determined based on the confidence limits which are not the absolute pessimistic and optimistic values for a probability distribution.
while in theory the two may not be identical in practice selecting a large confidence level e.g.
results in negligible difference.
using the possibility distributions quantifying the uncertainty in the individual elements of our problem we quantify the overall uncertainty in system s ability to satisfy its overall utility see eq.
via a possibility distribu tion specified as follows where and and denote the most pessimistic possible and optimistic values for the overall utility of the system respectively.
the insight is that the most pessimistic overall utility occurs when all of the quality estimates and user preferences are also pessimistic.
similar insight holds for and .
for simplicity this formulation assumes the utility f unctions are monotonic which is often the case with user specified preferences .
if that is not the case by taking the derivative of the functions we could find their extremums we elide the details for brevity.
.
possibilistic analysis we now describe our approach for formulating the problem of section as a possibilistic linear programming plp problem and solving it using conventional solvers .
.
possibilistic formulation of the problem as you may recall from sec tion poised manages the uncertainty by finding a solution that has the best range of overall utility where the range depends on the level of uncertainty in the system.
figure 5a depicts the in tuition behind our approach which involves pursuing three conc urrent objectives select a configuration that maximizes minimize negative consequence of uncertainty and maximize positive consequence of uncertainty .
in essence the objective is to find a configuration that has the highest likelihood of satisfying the user s preferences given the level of uncertainty.
we rewrite our objective eq.
as a plp as follows eq.
figure 5b shows the two possible scenarios that could occur as plp searches for the optimal so lution among three hypothetical configurations.
each configurat ion corresponds to a possibility distribution in figure 5b which is unlike the traditional approach where each configuration would be a point in the utility space.
the first scenario occurs when a configuration is inferior to others with respect to all objectives.
for instance in figure 5b conf a is inferior to conf b and conf c with respect to all three objectives.
that is conf a has a larger and a smaller and .
the second scenario occurs when there are trade offs.
for instance conf b and conf c present a trade off as conf b is superior to conf c with respect to and and inferior with respect to .
section .
describes the process through which such trade offs can be resolved.
the next step is the formulation of constraints with uncertainty which in our problem corresponds to eq.
ensuring the resource usage does not exceed the available capacity.
in section we described how the range of uncertainty in resource estimate and capacity can be quantified in the form of a triangular possibility distribution.
since we are dealing with a constraint we would like to assess it under the worst case.
figure .
possibilistic linear pr ogramming a insight and b trade off between ob jectives.
using the possibility distributions we can reformulate eq.
as follows eq.
is the maximum resource usage while is the minimum resource capacity.
while both and represent the most pessimistic points in the corresponding possibility distributions the two are semantically inverse of one another.
finally as you may reca ll from section .
the capacity of certain resources may be a crisp value e.g.
available physical memory in which case .
.
solving the possibilistic problem the plp problem is an instance of a multi objective problem and to solve it using commonly available linear programming solvers we first need to transform it to an equivalent single objective problem.
this is necessary to allow us to reason about the objective trade offs such as those depicted in figure 5b.
intuitively the transformation process entails normalizing the objective functions combining the objective functions and if necessary specifying prioriti es among the objec tives.
in this section we describe the details of these three steps.
.
.
normalizing the objectives since the three plp objectives are defined differently in terms of their range may not be the same.
therefore to avoid one objective to dominate the other ones as we combine the three objectives we first have to nor malize them.
we use normalizing linear membership function which is a function that maps each objective to a value between and 0 1 this allows us to have objectiv e functions with the same range.
however for defining each function we first need to determine the two extremums for each objective function given a configuration the extremum ma ximizing the objective is called positive ideal solution and the one minimizing the objective is called negative ideal solution .
note that the definitions of and are reversed when we are dealing with a minimization objective i.e.
in eq.
.
we can obtain these values by performing the following six single objective optimizations we specify to return for the value for the value and proportionally linear betw een the two extremums 1 1 function is specified similar to .
figure shows two instances of and that normalize the possible outputs of and respectively.
as the definitions of and are reversed for the normalizing function is decreasing while and are increasing.
this is to transform the minimization objective i.e.
in eq.
into a maximization one.
.
.
combining the objectives given the maximization objectives with the same range we use a well known technique1 to specify the single objective problem equivalent to plp problem of eq.
as follows subject to in the above formulation we ha ve reformulated the objective to maximize the auxiliary decision variable representing the overall satisfaction with the three normalized objectives and .
in other words the auxiliary objective is to find a configuration that maximizes which is constrained by the three normalized objectives resulting first in their optimization.
.
.
specifying priorities in the above formulation the three objectives expressed as constraints have the same importance.
but in certain domains some of the objectives may have a higher priority.
for instance in a mission critical system minimizing may take precedence over maximizing since a solution capable of providing certain guarantees in the worst case scenario would be desirable.
this may not be necessarily the case in other domains that are willing to tolerate higher risks with the potential of higher utility.
we achieve this by assigning weights and to objectives and respectively.
the weights specify the importance of ea ch objective and 1. thus the final complete optimization problem including the constraints eq.
and can be formulated as follows subject to 1 to give a normalized objective more priority over others we make the corresponding constraint i.e.
more restrictive than others.
for that reason in the above formulation we multiply each normalized objective with 1 where as the value of increases the related constraint becomes more restrictive.
.
evaluation we have evaluated poised on an extended version of the robotic software system that was devel oped in a previous project .
canonical description of the mathematical technique for translating a maximization multi objective problem to a maximization single objective problem see the problem of maximizing a set of objective functions where all functions have the same range is equivalent to the maximization of auxiliary variable where .figure .
the normalizing linea r membership functions for a and b .
the robotic software used in ou r experiments was comprised of software components connectors and configuration alternatives.
poised treats com ponents and connectors the same as they are both configurable.
the self adaptation logic was tasked with satisfying user preferences in terms of utility expressed as sigmoid functi ons therefore the maximum achievable overall utility recall e q .
w a s .
w e u s e d a n implementation of the robotic so ftware running on top of prismmw which is a middleware platform with extensive support for runtime monitoring and adaptation.
interested reader can find additional details about the robotic software system in .
for the experiments we setup a controlled environment that allows us to create and measure the effect of uncertainty in the system.
for that purpose we used xteam an architectural modeling analysis and simulati on environment that has been integrated with prism mw .
through this integration the xteam models are kept in sync with the software running on top of prism mw and vice versa.
xteam can also be used to control the execution of the so ftware running on prism mw.
we used xteam to simulate uncertainty by controlling the extent of random changes in the system e.g .
available network bandwidth memory consumption of configur ation alternatives .
however neither the robotic software nor poised was controlled which allowed them to behave as they would in practice.
the analytical models used in our experiments were derived using the reinforcement learning technique developed in our recent work .
the adaptation logic was realized as a three step model interpreter engine that generates the plp from the runtime model of the system solves it using the conventional linear programming solvers e.g.
and changes the runtime model using the xteam s api which automatically effects the changes to the software running on prism mw .
.
quality trade offs we compared the quality of solutions selected by poised with the traditional approach in different experiments.
in all of the experiments we appl ied both approaches on the same system.
however the components used in each experiment were instrumented to have different levels of uncertainty in their response time.
as you may recall from section the traditional approach is representative of the majority of existing literature that ignore the uncertainty in the adaptation decisions i.e.
base the analysis on purely crisp values obtained by calculating the mean behavior of the system properties .
we performed two types of comparison for each experiment we compared the expected quality of solutions configurations selected by each approach.
we refer to these results as expected since they are based on the calculated consequences of uncertainty in the solutions selected by poised.
we then executed the software system in the selected configuration and observed the actual quality of solution.
we refer to these results as actual since they are based on the data collected after the solution was put into effect.
we show the expected result s in figure 7a.
the triangular possibility distribution values correspond to the solution selected by each approach.
we observe a similar pattern to what was hypothesized in figure .
while poised s solution may have a slightly lower mode compared to that of the traditional approach the overall range is always better poised s most pessimistic and optimistic points are higher than that of traditional approach.
this is expected sin ce traditional approach aims to maximize the mean behavior of the system while poised aims to maximize the range of behavior.
we complemented the expected ranges of the system s behavior with the actual results obtained in different executions of the system under each configuration.
the results are shown in figure 7b.
for a fair comparison in each experiment we used xteam to fix the application workload as well as the range of uncertainty in the execution context e.g.
network bandwidth .
by fixing the range of uncertainty we mean controlling the range of random behavior within each source of uncertainty.
thus different executions still resulted in differ ent observed behaviors.
we can see that the observed utilities are very closely correlated to the corresponding possibility distribution in figure .
the results show that in comparison to the traditional approach posied is more likely to select a solution with better overall utility.
as the level of uncertainty in the system increases it is more likely for poised to select solu tions that are better than the traditional approach.
for instance we instrumented the level of uncertainty in e4 to be higher than the level of uncertainty in e5.
this can be gleaned from figure 7a as the utility range for the solutions selected by both poised and traditional approach in e4 are larger than e5.
consequently from figure 7b we can see that the solution selected by poised in e4 achieves more improvement over the traditional than in e5.
the level of uncertainty however is not the only factor as the structure of the problem also affects the amount of improvement over traditional.
for a meaningful comparison in these experiments we did not specify stringent resource constrai nts which as shown next could significantly influence the out come of both approaches.
.
violation of resource constraints we evaluated poised s ability to satisfy the resource constraints figure .
comparison of pois ed with traditional approach in different experiments a possibility distribution for the selected configur ation b actual observations for each selected confi guration.
under uncertainty and compared its results against the traditional approach.
we ran both approaches on the same adaptation problem but with varying levels of uncertainty in the available memory.
the overall u tility mode correspondi ng to the solution selected by each approach is shown in figure .
the robotic software system corresponding to each selected configuration was then executed times.
we instrumented our controlled environment to change the memory limit used by the adaptation logic i.e.
capacity variable from section .
.
parenthesized annotations in figure show the number of times a memory violation was observed in the act ual executions of the system.
we can make several observati ons from these results.
poised incorporates the uncertainty in the resource usage estimates and aims to satisfy the worst case most pessimistic formulation of resource constraints.
therefore as the available memory decreases poised continues to select solutions that do not violate the memory constraint but naturally have a lower utility compared to those of traditional approach.
on the other hand since the traditional approach ignores the underlying uncertainty in the estimates as the available memory decreases the likelihood of selecting configurations th at would violate the memory constraint increases.
this patte rn persists until the available memory decreases to 80mb which is less than the mean of the memory usage estimate for configur ations with high utility.
the traditional approach is thus forced to select configurations with a relatively low utility.
but even then since it does not consider uncertainty executions viol ate the memory constraint.
.
effect of weights in previous experiments we placed the same weight on all objectives i.e.
.
but as you may recall from section .
.
this may not alwa ys be the case.
we evaluated poised s sensitivity to these weights on an instance of the robotic software.
for a meaningful comparison with the exception of weights all other attri butes of the system were fixed including the range of uncertainty.
figure shows the overall utility for the experiments.
the solid bar shows the possibility distribution corresponding to the selected configuration under each weight assignment.
the dots depict the observed utility for executions of the software in the selected configuration.
in the two experiments with high poised selects a conservative solution i.e.
puts more emphasis on minimizing the negative consequence of uncertainty from section .
.
in the two experiments with high poised selects a risky solution i.e.
puts more empha sis on maximizing the positive consequence of uncertainty from section .
.
both approaches come at the cost of achieving mediocre overall utility mode from section .
.
in the two experiments with high poised selects a solution with the best utility mode from section .
while ignoring the negative and positive c onsequences of uncertainty.
in the last experiment with a bala nced assignment of weights the solution achieves neither the best nor does it provide guarantees on the consequences of uncertainty.
but since all of the objectives are given the same wei ght it achieves a balanced set of trade offs.
however as mentioned earlier we can envision situations in which placing empha sis on one of the objectives may be more appropriate which po ised allows fo r naturally.
.
sensitivity to uncertainty estimates we performed a set of experiments to evaluate how sensitive is poised to the accuracy of uncertainty estimates.
figure shows the results.
for all of th e experiments we used xteam to fix the range of uncertainty in the system parameters as well as the workload.
we changed the accuracy of uncertainty estimates used in our analysis.
to that end we simply changed the confidence level used for transforming the probability distribution corresponding to the monitored data to the equivalent possibility distribution recall section .
.
as one decreases the confidence figure .
impact of weights on the selected configuration.
figure .
impact of uncertainty on the overall utility and resource constraints.
number of violations is parenthesized.
figure .
impact of the accuracy of uncertainty estimates on the qualit y of poised solutions.
level in a probability distribution such as the one depicted in figure low confidence and high confidence limits converge to mode resulting in underestimation of the range of uncertainty.
the confidence levels shown on the horizontal axis of figure denote the accuracy of uncertainty estimates.
as we decrease the confidence level from to thereby making the uncertainty estimates less accurate poised selects configurations for which overall utilities are not borne out in practice.
more specifically since by decreasing the confid ence level we underestimate the uncertainty the actual results are lower than the expected utility.
overestimating uncertainty woul d have the opposite effect.
finally in the experiment with accuracy the most pessimistic possible and optimistic points are overlapping.
by not considering the uncertainty poised is behaving the same as the traditional approach.
comparing the results of experiment with accuracy to others corrobora tes our assertions in section that even with partially accurate estimates of uncertainty poised selects solutions that are better than the traditional approach.
.
performance trade offs table shows the results of be nchmarks comparing the execution time of traditional appr oach with that of po ised.
it took poised longer to compute the optimal solu tion which is not surprising since as you may recall from s ection .
poised requires additional optimizations to calculate and values pairs for the three objective functions.
wh ile it takes longer to execute poised we found its performan ce to be reasonable for our problem.
it took .
seconds to find the optimal configuration in the largest problem consisting of components and different configuration alternatives for a total of 20 1 .
2 10 possible combinations.
.
related work the literature in this area of research is extensive.
in lieu of enumerating all of the related studies we refer the reader to for a comprehensive analysis of the state of the art in selfadaptation.
we focus our discussion here to those works that are of utmost relevance.
the challe nge posed by uncertainty in the construction of dependable self ada ptive software system is an established concept .
a few wo rks have aimed to tackle the different facets of this challenge as follows.
whittle et al.
introduced relax a formal requirements specification language that reli es on fuzzy branching temporal logic to specify the uncertain requirements in self adaptive systems.
in a subsequent publica tion cheng et al.
extended relax with goal modeling to specify the uncertainty in the objectives.
our approach is complementary to their work as both relax and poised are based on fuzzy mathematics except relax targets requirements speci fication phase while poised targets decision making phase at runtime.
chuang and chan presented a qos management framework that uses a hierarchical fuzzy control model.
their work aims at making it easier for the users to specify their qos requirements which are then translated into fuzzy rules.
unlike poised their objective is qos rule satisfaction and does not target the challenge of making adaptation decisions under uncertainty.
dynamic configuration of resource aware services was studied by poladian et al.
where they showed how to select an appropriate set of services to ca rry out a user task and allocate resources among those services at runtime.
subsequently the work was extended to make anticipatory decisions and considered the inaccuracy of future resource usage predictions.
unlike poised their approach neither aims to satisfy a utility range nor employs possibilistic analysis in incorporating the effect of uncertainty in decisions.
cheng and garlan described three specific sources of uncertainty problem state identification strategy selection and strategy outcome in self adaptation and provided high level guidelines for mitigating them in rainbow .
in this paper we have presented a novel approach for tackling the challenge of strategy outcome i.e.
the impact of uncertainty on the selected solution and techniques to deal with it.
finally in our recent work we presented fusion a learning based approach to engineering self adaptive systems.
instead of relying on static analytical models that are subject to wrong assumptions fusion uses machine learning to self tune the adaptive behavior of the system to unanticipated changes but does not address making adaptati on decisions under uncertainty.
.
conclusion and future work we presented a novel quantitativ e approach called poised for making adaptation decisions unde r uncertainty.
unlike any other related work poised adopts a possibilistic method to assess the positive and negative consequences of uncertainty in its analysis.
the centerpiece of our work is the reconceptualization of what is typically considered to be the optimal solution as one that has the best range of possible behavior.
poised s analysis can be made as risk averse as desired via a set of knobs weights .
while poised is a general approach that can be applied to many types of adaptation problems it wa s described and extensively evaluated in the context of a se lf adaptation problem aimed at improving a system s qualit y attributes via runtime reconfiguration of its customiz able software components.
our focus so far has been on the internal uncertainty which is the uncertainty associated with adaptation decisions aimed at satisfying the system s internal quality objectives.
in future we plan to investigate appl icability of poised to external uncertainty which is the uncertainty associated with decisions aimed at satisfying the domain objectives.
we also believe poised could complement the existing efforts aimed at alleviating uncertainty in other facets of self adaptation.
we envision an integration of relax with poised to be a fruitful avenue of future work as it would allow the traceability of uncertainty from the system s requirements specification to its execution.
proactively adaptive systems such as those described in face another form of uncertainty the inaccuracy of future predictions.
investigatin g the synergy between poised and such approaches is another interesting avenue of future work.
.