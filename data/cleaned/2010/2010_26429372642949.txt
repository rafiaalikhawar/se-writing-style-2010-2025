pattern based auto completion of uml modeling activities tobias kuschke technische universit t ilmenau software systems process informatics group ilmenau germany tobias.kuschke tu ilmenau.depatrick m der technische universit t ilmenau software systems process informatics group ilmenau germany patrick.maeder tu ilmenau.de abstract auto completion of textual inputs when using ides benets software development experts and novices.
researchers demonstrated that auto completion is bene cial for graphical modeling tasks as well.
however supporting software development by auto completing uml modeling activities remains largely unexplored by research and unsupported by modeling tools.
by matching editing operations to activity patterns partly performed modeling activities can be recognized and automatically completed.
this paper proposes an approach that computes auto completions for partly performed modeling activities while a developer is creating or evolving uml models.
selected auto completions can be previewed and adjusted before being executed.
we claim that this approach can improve developers modeling e ciency.
therefore we assessed our approach based on a catalog of common modeling activities for structural uml models and found that e ort for conducting de ned modeling activities can be reduced signi cantly.
categories and subject descriptors d. .
design tools and techniques object oriented design methods keywords auto completion modeling activity complex event processing pattern matching .
introduction automating tasks of a software engineering process is a state of the art way to increase the quality of a software product and the e ciency of its development.
software development experts and novices bene t from auto completing textual inputs when using ides .
researchers demonstrated that auto completion is bene cial for graphical modeling tasks as well .
however supporting software development by auto completing uml modeling activipermission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september vasteras sweden copyright acm ... .
remains largely unexplored by research and unsupported by modeling tools.
though there are plenty of opportunities for supporting recurring activities during model driven architecture and design.
for example arlow and neustadt describe typical activities that have to be carried out when re ning an initial uml analysis model into a design model for a system.
furthermore well known design patterns proposed by gamma et al.
are often implemented to improve the structure of a software system and can as well be applied on a class model perspective of a system.
in previous work we showed that partly performed modeling activities can be recognized and suggested for autocompletion while a developer is creating or evolving uml models .
the proposed technology captures editing operations within a modeling environment and matches them to prede ned activity patterns.
the approach utilizes a modern event processing engine for recognizing modeling activities and for ranking suggestions by relevance according to a developers modeling progress.
in this paper we propose a new approach that complements our previous work by computing and executing auto completions of modeling activities that a user selects from the list of activities suggested by the precursor technology.
when developing this new approach we did not only want to complete an activity in terms of missing actions but we also wanted a user to be able to preview and adjust the selected auto completion.
we claim that auto completions should be visualized within a developers model to allow a preview before their execution.
moreover auto completions should be adjustable by the user requiring to recompute completion actions and their interdependencies instantaneously after each modi cation.
therefore we developed an approach that computes auto completions based on activity patterns enables their preview and adjustment and executes them within the modeling environment.
.
related work forster et al.
proposed witchdoctor for detecting and completing source code refactorings while observing developers writing source code.
their approach matches editing operations of the code to a list of refactorings with every keystroke of a developer.
upon a match the complete refactoring is being calculated and displayed as gray colored suggestion within the editor.
similar to our approach the authors compute completions based on prede ned patterns and visualize them within the working environment.
however the approach cannot be directly adapted for autocompleting modeling activities especially regarding the ad551 justment of completing actions.
mazanaek et al.
studied auto completions for model and diagram editors.
based on graph grammars their approach calculates all possible completions for incomplete model graphs.
although the approach recommends correct structural completions for the current graph state it does not support the completion of complex modeling activities within structural uml models.
as such activities contain speci c conditions regarding structural aspects and object property values it would be a di cult task to express them by a general graph grammar.
furthermore it is impracticable to calculate and present all completions for a complex structural uml model.
sen et al.
propose a similar approach.
the system is also triggered by the user and presents recommendations in graphical form.
it is mainly designed to support small modeling languages and computes its results within seconds up to minutes.
the approach shows similar limitations as the previous.
wieloch et al.
demonstrate an approach that uses previously modeled process fragments for completing business process models.
the system analyzes context and annotations of a process task in order to suggest appropriate process fragments from a repository.
task and completion strategy have to be selected by the user to trigger the suggestion.
arendt et al.
presented henshin a powerful transformation language and tool set for direct model modi cations called in place transformations.
it uses transformation rules and provides functionality for pattern replacements e.g.
for automatically applying software design patterns.
however these approaches are not designed to analyze the modeling progress and to present suggestions automatically.
hornung and koschmider investigated the recommendationbased support of business process modeling.
similar to the previous approach their goal was nding process parts in a repository of business process models.
they also propose a recommendation approach that supports the user during modeling.
the authors presented an extensive experiment to evaluate the usefulness of the proposed recommender systems.
nevertheless their approaches do not support the recognition of partly performed activities and the computations of appropriate auto completion actions.
furthermore there are approaches that deal with user assistance in keeping models consistent and well formed.
similarly these approaches also calculate editing operations that are presented to the user.
in contrast to our work the focus of those works is changing a model in a minimal way in order to x local inconsistencies rather than predicting a user s intent in performing complex modeling activities.
summarizing we found that prior approaches for auto completing activities within graphical modeling environments are not able to do so continuously while a user is conducting an activity as they require a distinct precondition of the model on which the auto completion is applied.
.
modeling activities our approach focuses on auto completing structural uml modeling activities.
we de ne such an activity as a recurring set of editing operations ltcarried out on a model in order to add to remove or to replace model elements e.g.
with the goal of adding a software design pattern .
an editing operation oconsists of an edit type fadd delete modify g and an element state sdescribing element properties after adding or modifying it and respectively before deleting it.we previously identi ed and iteratively evolved a comprehensive set of such modeling activities .
examples of these activities are replacing an association by an interface realization extracting an attribute into a class or replacing an association class .
in addition we considered a number of well known software design patterns described by gamma et al.
comprising a list of meaningful modeling activities.
in order to make those activities applicable for recommendation and auto completion we de ned them in a catalog of activity patterns.
imageviewer imageimageviewer imagenewclass imageproxy interface image use o4 addo1 deleteo6 addo8 addo5 add o2 addo7 add o3 modifyviewer viewer c1 c3 c2 figure modeling activity example replacing association by proxy.
the initial model state is given on the left while required editing operations to establish the nal state are shown on the right.
throughout the paper we are using an example of a modeling activity for explaining the proposed auto completion concepts.
this modeling activity refers to the addition of the proxy design pattern into an existing software model.
on the left hand side of figure an initial model structure is shown on which the proxy design pattern could be applied.
the right hand side of figure shows exemplarily one sequence of the editing operations o1too8required to instantiate the proxy design pattern on the preexisting model.
.
auto completion of activities in this paper we propose a new approach that computes auto completions of uml modeling activities.
furthermore it allows a user to preview and to adjust a selected completion graphically before nally executing the completion.
our approach is based on the recognition of modeling activities and the computation of relevant recommendations which we demonstrated in our previous work .
this approach operates on a set of prede ned activity patterns.
for auto completion these patterns are enriched with additional information supporting the computation of completion actions.
figure depicts the integration and the interplay of recommendation approach gray and auto completion approach white .
step a. tostep a. in the gure are executed on every new editing operation of a user.
in step a.1editing operations are matched to activity patterns and partly performed activities are recognized.
in step a. further information in a matched activity pattern is then used to compute automatically executable completion actions.
these actions can replace the remaining editing operations of a user s partly performed modeling activity.
step b. and step b. are triggered once a user selects an auto completion of a modeling activity.
a user can preview and adjust the computed completion actions before they are eventually executed.
the following subsections explain this process in detail.
552editing operationpreview andadjust completion actionsexecute completion actions complete model stucturerecognize modelling activitiesfilter andrank modelling activities partly performed activitiesactivity completion completion actionscompute completion actions ranked activitiesadjusts executes performsselects step a. step a.3step a. step b. step b. activity auto completion activity recommendation b afigure overview of the proposed approach.
the gray parts represent our previous work while the white parts have been added for the auto completion approach.
.
step a. compute completion actions a modeling activity tis speci ed as a set of editing operations lt fo1 o ngthat need to be performed in order to execute the activity.
the goal of an activity could be replacing elements in a given model structure introducing new structure in a model or removing existing structure from a model.
the example activity replacing association by proxy see figure comprises eight editing operations tproxy !
lt fo1 o2 o3 o4 o5 o6 o7 o8g the recognition of partly performed modeling activities requires to detect a valid subset ltwithin an arbitrary sequence of performed editing operations.
invalid subsets of ltare sequences of editing operations that cannot be carried out in the modeling environment e.g.
adding the connectorsfo6 o7 o8gwithout adding the target element o5 see figure .
these subsets are omitted during the recognition.
to enable the recognition we express a modeling activity t in the form of activity patterns.
an activity pattern pspeci es a valid subset lpoflt.
in order to tolerate modeling variances when recognizing a modeling activity each valid subset of editing operations has to be de ned in a corresponding activity pattern.
to auto complete a recognized partly performed modeling activity a set of completion actions lais computed that compensates remaining manual editing operations not inlp.
a completion action contains all required information necessary to automatically execute the otherwise manually performed editing operation within the modeling environment.
the function automate ox !axmaps a remaining editing operation oxto a corresponding completion action automate ox .
for each editing operation oof a modeling activity tthat is not matched by an activity pattern p there exists a corresponding completion action ato complete t 9a8o a2la o2lt o 2lp a automate o a completion action ais composed of an action type fadd delete modifygand a set of information that describes the corresponding model element.
this set comprises assignments of a value vto an element property possible element properties and their allowed values are speci ed by the meta model of the supported modeling notation.
for our work this is the uml meta model.
in accordance with the meta model vcan specify a static value or a list of alternative static values that a developer can choose from before executing an auto completion.
for example completion action a4in figure speci es a connector of type association or aggregation .
in addition also dynamic valuescan be assigned which refer to element properties provided by matched editing operations.
in this case vspeci es a reference to a binding variable completion action a3 in figure speci es the modi cation of the element that has been added by editing operation o2 i.e.
the element id used to automatically execute the modi cation is retrieved from the element state of o2.
additionally such dynamic values can be combined with static values.
the name of the modi ed element in a3will be retrieved from preexisting element c2and then concatenated with the string proxy .
a3 actiontype modify id o2.id name c2.name proxy a4 actiontype add type association aggregation source o2.id target c2.id target.navigability navigable figure de nition of completion actions that replace the editing operation o3and o4from the example activity in section .
every new editing operation of a user that contributes to a partly performed modeling activity i.e.
every change oflp triggers an automatic update of the corresponding completion actions in la.
.
step b. preview and adjust completion actions our approach comprises a graphical user interface for the preview and adjustment of completion actions.
the interface is triggered when a developer selects a recommended auto completion.
the following requirements specify the functions provided by the user interface r a preview of the auto completion s result shall be given to visualize the surrounding model structure and to clarify all automatic completion actions.
r a user shall be able to adjust completion actions.
r upon user adjustments the auto completion shall be automatically updated.
r the user shall be able to undo previous adjustments.
in the following paragraphs we discuss the developed functionality in detail.
553preview completion actions.
we propose to visualize completion actions within the diagram that was altered by the user r .
therefore we create temporary model elements and arrange them in combination with existing elements as de ned in an activity pattern.
we clarify completion actions by adding colors and symbols add!green plusjdelete!red crossjmodify !yellow pencil .
figure shows the developed user interface of our prototype system and the auto completion of our example activity after the user has performed editing operation o2ando4.
we prevent the user from directly editing the presented model structure on the diagram as she or he could continue working without executing the auto completion.
instead we show a textual representation of each completion action underneath the diagram and allow adjustments there r2 .
as modi cations to one completion action can impact others we restrict them to one edited completion action at a time and update the entire auto completion after each adjustment r in order to avoid con icts.
a1 delete a6 adda3 modifya7 adda5 adda8 add figure graphical user interface for previewing and adjusting completion actions.
adjust completion actions.
we analyzed possible adjustments to completion actions and classi ed them into six categories r .
the proposed user interface supports those six adjustment types a adjust element property values.
a developer can adjust element properties speci ed by a completion action.
for example the name imageproxy of a3could be modi ed.
a set unspeci ed element property values.
the interface should also support the cases that an element property of a completion action cannot be derived from matched editing operations.
it is then left empty.
the execution of a selected auto completion is prevented until the developer adds the required information.a choose the value of an element property from a set of options.
a developer can switch between di erent value options if they are speci ed by a completion action.
in figure action a4speci es two value options for the type of the added connector.
a redirect a connector.
the developer can choose a different source or target element for a connector if the completeness of the recognized model activity does not de ne the connector ends clearly.
for example if the association between image and imageproxy would not have been added already a 4is needed the preexisting elements c1andc2 see figure would not clearly de ne which of the classes represents the subject and which the client.
the source element of the realization in a6could then be switched between c1 andc2.
a change requires to update a8accordingly.
a choose a di erent model element to be replaced.
if a modeling activity describes the replacement of a model element it can be the case that this model element cannot be determined clearly.
the user interface should o er to switch between di erent options.
for example if the class image would be connected to a di erent model element by another association it could not be determined which association has to be deleted in a1.
switching between both association require to update the entire auto completion accordingly.
a choose an existing element instead of creating a new one.
a completion action for creating a new element can be replaced by selecting an already existing model element.
for example the developer could decide to select an existing interface instead of executing completion action a5.
therefore a model browser is provided that allows to select an appropriate model element.
undo completion action adjustments.
the developer shall be able to undo adjustments of completion actions r .
this functionality is also important if the modi cation impacts other completion actions so that the original intent of the modeling activity may be impacted.
the developer in our illustrating example see figure could decide to reuse an existing interface instead of adding a new one a5 and applies adjustment type a .
if the selected interface has been created for a di erent purpose the adjustment should be undone.
to enable an appropriate mechanism our approach caches states of an autocompletion i.e.
each set of completion actions.
this allows to go back to previous auto completion states sequentially undo and also to go forward again redo .
.
step b. execute completion actions once a user accepts the previewed and and potentially adjusted completion actions they are executed on the model.
this requires to remote control the modeling environment via an api.
we use similar functionality to create the temporary model elements for visualization of an auto completion.
in order to ensure the correct recognition of following modeling activities we generate an event for each executed completion action in the same way as a manual performed editing operation would have triggered.
.
preliminary evaluation the main goal of our approach is the reduction of manual user actions during modeling in order to save modeling e ort.
therefore we derived the following research question can the automated completion of a partly performed modeling activity reduce a user s modeling e ort by avoiding manual actions?
we evaluated our approach in a preliminary experiment which aims to answer this question.
.
experimental setup we implemented a prototype of our approach as plug in for the commercial modeling environment sparx enterprise architect.
the prototype integrates the red hat drools .
rule engine.
we performed the experiments on a system with an intel i7 .7ghz processor 4gb ram and a bit microsoft windows .
our experiment utilized the catalog of activity patterns introduced in section .
each activity pattern speci es a set of editing operations to be performed.
in order to assess the modeling e ort caused by di erent modeling activities we rst identi ed types of user actions within enterprise architect that are needed to perform the editing operations comprising our activity patterns.
we identi ed six distinct types of user actions see table .
in order to be able to aggregate and to compare the e ort of these di erent user action types we asked ten colleagues independently to rate the e ort for each action type in relation to a single mouse click.
the third column of table presents that mean e ort ratio for each user action type.
table relevant user action types and their estimated e ort in relation to a single mouse click user action acronym e ort ratio mouse click lc mouse double click dc .
mouse right click rc mouse drag md key stroke ks navigate menu nm secondly we categorized all editing operations speci ed in the pattern catalog concerning their required user actions.
therefore we searched for the shortest possible set of user actions to perform each editing operation within enterprise architect.
we found types of editing operations regarding their required user action types.
table lists the derived types of editing operations on the left the numbers of user actions per type if conducted manually in the middle and the aggregated e ort on the right.
.
experiment reduction of user actions in the experiment we evaluated the approachs capability to reduce the e ort required for user actions when autocompleting a modeling activity.
therefore we derived two measures.
for each activity pattern speci ed in the activity catalog and for each of their possible completion states i we calculated the manual e ort that would be necessary to complete the activity and ii we calculated the remaining manual e ort by using the proposed auto completion functionality.
e ort was measured in terms of user action types see table .
to determine the e ort for manually completing an activity we analyzed the activity pattern and categorized eachtable e ort estimation for editing operation types editing operation necessary user actions total category lcdcrcmdksnm e ort fx x1add element x2add connector x3add package x4add attribute or method3 x5delete element or package2 x6delete connector x7delete association class x6 x8delete attribute or method3 x9rename element .
x10rename package x11set navigability x12set multiplicity x13change connector end1 editing operation according to table .
based on the numbers of categorized editing operations we calculated the total e ort for the remaining editing operations to complete the corresponding activity.
we repeated this procedure for all activity patterns describing the activities in all their completion states.
to illustrate the e ort determination process we exemplarily show its calculation for our example replacing association by proxy .
equation shows all editing operations to be performed for this activity see figure .
equation lists the corresponding editing operation categories see table in the same order.
equation calculates the total e ort for performing the entire activity manually by adding up all single category rates fx ltproxy fo1 o2 o3 o4 o5 o6 o7 o8g lxproxy fx4 x1 x7 x2 x1 x2 x2 x2g fpproxy fx4 fx1 fx5 fx2 to determine the e ort for an assisted activity completion two user action are to be considered.
for selecting an autocompletion from the recommendation list a double click dc is needed while the execution of previewed completion actions is triggered by a single click lc.
accordingly the e ort for using our auto completing functionality fais calculated to .
.
finally we computed the di erence between both e ort values fpk k2f1 185g andfafor all possible completion states of the de ned activity patterns.
we aggregated these values by the number of remaining editing operations across all activity patterns.
figure plots the average effort reduction in relation to the number of remaining editing operations when using the auto completing functionality.
the gure shows that the approach is on average bene cial even with only a single remaining editing operation left to complete an activity.
a reduction greater than can be reached when having two ore more editing operations left.
all outliers are above the average and refer to even larger reductions.
remaining editing ope rationsreduction of ma nual eff ortn n n n n n n 3figure user action reduction in relation to the number of remaining editing operations for completion.
.
discussion and future work we proposed an approach intended to reduce user actions required for completing a partly performed modeling activity.
in an experiment we evaluated the approach for that capability.
we found that the approach can in fact reduce the number of required user actions from to depending on the completeness of an activity.
that means that the proposed approach can substantially reduce the required user actions and thereby a user s modeling e ort.
this result emphasizes the importance of presenting high quality activity recommendations to the user.
in order to retrieve the maximum bene t of the approach a user must be able to select an auto completion recommendation at the beginning of a modeling activity low completeness .
the experiment may contain threads to validity.
we computed the result by using the modeling tool sparx enterprise architect.
although we searched for the shortest possible sequences of user actions to perform each editing operation within enterprise architect we may have missed certain exotic possibilities.
moreover the e ort estimation for user actions see table may not be fully generalizable.
this thread is partly mitigated as we utilized the same estimations to assess remaining manual e ort for activity completion as we used to assess the e ort for using our autocompletion.
the presented result may have further been in uenced by the type of modeling environment that was used.
a future task will be to adapt the approach to other modeling environments and to replicate the study in order to gain more generalizable results.
our experiment shows that the proposed approach is capable of signi cantly reducing manual modeling e ort.
however we would like to point out that this result can only be regarded as a rst step to evaluated the usefulness of our approach.
demonstrating its overall usefulness will require to consider users e ort for inspecting activity recommendations and selecting a desired auto completion and to evaluate the usability of the proposed graphical user interface.
we are currently preparing a substantial study that also contains controlled user experiments in order to demonstrate the usefulness of auto completing modeling activities.
furthermore we want to investigate the impact of user experience on the bene t of the approach and study whether the approach can also improve the correctness of performed modeling activities.
another subject of study will be thescalability of the approach for large models and heavy editing operation load.
acknowledgment we are funded by the german ministry of education and research bmbf grant 16v0116.
.