uncovering performance problems in java applications with reference propagation profiling dacong yan1guoqing xu2atanas rountev1 1department of computer science and engineering ohio state university 2department of computer science university of california irvine abstract many applications suffer from run time bloat excessive memory usage and work to accomplish simple tasks.
bloat significantly affects scalability and performance a nd exposing it requires good diagnostic tools.
we present a novel analysis that profiles the run time execution to help programmers uncover potential performance problems.
the key idea of the proposed approach is to track object referenc es starting from object creation statements through assignm ent statements and eventually statements that perform useful operations.
this propagation is abstracted by a representa tion we refer to as a reference propagation graph .
this graph provides path information specific to reference producers a nd their run time contexts.
several client analyses demonstr ate the use of reference propagation profiling to uncover runtime inefficiencies.
we also present a study of the propertie s of reference propagation graphs produced by profiling java programs.
several cases studies discuss the inefficien cies identified in some of the analyzed programs as well as the significant improvements obtained after code optimization s. i. i ntroduction various factors can prevent software applications from reaching their performance goals.
while hardware advances have been providing free performance benefits for years these opportunities are gradually getting smaller as software functionality and size grow faster than the hardware capabilities.
the extensive use of layers of libraries and frameworks often creates unexpected performance problems .
sometimes there are run time inefficiencies resulting from common practices such as creating apis for general use and favoring method reuse without specialization .
many applications suffer from chronic run time bloat excessive memory usage and run time work to accomplish simple tasks that significantly affects scalability and pe rformance.
this is a serious problem for software systems ye t their complexity and performance are not well understood by application developers and software researchers.
the conclusion from detailed analysis of dozens of real world applications is that great amounts of work and memory resources are often needed to accomplish very simple tasks .
a few redundant objects calls and assignments may seem insignificant but the inefficiencies easily get magnifi ed across abstraction layers causing significant system slow downs and soaking up excessive memory resources.
while a modern compiler such as the just in time compiler in a virtual machine offers sophisticated optimizat ions they often are of very limited help in removing bloat.
this is because dataflow analyses in a compiler often have small scopes i.e.
they are intraprocedural which makes it impossible to tackle problems that can cross dozens of calls and even multiple frameworks.
in addition compiler analyses are generally unaware of the domain semantics of the program while bottlenecks often result from inappropr iate design implementation choices.
finding and fixing thes e performance problems requires human insight and thus it is highly desirable to develop diagnostic tools that can expos e performance bottlenecks to the developers.
goals and motivation.
we present a novel tool that profiles the execution to help programmers uncover potential performance problems.
the key idea of the proposed approach is to track object