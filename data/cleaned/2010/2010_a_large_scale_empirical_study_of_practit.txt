a large scale empirical study of practitioners use of object oriented concepts tony gorschek blekinge institute of technology ronneby sweden tony.gorschek bth.seewan tempero auckland university auckland new zealand e.tempero cs.auckland.ac.nzlefteris angelis aristotle university of thessaloniki thessaloniki greece lef csd.auth.gr abstract we present the first results from a survey carried out over the second quarter of examining how theories in objectoriented design are understood and used by software developers.
we collected responses from software developers world wide which we believe is the largest survey of its kind .
we targeted the use of encapsulation class size as measured by number of methods and depth of a class in the inheritance hierarchy.
we found that while overall practitioners followed advice on encapsulation there was some variation of adherence to it.
for class size and depth there was substantially less agreement with expert advice.
in addition inconsistencies were found within the use and perception of object oriented concepts within the investigated group of developers.
the results of this survey has deep reaching consequences for both practitioners and researchers as they highlight and confirm central issues.
categories andsubject descriptors d. .
object oriented design methods general terms survey keywords encapsulation number of methods inheritance depth .
introduction in engineering the usefulness of a theory is determined by whether it has a practical application and whether it has a practical application is first determined by whether it is actually used and second whether it has been used properly.
for engineers the real world application of theory is one type of validation .
there are many theories for software engineering and in particular for object oriented permission to make digital or hard copies of all or part of thi s work for personal or classroom use is granted without fee provided th at copies are not made or distributed for profit or commercial advantage an d that copies bear this notice and thefull citation on the firstpage.
tocop y otherwise to republish topostonserversortoredistribute tolists re quires priorspecific permission and or afee.
icse may cape town south africa copyright acm ... .
.design.
we would like to understand what theories of objectoriented design are being used in practice.
not all used theories are necessarily good ones however.
an engineer may use a theory unaware that a better alternative exists.
conversely a engineer may not use a theory due to doubts as to its usefulness.
thus to evaluate the practic al usefulness of a theory it is not enough to know that it is used it is also important to understand whyit has been used and howit is used.
to gain this understanding we must look beyond the theories we must talk to the engineers.
in this paper we present the first results from a survey carried out over the second quarter of examining how theories in object oriented design are understood and used by software developers.
we collected responses from software developers world wide which we believe is the largest survey of its kind.
there are three main goals of the our empirical study of which parts are presented in this paper.
the first is to gauge how the theory and best practice put forward by experts is used and interpreted by practitioners.
second is to identify the actual preferences of practitioners when it comes to practical issues such as making design decisions how they interpret and understand the central concepts and how they utilize the strengths of those concepts.
third but probabl y most important we want to determine whether or not the practitioners are in agreement.
that is to what degree do the practitioners regarding how they work what they prefer and what they consider to be important vary.
this third part speaks to the ability of good practice as suggested by experts to penetrate the every day work performed by practitioners.
in addition if practitioners agree on what is go od design practice and if this differs from the good practice put forward by experts researchers need to take a hard look at what this entails for state of the art in research.
if prac titioners disagree on a large scale however the implications could be even greater.
much advice has been and is given regarding how software should be designed at many granularities such as criteria f or modules common design idioms and use of components .
with the increase in availability of open sourc e software a number of empirical studies have been performed in recent years that give a picture of how software is really being written and the results do not always appear consistent with received wisdom see section .
we would like to know whether the perceived inconsistency is real whether it is due to lack of understanding by developers lack of belief that the design principles have the claimed benefits or whether the design principles in fact do not have the claimed 115benefits.
as the bulk of the empirical studies is on code written in object oriented languages in our survey we focus on principles for object oriented design.
the paper is organised as follows.
section presents the relevant background and related work.
section presents the research methodology study design and operation and section presents our results.
section discusses our resu lts and finally we present our conclusions in section .
.
backgroundandrelated work the three concepts we examine are encapsulation class size as measured by number of methods and depth of class in the inheritance hierarchy.
we chose these concepts because they are simple enough to reduce misinterpretation in a survey context.
in this section we discuss what advice is offered regarding these concepts and what other research has examined in relation to how the concepts are actually applied.
the advice is roughly always encapsulate don t have too many methods and don t have classes too deep in the hierarchy however the consistency of this advice is var iable.
of the three encapsulation has the strongest message which is always encapsulate.
others have noted that what encapsulation means has changed from its original meaning .
in this work we use the meaning of hiding representation .
parnas proposed that the criteria for creating modules was to determine what decisions are likely to change and hide those decisions within modules .
as the representation of an object is a decision that is considered to be likely to change usually parnas criteria has been interpreted as that representation should be hidden.
that is the fields or instance variables or attributes should be inaccessible from outside the class i.e.
encapsulated .
some languages directly enforce this advice.
smalltalk for example does not allow any access to fields from clients that instantiate classes although as sch arli et al.
note clients that inherit from classes do have access .
they observe that this meant that inheriting classes were not protected from changes to representation and proposed a means to reduce this exposure.
inherent in their advice is the belief that all fields should be inaccessible from all other classes .
the advice regarding hiding representation is generally consistent.
riel s first heuristic for object oriented desi gn is all data should be hidden within its class heuristic .
introduction to programming books often give similar advice for example sedgewick and wayne insist on the convention of making all fields private p422 fowler lists inappropriate intimacy as a bad smell lorenz an d kidd comment that they .
.. do not believe in public instance variables since that breaks encapsulation .
encapsulation of fields is also implied by some metrics.
for example the coupling between objects cbo metric proposed by chidamber and kemerer counts accesses through fields as well as methods implying such accesses are to be avoided .
fields that are not accessible private could therefore not contribute to measurements by this metric.
the mood metric suite includes the metric attribute hiding factor of which the authors say ideally all attributes would be hidden and only accessed by the corresponding class methods .
there are any number of websites who claim good objectoriented design requires fields be encapsulated.
while web sites are not the most authoritative sources of advice in this case they do generally agree with prominent researcher s books on good design and programming texts and are also perhaps more likely to be accessible to practitioners than the research literature.
a commonly suggested alternative to public fields is to provide accessor methods methods that exist to either return the value of a field getters or change the value of a field setters .
this satisfies the letter of rules such as all data should be hidden .
some languages such as c and eiffel provide syntactic sugar for accessors often referr ed to asproperties .
the intent is to provide protection from arbitrary access to the fields while having the convenience of simpler syntax.
however as has been observed if used carelessly accessor methods will still expose implementat ion decisions such as the type of the field and claim good objectoriented design should not need to provide any access to fields .
despite the advice regarding encapsulation being fairly consistent there are nevertheless apparently authoritat ive examples of it not being followed.
for example the java standard library contains several such as xandyin the java.awt.point class and inandoutin thejava.lang.
system class.
the existence of such visible examples may encourage programmers particularly novices to ignore th e advice.
there is certainly evidence that the advice is not universality followed.
in a recent study of open source java applications ranging in size from to classes of the classes of half the applications had non private fields several applications had more than of classes wit h public fields .
the advice regarding the number of methods in a class is less direct nevertheless the general sense seems clear.
the intuition is that if one thing is bigger than a second then an y action especially cognitive action such as making a change one wants to perform on the first is going to be more difficult in some sense than on the second.
this intuition is the basis for one of the metrics proposed by chidamber and kemerer wmc .
they argue the number of methods and their complexity is a predictor of how much time and effort is required to develop and maintain the class .
they cite bunge s definition of complexity to justify their definition of wmc however bunge notes that the number of parts is a coarse measure of ontic nonconceptual complexity implying that there are aspects of complexity that are not represented by counting parts.
there has been the suggestion that the above intuition is not correct at least with respect to fault proneness i.e .
that there is a size such that modules either smaller or large r than that size are more fault prone by hatton for example .
however more recently the evidence suggests that this so called goldilock s conjecture is not true .
the conclusion is then that one should avoid creating classes th at are too big .
there is the question however of how is the size of a class measured and what exactly constitutes too big ?
fowler lists large class too many instance variables and suggests extract class as a refactoring technique to reduce the number of fields which is also likely to reduce the number of methods.
he also suggests that classes with too many responsibilities p141 or too much behaviour p142 are candidates for extract class.
other techniques add methods such as inline class however it is intended to 116be applied to a class that isn t very much .
there is however some explicit advice limiting the number of methods.
lorenz and kidd pp50 suggest a heuristic of threshold of methods for model classes for ui classes thresholds with averages of and respectively.
they suggest thresholds of for fields in model classes and for ui classes.
empirical studies appear not to support the use of hard limits on the number of methods in a class.
baxter et al.
examined open source java applications and reported distributions that are close to powerlaws so called truncated curves meaning that generally the larger the application the more methods the largest class tends to have .
they indicated that large applications generally had classes wi th hundreds of methods.
advice regarding depth in inheritance trees also varies.
johnson and foote recommend that class hierarchies should be deep and narrow rule whereas booch suggests that developers tend to have classes no deeper than p280 .
riel perhaps best typifies this confusion at the same time advising both in theory inheritance should be deep the deeper the better heuristic .
and in practice inheritance hierarchies should be no deeper than an average person can keep in his or her short term memory.
a popular value for this depth is six heuristic .
.
the empirical evidence regarding the size of inheritance hierarchies is not so clear.
tempero et al.
studied opensource java applications and saw either powerlaw or truncated curve distributions for both depth and width number of children of classes .
however while the shapes of th e distributions suggested that the larger the application the greater the depth of the deepest class none of the applications in the studied which included large applications suc h as eclipse had classes at depth greater than .
the evidence from empirical studies is that the advice offered regarding encapsulation number of methods and class depth may fall on deaf ears.
however as much of the evidence comes from analysing source code what it cannot tell us is anything about intent .
it may be that by and large practitioners are aware of the advice and are trying to follow it but are failing due to misunderstanding or some other reason.
practitioners may also be aware of it but don t believe the advice to be relevant.
another possibility which is even more worrying is that practitioners are simply not aware of it implying failure in education and the spreading of research results to practice.
without knowing whypractitioners make the decisions they do we cannot fully evaluate the usefulness of the advice being offered.
the only way we can find this out is to ask them.
.
research methodology this section introduces the research questions the study design and execution and threats to validity.
.
research question in order to investigate how object oriented concepts are understood and to what extent theory is practised the following main research questions were formulated.
rq1 how are object oriented concepts understood andused in practice and how does the use compare to recommended best practice?based on this general rq two sub questions were formulated addressing the specific concepts of encapsulation cl ass size as measured by number of methods and depth of a class in the inheritance hierarchy.
rq1.
how is the concept of encapsulation understood andusedin practice and how does the use compare to recommended best practice?
rq1.
how are the concepts of size and depth understood andusedin practice and how does the use compare to recommended best practice?
in this context we use theory best practice and advice interchangeably.
.
study designand operation the survey was executed through the creation of a on line questionnaire that was designed using a mix of closed and open ended questions .
the first version of the questionnaire was piloted using research programmers for the computer science department at the university of auckland new zealand.
as the test group took the survey we monitored time logged questions and caught mis understandin gs due to question formulation.
we then followed with a debrief session.
based on the pilot the survey instrument was improved.
a second test of the instrument was performed using research colleagues at blekinge institute of technology where four researchers engineering and science phds gave additional feedback on the instrument.
the survey had three parts.
part gathered demographic information.
part mainly addressed the concept of encapsulation rq1.
.
part covered class size and class depth rq1.
.
part had questions with a mixture of question types including single choice radio buttons multi plechoice multi choice checkboxes multiple choice and f reetext.
all of the questions in parts and were either single choice multiple choice or free text which all but o ne multiple choice question having a free text area allowing respondents to expand or qualify their answer.
there were questions in part and in part for a total of .
the motivation for using an on line questionnaire was to maximize coverage and participation.
surveys are an appropriate strategy for collecting empirical results from a lar ge population and given an adequate response rate an understanding of the population can be achieved .
the questionnaire was made accessible on line at surveymonkey.com between march and june of .
participants were recruited primarily through personal contacts and forums targeted at software developers and encouraging those who participated to spread the word.
we provided information about the goals of the survey on our website sefolklore.com and posted a video to youtube.
the idea behind our information campaign was to get a snow ball effect where word of keyboard spread information regarding the survey on the internet.
the campaign was successful in that the survey was eventually mentioned on twitter by a high profile user resulting in a very good response.
the theoretical population for the study was any and all software developers with experience in either closed or open source development with experience in using any object oriented programming language.
the actual population or sampling frame was of course limited by internet access and our ability to reach the developers within 117continent respondents percent africa .
asia .
australasia .
europe .
north america .
south america .
table geographical distribution of respondents.
yrs yrs yrs yrs yrs yrs yrsproportion open vs closed source experience open closed figure distribution of respondents based on years of development experience.
the given timeframe and their willingness to participate .
from one aspect the sample can be described as convenience sampling as we utilized primarily our own contacts initially however the sample quickly spread beyond our sphere of influence and contacts with several hundred respondents before the twitter post approximately days after the survey went live and thousands after it.
a total of respondents started the survey and completed all the mandatory questions a completion rate of .
which is well above expected given that the survey was substantial three full pages demanding about minutes and judging by the free text responses a large number may have spent even more .
.
validityevaluation we consider the four perspectives of validity and threats as presented in wohlin et al.
.
.
.
constructvalidity the construct validity is concerned with the relation between the theories behind the research and the observations.
the variables in our research are measured through the survey including closed as well as open ended questions where the participants are asked to share their professional experiences as developers.
mono operation bias was avoided by collecting data from a wide range of sources on the topic of the study and the theory was richly elaborated through the questionnaire by posing multiple questions on the same topic.
to avoid evaluation apprehension complete anonymity of the subjects was guaranteed.
there is always a risk that the background of the subjects e.g.
experience is a central influence however due to the large sample as well as the spread of competence and level of experience we feel the risk is limited.
hypothesis guessing the responden ts try to guess what the researchers want is also a potential c c java smalltalk python delphi ruby otherproportion programming languages figure distribution of respondents based on language proficiency.
consultant bespoke commodity embedded other pm qaproportion development type figure distribution of respondents based on type of development.
threat.
the introduction to the survey video and web page stressed the importance of honesty however this threat can not be completely dismissed.
.
.
conclusionvalidity threats to conclusion validity are concerned with the possibility of incorrect conclusions about a relationship in o bservations that may arise from error sources such as instru mental flaws influence posed on the subjects or selection.
we can not exclude the possibility that the instrumentation survey questions formulations explanations etc were m isunderstood by the subjects however pre tests and reviews by colleagues as well as redundancy several questions addressing the same thing hopefully alleviated the risks of this threat.
regarding subject influence there can be a chance that some subjects interacted e.g.
colleagues at a work place and that this interaction influenced some of the subjects answers.
however due to the response rate as well as substantial sample we feel that the overall influence of this is limited.
the sample selected for the study were developers however we feel that the group was fairly heterogeneous experience education etc .
in a small sample this might influence the outcome however due to sample size the risk of differences between subject unduly influencing the result is low.
.
.
internalvalidity this threat is related to issues that may affect the causal relationship between treatment and outcome.
threats to internal validity include instrumentation maturation an d re design test architect programmer noneproportion development roles figure distribution of respondents based on development roles.
pd trade bachelors masters phdproportion qualification figure distribution of respondents based on qualification.
selection threats.
in our study the instrument was pretested as mentioned before.
maturation pertains to for example learning effect or subject s responses being influence d by boredom.
each subject participated once thus learning effect was small and the questionnaire took about minutes to complete.
in addition the high completion rate of respondents a clear majority of the respondents who started the survey also finished it indicates an interest in participating indicating that the respondents took an interest in being thorough in their efforts to answer the questions.
the interest of the subject may influence the representativenes s of the subjects.
this is a hard threat to counter as willingness to participate and interest in the subject are associat ed.
the large sample may alleviate this to a degree however the threat can not be dismissed.
further the selection of subject was performed by using a wide range of media and channels far beyond the control or sphere of influence of the researchers.
.
.
externalvalidity this threat is concerned with the ability to generalize the findings beyond the actual study.
the actual setting of the study was an environment known to the subjects from home office using the web thus our control and influence of the context was minimal.
in addition the sample was very similar to the population that is developers with experience in object oriented programming.
in addition due to sample size we feel confident that generalizability of the results are possible.q8.which of the following best describes your thinking when adding a field to a class?
.i always make it private inaccessible outside the class .i usually make it private .i never make it private .i don t think about it i pick whatever is convenient .i don t know what you mean none of the options describe my thinking q9.which of the following best describes your thinking when providing access to fields?
.i always provide getters and setters .i avoid getters and setters wherever possible .i prefer to avoid getters and setters but will provide them rather than make large changes to avoid them .i don t think about it .i don t know what you mean figure text of questions .
results and analysis this section presents the results of the survey organised according to the research questions presented in section .
this paper presents only a portion of the data gathered due to space constraints.
we focus on the survey questions directly relevant to rq1.
and rq1.
.
not all of the questions were compulsory and so in reporting completed surveys we refer to those where all compulsory questions were answered.
we will only give full details here of those questions we report on the full survey is available onsefolklore.com .
.
respondent demographics a total of respondents initiated the survey and completed the compulsory questions of the survey.
responses came from different countries.
the distribution of re0 q8 q8 q8 q8 q8 5frequencyq8 vs. q9 q9 q9 q9 q9 q9 figure q8 vs. q9 119q9 total q8 q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
q8 q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
q8 q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
q8 q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
q8 q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
total q8 .
.
.
.
.
.
q9 .
.
.
.
.
.
total .
.
.
.
.
.
table q8 vs. q9 cross tabulation.
sponses by continent is shown in table .
as we can seen a clear majority of the responses originate from north america with europe following closely.
just over half the respondents had some open source development experience with the half of those having done years of open source development.
almost all .
had done closed source development with approximately half having done years and having done more than years see figure .
for languages used figure were experienced with one of c java or c .
the fourth most chosen language python adds another .
meaning there were .
of respondents who were not experience in any of these languages.
of those almost all or indicated experience in a language not listed explicitly in the question.
about half .
of the respondents had experience in bespoke software development figure and almost all .
claimed experience in programming figure .
with respect to the respondents level of academic qualifications figure .
had a bachelors degree and .
had a masters degree.
about also had participated in trade certificates professional develo pment courses.
a total of .
indicated having no formal training or degree.
.
rq1.1encapsulation to gauge how encapsulation is understood and used in practice we consider question q8 and question q9 as shown in figure .
these two questions were intended to capture practitioners attitude towards encapsulation a lbeit without using that term.
from our discussion in section if practitioners follow the expert advice then they wouldmake fields private q8 alternative .
whether they would routinely provide getters and setters is not so clear.
the chart in figure shows one view of how survey participants answered these two questions.
we use the notation shown to indicate alternatives answered for questions for example q8 denotes question alternative .
table shows the same data in the total row and column as well as cross tabulating the responses.
the q8 and the q9 row indicates the conditional probability.
for example in the row q8 we see .
.
implying that the there is a probability of .
that for respondents that have answered q8 they will also have answered q9 .
the row q9 indicates the same for q9 that is for example there is a probability of .
that the ones who have already answered q9 will also have answered q8 .
the column total indicates how many respondents answered q8 and q9 that is the probability of intersection p q8 and q9 .
.
.
based on the results shown in table we cannot claim that the advice regarding encapsulation at least as interpreted as representation hiding is being followed without question.
many but not quite half .
indicated they might consider no private fields.
a more generous interpretation of this question might consider q8 and q8 to indicate adherence to expert advice in which case .
of respondents could be said to follow the advice but about .
do not.
the responses to q9 are much more clear cut .
indicating they would provide accessors and if q9 were included then .
could be said to follow this advice.
for those who do make their fields private q8 they are more likely than not .
to provide accessors q9 .
expanding this to q8 and q9 then .
routinely provide accessors to private fields.
for those who provide getters and setters q9 q9 .
of them q8 q8 will make their fields private.
this is perhaps not surprising as there is not much point having getters and setters if fields are public.
however it is also the case that .
of those who generally do not make fields private q8 q8 also provide getters and setters!
this suggests some confusion a s to the role of these kinds of methods.
performing a chi square test on the frequencies gives a value of significant of p .
showing a significant association between the answers of q8 and q9 a value .
shows significant dependence association between the responses of each pair tested .
the actual cause of this dependency is not totally clear and demands further analysis of the open question text answers given in association to the question.
however a preliminary possibility could be that the respondents had a specific wish to adhere to good practices enabling encapsulation but do not consider the use of getters and setter to be inconsistent with good encapsulation.
.
rq1.2size anddepth for rq1.
we are trying to determine to what degree class size as measured by number of methods or class depth figured as design decisions.
figure shows two questions relating to class size and the possible responses.
table shows the responses to these questions.
about .
q13 cared enough about class size to specifically track it however nearly q13 were at least aware of the number of methods.
almost q13 didn t really care about 120q13.
when working on a class how aware are you of the number of methods it has?
.i always try to determine how many methods a class has .i will note classes that seem to have a lot of methods .the number of methods is usually not relevant for me .i don t think about it .i don t know what you mean q14.
what do you think is the largest number of methods a class should have?
choose one of the alternatives and add a number in the textbox that replaces n in the text of the alternative you chose .there should be never more than about n methods.
.i try to avoid having more than about n methods in a class but will allow exceptions in extreme circumstances.
.i prefer to avoid having more than n methods in a class but i am not fanatical about it.
.i don t really think about how many methods there are in a class but prefer to avoid having classes with more than n methods.
.i don t think there should be any limit on the number of methods in a class.
figure text of questions the number of methods in a class.
looking at the answers to q14 we can see that the respondents choosing alternatives .
are for a limit of some sort with regard to number of methods while the respondents choosing alternative and didn t care or were against a limit .
.
this would indicate that the field is split half preferring a limit and half not in favour of one.
table gives an overview of q13 and q14 in combination.
performing a chi square test on the frequencies gives a value of significant p .
showing a significant association between the answers of q13 and q14.
comparing alternatives and for q13 and alternatives and for q14 there are .
respondents who chose one of the possible pairs so nearly one quarter of respondents reported on the one hand being aware of how many methods a class had but on the other hand did not act on that information.
that said the combination with the largest number of response was q13 and q14 with .
responses which suggests at least an awareness that classes should not have too many methods.
q14 also requested that respondents suggest a maximum number of methods they would expect for a class.
the results for this are shown in tables and .
from table of the respondents who thought there should be an absolute limit q14 the median was with the largest suggested limit being and the mode was indicating that the respondents of q14 preferred a moderate class size.
of those who were somewhat supportive of a limit responses responses not shown in the table the median was and maximum was in fact only 4q14 total q13 q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
q13 q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
q13 q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
q13 q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
q13 q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
total q13 .
.
.
.
.
.
q14 .
.
.
.
.
.
total .
.
.
.
.
.
table q13 vs. q14 cross tabulation.
q14 freq.
ave median mode max.
std.
dev.
q14 .
.
.
q14 .
.
.
q14 .
.
.
q14 .
.
.
q14 .
.
.
total .
.
.
table descriptive statistics for choice of n maximum number of methods for q14.
suggested larger than see table and mode .
almost all .
of those who were supported of a limit and suggested a value of methods or less.
while this range is not great it is wide enough to indicate a general lack of agreement regarding appropriate class size.
however a clear majority of the ones being for a size limitation were moderate in the size recommendation.
figure shows two questions relating to class depth and the possible responses.
table shows the cross tabulation of the results.
about .
of the respondents always determine class depth q17 respondents have a rough idea q17 but a substantial .
of the respondents don t care at all q17 .
for q18 respondents choosing alternatives and .
are for being aware of class depth and limiting the depth.
respondents answering alternatives and of q18 a total of respondents .
either don t think about it or do not think there should be any limitation at all.
table shows the comparison of q17 and q18 a chisquare test showed a value of p .
.
the higher proportions of responses for q17 alternatives and suggests a higher awareness and concern for the depth of classes 121range frequency none table distribution of choices of n for limit on number of methods by participants who chose alternatives for q13 q18 freq.
ave median mode max.
std.
dev.
q18 .
.
.
q18 .
.
.
q18 .
.
.
q18 .
.
.
q18 .
.
.
total .
.
.
table descriptive statistics for choice of n maximum class depth for q18.
compared with size of classes as can be seen in comparing q13 with q17.
of the respondents in q13 thought the number of methods size was irrelevant while for q17 only .
considered the depth to be irrelevant.
this is also reflected in the responses to q18 which show increased responses for alternatives and compared to the equivalent alternatives for q14.
nevertheless there were also an larger number of responses for alternatives and for q18 particularly for those who gave alternatives or for q17 than the equivalents for q14 and q13.
looking at q17 and q18 overall respondents chose one of the pairs indicating an awareness of depth but a tendency not to act on this information one of q17 q17 and one of q18 q18 .
tables and show some of the data regarding choices by participants of maximum depth of classes.
table shows the choices of those who thought there should be a hard limit on the depth q18 responses the median was and the maximum .
of those who were generally supportive of a limit q18 responses the median was and the maximum in fact there are only two proposed limits larger than the most usual limit was between and .
.
discussion how are object oriented concepts understood andusedin practice and how does the use compare to recommended best practice?
regarding rq1.
on how is the concept of encapsulation is understood andusedin practice and how does the usecompares to recommended best practice there is general but by no means universal adherence to the advice of hide representation .
there is however significant variation among the respondents in both their claimed use andq17.
when working on a class is its depth in the inheritance hierarchy important to you?
.i always try to determine how deep a class is .i usually have a rough idea of the depth of a class .it is not relevant for me .i don t know what you mean q18.
what do you think the maximum depth of a class should be in the inheritance hierarchy?
choose one of the alternatives and add a number in the textbox that replaces n in the text of the alternative you chose .no class should be deeper than n .i try to avoid having classes deeper than n but will allow it in extreme circumstances.
.i prefer not to have classes deeper than n but i am not fanatical about it.
.i don t really think about how deep classes are but probably would avoid having them deeper than n .i do not think there should be a limit to the depth of a class.
figure text of questions .
their understanding of the principles involved.
as well as the multiple choice questions we also asked for free text responses.
we have not analysed these formally but some responses jump out.
while we did not use the term encapsulation it was mentioned quite often in the free text responses for example some seemingly represen tative statements one of the basic oo principles is data encapsulation and that s a golden rule encapsulation is a key tenet of oo programming.
there was also confusion evident in the use of accessors.
some associated their use with encapsulation i want to provide encapsulation for my classes so i hide the fields using getter setter pairs but others did not getters and setters break encapsulation.
there were also some who were just not convinced encapsulation is mostly overrated.
nfrequency none table distribution of choices of n maximum depth of classes by participants who answered q18 .
122q18 total q17 q17 .
.
.
.
.
.
q18 .
.
.
.
.
.
total .
.
.
.
.
.
q17 q17 .
.
.
.
.
.
q18 .
.
.
.
.
.
total .
.
.
.
.
.
q17 q17 .
.
.
.
.
.
q18 .
.
.
.
.
.
total .
.
.
.
.
.
q17 q17 .
.
.
.
.
.
q18 .
.
.
.
.
.
total .
.
.
.
.
.
total q17 .
.
.
.
.
.
q18 .
.
.
.
.
.
total .
.
.
.
.
.
table q17 vs. q18 cross tabulation.
next looking at size and depth of classes the responses from the survey varied.
about half of the respondents where for some sort of limit to class size with most being of the opinion that to methods should be the maximum and the other half didn t really care for any sort of limit.
the implication being that about half of the respondents agree with the experts that there should be a limit and the overall consensus of to methods seems to be well in the recommended range.
on the other hand the .
of the respondents who didn t really care and the .
who were for no limit at all can be said to be in disagreement with the accepted wisdom of the experts.
the choices for the maximum number of methods was fairly consistent no matter what alternative was chosen for q14 including q14 !
being in the range .
this is consistent with the advice given by lorenz and kidd but not consistent with how code is actually being written .
the same division of the respondents into two groups can be seen when it comes to class depth.
even if most respondents had a rough idea of how deep a class they were working on was when it came to implications the results varied.
a total of .
of the respondents were in line with the experts recommendations and opted for a limitation in class depth most opting for a limit of .
on the other hand .
of the respondents either didn t care or where against any limits on class depth.
an interesting but far from conclusive indication could be seen when comparing views on size and depth.
the results seem to indicate that class depth is considered more important to monitor i.e.
know the depth of a class than the size of a class.
thus answering rq1.
how are the concepts of size and depth understood andusedin practice and how does the usecompare to recommended best practice?
there does not seem to be a consensus but rather a clear division between the respondents on what constitutes good practice when it comes to both class size and depth.the data presented in this paper are not complete and future work includes detailed analysis of motivation and fr ee text qualifications of responses offered by many respondents however some central and worrying tendencies can be observed.
disagreement among the respondents of what constitutes good utilization of object oriented concepts bea rs possible serious implications.
this is further aggravated by the fact that this also shows a gap between the commonly held wisdom put forward by researchers and experts and practitioners.
there can be several interpretations of the results from this survey.
one interpretation can be that there is not a unified view among practitioners on what actually works in everyday development.
for example in many cases a limit in for example class depth or size might be counterproductive in the real world as experienced by the respondents.
this interpretation would imply that the experts and researchers need to increase their efforts and perform more empirical investigations on both the artifacts the so ftware systems and the engineering practice and context of development in order to study reality.
an other interpretation could be that many developers simply do not utilize or care about good practice even if they know better .
this would imply that the experts are correct in their recommendations of what constitutes good practice but in the real world the benefit to individual developers in using this best practice is limited.
this would indicate a need for experts and researchers to study the return on investment of applying good practice not only on a company level or for a product but also for the individual developer.
issues such as demands for productivity or time to market might be prioritized.
a third interpretation and the worst possible one could be that many of the respondents simply do not understand the concepts of object orientation and thus do not understand the necessity of following best practice put forward b y experts.
this would indicate a fundamental failure in terms of the training and education of developers but also in the ability of experts and researchers to spread their knowledg e and the benefits of adhering to good practice to industry and practice.
a puristic interpretation of the survey results at this time is most likely counterproductive and premature.
further in depth analysis and study is needed both of the results of the survey but also by other researchers performing their own empirical studies.
the central conclusion that can be drawn from the results in this survey however is that the assumptions of whatconstitutes good practice and howthe objectorient concepts are interpreted and usedmay be flawed and must be studied in further detail.
.
conclusions we have presented some of the results of a large scale empirical study of software developers.
our overall goal is to better understand how developers make design decisions in particular how they understand and apply the expert advice or theory on good object oriented design.
we carried out our study through an on line survey which was advertised through a variety of means including youtube and twitter.
in this paper we focused on the use of encapsulation class size as measured by number of methods and depth of classes in the inheritance hierarchy.
while our main contribution in this paper is the results 123of the survey we also regard our methodology as an important contribution.
the methodology consists of how to use and design survey concepts as well as enable large scale participation.
we are not aware of any other attempt to determine what advice software developers follow certainl y not on the scale of the study presented in this paper.
our results demonstrate that the methodology is sound and we encourage other researchers to use it for other similar studies.
a total of respondents started the survey and completed all the mandatory questions a completion rate of .
.
the results indicate that developers generally but not universally follow the advice on the importance of hiding representation.
regarding the importance of observing monitoring and limiting class depth and size there is a large inconsistency among the developers.
about half are for limitation half are not.
the half that are for limitation howeve r agree with the experts advice and generally choose similar limits to the experts.
while there is agreement to some degree with the advice regarding the studied concepts our results make it quite clear that there is a significant proportion of software developers that do not follow the advice.
many may have suspected this but our results provide very convincing evidence and not only confirms the suspicions but also shows the level of the problem.
the question to answer now is why is it the theory is it the training or is it something else?