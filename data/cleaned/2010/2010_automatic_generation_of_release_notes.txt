automatic generation of release notes laura moreno1 gabriele bavota2 massimiliano di penta2 rocco oliveto3 andrian marcus1 gerardo canfora2 1the university of texas at dallas richardson tx usa 2university of sannio benevento italy 3university of molise pesche is italy lmorenoc utdallas.edu gbavota unisannio.it dipenta unisannio.it rocco.oliveto unimol.it amarcus utdallas.edu canfora unisannio.it abstract this paper introduces arena automatic releasenotes generator an approach for the automatic generation of release notes.
arena extracts changes from the source code summarizes them and integrates them with information from versioning systems and issue trackers.
it was designed based on the manual analysis of existing release notes.
to evaluate the quality of the arena release notes we performed three empirical studies involving a total of participants professional developers and students .
the results indicate that the arena release notes are very good approximations of those produced by developers and often include important information that is missing in the manually produced release notes.
categories and subject descriptors d. .
distribution maintenance andenhancement documentation enhancement restructuring reverse engineering and reengineering general terms documentation keywords release notes software documentation software evolution .
introduction when a new release of a software project is issued development teams produce a release note usually included in the release package or uploaded on the project s website.
a release note summarizes the main changes that occurred in the software since the previous release such as new features bug fixes changes to licenses under which the project is released and especially when the software is a library used by others relevant changes at code level.
producing release notes by hand can be a demanding and daunting task.
according to a survey that we conducted permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
to copy otherwise to republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
fse november hong kong china copyright acm ... .
.among open source and professional developers see section .
creating a release note is a difficult and effort prone activity that can take up to eight hours.
some issue trackers can generate simplified release notes e.g.
the atlassian ondemand release note generator1 but such notes merely list closed issues that developers have manually associated to a release.
this paper proposes arena automatic releasenotes generator an approach for the automatic generation of release notes.
arena identifies changes occurred in the commits performed between two releases of a software project such as structural changes to the code upgrades of external libraries used by the project and changes in the licenses.
then arena summarizes the code changes through an approach derived from code summarization .
these changes are linked to information that arena extracts from commit notes and issue trackers which is used to describe fixed bugs new features and open bugs related to the previous release.
finally the release note is organized into categories and presented as a hierarchical html document where details on each item can be expanded or collapsed as needed.
it is important to point out that i the approach has been designed after manually analyzing project release notes to identify what elements they typically contain and ii arena produces detailed release notes mainly intended to be used by developers and integrators .
from an engineering standpoint arena leverages existing approaches for summarizing code and for linking code changes to issues yet it is novel and unique for two reasons i it generates summaries and descriptions of code changes at different levels of granularity than what was done in the past and ii it combines code analysis summarization and mining approaches together to address the problem of release note generation for the first time .
we performed three different empirical studies to evaluate arena having different objectives i evaluating the completeness of arena release notes with respect to manually created ones ii collecting from developers internal and external to the projects from which release notes were generated opinions about the importance of the additional information provided by arena release notes which is missing in the existing ones and iii an in field study with the project leader and developers of an existing software system to compare their release notes with the ones generated by arena.
in summary this paper makes the following contributions .
the arena approach to automatically generate re1 to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
fse november hong kong china copyright acm ... .
484table contents of the release notes.
content type rel.
notes fixed bugs new features new code components modified code components modified features refactoring operations changes to documentation upgraded library dep.
deprecated code components deleted code components changes to config.
files changes to code components visibility changes to test suites known issues replaced code components architectural changes changes to licenses lease notes.
.
results of three empirical evaluations aimed at assessing the quality of the generated release notes.
.
results of a survey analyzing the content of releasenotesfrom58industrialandopensourceprojects.
.
results of a survey with developers on the difficulty of creating release notes.
replication package.
a replication package is available online2.
it includes i complete results of the survey ii code summarization templates used by arena iii all the html generated release notes and iv material and working data sets of the three evaluation studies.
.
what do release notes contain?
to design arena we performed an exploratory study aimed at understanding the structure and content of existing release notes.
we manually inspected release notes from software projects to analyze and classify their content.
the analyzed notes belong to releases of opensource projects from the apache ecosystem e.g.
ant log4j etc.
releases of open source projects developed by other communities e.g.
jedit selenium firefox etc.
and ten releases of three industrial projects i.e.
ios dropbox and jama contour .
different communities produce release notes according to their own guidelines as industry wide common standards do not exist.
release notes are usually presented as a list of items each one describing some type of change.
table reports the types of changes we identified as usually included in release notes the number of release notes containing such information and the corresponding percentage.
note that code components denotedbyccintable1 mayrefertoclasses methods or instance variables.
bug fixes stand out as the most frequent item included in the release notes in release notes of our sample .
typically the information is reported as a simple bullet list containing for each fixed bug its id and a very short summary often the bug s title as stored in the bug tracker .
for example in the release note of apache lucene .
.
the lucene bug fix is reported as follows lucene mappingcharfilter was failing to match input strings containing non bmp unicode characters.
otherfrequentlyreportedchangesinreleasenotesarenew features and new code components .
these two of changes are often found together explaining what code components were added to implement the new features.
modified code components i.e.
classes methods fields parameters are also frequently reported .
note that weincludehereallcaseswherethereleasenotesreportthata code element has been changed without specifying how.
we do not include here deprecated code components or changes to code components visibility that are classified separately see table .
explanations of modified features are quite frequent in release notes and are generally accompanied by the code components that were added modified deleted to implement the feature change.
an example from the release note of the google web toolkit .
.
m1 is updated gpe s uibinder editor i.e.
class uibinder of the google plug in to provide support for attribute autocompletion based on getter setters in the owner type.
refactoring operations are also included in release notes generally as simple statements specifying the impacted code components e.g.
refactored the webdriverjs from selenium .
.
.
changes in documentation are present in of the analyzed release notes although more often than not they are rather poorly described with general sentences like more complete documentation has been added or documentation improvements .
we also found release notes reporting upgrades in the libraries used by the project e.g.
the deb ant task now works with ant .
from jedit .3pre11 reporting deprecated code components e.g.
the requestaccesstoaccountswithtype method of acaccountstore is now deprecated from ios .
and including deleted code components e.g.
removed gwtshell an obsolete way of starting dev mode from google web toolkit .
.
rc1 .
other changes performed in the new release are less common in the analyzed release notes see table .
we must note that rarely summarized types of changes are not necessarily less important than the frequently reported ones.
it may be the case that some types of changes occur less frequently than others hence they are reported less.
for example changes to licenses are generally rare and thus only release notes contain this information.
we do not equate frequency with importance.
future work will answer theimportance question separately.
based on the results of this survey and on our assessment of what it can be automatically extracted from available sources of information i.e.
release archives versioning systems and issue trackers we have formulated requirements for what arena should include in release notes i a description of fixed bugs new features and improvement of existing features complemented with a description of what was changed in the code ii a summary of other source code changes including deprecated methods classes and refactoring operations iii changes to the libraries used by the system iv changes to licenses and documentation and v open issues.
note that in the current version of arena we did not consider i changes to configuration and build files because there is a plethora of different possible configuration files and ii changes to the high level system architecture because existing architecture recovery approaches e.g.
might require manual effort to produce usable results.
485change extractorissue tracker versioning systemselect bundles for releases rk and rk bundle rk 1bundle rk code change summarizercommitsissues linkerissue extractor information aggregatorhtml release notelegend information flow dependency fine grained structural changes linked to commits changes to libraries changes to documentation changes to licensessummarized structural changes linked to commits summarized structural changes linked to issues figure overview of the arena approach.
.
arena overview in a nutshell arena works as depicted in figure .
the process to generate release notes for a release rkis composed of four main steps.
first the change extractor is used to capture changes performed between releases rk 1andrk.
in the second step the code change summarizer describes the fine grainedchangescapturedbythe change extractor with the goal of obtaining a higher level view of what changed in the code.
in the third step the commit issue linker uses theissue extractor to mine information e.g.
fixed bugs new features improvements etc.
from the issue tracker of the project to which rkbelongs.
thus each fixed bug implemented new feature and improvement is linked to the code changes performed between releases rk 1andrk.
the summarized structural code changes represent whatchanged in the new release while the information extracted from the issue tracker explains whythe changes were performed.
finally the extracted information is provided as input to the information aggregator in charge of organizing it as a hierarchy and creating an html version of the release note forrk where each item can be expanded collapsed to reveal hide its details.
an example of a release note generated by arena can be found at .
.
code changes extraction arena extracts code changes as well as changes to other entities from two different sources the versioning system and the source archives of the releases to be compared.
identification of the time interval to be analyzed.
arena aims at identifying the subset of commits that pertains to the release for which the release note needs to be generated say release rk.
to identify changes between the releasesrk 1andrk we consider all commits occurred in the main trunk of the versioning system starting from the rk 1release date tk until the rkrelease date tk.
the dates can be approximate as developers could start working on release rk 1even before tk i.e.
changes committed beforetkcould belong to release rk 1and not to release rk.
in a real usage scenario a developer in charge of creating a release note using arena could simply provide the best time interval to analyze or even better tagthe commits in the versioning system with the release number.
analysis of code changes.
once the commits of interest are identified arena s change extractor analyzes them using a code analyzer developed in the context ofthemarkos eu project3.
the analyzer parses the source code using the srcmltoolkit and extracts a set of facts concerning the files that have been added removed and changed in each commit.
information on the commits performed between the releases rk 1andrkis extracted from the versioning system e.g.
git svn .
given the set of files in a commit the following kinds of changes are identified files added removed and moved between packages classed added removed renamed or moved between files.
to detect moving and renaming classes and methods are encoded by a metric based fingerprinting which is used to trace the entities methods added removed renamed or moved methods changed i.e.
changes in the signature visibility source code or set of thrown exceptions instance variables added removed and visibility changes deprecated classes and methods.
generation of textual summaries from code changes.the fine grained structural changes are provided to thecode change summarizer to obtain a higher level view of what changed in the code see figure .
to generate this view arena s code change summarizer follows three steps i it hierarchically organizes the code changes ii i t selects the changes to be described and iii it generates a set of natural language sentences for the selected changes.
inthefirststep ahierarchyofchangedartifactsisbuiltby considering the kind of artifact i.e.
files classes methods or instance variables affected by each change.
in objectoriented oo software systems files contain classes which in turn consist of methods and instance variables.
therefore changes are grouped based on these relationships e.g.
changed methods and instance variables that belong to the same class are grouped under that class.
in the second step arena analyzes the hierarchy in a top down fashion to prioritize and select the code changes to be included in the summaries in the following way .
if a file is associated to class level changes high priority is given to the class changes and low priority to the file changes since in oo programming languages classes are the main decomposition unit rather than source files.
.
if the change associated to a class is its addition or deletion high priority is given to it and low priority to any other change in the class e.g.
the addition deletion of its methods .
otherwise changes on the visibility or deprecation of the class become of high priority.
if the change associated to a class is its modification highpriorityisgiventotheassociatedchanges at instance variable and method level.
.
if the change associated to an instance variable or method is its addition deletion renaming or deprecation the change is given a high priority.
changes to parameters return types or exceptions are given a low priority.
finally the code change summarizer generates a natural language description of the selected changes presented as a list of paragraphs.
for this arena defines a set of templates according to the kind of artifact and kind of change 486new class searcherlifetimemanager implementing closeable.
this boundar y class communicate s mainly with alreadyclosedexception indexsearcher and ioexception and consists mostly of mutator methods.
it allows getting record handling release acquirin g searcher lifetime manager and closing searcher lifetime manager.
this class declares the helper classes searchertracker and prunebyage.
figure summary for the searcherlifetimemanagerclass from lucene .
.
to be described.
in this way one sentence is generated for each change.
for example a deleted file is reported as file filename has been removed .
as stated above the focus of oo systems is on classes.
thus for added classes arena provides more detailed sentences than for other changes by adapting jsummarizer a tool that automatically generates natural language summaries of classes.
each summary consists of four parts a general description based on the superclass and interfaces of the class a description of the role of the class within the system a description of the class behavior based on the most relevant methods and a list of the inner classes if they exis t. we adapted jsummarizer by modifying some of the original templates and by improving the filtering process when selecting the information to be included in the class summary.
figure shows part of an automatically generated summary for thesearcherlifetimemanager class from lucene .
.
deleted classes are reported in a similar way to deleted files.
changesregardingthevisibilityofaclassaredescribed by providing the added or removed specifier e.g.
class classname is now addedspecifier .
the description of modified classes consists of sentences reporting methods and instance variables added deleted or modified.
for example a change in a method s name is reported as method oldmethodname was renamed as newmethodname .
the generated sentences are concatenated according to the priority previously assigned to the changes.
to avoid text redundancies arena groups similar changes in single sentences e.g.
methods methodname1 ... and methodnamen were removed from classname rather than list them one at a time.
analysis of licensing changes.
to identify license changes arena s change extractor analyzes the content of the source distribution of rk 1andrk extracting all source files i.e.
.java and all text files i.e.
.txt .
then it uses the ninkalicense classifier to identify and classify licenses contained in such files.
ninkauses a pattern matching based approach to identify statements characterizing the various licenses and given any text file including source code files as input it outputs the license name e.g.
gpl and its version e.g.
.
.
its precision is around .
identification of changes in documentation.
this analysis is done on the release archives of rk 1andrk.
although release archives can contain any kind of documentation we only focus on changes to documentation describing source code entities.
arena identifies documentation changes using the approach described below .
identify text files i.e.
.pdf .txt .rdf .doc .docx and.html and extract the textual content from them using the apache tika4library.
ifatextfile say doci hasbeenaddedin rk thenverify whether it