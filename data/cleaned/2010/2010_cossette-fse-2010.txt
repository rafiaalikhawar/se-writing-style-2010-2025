dsketch lightweight adaptable dependency analysis brad cossette department of computer science university of calgary calgary alberta canada cossette cpsc.ucalgary.carobert j. walker department of computer science university of calgary calgary alberta canada walker ucalgary.ca abstract software developers who extend or repair existing software systems spend considerable e ort in understanding how their modi cations will require follow on changes in order to work correctly.
tool support for this process is available for single popular languages but does not su ce for less popular languages uncommon language variants or arbitrary combinations of languages and connection technologies.
we have created the dsketch tool so that developers can create a lightweight pattern speci cation for how dependencies can be heuristically identi ed in their systems.
we performed two case studies involving industrial developers who applied our tool for conducting polylingual dependency analysis in software systems the developers found it easy to con gure the tool for their needs were able to adapt their patterns to new contexts and had su ciently accurate dependency predictions for their work.
categories and subject descriptors d. .
distribution maintenance and enhancement restructuring reverse engineering and reengineering.
general terms design human factors languages management.
keywords dependency analysis polylingual systems pattern matching approximation developer feedback lightweight tool support dsketch case study.
.
introduction to avoid introducing errors into their software systems developers conduct change impact analysis to understand the consequences of any modi cations they enact .
change impact analysis must deal with the dependencies in the permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
to copy otherwise to republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
copyright 200x acm x xxxxx xx x xx xx ... .
.system the presence of a dependency indicates the possibility that a change to the depended upon entity may require a change to the dependent entity this is the dreaded ripple e ect .
unfortunately developers are surprisingly poor at identifying dependencies manually and tool support is often unavailable and too expensive to create.
tool support for dependency analysis is ideal when it is aware of the detailed semantics of the programming language used in a particular software system the presence of dependencies follows on directly.
but such tools are tied to a particular programming language and worse a particular version thereof making them hard to adapt to new languages or contexts without re implementation .
in the context of software systems where multiple programming languages are in use which we refer to as polylingual software systems the problem is further complicated in addition to coping with each language in use each combination of programming languages can use varying semantics to describe interactions across language boundaries leading to a combinatorial explosion of situations that may need support .
the identi cation of the dependencies either becomes an onerous task of interprocedural analysis or depends heavily on the speci c protocols used by the connection technology e.g.
jni for communication between java and c source code embedded sql queries re ective con guration via xml les .
sound analysis becomes impracticable or even undecidable in such situations .
to overcome these di culties we propose a lightweight approximation of semantically aware tool support to provide su ciently accurate dependency detection to provide tool support for dependency detection that can be adapted to arbitrary language and technology combinations and to require signi cantly less e ort on the part of the developer who needs to construct the tool support.
our approach is embodied in the dsketch tool which leverages the developer s knowledge about the syntax and semantics of the technologies used in his software system.
to use dsketch the developer writes simple pattern speci cations that should select identi ers involved in dependencies.
a set of heuristics is applied by the tool to nd correspondences between these identi ers which represent probable dependencies in the system.
the result is displayed to the developer by annotating the source code1to indicate which pattern matched which identi ers dsketch is built into the eclipse integrated development environment allowing the developer to continue to use their other tool support 1we use the term source code liberally here to include xml les con guration text les etc.as desired.
the developer can iterate on the pattern speci cations to re ne the set of dependencies until satis ed with the results.
the work ow intended for the tool involves one developer con guring a set of patterns for a particular system and allowing other developers to use these patterns in their tasks on the same or similar systems.
we conducted two case studies with industrial developers to investigate the strengths and weaknesses of the approach particularly with respect to the intended work ow.
we had the rst developer use dsketch to identify the dependencies on a subset of an industrial system we then had this same developer apply and adjust the patterns on other parts of the same system.
the second developer took the patterns of the rst and adjusted them as needed to recognize dependencies in another system which used the same programming languages but di ering technologies and used the tool to assist their investigation of a change task.
the remainder of the paper is structured as follows.
section provides a small motivational example to illustrate the problem of polylingual dependency analysis.
section describes the related work and points out that our problem has not been solved previously.
section presents details of our proposed solution.
section describes the case studies exploring the usefulness and usability of our proposed solution.
section discusses remaining issues and future work.
this paper contributes a novel approach to lightweight tool support for polylingual dependency analysis.
.
motiv ation consider a developer who is to create an online web store for her company s employees to access over an internal network.
the intent is to allow employees to browse and order company branded clothing and merchandise either as a reward for service or at a subsidized rate to promote company loyalty and identity.
because this is a small internal application the developer believes that it might be worthwhile to adapt an existing system to her needs speci cally the ibatis jpetstore v5.
reference application a small scale web store system that ships as an example with the ibatis data mapping framework .
she knows that the login mechanism used by jpetstore will need to be replaced with one that leverages the company s existing network login credentials for each employee.
thus she must estimate the impact of this change on the rest of jpetstore.
jpetstore uses a series of xml les to de ne an object relationship mapping between java classes and sql queries for which the ibatis framework can then generate java objects at run time.
using a text editor the developer looks for the sql map config.xml le which de nes which xml mappings are in use and decides that account.xml may be the most relevant.
browsing the queries in the le she notices that account information is stored in the signon table which has two columns username and password .
one of the relevant sql queries for adding a new user s credentials from account.xml is presented in figure .
as a rst attempt the developer runs a case insensitive lexical search on the entire system to nd other