guidearch guiding the exploration of architectural solution space under uncertainty naeem esfahani department of computer science george mason university fairfax virginia usa nesfaha2 gmu.edusam malek department of computer science george mason university fairfax virginia usa smalek gmu.edukaveh razavi department of computer science george mason university fairfax virginia usa srazavi2 gmu.edu abstract a system s early architectural decisions impact its properties e.g.
scalability dependability as well as stakeholder concerns e.g.
cost time to delivery .
choices made early on are both difficult and costly to change and thus it is paramount that the engineer gets them right .
this leads to a paradox as in early design the engineer is often forced to make these decisions under uncertainty i.e.
not knowing the precise impact of those decisions on the various concerns.
how could the engineer make the right choices in such circumstances?
this is precisely the question we have tackled in this paper.
we present guidearch a framework aimed at quantitative exploration of the architectural solution space under uncertainty.
it provides techniques founded on fuzzy math that help the engineer with making informed decisions.
index terms software architecture uncertainty decision making i. i ntroduction a software system s early architecture is the set of principal decisions made at the outset of a software engineering project.
early architecture encompasses choices at application system and hardware level that could have an impact on the software system s properties.
a candidate architecture results from selecting a viable alternative for each and every decision.
a common practice is to carefully assess the system s early architecture for its ability to satisfy functional and nonfunctional requirements as well as other stakeholder concerns such as cost and time to delivery.
early architectural decisions are crucial as they determine the scope of capabilities and options that can be exercised later in the system s life cycle.
given the crucial impact of early architectural decisions on the system s properties changing them in subsequent phases of the engineering process are often both difficult and costly.
at the same time making such decisions is a complex task mired with lots of uncertainty.
getting them wrong poses a risk to any software engineering project.
one of the major thrusts of the software engineering research has been to transform the process of making such decisions from an art form exercised successfully by a select few to a repeatable process guided through scientific reasoning and formal analysis.
a few notable examples include atam cbam and archdesigner .
such efforts have not aimed to replace the engineer s experience and knowledge but to rather augment it through provisioning of appropriate methods and tools.
while great strides have been made the existing approaches do not provide adequate support for dealing with uncertainty in early architecture .
in fact there is no quantitative method of even comparing two architectures under uncertainty let alone selecting the right architecture from the many possible candidates .
in this paper we describe guidearch a quantitative framework and accompanying tool aimed at guid ing the e xploration of arch itectural solution space under uncertainty.
it allows the architect to make informed decisions using imperfect information.
this alleviates the architect from manually sifting through an often large solution space and instead allows her to focus on the decisions that are critical to the system s success.
unlike any existing approach guidearch explicitly represents the inherent uncertainty in the knowledge and incorporates that in the analysis.
it enables an incremental method of making and refining architectural decisions throughout the engineering process.
as the rough estimates in the early stages give way to precise estimates in the later stages guidearch allows the architect to refine the models and explore other suitable alternatives.
guidearch employs fuzzy mathematical methods to reason about uncertainty.
we have devised a novel fuzzy operator that forms the foundation for quantitatively comparing architectural candidates under uncertainty.
the fuzzy operator is then used to develop advanced analysis techniques including optimization and ranking of architectures and identification of critical design decisions.
the remainder of this paper is organized as follows.
section ii describes a case study and uses it to motivate the research.
section iii provides an intuitive description of the approach while sections iv vi present the details.
section vii provides a thorough evaluation of the research.
section viii outlines the related research.
the paper concludes with a discussion of limitations and future research.
ii.
m otivation and research objective we use a mobile software system called situational awareness system sas to motivate describe and evaluate our research.
sas is developed in collaboration with a government978 .
c ieee icse san francisco usa 41table i overview of sas c ase study .
decisions h alternatives h location finding1 gps radio triangulation file sharing package1 openintents in house report synchronization1 explicit implicit chat protocol1 xmpp open fire in house map access1 on demand google cached on server preloaded esri hardware platform1 nexus htc droid motorola connectivity1 wi fi 3g on nexus 3g on droid bluetooth database1 mysql sqllite architectural pattern1 facade peer to peer push based data exchange format1 xml compressed xml unformatted dataproperties h battery usage response time reliability ramp up time cost development time deployment time agency for the deployment of personnel in emergency response scenarios.
sas is intended to allow the emergency crew carrying android devices to share and obtain an assessment of the situation in real time e.g.
interactive overlay on maps and coordinate with one another e.g.
send reports chat and share video streams .
we seized the development of this software system as an opportunity to perform our study.
in architecting the sas application a team consisting of academics and engineers from the agency was formed to decide among the early design decisions.
table i shows the decisions and alternatives that comprised the sas project.
the requirements posed by the entities within the agency sponsoring the project also called for several areas of concern which the team derived over several project meetings with the various stakeholders.
the concerns are referred to as properties of the architecture system.
although not depicted in the table some of the decisions depend on one another.
for instance the choice of connectivity depended on the selected hardware platform .
fig.
illustrates the relationship between decisions alternatives and properties.
each decision consists of several viable alternatives the selection of which results in different candidate architectures.
each architecture in turn exhibit its own unique properties e.g.
response time andbattery usage in fig.
are two such properties.
our experiences with sas and other systems show that precisely predicting the impact of an architectural alternative on the system s properties is extremely difficult particularly in early phases of engineering.
this difficulty is due to uncertainty.
previous approaches targeted at early architecting have ignored uncertainty and assumed the impact of early architectural decisions can be quantified precisely.
we collectively refer to them as the traditional approaches in this fig.
.
architectural pattern decision along with its alternatives and their impact on the properties in sas s early architecture.
paper.
a body of literature e.g.
has investigated the use of probabilistic models for representing uncertainty in the system s architecture but such approaches are only useful in settings where probabilistic information is available e.g.
at runtime which is often not the case in the early architecture phase.
the challenge motivating this research is how to enable the architect make informed decisions in such circumstances?
answering this question requires us to first understand how the practitioners make these decisions.
although an architect may not be able to precisely quantify the impact of decisions on the system s properties surely she must have some intuition or rough estimate of their impact as no successful system comes to existence through random decisions .
this intuition may be based on the data available from similar designs in other systems architect s prior knowledge manufacturer specification scientific publication expert judgment etc.
for instance as depicted in fig.
when presented with two alternative architectural patterns for the system the architect may be able to distinguish between the two by classifying one s impact on response time to be low and the other one asmedium .
in some other cases the architect may have more specific knowledge of the situation and specify the impact as a range of values.
in the example of fig.
the architect specifies the impact on battery usage as a range.
this paper presents a novel quantitative framework and supporting tool that given such loosely defined estimates help the architect with making the best decisions.
iii.
a pproach in this section we first define the scope of our research followed by an intuitive description of our approach.
a. definition and scope of uncertainty before delving into the approach it is important to clarify what we mean by uncertainty.
the scope of uncertainty dealt with in our paper has to do with not knowing the exact impact of architectural alternatives on properties of interest i.e.
not being able to precisely specify the impact as a crisp value.
however there are other sources of uncertainty in early architecting that are not tackled in our work.
consider for instance the uncertainty introduced by the following questions 42fig.
.
evolution of how the architect expresses impact on properties a enumerated values where the bold one represents the one that is selected b range of concrete values and c convergence towards a crisp value.
have all of the properties of concern been elicited?
have all of the decisions and alternatives been identified?
while the ability to answer such questions is clearly crucial they fall outside the scope of our research.
b. representing uncertainty in alternatives as alluded to in section ii the architect may estimate the impact of an alternative on the properties in two ways range when the architect has a rough estimate of the value the architect could specify it as a range e.g.
a particular choice is anticipated to have jof battery usage with jand jin optimistic and pessimistic situations respectively.
enumeration sometimes the architect may have no way of quantifying the impact even as a range.
in such cases the architect abstractly specifies the impact of an alternative in relation to other alternatives through enumeration e.g.
certain alternative is likely to have a low response time.
here low may not say much about the actual values e.g.
seconds but nevertheless carries useful information that influences the decisions early on.
these two mechanisms are aligned with the way humans in general conceptualize uncertainty and provide an intuitive method of modeling the architect s imperfect knowledge.
the key contribution of guidearch is the ability to provide quantitative analysis of the trade offs given such loose specifications.
we achieve this by representing the uncertainty as a fuzzy value .
a fuzzy value is founded on the concept offuzzy set .
in a fuzzy set the elements have a degree of membership.
degree of membership also known as possibility is a value between zero and one a value of zero indicates the element is certainly not a member of the set a value of one indicates it is certainly a member and a value in between indicates the extent of certainty it is a member.
fuzzy math is grounded in possibility theory which provides an alternative to that of probability theory and has shown to be particularly useful in settings where uncertainty is due to ambiguity rather than variability.
a common misconception is that fuzzy math is imprecise.
on the contrary fuzzy math just like probability provides a precise and sound method of dealing with uncertainty.
we take slightly different approaches to transform the enumerated values and range of values to the corresponding fuzzy representations.
as shown in fig.
2a the enumerated value is simply mapped to fuzzy values that divide the normalized domain equally.
we do this because the architect has no way of quantifying the impact of alternatives on the properties yet has some intuitions as to how alternatives compare to one another.
on the other hand when the architect can specify the impact as a range we assign the possibility of to fig.
.
uncertainty modeled as fuzzy values using possibility theory a the fuzzy values for response time andbattery usage b their summation to determine the architecture s total value and c the total value for three hypothetical architectures.
theanticipated most likely value and possibility of to the optimistic andpessimistic respectively.
we let the possibility to decrease linearly from the anticipated to the optimistic and pessimistic points.
as a software project progresses the architectural models become more concrete and enriched with information collected from simulations and prototypes subsequently increasing the accuracy with which impact of alternatives can be estimated.
thus as depicted in fig.
we expect to see the impact of alternatives expressed mostly through enumeration at the outset of a project to give way to ranges of values in later iterations and eventually converge to crisp values toward the end.
c. calculating uncertainty in a candidate using the above approach the impact of any given alternative on each property is modeled as a triangular fuzzy value .
as we detail in section iv b these low level measures of uncertainty are combined to calculate the uncertainty in the properties of candidate architectures.
for instance fig.
3a depicts the fuzzy values corresponding to the response time p1 and battery usage p2 for an architectural candidate.
we use to represent anticipated optimistic and pessimistic respectively.
due to uncertainty the actual value of the property may be anywhere in that range.
given the fuzzy impact of candidates on properties we can quantify the overall value of a given architecture.
assuming the properties have been normalized to a value in range and that all properties have the same importance the total value for an architecture arch can be calculated as fuzzy summation of the impact of candidates on the properties.
when fuzzy numbers are summed up the pessimistic anticipated and optimistic values are added independently of each other to arrive at a new fuzzy value.
for instance adding fuzzy values for response time andbattery usage in fig.
3a results in the fuzzy value shown in fig.
3b which represents43the total value of the corresponding architecture arch .1since an architecture with a lower value is preferred we call the situation in which the actual value is between anticipated and pessimistic the negative consequence of uncertainty risk and the situation in which the actual value is between anticipated and optimistic the positive consequence of uncertainty opportunity .
d. comparing candidate architectures fuzzy summation allows us to transform the multidimensional problem into a single scalar value where the architectures can be compared with one another.
however since the scalar value itself is fuzzy comparing the architectural solutions remains a challenge.
when comparing two fuzzy numbers the one with the better range is superior.
we say the fuzzy value of one architecture is better than another if it has a c1 smaller anticipated value c2 larger positive consequence of uncertainty and c3 smaller negative consequence of uncertainty .
fig.
3c shows the total value of the properties for three hypothetical architectures a b and c which are represented as fuzzy values.
using fig.
3c we describe two possible scenarios that may occur in comparing architectures this way.
the first scenario occurs when a given architecture is inferior to others with respect to all three criteria.
for instance in fig.
3c architecture ais inferior to architectures band c with respect to all three criteria.
the second scenario occurs when there are trade offs.
for instance architectures bandc present a trade off as architecture bis superior to architecture cwith respect to c2 and c3 and inferior with respect to c1.
section v describes in detail how we can resolve such tradeoffs.
the ability to compare architectures under uncertainty provides the basis for exploration and making architectural decisions.
iv.
e arly architecture selection problem equipped with a basic understanding of the problem and approach from the previous section we now delve into the details.
here we formally specify the problem of making early architectural decisions under uncertainty.
a. decisions and alternatives we denote the set of architectural decisions as setd.
each decisiond2dhas several alternatives which we denote as setad.
we define the set of all alternatives as follows a s d2dad.
the architecture space is a proper subset of the alternatives where for each decision there exist one and only one alternative that is selected as follows as farch aj8d2d 9a2ad a2arch 8a2arch a2ad b2ad b6 a b2arch g thus the size of the architecture space is q 8d2djadj.
for example in our case study shown in table i we have a total of26 912possible architectural candidates.
1the fuzzy summation used here is defined in which has proven to produce another proper possibility distribution.for each design alternative a2a we introduce a binary decision variable xa which takes the value of if the alternative is selected and otherwise xai ai2arch .
b. properties and coefficients we denote the properties stakeholders are interested in as setp.
for alternative a2aand property p2pwe use cp ato denote the effect of design alternative aon property p and we call it a coefficient .
the tilde accent indicates that the coefficient is a fuzzy value.
the set of properties pis partitioned into two subsets pmin andpmax indicating properties that need to be minimized e.g.
battery usage and maximized e.g.
reliability respectively.
sp arch defines the estimate of property p2pfor a given architecture arch2as.
this function needs to combine the impact of individual alternatives on pto estimate the impact of the candidate architecture on pas a whole.
the way this can occur depends on the nature of the property and the structure of the candidate architecture.
certain properties such as the total battery usage bu2p of a candidate architecture can be quantified by summing the coefficients impact of the selected alternatives as follows sbu arch pjaj i cbu ai xai .
but for some other properties e.g.
availability simply summing the contributions of individual alternatives does not result in a meaningful quantification of the corresponding candidate s property.
detailed treatment of such differences is beyond the scope of this paper.
we have relied on the previous work that has developed mathematical templates for quantifying several commonly encountered qos properties at the architectural level.
we simply use our fuzzy operators in the context of their templates to deal with uncertainty.
as detailed later in the paper we would like to reason about the impact of alternatives on several properties with different units scales and thus we normalize spas follows nsp arch sp arch minp maxp minp in cases where the absolute minimum and maximum values are known e.g.
reliability where minimum is and maximum is they could be simply used.
otherwise first for eachd2d p2p we letmaxp dbe equal to the most optimistic pessimistic value of the alternative a2adthat achieves the maximum value for p next maxpis calculated by summing all maxp dvalues.minpcan be calculated in an inverse of the way maxpis calculated.
c. priorities stakeholders are typically concerned about some properties more than others.
identifying their concerns and prioritizing them in terms of risk and importance is the centerpiece of modern software engineering processes .
to that end for each property p2p we define an integer p2 indicating the priority of property pto stakeholders.
the higher the priority the more important that property is to the stakeholders.
we chose this particular representation of priority to be consistent with the existing literature 44which gives us some confidence that stakeholders can indeed priorities their concerns in this fashion.
d. total value of a candidate architecture we let s arch represent the total value of a candidate architecture arch2as which is calculated by subtracting the total value of the properties that need to be maximized from those that need to be minimized as follows s arch x p2pmin p nsp arch x p2pmax p nsp arch the goal is to find an architecture arch2as with the lowest value of s arch as it results in minimizing the pmin and maximizing the pmax.
here contribution of each property is controlled by its priority p. since fuzzy math is closed under these operations the total value is also a triangular fuzzy number.
e. dependencies conflicts and constraints some architectural candidates may not be valid.
an alternative from one decision may depend on alternative s from other decisions requiring them to be enabled.
for instance as mentioned in section ii in the case of sas connectivity decision depends on the choice of hardware platform e.g.
since gps capability is not available on certain devices .
we model these dependencies using the function dep a!2a which given an alternative returns a set of alternatives that are dependent on it.
the dependency constraint for arch2asis then formally specified as follows 8a2arch xa q 2dep a x an alternative may also conflict with alternative s from other decisions requiring them to be disabled first and vice versa.
we model these conflicts using the function con a!
2a which given an alternative returns a set of alternatives that conflict with it.
we formalize these constraints for arch2as as follows 8a2arch xa p 2con a x a property may have certain thresholds i.e.
limitations .
for instance battery usage may be required to be less than j. given the set thd representing those property constraints we formally specify these relationships as follows 8p2pmax thdp sp arch 8p2pmin sp arch thdp v. c omparing architectures recall from section iv d that a smaller value of sindicates a better architecture.
we say between two valid architectures arch arch 22as arch 1is better than arch if s arch s arch this is a fuzzy comparison since the two sides are fuzzy numbers.
here we are comparing the fuzzy range of possible values for the two architectures.
we formalize this by breaking down the fuzzy operator into three comparisons.
let za s represent the anticipated value fig.
.
intuition behind fuzzy comparison operator.
zp js s jrepresent the positive consequence of uncertainty and zn js s jrepresent the negative consequence of uncertainty.
fig.
provides the intuition behind the three comparisons where a smaller value of zaandzn and a larger value of zpare collectively considered to be representative of a smaller fuzzy value and thus a better architecture.
we thus rewrite equation as s arch s arch za1 za2 zp1 zp2 zn1 zn2 the three comparisons on the right are formal representations of the three criteria from section iii d. our fuzzy comparison operator is an instance of a multidimensional comparison and to decide which range is lower we first need to transform it to an equivalent singledimensional comparison.
this is necessary to allow us to reason about the trade offs such as those depicted in fig.
3c.
the transformation process entails normalizing the values being compared combining the comparison dimensions and if necessary weighting the comparisons differently.
in the remainder of this section we provide a detailed description of these three steps.
a. normalizing the values being compared since thezvalues are defined differently in terms of s arch they are not comparable.
therefore before combining the comparisons we first have to normalize the zvalues.
we use normalizing linear membership function which is a function that maps each zto a value between and 8i2fa p ng zi dom zi !
.
this allows us to have zvalues with the same range.
for defining each function we first need to determine the two extremums for each z the extremum minimizing zis called positive ideal solution pis and the one maximizing zis called negative ideal solution nis .
we can obtain these values by performing the following optimizations where argmin andargmax find the minimum and maximum values respectively zpis a argmin arch2as za znis a argmax arch2as za zpis p argmax arch2as zp znis p argmin arch2as zp zpis n argmin arch2as zn znis n argmax arch2as zn note that the nis and pis definitions for zaandznare reverse of that of zpdue to their semantic differences i.e.
we prefer a solution with small zaandzn and largezp .
we specify to return for the pis value for the nis value and proportionally linear between the two extremums za8 za zpisa za zpis a znisa zpisazpisa za za znisa znisa za zp8 zp znisp zpis p zp zpisp znispznisp zp zp zpisp zpisp zp znis specified similar to za.
fig.
shows instances of za and zpthat normalize the outputs of zaandzp respectively.
since the definitions of nis and pis are reversed the normalizing function zaand znare increasing while zpis decreasing.
defining the normalization functions this way also allows us to flip the comparison for zp.
in other words zp1 zp2becomes the normalized equivalent of zp1 zp2.
thus we rewrite equation using the normalized values as follows s arch s arch 8i2fa p ng zi1 zi2 b. combining the comparisons given that now we are dealing with three comparisons that have the same range and direction i.e.
less than or equal we use a conventional technique to transform the multidimensional comparison of equation to a single dimensional form.
we define to be the maximum of the three normalized values as follows maxi2fa p ng zi therefore s arch s arch .
while this transformation may not hold for three arbitrary comparisons since here the numbers are constrained by the triangular relationship that comprises a fuzzy value the transformation is universally valid see .
hence if the value of 1for arch 12asis less than the value of 2forarch 22as we concludearch 1has a lower range and more desirable.
for all practical purposes it is also possible to use the summation of the normalized values as a collective approximation of the extent in which one architecture is better than the other .
c. weighting the comparisons in the above formulation the three comparisons have the same importance which is not necessarily the case in certain domains.
for instance in risk averse domains it is typically desirable to put more emphasis on reducing the negative consequence of uncertainty risk and achieve some level of assurance.
thus a conservative architecture where minimizing zntakes precedence over others is preferable.
we achieve this by assigning weights wa wp wn wherewa wp wn to normalized values za zp and zn respectively.
the weights specify the importance of each comparison relative to fig.
.
linear membership function for a zaand b zp.others.
thus we rewrite equation by including the weights as follows maxi2fa p ngwi zi vi.
e xploring the solution space the ability to compare architectures under uncertainty provides the foundation for architectural exploration.
we now describe four ways in which guidearch helps with this.
a. identifying valid architectures and critical constraints guidearch allows us to identify the subset of architectural solutions that are valid even when there is uncertainty in the knowledge.
an architecture is valid if it satisfies the constraints presented in section iv e. an issue is how to check the property constraints since they involve comparing the crisp value i.e.
thd with a fuzzy value i.e.
sp arch .
consider for instance a constraint for the cost of realizing an architecture which is one of the properties as you may recall table i to be less than .
evaluation of this constraint is challenged by the fact that the estimated cost of realizing the architecture is a fuzzy value.
constraints including those specified on properties are intended to be treated as absolute limitations and thus we consider the worst case which occurs at the pessimistic point i.e.
s p .
thus we rewrite the property constraints of equation as follows 8p2pmax thdp s p arch 8p2pmin s p arch thdp comparing the threshold with the worst case ensures an architectural candidate is valid even when the negative consequence of uncertainty takes effect.
the ability to identify valid architectures not only ensures the architect does not pick a solution that is invalid but can also be used to provide useful statistical measures.
guidearch provides the percentage of architectures in the solution space that are disqualified by each constraint.
this allows the architect to identify the limiting constraints and to explore their trade offs.
if certain trade offs are deemed appropriate they could be communicated to other stakeholders and thereby set the stage for revising the constraints through negotiations.
b. finding the optimal architecture guidearch could also be used to find the optimal architecture under uncertainty.
an architecture is optimal for a given problem if it achieves the minimum value of and satisfies the three types of constraints described in section iv e. we define this as a linear programming problem of argmin arch2as arch which is subject to the constraints of equations and here the solver uses the approach described in section v to compare the total value of properties between the candidate solutions.
the architecture with the minimum value of is the one that achieves the best combination of small anticipated value small risk and large opportunity.46c.
ranking the architectures the ability to find the optimal solution is complemented with the ability to see a ranking of candidates.
there are several reasons for this.
first of all architects bring valuable domain expertise and experience that cannot be represented in existing tools including guidearch.
thus it is possible that an architect may select an architecture that is slightly worse than optimal for reasons that are not modeled in the tool.
reasons for such decisions could range from unfounded biases e.g.
preference for not purchasing products from a particular company to technical intuitions e.g.
emerging standards .
secondly the ability to see the top ranked candidates allows the architect to gain insights into why guidearch selected a solution as optimal.
such rankings could help the architect gain a better understanding of the trade offs and increase her confidence in the analysis.
guidearch uses the ability to compare architectures described in section v to also rank them from best top to worst bottom .
we let rrepresent the ranking of top tarchitectures as an ordered list r harch arch tiwherearchi2as 8archi2r c2as c 2r s c s archi 8archi archk2r i k s archi s archk value oftis a configurable threshold in guidearch.
here candidates with better lower range appear at the top.
d. identifying and ranking the critical decisions modern software processes advocate an iterative approach where in each iteration the decisions made in the previous cycles are assessed and risks are mitigated .
generally it is desirable to resolve decisions that pose a high risk early on and architecture is typically considered to provide the appropriate level of abstraction to enable such analysis .
guidearch helps the architect identify decisions that are likely to be critical to the success of the project and thus pose the greatest risk.
the insight is that a decision dis likely to be crucial if it satisfies the following two criteria magnitude of impact the selected alternatives from a decision have a big impact on the properties of top ranked architectures.
this is reasonable as the architect is likely to select one of the top ranked architectures and if a particular decision contributes heavily to those architectures it is likely to be a crucial decision i.e.
getting it wrong results in a large error.
uncertainty of impact the impact of selected alternatives from decision don the top ranked architectures is highly uncertain.
when there is a lot of uncertainty in the impact of a decision on the top ranked architectures there is an increased possibility of error.
when the two criteria are present in a decision we say that the decision is critical as it is both significant and risky.
we quantify the impact of an alternative a2aon the properties as follows ea p p2pmin p cp a maxp p p2pmax p cp a maxp we then define the impact of a decision d2don the properties of the top tranked architectures as follows ed pt r eawherea2archr a2ad edis the magnitude of impact due to decision don the top ranked architectures.
this approach gives equal weight to the choices made in the ranked architectures.
however since the architect is more likely to select from architectures that are ranked at the top over those that are ranked at the bottom we discount the influence based on the order.
thus we reformulate the above equation by incorporating a logarithmic decay to discount the influence of alternatives as we traverse from the top to bottom of ranked architectures ed pt r ea e rwheree ris the formulation of logarithmic decay and is the decay factor.
the larger the more emphasis is placed on the alternatives appearing at the top of the ranking.
this is a heuristic that per our experience most naturally captures the increased likelihood of the architect selecting the higher ranked architectures but using other decay factors e.g.
linear decay is also possible.
unlike the ranking of architectural candidates where we are interested in the best solutions here we are interested in finding the most critical worst decisions.
we use the fuzzy comparison operator to rank the decisions from worst top to best bottom .
recall from section v that this operator not only measures the magnitude of impact but also the range of uncertainty.
let lbe the ranking of nmost critical decisions as an ordered list l hd1 dniwheredi2d 8di2l c2d c 2l ec edi 8di dk2l i k edi edk the top ranked decisions are good candidates to be investigated further to mitigate risk.
based on this information the architect may take a number of actions such as expanding the critical decisions by allowing for additional alternatives or simply reducing the uncertainty by investing resources and time e.g.
prototyping to develop a better understanding of the alternatives impact.
vii.
e valuation evaluation of software architecture research is difficult as it often hinges on industry participation.
we feel fortunate to have had a unique opportunity to employ and evaluate our research in the context of a real world project.
guidearch was used by a team of engineers and academics to explore the architectural space of the sas project.
in addition we have tried to augment our experiences in the real world with the experiments performed in the laboratory.
the study was supported by an interactive tool realizing guidearch.
fig.
shows two snapshots of the tool in the back we have the screen used for getting the architect s input as to the expected range of impact each alternative may have on the system properties recall cp a while in the front we have the screen displaying the critical decisions and their impact recall ed on the properties of the top ranked architectures.
the tool is web accessible to facilitate sharing 47fig.
.
snapshots of guidearch in action showing the coefficients back and critical decisions front .
collaboration and negotiation among the various stakeholders.
we used microsoft r silverlighttmas our platform which has appropriate plug ins for mainstream web browsers.
the tool is integrated with microsoft r solver foundation for optimization purposes.
the tool also provides several features to enable exploration of the architectural space including color coding to indicate the importance of decisions and measure the quality of candidate architectures and ranking of the architectures based on various tunable parameters.
for the sake of readability we do not use snapshots of the tool for presenting the evaluation results and refer the reader to the project site to access the tool and case study data.
in this section we first describe some of the salient outcomes of this study followed by the results obtained through additional experiments in the laboratory.
a. critical constraints one of the early requirements posed by the client in sas was to keep the cost of a single handheld device includes the cost of the hardware and off the shelf software packages below .
while the team already had a hunch that the requirement was overly constraining there was no method of establishing the extent of it.
in particular since the impact of most alternatives on properties was uncertain the team had no way of knowing exactly what portion of the architectural space would be disqualified by such a constraint.
using the technique described in section vi a guidearch showed that this constraint alone disqualifies candidates out of potential solutions.
this allowed the stakeholders to obtain a quantitative yet intuitive assessment of the cost constraint on the choices.
in a series of negotiations the stakeholders agreed to relax the constraint by increasing the limit to .
this increased the number of valid architectures which in turn resulted in finding better candidates.
however even the relaxed 2available at nesfaha2 projects guidearch.constraint disqualified architectures and remained as the critical constraint in the project.
in the remainder of analyses and experiments reported here the relaxed cost constraint was used.
b. ranking fig.
shows the flattened triangular fuzzy value of sample sas architectures calculated by guidearch.
the horizontal axis marks the architectures rankings.
as you may recall from section v one architecture is better than another if it has a lower zaandzn and a larger zp.
in sas we gave equal weights to the satisfaction of each of those conditions i.e.
wa wn wp .
looking at fig.
we can gain insights into the analysis performed by guidearch.
for instance 1st architecture which is picked as optimal by guidearch has the best combination of three zvalues i.e.
it has a lower za smallerzn and larger zpthan the majority of candidates.
as a result while 1st architecture may be slightly inferior to some candidates with respect to one of the three conditions it achieves the best set of trade offs.
c. optimal architecture to illustrate the benefits of guidearch we compare it against what we call the traditional approach.
recall from section ii that by traditional approach we collectively refer to any prior research that performs the analysis based on point estimates i.e.
ignores uncertainty .
more specifically here we compare the results of guidearch against that of archdesigner which has aimed to solve a similar problem as that described in this paper albeit without considering uncertainty.
we observed that the traditional approach would have selected the 486th candidate in fig.
as the optimal solution.
traditional approaches only minimize the anticipated value za .
comparing the difference between 1st and 486th candidates sheds light on the contributions of guidearch.
486th architecture achieves the lowest zaamong all valid architectures including the 1st architecture.
however 486th architecture has a very large negative consequence of uncertainty which has been ignored by the traditional approach.
on the other hand guidearch selects a solution that has a slightly inferior za but with a better range of uncertainty.
fig.
.
the triangular fuzzy value of architectural candidates in sas.48fig.
.
critical decisions a comparing the decisions in the first iteration and b improvement in the optimal architecture after revising the critical decision in the subsequent iteration.
d. critical decisions guidearch was also used to identify the critical decisions.
fig.
8a shows the estimated impact of decisions i.e.
ed as well as the ranges of uncertainty in those estimates which as you may recall from section vi d determine their criticality.
we can see location finding is the most critical decision since it has a large effect on the ranked architectures indicated by high y axis position and has a very large range of uncertainty indicated by the span of the arrow.
if we use the fuzzy comparison operator recall section v location finding s edis larger than all other decisions.
this analysis formed the first iteration of using guidearch.
it helped the team identify the critical decisions early on and focus additional efforts on studying them.
as a result the team came across an advanced state of the art variation of the traditional radio triangulation that presented the project with a new alternative for location finding .
given that a prototype of this solution had been developed evaluated and published the new alternative was estimated to have significantly smaller battery usage faster response time and smaller range of uncertainty.
guidearch was applied to the revised problem.
fig.
8b shows the range of total value i.e.
s for the best candidate architecture picked by guidearch in this second iteration compared to the best candidate picked in the first iteration.
as fig.
8b shows the introduction of the new alternative i.e.
smart radio triangulation improved the total value of the optimal architecture and reduced the uncertainty.
e. tuning guidearch in the sas project we gave the same weight to the three comparisons i.e.
wa wn wp .
however recall from section v c that weights could be used to tune guidearch to be more conservative or bold in its analysis.
we performed a set of experiments on the sas model to assess the impact of weights on the optimal architecture selected by guidearch.
to allow for comparison in fig.
we show the result for the balanced weight assignment i.e.
which corresponds to the candidate ranked 1st in fig.
.
also note that when wa andwn wp guidearch behaves exactly like the traditional approach.
therefore the optimal architecture for that weight assignment in fig.
i.e.
is the same as candidate ranked 486th in fig.
.
this is because the consequence of uncertainty is ignored.
as expected in the two experiments with high wn guidearch selects a conservative solution i.e.
puts more emphasis on minimizing the negative consequence of uncertainty.
in the two experiments with high wp guidearch selects a risky solution i.e.
puts more emphasis on maximizing the positive consequence of uncertainty.
both approaches come at the cost of achieving mediocre anticipated total value.
while in our experiments a balanced weight assignment has shown to achieve the most appropriate trade offs we can envision situations in which placing emphasis on one of the comparisons may be more appropriate which guidearch allows for naturally.
viii.
r elated work making architectural decisions is a problem that has been studied from both design time and run time perspectives.
the uncertainty issues in the latter have been mainly researched in the area of autonomic computing .
here we discuss only those targeted at design time since that has been the focus of our work.
archdesigner is an approach to find an optimal architecture that meets conflicting stakeholders quality goals.
archdesigner uses linear programming to find the optimal architecture.
cbam is a quantitative approach for economic modeling of software engineering decisions which builds upon atam .
cbam provides the cost and benefit of different architectural candidates.
archeopterix is a tool for optimizing an embedded system s architecture.
it uses evolutionary algorithms for multi objective optimization of such systems.
while many of these approaches acknowledge the challenges posed by uncertainty none addresses it explicitly and via a mathematical framework.
palladio uses information about components comprising the architecture to derive analytical models and simulate the system s performance.
random variables are used to specify uncertainty in service demands and iterations.
meedeniya et al.
estimate the reliability of a given software architecture by combining reliability of its elements expressed as probability distributions using monte carlo simulation.
these approaches are complementary to guidearch as they could be used in the later phases of software architecting where probabilistic fig.
.
the optimal architecture for different weights.49information about the components comprising a software system can be obtained e.g.
from prototypes .
doyle et al.
present an approach to compare candidate architectures assuming the availability of a probability distribution representing the response time of each architecture.
instead of fuzzy math they rely on extensive integration to compare the distributions which are computationally expensive making their approach inapplicable to large systems.
noppen et al.
use design tree to navigate in the design space which may include imperfect information.
they consider each alternative independent of others.
guidearch on the other hand considers all alternatives influencing the system s properties at the same time.
finally in a short position paper we have argued for the utility of fuzzy logic in addressing the uncertainty issues in early architecture.
ix.
c onclusion in any software project early architectural decisions represent some of the most crucial decisions engineers ever make.
yet there is a lack of techniques and tools for helping the engineers to make those decisions.
we presented guidearch a novel framework that guides the engineers in making the best choices possible under uncertainty.
it provides a combination of capabilities such as ranking the architectures finding the optimal and identifying the critical decisions that collectively help with the exploration of the solution space.
guidearch is tunable allowing the engineer to set the analysis to be as conservative as desired.
while thorough evaluation of guidearch in the context of a case study as well as laboratory experiments allowed us to experience its benefits firsthand it also revealed several areas of future improvement.
one area of future work is to extend the current model from a unified stakeholder perspective to amultiple stakeholder perspective.
we currently assume all stakeholders have agreed on the impact of alternatives on properties and their priorities.
however this may not always be the case presenting guidearch with yet another source of uncertainty.
future work also includes extending guidearch to deal with the other types of uncertainty discussed in section iii a. moreover guidearch currently represents uncertainty as a triangular fuzzy value which is not only the most widely used fuzzification approach but also universally applicable.
however in our future work we also plan to experiment with alternative representations e.g.
trapezoidal and gaussian that seem to offer some unique trade offs.