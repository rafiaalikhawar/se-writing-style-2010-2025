how do software engineers understand code changes?
an exploratory study in industry yida tao1 yingnong dang2 tao xie3 dongmei zhang2 sunghun kim1 the hong kong university of science and technology hong kong china idagoo hunkim cse.ust.hk microsoft research asia beijing china yidang dongmeiz microsoft.com north carolina state university r aleigh nc usa xie csc.ncsu.edu abstract software evolves with continuous source code changes.
these code changes usually need to be understood by software engineers when performing their daily development and maintenance tasks.
however despite its high importance such change understanding practice has not been systematically st udied.
such lack of empir ical knowledge hinders attempts to evaluate this fundamental pra ctice and improve the corresponding tool support.
to address this issue in this paper we present a large scale quant itative and qualitative study at microsoft.
the study investigates the role of understanding code changes during software development process explores engineers information needs for understanding changes and their requirements for the corresponding tool support.
the study results reinforce our belief s that understanding code changes is an indispensable task performed by engineers in sof tware development process.
a number of insufficiencies in the current practice also emerge from the study results.
for example it is difficult to acquire important inf ormation needs such as a change s completeness consistency and especially the risk i mposed by it on other software components.
in addition for unde rstanding a composite change it is valuable to decompose it into sub changes that are aligned with indivi dual development issues however currently such decomposition lacks tool support.
categories and subject descriptors d. .
coding tools and techniques general terms experimentation human factors keywords code change code review information needs tool support .
introduction software undergoes continuous changes through which new features are added bugs are fixed and performance is improved.
these code changes usually need to be understood by software engineers when performing their daily development and maint enance tasks.
previous research has suggested that understanding code changes is the basis of various advanced development tasks such as troubleshooting unexpected behavior and monitoring maintenance of code clones .
to facilitate tasks of code change understanding various tools and systems have been developed for simplicity we refer to code change understanding as change understanding in the rest of this paper .
for example the ubiquitous and simple diff utility enables engineers to easily inspect code changes.
a series of work then emerged to extend the simple diff utility by tracking line movement distilling fine grained change entities and inferring systematic structural differences .
modern int egrated development environments ides and software config uration management systems scms further empower engineers the former allow code exploration and manipulation with a simple mouse click while the latter automatically track and manage code changes.
developer s name masked pst comment comment on attachment the return of the zombie killer review of attachment if hudref hud if hudref.consolepanel hudref.consolepanel.hidepopup why this change here?
this is the only one that doesn t seem to make sense for me.
the web console won t close it will only hide itself... a developer s name masked pdt comment comment on attachment part a revision the important bits struct cidentry const nscid cid bool service what is this used for i can t spot it in use anywhere and every component and service seems to have it set to false.
b figure .
mozilla bug a and b .
patch reviewers had difficulties in understanding the associated code changes.
see for details.
permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for co mponents of this work owned by others than a cm must be honored.
a bstracting with credit is permitted.
to copy otherwise to republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
sigsoft fse november cary n orth carolina usa copyright acm ... .
.
although equipped with these advanced tools engi neers som etimes still get stuck when understanding code changes.
figure shows two motivating examples from developers comments on two mozilla bug fixing changes.
ne ither developers as change reviewers fully understood the respective bug fixing change and they had to ask the patch submitters for explanation on the bug fixing changes.
in fact from the comment lists of mozilla bug reports we discovered a number of concerns from developers when they reviewed a proposed bug fixing change.
these concerns include the change s implementation detail1 whether it covers all the necessary files2 and the impact and risk of the change3.
the inability to acquire such information may hinder the work of both the change reviewers and the change committers and slow down the entire development process.
the first step to further assist engineers in understanding code changes is to gain good knowledge of engineers current pra ctice.
however no systematic study has ever been conducted to this end and little empirical knowledge has ever been provided.
without such study or empirical knowledge understanding and improving the current change understanding practice remains difficu lt and untargeted.
moreover any attempt to improve the corresponding tool support might be hindered by this lack of empirical knowledge .
to address these is sues we systematically studied software engineers at microsoft on their change understanding practice.
our study includes a large scale online survey and a series of follow up email interviews both are designed to address the following r esearch question s rq1 what is the role of change understanding during software development ?
specifically we intend to investigate under which development scenario s change understanding is required and how often it is required.
rq2 what are software engineers infor mation needs for unde rstanding code changes ?
in addition what kind of information is difficult to acquire with the existing tool support?
rq3 how to improve the effectiveness and efficiency of the pra ctice in understanding code changes ?
the quantitative data gathered from survey participants r eveals the indispensable role of change understanding practice.
understanding code changes is frequently required typically several times each day during major development phases such as implementation and ve rification.
to accomplish a changeunderstanding task engineers seek various types of information such as the change s quality e.g.
correctness completeness and consistency its risk e.g.
does this change break any code els ewhere?
and most importantly the rationale of this change.
we discovered that engineers face non trivial challenges when determining the risk of a change.
their current approaches to a ssess a change s risk mainly include testing and code review.
ho wever the testing approach is considered time consuming in rerunning all or even selected existing test cases and it heavily depends on the capability of the existing test cases to cover the change.
the code review approach is considered human intensive and error prone.
in additi on code reviewers do not fully benefit from the code exploration features provided by common ides e.g.
find all