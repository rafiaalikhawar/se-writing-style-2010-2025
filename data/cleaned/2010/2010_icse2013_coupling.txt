an empirical study on the developers perception of software coupling gabriele bavota1 bogdan dit2 rocco oliveto3 massimilano di penta4 denys poshyvanyk2 andrea de lucia1 1university of salerno fisciano sa italy 2the college of william and mary williamsburg v a usa 3university of molise pesche is italy 4university of sannio benevento italy abstract coupling is a fundamental property of software systems and numerous coupling measures have been proposed to support various development and maintenance activities.
however little is known about how developers actually perceive coupling what mechanisms constitute coupling and if existing measures align with this perception.
in this paper we bridge this gap by empirically investigating how class coupling as captured by structural dynamic semantic and logical coupling measures aligns with developers perception of coupling.
the study has been conducted on three java open source systems namely argouml jhotdraw and jedit and involved students academics and industrial practitioners from around the world as well as active developers of these three systems.
we asked participants to assess the coupling between the given pairs of classes and provide their ratings and some rationale.
the results indicate that the peculiarity of the semantic coupling measure allows it to better estimate the mental model of developers than the other coupling measures.
this is because in several cases the interactions between classes are encapsulated in the source code vocabulary and cannot be easily derived by only looking at structural relationships such as method calls.
index terms software coupling empirical studies.
i. i ntroduction coupling has been defined by stevens et al.
as the measure of the strength of association established by a connection from one module to another .
it is considered as one of the fundamental principles of software engineering with a strong influence on comprehension and maintenance of large software systems.
understanding the coupling between entities is useful for a variety of software development or maintenance activities such as assessing software quality predicting fault proneness supporting change impact analysis re engineering reuse change propagation and clone management .
the importance of coupling has motivated researchers to define different types of measures that capture various aspects of software quality.
most of the coupling measures are structural and they statically analyze the source code to capture different relations between entities e.g.
classes such as the number of calls between two entities variable accesses or inheritance relations.
over the years several alternative measures of coupling have been proposed such as dynamic coupling which takes into account call relationships occurring during program execution semantic coupling which exploits relations captured from the source code lexicon using infor mation retrieval techniques or logical coupling which uses historical data to identify co changing artifacts .
the rationale behind these three coupling measures dynamic semantic and logical is to capture relations between software artifacts which are not captured by structural coupling.
some empirical studies evaluated the potential use of many existing coupling measures and how these measures could be used in a complementary manner .
however despite these attempts to characterize different coupling measures it is still unclear to what extent such coupling measures reflect developers perception of coupling between classes and what sources of information align better with their perception.
in essence the following issue still remains completely unaddressed in the literature after several decades of research to what extent does the coupling level captured by measures reflects the strength of coupling perceived by developers?
to answer this question we conducted an empirical study aimed at investigating how different kinds of coupling measures reflect developers perception of coupling.
the study has been conducted on three open source systems namely argouml1 jhotdraw2 and jedit3 and involved students academics and practitioners as well as professional software developers that have been active contributors to these open source systems.
firstly we analyzed the extent to which these coupling measures overlap.
secondly we selected a number of class pairs from each system having both high and low coupling according to the studied measures and asked participants to assess the strength of those couplings.
thirdly we analyzed if the perceived coupling aligned with the one captured by the structural dynamic semantic and logical coupling.
in order to enrich the generalizability of the results achieved and gain a better understanding of these results we also analyzed to what extent the experimented measures reflect the mental model of the developers grouping together i.e.
in the same package classes that were originally grouped by the original developers.
specifically we used these coupling measures to reconstruct the original modularization of the software systems using a state of the art tool bunch and c ieee icse san francisco ca usa accepted for publication by ieee.
c ieee.
personal use of this material is permitted.
permission from ieee must be obtained for all other uses in any current or future media including reprinting republishing this material for advertising or promotional purposes creating new collective works for resale or redistribution to servers or lists or reuse of any copyrighted component of this work in other works.692using the movejoin effectiveness measure mojofm to evaluate the resulting decomposition.
the contribution of our paper is threefold.
first our study and the results provide important insights into better understanding how developers perceive coupling among classes and which measures align with programmers opinions.
it is an important step in understanding the practical implications of software measurement theory and identifying important future directions.
second we provide concrete results on how different coupling measures can be used for software modularization and which measures agree with the original software designers.
finally the study design the materials and the data are made publicly available in our online appendix4 for replication purposes or to support future studies aiming at evaluating other coupling measures.
we believe that the results of this work are a stepping stone for current and future approaches on coupling measures as well as new studies of software metrics that put developers in the loop.
structure of the paper .
section ii discusses the related literature.
sections iii and iv describe the design of our empirical study and present the analysis of the achieved results respectively.
section v discusses the threats to validity that could affected our study while section vi concludes the paper and presents the agenda for future work.
ii.
r elated work there are many existing coupling metrics that employ different types of information such as structural dynamic semantic or logical.
most of these metrics define coupling at the class level granularity by determining the degree to which two classes in an object oriented system depend on one another.
on the one hand the majority of existing coupling metrics capture coupling between classes structurally.
coupling between objects cbo response for a class rfc and information flow based coupling icp are among the representative structural coupling metrics.
due to space limitations we refer the interested reader to the unified framework for coupling measurement by briand et al.
which provides an overview of the structural metrics.
furthermore semantic metrics define a coupling for classes based on textual information extracted from source code identifiers and comments .
one such semantic metric ccbc conceptual coupling between classes captures a new dimension of coupling not addressed by structural or dynamic measures.
logical or evolutionary coupling utilizes information from repositories to capture the strength of relations among the artifacts including source code that are frequently co changed.
such logical coupling metrics have been used for impact analysis much like structural coupling metrics.
finally arisholm et al.
introduced dynamic import i.e.
object calls and export i.e.
called by metrics to capture the coupling between classes and objects at runtime.
there have been a number of research papers defining and using coupling metrics for various tasks there has been only one study that investigated if any coupling metrics align with developers opinions.
however the study by revelle et al.
defined and evaluated only structural and semantic coupling metrics.
moreover those metrics were defined at feature level only.
our study aims at bridging this gap and studying which metrics and sources of information are useful from a software developer s perspective.
beck and diehl measured the congruence between different types of coupling e.g.
structural semantic evolutionary fan out similarities code clones and code ownership and the modularity of a system.
their study on java systems revealed that i low coupling and high cohesion and ii information hiding are the two of the modularity principles that are used in practice.
our study complements beck and diehl s study by identifying which types of coupling are perceived as more useful by developers.
moreover in they showed that evolutionary coupling can be successfully used when performing software clustering if substantially evolutionary data is available.
the study by counsell et al.
approached the issue of investigating the developers perception of cohesion similarly to what we have done for coupling i.e.
by asking experienced and novice it professionals to evaluate the cohesion of classes from a java system.
they found that the perceived cohesion i is not correlated with the class size ii is correlated to comments density and iii does not depend on the developers experience.
the correlation they found with comments somehow reflect the findings of our paper concerning the capability of coupling to capture developers perception.
iii.
e mpirical study definition and design the goal of this study is to analyze different types of coupling measures structural dynamic semantic and logical coupling and investigate to what extent these measures reflect developers perception of coupling.
the context consists of i objects i.e.
source code execution traces and change history of three java open source systems namely argouml jhotdraw and jedit and ii subjects providing their perception of the strength of coupling between entities identified by the different coupling measures.
we recruited both original developers working on these projects as well as external developers students faculty members and industrial programmers.
as for the subject software systems argouml is an open source uml modeling tool with advanced features such as reverse engineering and code generation.
jhotdraw is a java framework for drawing 2d graphics initially developed to illustrate the applicability of object oriented design patterns.
jedit is an open source textual editor developed in java and supports source code editing.
the choice of these three systems is motivated by the need to have i systems of different sizes that are not too small nor too large to allow developers to assess coupling among classes in the context of an entire system ii systems belonging693table i characteristics of the coupling measures of the three object systems and analyzed data measure characteristic argouml .
jhotdraw .0b1 jedit .
.
structuralkloc of classes exploited metric information flow based coupling icp dynamicstmt.
coverage reached exploited metric import coupling class dynamic message ic cd semanticv ocabulary size exploited metric conceptual coupling between classes ccbc logicalperiod of analysis exploited metric association rule based change coupling to different problem domains iii availability of sufficient historical data and iv the possibility to collect execution traces by manually invoking specific features which capture the functionality that is exposed to the user through gui.
in addition in this way we avoid the need to have an accurate test suite to derive execution scenarios.
table i presents the characteristics of three systems involved in our study relevant for the four sources of information we used to obtain the coupling measures.
a. research questions the study answers the following research questions rq to what extent are the sources of information for coupling measures complementary?
this research question is preliminary to the other two and aims at determining whether the four coupling measures capture the same relations or whether instead there are links captured by some measures and not by others.
rq to what extent are the sources of information for coupling measures useful for capturing the strength of coupling as perceived by developers?
this research question is the core of our study and aims at investigating how developers of these three projects and external ones perceive the strength of coupling among classes as identified by our four measures.
rq to what extent do coupling measures reflect the mental model of developers when grouping together classes?
finally this research question considers the original system modularization as an oracle for assessing the coupling measures and determines to what extent a state of the art modularization tool bunch is able to produce using the four measures class clusters similar to the original ones.
b. variables and procedure independent variables.
the independent variables of our study are four representative and commonly used coupling measures each one exploiting a different source of information.
the first measure the structural coupling is quantified through the information flow based coupling icp by statically analyzing the software source code5.icp measures 5static analysis is performed by using eclipse s ast parser.the amount of information flowing into and out of a class via parameters through method invocation i.e.
the measure sums the number of parameters passed at each method invocation .
like the majority of coupling measures in literature this measure is defined at the system level i.e.
for a given class c all method calls between candallother classes in the system are taken into account .
for our study we need to redefine icp to take into account the coupling between a pair of classes.
we used the pairwise icp metric as redefined in i.e.
the icp between a pair of classes ciandcjis measured as the number of method invocations in the class cito methods in the classcj weighted by the number of parameters of the invoked methods.
then the overall information flow based coupling between the classes ciandcjis computed as the maximum betweenicp ci cj andicp cj ci .
we collected execution traces by running the software on an instrumented java virtual machine6.
for each software system we collected a set of execution traces t ft1 t2 t ng.
each tracetiwas collected by manually exercising a subset of features of the system.
for example one feature associated withtiwas opening saving exporting and closing a file or creating a uml diagram for argouml drawing a shape for jhotdraw or editing some text for jedit .
the dynamic coupling between two classes ciandcjwas computed by slightly adapting the formula import coupling classdynamic message iccd introduced by arisholm et al.
.
in its original form the iccd c metric counts the total number of distinct messages i.e.
method calls sent from class cto all the other classes in the system.
however similarly to the icp metric for our purpose we adapted the metric to quantify the dynamic coupling between pairs of classes.
in other words the adapted metric iccd ci cj counts all the distinct method calls from objects of type cito objects of type cj.
due to space limitations we refer the reader to the original formula defined by arisholm et al.
in table .
the only difference is that our formula replaces iccd c1 withiccd c1 c2 .
the third measure the semantic coupling is represented by the conceptual coupling between classes ccbc metric .
the ccbc is based on the lexical information derived from comments and identifiers.
two classes are semantically related if the terms present in their comments and identifiers are similar.
the conjecture is that if two classes contain similar terms it is likely that developers used them to describe similar responsibilities.
the ccbc between two classes ci andcjis computed as the average textual similarity between all unordered pairs of methods from class ciand classcj.
the textual similarity is computed using latent semantic indexing lsi .
the ccbc values are in where represents two classes having a totally different lexicon while 1represents two classes containing exactly the same text.
the fourth and last measure is the logical coupling .
to compute it we first extract change sets from the version control system.
for argouml and jedit we rely on svn change sets.
jhotdraw uses cvs therefore we grouped together file 6we used eclipse s tptp if the commit note and the committer name matched and if the time interval between them was less than seconds .
then we applied association rule discovery similarly to the work by ying et al.
and by zimmermann et al.
using the rpackage arule and specifically the apriori algorithm to detect frequent itemsets in cochanges i.e.
groups of files frequently changing together .
the rules are ranked in terms of i support of each itemset x supp x i.e.
the proportion of change sets that contain the learned itemset and ii confidence of a rulex!y defined as supp x!y supp x i.e.
the fraction of change sets containing xwhereyalso appears .
we set the confidence threshold to 8and the support threshold to .
the rationale was that i the learned rules must be precise enough hence the high confidence threshold and ii the itemsets may appear in a limited percentage of the change sets hence the low support threshold .
using these thresholds we assumed that there is a logical coupling between two files if they appeared in a frequent itemset.
finally we mapped files to classes by analyzing each file s source code.
dependent variables.
to address these three research questions we relied on different dependent variables collected through the procedures described below.
for rq given a pair of measures miandmj we compared the overlap between coupling links i.e.
pairs of coupled classes by computing the intersection of the sets of coupling links identified by the two metrics.
note that in this research question we were not interested in analyzing the value of the identified coupling links true or false but only in estimating the complementarity of these four measures.
forrq we asked software developers to look into pairs of classes and determine the extent to which they were coupled.
we selected a sample of class pairs for each subject system adhering to the following process we computed the coupling metrics structural dynamic semantic and logical between all pairs of classes in the system for each coupling measure mi we selected i two pairs of classes having the highest coupling as stated by mi and ii two pairs of classes having the lowest coupling as stated by mi .
thus for each of the four coupling measures we selected four pairs of classes from each system hence the total of pairs of classes per system .
using this sample we wanted to investigate if the developers perception of high low coupling aligns with the values of our underlying software metrics.
we used the following procedure to recruit participants for our study developers working on the three open source systems .
we sent an invitation only to the topmost committers for all the investigated classes7.
in total we invited developers from argouml from jhotdraw and from jedit.
we received responses from and 7to identify such developers we analyzed the history of software changes.developers respectively.
in the following we will refer to them as original developers .
undergraduate and graduate students academics and practitioners from around the world .
note that while the original developers of the three systems were invited to evaluate only the pairs of classes extracted from the system that they were working on academics and practitioners were invited to evaluate pairs of classes on all the three systems.
of the invited undergraduate students ms students phd students faculty and people with industrial experience participated in our study evaluating the strength of coupling between the pairs of classes from all the systems.
in the following discussion we will refer to them as external developers .
each developer received an email available in our replication package with instructions on how to perform the task and a link to the website where each developer could log in to visualize and rate the class pairs.
more specifically for each system each of the webpages provided to the developers contained i a class pair to analyze class names only ii hyper links to the source code of these classes iii a hyper link to the source code of the complete project iv an input form containing five radio buttons representing a likert scale ranging from two classes are not coupled to two classes are strongly coupled and v a text field where the participant could add explanations for their assessment.
developers were allowed up to four weeks to complete this survey.
the study was designed to last no more than hours.
the results of rq 2were analyzed through box plots and statistical analysis using the mann whitney test the test was performed only on data collected from the external developers due to the limited number of original developers .
we grouped the pairs of classes evaluated by the developers into eight different groups pairs having flow highg fsemantic structural logical dynamic gcoupling.
then considering two groups at a time e.g.
high semantic coupling vs. high structural coupling we used the mann whitney test to analyze the statistical significance of the difference between the coupling perceived by the developers in pairs of classes classified as high orlowcoupled by the two different coupling measures.
the results were intended as statistically significant at .
however since we performed multiple tests we adjusted our p values using the holm s correction procedure .
this procedure sorts the p values resulting from ntests in ascending order multiplying the smallest by n the next byn and so on.
we also estimated the magnitude of the difference between the employed metrics.
we used cliff s delta ord a non parametric effect size measure for ordinal data.
the effect size is small for d positive as well as negative values medium for d and large ford .
clearly our statistical analysis was applicable only to the data provided by external developers since the number of data points obtained from the original developers was too few to run statistical tests.
however we used the data from the original developers to corroborate the695table ii overlap between the coupling links identified by the four measures .
project measure links exclusive links str.
sem.
log.
dyn.
argoumlstructural semantic logical dynamic jhotdrawstructural semantic logical dynamic jeditstructural semantic logical dynamic findings and analyze the results qualitatively.
finally for rq we used each of the coupling measures to reconstruct the modularization of the software systems.
more specifically we simulated the original developers perception of coupling by assuming that they decomposed the system trying to group together classes having similar responsibilities and thus coupled .
as starting point for the modularization algorithm we flattened the software structure by putting all the classes in the same package then we used the coupling information to re modularize the software.
to this aim we relied on bunch which uses a hill climbing search based optimization procedure to find a near optimal modularization which minimizes inter module dependencies i.e.
coupling and maximizes intra module dependencies i.e.
cohesion .
in our case the dependencies between classes were provided using the four studied coupling measures one at a time.
the hill climbing algorithm has been executed times with each measure and on each system to account for its inherent randomness.
to assess the quality of the resulting re modularization we compared it to the original decomposition by computing the mojofm between the original modularization of the subject systems authoritative partitions considered as oracle and the one proposed by bunch.
the mojofm is computed as follows mojofm a b mno a b max mno 8a b wheremno a b is the minimum number of move orjoin operations one needs to perform in order to transform the partitionaintob andmax mno 8a b is the maximum possible distance of any partition afrom the partition bof the oracle.
thus mojofm returns if a clustering algorithm produces the farthest partition away from the oracle and it returns if a clustering algorithm produces exactly the oracle.
iv.
a nalysis of the results in this section we report the results aiming at answering the three research questions formulated in section iii a. a. to what extent are the sources of information for coupling measures complementary?
table ii shows for each system i the number of coupling links i.e.
pairs of coupled classes identified by each couplingmeasure ii the number of coupling links identified by each measure but not by the other three column exclusive links and iii the percentage of links that overlap with each measure on the rows and the other measures on the column .
for example for jhotdraw the semantic measure captures of the links identified by the structural measure which in turns captures the of links identified by the semantic measure.
from table ii we can easily observe that the number of links captured by four measures differ by an order of magnitude.
as expected the semantic measure is the one capturing more coupling relationships between pairs of classes.
this happens because semantic coupling is based on lsi see section iii and thus due to the clustering effect of lsi captures the degree of textual similarity between all class pairs for each system.
to alleviate this effect we filtered out spurious relationships using a threshold i.e.
we discarded class pairs that had textual similarity lower than .
similarly to our previous work on exploiting semantic measures .
despite such a pruning semantic measure still captures a high number of coupling links as shown in table ii.
however a large subset of these coupled pairs of classes exhibit only low semantic coupling e.g.
for argouml out of the coupled pairs of classes identified 000have a ccbc value higher than .
and only 000higher than .
.
the structural measure generally captures more coupling links than the dynamic one for two reasons.
first dynamic coupling depends on achieved coverage which in our case is below because we exercised features from the perspective of a developer hence we did not cover everything .
second structural measures computed statically tend to overestimate the relations i.e.
method calls between classes.
in other words while the dynamic measure captures coupling between two classes only if one class effectively invokes the other at runtime the structural one captures coupling between two classes when there is a call between them in the source code which may or may not be triggered at run time.
finally the relatively low number of logical dependencies identified between classes is mostly due to the fact that change sets generally included a limited number of classes.
the mean median size of a change set is for argouml for jhotdraw and for jedit.
concerning the complementarity of our four coupling measures table ii shows how logical coupling captures very few links that are not identified by at least one of the other three measures see column exclusive links .
conversely both structural andsemantic measures exclusively identify a high number of coupling links and as expected the semantic measure captures a high percentage of the links identified by the other measures due to the high number of links identified by it .
for example for argouml the semantic measure captures and of the links identified by the structural logical and dynamic measures respectively.
a strong overlap is also observed between the structural anddynamic measures for the three systems the structural measure captures on average of the links identified by thedynamic measure.696on the complementarity of coupling measures.
the semantic andstructural measures identify a high number of coupling links that other measures do not capture also partially complementing each other.
links identified by the logical anddynamic measures are for the most part captured by the other two measures.
the results indicate that logical and dynamic coupling measures may not be very useful.
however until now we only analyzed the complementarity of these four measures without looking how such coupling links are perceived by the developers.
for example it might be possible that the only semantic coupling links recognized by developers are those that were also identified by the logical measure.
this analysis is the core of our work and is investigated in the next two research questions.
b. to what extent are the sources of information for coupling measures useful for capturing the strength of coupling as perceived by developers?
figs.
and show boxplots of the likert values which represent the coupling perceived by the original and external developers for argouml jhotdraw and jedit respectively while table iii shows the results of the mann whitney test pvalue together with the descriptive statistics of the differences and cliff s deffect size i.e.
positive if the left hand side lhs measure is higher than the right hand side rhs .
due to the small number of original developers that responded to our survey the statistical analysis was performed only considering external developers.
note that the results for high coupling should be interpreted in favor of the lhs if the mean median cliff s dare positive because the higher the score attributed by developers the better whereas for low coupling they should be interpreted in favor of the lhs if mean median cliff s dare negative because the lower the score attributed by developers the better .
concerning argouml see fig.
both original and external developers perceived a strong coupling between pairs of classes indicated by the semantic measure as highly coupled median .
also note that for external developers the semanticmeasure appears to be the one that better aligns with their perceived coupling since it is the only one achieving a median of for the pairs with highly coupled classes .
moreover the mann whitney test highlights a statistically significant difference between the coupling perceived by external developers when looking at pairs of classes having high semantic coupling and pairs of classes identified as highly coupled using the remaining three measures p values are always see table iii with a medium high effect size .
in addition the structural anddynamic measures are able to capture the high coupling perceived by developers both original and external relatively well with a median .
however the logical measure does not seem to align well with developers opinions on this system.
to understand the reasons why the semantic measure aligns better with developers opinions in this context table iii perceived coupling of external developers m ann whitney test p value descriptive statistics of differences and cliff s effect size d .
t he measure that better reflects the developer perception in each comparison is highlight in bold face .
testargouml p value mean median st. dev.
d semantic high vsstructural high .
.
.
.
.
semantic high vsdynamic high .
.
.
.
.
semantic high vslogical high .
.
.
.
.
structural high vsdynamic high .
.
.
.
.
structural high vslogical high .
.
.
.
.
dynamic high vslogical high .
.
.
.
.
semantic lowvsstructural low .
.
.
.
.
semantic lowvsdynamic low .
.
.
.
.
semantic lowvslogical low .
.
.
.
.
structural low vsdynamic low .
.
.
.
.
structural low vslogical low .
.
.
.
.
dynamic low vslogical low .
.
.
.
.
testjhotdraw p value mean median st. dev.
d semantic high vsstructural high .
.
.
.
.
semantic high vsdynamic high .
.
.
.
.
semantic high vslogical high .
.
.
.
.
structural high vsdynamic high .
.
.
.
.
structural high vslogical high .
.
.
.
.
dynamic high vslogical high .
.
.
.
.
semantic low vsstructural low .
.
.
.
.
semantic low vsdynamic low .
.
.
.
.
semantic low vslogical low .
.
.
.
.
structural low vsdynamic low .
.
.
.
.
structural low vslogical low .
.
.
.
.
dynamic low vslogical low .
.
.
.
.
testjedit p value mean median st. dev.
d semantic high vsstructural high .
.
.
.
.
semantic high vsdynamic high .
.
.
.
.
semantic high vslogical high .
.
.
.
.
structural high vsdynamic high .
.
.
.
.
structural high vslogical high .
.
.
.
.
dynamic high vslogical high .
.
.
.
.
semantic lowvsstructural low .
.
.
.
.
semantic lowvsdynamic low .
.
.
.
.
semantic lowvslogical low .
.
.
.
.
structural lowvsdynamic low .
.
.
.
.
structural low vslogical low .
.
.
.
.
dynamic low vslogical low .
.
.
.
.
we analyzed the feedback provided by six original developers of argouml.
one developer when evaluating a pair of classes i.e.
actionvisibilityprivate and actionvisibilityprotected with high semantic coupling stated these classes have a very high coupling even if there is no cooperation between them .
this comment highlights one important peculiarity of the semantic measure which is shared by the logical one it does not require explicit relations between two classes e.g.
method calls or inheritance relations to capture coupling between them.
indeed the two classes mentioned above implement very similar responsibilities.
moreover the semantic measure is the only one capturing coupling between them.
regarding the pairs of classes exhibiting low coupling developers showed a coupling perception inline with the coupling measures except for the dynamic coupling where even if the median is there is a wider distribution of values as compared to the other measures see fig.
.697highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.original developersexternal developersfig.
.
boxplots of developers evaluation on pairs of argouml classes.
highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.original developersexternal developers fig.
.
boxplots of developers evaluation on pairs of jhotdraw classes.
highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.highsem.highstr.highdyn.highlog.lowsem.lowstr.lowdyn.lowlog.original developersexternal developers fig.
.
boxplots of developers evaluation on pairs of jedit classes.
however there is a statistically significant difference between the coupling perceived by external developers on classes having a low semantic coupling with those having low structural dynamic and logical coupling p value see table iii although the effect size is low .
this confirms that thesemantic measure provides a better approximation of the coupling perceived by the developers.
also logical coupling exhibits good results in approximating coupling as perceived by developers for low coupled classes achieving significantly better results than dynamic coupling p value .
.
we also analyzed the feedback from the original developers to understand the limitations of the dynamic coupling.
the problem was mainly due to a pair of classes exhibiting low dynamic coupling but evaluated by almost all original and external developers as relatively strongly coupled median is .
the two classes are aboutbox andfigcompartmentbox and an argouml developer mentioned that even if indirectly the two classes exhibit some form of coupling since they implement similar jobs and changes to the gui are likely to involve both classes .
for these two classes the only measure capturing some coupling is the semantic one with ccbc .
.
this further confirms the quality of the semantic coupling.
argouml findings.
for pairs of classes exhibiting high coupling the scores for both original and external developers highlight the semantic measure as the one providing a better approximation of their perceived coupling.
however also structural and dynamic measures achieve good results.
similar results are obtained for pairs of classes exhibiting low coupling but here the dynamic measure has been highlighted as the least suitable one.
forjhotdraw see fig.
it can be noticed how similarly698to argouml the semantic measure is the one that better approximates for highly coupled classes the coupling perceived by both original and external developers median for original developers and median for the external ones .
indeed the mann whitney test reports a statistically significant difference between the coupling perceived by external developers on pairs of classes having high semantic coupling and the pairs of classes reported as highly coupled by the other three measures p value always medium high effect size .
as for the other three measures the structural measure is the most unsuited for capturing coupling between highly coupled classes even if there is no statistically significant difference between structural dynamic and logical coupling.
thedynamic and the semantic coupling are the only ones that properly capture low coupling having median for both original and external developers see fig.
.
on the other hand thestructural measure seems to be completely out of sync with developers perception of low coupling.
this is also confirmed by the original developers feedback which perceived the pair of classes zoomtool zoomupdatestrategy as coupled median and one of them explained that these classes are peer features participating in the same context .
also in this case the semantic measure is the only one capturing some form of coupling between these two classes i.e.
ccbc .
.
nevertheless we need to point out that the semantic measure does not represent a silver bullet.
we also observed cases like the one for the class pair awtcursor locator classified as not coupled by the logical measure and confirmed as such by developers median where the semantic measure reports a coupling of .
not very high nor as low as perceived by developers .
jhotdraw findings.
the results confirm our previous findings obtained for argouml the semantic measure is the one that better approximates the coupling perceived by developers on pairs of highly coupled classes while there is no big difference in performances of the other three measures.
the structural measure is the least suited for approximating the perceived coupling for low coupled classes.
finally for jedit most of the results observed on the other two systems are confirmed see figure .
in particular the semantic measure is still the one that better aligns with developers perceptions for highly coupled classes median .
for original developers and for external achieving also statistically significant differences when compared to the other three measures p value always medium high effect size .
the logical coupling is the second best measure for this system with statistically significant differences with respect to the structural one p value with a medium effect size which turned out to be the most inefficient for capturing high coupling.
on this system the semantic measure also works particularly well for capturing low coupling as its performances are significantly better than the other measures p value 01in all cases with a medium effect size .
jedit findings.
the semantic measure is by far the most aligned with developers perception of coupling.
the structural measure as observed on jhotdraw does not properlycapture cases of highly perceived coupling while the logical coupling achieves good results.
coupling captured by the experimented measures and perceived by developers.
the semantic measure is the closest measure to the developers perception of coupling.
this result can be explained by the fact that developers embed their knowledge and design rationale in the comments and identifiers in code information that is captured by the semantic measure.
surprisingly the structural coupling is the one exhibiting more inconsistencies especially when capturing low coupling even more than the semantic measure.
c. to what extent do coupling measures reflect the mental model of developers when grouping together classes?
table iv reports the descriptive statistics for the mojofm achieved by each of the four coupling measures when reconstructing the original software modularization of the three software systems.
the semantic measure is the one achieving better reconstruction accuracy with respect to the original design average mojofm .
followed by structural .
dynamic .
and logical .
measures.
these results confirm what we observed in rq the semantic measure is the best one in capturing the developers perceived coupling even if overall none of the measures achieve very good results in this evaluation.
in addition they suggest that semantic coupling should be considered as a useful source of information when performing modularization although the research performed in the past mainly used static or dynamic information.
it is also important to highlight the relatively low performance achieved by the logical measure which may be not due to the low quality of coupling relationships but rather to the incomplete information i.e.
coupling links provided by this measure to the clustering algorithm.
for example for the possible pairs of classes in argouml thelogical coupling only provides information for about pairs making it impossible for the clustering algorithm to even approximate the original decomposition.
in essence this indicates that logical coupling could be used for some purpose e.g.
to identify change impacts but may not be suitable for modularization purposes.
ability to reconstruct the original modularization.
thesemantic measure is confirmed as the most suitable for capturing the coupling perceived by developers in terms of the original modularization followed by the structural and the dynamic measures.
v. t hreats to validity threats to construct validity concern the relationship between theory and observation.
they are primarily related to the way we measured structural dynamic logical andsemantic coupling.
for structural and conceptual coupling we used measures that are available in literature.
for dynamic coupling we used a measure derived by the one defined by arisholm et al.
that we adapted to capture the coupling699table iv mojofm achieved with bunch providing as input the four experimented coupling measures .
project measuremojo fm mean median st. dev.
argoumlstructural .
.
.
semantic .
.
.
logical .
.
.
dynamic .
.
.
jhotdrawstructural .
.
.
semantic .
.
.
logical .
.
.
dynamic .
.
.
jeditstructural .
.
.
semantic .
.
.
logical .
.
.
dynamic .
.
.
between pairs of classes as opposed to capturing the coupling between a class and all the other classes of a system.
we are aware they are based on a incomplete code coverage however we preferred to use scenarios reflecting users interaction rather than targeting full coverage.
for logical coupling we relied on the approach by zimmermann et al.
.
concerning structural coupling due to polymorphism is possible that some call relationships were lost.
however this does not invalidate the results of our study.
forrq 2we only sampled class pairs for each system eight having low cohesion and eight having high cohesion .
we are aware that these classes may not be fully representative of the whole system however we opted for such a choice to allow developers enough time to assess each pair.
another construct threat is that for rq we assumed that the original modularization reflects the developers perception of coupling.
we understand that this may not be fully accurate because developers could have decided to group classes based on other reasons than coupling level.
nevertheless the use of original modularization as an oracle for clustering approaches is a well established practice .
threats to internal validity concern co factors that could influence our results and they are mainly related to various measurement settings used in our study.
for rq we choose the bunch settings used by other approaches in the literature although we are aware that our results for rq 3could have changed if we used different settings.
also to limit variability of the results due to randomness we iterated the hill climbing based modularization times.
threats to conclusion validity concern the relationship between treatment and outcome.
where appropriate we used non parametric statistical tests mann whitney and effect size measures cliff s delta to show statistical significance for the obtained results.
clearly we could perform statistical tests only on the results collected from external developers.
due to the limited size of the sample for the original developers we discussed results from a qualitative standpoint.
threats to external validity concern generalization of the obtained results.
the main threat could be related to recruiting students and professional in addition to originaldevelopers to assess the coupling between classes.
all participants had previous experience in developing complex java systems and in performing program comprehension tasks however we are aware that knowledge and perception about the systems could not be compared to those of the original developers.
nevertheless their indications are pretty consistent with the ones provided by the original developers.
another threat to external validity concerns the choice of coupling measures.
although we used measures available in the literature we are aware that other kinds of measures based on the same sources of information could have exhibited different results.
however our aim was to investigate the coupling contribution provided by the different sources of information rather than by the specific measure.
last but not the least we limited this study to three java open source systems.
this was mainly due to the fact that we could provide only a limited number of class pairs to be evaluated in a reasonable amount of time.
vi.
c onclusion and future work this paper reported an empirical study aimed at investigating to what extent coupling measures based on structural dynamic semantic andlogical information capture the developers perception of coupling.
the study has been conducted on three java open source projects argouml jhotdraw and jedit and consisted of i analyzing the complementarity of coupling measures using four sources of information ii investigating how developers of these three projects as well as a larger population of students academics and industry professionals rate the coupling links identified by the measures and iii investigating if these four measures are able to reproduce a modularization close to that one of the original system which indirectly reflects the coupling perception among the classes by original developers.
the results indicate that a large percentage of the links is captured by semantic andstructural measures which seems to complement each other.
in addition the semantic measure aligns well with developers perceptions of coupling between classes better than other measures and seems to be the most suitable to reconstruct the original modularization of a software system.
in summary our results suggest that coupling is not a trivial quality attribute of a software system that could be captured and measured using only structural information such as method calls.
more sophisticated approaches and different source of information need to be analyzed in order to provide a better evaluation of the coupling perceived by developers.
to this end the semantic coupling seems to reflect the developers mental model when identifying interaction between entities.
this is because in some cases there are latent coupling relationships that do not manifest in terms of structural dependencies that could be identified only by analyzing source code lexicon and comments.
future work will aim at extending the study using different kinds of metrics and sources of information.
also we would like to thoroughly investigate how different coupling measures700can be combined to provide better support for software engineering tasks.
finally we are planning to replicate this study on other software projects.
acknowledgment the authors would like to thank the developers of argouml jhotdraw and jedit systems as well as the other developers that participated in our study.
this work is supported in part by nsf ccf and nsf ccf awards.
any opinions findings and conclusions expressed here are the authors and do not necessarily reflect those of the sponsors.