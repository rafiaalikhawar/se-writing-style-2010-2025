an exploratory studyof the evolution of softwarelicensing massimiliano di penta universityofsannio italy dipenta unisannio.itdaniel m. german university ofvictoria canada dmg uvic.cayann ga l gu h neuc giuliano antoniol cole polytechnique demontr al canada yann gael.gueheneuc polymtl.ca antoniol ieee.org abstract free and open source software systems foss are distributed and made available to users under different software licenses mentioned in foss code by means of licensing statements.
various factors such as changes in the legal landscape commercial code licensed as foss or code reused from other foss systems lead to evolution of licensing which may affect the way a system or part thereof can be subsequently used.
therefore it is crucial to monitor licensing evolution.
however manually tracking the licensi ng evolution of thousands of files is a daunting task.
after presenting several cases of the effects of licensing evolution we propose an approach to automatically track changes occurring in the licensing terms of a system.
then we report an empirical study of the licensing evolution of si x different foss systems.
results show that licensing underwent frequent and substantial changes.
categories andsubject descriptors d. .
management copyrights general terms legal aspects keywords software licenses evolution mining software repositori es open source systems empirical study.
.
introduction openbsd founder and project leader theo de raadt removed a security software package called ipfilter after its author changed its license.
stephen shankland cnet news .
permission to make digital or hard copies of all or part of thi s work for personal or classroom use is granted without fee provided th at copies are not made or distributed for profit or commercial advantage an d that copies bear this notice and thefull citation on the firstpage.
tocop y otherwise to republish topostonserversortoredistribute tolists re quires priorspecific permission and or afee.
icse may cape town south africa copyright acm ... .
.as software systems evolve so do licenses.
although software licenses have gained prominence in the media thanks for example to the work of the free software foundation licensing evolution has received little attention from resea rchers despite its many potential harmful consequences on soft ware reuse.
an interesting example of such phenomena is the licensing evolution of ipfilter which prevented i ts redistribution as part of the openbsd kernel.
a side effect of this evolution was the creation of pf by openbsd developers as an alternative to ipfilter1.
licensing copyright and intellectual property determin e what can and cannot be reused and potentially impacts the architecture of a system.
a typical scenario in which licensing evolution monitoring becomes vital is as follows.
a company creates a product e.g.
a hand held multimedia player that incorporates some foss components applications e.g.
a unix kernel the player plus several codecs.
the critical situation arises when there is the need for updating a component e.g.
a codec but its license changed e.g.
from bsd to gpl and its new license prevents its distribution thus requiring to completely re think the way th is codec is connected to the player .
consequently develo pers must carefully analyze the overall licensing compatibi lity of all the included components.
this compatibility analysi s is usually done manually or semi automatically by verify ing that all bundled source files and binaries have been released under compatible licenses .
unfortunately as illustr ated by the ipfilter case this analysis is not a one time activit y each modification to any bundled component may involve licensing statements and thus impact its use integration.
the harmful consequences of licensing evolution stem from the nature of open source development this method of development can be worrisome from an intellectual property standpoint because it creates multiple opportunities for c ontributors to introduce infringing code and makes it almost impossible to audit the entire code base .
such consequences will become more prominent because the united states court of appeals for the federal circuit ruled that redistributing software systems in violation of the terms o f a free software license constitutes a copyright infringemen t and the sizes of modern software systems prevent manual analysis e.g.
mozilla grew from files in release m3 march to in release .
.
september .
therefore there is a need for methods and tools to semi automatically audit a system for its license and for changes in its licensing statements across releases.
license or licenses under which a file is made available is usually contained inside blocks of comments at its beginning.
we refer to such comments as the licensing statement of a file.
we distinguish between licenses andlicensing statements because a licensing statement may either contain the license itself e.g.
bsd license or the name of the license and a reference to where it can be found e.g.
the eclipse public license .
in this paper we are interested in changes to the licensing of source code i.e.
the analysis of changes occurring within licensing statements while lice nse evolution concerns the evolution of a license per se e.g.
the evolution of the gpl from v2 to v3.
a change to the licensing statement might be a change to the name of the license when the statement refers to its name or a change to the license itself when the license is in the statement .
this paper first motivates the problem of analyzing the evolution of licensing statements by providing several exa mples of changes in licensing and their consequences.
then i t suggests that the only means to avoid negative consequences is to monitor licensing evolution automatically.
it propos es an approach to automatically track the licensing evolution of systems identifying changes in licenses and copyright years.
finally it reports an empirical study analyzing the licensing evolution of six widely adopted foss systems ar gouml eclipse jdt the freebsd and openbsd kernels the mozilla suite and samba.
the study shows that licensing evolution is a frequent and relevant phenomenon in many systems and that while foss developers are concerned with licensing issues they manage evolve and update licensin g statements in different ways.
for example some systems e.g.
mozilla and eclipse jdt have moved from more restrictive to less restrictive licenses while others have mo ved in the opposite direction.
copyright years are updated following different patterns in different systems.
to the best of our knowledge no previous work investigated the licensing evolution of foss systems.
thus the contributions of this paper are as follows we show that keeping track of licensing changes is important by reporting several cases where changes in open source licenses had major consequences in software usage and integration we propose a method to track licensing changes .
the method is based on textual analysis of licensing statements extracted from source code file and on the usage of the fossology licensing classification tool .
we report an empirical study showing the extent and frequency of licensing changes by analyzing the licensing evolution of six open source systems argouml eclipse jdt the freebsd and openbsd kernels the mozilla suite and samba.
the paper is organized as follows.
section shows several cases in which licensing changes impacted software usage and integration.
section describes the licensing analysis process.
section describes our study and the process followed to mine data from the six chosen foss systems.
section presents the empirical study results.
section discusses the results along with threats to validity.
after a discussion of related work in section section concludes and outlines directions for future work.
.
licensing evolution a dual relation exists between license evolution and changes in licensing statements.
licensing statements are chan gedto allow developers using the license that better fits their needs and or users needs.
such changes occur by modifying the licensing statements of the system files to refer to a different license to a new version of the original license or to update the license when it is included in the licensing statements.
therefore licensing changes depend on the availability of fitting licenses.
we first illustrate licens e evolution and then licensing evolution using real world cases .
.
license evolution license evolution is driven by many factors.
on the one hand copyright owners want licenses to adapt to the new legal landscape and include their specific requirements.
fo r example the netscape public license the ibm public license and the apple public licenses were created to satisfy their organizations requirements.
on the other hand user s want licenses to adapt to their needs often by becoming less restrictive e.g.
the original bsd license also known as clauses bsd evolved towards its less restrictive clau ses and clauses variants.
some licenses evolve towards more restrictive ones such as the changes made to the general public license gpl version to avoid hardware locks and digital rights management which led to the gpl v3.
in other cases licenses evolve due to external pressures.
for example the evolution of the license of mozilla from netscape public license npl to mozilla public license mpl v1.
was triggered by the opposition of the open source community to some of the terms in the npl.
this evolution reflected an interest of the mozilla foundation the copyright owner of mozilla to address its users concerns.
table shows some of the most commonly used foss licenses the rationales for their evolution and where app licable the other licenses on which they are based.
with a large number of available licenses among which are certified by the open source initiative it is not surprising tha t licensing statements evolve.
.
whenlicensingevolutionaffectssoftware usage fivecases we now report cases in which licensing evolution was triggered by a specific requirement and influenced the way in which the system is used.
table summarizes these cases.
case1 openbsdipfilter replacement.
in the author of ipfilter a firewall package used by openbsd added an extra sentence to the licensing statement of each files of ipfilter and hence to the ipfilter license.
according to the author this sentence was a clarifi cation to the terms of the license but developers of openbsd considered this a new condition incompatible with the license of openbsd.
openbsd developers decided to replace ipfilter with a new openbsd based implementation .
changing the license of foss system might result in users no longer being able to reuse the software.
case2 java.
until november one of the major problems to include java in linux distributions was its license.
the licen se of java jdk v1.
included the following sentence except as specifically authorized in any supplemental license terms you may not make copies of software other than a single copy of software for archival purposes.
this requirement disallowed the inclusion of java in linux distributions.
co n table examples of how some open source licenses have evolv ed over time.
names of licenses yearsderived fromtypes of changes with respect to its predecessors general public gpl v1 emacs public major rewrite.
generalizes the emacs public license gpl v2 gpl v1 replaces some philosophical language with legal one.
adds t wo clauses the liberty or death clause and allows geographical exclusion gpl v3 gpl v2 major rewrite.
adds hardware restrictions addresses soft ware patents library gpl lgpl v2 lesser gpl lgpl v2.
lgplv2 replaces language with a more legal one.
major modifications to preamble.
allows geographical exclusion under certain circumstances lesser gpl lgpl v3 lgplv3 major rewrite.
improves legal language.
licensed software under it can only be changed to gplv3 mozilla public mpl v1.
netscape public npl v1.
mpl v1.
identical to the mplv1.
except for the addition of an amendm ents section mpl v1.
mpl v1.
replaces language with a more legal one adds patent clauses .
it adds the option of using dual licensing npl v1.
mpl v1.
and npl v. .1identical to mplv1.
except for the addition of an amendment s section moves it from end of the license to the beginning of it ibm public ibmpl v1.
common public cpl v0.
ibmpl v1.
clarifies definitions makes the license reusable by replaci ng ibm s name with contributor and declaring ibm as the steward of the license cpl v1.
cpl v0.
identical to the cpl v0.
eclipse public epl v1.
cpl v1.
removes a clause regarding patent litigation against devel oper and changes the steward of the license from ibm s to the eclipse public foundatio n bsd clauses bsd clauses bsd removes advertisement clause bsd clauses bsd removes endorsement clause making it similar to the mit x1 table effects of licensing changes.
systems licenses changes effects ipfilter ipfilter specific license added a clarification sentence ipfilter was removed from the openbsd distribution java java specific license gpl v2 with classpath exception it allows modifying and updating java mono gpl v2 mit x11 it allows using mono with systems under any license qt freeqt q public license then gpl v2 and finally both lgplv2.
and gplv3project harmony a replacement of qt was abandoned mysql lgpl v2.
gpl v2 it prevents php systems to connect to mysql sequently for many years end users had to manually download and install java.
sun microsystems worked with the free software foundation fsf and released java .
under the gpl v2 with an addendum known as the classpath exception .
this change in the licensing of java had two major implications first java could from then on be modified and updated under the gpl v2 without interference by sun and second java programs could be released under any license as long as they satisfy the conditions stated in the classpath exception.
changing the license of a system can promote and ease the distribution and reuse of a software system.
case3 mono.
mono2is a framework produced by novell to support the .net api and thus microsoft software systems under operating systems different than microsoft windows.
originally the project was distributed under the gpl v2.
according to mono developers this license created a potential proble m when running .net systems because they could be considered derivative works of mono and hence required to be also released under the gpl v2.
consequently mono developers changed its license to mit x11 a simple foss license that allows its use along systems distributed under any commercial or foss license .
according to mono s project leader this change was also required by hp as a condition for its participation as a contributor to the proj ect .
thus .net systems can use mono regardless of their respective licenses.
change to a more permissive license and in particular allowing commercial derivative works may increase the siz e of the community of contributors to a foss system.
case4 qt.
qt is a library of gui widgets originally developed by trolltech bought by nokia in .
qt was first released under a non open source but free license called the freeqt license and a commercial license.
qt became the basis for kde the desktop suite for unix systems.
many objected to the use of a non open source library as the basis of a major open source system including richard stallman.
to address these issues qt v2.
was released under a new license called the q public license.
the q public license was approved by the open source initiative but deemed incompatible with the gpl by the fsf .
according to the fsf because many application in kde are licensed under the gpl this incompatibility makes their use of qt a violation of their own license the kde project disputed this view .
consequently the gnome project was started as a qt free alternative to kde while the harmony project was started to implement a replacement of qt to be licensed under the gpl.
trolltech changed the license of qt v3 to the gpl v2.
the harmony project was no longer necessary and abandoned .
when nokia acquired trolltech it changed the license of qt v4.
to a dual lgpl v2.
and gpl v3.
changing the license of foss system towards a more permissive might cause the abandonment of a competing system.
case5 mysql.
in mysql ab changed the license of its client li braries from lgpl v2.
to gpl v2.
this change was intended to prevent industrial companies from using the libraries within proprietary products without paying for a commercial license.
unfortunately it had also unintended consequences php systems were no longer able to connect to mysql because the php license is incompatible with the gpl v2.
mysql addressed this problem by adding the mysql foss license exception to the gpl v2 .
changing the license of a foss system might have unintended or undesirable consequences to its legitimate users .
lessonsfrom thesefivecases.
we illustrated using five cases summarized in table that changes in licensing can have various consequences ex pected and unexpected .
thus developers and their organizations should be aware of licensing changes and their potential effects.
foss development encourages the contributions of many developers who can willfully or inadvertentl y change licensing statements.
therefore an approach to analyze licensing changes in source code is needed.
.
licensing analysismethod the analysis of licensing changes takes as input source code file revisions extracted from version control systems such cvs or svn and the corresponding change logs.
it consists of four steps the first step extracts licensing sta tements from files the last three collect data to analyze how the statements changed.
without loss of generality we limi t our analysis to .java files for java systems .hand.cfor c systems and .h .c and.cppfiles for c systems.
we also analyze changes occurring to copyright owners names as presented in another paper .
step1 extractinglicensingstatements.
we extract the licensing statement of a file as its first two blocks of comments where a block is a sequence of consecutive comments with no source code in between.
we created our own comment extractor based on a comment removal tool adapted to export comments instead of removing them3.
we consider the first two blocks of comments because licensing statements are very often interleaved with include directives preprocessor macros or package declarations .
step2 identifyingchangesin licensingstatements.
licensing statements are usually english text thus we cannot compare the licensing statements in two file revisions using a line differencing tool such as diff.
therefore we compare licensing statements of subsequent file revision s by indexing them using information retrieval vector space models and by comparing their models using the cosine similarity .
in this step we are interested in anychange therefore we use all alpha numeric words neither pruning stop words nor performing stemming.
3our comment extractor can be downloaded from http turingmachine.org dmg comments .
.tar.bz2step3 classifyinglicenses.
as in our previous work we detect the license s of each file a licensing statement can contain multiple licens es using the license identification tool in fossology .
.
which detects licenses using the binary symbolic alignment matrix bsam pattern matching algorithm.
for each file we first classify the license s in its first revision.
then w e perform the classification every time the cosine between the licensing statements of two subsequent file revisions is les s than .
.
we choose .
for two reasons first fossology is very slow it might take more than a minute to analyze a source code file even on a fast computer second a manual inspection of the classifications shows that for higher cos ine values changes did not affect the legal implications of the licensing statements.
step4 identifyingchangesin copyrightyears.
we extract copyright years from licenses by mining numeric sequences of two or four digits matching years between and .
our heuristics can detect single years and year ranges e.g.
which we convert into a series of years and .
we prune years automatically inserted by cvs and svn id tags or followed by time which should not occur in copyrights.
.
empiricalstudy thegoalof this study is to analyze licensing evolution with the purpose of investigating how developers change licensing statements in source code files.
the quality focus is related to the kind of changes occurring in licensing statements.
the perspective is of researchers who want to gain insights on when and how licensing statements are changed to understand the relevance and impact of licensing changes .
it is also of practitioners who want to realize the extent and importance of licensing evolution.
thecontext consists of the cvs or svn repositories of six foss systems argouml eclipse jdt the freebsd and the openbsd kernels mozilla and samba.
the systems have different sizes are developed with different programming languages c c and java and belong to different domains argouml is a java based uml modeler eclipsejdt an extensible development environment in and for java freebsd and openbsd are kernels of two open unix operating systems in c c mozilla is a suite comprising a web browser an email client and other internet utilities i n c c samba is a file and printer service inter operating between unix and windows operating systems in c. table reports characteristics of the six systems while table shows the distribution of the licenses in their first and last releases.
only samba licensing statements never changed.
we choose systems different from those illustrated in section .
for three main reasons.
first this choice gives us is the possibility of analyzing long revisions histories w hich are not available for systems such as mysql or java.
second while the cases reported in section .
motivated our study by showing that licensing changes impact software usage this study investigate the extent and relevancy of licensing changes i.e.
whether they often occurs during a software lifetime.
third this choice allows us to analyze large systems such as the openbsd and freebsd kernels eclipse jdt and mozilla in which it is possible to observe a wide variety of licensing changes.table main characteristics of the six systems.
characteristics argouml eclipse jdt freebsd openbsd mozilla samba languages java java c c c c c release ranges .
.
.
.
.
.
.
.
m3 .
.
.
.
of source files ranges kloc ranges cvs svn start dates cvs svn end dates analyzed file revisions of committers table distributions of licenses in the first and last releases of each of the analyzed systems.
column fshows the number of files with such licenses and the corresponding percentages.
we only show licenses covering at least of files.
licenses f argouml first free with copyright clause style uc regents free with copyright clause style735 .
others .
last free with copyright clause style uc regents free with copyright clause style1401 .
others .
eclipse jdt first none .
lasteclipse public license v1.
.
others .
freebsd first bsd ucregents style cl.
bsd .
none .
bsd ucregents sty.
cwi sty.
4cl.bsd .
others .
last cryptix style cl.
bsd .
inria osl style cl.
bsd .
bsd unknown bsd .
others .
openbsd first bsd ucregents style .
none .
carnegie mellon university style226 .
others .
last inria osl style cl.
bsd .
bsd unknown bsd .
none .
others .
mozilla firstnpl .
none .
others .
last mpl v1.
style dual mpl gpl .
dual mpl gpl style mpl v1.
style1881 .
dual mpl gpl style mpl .
others .
samba firstgpl v2 .
none .
lgpl lgpl v2 .
others .
lastgpl v2 .
none .
others .
.
research questions rq1 how frequently do the licensing statements of source files change?
this research question is preliminary to the following questions.
it aims at providing overall quantitati ve data on the frequencies with which licensing statements are modified by developers across file revisions.
also it investigates whether such a frequency significantly differs among systems.
rq2 to what extent are files changing their licenses?
this research question investigates whether licensing evoluti on corresponds to moving to a completely different license e.g.
from bsd towards gpl or to adding a new license to a file already licensed e.g.
from bsd towards a disjunctive bsd and gpl license.
rq3 how are copyright years changed in licensing statements?
specifically we investigate whether when a file is changed in a given year its copyright statement contains such a year.
we also investigate if files reporting a particul ar year in their copyright undergo significantly more changes during that year than files that do not report it.
.
results this section reports the results of our empirical study to answer the previous research questions.
data for verificati on and replication are available on line4.
.
rq1 howfrequentlydothelicensingstatements ofsourcefiles change?
figure shows the box plots of change frequencies for the licensing statements of the files belonging to the six systems counted as the fraction of commits that involved changes in their licensing statements.
figure a shows th e box plots of change frequencies related to any change occurring in the licensing statements while figure b only considers substantial changes changes for which the similarity with respect to the previous file revision is below .
.
the box plots for changes below .
the threshold used to trigger fossology classifications in rq2 is very similar to figure a thus it is not shown.
to statistically compare whether the change frequencies significantly differ among systems we test the null hypothe sis h0 the average change frequencies among systems does not significantly differ .
results related to all changes in figure a indicate that the change proneness significantly differs among systems p value .
using kruskal wallis test openbsd argouml and freebsd having a higher licensing change proneness than the other systems.
in particular openbsd and argouml licensing statements change lic rawdata.tgzargouml eclipse jdt freebsd openbsd mozilla samba0.
.
.
.
.
.
systemfrequency of licensing change a all changes argouml eclipse jdt freebsd openbsd mozilla samba0.
.
.
.
.
.
systemfrequency of licensing change b cosine .
figure frequency of licensing changes.
more than all the other systems p value .
using mann whitney test while there is no significant difference among them.
when considering substantial changes see figure b results are different there is still a significa nt difference among systems p value .
but mozilla has the higher licensing change proneness.
we conclude that licensing statements dochange and that therefore it is interesting to study their changes in more details by answering the following research questions.
.
rq2 to what extent are files changing their licenses?
table shows the counts of the most frequent license changes occurring in the six systems.
it shows that files that had their licenses changed between two revisions and excludes files that have had the same license s since their first revision.
each system has different changed patterns.
argouml table shows that the licenses of argouml files are essentially the same in its first and last version.
the results in table support this observation.
there are only few files that changed their licenses from none to the uc regents free with copyright clause style which is a permissive license that imposes very few constraints.
eclipse jdt table shows that no file in its first version had a license.
as time progressed licenses have changedtable changes of license types.
licenses transitions argouml none free with copyright clause style uc regents free with copyright clause style127 lgpl gnu c library style free with copyright clause style uc regents free with copyright clause style6 free with copyright clause style uc regents free with copyright clause style free with copyright clause style1 free with copyright clause style uc regents free with copyright clause style none1 eclipse jdt common public license v1.
eclipse public license v1.
common public license v0.
common public license v1.
none common public license v1.
none common public license v0.
unknown none none common public license v1.
style none common public license v1.
common public license v0.
common public license v1.
none eclipse public license v1.
common public license eclipse public license eclipse public license v1.
others freebsd bsd ucregents cl bsd bsd ucregents style cl bsd bsd ucregents style cl bsd inria osl style cl bsd gpl v2 gpl v2 style inria osl style cl bsd cryptix style cl bsd none cryptix style cl bsd freebsd style cl bsd cryptix style cl bsd unknown ccdl cwi style bsd ucregents cl bsd bsd ucregents style cl bsd cwi style43 inria osl style cl bsd freebsd style cl bsd none inria osl style cl bsd cryptix style cl bsd bsd unknown bsd none bsd ucregents style cl bsd none freebsd style cl bsd others openbsd bsd ucregents style cl bsd inria osl style cl bsd bsd ucregents cl bsd bsd ucregents style cl bsd bsd ucregents style cl bsd freebsd style cl bsd bsd ucregents cl bsd inria osl style cl bsd bsd ucregents style cl bsd none bsd ucregents style cl bsd bsd unknown bsd none bsd ucregents style cl bsd bsd unknown bsd freebsd style cl bsd none inria osl style cl bsd cwi style bsd ucregents cl bsd cwi style inria osl style cl bsd bsd ucregents style cl bsd bsd ucregents style cl bsd bsd unknown bsd others mozilla npl npl v1.
style gpl v2 lgpl v2.
npl dual mpl gpl style mpl dual mpl gpl style mpl npl gpl v2 mpl dual mpl gpl style mpl mpl mpl v1.
style dual mpl gpl npl mpl v1.
style dual mpl gpl npl gpl v2 mpl mpl dual mpl gpl style mpl v1.
style npl gpl v2 lgpl v2.
npl gpl npl mpl v1.
style dual mpl gpl gpl npl dual mpl gpl style mpl others samba none gpl v2 gpl v2 lgpl v2 gpl v2 none none lgpl v2.
style none lgpl v2 public domain gpl none a argouml !
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
.
b eclipse jdt ?
?
a b c b b deb c b b df b c b b dg b c b b dhb c b b dib c b b db c b b dj k l m nopqrst c freebsduvvwuvv xuvv yuvvzuvv uvv uvv uvvuuvv uvvv www ww x ww y wwz ww a bc a bd a be a b a bf g h i jklmnop d openbsd qrrsqrr tqrr uqrrvqrrwqrrxqrrqqrryqrrryzzzyzzs e mozilla f samba figure percentage of files modified during a year for which t he copyright year was updated.
fromnone to cpl v0.
cpl v1.
and finally epl v1.
.
the growing number of files updated from one license to the next reflects the growth in number of the files.
this change pattern is consistent with table in the last analyzed release almost all files were licensed under the epl v1.
.
freebsd as reported in the files of freebsd and openbsd use a very large number of licenses albeit most of them are variants of the bsd license including the and clauses variants .
this use is reflected in table and in the license changes in table .
we observe that the licenses are moving towards the less restrictive and clauses bsd licenses.
freebsd itself is available under a clauses bsd license.
openbsd openbsd is a fork of freebsd it is not surprising that its license changes are similar to that of freebsd.
the major difference is that openbsd is available under a clauses bsd license while freebsd under clauses bsd.
this difference is reflected in tables and where openbsd has more transitions towards clauses bsd licenses while freebsd has more towards clauses bsd.
there are also many files that changed from having a license to none.
mozilla mozilla has seen a natural progression from npl towards the current disjunctive gpl v2 and mpl v1.
.
it has moved from the original npl v1.
to the v1.
equivalent to the mpl v1.
plus the gpl.
we were surprised to also observe a change in the opposite direction on jan files were changed from gpl mpl to npl.
this change was reverted few hours later.
the corresponding defect states that there was a bug in the script responsible for changing the license.
samba table shows that samba has had almost no changes in its licenses it has always been released under 5mozilla is currently licensed under a disjunctive license c onsisting of the gpl v2 the mpl v1.
and the lgpl v2.
fossology is not able to detect the lgpl in this case.table relationship between file changes and copyright year updates.
systemschanges to files with outdated copyright yearchanges to files with outdated copyright yearpvalueseff.
sizes meanmedian meanmedian argouml .
.
.
.
.
.
.
.
eclipse jdt .
.
.
.
.
.
.
.
freebsd .
.
.
.
.
.
.
.
openbsd .
.
.
.
.
.
.
.
mozilla .
.
.
.
.
.
.
.
samba .
.
.
.
.
.
.
.
the gpl v26.
compared to other projects samba had significantly fewer files that changed license.
these changes are likely files that were originally inserted without a lice nse and later fixed.
.
rq3 howarecopyrightyearschangedin licensing statements?
figure reports the percentages of file revisions for each systems where the files that underwent at least one change in a particular year also had a copyright year added or modified in their licensing statements.
argouml andeclipse jdt the two analyzed java systems started with a relatively low percentages of files with years updated about for argouml and above for eclipse jdt.
then the percentages increased towards for eclipse jdt and close to for argouml.
freebsd andopenbsd overall exhibit a lower upda6samba has recently changed to gpl v3 but we retrieved its history before this change.ting of copyright years than the two java systems with a relatively higher number of update in the first year above for freebsd below for openbsd.
mozilla is similar to freebsd and openbsd but with a lower percentages of updates starting from in the first year and then decreasing towards .
samba has percentages of changes of copyright years higher in the first three years above then lower in the subsequent years below .
we also assess whether files containing a year in the copyright underwent a higher number of changes in that year than other files.
we test the null hypothesis h0 the number of changes during one year for files reporting such a year in their copyright does not significantly differ from the number of changes occurring to other files .
table shows descriptive statistics for the two groups of files p values resulting from the mann whitney two tailed test used for the comparison and the cohen deffect size indicating the magnitude of the difference.
the effect size is defined for independent samples as the difference between the means m1andm2 divided by the pooled standard deviation of both groups p 2 2 i.e.
d m1 m2 .
it is considered small for d .
medium for d .
and large for d .
.
results indicate that the difference is always statistically significant p value .
i.e.
files exhibiting a change in their copyright year underwent significantly higher number of changes during that year.
the effect size is always small or even negligible but for openbsd where it is medium.
this analysis was repeated by counting lines added removed instead of the commits and consistent results were found.
.
discussion changes to licensing statements account for a large proportion of the changes occurring to source code files.
our results show that for three of the six systems argouml freebsd and openbsd licensing statements changed in about of the file revisions median value while for the other systems eclipse jdt mozilla and samba the median frequency is between and .
however small changes are most frequent and more substantial changes only occur on a small percentage of file revisions below .
yet in some cases we found that even relatively small changes meant a transition towards a different license e.g.
a change from a cpl .
to epl .
requires a change in only two words common toeclipse andcpltoepl .
by relating what we discussed in section about license evolution with results shown in table we can observe that some of the analyzed systems have changed their licenses in ways similar to which these licenses have evolved.
the ibm public license evolved into the cpl v0.
the cpl v1.
and finally the epl v1.
.
our results show how the licensing of eclipse jdt followed that evolution.
the differences between the original ibm public license and the epl are minor and primarily divided in two areas first ibm has relinquished control of these licenses to the eclipse found ation and second clarifications are made regarding patent s and the ways in which the eclipse foundation accepts source code contributions .
similarly mozilla has seen its licenses changing from the original npl to a combination of mpl and the gpl.
the npl guaranteed to netscape the right to distribute the source code under any condition and license regardless ofwho contributed to the source code.
this license allowed to release netscape as a proprietary system.
the mpl removed this asymmetry between netscape and other contributors allowing to re distribute the source code if it remai ned under the mpl.
mozilla s most recent changes highlight another important fact the mozilla foundation is aware of the constraints imposed by incompatible software licenses .
in an attempt to deal with this problem they have licensed mozilla source code under any of three licenses the mpl v1.
the gpl v2 and the lgpl v2.
.
the user can select the license that best fits her purpose.
in both eclipse jdt and mozilla licensing changes rigorously followed the evolution of the licenses.
this is not sur prising the cpl and the epl were created for the eclipse foundations s projects the npl and mpl for mozilla foundation s projects.
in both cases the actual changes to the license are minor and answer concerns of the communities of each of the foundations.
freebsd and openbsd are more eclectic in their license changes.
this is probably the result of a very heterogeneous community of contributors and the result of code that is frequently imported from external sources as we reported in .
nonetheless we can see a clear pattern moving from the old bsd clauses license to the more permissive bsd and bsd licenses.
some other systems such as argouml and samba have kept the same licenses over the entire analyzed time span.
in the few cases in which the licensing statement of files changed in these systems licensing statements were added to the files i.e.
a change from none to the usual license.
the implications of the changes in licenses for eac h of the projects is different.
in argouml the change is from none to a simple license.
we presume that at some point its authors realized the importance of including a license.
the numbers of times that systems have changed their licenses varies.
we observed that eclipse jdt has used four different licenses and mozilla two.
these numbers show the willingness of the eclipse and mozilla foundations to adapt the licensing statement of their systems to their users nee ds.
changes in copyright years followed different patterns in different systems in argouml and eclipse jdt years were almost always updated with increasing updating percentages reaching values above .
we found lower and decreasing percentages in the other systems the percentages are higher during the first year when the files are created with licensing statements.
also we found that files for whic h the copyright years were updated underwent higher numbers of changes when developers perform substantial changes to a file they also update copyright years.
copyright regulations and in particular the copyright regulations of th e usa require the copyright notice to include the year of the publication of new code.
although this requirement is not mandatory to grant copyright protection failing to proper ly update the copyright year when substantial changes occur would allow an infringer to claim innocent infringement .
in some systems eclipse jdt for example it is possible to notice commits explicitly targeted to copyright year s updates.
for example the commit done on by dmegert says updated copyrights or the commit done on by jlanneluc says updated copyrights to .
.
threats to validity this section discusses the main threats to the validity of our study.
construct validity threats concern the relation between the treatment and the outcome.
they can be due to our measurements i.e.
the way we extracted licenses classify them and identify their changes.
we extracted licenses using an already existing approach .
we have considered the first two blocks of consecutive comments in a file as its licensing statement to reduce the risk of missing a license.
it can be therefore possible that we included in our study comments not belonging to a license.
however such a measurement error would only affect rq1.
it would not affect the results of the other questions because the classification of the license is unlikely to be affected by more text than the license itself.
as reported in the licens e classification performed by fossology has some imprecision particularly in complex licensing statements e.g.
it did not detect the lgpl in the disjunctive license of mozilla.
nevertheless from the inspections we made such an imprecisio n is mostly limited to discern among variants of licenses embedded in the licensing statement e.g.
among bsd licenses.
we have added new licenses and submitted defect reports to fossology to improve its classification.
our experience with fossology is positive but needs to be empirically evalu ated to properly assess its accuracy.
we could not find cases where a license dramatically changed due to small textual changes a manual validation shows that that any change in the license types even the transition from cpl to epl yields a textual similarity between the previous and the new licensing statement lower than the threshold of .
.
threats to internal validity do not affect this study being an exploratory study .
for the same reason threats to conclusion validity are also not important although we used statistical tests where appropriate and made sure that the conditions for their applicability held.
threats to external validity are related to the generalizability of our findings.
our study concerns a reasonably large variety of six systems developed in different program ming languages belonging to different domains and experiencing different kinds of evolutions e.g.
systems developed from scratch argouml and samba and others that originated in industry eclipse jdt and mozilla .
yet it is necessary to replicate this study on other systems in parti cular industrial systems to confirm its generalizability an d to study the use of foss code in industrial systems.
regarding reliability validity i.e.
the possibility of replicating this study we have detailed the data extraction process and the source code and changes for the six systems are available from their cvs svn repositories.
furthermore we made available the extracted data and tools used in this study.
.
related work to the best of our knowledge only few recent works specifically dealt with licensing evolution.
this section discus ses related work concerning the analysis of licenses and the evo lution of source code comments because licensing statements are a particular kind of comments.
licenses impose constraints and thus can be defined as logical formulae constraining what can and cannot be done with a system.
software licensing patterns have been recently studied by german et al.
using such a formal ization of licenses.
they introduced several legal pattern s along with examples of occurrences of these patterns.
in a previous work we presented a study of the influence of software licenses on code migration between the freebsd linux and openbsd kernels.
our findings support the hypothesis of a preferential code flow induced by permissive licenses from freebsd and openbsd towards linux.
because licenses are contained in licensing statements the analysis of licensing evolution or of comment evolution are similar in their approaches and tools.
fluri et al.
investigated comments and code co evolution by analyzing three foss systems argouml eclipse jdt and azureus .
they found that i new code is not much commented ii most of the comments refer to class and method declarations and iii comments are consistently updated with their associated code.
jiang and hassan examined the evolution of comments in postgresql considering comment additions and deletions.
they found that on average the percentage of commented functions remain constant except for some variations due to developers commenting style.
lawrie et al.
measured the quality of identifiers by measuring the extent of their relations to words occurrin g in comments.
they found that in general full identifiers ensure better comprehension than abbreviation although there are exceptions.
ying et al.
studied the use of comments as a means of communication among eclipse developers.
they discovered that comments are not only used to help understanding the code but also to communicate tasks activities and to assign tasks to other team members.
hindleet al.
discovered that many of the largest commits correspond to changes to the licenses or copyright owners of files.
we share with these previous works the heuristics used to identify comments and to compare them using information retrieval methods although we specifically focus on comments related to licenses i.e.
on licensing evolution and changes to copyright years.
finally a related paper by di penta and german studied changes occurring to copyright owners names and found that explicit contributors and copyright owners are often added to licensing statement during larger changes although the number of changes they performed is not higher than that of other committers.
.
conclusion as several cases occurring in the open source world suggest licensing changes can have an impact on the software lifetime or even on other competitor software systems.
this paper proposed a method to track the evolution of software licensing and investigated the relevance of licen sing evolution on six foss systems.
most noticeably we observed license changes from one license to another license additions e.g.
files without license were updated with a license and license modifications.
for large systems like eclipse jdt mozilla or the bsd kernels the amount and frequency of licensing changes would make difficult their manual analysis thus highlighting the usefulness of an aut omatic analysis method.
finally we investigated changes oc curring to copyright years and found that they are updated to protect new code when substantial changes are made to a source code file.
we consequently brought evidence on the evolution of software licensing which suggests that this fi eld of analysis should be further studied to better understand its impact and rationale.
future works will be devoted to study the licensing evolu tion in entire software distributions with the aim of relat ing changes in licensing of some components products with thei r removal in subsequent versions of the distribution and wit h the adoption of alternative products as in the cases of ipfilter or qt .
we will also investigate on a very large sample of foss systems the evolution of their licensing statements i.e.
how different kinds of foss licenses are adapted over the time to cope with weaknesses or limitations of older licenses and to characterize licensing evolution patterns i n different categories of software systems.
.