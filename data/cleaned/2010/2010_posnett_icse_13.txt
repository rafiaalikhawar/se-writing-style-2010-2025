draft!dual ecological measures of focus in software development daryl posnett univ.
of california davis dpposnett ucdavis.eduraissa d souza univ.
of california davis raissa cse.ucdavis.eduprem devanbu univ.
of california davis ptdevanbu ucdavis.eduvladimir filkov univ.
of california davis vfilkov ucdavis.edu abstract work practices vary among software developers.
some are highly focused on a few artifacts others make wideranging contributions.
similarly some artifacts are mostly authored or owned by one or few developers others have very wide ownership.
focus and ownership are related but different phenomena both with strong effect on software quality.
prior studies have mostly targeted ownership the measures of ownership used have generally been based on either simple counts information theoretic views of ownership or social network views of contribution patterns.
we argue for a more general conceptual view that unifies developer focus and artifact ownership.
we analogize the developer artifact contribution network to a predator prey food web and draw upon ideas from ecology to produce a novel and conceptually unified view of measuring focus and ownership.
these measures relate to both cross entropy and kullback liebler divergence and simultaneously provide two normalized measures of focus from both the developer and artifact perspectives.
we argue that these measures are theoretically well founded and yield novel predictive conceptual and actionable value in software projects.
we find that more focused developers introduce fewer defects than defocused developers.
in contrast files that receive narrowly focused activity are more likely to contain defects than other files.
i. i ntroduction developers are the lifeblood of open source software oss and their contribution is vital for oss to thrive.
rather than being assigned tasks by management oss developers are generally free to choose their style focus and breadth of contributions.
some might be quite focused working on one specific subsystem others may range widely over the different subsystems.
an expert in a particular hardware device for example might contribute very specialized knowledge to one or more open source projects.
such developers may focus on only a few files or a few packages to get a particular job done.
that small subset of modules1may be their only contribution during their tenure with the project.
in contrast other developers may work on a variety of tasks.
while oss developers are free too choose their contribution styles these choices are not inconsequential especially to the central issue of software quality .
a dominant theme emerging from previous work in this area is module ownership .
if a module has many contributors or low ownership this can adversely impact code quality.
a variety of measures have been developed to measure ownership .
there is however an entirely different perspective developer s attention focus which is relatively unexplored.
human 1we use modules to mean packages or files depending on the situation.attention and cognition are not unlimited mental resources like other resources are finite and different tasks can compete for mental resources when simultaneously engaged and task performance can suffer .
programming work is arguably highly demanding and difficult.
a developer engaged in many different tasks carries a greater cognitive burden than a more focused one.
interestingly the developer and module perspectives are conceptually symmetric dualistic views of focus .
from a module s perspective strong ownership indicates a strong focused contribution.
we refer to this as module activity focus ormaf a measure of how focused the activities are on a module.
symmetrically we refer to the developer s attention focus ordaf a measure of how focused the activities are of a particular developer.
a surprising but natural analogy for maf anddaf are predator prey food webs from ecology.
in a sense modules are predators which feed upon the cognitive resources of developers.
the more different developers contribute to a module the more different and diverse are the cognitive resources it feeds upon.
likewise a developer is a prey whose limited cognitive resources are spread over the modules that prey upon her.
ecosystem diversity is of great interest to ecologists.
williams and martinez call the roles complexity and diversity play ne of the most important and least settled questions in ecology.
this diversity has two symmetric perspectives both from a prey s perspective and a predator s perspective.
ecologists have developed sophisticated symmetric measures of predator prey relationships drawing upon ideas such as entropy and kulback leibler divergence that simultaneously captures both perspectives.
we adapt these measures for software engineering projects into the metrics maf anddaf .
in this work we employ methodology presented by el emam to validate our measures .
in particular we show that thedaf andmaf masures succeed in distinguishing interesting cases that extant measures don t capture.
we make the following contributions we adapt terminology and motivation from ecology based on bipartite graphs we incorporate and generalize previous results on developer and artifact diversity we provide easy to compute measures of focus maf anddaf normalized to faciliate comparison within and across projects we show these measures more precisely capture outcomes relevant to software researchers and practitioners.draft!this novel analysis simultaneously considers focus both from the artifact perspective and the author perspective.
researchers can use our maf anddaf metrics to more precisely evaluate how attributes of developer experience and focus contribute to outcomes of interest.
managers could also use these metrics to assess whether the degree of focus each developer exercises is in alignment with their expectations.
research outline existing measures such as ownership and diversity only partially capture developer focus.
consider for example device drivers.
they are small but intricate and will likely require focused work.
if we measure the focus from solely the perspective of the module the driver source code we may be misled.
quite possibly a single developer d contributed most of the coding activity in a driver module and traditional ownership measures will indicate that the driver has received focused activity.
but if dis a wide prolific contributor then the contribution she makes to the driver may not reflect focused attention.
indeed dmay have been distracted by many tasks and the quality of the activity in the driver may be compromised.
measuring focus solely from the developer s perspective is also insufficient.
the attention of a particular developer may be highly focused on just a few files.
however if those activities make insignificant contributions say a few lines out of thousands then we should describe her contributions as minor in comparison to those who contribute the bulk of the code.
given equal overall contributions a developer whose attention is focused on a small subset of the code base is viewed as exhibiting greater focused attention than the developer that contributes more uniformly all over.
our goal simultaneously study the module activity focus and developer attention focus in oss.
we introduce themaf anddaf measures in section iii.
to understand them we mount a detailed study of module activity and developer attention focus in oss projects.
starting from a combineddaf andmaf perspective we examine the descriptive statistics of these measures in projects we use regression modeling to tease apart the effects of maf and daf on software quality and answer the following questions.
our measures enable us to characterize the attention focus of developers as broad or narrow.
in particular we ask if the leaders or people with top involvement in open source projects are distinguishable by this measure?
research question do project leaders exhibit broad or narrow attention focus?
what about the top developers?
the effect of focus and collaboration on defects has been studied in the past.
some papers use social network models of developer collaborations others use ownership measures of contributions by developers.
complex network measures such as degree centrality and betweenness are difficult to interpret and act upon.
ownership measures are better but they d1 d2 ... dm pi wmi a p1 p2 ... pn djwjn b d1 d2.
.
.
dm p1 p2 .
.
.
pn c fig.
graphical representation of commits from multiple developers to a single package a from a single developer to multiple packages b and their bipartite representation c .
ignore the effect of developer attention focus.
simultaneously modeling the diversity of both sides of the developer module contributions using maf anddaf allows us to tease apart the effect of each one separately.
as we shall see both maf anddaf can be acted upon based on the observed effects on software quality.
first from the developer perspective research question do developers with narrow attention focus create fewer defects?
the symmetry of our measures allows us to also ask the converse from the module perspective research question are modules that receive narrowly focused activity less defective?
in summary our goal here is to understand and generalize previous results on developer focus in software development contribution networks realizing it is two fold.
we draw insights from similar conceptual structures that have been developed in ecology on specialization and expect that this will lead to more intuitively appealing discerning and actionable measures of contribution patterns.
we begin by introducing some basic concepts contribution andecological networks .
contribution networks they model the total number of contributions made by each developer to each module over a specific period of time.
fig.
a and fig.
b illustrate contribution networks as a bipartite network having two kinds of nodes consisting of modules and developers.
fig.
c shows a network formed by the many to many relationships of numerous developers each working on numerous modules.
social network analyses have been applied to these networks using metrics largely derived from onemode projections which project the two mode networks into either developers alone or modules alone.
instead we use ecology based measures which preserve their bipartite nature.
ecological networks in the field of ecology interaction networks relate predator to prey pollinator to pollen parasite to host or simply organism to resource .
these networks usefully capture resource consumption relationships and their effects on the relative abundance of different species in an ecosystem.
they can e.g.
help quickly identify species critical to ecosystems or species whose survival is threatened.draft!in our context the analogy gives some useful insights but raises other questions.
we can view artifacts as consumers and developers resources as the food source .
clearly cognitive capacity is limited and no one can work an unlimited amount of time.
if a person s capacity is excessively spread out or diluted two factors come into play.
first as diversity of an individual s food source contribution targets consumers increases a given individual can only contribute a proportional amount of time to each of them secondly cognitive limitations such as the difficulty of context switching come into play and the quality of each contribution may go down .
from the other perspective a particular module consumer clearly benefits from contributions from a greater diversity of developers more food .
on the other hand the contributions from each developer creates additional workload for the other contributors as they must also understand these contributions so additional contributors make everyone who feeds this module have to work harder and thus provide less food .
thus the straightforward analogy from food webs is complicated by cognitive limitations that introduce non linear interference between contribution targets and contributors.
however the above analysis by analogy with food and consumption highlights the two perspectives on focus in contributor networks.
the developer focus looks at how focused developers are in their contributions and the module focus considers how focused the contributions to an artifact are.
we frame our contributions by first presenting existing work in this area before we launch into the theory behind our new measures.
ii.
r elated work most previous work in this area has centered around the aggregation of ownership largely considering the dominant author as a measure of artifact authorship.
our work most closely relates to recent work by bird et al.
rahman et al.
and by mockus et al.
.
these works study the relationship of quality to code ownership from an artifact perspective.
bird et al.
focus on minor contributors viz.
those who contribute less than of the content of an artifact and finds that these play a strong role in defects.
however this perspective ignores the details of the contributions of these minor committers and in fact is agnostic about the other activities of these contributors.
what if a minor contributor d1contributed to a module fbut didn t do anything else?
she s a highly focused minor contributor on the other hand a minor contributor d2tofmay in reality have worked on a great many other things.
bird et al.
ignore this distinction we in fact find that d1is less likely to produce defects than d2.
mockus et al.
studies the risk of software changes by defining a measure that considers a developer s overall experience weighted by their experience with a particular modification request.
rahman et al.
take a similar perspective focusing on a developer s experience and ownership with a specific file as an indicator of quality of that file regardless of the developer s other activities.
rahman et al.
adapt the measures of bird and mockus specialized experience measures the dominant contributors contribution to a particular artifact and generalexperience is an adaptation of mockus weighted experience measure.
the findings in rahman et al.
are generally consistent with bird et al.
and have similar limitations.
shannon s entropy was originally intended to quantify the information content in a signal.
the idea of using entropy to measure properties of software evolution has a long history .
it has been used in numerous software engineering contexts for space reasons we limit this discussion to some of the most recent efforts.
entropy has been applied to source code to measure the quality of interfaces model readability and the quality of modularization .recent work applying entropy to software systems has been driven by the wide availability of data from software repositories.
hassan and holt applied normalized entropy to a sliding time window of source code changes to capture the commit state of a project and used linear regression to predict defects in several open source projects .
canfora et al.
used entropy to study the relationship between several factors including refactoring design patterns and the number of contributers and the entropy of changes as defined by hassan and holt .
the experiments yielded mixed results.
taylor et al.
introduced author entropy as discussed in the introduction .
krien et al.
extended the concept by defining author entropy across the distinct programming languages that a developer contributes code to within a project .
their analysis showed a clear negative relationship between language author entropy and lines of code contributed.
hindle et al.
use topic analysis to study what a developer is focused on but their work does not capture the degree to which a developer is focused specific artifacts .
others have also studied the contributions of individual developers to artifacts.
pinzger et al.
studied the effect of network metrics taken over the contribution network on software failures .
however their results do not show significance of these measures for prediction of failure proneness even though they are significant in a linear regression model of defect counts.
consequently it is difficult to derive any direct understanding of the relationship between the aforementioned measures and defect proneness .
cataldo et al.
build on earlier work in this area using network measures to more precisely define software and work dependencies.
ecology has inspired other software engineering work calzolari used dynamic redator prey models to study maintenance effort .
posnett et al.
studied aggregation in se models and the threat of ecological inference risk .
baudry and monperrus described several approaches for ecologically inspired software engineering .
our work takes a unified approach to focus and ownership combining artifact and developer perspectives.
this leads to important new findings.
after we present our theory below we will discuss in detail how our work builds upon existing measures.draft!iii.
t heory in this paper we consider the relationships between developers and modules.
for expository purposes we use the term module in a the generic sense to represent a tangible unit of code relevant to the research question.
module could refer to a file a package a component or even simply a function.
an individual developer is denoted by dj forj21 m and an individual module by mi fori21 n .
the total contribution count to module iby developer jis denoted bywij.
summing over all developers and all modules yields the total number of contributions to the system as a pn i 1pm j 1wij.
we can also calculate the total number of contributions that developer jmakes to the system by dj pn i 1wij.
similarly the total number of contributions made to moduleiby all developers is denoted by mi pm j 1wij.
the contribution wijcan be measured in lines of code commits or any other measure of contribution relevant to the studied context.
in this work we measure proportion of contribution as the number of commits contributed by each author.
diversity our specific measure is conceptually based on shannon s entropy which measures the disorder or surprise viz.
information in a system.
the definition of author entropy given by taylor et al.
is precisely the concept of diversity from ecology.
theoretical ecologists were among the first to employ shannon s entropy as a measure of diversity in a species .
a straightforward explanation of what ecologists mean by diversity can be found in a recent discussion by camargo .
we summarize here for the purposes of clearly translating the intuition to a software engineering setting.
camargo presents the definition as follows h species diversity sx i 1pilog2pi heresrepresents the total number of distinct species and pi is the proportion of individuals that are of species i. if we compare this to the definition due to taylor et al.
we can see that where ecologists refer to species andindividuals taylor refers to developers and ownership .
if all species are equal in number then diversity is high if one particular species dominates in number then the diversity measure will be low.
with respect to author entropy however diversity simply measures the uniformity of the commits relative to each author.
if one author makes most of the commits then low diversity is taken to mean that one author dominates the commit activity.
similarly we can also consider the diversity of authorship commit activity with respect to a module.
a module that has only one author is not diverse at all and a package with many authors sharing the load has a high degree of diversity.
diversity here is simply the diversity of commit behavior for either authors over a module or modules over an author.
using the notation presented above and also in fig.
one can formulate two distinct definitions of diversity one with respect to the contributions of author djto all modules hdj and the other with respect to the contributions to a module mi from all authors hmi as follows hdj nx i wij djlnwij dj h mi mx j wij milnwij mi specialization focus specialization in a general sense is the opposite of diversity the more specialized a developer s behavior the less diverse is his contribution to a project.
this property proposed by bluthgen et al.
in an ecological setting can be measured naturally in the bipartite graph formulation described above.
to distinguish our use from the terminology in ecology and to better reflect the actual cognitive phenomena of concern in software development we prefer the term focus .
using the above diversity measures applied to both sides of the contribution network to measure focus is not advisable.
as bluthgen et al.
point out this approach is undesirable in an ecological setting their arguments also apply in a software development setting.
an appropriate measure of focus in software development should not only consider the diversity of artifacts that a developer interacts with but also the overall amount of activity that those artifacts are subject to.
a developer who only commits a few times to a popular package with many commits is lessspecialized than a developer who makes similar commits to an unpopular package.
a good measure of focus should increase when a developer makes most of the contributions to a package compared with others who contribute to that package.
to accomplish this we want to measure the difference between the distribution of commits made by a developer to all modules and the distribution of commits to the system represented by those modules.
kullback liebler divergence kullback liebler divergence or relative entropy measures the difference between two probability distributions.
for probability distributions pand qthe kullback liebler divergence kl is defined as dkl pjjq x ilnpi qi klis a measure of the expected number of extra bits that are required to code samples from p when using a code based on q. bluthgen et al.
define a species level diversity measure d using the kullback liebler divergence.
we exploit this measure in our context to relate our two probability distributions of interest.
our measures daf andmaf we introduce two measures developer attention focus ordaf measures the divergence from the developer perspective viz.
the degree of focus a developer exercises with respect to the artifact side of the network.
from the artifact side module activity focus ormaf measures the degree to which a module receives focused attention.
we define the proportion of commits made by developer jto moduleiasq0 ij wij djand the proportion of commits made to each module iasr0 ij wij mi.
the total proportion of commits to each package is ri mi aand the total proportion of commits by each developer is qi dj a. we adapt the bluthgen et al.
notation to be compatible with ours and substitute jand iin place ofdto avoid confusiondraft!and to convey clearly which side of the network each metric is associated with.
this un normalized measure compares the distribution of the interactions with each network partner viz.
developers and modules to the overall partner contribution j nx i q0 ijlnq0 ij ri i mx j r0 ijlnr0 ij qj daf intuition the intuition behind these measures is straightforward seen clearly after a small transformation using j un normalizeddaf as an example we obtain j nx i q0 ijlnq0 ij q0 ijlnri nx i 1q0 ijlnq0 ij nx i 1q0 ijlnri nx i 1q0 ijlnri!
nx i 1q0 ijlnq0 ij!
nx i 1wij djlnmi a!
nx i 1wij djlnwij dj!
this measure is computed for each developer viz.we fixj and it is computed over all modules.
there are two terms in the jequation which merit separate explanation.
the left term is the cross entropy of developer j s contributions with the module level contributions from all developers.
the intuition is that if the proportion of a developer s contributions to each module are similar in distribution to the proportion of commits to each module overall then we are unsurprised the developer s contributions mimic the project as a whole.
he works less on modules that are just a small part of the overall system and works a great deal on the more substantial modules.
on the other hand if the distributions are dramatically different then the developer s contribution is unexpected increasing cross entropy and hence the focus metric.
if e.g.
he works solely on modules that comprise just of the system then his contributions are out of proportion and should be seen as focused.
the right term corrects for a complication.
suppose that the above mentioned of the system is spread out over many tiny modules that each represent a small fraction of the system.
then even though our developer s contributions are disproportionate limited to just of the system they are actually quite scattered and we would not consider him so focused instead he is rather distracted.
in this case we want to penalize his focus score to reflect this distraction.
this is accomplished by the right term which is simply developer diversity as described in the previous section.
the more spread out a developer is the higher his diversity score.
in summary daf is high when a developer both monopolizes packages and is not distracted by too many other packages.
maf intuition the derivation ofmaf mirrorsdaf so we present only the final line to aid understanding i nx j 1wij milndj a1 a nx j 1wij milnwij mi1 a this measure is taken from the complementary side of the network and is computed for each module viz.we fixi andcompute the metric over all developers.
while the computation is virtually identical it captures a different aspect of the contribution network.
the left term is the cross entropy of the contributions to the module with the developer contributions to the system.
as before if the distributions are similar then the module receives minimal contributions from developers who are not major contributors to the overall system and sufficient attention from those developers most responsible for the system.
in this case the module s focus is low and we re not particularly surprised.
for example if a readme file has received a fraction of a percent of the commits from a particular developer we re not surprised so long as the file isn t dominating that developer s attention.
if in fact it is dominating then this excess attention is focused attention to the module.
similar todaf the right term penalizes the focus for the diversity of contributions.
modules equally contributed to by multiple developers do get less focused attention than modules with high ownership.
in summary maf is high when a package monopolizes a developer s attention and receives little attention from other developers.
maf anddaf are both normalized by the theoretical maximum and minimum possible values of the measures.
for the max jmax lna djand imax lna pi.
the theoretical minimum value of 0is typically not attainable in the case where the proportional counts are based on integer values as is the case here so a heuristic is used to find a suitable minimum see for more detail .
using these minimum and maximum values the jis standardized to a to1range with the following normalization daf j j jmin jmax jmin maf i i imin imax imin since these measures specifically take into account the contributions that each developer makes and that each module receives their values are independent of this variation within a network and can be used to compare the relative focus levels of individual developers and modules.
each metric can be interpreted as a deviation of contribution frequencies from a null model which assumes that all developer module pairs are contributed from to in proportion to the overall contribution to the system.
in the simplest case of a fully balanced network where all q0 ij r0 ijthe theoretical minimum value of 0will be achieved.
when q0 ij r0 ijthe cross entropy equals the entropy and focus is minimized.
in section v we discuss how our metrics related to existing work and present a small case study on a real system to help illuminate how it is able to distinguish interesting cases.
in the next section we describe the data and methods used for the case study and for the statistical analysis in sect.
vi.
iv.
d ata and methodology data we extracted a selection of metrics often used for defect prediction for seven projects maintained by the apache software foundation listed in table i. for each project we 2also the r bipartite package releases files packages avro .
.
.
.
cassandra .
.
.
.
cxf .
.
.
ivy .
.
.
.
lucene .
.
.
.
shindig .
.
.
.
wicket .
.
.
.
table i apache software foundation projects used in this study.
used data from the source code repository and the jira issue tracking system to extract basic process metrics such as churn and the number of commits and developers associated with each file and package.
the specific metrics used are described briefly with each model description.
jira is an issue and bug tracking system that manages a database of issue reports submitted by developers and users.
issues can be of various types including new features improvements or defects.
jira enforces a basic development process by mapping issue reports to version control commit messages.
it accomplishes this by cross linking jira issue ids extracted from version control system commit log messages with the associated report in the jira database.
we extracted the jira issues from the xml report available on the apache software foundation s project website for each of the projects.
version control version control systems e.g.git svn and cvs facilitate collaboration among developers by maintaining a history of changes and an associated log entry for each change.
to obtain the number of commits and developers associated with each file we parse the log data retrieved from the version control system.
we use the jira issue ids and the git version control log to link issues associated with each commit to the files involved in the commit to associate defect counts with each file in the release.
bug introducing change for defect issues in the jira database we d like to try to locate the files that induced the defect fixing modification.
the lines of code associated with the changes that triggered such a modification are referred to as fix inducing code as coined by sliwerski et al.
.
to identify the fix inducing code we use the szz algorithm developed by sliwerski zimmerman zeller .
we extract commits associated with each defect fix as described above.
if a fix is associated with revision nthen we apply git diff to revisionn 1and revision nto identify the specific lines that were changed in the fix.
we then use git blame on only the changed lines to identify the revision responsible for the fix inducing code.
if the revision was changed after the defect introduction then we do not associate post defect changes with the defect otherwise we associate the unique defect id with the file in the fix inducing revision.
this allows us to identify the unique modulo szz accuracy defects that can be blamed on each file in the system.
contribution networks we described contribution networks in section i. to gauge the global focused attention of each developer over the life of the project we built a network using all entries in the commit graph over the full period of eachproject that we studied.
this approach results in static focused attention values for each developer and for each module.
v. a nalysis and a case study with respect to the methodology described by el emam we want to show that our new metrics maf anddaf capture interesting properties not captured by other metrics .
we discuss this in an analytical setting first and conclude this section with a case study.
in section vi we strengthen this analysis with some statistical results.
ownership the simplest measure of focus is module ownership which is usually measured as the proportion of contributions to a module.
the developer with the highest ownership is identified as the module s owner.
not surprisingly ownership shows no meaningful correlation with maf but strong correlation with both betweenness measures see sec.
v trivially ownership cannot capture any significant nature of developer or module interaction as the measure itself considers only a single developer and module in isolation.
betweenness in prior research betweenness in contribution networks has been used as a proxy for developer focus.
it is a simple measure of module connectivity measuring the fraction of geodesic paths between developers that pass through that module .
so if a module was touched by fewer developers who themselves touched few other modules then betweenness will be low indicating high focus.
we also consider the developer network edge betweenness dnbetweenness a collapsed view where developers are the nodes of the graph and the modules connecting nodes form the edges.
betweenness measures are often highly correlated with the number of developers.
as more developers touch a file the likelihood of betweenness goes up so however does the number of commits the size of the code the number of bug fixes and consequently the number of defects see table iv .
thus betweenness in practice rarely adds any predictive or actionable value beyond the raw developer count.
diversity is a more sensitive measure that represents the commit entropy of each module.
like betweenness high diversity values implies a lack of contribution focus.
low values of diversity suggest low surprise at who is going to commit next.
diversity doesn t distinguish cases where this surprise might be important e.g.a device driver with cases where it is largely irrelevant e.g.areadme file.
experience some measures of experience consider the contributions that a developer has made to the system along with his contributions to an entity specifically mockus experience measure although applied in a different setting is the closest to ours .
in fact it can be shown that this measure is equivalent to a normalization term minus the cross entropy h r0 ij qj .
it does not however fully capture the nature of developer focus as it does not capture diversity does not have a standard range and most importantly does not define a developer focus metric such as daf .
additionally it is worthwhile to note that the dual nature of our measures permits an elegant computation viz.
that the same code can be used to calulate either measure ondraft!
thiruvalluvan douglas phillip avro.genavro avro.io.parsingavro.io avro.generic avro.reflect avro.specificavro avro.file avro.tool avro.util avro.mapred.tetheravro.mapred default avro.idlavro.ipc avro.ipc.traceavro.ipc.statsfig.
the full bipartite network of apache avro with developers at the top and files on the bottom.
block and edge sizes represent the number of commits either from or to developers and packages respectively.
the weighted adjacency matrix that represents the contribution network simply by transposing the matrix to obtain the dual.
avro case study apache avro is a remote procedure call and serialization framework.
it s primary purpose is to provide serialization for persistent data and a format for distributed data exchange.
it is a moderately sized project with over files.
we gathered distinct commits of the project between jan and sep .
during that time there were only three committers to the project.
because of the manageable size we use it here to illustrate some properties of various focus metrics.
the full bipartite package level contribution network can be seen in fig.
.
block and edge sizes in the graph represent the number of commits either from or to developers and modules respectively.
we first consider maf in concert with related measures and then daf .
maf of interest here are the previously defined entropy measures the simple proportional measure of ownership and the concepts of node and edge betweenness.
ownership is the simplest to discuss consider package avro in fig.
which is owned by douglas with ownership of0 .
with amaf score of 04we might conclude that ownership and maf are inversely related.
however avro.specific has both higher ownership and higher maf .
table iv shows that maf and ownership are not strongly correlated.
betweenness considers more of the network but since betweenness measures as in meneely et al.
do not take into account the relative contribution of each developer they are often highly correlated with the number of developers and other size metrics.
further because in this case the developers are tightly connected by the modules neither form of betweenness discriminates interesting cases.
the packages avro.file andavro.specific have identical betweenness values of indicating that they are unfocused artifacts.
their diversity values however lie at either end of the spectrum.
a total of three developers have contributed to avro.file which has a diversity scoreof0 .
the width of the ribbon connecting phillip to this package indicates that he has made a modest but significant proportion of the commits to the package.
in addition thiruvalluvan has also made at least one commit although his contribution is smaller.
douglas has made most of the commits but even so the total number of contributions is still relatively small.
the package avro.specific on the other hand has only two contributors and douglas clearly owns the lion s share resulting in a much lower diversity value of indicating the relative lack of surprise at who will make the next commit.
in the previous example diversity was able to capture variance in contribution that betweenness cannot.
unfortunately diversity is insufficient to capture many examples of focus.
avro.ipc.trace andavro have almost identical diversity values of and0 respectively.
while their ownership diversity focus btw dne bugs maf btw avro .
.
.
.
avro.file .
.
.
.
avro.specific .
.
.
.
avro.tool .
.
.
.
avro.ipc.stats .
.
.
.
avro.io .
.
.
.
avro.io.parsing .
.
.
.
avro.genavro .
.
.
.
avro.generic .
.
.
.
avro.reflect .
.
.
.
avro.util .
.
.
.
avro.ipc .
.
.
.
avro.mapred .
.
.
.
avro.mapred.tether .
.
.
.
avro.idl .
.
.
.
avro.ipc.trace .
.
.
.
default .
.
.
.
table ii maf discriminates interesting cases better than other ownership metrics in apache avro.draft!betweenness values are different again so are their number of developers.
package avro.ipc.stats also has a similar diversity score of 683and like avr.ipc.trace has only two developers thus its betweenness value is .
in this example maf is able to discriminate between many interesting cases that other metrics fail to capure.
daf diversity commits bug fixes bugs douglass .
.
thiruvalluvan .
.
philip .
.
table iii daf scores reflect developer role in the avro project.
daf from the contribution network we can see at a glance that thiruvalluvan probably has the greatest focus.
most of his commits are focused in two packages whereas both douglas andphilip do not appear to have any packages that dominate their contribution patterns.
this distinction is important clearly douglass dominates the avro package and one can view the package as receiving focused contributions however it does not dominate douglas contributions to the system.
even though it is the package that douglas has contributed to the most it has received at most approximately twice the contributions of the next smaller package and there are at least three or four such packages.
compare with thiruvalluvan who s largest contribution accounts for about half of his total contributions to the system.
in this instance developer diversity author entropy captures this difference nicely ranking thiruvalluvan as the most focused developer anddouglas as the least focused see table iii .
consider again packages avro.file and avro.
specific which have identical betweenness values and drastically different diversity values the maf values are both fairly low at and0 respectively.
the skewed contribution from douglas yields the low diversity score indicating high focused attention but the contribution from douglas does not represent a disproportionate focus from his perspective.
it cannot be argued that douglas is focused on this package his efforts are spread out fairly evenly over a number of packages.
so maf anddaf measures capture focus from both the perspective of the developer and the module.
a focused package is one that receives a lot of attention from few developers who devote most of their attention to that package.
interestingly the two packages with the highest focused activity scores are avro.io.parsing andavro.io .
both of these packages are dominated by thiruvalluvan .
by simply looking at the web we might conclude that thiruvalluvan is something of an i o specialist that douglas is the project maf ownership diversity btw dne bugs maf .
.
.
.
.
.
btw .
.
.
.
.
.
dne .
.
.
.
.
.
table iv spearman rank correlation of network measures and maf .
btw betweeness dne dnemaxbetweenness fig.
daf on left exhibits greater mean and variance across all projects than maf on right .
leader and that both he and phillip exhibit broader less focused attention.
both the maf anddaf scores which are mostly low with the exception of thiruvalluvan and his focus on i o support this hypothesis.
vi.
r esults and discussion we show in fig.
the distribution of daf left andmaf over all projects where the modules are files.
while daf exhibits distinct means and variances for different projects there is no apparent correlation with project size viz.
table i .
the meanmaf scores are much lower approximately with respect to files.
unlike daf however the distributions are similar across projects.
this is to be expected as developers touch more files than files are touched by developers due to the asymmetry in the contribution network.
for the research questions below we used negative binomial regression nbr to model count data against parameters of interest.
nbr is a generalized linear model used to model non negative integer responses.
it is an appropriate technique to use here as it can handle over dispersion e.g.
cases where the variance is greater than the mean in the response .
our focus is on understanding the mean within project behavior consequently we view each project as a random effect in a pooled model incorporating it as a grouping factor.
the project factor is used to capture the between project variance in the response.
in all cases we log transformed independent count variables to stabilize the variance and improve the model fit .
rq1 overall and top contributor attention focus as we saw with the avro project it s often the case in oss that there is a dominant project contributor.
we might expect that project leaders exhibit lower attention focus if they contribute a significant proportion of the project s code.
as a developer s contribution increases it becomes increasingly difficult to contribute a greater proportion of code than expected to the many files currently touched.
the dominant contributor daf for each project is listed in table v. in each case the focus scores of the dominant contributors are below the mean.
to determine the level of contribution by focused devs we regressed the number of commits against the number of files touched and the developers daf score.
a manual examination of the data revealed that the top of contributors touch significantly more files than the remaining developersdraft!ivy avro wicket shindig lucene cassandra cxf daf .
.
.
.
.
.
.
daf .
.
.
.
.
.
.
table v project leaders are less focused than average.
necessating the inclusion of files in the regression model.
we can see from the model in table vi that the daf coefficient is only significant at a level after controlling for the number of files touched.
estimate std.
error z value pr jzj intercept .
.
.
.
log files .
.
.
2e daf .
.
.
.
table vi developers with high daf contribute less code.
so while focused developers do contribute to fewer files even while controlling for this factor viz.holding it constant they do not contribute as much code as more broadly focused developers.
result project leaders and top contributors tend to exhibit lower attention focus than others.
the effect of attention focus on contribution by the top contributors is significant at the level after controlling for the number of files changed.
rq2 do narrowly focused developers create fewer defects?
to answer this question we regressed the file contribution pattern of each developer against the number of defects introduced by that developer.
we are interestd in the degree to which focused attention could explain their contribution of defects to the software over its lifetime.
for this experiment we evaluated the entire contribution network for each project obtaining a mean attention focus score for each developer over the life of the project.
we modeled the total number of induced defects attributed to each developer against the daf scores wrt files.
we limited the number of size based control variables which are strongly inter correlated to avoid a high variance inflation factor vif .
we included the number of files to control for the spread of developer focus simply based on the number of artifacts changed.
similarly we include the number of commits to control for the positive relationship between the number of changes made and the number of defects.
estimate std.
error z value pr jzj intercept .
.
.
.
log commits .
.
.
.
log files .
.
.
2e daf .
.
.
.
table vii developers with high daf produce fewer bugs.
as can be seen from the model details in table vii after controlling for the number of files as well as the number of changes daf has a negative effect on the number of defects induced by a developer i.e.
the more narrowly focused thedeveloper the fewer defects that will be introduced.
our results at the package level were quite similar which suggests that this relationship is robust to ecological inference risk .
result narrowly focused developers introduce fewer defects at both the file and package level.
rq3 do files that exhibit narrowly focused activity have fewer defects?
it follows that if developers with narrow focus introduce fewer defects then we might find that files that are the center of narrow activity focus i.e.that have a lowmaf would have fewer defects.
we considered this question by regressing maf and other file properties against the number of defects induced in each file.
here we control for file size the number of commits and the number of developers.
the details of the model are shown in table viii.
surprisingly the direction of the coefficient is positive i.e.increasing focused activity has a negative impact on software quality while holding other factors constant.
we included ownership in the model to test whether this simple measure was able to capture a similar relationship with defects.
we placed both ownership metrics in the model last so that any collinearity with other variables would attribute the shared variance to the control.
both the ownership and maf coefficients were stable in either order however ownership had high collinearity with the number of commits whereas maf did not.
we find that maf accounts for four times the explained deviance of ownership in this model.
when considered in concert with our rq2 this suggests that while it is important for a developer to focus his efforts to avoid excessive unfocused contribution it is also important for files to receive some general attention.
we also note that increased ownership is negatively correlated with defects which is in agreement with previous results however is not significant at the level.
there could be several factors driving this result.
files with highmaf may be more complex and are consequently naturally more defect prone.
it may also simply be the case that if attention is too focused in a file then this indicates that greater diversity is necessary in order that defects are found.
result increased file activity focus results in a greater number of defects.
estimate std.
error z value pr jzj intercept .
.
.
2e log commits .
.
.
2e log devs .
.
.
.
log loc .
.
.
2e ownership .
.
.
.
maf .
.
.
.
table viii negative binomial model detail for for the affect of maf and ownership against defects in files.
the model includes controls for the number of developers the number of commits and the lines of code.
maf is significant after controlling for the number of changes and is positively associated with the number of defects in files.draft!vii.
c onclusion the focus measures we introduced have roots in ecology but are very well suited for analysis of focus and focus change in a symmetrical setting between developers and artifacts both globaly and localy.
in addition focus used in modeling allows for easy interpretation of results.
e.g.
the effect of focus on defect introduction is particularly clear when developer focus is higher fewer defects introduced.
with files the effect of their focus on defects is clearly not strong.
this is a welcome side effect of the artifact developers symmetry of this measure it allows for deconvolving the joint effects into separate contributions of the artifact and the developers so they can be considered and reasoned about individually while still considering their interaction within the contribution network.
threats to validity we recognize a few threats.
complex files are more defective it would be revealing to study the relationship between code complexity and focus.
however since file complexity is typically correlated with code size and our models do take size into account the effects of file complexity on our results is likely small.
since our measures are based on information theory they inherit the associated benefits and challenges.
in particular information theoretic measures are well known to necessitate substantial amounts of data to yield appropriate results.
neither metric is suitable when either side of the network is a singleton in which case the metrics are undefined.
however in this case simple diversity paints a complete picture of focus.
finally our focus measures can be useful in practice as an assessment tool as defocus with time is correlated with defects introduced.
sound coding practices could incorporate these measures.