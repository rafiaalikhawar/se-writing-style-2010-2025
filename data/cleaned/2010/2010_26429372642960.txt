constructing adaptive configuration dialogs using crowd data saeideh hamidi school of information technology y ork university toronto canada hamidi yorku.caperiklis andritsos faculty of business and economics university of lausanne lausanne switzerland periklis.andritsos unil.chsotirios liaskos school of information technology y ork university toronto canada liaskos yorku.ca abstract as modern software systems grow in size and complexity so do their con guration possibilities.
users are easy to be confused and overwhelmed by the amount of choices they need to make in order to t their systems to their exact needs.
we propose a method to construct adaptive con guration elicitation dialogs through utilizing crowd wisdom.
a set of con guration preferences in the form of association rules is rst mined from a crowd con guration data set.
possible con guration elicitation dialogs are then modeled through a markov decision process mdp .
association rules are used to inform the model about con guration decisions that can be automatically inferred from knowledge already elicited earlier in the dialog.
this way an mdp solver can search for elicitation strategies which maximize the expected amount of automated decisions reducing thereby elicitation e ort and increasing user con dence of the result.
the method is applied to the privacy con guration of facebook.
categories and subject descriptors d. .
distribution maintenance and enhancement customization and con guration h. .
types of systems decision support general terms management keywords software customization crowdsourcing markov decision processes association rules mining facebook .
introduction modern software systems exhibit functionalities in amounts and complexities that have never been seen before.
as systems mature and new challenges and opportunities emerge permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page.
copyrights for components of this work owned by others than acm must be honored.
abstracting with credit is permitted.
to copy otherwise or republish to post on servers or to redistribute to lists requires prior specific permission and or a fee.
request permissions from permissions acm.org.
ase september vasteras sweden.
copyright acm ... .
.
features are developed and added to an already large and complex set of existing ones.
users interested to fully exploit the power of their software are invited to choose the functions they need and con gure them in a way that perfectly aligns with their goals preferences and capabilities .
but as the amount and complexity of functions grows so does the space of con guration possibilities.
thus when attempting to t the functionality of their systems to their unique needs users especially novice ones have to deal with an increasingly mystifying and overwhelming task.
in this paper we propose a way to reduce con guration e ort for users by building adaptive con guration dialogs via utilizing con guration preferences of a crowd.
the method is based on combining association rule mining with markov decision processes mdp .
rules that describe combinations of con gurations that frequently coincide are rst mined from the crowd con guration data.
then an mdp model is constructed in which states correspond to the state of our knowledge of the preferred con guration and actions are con guration questions posed to the users in order to learn their preferred option for a given variable.
user response to the action naturally triggers transition from a less informed to a more informed state but the association rules help us multiply the amount of knowledge we gain with each answer e ectively skipping unnecessary questions.
by solving the mdp through rewarding shorter paths towards more conguration knowledge we are able to minimize the length of the sequence of questions that are required for a user to have a complete con guration.
we apply our technique on data collected from the popular social networking system facebook where we show that con guration e ort is substantially reduced on average.
moreover in performance experimentation we show that the solver can handle a useful size of con guration spaces within practical computation time.
our contributions include a a systematic way of developing adaptive con guration elicitation dialogs b minimal on average length of such dialogs and c a model based on evidence from existing con gurations potentially from expert users.
the paper is organized as follows.
in section we present an overview of the problem.
in section we discuss the mining of crowd con guration preferences and in section we o er the details of our solution.
we describe our evaluation in section we survey related work in section and we conclude in section .
.
motivation and basic assumptions con guring modern software systems is a process of assigning values to a number of parameters that the designers of the software system avail to users within various con guration facilities such as options and preference screens or con guration les.
in more abstract terms a con guration problem consists of a set vof con guration variablesvi each drawing values oi j options from a setovi.
consider a very simple con guration problem from a hypothetical email client program.
among its many con guration variables e.g.
whether to use html what connection security to apply whether to include a signature in each email etc.
assume that our email program allows the user to also adjust font size icon size for buttons such as new e mail and reply and whether to also display text under the icons.
we denote these variables as vfnt vicoandvdisp respectively.
the user can adjust the variables to take values from the sets flarge medium smallg flarge icon small icong andfyes nog respectively.
thus using our above formalization the domain of each variable is as follows ovfnt fofnt lg ofnt med ofnt smg ovico foico lgi oico smig ovdisp fodisp yes odisp nog note that although we assume discrete and nite domains for the variables continuous variables that often occur in con guration problems can be appropriately discretized to t our framework by de ning intervals and representative values therein.
acon guration decision is the human non automated act of thinking and deciding what option is more suitable or preferred for a particular variable.
in our case in order to completely solve the con guration problem our email client user would need to make three con guration decisions thinking and deciding about each variable separately.
nevertheless we may also have some crowd con guration preferences in form or rules available to us.
such rules would tell us that if the user decides to adjust some of her con guration variables in a speci c way then she also wants to adjust some other con guration variables in another way.
the general form of an association rule is vl1 ol1 vl2 ol2 !
vr1 or1 vr2 or2 wherevliandvriare respectively variables on the lefthand and right hand side of the rule and oli andori are arbitrary values drawn from the corresponding domains.
back to our email client example we may be aware that if a user prefers to have large font size she also likes to have large icon size.
furthermore we know that if she likes large icon size then she also prefers text to not be displayed under the icon apparently to save space.
here is how we can write those rules more formally vfnt ofnt lg !
vico oico lgi vico oico lgi !
vdisp odisp no notice now how this knowledge whenever available can help us reduce con guration e ort.
recall that in order to have the complete set con gured the user would normally need to make three separate decisions.
however if we assume presence of the association rules we know that some choices in some variables help us infer choices in other variables saving us from making the corresponding con guration decisions.
given this it is easy to see that there are more e cient and less e cient orderings by which thecon guration decisions can be made.
given the above two con guration rules if the user decides about text display rst then icon size and nally font size she will always have to make three decisions.
if on the contrary she starts by deciding what font size she wants then depending on her decision on that there is a chance that the other two decisions need not be made but are taken care of by the rules.
more generally given a set of con guration variables to be decided upon and a set of crowd preference rules among them what is the optimal sequence in which potential decisions can be ordered so that the smallest number of con guration decisions is eventually made on average?
knowing how to compute such a sequence of decisions could be useful for constructing adaptive con guration dialogs in which users are directed towards making more in uential decisions rst allowing thereby a larger subset of variables to be congured automatically without the need for a human decision.
such adaptive con guration dialogs can be used when the entire con guration of some aspect of the system needs to be addressed e.g.
during installation time.
in the rest of the paper we describe a system that makes this possible.
.
mining crowd configuration preferences crowd con guration preferences in our technique come in the form of association rules which are mined from a data set with con gurations of other users.
association rules are expressed in the form x !y c s where x andyare sets of items that often appear together.
the rule states when xoccur yoccur with certain probabilityc which is referred to as con dence and is used as a measure of signi cance of the rule.
the level of supports is another signi cance measure and denotes the fraction of instances that have both x and y. well studied techniques for mining association rules exist .
at the heart of the mining process is the calculation of the conditional probabilityp yjx which is performed by simply counting how many of the instances that contain x also contain y. in the context of con guration an association rule captures the fact that if a user selects a particular combination of options for a group of variables she is likely to also select a certain con guration of options for a di erent group of variables.
this knowledge comes from a data set of congurations of individual users which we will call the crowd data set .
in many systems such as on line social networking or web based email systems such data sets are readily available to e.g.
administrators and owners.
in our case to ensure the validity of the rules we assume that the crowd data set comes from a group of expert users.
then when a new and novice user makes use of the association rule x !y she is actually using the lefthand side of the rule to identify with a subgroup of experts whose preference with respect to xmatch.
then she can use the right hand side yas expert advice for con guring the corresponding variables.
e ectively the result is a recommender system based on association rules.
although there are di erent technologies on which a recommender system can be based association rules have been shown to be e ective and in our case allow for interactive on they elicitation of the similarity criterion.
to construct such interactions we make use of mdps as we describe below.
.
finding optimal decision sequences .
markov decision processes markov decision processes mdp is a mathematical framework for modeling and solving sequential decision making and optimization problems under uncertainty .
in mdps the decision making problem is described by a nite or innite set of states s2s.
each state is a description of the system at a particular stage and holds all the necessary information to predict the next state.
the information can be described through a set of variables each combination of values of whom uniquely describes each state.
at any state the decision making agent chooses an action from a set of actions a. performance of an action has various possible outcomes each with a di erent probability.
such non deterministic e ects are described by a probability distribution for each action p ijis de ned for every pair of statessiandsjas the probability of reaching state sifrom sjby taking action .
thus each action comes with a transition matrix containingp ijin its cells.
furthermore in mdps each state has a value and each action comes at a cost.
functions for rewardr s s7!
rand costc a7!rare used to state the immediate reward of reaching the new state and the costs associated with taking the action respectively.
a reward matrix can be used to represent r and a table can be used to assign a cost to each action.
the overall utility of the transition is the reward obtained by attaining the transition minus the cost incurred by performing the action.
the core problem of mdps is to nd the course of action called optimal policy that maximizes the cumulative expected utility of each state.
the latter is roughly the result of progressively tallying up the product of probability and utility while traversing each sequence of actions and calculating potential transitions actuated thereby.
optimal means that there is no other policy that can give the agent a larger expected cumulative utility.
mdp solvers are tools that allow calculation of optimal policies given a complete mdp formulation.
mdp solvers adopt various algorithms primarily value iteration vi and policy iteration pi details on those algorithms are beyond our scope and can be found in .
.
building the mdp we now present the details of modeling our problem as an mdp focusing on each of the elements discussed above.
variables.
in our translation each variable represents thestate of our knowledge of what option the user wants for a particular con guration variable.
recall that a con guration problem is a set of con guration variables vi2veach drawing options oi jfrom a setovi.
the mdp variables are exactly the same set vand each variable vihas the same domainovibut with one important di erence to each domain oi containing options oi oi we add an extra option oi .
this additional option which we call the unknown value denotes that we actually don t know what option the user prefers for the con guration variable.
actions.
each action represents a prompt to the user to make a con guration decision i.e.
a question.
this question is associated with a con guration variable we are interested in we ask the user what option she prefers for that vari able.
we denote that action as vi?
whereviis the variable in question.
in her answer the user will respond with an option for that variable.
in mdp terms asking the user a question and obtaining an answer is an action which causes the system to transition from one state to another state changing the value of the corresponding variable from oi the unknown value to some other value based on the user response.
rewards and costs.
each action i.e.
asking a question comes with one unit of cost.
this cost is a direct representation of the e ort it takes for a human to think about the question and make a con guration decision.
each transition on the other hand comes with as many units of reward as the number of variables whose preferred option becomes known.
we describe below how this is calculated.
transition matrices.
recall now that the transition matrix for each action vi?
is ann ntable where nis the number of all possible option combinations of variables vi i.e.
all possible mdp states.
each cell represents the probability of transitioning from one state to the other as an outcome of performance of vi?.
in our case the numbers are taken from the crowd data set.
we particularly measure the frequency at which a certain answer occurs given if applicable all previous answers from the user.
subsequently in order to take advantage of the association rules and nd decision sequences with better utility we manipulate the transition table as follows.
firstly let us consider the association rules.
of all the rules that we may have discovered during the mining phase we lter those that exceed certain high con dence cand supportsthreshold.
then we perform a preprocessing step in which we merge rules that have identical left hand side.
the subsequent steps are best described though reference to a directed graph.
the set of nodes of the graph is the set of all possible con gurations of v thus each node is an mdp state.
edges represent mdp transitions.
initially we add only edges to the graph that are one step transitions i.e.
transitions from states in which n variables are known to states in which nvariables are known.
each edge from state sto states0is labeled with a reward value of a cost value of the probability calculated as above and the action it corresponds to.
subsequently we update the edges based on association rules as follows.
for each association rule we nd all pairs of statessands0such that a the left hand side of the rule satis es both sands0 b each variable of the right hand side of the rule appears b i with all values exactly the same as in the rule in s0and b ii with all values set to unknown ins c all other variables not mentioned in the rule are set to the same values for both sands0.
for each such pair we take all edges that are targeting sand we move them so that they now target s0.
moreover we increase the reward of each of those edges by the di erence in the number of unknown variables between sands0.
intuitively the rule causessto become inaccessible whenever a user response leads tos thanks to the information in the rule we can actually shortcut to s0 ignorings.
while the cost is the same reward increases by the number of unknowns that we discover by taking the shortcut.
the resulting graph is ready to be transformed into transition and reward matrices.
these are constructed initially to be zero matrices.
then for each edge labeled with the action at hand we set to the corresponding cell the prob487ability or the reward label of the edge for transition and reward matrices respectively.
the complete algorithm can be seen in figure .
figure mdp construction algorithm solving the mdp.
having constructed the mdp model an mdp solver can be used to calculate the optimal policy.
such policy associates each state of knowing of the so far acquired or inferred con guration values with an action that represents the next con guration question to be asked.
an adaptive con guration dialog can thus directly incorporate the resulting policy in order to decide what the next con guration question should be based on previous answers it has received from the user.
.
evaluation in order to evaluate our technique we performed two studies.
the rst one is aimed at evaluating the applicability of the method in a real world system and assessing the de gree by which the approach really saves con guration e ort.
the second study aims at understanding the size of con guration domains our approach can pragmatically cope with.
we present these two studies in the following subsections.
.
case study facebook .
.
goals and method we applied our technique to the privacy con guration of facebook.
facebook1is one of the most popular social networking systems today with more than .
billion active users april .
in facebook like in other social media a user can avail in her personal pro le area a variety of material photos text information etc.
to be viewed and commented upon by other users who have been given access to them.
given that the personal material on facebook is often of sensitive nature how each user can control the access levels of others to her data is crucial.
the system o ers a set of con guration variables that the users can con gure in order to meet their privacy needs.
these variables are con gured using the traditional approach a set of default options is set upon creation of a new account and users can adjust them by going through a set of con guration screens where the variables are presented together with possible options the latter displayed in form of listboxes or other menus.
in our study we isolate a set of nine facebook con guration variables.
as of april facebook con guration screens change frequently the con guration items for this study were located under the following three sections general privacy timeline tagging and friend list related.
the domain of settings i.e.
the set of possible values for theses con gurations vary from static options to customized dynamic lists.
we acquire a data set containing the con gurations of these variables as they have been set by forty ve users.
the users are undergraduate students of the school of information technology york university attending the last author s class on human computer interaction the users are given bonus marks for participation.
to collect the data the users simply take screenshots of the con guration screens that contain the variables in question with their present con guration and send them over to the researchers after erasing any personal information that may exist in those screenshots.
the result is a data set amenable to association rule mining and complete application of our framework.
.
.
results the questions we aim at answering in this study are a do any association rules of substantial signi cance emerge?
b how much con guration e ort on average does our technique save?
c what is the average accuracy of the automated inference that our technique implies?
with regards to question a we mined the association rules in our data using weka2.
we used di erent thresholds for signi cance as well as support.
by setting signi cance threshold to and support to we acquire association rules.
if we set maximum signi cance then weka outputs as many as association rules.
if we increase the support level to we can still retrieve 488rules.
the above means that association rules exist to a signi cant extend in our data set.
with respect to con guration e ort question b above if each of the users had followed our technique to con gure their system they would have taken on average .
steps max min compared to that it takes to con gure without assistance.
this means that at least two con guration options on average .
would be decided automatically.
although in general e ort savings is bound to depend on the amount and quality of correlations within the data set we nd that our result constitutes good evidence of the practicality of our technique.
in terms of evaluation question c i.e.
the accuracy of con guration predictions we conducted the experiment with con dence and support thresholds and respectively.
the fold cross validation shows a precision of in the recommended items calculated as explained above.
the fact that this precision score is away from values such as or lower tells us that the con guration agent performs sensible decisions based on the data and not e.g.
randomly arbitrarily.
this o ers us some con dence of the sanity of the approach.
.
performance in the second study we investigate how the performance of the mdp solver varies as the number of con guration items and hence state space increases.
in the absence of an actual con guration data set of su cient size for our performance experiments and without visible loss of generalizability we chose to use a publicly available benchmark data set for association rules.
thus we used uci kdd s archived mushrooms dataset3 which has been shown to generate long patterns with high con dence.
in its full size the mushrooms dataset is a multivariate dataset that contains instances with categorical attributes and domain size ranging from to categorical values.
in the context of software con guration we use this data set as if it were a complete con guration data set we assume each attribute to be one con guration variable and each value a con guration option.
consecutively each instance hypothetically stands for the con guration values chosen by a user.
the mdp solver we chose is the markov decision processes mdp toolbox o ered by mathworks inc4.
we run the mdp toolbox in matlab r2012b.
the input to the mdp solver is sparse matrices that are generated by our java program and are based on the extracted association rules from weka.
the experiment was conducted on a core tm i5 cpu m450 .
ghz with .
gb ram under windows .
to test the performance of the mdp solver for various numbers of con guration items we randomly choose a subset of varying numbers of attributes in the dataset.
for each subset of attributes we extract the top wrt.
support association rules with con dence support was ranging from to .
in figure the time to solve the policy is given with respect to the number of states expressed as the number of equivalent binary con guration variables.
specifically nbinary variables generate a space of 3nstates and as such ifmare the states the equivalent binary variables arelog3 m .
note that the base is instead of because we add one more value the unknown value in the domain.
leexchange markov decision processes mdp toolbox figure mdp performance vs. problem size .
related work the problem of con guring existing systems has been studied from a variety of angles.
wendy e. mackay o ers one of the earliest and most in uential empirical studies on the problem from a human computer interaction viewpoint .
among other things she nds that one of the factors that actually trigger customization e ort is observing other users achieving it.
in the internet era years later this seems to support a vision for crowdsourcing con guration.
for example a technique for allowing users help each other in performing complex computer tasks based on capturing interactions and uploading them to a repository for reuse by non expert users has been proposed .
our proposal differs in many regards including increased automation and probabilistic reasoning.
viewing software customization as a requirements problem has also been attempted.
use of goal models has been proposed to connect high level user goals with lowlevel software con gurations .
elsewhere declarative approaches to con guration have been put forth where preference speci cation replaces the manipulation of con guration variables.
nevertheless for these approaches to be applicable both the goal models and their mapping to software variability must be pre established by experts.
in the area of recommender systems rs conversing approaches for eliciting user preference and utility have been proposed.
boutilier et al.
explore di erent interactive elicitation strategies for optimally applying the minimax regret criterion to elicit utility in a con guration problem .
similarly stolze and str obel present a technique for nding the optimal question and answer path towards recommending a product .
as opposed to ours both approaches are based on utility estimation the latter also focusing on commodity selection rather than con guration.
e cient decision making for con guration is also relevant in software product line spl engineering where a set of variation points needs to be managed and bound to derive individual spl members .
in decisionking for example hierarchies of questions are de ned and integrated with asset models to facilitate product derivation.
feature models are often the basis for interactive con guration based on automated reasoning tools such as constraint or sat solvers.
ways to optimize the order of the variability 489binding process based on measures of selectivity of features have also been proposed .
our technique di ers from those in that a we use crowd data to infer constraints b we use probabilities to predict likely answers to questions.
work that uses probability from crowd data has been proposed but for purposes di erent to ours e.g.
to detect miscon gurations over an observed con guration and a set of suspected sick ones an important di erence from our case is that we do not have prior classi cations of con gurations.
.
concluding remarks as modern software systems increase in size and complexity the process of con guring them becomes more cumbersome and di cult to organize.
we presented a method for designing adaptive software con guration dialogues through utilizing con gurations from a crowd of existing users.
association rule mining is used to identify con guration patterns which are then used to inform the construction of an mdp model so that the latter computes optimal policies to be used for designing the elicitation dialogs.
our contributions include that a we address the problem of systematically designing adaptive con guration elicitation dialogs b we minimize the average dialogue length and c we utilize crowd wisdom for model construction.
the main item in our future research agenda is to address the scalability limit of the current approach.
firstly we plan to study ways to encode the con guration problem so that the current technique is applicable to larger variable sets.
one possibility is to break large con guration problems into smaller ones based on con guration aspects i.e.
subsets of con guration variables that are conceptually coherent.
the privacy con gurations of facebook which are of an applicable size o er a good example of such an aspect.
other possibilities include merging variables and making domains coarser.
secondly we plan to investigate ways to depart from mdps and either introduce simpli cations that are less computationally hard or use formalizations for which more e cient solvers exist.
for example by formalizing the problem as a boolean satis ability one would allow utilization of today s very e cient sat solvers.
while outputs of such approaches would likely disregard the probabilistic aspect and would probably be insensitive to user answers they may turn out to o er a good enough solution for larger problems.
.